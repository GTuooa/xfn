(window.webpackJsonp=window.webpackJsonp||[]).push([[102],{1211:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.changeAssTypeName=t.changeAssTypeConfirmModalVisible=t.changeAssConfigNewName=t.changeAssConfigOldName=t.changeAssConfigShowType=t.reversAssFetch=t.showReversConfirmModal=t.changeReversNewAssId=t.checkReversAssIdFetch=t.changeReversAssCategory=t.changeAssDisableState=t.hideAllAssCheckBox=t.showAllAssCheckBox=t.beforeInsertAss=t.beforeModifyAss=t.changeTabIndexAcAssconfig=t.changeTabIndexAssConfig=t.changeAssCategory=t.changeAssName=t.changeAssId=t.setAssrelateAMB=t.getAssrelateAMB=t.getAssGetAMB=void 0;var a,c=n(13),l=u(n(1226)),s=n(24),r=(a=s)&&a.__esModule?a:{default:a},o=u(n(10)),i=u(n(25));function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}t.getAssGetAMB=function(){return function(e){o.toast.loading(i.LOADING_TIP_TEXT,0),(0,r.default)("assgetAMB","GET","",function(t){(0,c.showMessage)(t)&&(o.toast.hide(),e({type:l.AFTER_ASSGETAMB_GET,receivedData:t.data}))})}},t.getAssrelateAMB=function(e,t){return function(n){o.Confirm({message:"确定开通辅助核算类别["+e.get(0)+"]为默认阿米巴？",title:"提示",buttonLabels:["取消","确定"],onSuccess:function(n){1===n.buttonIndex&&(o.toast.loading(i.LOADING_TIP_TEXT,0),(0,r.default)("assrelateAMB","POST",JSON.stringify({assCategoryList:e}),function(e){(0,c.showMessage)(e,"show")&&t.goBack()}))},onFail:function(e){return alert(e)}})}},t.setAssrelateAMB=function(e){return{type:l.SET_ASSRELATE_AMB,asscategory:e}},t.changeAssId=function(e){return{type:l.CHANGE_ASS_ID,assid:e}},t.changeAssName=function(e){return{type:l.CHANGE_ASS_NAME,assname:e}},t.changeAssCategory=function(e){return{type:l.CHANGE_ASS_CATEGORY,asscategory:e}},t.changeTabIndexAssConfig=function(e){return{type:l.CHANGE_TAB_INDEX_ASSCONFIG,idx:e}},t.changeTabIndexAcAssconfig=function(e){return{type:l.CHANGE_TAB_INDEX_AC_ASSCONFIG,idx:e}},t.beforeModifyAss=function(e,t){return{type:l.BEFORE_MODIFY_ASS,ass:e,idx:t}},t.beforeInsertAss=function(e){return{type:l.BEFORE_INSERT_ASS,tab:e}},t.showAllAssCheckBox=function(){return{type:l.SHOW_ALL_ASS_CHECKBOX}},t.hideAllAssCheckBox=function(){return{type:l.HIDE_ALL_ASS_CHECKBOX}},t.changeAssDisableState=function(){return{type:l.CHANGE_ASS_DISABLE_STATE}},t.changeReversAssCategory=function(e){return{type:l.CHANGE_REVERS_ASS_CATEGORY,assCategory:e}},t.checkReversAssIdFetch=function(e,t,n){return function(a){o.toast.loading(i.LOADING_TIP_TEXT,0),(0,r.default)("assCheck","POST",JSON.stringify({assCategory:e,assId:t,assName:n}),function(e){if((0,c.showMessage)(e)){if(o.toast.hide(),!e.data.message.length)return(0,c.showMessage)("","","",t+"不需要使用反悔模式");a({type:l.CHECK_REVERS_ASS_ID_CHECK,assId:t,assName:n,assMessage:e.data.message})}})}},t.changeReversNewAssId=function(e){return{type:l.CHANGE_REVERS_NEW_ASS_ID,newAssId:e}};var d=t.showReversConfirmModal=function(e){return{type:l.SHOW_REVERS_CONFIR_MODAL,bool:e}};t.reversAssFetch=function(e,t){return function(n){o.toast.loading(i.LOADING_TIP_TEXT,0),(0,r.default)("assRegret","POST",JSON.stringify({assCategory:e.get("assCategory"),oldAssId:e.get("oldAssId"),assId:e.get("assId"),assName:e.get("assName")}),function(e){(0,c.showMessage)(e)&&(o.toast.hide(),n(d(!1)),t.goBack())})}},t.changeAssConfigShowType=function(){return function(e){e({type:l.CHANGE_ASS_CONFIG_SHOW_TYPE})}},t.changeAssConfigOldName=function(e){return function(t){t({type:l.SET_ASS_CONFIG_OLD_NAME,value:e})}},t.changeAssConfigNewName=function(e){return function(t){t({type:l.SET_ASS_CONFIG_NEW_NAME,value:e})}},t.changeAssTypeConfirmModalVisible=function(e){return function(t){t({type:l.CHANGE_ASS_TYPE_CHANGE_COMFIRM_MODAL_VISIBLE,visible:e})}},t.changeAssTypeName=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"false";return function(s){o.toast.loading(i.LOADING_TIP_TEXT,0),(0,r.default)("changeAssName","POST",JSON.stringify({oldName:e,newName:t,confirmModifyAnyWay:a}),function(e){(0,c.showMessage)(e)&&(e.data.countMoreThenRestrict?s({type:l.CHANGE_ASS_TYPE_CHANGE_COMFIRM_MODAL_VISIBLE,visible:!0}):(s({type:l.CHANGE_ASS_TYPE_CHANGE_COMFIRM_MODAL_VISIBLE,visible:!1}),s({type:l.CHANGE_ASS_CONFIG_SHOW_TYPE}),s({type:l.SET_ASS_CONFIG_OLD_NAME,value:""}),s({type:l.SET_ASS_CONFIG_NEW_NAME,value:""}),o.toast.hide(),s(d(!1)),n.goBack()))})}}},1226:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.INIT_ASSCONFIG="INIT_ASSCONFIG",t.CHANGE_TAB_INDEX_ASSCONFIG="CHANGE_TAB_INDEX_ASSCONFIG",t.CHANGE_TAB_INDEX_AC_ASSCONFIG="CHANGE_TAB_INDEX_AC_ASSCONFIG",t.CHANGE_ASS_ID="CHANGE_ASS_ID",t.CHANGE_ASS_NAME="CHANGE_ASS_NAME",t.CHANGE_ASS_CATEGORY="CHANGE_ASS_CATEGORY",t.BEFORE_MODIFY_ASS="BEFORE_MODIFY_ASS",t.BEFORE_INSERT_ASS="BEFORE_INSERT_ASS",t.MODIFY_ASS_FETCH="MODIFY_ASS_FETCH",t.INSERT_ASS_FETCH="INSERT_ASS_FETCH",t.SHOW_ALL_ASS_CHECKBOX="SHOW_ALL_ASS_CHECKBOX",t.HIDE_ALL_ASS_CHECKBOX="HIDE_ALL_ASS_CHECKBOX",t.AFTER_ASSGETAMB_GET="AFTER_ASSGETAMB_GET",t.SET_ASSRELATE_AMB="SET_ASSRELATE_AMB",t.CHANGE_ASS_DISABLE_STATE="CHANGE_ASS_DISABLE_STATE",t.CHANGE_REVERS_ASS_CATEGORY="CHANGE_REVERS_ASS_CATEGORY",t.CHECK_REVERS_ASS_ID_CHECK="CHECK_REVERS_ASS_ID_CHECK",t.CHANGE_REVERS_NEW_ASS_ID="CHANGE_REVERS_NEW_ASS_ID",t.SHOW_REVERS_CONFIR_MODAL="SHOW_REVERS_CONFIR_MODAL",t.CHANGE_ASS_CONFIG_SHOW_TYPE="CHANGE_ASS_CONFIG_SHOW_TYPE",t.SET_ASS_CONFIG_OLD_NAME="SET_ASS_CONFIG_OLD_NAME",t.SET_ASS_CONFIG_NEW_NAME="SET_ASS_CONFIG_NEW_NAME",t.CHANGE_ASS_TYPE_CHANGE_COMFIRM_MODAL_VISIBLE="CHANGE_ASS_TYPE_CHANGE_COMFIRM_MODAL_VISIBLE"},1244:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unselectAssAll=t.selectAssAll=t.selectAss=t.insertAss=t.modifyAss=t.enterAssFetch=t.deleteAssFetch=t.modifyRelatedAclistFetch=t.getAssListUnderFetch=t.getAssListFetch=void 0;var a,c=f(n(81)),l=n(24),s=(a=l)&&a.__esModule?a:{default:a},r=n(13),o=n(9),i=f(n(10)),u=f(n(1211)),d=f(n(25));function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var g=t.getAssListFetch=function(){return function(e){i.toast.loading(d.LOADING_TIP_TEXT,0),(0,s.default)("getacasslist","GET","",function(t){(0,r.showMessage)(t)&&(i.toast.hide(),e({type:c.GET_AC_ASS_LIST_FETCH,receivedData:t.data}))})}},m=(t.getAssListUnderFetch=function(){return function(e){(0,s.default)("getacasslist","GET","",function(t){(0,r.showMessage)(t)&&e({type:c.GET_AC_ASS_LIST_FETCH,receivedData:t.data})})}},t.modifyRelatedAclistFetch=function(e){return function(t,n){var a=n(),c=a.assconfigState,l=a.allState,o=c.get("tabSelectedIndex"),u=l.get("assTags").get(o),f=l.get("aclist").toSeq().filter(function(e){return e.get("selected")}).map(function(e){return e.get("acid")});i.toast.loading(d.LOADING_TIP_TEXT,0),(0,s.default)("relateass","POST",JSON.stringify({asscategory:u,acidlist:f}),function(n){(0,r.showMessage)(n,"show")&&(t(g()),(0,r.showError)(n),e.goBack())})}},t.deleteAssFetch=function(){return function(e,t){i.Confirm({message:"确定删除？",title:"提示",buttonLabels:["取消","确定"],onSuccess:function(n){if(1===n.buttonIndex){var a=t(),c=a.assconfigState,l=a.allState,f=c.get("tabSelectedIndex"),m=l.get("assTags").get(f),p=l.get("acasslist").toSeq().reduce(function(e,t){return e.concat(t.get("asslist"))},(0,o.fromJS)([])).filter(function(e){return e.get("selected")}).map(function(e){return e.get("assid")});i.toast.loading(d.LOADING_TIP_TEXT,0),(0,s.default)("deleteass","POST",JSON.stringify({asscategory:m,assidlist:p}),function(t){(0,r.showMessage)(t)&&(i.toast.hide(),(0,r.showError)(t),e(g()),e(u.hideAllAssCheckBox()))})}},onFail:function(e){return alert(e)}})}},t.enterAssFetch=function(e){return function(t,n){var a=n().assconfigState,c=n().allState,l=a.get("ass");if(!(l=l.set("asscategory",l.get("asscategory").replace(/(^\s*)|(\s*$)/g,"")).set("assname",l.get("assname").replace(/(^\s*)|(\s*$)/g,""))).get("assid"))return(0,r.showMessage)("","","","辅助核算编码未输入");if(!l.get("asscategory"))return(0,r.showMessage)("","","","辅助核算类别未输入");if(!l.get("assname"))return(0,r.showMessage)("","","","辅助核算名称未输入");if(l.get("assid").length>d.CODE_LENGTH)return(0,r.showMessage)("","","","辅助核算编码位数不超过"+d.CODE_LENGTH+"位");if(r.configCheck.hasChiness(l.get("assname")))return(0,r.showMessage)("","","","名称包含中文及中文标点字符，长度不能超过"+d.AC_CHINESE_NAME_LENGTH+"位；不包含中文及中文标点字符，长度不能超过"+d.AC_NAME_LENGTH+"位");i.toast.loading(d.LOADING_TIP_TEXT,0);var s=l.get("asscategory"),o=c.get("acasslist").filter(function(e){return e.get("asscategory")===s});if(o.size){var u=o.getIn([0,"asslist"]);if("insert"===a.get("assConfigMode"))u.some(function(e){return e.get("assname")===l.get("assname")})?t(m(l,a,e)):t(p(l,a,e));else if("modify"===a.get("assConfigMode")){var f=a.get("modifyIdx");u.getIn([f,"assname"])!==l.get("assname")&&u.some(function(e,t){return e.get("assname")===l.get("assname")&&f!==t})?t(m(l,a,e)):t(p(l,a,e))}}else t(p(l,a,e))}},function(e,t,n){return function(a){i.Confirm({message:"已存在名称相同的核算对象，是否确定保存？",title:"提示",buttonLabels:["取消","保存"],onSuccess:function(c){1===c.buttonIndex&&a(p(e,t,n))}})}}),p=function(e,t,n){return function(a){i.toast.loading(d.LOADING_TIP_TEXT,0),{modify:function(){var c=t.get("assSelectedIndex");(0,s.default)("modifyass","POST",JSON.stringify(e),function(t){(0,r.showMessage)(t,"show")&&(a(A(t,e,c)),n.goBack(),t.data&&t.data.length&&i.Alert(t.data[0]))})},insert:function(){(0,s.default)("insertass","POST",JSON.stringify(e.merge({action:"MANAGER-ASS_SETTING-CUD_ASS"})),function(t){(0,r.showMessage)(t,"show")&&(a(E(t,e)),n.goBack())})}}[t.get("assConfigMode")]()}},A=t.modifyAss=function(e,t,n){return function(a){a({type:c.MODIFY_ASS_FETCH,receivedData:e,ass:t,idx:n})}},E=t.insertAss=function(e,t){return{type:c.INSERT_ASS_FETCH,receivedData:e,ass:t}};t.selectAss=function(e,t){return{type:c.SELECT_ASS,acAssSelectedIndex:e,idx:t}},t.selectAssAll=function(e){return{type:c.SELECT_ASS_ALL,acAssSelectedIndex:e}},t.unselectAssAll=function(e){return{type:c.UNSELECT_ASS_ALL,acAssSelectedIndex:e}}},1489:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCarrayOver=function(e,t,n){t.get("makeOut"),t.get("carryover"),t.get("certified");var a=t.get("received"),c=t.get("receiving"),o=t.get("payed"),i=t.get("paying"),u=t.get("shouldReturn"),d=(t.get("runningType"),t.get("uuid")),f=null;"1"!=a&&"3"!=a||(f=l.default.createElement(s.Button,{key:"c1",disabled:!n,onClick:function(){e(r.cxAccountActions.getCxlsSingle(d,"CX_HSGL","SFGL","付款金额")),t.get("beOpened")&&e(r.cxAccountActions.getSfglCategoryList(t.get("assType"),d))}},"退"));"1"!=u&&"3"!=u||(f=l.default.createElement(s.Button,{key:"f1",disabled:!n,onClick:function(){e(r.cxAccountActions.getCxlsSingle(d,"CX_HSGL","SFGL","付款金额")),t.get("beOpened")&&e(r.cxAccountActions.getSfglCategoryList(t.get("assType"),d))}},"退"));"1"!=o&&"3"!=o||(f=l.default.createElement(s.Button,{key:"d1",disabled:!n,onClick:function(){e(r.cxAccountActions.getCxlsSingle(d,"CX_HSGL","SFGL","收款金额")),t.get("beOpened")&&e(r.cxAccountActions.getSfglCategoryList(t.get("assType"),d))}},"退"));"1"!=c&&"3"!=c||(f=l.default.createElement(s.Button,{key:"e1",disabled:!n,onClick:function(){e(r.cxAccountActions.getCxlsSingle(d,"CX_HSGL","SFGL","收款金额")),t.get("beOpened")&&e(r.cxAccountActions.getSfglCategoryList(t.get("assType"),d))}},"收"));"1"!=i&&"3"!=i||(f=l.default.createElement(s.Button,{key:"j",disabled:!n,onClick:function(){e(r.cxAccountActions.getCxlsSingle(d,"CX_HSGL","SFGL","付款金额")),t.get("beOpened")&&e(r.cxAccountActions.getSfglCategoryList(t.get("assType"),d))}},"付"));return f};var a,c=n(0),l=(a=c)&&a.__esModule?a:{default:a},s=n(16),r=n(1074)},1587:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAssKmyebDoubleListFetch=t.checkHaveDoubleAssFetch=t.changeAssYebBeginDate=t.changeKmyeAssAcId=t.showAssKmyebChildItiem=t.getAssTreeListFetch=t.getAssKmyebListFetch=t.getPeriodAndAssKmyebListFetch=void 0;var a,c=n(13),l=n(24),s=(a=l)&&a.__esModule?a:{default:a},r=d(n(181)),o=d(n(10)),i=d(n(1588)),u=d(n(25));function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}t.getPeriodAndAssKmyebListFetch=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"全部";return function(i){n||(n=i(r.getDefaultAssCategoryOfAssMxbAndAssYeb()));var d=e?""+e.substr(0,4)+e.substr(5,2):"",m=t?""+t.substr(0,4)+t.substr(5,2):d;o.toast.loading(u.LOADING_TIP_TEXT,0),(0,s.default)("reportassbalance","POST",JSON.stringify({begin:d,end:m,asscategory:n,currentPage:0,pageSize:0,getPeriod:"true",acid:a}),function(a){if((0,c.showMessage)(a)){o.toast.hide();var s=i(r.everyTableGetPeriod(a)),u=e||s,d=t||"",m={data:a.data.pageData};i(f(m,u,d,n,l,"",!1,!0)),i(g(u,d,n))}})}},t.getAssKmyebListFetch=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"客户",a=arguments[3],l=arguments[4],r=arguments[5];return function(o){var i=""+e.substr(0,4)+e.substr(5,2),u=t?""+t.substr(0,4)+t.substr(5,2):i;(0,s.default)("reportassbalance","POST",JSON.stringify({begin:""+e.substr(0,4)+e.substr(5,2),end:u,asscategory:n,currentPage:0,pageSize:0,acid:a}),function(s){return(0,c.showMessage)(s)&&o(f(s,e,t,n,l,a,r))})}};var f=function(e,t,n,a,c,l,s,r){return function(s){s({type:i.GET_ASS_KMYEB_LIST_FETCH,receivedData:e,issuedate:t,endissuedate:n,kmyeAssCategory:a,kmyeAssAcId:c}),r||s(m(t,n,a,c,l||""))}},g=t.getAssTreeListFetch=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"客户";return function(a){var l=""+e.substr(0,4)+e.substr(5,2),r=t?""+t.substr(0,4)+t.substr(5,2):l;(0,s.default)("getAssYebTree","POST",JSON.stringify({begin:l,end:r,asscategory:n}),function(e){(0,c.showMessage)(e)&&a({type:i.GET_ASS_TREE,receivedData:e})})}},m=(t.showAssKmyebChildItiem=function(e){return{type:i.SHOW_ASS_KMYEB_CHILD_ITIEM,idx:e}},t.changeKmyeAssAcId=function(e,t){return{type:i.CHANGE_KMYE_ASS_ACID,key:e,value:t}},t.changeAssYebBeginDate=function(e,t){return{type:i.CHANGE_ASS_YEB_BEGIN_DATE,begin:e,bool:t}},t.checkHaveDoubleAssFetch=function(e,t,n,a,l){return function(r){var u=""+e.substr(0,4)+e.substr(5,2),d=t?""+t.substr(0,4)+t.substr(5,2):u;(0,s.default)("checkHaveDoubleAssFetch","POST",JSON.stringify({begin:u,end:d,asscategory:n,acid:l}),function(s){if((0,c.showMessage)(s)){var u=!!s.data[0].asslist.length;if(u){var d=[],f=s.data[0].asscategory;s.data[0].asslist.forEach(function(e){d.push({key:e.assid+" "+e.assname,value:e.assid})}),d.unshift({key:"全部",value:""}),r({type:i.CHECK_HAVE_DOUBLE_ASS,isDouble:u,doubleAss:d,doubleAssCategory:f}),r({type:i.SET_DOUBLEASS,doubleAss:d}),o.chosen({source:d,onSuccess:function(c){r(p(e,t,n,a,l,c.value,f))},onFail:function(e){}})}}})}}),p=t.getAssKmyebDoubleListFetch=function(e,t,n,a,l,r,o){return function(u){var d=""+e.substr(0,4)+e.substr(5,2),f=t?""+t.substr(0,4)+t.substr(5,2):d;(0,s.default)("assKmyueDoubleList","POST",JSON.stringify({begin:d,end:f,asscategory:n,acid:l||"",assIdTwo:r,assCategoryTwo:r?o:""}),function(l){(0,c.showMessage)(l)&&u({type:i.GET_ASS_KMYEB_LIST_FETCH,receivedData:l,issuedate:e,endissuedate:t,kmyeAssCategory:n,kmyeAssAcId:a,assIdTwo:r})})}}},1588:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.INIT_ASSKMYEB="INIT_ASSKMYEB",t.GET_ASS_KMYEB_LIST_FETCH="GET_ASS_KMYEB_LIST_FETCH",t.GET_ASS_TREE="GET_ASS_TREE",t.SHOW_ASS_KMYEB_CHILD_ITIEM="SHOW_ASS_KMYEB_CHILD_ITIEM",t.CHANGE_KMYE_ASS_ACID="CHANGE_KMYE_ASS_ACID",t.CHANGE_ASS_YEB_BEGIN_DATE="CHANGE_ASS_YEB_BEGIN_DATE",t.CHECK_HAVE_DOUBLE_ASS="CHECK_HAVE_DOUBLE_ASS",t.SET_DOUBLEASS="SET_DOUBLEASS"},1826:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=A(n(0)),s=n(31),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(10)),o=n(1074),i=A(n(1827)),u=A(n(1833)),d=A(n(1834)),f=A(n(1835)),g=A(n(1836)),m=A(n(1837)),p=A(n(1838));function A(e){return e&&e.__esModule?e:{default:e}}n(1843);var E=(0,s.connect)(function(e){return e})(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),c(t,[{key:"componentDidMount",value:function(){r.setTitle({title:"查询流水"}),r.setIcon({showIcon:!1}),r.setRight({show:!1}),"cxls"!==sessionStorage.getItem("ylPage")?sessionStorage.getItem("from-cxls")?sessionStorage.removeItem("from-cxls"):(this.props.dispatch(o.cxAccountActions.getPeriodAndBusinessList()),this.props.dispatch(o.cxAccountActions.getRunningAccount())):sessionStorage.removeItem("ylPage")}},{key:"render",value:function(){var e=this.props,t=e.cxAccountState,n=e.history,a=e.dispatch,c=null;return({CXLS:function(){c=l.default.createElement(i.default,{history:n})},SFGL:function(){c=l.default.createElement(u.default,null)},JZCB:function(){c=l.default.createElement(g.default,null)},KJFP:function(){c=l.default.createElement(d.default,null)},FPRZ:function(){c=l.default.createElement(f.default,null)},JZSY:function(){c=l.default.createElement(m.default,null)},CX_HSGL:function(){var e=t.getIn(["hsgl","categoryList"]),s=t.getIn(["hsgl","activeTab"]);c=l.default.createElement(p.default,{categoryList:e,activeTab:s,dispatch:a,history:n})}}[t.getIn(["views","currentRouter"])]||function(){return null})(),c}}]),t}())||a;t.default=E},1827:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=g(n(0)),s=(n(9),n(31)),r=n(1074),o=(f(n(10)),f(n(25))),i=n(123),u=n(16),d=g(n(1828));function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function g(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}n(1831);var p=(0,s.connect)(function(e){return e})(a=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var c=arguments.length,l=Array(c),s=0;s<c;s++)l[s]=arguments[s];return n=a=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.state={isEdit:!1},m(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),c(t,[{key:"render",value:function(){var e=this,t=this.state.isEdit,n=this.props,a=n.dispatch,c=n.cxAccountState,s=n.history,f=n.homeState,g=f.getIn(["permissionInfo","LrAccount"]),m=g.getIn(["edit","permission"]),p=f.getIn(["data","userInfo","sobInfo","moduleInfo"]),A=!!p&&p.indexOf("GL")>-1,E=!!p&&p.indexOf("RUNNING_GL")>-1,y=(g.getIn(["edit","permission"]),g.getIn(["review","permission"])),h=f.getIn(["permissionInfo","Pz"]).getIn(["edit","permission"]),_=c.get("views"),b=c.get("dataList"),v=c.get("accountList").toJS(),S=["全部"],C=[""];v.forEach(function(e){var t=e.value.split(o.TREE_JOIN_STR);C.push(t[0]),S.push(t[1])}),v.unshift({key:"全部",value:o.TREE_JOIN_STR+"全部"});var x=_.get("selectedIndex"),O=_.get("issues"),I=_.get("year"),w=_.get("month"),T=_.get("isAccount"),N=_.get("accountName"),L=(_.get("accountUuid"),_.get("currentPage")),k=_.get("pageCount");return l.default.createElement(u.Container,{className:"cxls"},l.default.createElement(i.TopMonthPicker,{issuedate:I+"-"+w,source:O,callback:function(e){var t=e.split("-");a(r.cxAccountActions.changeCxlsData(["views","year"],t[0])),a(r.cxAccountActions.changeCxlsData(["views","month"],t[1])),a(r.cxAccountActions.getBusinessList(1,!1))},onOk:function(e){var t=e.value.split("-");a(r.cxAccountActions.changeCxlsData(["views","year"],t[0])),a(r.cxAccountActions.changeCxlsData(["views","month"],t[1])),a(r.cxAccountActions.getBusinessList(1,!1))}}),l.default.createElement("div",{className:"cxls-flex cxls-margin-bottom"},l.default.createElement("div",{className:T?"cxls-account":"cxls-account cxls-account-select",onClick:function(){T&&(a(r.cxAccountActions.changeCxlsData(["views","isAccount"],!1)),a(r.cxAccountActions.changeCxlsData(["views","accountUuid"],"")),a(r.cxAccountActions.changeCxlsData(["views","accountName"],"全部")),a(r.cxAccountActions.getBusinessList(1,!1)))}},"全部"),l.default.createElement(u.Single,{className:T?"cxls-account cxls-account-select":"cxls-account",district:v,title:"选择账户",onOk:function(e){var t=e.value.split(o.TREE_JOIN_STR);a(r.cxAccountActions.changeCxlsData(["views","accountUuid"],t[0])),a(r.cxAccountActions.changeCxlsData(["views","accountName"],t[1])),a(r.cxAccountActions.getBusinessList(1,!1))}},l.default.createElement("div",{className:"cxls-flex",onClick:function(e){T||(e.stopPropagation(),a(r.cxAccountActions.changeCxlsData(["views","isAccount"],!0)),a(r.cxAccountActions.getBusinessList(1,!1)))}},l.default.createElement("div",{className:"overElli"},T?"账户："+N:"账户流水"),T?l.default.createElement(u.Icon,{type:"arrow-down"}):null))),l.default.createElement(u.ScrollView,{flex:"1",uniqueKey:"cxls-scroll",savePosition:!0},l.default.createElement("div",{className:"flow-content"},b.map(function(e,n){return l.default.createElement(d.default,{idx:n,item:e,isEdit:t,history:s,key:e.get("uuid"),dispatch:a,selectedIndex:x,editPermission:m,simplifyStatus:A,editPzPermission:h,reviewLrAccountPermission:y,intelligentStatus:E})})),l.default.createElement(i.ScrollLoad,{diff:1,classContent:"flow-content",callback:function(e){a(r.cxAccountActions.getBusinessList(L+1,!0,e))},isGetAll:L>=k,itemSize:b.size})),l.default.createElement(u.ButtonGroup,{style:{display:t?"none":""}},l.default.createElement(u.Button,{disabled:0===b.size,onClick:function(){return e.setState({isEdit:!0})}},l.default.createElement(u.Icon,{type:"select",size:"15"}),l.default.createElement("span",null,"选择")),l.default.createElement(u.Button,{onClick:function(){a(r.cxAccountActions.changeCxlsData(["views","currentRouter"],"CX_HSGL"))}},l.default.createElement(u.Icon,{type:"increase"}),l.default.createElement("span",{style:{paddingLeft:".05rem"}},"管理"))),l.default.createElement(u.ButtonGroup,{style:{display:t?"":"none"}},l.default.createElement(u.Button,{onClick:function(){return a(r.cxAccountActions.selectLsAll(x,!0))}},l.default.createElement(u.Icon,{type:"choose"}),l.default.createElement("span",null,"全选")),l.default.createElement(u.Button,{onClick:function(){e.setState({isEdit:!1}),a(r.cxAccountActions.selectLsAll(x,!1))}},l.default.createElement(u.Icon,{type:"cancel"}),l.default.createElement("span",null,"取消")),l.default.createElement(u.Button,{disabled:!b.some(function(e){return e.get("selected")})||!m,onClick:function(){return a(r.cxAccountActions.deleteLs(b,x,I+"-"+w))}},l.default.createElement(u.Icon,{type:"delete"}),l.default.createElement("span",null,"删除"))))}}]),t}())||a;t.default=p},1828:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(0),s=(a=l)&&a.__esModule?a:{default:a},r=n(1074),o=n(1067),i=n(16),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1064)),d=(n(13),n(1829)),f=n(1830);var g=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),c(t,[{key:"render",value:function(){var e=this.props,t=e.item,n=e.dispatch,a=e.history,c=e.selectedIndex,l=e.idx,g=e.isEdit,m=e.editPermission,p=e.simplifyStatus,A=e.editPzPermission,E=e.reviewLrAccountPermission,y=e.intelligentStatus,h=t.get("uuid"),_=p?A:E,b=[],v=void 0,S=void 0;t.get("vcList").map(function(e,t){b.push(e.get("vcIndex")),v=e.get("year"),S=e.get("month")});var C=null,x=!!t.get("vcList").size;C=p||y?x?s.default.createElement("div",null,s.default.createElement(i.Button,{disabled:!_,style:{marginRight:".05rem",marginLeft:"0rem"},onClick:function(){n(r.cxAccountActions.deleteRunningBusinessVc(v,S,b))}},p?"删除":"反审核"),s.default.createElement("span",{style:{marginLeft:".05rem",textDecoration:"underline"},onClick:function(){n(r.cxAccountActions.getVcFetch(t.getIn(["vcList",0]),a))}},"记"+t.getIn(["vcList",0,"vcIndex"])+"号")):s.default.createElement(i.Button,{disabled:t.get("beCertificate")||!_,onClick:function(){n(r.cxAccountActions.insertRunningBusinessVc(h))}},p?"生成":"审核"):x?s.default.createElement(i.Button,{disabled:!_,style:{marginRight:".05rem",marginLeft:"0rem"},onClick:function(){n(r.cxAccountActions.deleteRunningBusinessVc(v,S,b))}},"反审核"):s.default.createElement(i.Button,{disabled:t.get("beCertificate")||!_,onClick:function(){n(r.cxAccountActions.insertRunningBusinessVc(h))}},"审核");var O=t.get("cardAbstract")?t.get("cardAbstract"):"",I=""+t.get("runningAbstract")+O;return s.default.createElement("div",{className:"vc"},s.default.createElement("div",{onClick:function(){g?n(r.cxAccountActions.selectLs(c,l)):(sessionStorage.setItem("ylPage","cxls"),n(o.yllsActions.getYllsSingleAccount(a,c,h,l,!0)))}},s.default.createElement("div",{className:"item-title-top"},s.default.createElement("div",{className:"item-date cxls-gray"},t.get("runningDate").replace(/-/g,"/")),s.default.createElement("div",{className:"item-flowNumber"},s.default.createElement(i.Checkbox,{checked:!!t.get("selected")&&t.get("selected"),style:{paddingRight:"10px",display:g?"inline-block":"none"}}),t.get("flowNumber"))),s.default.createElement("div",{className:"item-content"},s.default.createElement("div",null,t.get("categoryName")),s.default.createElement("div",null,s.default.createElement(i.Amount,{showZero:!0},Math.abs(t.get("amount"))))),s.default.createElement("div",{className:"overElli cxls-gray"},"摘要：",I),s.default.createElement("div",{className:"item-content cxls-gray"},s.default.createElement("span",null,u.runningType[t.get("runningType")]),s.default.createElement("span",null,"制单人：",t.get("createName")))),s.default.createElement("div",{className:"item-bottom"},s.default.createElement("div",null,C),s.default.createElement("div",null,(0,d.getCarrayOver)(n,t,m),t.get("childList").map(function(e){return(0,d.getCarrayOver)(n,e,m)}),(0,f.toJz)(n,t,m))))}}]),t}();t.default=g},1829:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCarrayOver=function(e,t,n){var a=t.get("makeOut"),c=(t.get("carryover"),t.get("certified")),o=t.get("received"),i=t.get("receiving"),u=t.get("payed"),d=t.get("paying"),f=t.get("shouldReturn"),g=(t.get("runningType"),t.get("uuid")),m=[];"1"!=o&&"3"!=o||m.push(l.default.createElement(s.Button,{key:"c1",disabled:!n,onClick:function(){e(r.cxAccountActions.getCxlsSingle(g,"CXLS","SFGL","付款金额"))}},"退款"));"1"!=f&&"3"!=f||m.push(l.default.createElement(s.Button,{key:"f1",disabled:!n,onClick:function(){e(r.cxAccountActions.getCxlsSingle(g,"CXLS","SFGL","付款金额"))}},"退款"));"1"!=u&&"3"!=u||m.push(l.default.createElement(s.Button,{key:"d1",disabled:!n,onClick:function(){e(r.cxAccountActions.getCxlsSingle(g,"CXLS","SFGL","收款金额"))}},"退款"));"1"!=i&&"3"!=i||m.push(l.default.createElement(s.Button,{key:"e1",disabled:!n,onClick:function(){e(r.cxAccountActions.getCxlsSingle(g,"CXLS","SFGL","收款金额"))}},"收款"));"1"!=d&&"3"!=d||m.push(l.default.createElement(s.Button,{key:"j",disabled:!n,onClick:function(){e(r.cxAccountActions.getCxlsSingle(g,"CXLS","SFGL","付款金额"))}},"付款"));1==a&&m.push(l.default.createElement(s.Button,{key:"g",disabled:!n,onClick:function(){e(r.cxAccountActions.getCxlsSingle(g,"CXLS","KJFP"))}},"开票"));1==c&&m.push(l.default.createElement(s.Button,{key:"i",disabled:!n,onClick:function(){e(r.cxAccountActions.getCxlsSingle(g,"CXLS","FPRZ"))}},"认证"));return l.default.createElement("span",{key:g},m)};var a,c=n(0),l=(a=c)&&a.__esModule?a:{default:a},s=n(16),r=n(1074)},1830:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toJz=function(e,t,n){var a=t.get("carryover"),c=t.get("runningType"),o=t.get("uuid"),i=null;if(t.get("childList").size>0){var u=0,d="";t.get("childList").forEach(function(e){var t=e.get("carryover"),n=e.get("runningType"),a=e.get("uuid");1==t&&"LX_ZZS_YKP"!==n&&"LX_ZZS_WKP"!==n&&"LX_ZZS_YRZ"!==n&&"LX_ZZS_WRZ"!==n&&(u++,d=a)}),1==u?i=l.default.createElement(s.Button,{key:"h",disabled:!n,onClick:function(){e(r.cxAccountActions.getCxlsSingle(d,"CXLS","JZCB"))}},"结转"):u>1&&(i=l.default.createElement(s.Button,{key:"h",disabled:!n,onClick:function(){e(r.cxAccountActions.getCxlsSingle(o,"CXLS","JZCB"))}},"结转"))}else 1==a&&"LX_ZZS_YKP"!==c&&"LX_ZZS_WKP"!==c&&"LX_ZZS_YRZ"!==c&&"LX_ZZS_WRZ"!==c&&(i=l.default.createElement(s.Button,{key:"h",disabled:!n,onClick:function(){e(r.cxAccountActions.getCxlsSingle(o,"CXLS","JZCB"))}},"结转"));1==a&&"LB_CQZC"==t.get("categoryType")&&(i=l.default.createElement(s.Button,{key:"h",disabled:!n,onClick:function(){e(r.cxAccountActions.getCxlsSingle(o,"CXLS","JZSY"))}},"结转"));return i};var a,c=n(0),l=(a=c)&&a.__esModule?a:{default:a},s=n(16),r=n(1074)},1831:function(e,t,n){},1833:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,c,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),r=(c=s)&&c.__esModule?c:{default:c},o=n(31),i=n(9),u=n(16),d=n(123),f=n(1061),g=n(13),m=(A(n(10)),A(n(25))),p=n(1074);function A(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var E=(0,o.connect)(function(e){return e})(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),l(t,[{key:"componentDidMount",value:function(){var e=new g.DateLib(new Date).valueOf();this.props.dispatch(p.cxAccountActions.changeCxlsData(["data","runningDate"],e))}},{key:"render",value:function(){var e=this.props,t=e.dispatch,n=e.cxAccountState,a=n.get("accountList"),c=n.get("data"),l=c.get("accountName"),s=c.get("accountUuid"),o=c.get("runningDate"),A=c.get("runningAbstract"),E=c.get("amount"),y=c.get("amountTitle"),h=c.get("contactsCardRange"),_=n.getIn(["views","fromRouter"]),b=n.get("categoryList"),v=b.get("assTypeList"),S=v.size-1,C={AC_AR:"应收",AC_PP:"预收",AC_ADV:"预付",AC_AP:"应付"};return r.default.createElement(u.Container,{className:"lrls"},r.default.createElement(d.TopDatePicker,{value:o,onChange:function(e){t(p.cxAccountActions.changeCxlsData(["data","runningDate"],new g.DateLib(e).valueOf()))},callback:function(e){t(p.cxAccountActions.changeCxlsData(["data","runningDate"],e))}}),r.default.createElement(u.ScrollView,{flex:"1"},r.default.createElement(u.Row,{className:"lrls-card lrls-line"},r.default.createElement("label",null,"摘要："),r.default.createElement(u.TextareaItem,{placeholder:"摘要填写",value:A,onChange:function(e){t(p.cxAccountActions.changeCxlsData(["data","runningAbstract"],e))}})),r.default.createElement("div",{className:"lrls-card"},r.default.createElement("div",{className:"lrls-bottom"},"往来单位： ",h.get("code")+" "+h.get("name")),r.default.createElement(u.Row,{className:"yysr-amount"},r.default.createElement("label",null,y,":"),r.default.createElement(u.TextInput,{placeholder:"填写金额",value:E,onChange:function(e){/^\d*\.?\d{0,2}$/g.test(e)&&t(p.cxAccountActions.changeCxlsData(["data","amount"],e))}}),r.default.createElement(f.Account,{accountList:a,accountUuid:s,accountName:l,noInsert:!0,onOk:function(e){var n=e.split(m.TREE_JOIN_STR);t(p.cxAccountActions.changeCxlsData(["data","accountUuid"],n[0])),t(p.cxAccountActions.changeCxlsData(["data","accountName"],n[1]))}}))),r.default.createElement("div",{className:"lrls-card",style:{display:v.size?"":"none"}},v.map(function(e,n){return r.default.createElement("div",{key:n,className:"lrls-more-card lrls-bottom lrls-jzsy",style:{marginBottom:n==S?"0":""}},r.default.createElement("label",null,C[e.get("assType")],"期初类别:"),r.default.createElement(u.SinglePicker,{district:b.get(e.get("assType")).toJS(),value:e.get("categoryUuid")?""+e.get("categoryUuid")+m.TREE_JOIN_STR+e.get("name"):"",onOk:function(e){t(p.cxAccountActions.changeSfglCategory(e.value,n))}},r.default.createElement(u.Row,{className:"lrls-category lrls-padding"},e.get("categoryUuid")?r.default.createElement("span",null," ",e.get("name")," "):r.default.createElement("span",{className:"lrls-placeholder"},"点击选择类别"),r.default.createElement(u.Icon,{type:"triangle"}))))}))),r.default.createElement(u.ButtonGroup,{style:{backgroundColor:"#F8F8F8"}},r.default.createElement(u.Button,{onClick:function(){t(p.cxAccountActions.changeCxlsData(["views","currentRouter"],_)),t(p.cxAccountActions.changeCxlsData(["categoryList","assTypeList"],(0,i.fromJS)([])))}},r.default.createElement(u.Icon,{type:"cancel"}),r.default.createElement("span",null,"取消")),r.default.createElement(u.Button,{onClick:function(){t(p.cxAccountActions.saveSfgl())}},r.default.createElement(u.Icon,{type:"new"}),r.default.createElement("span",null,"保存"))))}}]),t}())||a;t.default=E},1834:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,c,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),r=(c=s)&&c.__esModule?c:{default:c},o=n(31),i=(n(9),n(16)),u=n(123),d=n(13),f=n(1074);var g=(0,o.connect)(function(e){return e})(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),l(t,[{key:"componentDidMount",value:function(){var e=new d.DateLib(new Date).valueOf();this.props.dispatch(f.cxAccountActions.changeCxlsData(["data","runningDate"],e))}},{key:"render",value:function(){var e=this.props,t=e.dispatch,n=e.cxAccountState,a=n.get("data"),c=a.get("runningDate"),l=a.get("runningAbstract"),s=n.getIn(["views","fromRouter"]);return r.default.createElement(i.Container,{className:"lrls"},r.default.createElement(u.TopDatePicker,{value:c,onChange:function(e){t(f.cxAccountActions.changeCxlsData(["data","runningDate"],new d.DateLib(e).valueOf()))},callback:function(e){t(f.cxAccountActions.changeCxlsData(["data","runningDate"],e))}}),r.default.createElement(i.ScrollView,{flex:"1"},r.default.createElement("div",{className:"lrls-card lrls-line"},r.default.createElement("label",null,"摘要："),r.default.createElement(i.TextareaItem,{placeholder:"摘要填写",value:l,onChange:function(e){t(f.cxAccountActions.changeCxlsData(["data","runningAbstract"],e))}}))),r.default.createElement(i.ButtonGroup,null,r.default.createElement(i.Button,{onClick:function(){t(f.cxAccountActions.changeCxlsData(["views","currentRouter"],s))}},r.default.createElement(i.Icon,{type:"cancel"}),r.default.createElement("span",null,"取消")),r.default.createElement(i.Button,{onClick:function(){t(f.cxAccountActions.saveKjfp())}},r.default.createElement(i.Icon,{type:"new"}),r.default.createElement("span",null,"保存"))))}}]),t}())||a;t.default=g},1835:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,c,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),r=(c=s)&&c.__esModule?c:{default:c},o=n(31),i=(n(9),n(16)),u=n(123),d=n(13),f=n(1074);var g=(0,o.connect)(function(e){return e})(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),l(t,[{key:"componentDidMount",value:function(){var e=new d.DateLib(new Date).valueOf();this.props.dispatch(f.cxAccountActions.changeCxlsData(["data","runningDate"],e))}},{key:"render",value:function(){var e=this.props,t=e.dispatch,n=e.cxAccountState,a=n.get("data"),c=a.get("runningDate"),l=a.get("runningAbstract"),s=n.getIn(["views","fromRouter"]);return r.default.createElement(i.Container,{className:"lrls"},r.default.createElement(u.TopDatePicker,{value:c,onChange:function(e){t(f.cxAccountActions.changeCxlsData(["data","runningDate"],new d.DateLib(e).valueOf()))},callback:function(e){t(f.cxAccountActions.changeCxlsData(["data","runningDate"],e))}}),r.default.createElement(i.ScrollView,{flex:"1"},r.default.createElement("div",{className:"lrls-card lrls-line"},r.default.createElement("label",null,"摘要："),r.default.createElement(i.TextareaItem,{placeholder:"摘要填写",value:l,onChange:function(e){t(f.cxAccountActions.changeCxlsData(["data","runningAbstract"],e))}}))),r.default.createElement(i.ButtonGroup,null,r.default.createElement(i.Button,{onClick:function(){t(f.cxAccountActions.changeCxlsData(["views","currentRouter"],s))}},r.default.createElement(i.Icon,{type:"cancel"}),r.default.createElement("span",null,"取消")),r.default.createElement(i.Button,{onClick:function(){t(f.cxAccountActions.saveFprz())}},r.default.createElement(i.Icon,{type:"new"}),r.default.createElement("span",null,"保存"))))}}]),t}())||a;t.default=g},1836:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,c,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),r=(c=s)&&c.__esModule?c:{default:c},o=n(31),i=(n(9),n(16)),u=n(123),d=(n(1061),n(13)),f=(g(n(10)),g(n(25)),n(1074));function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var m=(0,o.connect)(function(e){return e})(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),l(t,[{key:"componentDidMount",value:function(){var e=new d.DateLib(new Date).valueOf();this.props.dispatch(f.cxAccountActions.changeCxlsData(["data","runningDate"],e))}},{key:"render",value:function(){var e=this.props,t=e.dispatch,n=e.cxAccountState,a=n.get("data"),c=a.get("runningDate"),l=a.get("runningAbstract"),s=(a.get("carryoverAmount"),a.get("stockCardList")),o=a.get("cardList"),g=n.getIn(["views","fromRouter"]),m=s.size-1;return r.default.createElement(i.Container,{className:"lrls"},r.default.createElement(u.TopDatePicker,{value:c,onChange:function(e){t(f.cxAccountActions.changeCxlsData(["data","runningDate"],new d.DateLib(e).valueOf()))},callback:function(e){t(f.cxAccountActions.changeCxlsData(["data","runningDate"],e))}}),r.default.createElement(i.ScrollView,{flex:"1"},r.default.createElement("div",{className:"lrls-card lrls-line"},r.default.createElement("label",null,"摘要："),r.default.createElement(i.TextareaItem,{placeholder:"摘要填写",value:l,onChange:function(e){t(f.cxAccountActions.changeCxlsData(["data","runningAbstract"],e))}})),r.default.createElement("div",{className:"lrls-card"},r.default.createElement("div",null,s.map(function(e,n){return r.default.createElement("div",{key:n,style:{paddingBottom:n==m?"0":"20px"}},r.default.createElement(i.Row,{className:"lrls-bottom lrls-more-card"},r.default.createElement("label",null,"存货卡片:"),r.default.createElement("div",{className:"antd-single-picker"},e.get("code")+" "+e.get("name"))),r.default.createElement(i.Row,{className:"lrls-bottom lrls-more-card"},r.default.createElement("label",null,"金额:"),r.default.createElement("div",{className:"antd-single-picker"},r.default.createElement(i.Amount,null,e.get("amount")))),r.default.createElement(i.Row,{className:"lrls-more-card"},r.default.createElement("label",null,"成本金额:"),r.default.createElement(i.TextInput,{placeholder:"填写成本金额",value:o.getIn([n,"amount"]),onChange:function(e){/^\d*\.?\d{0,2}$/g.test(e)&&t(f.cxAccountActions.changeCxlsData(["data","cardList",n,"amount"],e))}})))})))),r.default.createElement(i.ButtonGroup,null,r.default.createElement(i.Button,{onClick:function(){t(f.cxAccountActions.changeCxlsData(["views","currentRouter"],g))}},r.default.createElement(i.Icon,{type:"cancel"}),r.default.createElement("span",null,"取消")),r.default.createElement(i.Button,{onClick:function(){t(f.cxAccountActions.saveJzcb())}},r.default.createElement(i.Icon,{type:"new"}),r.default.createElement("span",null,"保存"))))}}]),t}())||a;t.default=m},1837:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,c,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),r=(c=s)&&c.__esModule?c:{default:c},o=n(31),i=(n(9),n(16)),u=n(123),d=(n(1061),n(13)),f=(m(n(10)),m(n(25))),g=n(1074);function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var p=(0,o.connect)(function(e){return e})(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),l(t,[{key:"componentDidMount",value:function(){var e=new d.DateLib(new Date).valueOf();this.props.dispatch(g.cxAccountActions.changeCxlsData(["data","runningDate"],e));var t=this.props.cxAccountState;if(t.getIn(["data","beProject"])){var n=t.getIn(["data","projectRange"]);this.props.dispatch(g.cxAccountActions.getProjectCardList(n))}}},{key:"render",value:function(){var e=this.props,t=e.dispatch,n=e.cxAccountState,a=n.get("data"),c=a.get("runningDate"),l=a.get("runningAbstract"),s=a.get("categoryName"),o=n.getIn(["views","fromRouter"]),m=a.get("beProject"),p=a.get("usedProject"),A=n.get("projectCardList"),E=a.getIn(["projectCard",0]),y=E.get("code")+" "+E.get("name"),h=a.get("amount"),_=a.getIn(["acAssets","originalAssetsAmount"]),b=a.getIn(["acAssets","depreciationAmount"]),v=Number(b)+Number(h)-Number(_);return r.default.createElement(i.Container,{className:"lrls"},r.default.createElement(u.TopDatePicker,{value:c,onChange:function(e){t(g.cxAccountActions.changeCxlsData(["data","runningDate"],new d.DateLib(e).valueOf()))},callback:function(e){t(g.cxAccountActions.changeCxlsData(["data","runningDate"],e))}}),r.default.createElement(i.ScrollView,{flex:"1"},r.default.createElement("div",{className:"lrls-card"},r.default.createElement(i.Row,{className:"lrls-more-card lrls-switch"},r.default.createElement("label",null,"处理类别: "),r.default.createElement(i.Row,{className:"antd-single-picker lrls-padding lrls-category"},r.default.createElement("span",null,s),r.default.createElement(i.Icon,{type:"triangle"})),m?r.default.createElement(i.SwitchText,{checked:p,checkedChildren:"项目",unCheckedChildren:"",className:"topBarSwitch",onChange:function(e){t(g.cxAccountActions.changeCxlsData(["data","usedProject"],!p))}}):null)),r.default.createElement("div",{className:"lrls-card lrls-line"},r.default.createElement("label",null,"摘要："),r.default.createElement(i.TextareaItem,{placeholder:"摘要填写",value:l,onChange:function(e){t(g.cxAccountActions.changeCxlsData(["data","runningAbstract"],e))}})),p?r.default.createElement("div",{className:"lrls-card"},r.default.createElement("div",{className:"lrls-more-card"},r.default.createElement("label",null,"项目:"),r.default.createElement(i.SinglePicker,{district:A.toJS(),value:E.get("uuid")?""+E.get("uuid")+f.TREE_JOIN_STR+E.get("code")+f.TREE_JOIN_STR+E.get("name"):"",onOk:function(e){var n=e.value.split(f.TREE_JOIN_STR);t(g.cxAccountActions.changeCxlsData(["data","projectCard",0,"uuid"],n[0])),t(g.cxAccountActions.changeCxlsData(["data","projectCard",0,"code"],n[1])),t(g.cxAccountActions.changeCxlsData(["data","projectCard",0,"name"],n[2]))}},r.default.createElement(i.Row,{className:"lrls-category lrls-padding"},E.get("uuid")?r.default.createElement("span",null," ",y," "):r.default.createElement("span",{className:"lrls-placeholder"},"点击选择项目卡片"),r.default.createElement(i.Icon,{type:"triangle"}))))):null,r.default.createElement("div",{className:"lrls-card"},r.default.createElement(i.Row,null,r.default.createElement("label",{style:{marginRight:".15rem"}},v>=0?"净收益金额：":"净损失金额："),r.default.createElement(i.Amount,{showZero:!0},Math.abs(v))),r.default.createElement(i.Row,{className:"yysr-amount margin-top-bot lrls-jzsy"},r.default.createElement("label",null,"资产原值:"),r.default.createElement(i.TextListInput,{placeholder:"请填写资产原值",value:_,onChange:function(e){/^\d*\.?\d{0,2}$/g.test(e)&&t(g.cxAccountActions.changeCxlsData(["data","acAssets","originalAssetsAmount"],e))}})),r.default.createElement(i.Row,{className:"yysr-amount lrls-margin-top lrls-jzsy"},r.default.createElement("label",null,"累计折旧余额:"),r.default.createElement(i.TextListInput,{placeholder:"请填写累计折旧余额",value:b,onChange:function(e){/^\d*\.?\d{0,2}$/g.test(e)&&t(g.cxAccountActions.changeCxlsData(["data","acAssets","depreciationAmount"],e))}})),r.default.createElement(i.Row,{className:"yysr-amount lrls-margin-top lrls-jzsy"},r.default.createElement("label",null,"处置金额:"),r.default.createElement(i.Amount,{showZero:!0},h)))),r.default.createElement(i.ButtonGroup,null,r.default.createElement(i.Button,{onClick:function(){t(g.cxAccountActions.changeCxlsData(["views","currentRouter"],o))}},r.default.createElement(i.Icon,{type:"cancel"}),r.default.createElement("span",null,"取消")),r.default.createElement(i.Button,{onClick:function(){t(g.cxAccountActions.saveJzsy())}},r.default.createElement(i.Icon,{type:"new"}),r.default.createElement("span",null,"保存"))))}}]),t}())||a;t.default=p},1838:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=f(n(0)),s=n(16),r=n(1074),o=(n(9),f(n(1839))),i=f(n(1840)),u=f(n(1841)),d=f(n(1842));function f(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var c=arguments.length,s=Array(c),r=0;r<c;r++)s[r]=arguments[r];return n=a=g(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.renderContent=function(e){var t=a.props.history,n=null;switch(e.title){case"收付管理":n=l.default.createElement(o.default,{history:t});break;case"成本结转":n=l.default.createElement(d.default,{history:t});break;case"发票认证":n=l.default.createElement(u.default,{history:t});break;case"开具发票":n=l.default.createElement(i.default,{history:t})}return n},g(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),c(t,[{key:"render",value:function(){var e=this.props,t=e.categoryList,n=e.activeTab,c=e.dispatch,o=(e.history,[]);return t.forEach(function(e){return o.push({title:e.get("key")})}),l.default.createElement(s.Tabs,{tabs:o,prefixCls:"my-tab",prerenderingSiblingsNumber:0,animated:!1,useOnPan:!1,page:n,destroyInactiveTab:!0,renderTabBar:function(e){return l.default.createElement(s.Tabs.DefaultTabBar,a({},e,{page:4,animated:!1,goToTab:function(e){c(r.cxAccountActions.changeCxlsData(["hsgl","activeTab"],e))}}))}},this.renderContent)}}]),t}();t.default=m},1839:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,c,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),r=(c=s)&&c.__esModule?c:{default:c},o=(n(9),n(31)),i=n(1074),u=n(1067),d=(m(n(10)),m(n(25))),f=n(1489),g=n(16);function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var A=(0,o.connect)(function(e){return e})(a=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var c=arguments.length,l=Array(c),s=0;s<c;s++)l[s]=arguments[s];return n=a=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.state={isEdit:!1},p(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),l(t,[{key:"componentDidMount",value:function(){this.props.dispatch(i.cxAccountActions.getBusinessManagerCardList()),this.props.dispatch(i.cxAccountActions.getManageList())}},{key:"render",value:function(){var e=this,t=this.props,n=t.dispatch,a=t.cxAccountState,c=t.history,l=t.homeState,s=this.state.isEdit,o=l.getIn(["permissionInfo","LrAccount"]).getIn(["edit","permission"]),m=a.get("hsgl"),p=m.get("contactsCardList"),A=(m.get("cardNameList"),m.get("contactsCard")),E=m.get("isCheck"),y=m.get("dataList"),h="全部往来单位"==A.get("name");return r.default.createElement(g.Container,{className:"cxhsgl"},r.default.createElement("div",{className:"cxhsgl-flex"},r.default.createElement(g.Single,{className:"top-flex",district:p.toJS(),title:"选择往来关系",onOk:function(e){""==e.value.split(d.TREE_JOIN_STR)[0]&&n(i.cxAccountActions.changeCxlsData(["hsgl","isCheck"],!1)),n(i.cxAccountActions.changeCxlsCard("contactsCard",e.value)),n(i.cxAccountActions.getManageList())}},r.default.createElement("div",null," ",A.get("code")+" "+A.get("name")," "),r.default.createElement(g.Icon,{type:"triangle"})),h?null:r.default.createElement(g.Single,{className:"top-flex left-line",district:[{key:"未核销流水",value:"0"},{key:"全部往来流水",value:"1"}],title:"类型选择",onOk:function(e){var t="1"==e.value;n(i.cxAccountActions.changeCxlsData(["hsgl","isCheck"],t)),n(i.cxAccountActions.getManageList())}},r.default.createElement("span",null,E?"全部往来流水":"未核销流水"),r.default.createElement(g.Icon,{type:"triangle"}))),r.default.createElement(g.ScrollView,{flex:"1",uniqueKey:"cxls-sfgl",savePosition:!0},y.map(function(e,t){var a,l,d=e.get("selected"),m=e.get("uuid"),p=e.get("beOpened"),h=(0,f.getCarrayOver)(n,e,o),_=e.get("runningDate")?e.get("runningDate").replace(/-/g,"/"):"",b=e.get("cardAbstract")?e.get("cardAbstract"):"",v=""+e.get("runningAbstract")+b;return r.default.createElement("div",{key:m,className:"cxhsgl-item"},r.default.createElement("div",{onClick:function(){if(s)n(i.cxAccountActions.changeCxlsData(["hsgl","dataList",t,"selected"],!d));else{if(p)return;sessionStorage.setItem("ylPage","cxls");var e=y.filter(function(e){return 0==e.get("beOpened")}).findIndex(function(e){return e.get("uuid")==m});n(u.yllsActions.getYllsSingleAccount(c,"CX_HSGL",m,e,!0)),n(i.cxAccountActions.hsglToYlData("CX_SFGL"))}}},r.default.createElement("div",{className:"cxhsgl-item-line cxhsgl-item-flex",style:{display:s?"":"none"}},r.default.createElement("div",null,r.default.createElement(g.Checkbox,{checked:!!d,style:{display:s?"":"none",paddingRight:"10px"}}),e.get("flowNumber")),r.default.createElement("div",{className:"cxhsgl-disabled"},_)),r.default.createElement("div",{className:"cxhsgl-item-flex"},r.default.createElement("div",{className:"overElli"},p?v:e.get("categoryName")),r.default.createElement("div",null,r.default.createElement(g.Amount,{showZero:!0},E?e.get("amount"):e.get("notHandleAmount")))),r.default.createElement("div",{className:"overElli cxhsgl-disabled cxhsgl-item-flex",style:{display:p?"none":""}},v),r.default.createElement("div",{className:"cxhsgl-item-flex cxhsgl-disabled"},r.default.createElement("div",null,r.default.createElement("span",{className:"cxhsgl-item-border"},(a=e.get("flowType"),l=e.get("direction"),"FLOW_INADVANCE"==a?"credit"==l?"预付款":"预收款":"credit"==l?"应付款":"应收款"))),r.default.createElement("div",{className:"overElli"},"核账对象：",e.get("cardPersonName")?e.get("cardPersonName"):A.get("code")+" "+A.get("name")))),r.default.createElement("div",{className:"cxhsgl-item-flex cxhsgl-item-bottom",style:{display:E||h?"":"none"}},E?r.default.createElement("div",{className:"cxhsgl-disabled"},"未处理：",r.default.createElement(g.Amount,{showZero:!0},e.get("notHandleAmount"))):r.default.createElement("div",null),r.default.createElement("div",null,h)))})),r.default.createElement(g.ButtonGroup,null,r.default.createElement(g.Button,{style:{display:s?"none":""},disabled:0===y.size,onClick:function(){return e.setState({isEdit:!0})}},r.default.createElement(g.Icon,{type:"select",size:"15"}),r.default.createElement("span",null,"选择")),r.default.createElement(g.Button,{style:{display:s?"":"none"},onClick:function(){return n(i.cxAccountActions.selectLsAll("CX_HSGL",!0))}},r.default.createElement(g.Icon,{type:"choose"}),r.default.createElement("span",null,"全选")),r.default.createElement(g.Button,{style:{display:s?"":"none"},onClick:function(){e.setState({isEdit:!1}),n(i.cxAccountActions.selectLsAll("CX_HSGL",!1))}},r.default.createElement(g.Icon,{type:"cancel"}),r.default.createElement("span",null,"取消")),r.default.createElement(g.Button,{style:{display:s?"":"none"},disabled:!y.some(function(e){return e.get("selected")})||!o,onClick:function(){return n(i.cxAccountActions.deleteLs(y,"CX_SFGL"))}},r.default.createElement(g.Icon,{type:"delete"}),r.default.createElement("span",null,"删除")),r.default.createElement(g.Button,{style:{display:s&&!E&&A.get("uuid")?"":"none"},disabled:!y.some(function(e){return e.get("selected")})||!o,onClick:function(){n(i.cxAccountActions.cxhsglAllBatch("CX_SFGL")),y.forEach(function(e){e.get("selected")&&e.get("beOpened")&&n(i.cxAccountActions.getSfglCategoryList(e.get("assType"),e.get("uuid")))})}},r.default.createElement("span",null,"一键收付"))))}}]),t}())||a;t.default=A},1840:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,c,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),r=(c=s)&&c.__esModule?c:{default:c},o=(n(9),n(31)),i=n(1074),u=n(1067),d=g(n(10)),f=(g(n(25)),n(16));function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=(0,o.connect)(function(e){return e})(a=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var c=arguments.length,l=Array(c),s=0;s<c;s++)l[s]=arguments[s];return n=a=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.state={isEdit:!1},m(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),l(t,[{key:"componentDidMount",value:function(){this.props.dispatch(i.cxAccountActions.getKjfpList())}},{key:"render",value:function(){var e=this,t=this.props,n=t.dispatch,a=t.cxAccountState,c=t.history,l=t.homeState,s=this.state.isEdit,o=l.getIn(["permissionInfo","LrAccount"]).getIn(["edit","permission"]),g=a.get("hsgl"),m=g.get("billMakeOutType"),p=g.get("dataList");return r.default.createElement(f.Container,{className:"cxhsgl"},r.default.createElement("div",{className:"cxhsgl-flex"},r.default.createElement(f.Row,{className:"top-flex",onClick:function(){d.actionSheet({title:"开具类型",cancelButton:"取消",otherButtons:["全部类型","销项开票","退销开票"],onSuccess:function(e){-1!=e.buttonIndex&&(n(i.cxAccountActions.changeCxlsData(["hsgl","billMakeOutType"],["","BILL_MAKE_OUT_TYPE_XS","BILL_MAKE_OUT_TYPE_TS"][e.buttonIndex])),n(i.cxAccountActions.getKjfpList()))}})}},r.default.createElement("div",null," ",""==m?"全部":{BILL_MAKE_OUT_TYPE_XS:"销项开票",BILL_MAKE_OUT_TYPE_TS:"退销开票"}[m]," "),r.default.createElement(f.Icon,{type:"triangle"}))),r.default.createElement(f.ScrollView,{flex:"1",uniqueKey:"cxls-kjfp",savePosition:!0},p.map(function(e,t){var a=e.get("selected"),l=e.get("runningDate")?e.get("runningDate").replace(/-/g,"/"):"",d=e.get("cardAbstract")?e.get("cardAbstract"):"",g=""+e.get("runningAbstract")+d;return r.default.createElement("div",{key:e.get("uuid"),className:"cxhsgl-item"},r.default.createElement("div",{onClick:function(){s?n(i.cxAccountActions.changeCxlsData(["hsgl","dataList",t,"selected"],!a)):(sessionStorage.setItem("ylPage","cxls"),n(u.yllsActions.getYllsSingleAccount(c,"CX_HSGL",e.get("parentUuid"),t,!0)),n(i.cxAccountActions.hsglToYlData("CX_KJFP")))}},r.default.createElement("div",{className:"cxhsgl-item-line cxhsgl-item-flex"},r.default.createElement("div",{onClick:function(){return n(i.cxAccountActions.changeCxlsData(["hsgl","dataList",t,"selected"],!a))}},r.default.createElement(f.Checkbox,{checked:!!a,style:{display:s?"":"none",paddingRight:"10px"}}),e.get("flowNumber")),r.default.createElement("div",{className:"cxhsgl-disabled"},l)),r.default.createElement("div",{className:"cxhsgl-item-flex"},r.default.createElement("div",{className:"overElli"},e.get("categoryName")),r.default.createElement("div",null,r.default.createElement("div",null,r.default.createElement(f.Amount,{showZero:!0},e.get("tax"))))),r.default.createElement("div",{className:"overElli cxhsgl-disabled cxhsgl-item-flex"},g),r.default.createElement("div",{className:"cxhsgl-item-flex cxhsgl-disabled"},r.default.createElement("span",{className:"cxhsgl-item-border"},e.get("manageTypeName")),r.default.createElement("span",null,"价税合计：",r.default.createElement(f.Amount,{showZero:!0},e.get("amount"))),r.default.createElement("span",{className:"cxhsgl-item-margin-left"},"税率：",e.get("taxRate"),"%"))),r.default.createElement("div",{className:"cxhsgl-item-flex cxhsgl-item-bottom"},r.default.createElement("div",null),r.default.createElement("div",null,r.default.createElement("span",null,r.default.createElement(f.Button,{disabled:!o,onClick:function(){n(i.cxAccountActions.getCxlsSingle(e.get("uuid"),"CX_HSGL","KJFP"))}},"开票")))))})),r.default.createElement(f.ButtonGroup,null,r.default.createElement(f.Button,{style:{display:s?"none":""},disabled:0===p.size,onClick:function(){return e.setState({isEdit:!0})}},r.default.createElement(f.Icon,{type:"select",size:"15"}),r.default.createElement("span",null,"选择")),r.default.createElement(f.Button,{style:{display:s?"":"none"},onClick:function(){return n(i.cxAccountActions.selectLsAll("CX_HSGL",!0))}},r.default.createElement(f.Icon,{type:"choose"}),r.default.createElement("span",null,"全选")),r.default.createElement(f.Button,{style:{display:s?"":"none"},onClick:function(){e.setState({isEdit:!1}),n(i.cxAccountActions.selectLsAll("CX_HSGL",!1))}},r.default.createElement(f.Icon,{type:"cancel"}),r.default.createElement("span",null,"取消")),r.default.createElement(f.Button,{style:{display:s?"":"none"},disabled:!p.some(function(e){return e.get("selected")})||!o,onClick:function(){return n(i.cxAccountActions.deleteLs(p,"CX_KJFP"))}},r.default.createElement(f.Icon,{type:"delete"}),r.default.createElement("span",null,"删除")),r.default.createElement(f.Button,{style:{display:s&&m?"":"none"},disabled:!p.some(function(e){return e.get("selected")})||!o,onClick:function(){return n(i.cxAccountActions.cxhsglAllBatch("CX_KJFP"))}},r.default.createElement("span",null,"一键开票"))))}}]),t}())||a;t.default=p},1841:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,c,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),r=(c=s)&&c.__esModule?c:{default:c},o=(n(9),n(31)),i=n(1074),u=n(1067),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(10)),f=n(16);function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=(0,o.connect)(function(e){return e})(a=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var c=arguments.length,l=Array(c),s=0;s<c;s++)l[s]=arguments[s];return n=a=g(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.state={isEdit:!1},g(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),l(t,[{key:"componentDidMount",value:function(){this.props.dispatch(i.cxAccountActions.getFprzList())}},{key:"render",value:function(){var e=this,t=this.props,n=t.dispatch,a=t.cxAccountState,c=t.history,l=t.homeState,s=this.state.isEdit,o=l.getIn(["permissionInfo","LrAccount"]).getIn(["edit","permission"]),g=a.get("hsgl"),m=g.get("billAuthType"),p=g.get("dataList");return r.default.createElement(f.Container,{className:"cxhsgl"},r.default.createElement("div",{className:"cxhsgl-flex"},r.default.createElement(f.Row,{className:"top-flex",onClick:function(){d.actionSheet({title:"认证类型",cancelButton:"取消",otherButtons:["全部类型","进项发票认证","退购发票认证"],onSuccess:function(e){-1!=e.buttonIndex&&(n(i.cxAccountActions.changeCxlsData(["hsgl","billAuthType"],["","BILL_AUTH_TYPE_CG","BILL_AUTH_TYPE_TG"][e.buttonIndex])),n(i.cxAccountActions.getFprzList()))}})}},r.default.createElement("div",null," ",""==m?"全部":{BILL_AUTH_TYPE_CG:"进项发票认证",BILL_AUTH_TYPE_TG:"退购发票认证"}[m]," "),r.default.createElement(f.Icon,{type:"triangle"}))),r.default.createElement(f.ScrollView,{flex:"1",uniqueKey:"cxls-fprz",savePosition:!0},p.map(function(e,t){var a=e.get("selected"),l=e.get("uuid"),d=e.get("runningDate")?e.get("runningDate").replace(/-/g,"/"):"",g=e.get("cardAbstract")?e.get("cardAbstract"):"",m=""+e.get("runningAbstract")+g;return r.default.createElement("div",{key:l,className:"cxhsgl-item"},r.default.createElement("div",{onClick:function(){s?n(i.cxAccountActions.changeCxlsData(["hsgl","dataList",t,"selected"],!a)):(sessionStorage.setItem("ylPage","cxls"),n(u.yllsActions.getYllsSingleAccount(c,"CX_HSGL",e.get("parentUuid"),t,!0)),n(i.cxAccountActions.hsglToYlData("CX_FPRZ")))}},r.default.createElement("div",{className:"cxhsgl-item-line cxhsgl-item-flex"},r.default.createElement("div",null,r.default.createElement(f.Checkbox,{checked:!!a,style:{display:s?"":"none",paddingRight:"10px"}}),e.get("flowNumber")),r.default.createElement("div",{className:"cxhsgl-disabled"},d)),r.default.createElement("div",{className:"cxhsgl-item-flex"},r.default.createElement("div",{className:"overElli"},e.get("categoryName")),r.default.createElement("div",null,r.default.createElement("div",null,r.default.createElement(f.Amount,{showZero:!0},e.get("tax"))))),r.default.createElement("div",{className:"overElli cxhsgl-disabled cxhsgl-item-flex"},m),r.default.createElement("div",{className:"cxhsgl-item-flex cxhsgl-disabled"},r.default.createElement("span",{className:"cxhsgl-item-border"},e.get("manageTypeName")),r.default.createElement("span",null,"价税合计：",r.default.createElement(f.Amount,{showZero:!0},e.get("amount"))),r.default.createElement("span",{className:"cxhsgl-item-margin-left"},"税率：",e.get("taxRate"),"%"))),r.default.createElement("div",{className:"cxhsgl-item-flex cxhsgl-item-bottom"},r.default.createElement("div",null),r.default.createElement("div",null,r.default.createElement("span",null,r.default.createElement(f.Button,{disabled:!o,onClick:function(){n(i.cxAccountActions.getCxlsSingle(e.get("uuid"),"CX_HSGL","FPRZ"))}},"认证")))))})),r.default.createElement(f.ButtonGroup,null,r.default.createElement(f.Button,{style:{display:s?"none":""},disabled:0===p.size,onClick:function(){return e.setState({isEdit:!0})}},r.default.createElement(f.Icon,{type:"select",size:"15"}),r.default.createElement("span",null,"选择")),r.default.createElement(f.Button,{style:{display:s?"":"none"},onClick:function(){return n(i.cxAccountActions.selectLsAll("CX_HSGL",!0))}},r.default.createElement(f.Icon,{type:"choose"}),r.default.createElement("span",null,"全选")),r.default.createElement(f.Button,{style:{display:s?"":"none"},onClick:function(){e.setState({isEdit:!1}),n(i.cxAccountActions.selectLsAll("CX_HSGL",!1))}},r.default.createElement(f.Icon,{type:"cancel"}),r.default.createElement("span",null,"取消")),r.default.createElement(f.Button,{style:{display:s?"":"none"},disabled:!p.some(function(e){return e.get("selected")})||!o,onClick:function(){return n(i.cxAccountActions.deleteLs(p,"CX_FPRZ"))}},r.default.createElement(f.Icon,{type:"delete"}),r.default.createElement("span",null,"删除")),r.default.createElement(f.Button,{style:{display:s&&m?"":"none"},disabled:!p.some(function(e){return e.get("selected")})||!o,onClick:function(){return n(i.cxAccountActions.cxhsglAllBatch("CX_FPRZ"))}},r.default.createElement("span",null,"一键认证"))))}}]),t}())||a;t.default=m},1842:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,c,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),r=(c=s)&&c.__esModule?c:{default:c},o=(n(9),n(31)),i=n(1074),u=n(1067),d=(f(n(10)),f(n(25)),f(n(1064)),n(1489),n(16));function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=(0,o.connect)(function(e){return e})(a=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var c=arguments.length,l=Array(c),s=0;s<c;s++)l[s]=arguments[s];return n=a=g(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.state={isEdit:!1},g(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),l(t,[{key:"componentDidMount",value:function(){this.props.dispatch(i.cxAccountActions.getFirstStockCardList()),this.props.dispatch(i.cxAccountActions.getJzcbList())}},{key:"render",value:function(){var e=this,t=this.props,n=t.dispatch,a=t.cxAccountState,c=t.history,l=t.homeState,s=this.state.isEdit,o=l.getIn(["permissionInfo","LrAccount"]).getIn(["edit","permission"]),f=a.get("hsgl"),g=f.get("stockCardList"),m=(f.get("cardNameList"),f.get("stockCard")),p=f.get("runningState"),A=f.get("dataList");return r.default.createElement(d.Container,{className:"cxhsgl"},r.default.createElement("div",{className:"cxhsgl-flex"},r.default.createElement(d.Single,{className:"top-flex",district:[{key:"全部类型",value:""},{key:"销售结转成本",value:"STATE_YYSR_XS"},{key:"退销结转成本",value:"STATE_YYSR_TS"}],title:"结转类型",onOk:function(e){n(i.cxAccountActions.changeCxlsData(["hsgl","runningState"],e.value)),n(i.cxAccountActions.getJzcbList())}},r.default.createElement("div",null," ",""==p?"全部类型":{STATE_YYSR_XS:"销售结转成本",STATE_YYSR_TS:"退销结转成本"}[p]," "),r.default.createElement(d.Icon,{type:"triangle"})),r.default.createElement(d.Single,{className:"top-flex left-line",district:g.toJS(),title:"存货",onOk:function(e){n(i.cxAccountActions.changeCxlsCard("stockCard",e.value)),n(i.cxAccountActions.getJzcbList())}},r.default.createElement("div",null," ","全部存货"==m.get("name")?"全部存货":m.get("code")+" "+m.get("name")," "),r.default.createElement(d.Icon,{type:"triangle"}))),r.default.createElement(d.ScrollView,{flex:"1",uniqueKey:"cxls-jzcb",savePosition:!0},A.map(function(e,t){var a=e.get("selected"),l=e.get("runningDate")?e.get("runningDate").replace(/-/g,"/"):"",f=e.get("cardAbstract")?e.get("cardAbstract"):"",g=""+e.get("runningAbstract")+f;return r.default.createElement("div",{key:e.get("uuid"),className:"cxhsgl-item"},r.default.createElement("div",{onClick:function(){if(s)n(i.cxAccountActions.changeCxlsData(["hsgl","dataList",t,"selected"],!a));else{sessionStorage.setItem("ylPage","cxls");var l=e.get("parentUuid")?e.get("parentUuid"):e.get("uuid");n(u.yllsActions.getYllsSingleAccount(c,"CX_HSGL",l,t,!0)),n(i.cxAccountActions.hsglToYlData("CX_JZCB"))}}},r.default.createElement("div",{className:"cxhsgl-item-line cxhsgl-item-flex"},r.default.createElement("div",null,r.default.createElement(d.Checkbox,{checked:!!a,style:{display:s?"":"none",paddingRight:"10px"}}),e.get("flowNumber")),r.default.createElement("div",{className:"cxhsgl-disabled"},l)),r.default.createElement("div",{className:"cxhsgl-item-flex"},r.default.createElement("div",{className:"overElli"},e.get("categoryName")),r.default.createElement("div",null,r.default.createElement(d.Amount,{showZero:!0},e.get("amount")))),r.default.createElement("div",{className:"overElli cxhsgl-disabled cxhsgl-item-flex"},g),r.default.createElement("div",{className:"cxhsgl-item-flex cxhsgl-disabled"},r.default.createElement("div",null,r.default.createElement("span",{className:"cxhsgl-item-border"},e.get("manageTypeName"))))),r.default.createElement("div",{className:"cxhsgl-item-flex cxhsgl-item-bottom"},r.default.createElement("div",null),r.default.createElement("div",null,r.default.createElement("span",null,r.default.createElement(d.Button,{disabled:!o,onClick:function(){n(i.cxAccountActions.getCxlsSingle(e.get("uuid"),"CX_HSGL","JZCB"))}},"结转")))))})),r.default.createElement(d.ButtonGroup,{type:"ghost"},r.default.createElement(d.Button,{style:{display:s?"none":""},disabled:0===A.size,onClick:function(){return e.setState({isEdit:!0})}},r.default.createElement(d.Icon,{type:"select",size:"15"}),r.default.createElement("span",null,"选择")),r.default.createElement(d.Button,{style:{display:s?"":"none"},onClick:function(){return n(i.cxAccountActions.selectLsAll("CX_HSGL",!0))}},r.default.createElement(d.Icon,{type:"choose"}),r.default.createElement("span",null,"全选")),r.default.createElement(d.Button,{style:{display:s?"":"none"},onClick:function(){e.setState({isEdit:!1}),n(i.cxAccountActions.selectLsAll("CX_HSGL",!1))}},r.default.createElement(d.Icon,{type:"cancel"}),r.default.createElement("span",null,"取消")),r.default.createElement(d.Button,{style:{display:s?"":"none"},disabled:!A.some(function(e){return e.get("selected")})||!o,onClick:function(){return n(i.cxAccountActions.deleteLs(A,"CX_JZCB"))}},r.default.createElement(d.Icon,{type:"delete"}),r.default.createElement("span",null,"删除")),r.default.createElement(d.Button,{style:{display:s&&p&&m.get("uuid")?"":"none"},disabled:!A.some(function(e){return e.get("selected")})||!o,onClick:function(){return n(i.cxAccountActions.cxhsglAllBatch("CX_JZCB"))}},r.default.createElement("span",null,"一键结转"))))}}]),t}())||a;t.default=m},1843:function(e,t,n){},2306:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=m(n(0)),s=n(31),r=(n(9),g(n(10))),o=g(n(1587)),i=(g(n(1244)),n(123)),u=n(16);n(2307);var d=m(n(2309)),f=g(n(181));function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function m(e){return e&&e.__esModule?e:{default:e}}var p=(0,s.connect)(function(e){return e})(a=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={serchFor:"",isSerch:!1},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),c(t,[{key:"componentDidMount",value:function(){r.setTitle({title:"辅助核算余额表"}),r.setIcon({showIcon:!1}),"home"===sessionStorage.getItem("prevPage")&&(sessionStorage.removeItem("prevPage"),this.props.dispatch(o.getPeriodAndAssKmyebListFetch()))}}]),c(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.history,a=t.dispatch,c=t.allState,s=t.assYebState,r=t.homeState,g=this.state,m=g.serchFor,p=g.isSerch,A=(r.getIn(["flags","hasVc"]),c.get("assTags")),E=s.get("assKmyebList").toSeq(),y=s.get("assKmyebList").toSeq(),h=s.get("issuedate"),_=(s.get("showedLowerAcIdList"),s.get("kmyeAssCategory")),b=s.get("assIdTwo"),v=s.get("doubleAssCategory"),S=s.get("doubleAss"),C=c.get("issues"),x=(C.getIn([0,"value"]),C.getIn([C.size-1,"value"]),s.get("kmyeAssAcId")),O=s.get("assTree"),I=s.get("acId"),w=s.get("endissuedate"),T=C.findIndex(function(e){return e.get("value")===h}),N=C.slice(0,T);E=""===m?E:E.filter(function(e){return e.get("wrapId").indexOf(m)>-1||e.get("wrapName").indexOf(m)>-1});var L=h.substr(0,4)+""+h.substr(5,2),k=w?w.substr(0,4)+""+w.substr(5,2):L,D="",P=b?v:"";b&&(D=S.filter(function(e){return e.get("value")==b}).getIn([0,"key"]).split(" ")[1]);a(f.navigationSetMenu("lrb",function(){return function(e){return e(f.allExportDo("pdfasswbaexport",{begin:L,end:k,asscategory:_,acid:I,asscategoryTwo:P,assNameTwo:D,assIdTwo:b}))}},function(){return function(e){return e(f.allExportDo("asskmyebexcelsend",{begin:L,end:k,asscategory:_,acid:I,asscategoryTwo:P,assNameTwo:D,assIdTwo:b}))}}));var B=0;return l.default.createElement(u.Container,{className:"Asskmyeb"},l.default.createElement(i.TopMonthPicker,{issuedate:h,source:C,callback:function(e){return a(o.getAssKmyebListFetch(e,w,_,I,x))},onOk:function(e){return a(o.getAssKmyebListFetch(e.value,w,_,I,x))},showSwitch:!0,endissuedate:w,nextperiods:N,onBeginOk:function(e){a(o.getAssKmyebListFetch(e.value,"",_,I,x))},onEndOk:function(e){a(o.getAssKmyebListFetch(h,e.value,_,I,x))},changeEndToBegin:function(){return a(o.getAssKmyebListFetch(h,"",_,I,x))}}),l.default.createElement(u.Row,{className:"Asskmyeb-select"},l.default.createElement(u.SinglePicker,{className:"Asskmyeb-select-select",district:A.map(function(e,t){return{key:e,value:e}}),onOk:function(e){a(o.getAssKmyebListFetch(h,w,e.value,I,x)),a(o.getAssTreeListFetch(h,w,e.value))}},l.default.createElement("span",null,l.default.createElement("span",{className:"Asskmyeb-select-select-text"},_.length>6?_.substr(0,6)+"...":_),l.default.createElement(u.Icon,{className:"Asskmyeb-select-select-trangle",type:"triangle",size:"10"}))),l.default.createElement("div",{className:"Asskmyeb-select-select assKmyebTree"},p?l.default.createElement("span",{className:"Asskmyeb-select-inputwrap"},l.default.createElement(u.Icon,{className:"Asskmyeb-select-icon",type:"search"}),l.default.createElement(u.TextInput,{className:"Asskmyeb-select-input",placeholder:"搜索核算项目...",value:m,onChange:function(t){return e.setState({serchFor:t})}})):l.default.createElement(u.SinglePicker,{className:"Asskmyeb-select-select-wrap",district:O.toJS(),onOk:function(e){e.value?(a(o.getAssKmyebListFetch(h,w,_,e.value,e.key,!0)),a(o.changeKmyeAssAcId(e.key,e.value))):(a(o.getAssKmyebListFetch(h,w,_,e.value,e.key)),a(o.changeKmyeAssAcId(e.key,e.value)))}},l.default.createElement("span",null,l.default.createElement("span",{className:"Asskmyeb-select-select-text"},x),l.default.createElement(u.Icon,{className:"Asskmyeb-select-select-trangle",type:"arrow-down",size:"10"}))),l.default.createElement(u.SinglePicker,{district:[{key:"选科目",value:"0"},{key:"搜索",value:"1"}],onOk:function(t){"搜索"===t.key?e.setState({isSerch:!0}):e.setState({isSerch:!1,serchFor:""})}},l.default.createElement("span",{className:"Asskmyeb-select-select-option"},l.default.createElement("span",null,p?"搜索":"选科目"),l.default.createElement(u.Icon,{type:"triangle",size:"10",color:"#ccc"}))))),l.default.createElement(u.Row,{className:"ba-title"},l.default.createElement("div",{className:"ba-title-item"},"期初余额"),l.default.createElement("div",{className:"ba-title-item"},"本期借方"),l.default.createElement("div",{className:"ba-title-item"},"本期贷方"),l.default.createElement("div",{className:"ba-title-item"},"期末余额")),l.default.createElement(u.ScrollView,{flex:"1",uniqueKey:"Asskmyeb-scroll",savePosition:!0},l.default.createElement("div",{className:"ba-list"},E.map(function(e,t){var c=void 0,s=void 0;if(e.get("isWrap"))c=++B,s=e.get("showchilditem");else if(e.get("isFirstChild")||e.get("isFirstAndLast")){var r=e.get("wrapId");c=(s=E.find(function(e){return e.get("assid")==r}).get("showchilditem"))?++B:"hide"}else{var o=e.get("wrapId"),i=E.find(function(e){return e.get("assid")==o}).get("showchilditem"),u=e.get("firstLength"),f=e.get("assid").substr(0,u);c=(s=E.find(function(e){return e.get("assid")==f&&e.get("wrapId")==o}).get("showchilditem"))&&i?++B:"hide"}return l.default.createElement(d.default,{key:t,ba:e,issuedate:h,endissuedate:w,dispatch:a,line:c,showchilditem:s,kmyeAssCategory:_,acId:I,idx:t,oldAssKmyebList:y,className:e.get("disableTime")?"ba-item-disable":"",assIdTwo:b,doubleAssCategory:v,history:n})}))))}}]),t}())||a;t.default=p},2307:function(e,t,n){},2309:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,c,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),r=(c=s)&&c.__esModule?c:{default:c},o=(n(9),n(22)),i=n(16),u=f(n(1431)),d=f(n(1587));function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var g={4:"#fff",6:"#D1C0A5",8:"#7E6B5A",10:"#59493f"},m=(0,o.immutableRenderDecorator)(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),l(t,[{key:"render",value:function(){var e=this.props,t=e.ba,n=e.dispatch,a=e.issuedate,c=e.endissuedate,l=e.line,s=e.showchilditem,o=e.kmyeAssCategory,f=e.acId,m=e.idx,p=e.oldAssKmyebList,A=e.className,E=e.assIdTwo,y=e.doubleAssCategory,h=e.history,_=0==t.get("showchilditem")||t.get("showchilditem"),b=s&&t.get("showchilditem"),v=(t.get("assid").length-4)/200*10+"rem",S={width:v,background:g[t.get("assid").length]},C=t.get("assid"),x=t.get("upperAssid");C==x&&(C=f);var O=m;return r.default.createElement("div",{className:["ba",A].join(" "),style:{display:"hide"!==l?"":"none",background:t.get("isWrap")?"":"rgb(254, 243, 227)"}},r.default.createElement("div",null,r.default.createElement("span",{className:"name",onClick:function(e){sessionStorage.setItem("previousPage","assYeb"),n(u.getAssMxbAclistAndReportdetailFetch(a,c,C,t.get("upperAssid"),o,E,y)),h.push("/assmxb")}},"0rem"==v||t.get("isWrap")?"":r.default.createElement("span",{className:"ac-flag",style:S}),r.default.createElement("span",{className:"name-name"},t.get("assid")+"_"+t.get("assname"))),r.default.createElement("span",{className:"triangle",onClick:function(e){_&&(p.forEach(function(e,n){e.get("assid")===t.get("assid")&&e.get("wrapId")===t.get("wrapId")&&(O=n)}),n(d.showAssKmyebChildItiem(O)))}},r.default.createElement(i.Icon,{type:"arrow-down",style:{display:_?"":"none",transform:b?"rotate(180deg)":""}}))),r.default.createElement("div",{className:"ba-info"},r.default.createElement(i.Amount,{showZero:!0},t.get("debitOpeningBalance")||-t.get("creditOpeningBalance")||0),r.default.createElement(i.Amount,{showZero:!0},t.get("debit")),r.default.createElement(i.Amount,{showZero:!0},t.get("credit")),r.default.createElement(i.Amount,{showZero:!0},t.get("debitClosingBalance")||-t.get("creditClosingBalance")||0)))}}]),t}())||a;t.default=m},2310:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,n=arguments[1];return((e={},l(e,c.INIT_ASSKMYEB,function(){return s}),l(e,c.GET_ASS_KMYEB_LIST_FETCH,function(){var e=n.receivedData.data,c=[];return e.forEach(function(e,t){e.assBaDtoList.length&&(e.showchilditem=!1),e.isWrap=!0,e.wrapId=e.assid,e.wrapName=e.assname,c.push(e);var n=e.assBaDtoList.length;if(e.assBaDtoList.length){var a=e.assBaDtoList[0].acid.length;e.assBaDtoList.forEach(function(t,l){t.assid=t.acid,t.assname=t.acName,t.wrapId=e.assid,t.wrapName=e.assname,t.upperAssid=e.upperAssid,t.firstLength=a,t.disableTime=e.disableTime;var s=l+1==n?a:e.assBaDtoList[l+1].acid.length;t.acid.length==a&&s>a?(t.showchilditem=!1,t.isFirstChild=!0):t.acid.length==a&&(t.isFirstAndLast=!0),c.push(t)})}}),t=t.set("issuedate",n.issuedate).set("assKmyebList",(0,a.fromJS)(c)).set("kmyeAssCategory",n.kmyeAssCategory).set("kmyeAssAcId",n.kmyeAssAcId).set("endissuedate",n.endissuedate),""===n.assIdTwo||n.assIdTwo?t.set("assIdTwo",n.assIdTwo):t.set("doubleAss",(0,a.fromJS)([])).set("doubleAssCategory","").set("isDouble",!1).set("assIdTwo","")}),l(e,c.GET_ASS_TREE,function(){var e=[];return n.receivedData.data.forEach(function(t){e.push({key:t.acid+" "+t.acname,value:t.acid})}),e.unshift({key:"全部",value:""}),t=t.set("assTree",(0,a.fromJS)(e))}),l(e,c.SHOW_ASS_KMYEB_CHILD_ITIEM,function(){return t.updateIn(["assKmyebList",n.idx,"showchilditem"],function(e){return!e})}),l(e,c.CHANGE_KMYE_ASS_ACID,function(){return t.set("kmyeAssAcId",n.key).set("acId",n.value)}),l(e,c.CHANGE_ASS_YEB_BEGIN_DATE,function(){return t=n.bool?t.set("endissuedate",n.begin):t.set("issuedate",n.begin)}),l(e,c.CHECK_HAVE_DOUBLE_ASS,function(){return t.set("isDouble",n.isDouble).set("doubleAss",(0,a.fromJS)(n.doubleAss)).set("doubleAssCategory",n.doubleAssCategory)}),e)[n.type]||function(){return t})()};var a=n(9),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1588));function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=(0,a.fromJS)({issuedate:"",endissuedate:"",kmyeAssCategory:"客户",assKmyebList:[],assTree:[],kmyeAssAcId:"全部",acId:"",isDouble:!1,assIdTwo:"",doubleAssCategory:"",doubleAss:[]})},961:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.view=t.reducer=void 0;var a=o(n(1826)),c=o(n(1074)),l=o(n(1067)),s=o(n(1214)),r=o(n(186));function o(e){return e&&e.__esModule?e:{default:e}}var i={cxAccountState:c.default,yllsState:l.default,lrpzState:s.default,previewEnclosureState:r.default};t.reducer=i,t.view=a.default},977:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.view=t.reducer=void 0;var a=s(n(2306)),c=s(n(2310)),l=s(n(1590));function s(e){return e&&e.__esModule?e:{default:e}}var r={assYebState:c.default,assMxbState:l.default};t.reducer=r,t.view=a.default}}]);