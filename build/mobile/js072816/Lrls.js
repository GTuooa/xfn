(window.webpackJsonp=window.webpackJsonp||[]).push([[124],{1281:function(e,t,n){},1647:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=Q(n(0)),o=n(31),r=n(9),u=n(16),s=n(1061),i=n(1058),f=n(48),d=n(123),m=n(13),g=W(n(10)),p=W(n(25));n(1655);var y=Q(n(1657)),h=Q(n(1658)),A=Q(n(1659)),E=Q(n(1660)),b=Q(n(1667)),v=Q(n(1668)),w=Q(n(1672)),_=Q(n(1673)),C=Q(n(1674)),S=Q(n(1675)),z=Q(n(1678)),N=Q(n(1679)),T=Q(n(1680)),j=Q(n(1681)),k=Q(n(1682)),O=Q(n(1683)),x=Q(n(1684)),L=Q(n(1685)),R=Q(n(1686)),P=Q(n(1687)),D=Q(n(1688)),I=Q(n(1689)),Z=Q(n(1690)),U=Q(n(1691)),F=Q(n(1692)),M=Q(n(1697)),B=Q(n(1698)),X=Q(n(1699)),J=Q(n(1700)),Y=Q(n(1701)),H=Q(n(1702)),q=Q(n(1703)),G=Q(n(1704)),K=Q(n(1705)),$=Q(n(1706)),V=Q(n(1707));function W(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function Q(e){return e&&e.__esModule?e:{default:e}}var ee=(0,o.connect)(function(e){return e})(a=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),c(t,[{key:"componentDidMount",value:function(){if(g.setTitle({title:"录入流水"}),g.setIcon({showIcon:!1}),g.setRight({show:!1}),sessionStorage.getItem("ylFj"))sessionStorage.removeItem("ylFj");else{var e=!1;sessionStorage.getItem("ylToLr")?(sessionStorage.removeItem("ylToLr"),e=!0):this.props.dispatch(i.homeAccountActions.changeLrlsEnclosureList());var t=this.props.homeState.getIn(["data","userInfo","sobInfo","moduleInfo"]),n=!t||t.indexOf("ENCLOSURE_RUN")>-1,a="TRUE"===this.props.homeState.getIn(["data","userInfo","checkMoreFj"]);n&&a&&this.props.dispatch(i.homeAccountActions.getLabelFetch());var c=sessionStorage.getItem("lrlsInsertCard");"lrlsIUManage"!=c&&"lrlsAccount"!=c&&"lrlsInventory"!=c?(this.props.dispatch(i.homeAccountActions.accountSaveAndNew()),this.props.dispatch(i.homeAccountActions.getRunningCategory(e)),this.props.dispatch(f.homeActions.setDdConfig())):sessionStorage.setItem("lrlsInsertCard","")}}},{key:"render",value:function(){var e=this.props,t=e.dispatch,n=e.homeAccountState,a=e.homeState,c=e.history,o=a.getIn(["permissionInfo","LrAccount"]).getIn(["edit","permission"]),f=n.get("lastCategory"),W=n.get("accountList"),Q=n.get("data"),ee=Q.get("categoryType"),te=Q.get("categoryUuid"),ne=Q.get("categoryName"),ae=Q.get("runningDate"),ce=Q.get("runningAbstract"),le=Q.get("accountName"),oe=Q.get("accountUuid"),re=Q.get("amount"),ue=(Q.get("menuLeftIdx"),null);return({LB_CATEGORY:function(){ue=l.default.createElement(u.TreeSelect,{district:f.toJS(),onChange:function(e){if(t(i.homeAccountActions.changeLrlsData(["project","projectCard"],(0,r.fromJS)([{amount:""}]))),e.canShow){var n=""+e.uuid+p.TREE_JOIN_STR+e.name;t(i.homeAccountActions.getCardDetail(n))}else{var a=""+e.uuid+p.TREE_JOIN_STR+e.name+p.TREE_JOIN_STR+e.categoryType;t(i.homeAccountActions.toManageType(a,e))}}})},LB_YYSR:function(){ue=l.default.createElement(y.default,{history:c,editPermission:o})},LB_YYZC:function(){ue=l.default.createElement(h.default,{history:c,editPermission:o})},LB_FYZC:function(){ue=l.default.createElement(A.default,{history:c,editPermission:o})},LB_XCZC:function(){ue=l.default.createElement(E.default,{history:c,editPermission:o})},LB_XCZC_LS:function(){ue=l.default.createElement(b.default,{history:c,editPermission:o})},LB_SFZC:function(){ue=l.default.createElement(v.default,{history:c,editPermission:o})},LB_SFZC_LS:function(){ue=l.default.createElement(w.default,{history:c,editPermission:o})},LB_YYWSR:function(){ue=l.default.createElement(R.default,{history:c,editPermission:o})},LB_YYWZC:function(){ue=l.default.createElement(P.default,{history:c,editPermission:o})},LB_ZSKX:function(){ue=l.default.createElement(D.default,{history:c,editPermission:o})},LB_ZSKX_LS:function(){ue=l.default.createElement(I.default,{history:c,editPermission:o})},LB_ZFKX:function(){ue=l.default.createElement(Z.default,{history:c,editPermission:o})},LB_ZFKX_LS:function(){ue=l.default.createElement(U.default,{history:c,editPermission:o})},LB_CQZC:function(){ue=l.default.createElement(F.default,{history:c,editPermission:o})},LB_JK:function(){ue=l.default.createElement(M.default,{history:c,editPermission:o})},LB_JK_LS:function(){ue=l.default.createElement(B.default,{history:c,editPermission:o})},LB_TZ:function(){ue=l.default.createElement(X.default,{history:c,editPermission:o})},LB_TZ_LS:function(){ue=l.default.createElement(J.default,{history:c,editPermission:o})},LB_ZB:function(){ue=l.default.createElement(Y.default,{history:c,editPermission:o})},LB_ZB_LS:function(){ue=l.default.createElement(H.default,{history:c,editPermission:o})},LB_ZZ:function(){ue=l.default.createElement(_.default,{history:c,editPermission:o})},LB_SFGL:function(){ue=l.default.createElement(C.default,{history:c,editPermission:o})},LB_SFGL_LS:function(){ue=l.default.createElement(S.default,{history:c,editPermission:o})},LB_JZCB:function(){ue=l.default.createElement(z.default,{history:c,editPermission:o})},LB_JZCB_LS:function(){ue=l.default.createElement(N.default,{history:c,editPermission:o})},LB_KJFP:function(){ue=l.default.createElement(T.default,{history:c,editPermission:o})},LB_KJFP_LS:function(){ue=l.default.createElement(j.default,{history:c,editPermission:o})},LB_FPRZ:function(){ue=l.default.createElement(k.default,{history:c,editPermission:o})},LB_FPRZ_LS:function(){ue=l.default.createElement(O.default,{history:c,editPermission:o})},LB_ZCWJZZS:function(){ue=l.default.createElement(x.default,{history:c,editPermission:o})},LB_ZCWJZZS_LS:function(){ue=l.default.createElement(L.default,{editPermission:o})},LB_GGFYFT:function(){ue=l.default.createElement(q.default,{history:c,editPermission:o})},LB_GGFYFT_LS:function(){ue=l.default.createElement(G.default,{history:c,editPermission:o})},LB_JZSY:function(){ue=l.default.createElement(K.default,{history:c,editPermission:o})},LB_JZSY_LS:function(){ue=l.default.createElement($.default,{history:c})},LB_ZJTX:function(){ue=l.default.createElement(V.default,{history:c,editPermission:o})}}[ee]||function(){return null})(),ue||l.default.createElement(u.Container,{className:"lrls"},l.default.createElement(d.TopDatePicker,{value:ae,onChange:function(e){return t(i.homeAccountActions.changeHomeAccountData("runningDate",new m.DateLib(e).valueOf()))},callback:function(e){t(i.homeAccountActions.changeHomeAccountData("runningDate",e))}}),l.default.createElement("div",{className:"lrls-card"},l.default.createElement(s.CategoryCom,{isModify:!1,dispatch:t,lastCategory:f,categoryUuid:te,categoryName:ne})),l.default.createElement(u.ScrollView,{flex:"1"},l.default.createElement(u.Row,{className:"lrls-card"},l.default.createElement(u.Row,{className:"lrls-line lrls-bottom"},l.default.createElement("label",null,"摘要："),l.default.createElement(u.TextareaItem,{placeholder:"摘要填写",value:ce,onChange:function(e){t(i.homeAccountActions.changeHomeAccountData("runningAbstract",e))}})),l.default.createElement(u.Row,{className:"lrls-more-card lrls-bottom"},l.default.createElement("label",null,"金额："),l.default.createElement(u.TextListInput,{placeholder:"填写金额",value:re,onChange:function(e){/^\d*\.?\d{0,2}$/g.test(e)&&t(i.homeAccountActions.changeHomeAccountData("amount",e))}})),l.default.createElement(u.Row,{className:"lrls-more-card lrls-more-account"},l.default.createElement("label",null,"账户："),l.default.createElement(s.Account,{accountList:W,accountUuid:oe,accountName:le,dispatch:t,history:c,onOk:function(e){return t(i.homeAccountActions.changeHomeAccountData(e))}})))),l.default.createElement(u.ButtonGroup,null,l.default.createElement(u.Button,{disabled:!o,onClick:function(){g.Alert("请选择类别")}},l.default.createElement(u.Icon,{type:"save"}),l.default.createElement("span",null,"保存")),l.default.createElement(u.Button,{disabled:!o,onClick:function(){g.Alert("请选择类别")}},l.default.createElement(u.Icon,{type:"new"}),l.default.createElement("span",null,"保存并新增"))))}}]),t}())||a;t.default=ee},1655:function(e,t,n){},1657:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,c,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(0),r=(c=o)&&c.__esModule?c:{default:c},u=n(31),s=(n(9),n(16)),i=n(123),f=n(1061),d=n(1058),m=n(1341),g=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1064)),p=n(13);var y=(0,u.connect)(function(e){return e})(a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={showList:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),l(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.dispatch,a=t.homeAccountState,c=t.yysrAccountState,l=t.history,o=t.homeState,u=t.editPermission,y=this.state.showList,h=a.get("rate"),A=a.get("lastCategory"),E=a.get("accountList"),b=c.get("data"),v="modify"===c.getIn(["views","insertOrModify"]),w=c.getIn(["views","fromYl"]),_=b.get("flowNumber"),C=b.get("accountName"),S=b.get("accountUuid"),z=b.get("categoryUuid"),N=b.get("categoryName"),T=b.get("runningDate"),j=b.get("runningState"),k=b.get("runningAbstract"),O=b.get("amount"),x="SX_HW"==b.get("propertyCarryover"),L=b.get("acBusinessIncome"),R=L.get("beManagemented"),P=L.get("beDeposited"),D=L.get("beCarryover"),I=L.get("beSellOff"),Z=L.get("contactsRange"),U=b.get("businessList"),F=[{key:"STATE_YYSR_DJ",value:"预收",disabled:!P,message:"流水设置中未启用"},{key:"STATE_YYSR_XS",value:"销售"},{key:"STATE_YYSR_TS",value:"退销",disabled:!I,message:"流水设置中未启用"}],M=b.get("currentAmount"),B=b.get("beCarryover"),X=(b.get("carryoverAmount"),b.get("billType")),J=b.get("billStates"),Y=b.get("billList"),H=!1,q=!1;Y&&Y.size?(H=!0,q=!0):H="bill_states_not_make_out"===J;var G=h.get("scale"),K=b.get("taxRate"),$=b.get("tax"),V=c.get("preData"),W=V.get("preAmount"),Q=V.get("receiveAmount"),ee=b.get("offsetAmount"),te=null,ne=null,ae=null,ce=null,le=function(){if(x){var e=c.get("stockCardList"),t=L.get("stockCardList"),a=L.get("stockRange");te=r.default.createElement(f.StockCom,{dispatch:n,stockCardList:e,stockCardRange:t,changeAmount:function(e){return n(m.yysrAccountActions.changeAmount(e))},onOk:function(e,t,a){return n(m.yysrAccountActions.changeYysrStockCard(e,t,a))},stockRange:a,history:l,cardDisabled:v&&B})}if(x&&D&&!v){var o=L.get("stockCardList"),u=L.get("carryoverCardList");ne=r.default.createElement(s.Row,{className:"lrls-card"},r.default.createElement(s.Row,{className:"lrls-more-card"},r.default.createElement("span",null,"结转成本"),r.default.createElement("div",{className:"noTextSwitchShort"},r.default.createElement(s.Switch,{checked:B,color:"#FF8348",onClick:function(){n(m.yysrAccountActions.changeYysrData("beCarryover",!B))}}))),r.default.createElement("div",{style:{display:B?"":"none"}},o.map(function(e,t){return r.default.createElement("div",{key:t,className:"lrls-padding-top lrls-margin-bottom"},r.default.createElement(s.Row,{className:"lrls-more-card lrls-bottom"},r.default.createElement("span",null,"存货明细(",t+1,")："),r.default.createElement("span",{className:"overElli",style:{flex:"1"}},e.get("uuid")?e.get("code")+" "+e.get("name"):"请先选择存货卡片")),r.default.createElement(s.Row,{className:"lrls-more-card"},r.default.createElement("label",null,"金额:"),r.default.createElement(s.TextListInput,{placeholder:"填写成本金额",value:u.getIn([t,"amount"]),onChange:function(e){/^\d*\.?\d{0,2}$/g.test(e)&&n(m.yysrAccountActions.changeYysrStockCard("carryoverCardList",e,t))}})))})))}ce=r.default.createElement(s.Row,{className:"lrls-more-card lrls-margin-top"},r.default.createElement("label",null,"税率:"),r.default.createElement(s.SinglePicker,{district:"general"==G?g.taxRateList:g.smallTaxRateList,value:K,onOk:function(e){q||n(m.yysrAccountActions.changeTaxRate(e.value))}},r.default.createElement(s.Row,{className:"lrls-category lrls-padding"},r.default.createElement("span",null,K+"%",r.default.createElement("span",{className:"lrls-placeholder"},"(税额：",r.default.createElement(s.Amount,{showZero:!0},$)," 价税合计: ",r.default.createElement(s.Amount,{showZero:!0},O),")")),r.default.createElement(s.Icon,{type:"triangle"})))),ae=r.default.createElement(s.Row,{className:"lrls-card",style:{display:"isEnable"==G?"none":""}},r.default.createElement(s.Row,{className:"yysr-bill"},r.default.createElement("div",{className:"lrls-more-card"},r.default.createElement("label",null,"票据类型:"),r.default.createElement(s.SinglePicker,{district:[{key:"发票",value:"bill_common"},{key:"其他票据",value:"bill_other"}],value:X,onOk:function(e){q||n(m.yysrAccountActions.changeYysrData("billType",e.value))}},r.default.createElement(s.Row,{className:"lrls-category lrls-padding"},r.default.createElement("span",null," ","bill_common"==X?"发票":"其他票据"," "),r.default.createElement(s.Icon,{type:"triangle"})))),"bill_common"==X?r.default.createElement(s.SwitchText,{checked:!H,checkedChildren:"已开票",unCheckedChildren:"未开票",className:"threeTextSwitch",onChange:function(){q||n(m.yysrAccountActions.changeBillStates())}}):null),"bill_common"==X?r.default.createElement(s.Row,null,ce,q?r.default.createElement(s.Row,{className:"lrls-margin-top"},"开票流水：",Y.getIn([0,"flowNumber"]),"(发票已开票)"):null):null)},oe=!1,re=!1,ue="总金额:",se=!1,ie=null,fe=null;(({STATE_YYSR_DJ:function(){oe=!0,re=!1,ue="预收金额:"},STATE_YYSR_XS:function(){le(),oe=!R,w&&b.get("isFullPayment")&&(oe=!0),re=!(!R||w),se=!!R,fe=W>0?r.default.createElement(s.Row,null,r.default.createElement("div",{style:{paddingLeft:".6rem"},className:"lrls-placeholder"},r.default.createElement("span",{style:{marginRight:".2rem"}},"预收款: ",r.default.createElement(s.Amount,{showZero:!0},W)),r.default.createElement("span",null,"应收款: ",r.default.createElement(s.Amount,{showZero:!0},Q))),r.default.createElement(s.Row,{className:"yysr-amount margin-top-bot"},r.default.createElement("label",null,"预收抵扣:"),r.default.createElement(s.TextListInput,{placeholder:"填写金额",value:ee,onChange:function(e){/^\d*\.?\d{0,2}$/g.test(e)&&n(m.yysrAccountActions.changeYysrData("offsetAmount",e))}}))):null,ie=r.default.createElement(s.Row,{className:"yysr-amount"},r.default.createElement("label",null,"本次收款:"),r.default.createElement(s.TextListInput,{placeholder:"填写金额",value:M,onChange:function(e){/^\d*\.?\d{0,2}$/g.test(e)&&n(m.yysrAccountActions.changeYysrData("currentAmount",e))},onFocus:function(){var e=O-ee;n(m.yysrAccountActions.changeYysrData("currentAmount",0==e?"":e))}}),M>0?r.default.createElement(f.Account,{history:l,accountList:E,accountUuid:S,accountName:C,onOk:function(e){return n(m.yysrAccountActions.changeAccount(e))}}):null)},STATE_YYSR_TS:function(){le(),oe=!R,w&&b.get("isFullPayment")&&(oe=!0),re=!(!R||w),se=!!R,fe=Q>0?r.default.createElement(s.Row,null,r.default.createElement("div",{style:{paddingLeft:".6rem"},className:"lrls-placeholder"},r.default.createElement("span",{style:{marginRight:".2rem"}},"预收款: ",r.default.createElement(s.Amount,{showZero:!0},W)),r.default.createElement("span",null,"应收款: ",r.default.createElement(s.Amount,{showZero:!0},Q))),r.default.createElement(s.Row,{className:"yysr-amount margin-top-bot"},r.default.createElement("label",null,"应收抵扣:"),r.default.createElement(s.TextListInput,{placeholder:"填写金额",value:ee,onChange:function(e){/^\d*\.?\d{0,2}$/g.test(e)&&n(m.yysrAccountActions.changeYysrData("offsetAmount",e))}}))):null,ie=r.default.createElement(s.Row,{className:"yysr-amount"},r.default.createElement("label",null,"本次付款:"),r.default.createElement(s.TextListInput,{placeholder:"填写金额",value:M,onChange:function(e){/^\d*\.?\d{0,2}$/g.test(e)&&n(m.yysrAccountActions.changeYysrData("currentAmount",e))},onFocus:function(){var e=O-ee;n(m.yysrAccountActions.changeYysrData("currentAmount",0==e?"":e))}}),M>0?r.default.createElement(f.Account,{history:l,accountList:E,accountUuid:S,accountName:C,onOk:function(e){return n(m.yysrAccountActions.changeAccount(e))}}):null)}})[j]||function(){return null})();var de=null,me=b.get("beProject"),ge=!x||"STATE_YYSR_DJ"==j,pe=a.get("project"),ye=pe.get("usedProject");if(me&&"STATE_YYSR_DJ"!=j){!x&&ye&&(ge=!1);de=r.default.createElement(f.ProjectCom,{project:pe,dispatch:n,changeAmount:function(e){return n(m.yysrAccountActions.changeAmount(e))},noMore:x,noAmount:x})}var he=null,Ae=b.get("paymentList");if(Ae.size){he=(0,f.hxCom)(Ae,y,function(){return e.setState({showList:!y})})}var Ee=null;if(R){var be=c.get("contactsCardList"),ve=L.get("contactsCardRange"),we=ge||oe||re?"showBottom":"noBottom";Ee=r.default.createElement(f.ContancsCom,{cardList:be,cardObj:ve,noBottom:we,onOk:function(e){n(m.yysrAccountActions.changeAcList(e.value,"contactsCardRange")),se&&n(m.yysrAccountActions.getYysrPreAmount())},history:l,dispatch:n,isPayUnit:!1,contactsRange:Z,disabled:v})}var _e=o.getIn(["data","userInfo","sobInfo","moduleInfo"]),Ce=!_e||_e.indexOf("ENCLOSURE_RUN")>-1,Se="TRUE"===o.getIn(["data","userInfo","checkMoreFj"]),ze=a.getIn(["flags","showlsfj"]),Ne=(a.get("previewImageList").toJS(),a.get("label")),Te=a.get("enclosureList"),je=a.get("enclosureCountUser");return r.default.createElement(s.Container,{className:"lrls"},r.default.createElement(i.TopDatePicker,{value:T,onChange:function(e){n(m.yysrAccountActions.changeYysrData("runningDate",new p.DateLib(e).valueOf())),n(d.homeAccountActions.changeHomeAccountData("runningDate",new p.DateLib(e).valueOf())),se&&n(m.yysrAccountActions.getYysrPreAmount())},callback:function(e){n(m.yysrAccountActions.changeYysrData("runningDate",e)),n(d.homeAccountActions.changeHomeAccountData("runningDate",e)),se&&n(m.yysrAccountActions.getYysrPreAmount())}}),v?r.default.createElement(s.Row,{className:"lrls-row"}," ","流水号： "+_," "):null,r.default.createElement(s.ScrollView,{flex:"1"},r.default.createElement("div",{className:"lrls-card"},r.default.createElement(f.CategoryCom,{isModify:v,dispatch:n,lastCategory:A,categoryUuid:z,categoryName:N,showProject:me&&"STATE_YYSR_DJ"!=j,project:pe,noAmount:x,changeAmount:function(e){return n(m.yysrAccountActions.changeAmount(e))}}),r.default.createElement(s.Radio,{disabled:v,list:F,value:j,onChange:function(e){e!=j&&(n(m.yysrAccountActions.changeRunningState(e)),n(m.yysrAccountActions.changeYysrData("runningAbstract",(0,f.abstractFun)(e,b))),R&&(n(m.yysrAccountActions.getYysrCardList("contactsRange")),"STATE_YYSR_DJ"!=e&&n(m.yysrAccountActions.getYysrPreAmount())))}})),r.default.createElement("div",{className:"lrls-card lrls-line"},r.default.createElement("label",null,"摘要："),r.default.createElement(s.TextareaItem,{placeholder:"摘要填写",value:k,onChange:function(e){n(m.yysrAccountActions.changeYysrData("runningAbstract",e))}})),de,te,r.default.createElement("div",{className:"lrls-card",style:{display:R||ge||oe?"":"none"}},Ee,r.default.createElement(s.Row,{className:ge||oe?"yysr-amount lrls-bottom":"yysr-amount"},ge?r.default.createElement("label",null,ue):null,ge?r.default.createElement(s.TextListInput,{placeholder:"填写金额",value:O,onChange:function(e){/^\d*\.?\d{0,2}$/g.test(e)&&n(m.yysrAccountActions.changeAmount(e))}}):null,!ge&&oe?r.default.createElement("label",null,"账户："):null,oe?r.default.createElement(f.Account,{history:l,accountList:E,accountUuid:S,accountName:C,onOk:function(e){return n(m.yysrAccountActions.changeAccount(e))}}):null),re?r.default.createElement("div",null,fe,ie):null),ae,ne,U&&U.size?r.default.createElement(s.Row,{className:"lrls-margin-top"},"结转成本流水：",U.getIn([0,"flowNumber"]),"(已结转成本)"):null,he,r.default.createElement(f.UploadFj,{dispatch:n,enCanUse:Ce,editPermission:u,enclosureList:Te,showlsfj:ze,checkMoreFj:Se,label:Ne,enclosureCountUser:je,history:l})),r.default.createElement(s.ButtonGroup,null,r.default.createElement(s.Button,{onClick:function(){n(m.yysrAccountActions.saveRunningbusiness())}},r.default.createElement(s.Icon,{type:"save"}),r.default.createElement("span",null,"保存")),r.default.createElement(s.Button,{onClick:function(){n(m.yysrAccountActions.saveRunningbusiness(!0))}},r.default.createElement(s.Icon,{type:"new"}),r.default.createElement("span",null,"保存并新增"))))}}]),t}())||a;t.default=y},1658:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,c,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(0),r=(c=o)&&c.__esModule?c:{default:c},u=n(31),s=(n(9),n(16)),i=n(123),f=n(1061),d=n(1058),m=n(1342),g=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1064)),p=n(13);var y=(0,u.connect)(function(e){return e})(a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={showList:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),l(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.dispatch,a=t.homeAccountState,c=t.yyzcAccountState,l=t.history,o=t.homeState,u=t.editPermission,y=this.state.showList,h=a.get("lastCategory"),A=a.get("accountList"),E=c.get("data"),b=c.get("preData"),v="modify"===c.getIn(["views","insertOrModify"]),w=c.getIn(["views","fromYl"]),_=E.get("flowNumber"),C=E.get("categoryUuid"),S=E.get("categoryName"),z=E.get("runningDate"),N=E.get("runningState"),T=E.get("runningAbstract"),j=E.get("accountName"),k=E.get("accountUuid"),O=E.get("amount"),x="SX_HW"==E.get("propertyCarryover"),L=E.get("acBusinessExpense"),R=L.get("beManagemented"),P=[{key:"STATE_YYZC_DJ",value:"预付",disabled:!L.get("beDeposited"),message:"流水设置中未启用"},{key:"STATE_YYZC_GJ",value:"购进"},{key:"STATE_YYZC_TG",value:"退购",disabled:!L.get("beSellOff"),message:"流水设置中未启用"}],D=a.get("rate").get("scale"),I=E.get("billType"),Z=E.get("billStates"),U=E.get("billList"),F=!1,M=!1;U&&U.size?(F=!0,M=!0):F="bill_states_not_auth"===Z;var B=E.get("taxRate"),X=E.get("tax"),J=null,Y=b.get("preAmount"),H=b.get("receiveAmount"),q=E.get("offsetAmount"),G=E.get("currentAmount"),K=null,$=null,V=null,W=function(){if(x){var e=c.get("stockCardList"),t=L.get("stockCardList"),a=L.get("stockRange");V=r.default.createElement(f.StockCom,{dispatch:n,stockCardList:e,stockCardRange:t,changeAmount:function(e){return n(m.yyzcAccountActions.changeYyzcTaxRateOrAmount("amount",e))},onOk:function(e,t,a){return n(m.yyzcAccountActions.changeYyzcStockCard(e,t,a))},stockRange:a,history:l})}var o=null;"general"===D&&(o=r.default.createElement(s.Row,{className:"lrls-more-card lrls-margin-top"},r.default.createElement("label",null,"税率:"),r.default.createElement(s.SinglePicker,{district:g.taxRateList,value:B,onOk:function(e){M||n(m.yyzcAccountActions.changeYyzcTaxRateOrAmount("taxRate",e.value))}},r.default.createElement(s.Row,{className:"lrls-category lrls-padding"},r.default.createElement("span",null,B+"%",r.default.createElement("span",{className:"lrls-placeholder"},"(税额：",r.default.createElement(s.Amount,{showZero:!0},X)," 价税合计: ",r.default.createElement(s.Amount,{showZero:!0},O),")")),r.default.createElement(s.Icon,{type:"triangle"})))),J=r.default.createElement(s.Row,{className:"lrls-card"},r.default.createElement(s.Row,{className:"yysr-bill"},r.default.createElement("div",{className:"lrls-more-card"},r.default.createElement("label",null,"票据类型:"),r.default.createElement(s.SinglePicker,{district:[{key:"增值税专用发票",value:"bill_special"},{key:"其他票据",value:"bill_other"}],value:I,onOk:function(e){M||n(m.yyzcAccountActions.changeYyzcData("billType",e.value))}},r.default.createElement(s.Row,{className:"lrls-category lrls-padding"},r.default.createElement("span",null,"bill_special"==I?"增值税专用发票":"其他票据"),r.default.createElement(s.Icon,{type:"triangle"})))),"bill_special"==I?r.default.createElement(s.SwitchText,{checked:!F,checkedChildren:"已认证",unCheckedChildren:"未认证",className:"threeTextSwitch",onChange:function(){M||n(m.yyzcAccountActions.changeYyzcBillStates())}}):null),"bill_special"==I?r.default.createElement(s.Row,null,o,M?r.default.createElement(s.Row,{className:"lrls-margin-top"},"认证流水：",U.getIn([0,"flowNumber"]),"(发票已认证)"):null):null))},Q=!1,ee=!1,te="总金额:",ne=!1;(({STATE_YYZC_DJ:function(){Q=!0,ee=!1,te="预付金额:"},STATE_YYZC_GJ:function(){W(),Q=!R,w&&E.get("isFullPayment")&&(Q=!0),ee=!(w||!R),ne=!!R,$=Y>0?r.default.createElement(s.Row,null,r.default.createElement("div",{style:{paddingLeft:".6rem"},className:"lrls-placeholder"},r.default.createElement("span",{style:{marginRight:".2rem"}},"预付款： ",r.default.createElement(s.Amount,{showZero:!0},Y)),r.default.createElement("span",{className:"lrls-placeholder"},"应付款： ",r.default.createElement(s.Amount,{showZero:!0},H))),r.default.createElement(s.Row,{className:"yysr-amount margin-top-bot"},r.default.createElement("label",null,"预付抵扣:"),r.default.createElement(s.TextListInput,{placeholder:"填写金额",value:q,onChange:function(e){/^\d*\.?\d{0,2}$/g.test(e)&&n(m.yyzcAccountActions.changeYyzcData("offsetAmount",e))}}))):null,K=r.default.createElement(s.Row,{className:"yysr-amount"},r.default.createElement("label",null,"本次付款:"),r.default.createElement(s.TextListInput,{placeholder:"填写金额",value:G,onChange:function(e){/^\d*\.?\d{0,2}$/g.test(e)&&n(m.yyzcAccountActions.changeYyzcData("currentAmount",e))},onFocus:function(){var e=O-q;n(m.yyzcAccountActions.changeYyzcData("currentAmount",0==e?"":e))}}),G>0?r.default.createElement(f.Account,{history:l,accountList:A,accountUuid:k,accountName:j,onOk:function(e){return n(m.yyzcAccountActions.changeYyzcAccount(e))}}):null)},STATE_YYZC_TG:function(){W(),Q=!R,w&&E.get("isFullPayment")&&(Q=!0),ee=!(w||!R),ne=!!R,$=H>0?r.default.createElement(s.Row,null,r.default.createElement("div",{style:{paddingLeft:".6rem"},className:"lrls-placeholder"},r.default.createElement("span",{style:{marginRight:".2rem"}},"预付款： ",r.default.createElement(s.Amount,null,Y)),r.default.createElement("span",null,"应付款： ",r.default.createElement(s.Amount,null,H))),r.default.createElement(s.Row,{className:"yysr-amount margin-top-bot"},r.default.createElement("label",null,"应付抵扣:"),r.default.createElement(s.TextListInput,{placeholder:"填写金额",value:q,onChange:function(e){/^\d*\.?\d{0,2}$/g.test(e)&&n(m.yyzcAccountActions.changeYyzcData("offsetAmount",e))}}))):null,K=r.default.createElement(s.Row,{className:"yysr-amount"},r.default.createElement("label",null,"本次收款:"),r.default.createElement(s.TextListInput,{placeholder:"填写金额",value:G,onChange:function(e){/^\d*\.?\d{0,2}$/g.test(e)&&n(m.yyzcAccountActions.changeYyzcData("currentAmount",e))},onFocus:function(){var e=O-q;n(m.yyzcAccountActions.changeYyzcData("currentAmount",0==e?"":e))}}),G>0?r.default.createElement(f.Account,{history:l,accountList:A,accountUuid:k,accountName:j,onOk:function(e){return n(m.yyzcAccountActions.changeYyzcAccount(e))}}):null)}})[N]||function(){return null})();var ae=null;if(R){var ce=c.get("contactsCardList"),le=L.get("contactsCardRange"),oe=L.get("contactsRange");ae=r.default.createElement(f.ContancsCom,{cardList:ce,cardObj:le,noBottom:"contactsCardRange",onOk:function(e){n(m.yyzcAccountActions.changeYyzcAssList(e.value,"contactsCardRange")),ne&&n(m.yyzcAccountActions.getYyzcPreAmount())},history:l,dispatch:n,isPayUnit:!0,contactsRange:oe,disabled:v})}var re=null,ue=E.get("beProject"),se=!x||"STATE_YYZC_DJ"==N,ie=a.get("project"),fe=ie.get("usedProject");if(!x&&ue&&"STATE_YYZC_DJ"!=N){fe&&(se=!1);re=r.default.createElement(f.ProjectCom,{project:ie,dispatch:n,changeAmount:function(e){return n(m.yyzcAccountActions.changeYyzcTaxRateOrAmount("amount",e))}})}var de=null,me=E.get("paymentList");if(me.size){de=(0,f.hxCom)(me,y,function(){return e.setState({showList:!y})})}var ge=o.getIn(["data","userInfo","sobInfo","moduleInfo"]),pe=!ge||ge.indexOf("ENCLOSURE_RUN")>-1,ye="TRUE"===o.getIn(["data","userInfo","checkMoreFj"]),he=a.getIn(["flags","showlsfj"]),Ae=(a.get("previewImageList").toJS(),a.get("label")),Ee=a.get("enclosureList"),be=a.get("enclosureCountUser");return r.default.createElement(s.Container,{className:"lrls"},r.default.createElement(i.TopDatePicker,{value:z,onChange:function(e){n(m.yyzcAccountActions.changeYyzcDate(new p.DateLib(e).valueOf())),n(d.homeAccountActions.changeHomeAccountData("runningDate",new p.DateLib(e).valueOf())),ne&&n(m.yyzcAccountActions.getYyzcPreAmount())},callback:function(e){n(m.yyzcAccountActions.changeYyzcDate(e)),n(d.homeAccountActions.changeHomeAccountData("runningDate",e)),ne&&n(m.yyzcAccountActions.getYyzcPreAmount())}}),v?r.default.createElement(s.Row,{className:"lrls-row"}," ","流水号： "+_," "):null,r.default.createElement(s.ScrollView,{flex:"1"},r.default.createElement("div",{className:"lrls-card"},r.default.createElement(f.CategoryCom,{isModify:v,dispatch:n,lastCategory:h,categoryUuid:C,categoryName:S,showProject:!x&&ue&&"STATE_YYZC_DJ"!=N,project:ie,changeAmount:function(e){return n(m.yyzcAccountActions.changeYyzcTaxRateOrAmount("amount",e))}}),r.default.createElement(s.Radio,{disabled:v,list:P,value:N,onChange:function(e){n(m.yyzcAccountActions.changeYyzcRunningState(e)),n(m.yyzcAccountActions.changeYyzcData("runningAbstract",(0,f.abstractFun)(e,E))),R&&(n(m.yyzcAccountActions.getYyzcCardList("contactsRange")),"STATE_YYZC_DJ"!=e&&n(m.yyzcAccountActions.getYyzcPreAmount()))}})),r.default.createElement("div",{className:"lrls-card lrls-line"},r.default.createElement("label",null,"摘要："),r.default.createElement(s.TextareaItem,{placeholder:"摘要填写",value:T,onChange:function(e){n(m.yyzcAccountActions.changeYyzcData("runningAbstract",e))}})),re,V,r.default.createElement("div",{className:"lrls-card",style:{display:R||se||Q?"":"none"}},ae,r.default.createElement(s.Row,{className:se||Q?"yysr-amount lrls-bottom":"yysr-amount"},se?r.default.createElement("label",null,te):null,se?r.default.createElement(s.TextListInput,{placeholder:"填写金额",value:O,onChange:function(e){/^\d*\.?\d{0,2}$/g.test(e)&&n(m.yyzcAccountActions.changeYyzcTaxRateOrAmount("amount",e))}}):null,!se&&Q?r.default.createElement("label",null,"账户:"):null,Q?r.default.createElement(f.Account,{history:l,accountList:A,accountUuid:k,accountName:j,onOk:function(e){n(m.yyzcAccountActions.changeYyzcAccount(e))}}):null),ee?r.default.createElement("div",null,$,K):null),J,de,r.default.createElement(f.UploadFj,{dispatch:n,enCanUse:pe,editPermission:u,enclosureList:Ee,showlsfj:he,checkMoreFj:ye,label:Ae,enclosureCountUser:be,history:l})),r.default.createElement(s.ButtonGroup,null,r.default.createElement(s.Button,{onClick:function(){n(m.yyzcAccountActions.saveRunningbusiness())}},r.default.createElement(s.Icon,{type:"save"}),r.default.createElement("span",null,"保存")),r.default.createElement(s.Button,{onClick:function(){n(m.yyzcAccountActions.saveRunningbusiness(!0))}},r.default.createElement(s.Icon,{type:"new"}),r.default.createElement("span",null,"保存并新增"))))}}]),t}())||a;t.default=y},1659:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,c,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(0),r=(c=o)&&c.__esModule?c:{default:c},u=n(31),s=(n(9),n(16)),i=n(123),f=n(1061),d=(y(n(25)),y(n(1064))),m=n(13),g=n(1058),p=n(1343);function y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var h=(0,u.connect)(function(e){return e})(a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={showList:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),l(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.dispatch,a=t.homeAccountState,c=t.fyzcAccountState,l=t.history,o=t.homeState,u=t.editPermission,y=this.state.showList,h=a.get("rate"),A=a.get("lastCategory"),E=a.get("accountList"),b=c.get("data"),v=c.getIn(["views","insertOrModify"]),w=c.getIn(["data","flowNumber"]),_="modify"===v,C=b.get("categoryUuid"),S=b.get("categoryName"),z=b.get("runningDate"),N=b.get("runningState"),T=b.get("runningAbstract"),j=b.get("accountName"),k=b.get("accountUuid"),O="STATE_FY_WF"!==N,x=b.get("amount"),L=b.get("acCost"),R=L.get("beManagemented"),P=L.get("beManagemented"),D=[{key:"STATE_FY_DJ",value:"预付",disabled:!R||!P,message:"流水设置中未启用"},{key:"STATE_FY_YF",value:"已付款"},{key:"STATE_FY_WF",value:"未付款",disabled:!R,message:"流水设置中未启用"}],I=b.get("propertyCostList"),Z=(0,f.costList)(I),U=b.get("propertyCost"),F=(0,f.propertyCostObj)(L,U).get("propertyCostName"),M=b.get("billType"),B=b.get("billStates"),X=b.get("billList"),J=!1,Y=!1;X&&X.size?(J=!0,Y=!0):J="bill_states_not_auth"===B;var H=h.get("scale"),q=b.get("taxRate"),G=b.get("tax"),K=null,$=null;"general"==H&&"STATE_FY_DJ"!=N&&($=r.default.createElement(s.Row,{className:"lrls-more-card lrls-margin-top"},r.default.createElement("label",null,"税率:"),r.default.createElement(s.SinglePicker,{district:d.taxRateList,value:q,onOk:function(e){Y||n(p.fyzcAccountActions.changeFyzcTaxRateOrAmount("taxRate",e.value))}},r.default.createElement(s.Row,{className:"lrls-category lrls-padding"},r.default.createElement("span",null,q+"%",r.default.createElement("span",{className:"lrls-placeholder"},"(税额：",r.default.createElement(s.Amount,{showZero:!0},G)," 价税合计: ",r.default.createElement(s.Amount,{showZero:!0},x),")")),r.default.createElement(s.Icon,{type:"triangle"})))),K=r.default.createElement(s.Row,{className:"lrls-card"},r.default.createElement(s.Row,{className:"yysr-bill"},r.default.createElement("div",{className:"lrls-more-card"},r.default.createElement("label",null,"票据类型:"),r.default.createElement(s.SinglePicker,{district:[{key:"增值税专用发票",value:"bill_special"},{key:"其他票据",value:"bill_other"}],value:M,onOk:function(e){n(p.fyzcAccountActions.changeFyzcData("billType",e.value))}},r.default.createElement(s.Row,{className:"lrls-category lrls-padding"},r.default.createElement("span",null,"bill_special"==M?"增值税专用发票":"其他票据"),r.default.createElement(s.Icon,{type:"triangle"})))),"bill_special"==M?r.default.createElement(s.SwitchText,{checked:!J,checkedChildren:"已认证",unCheckedChildren:"未认证",className:"threeTextSwitch",onChange:function(){Y||n(p.fyzcAccountActions.changeFyzcBillStates())}}):null),"bill_special"==M?r.default.createElement(s.Row,null,$,Y?r.default.createElement(s.Row,{className:"lrls-margin-top"},"认证流水：",X.getIn([0,"flowNumber"]),"(发票已认证)"):null):null));var V=null,W=b.get("beProject"),Q=!0,ee=a.get("project");if(W&&"STATE_FY_DJ"!=N){Q=!ee.get("usedProject");V=r.default.createElement(f.ProjectCom,{project:ee,dispatch:n,changeAmount:function(e){return n(p.fyzcAccountActions.changeFyzcTaxRateOrAmount("amount",e))},showCommon:!0,isFyzc:!0})}var te=null;if(R){var ne=c.get("contactsCardList"),ae=L.get("contactsCardRange"),ce=L.get("contactsRange"),le=Q||O&&0!=x?"showBottom":"noBottom";te=r.default.createElement(f.ContancsCom,{cardList:ne,cardObj:ae,noBottom:le,onOk:function(e){n(p.fyzcAccountActions.changeFyzcAssList(e.value,"contactsCardRange"))},history:l,dispatch:n,isPayUnit:!0,contactsRange:ce,disabled:_})}var oe=null,re=b.get("paymentList");if(re.size){oe=(0,f.hxCom)(re,y,function(){return e.setState({showList:!y})})}var ue=o.getIn(["data","userInfo","sobInfo","moduleInfo"]),se=!ue||ue.indexOf("ENCLOSURE_RUN")>-1,ie="TRUE"===o.getIn(["data","userInfo","checkMoreFj"]),fe=a.getIn(["flags","showlsfj"]),de=(a.get("previewImageList").toJS(),a.get("label")),me=a.get("enclosureList"),ge=a.get("enclosureCountUser");return r.default.createElement(s.Container,{className:"lrls"},r.default.createElement(i.TopDatePicker,{disabled:_,value:z,onChange:function(e){n(p.fyzcAccountActions.changeFyzcDate(new m.DateLib(e).valueOf())),n(g.homeAccountActions.changeHomeAccountData("runningDate",new m.DateLib(e).valueOf()))},callback:function(e){n(p.fyzcAccountActions.changeFyzcDate(e)),n(g.homeAccountActions.changeHomeAccountData("runningDate",e))}}),_?r.default.createElement(s.Row,{className:"lrls-row"}," ","流水号： "+w," "):null,r.default.createElement(s.ScrollView,{flex:"1"},r.default.createElement("div",{className:"lrls-card"},r.default.createElement(f.CategoryCom,{isModify:_,dispatch:n,lastCategory:A,categoryUuid:C,categoryName:S,showProject:W&&"STATE_FY_DJ"!=N,project:ee,showCommon:!0,isFyzc:!0,changeAmount:function(e){return n(p.fyzcAccountActions.changeFyzcTaxRateOrAmount("amount",e))}}),Z.length>1&&"STATE_FY_DJ"!=N?r.default.createElement(s.Row,{className:"lrls-more-card lrls-margin-top"},r.default.createElement("label",null,"费用性质: "),r.default.createElement(s.SinglePicker,{district:Z,value:U,onOk:function(e){n(p.fyzcAccountActions.changeFyzcData("propertyCost",e.value))}},r.default.createElement(s.Row,{className:"lrls-padding lrls-category"},r.default.createElement("span",{className:"请选择费用性质"!=F?"":"lrls-placeholder"},F),r.default.createElement(s.Icon,{type:"triangle"})))):null,r.default.createElement(s.Radio,{disabled:_,list:D,value:N,onChange:function(e){n(p.fyzcAccountActions.changeFyzcRunningState(e)),n(p.fyzcAccountActions.getFyzcCardList("contactsRange")),n(p.fyzcAccountActions.changeFyzcData("runningAbstract",(0,f.abstractFun)(e,b)))}})),r.default.createElement("div",{className:"lrls-card lrls-line"},r.default.createElement("label",null,"摘要："),r.default.createElement(s.TextareaItem,{placeholder:"摘要填写",value:T,onChange:function(e){n(p.fyzcAccountActions.changeFyzcData("runningAbstract",e))}})),V,r.default.createElement("div",{className:"lrls-card",style:{display:R||Q||O?"":"none"}},te,r.default.createElement(s.Row,{className:"yysr-amount"},Q?r.default.createElement("label",null,"STATE_FY_DJ"==N?"预付金额:":"金额: "):null,Q?r.default.createElement(s.TextListInput,{placeholder:"填写金额",value:x,onChange:function(e){(/^[-\d]\d*\.?\d{0,2}$/g.test(e)||""==e)&&n(p.fyzcAccountActions.changeFyzcTaxRateOrAmount("amount",e))}}):null,!Q&&0!=x&&O?r.default.createElement("label",null,"账户:"):null,0!=x&&O?r.default.createElement(f.Account,{history:l,accountList:E,accountUuid:k,accountName:j,onOk:function(e){return n(p.fyzcAccountActions.changeFyzcAccount(e))}}):null)),K,oe,r.default.createElement(f.UploadFj,{dispatch:n,enCanUse:se,editPermission:u,enclosureList:me,showlsfj:fe,checkMoreFj:ie,label:de,enclosureCountUser:ge,history:l})),r.default.createElement(s.ButtonGroup,null,r.default.createElement(s.Button,{onClick:function(){n(p.fyzcAccountActions.saveRunningbusiness())}},r.default.createElement(s.Icon,{type:"save"}),r.default.createElement("span",null,"保存")),r.default.createElement(s.Button,{onClick:function(){n(p.fyzcAccountActions.saveRunningbusiness(!0))}},r.default.createElement(s.Icon,{type:"new"}),r.default.createElement("span",null,"保存并新增"))))}}]),t}())||a;t.default=h},1660:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=d(n(0)),o=n(31),r=d(n(1661)),u=d(n(1663)),s=d(n(1664)),i=d(n(1665)),f=d(n(1666));function d(e){return e&&e.__esModule?e:{default:e}}n(1281);var m=(0,o.connect)(function(e){return e})(a=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),c(t,[{key:"render",value:function(){var e=this.props,t=e.xczcAccountState,n=e.history,a=e.homeState,c=e.homeAccountState,o=e.editPermission,d=t.getIn(["data","propertyPay"]),m=a.getIn(["data","userInfo","sobInfo","moduleInfo"]),g=!m||m.indexOf("ENCLOSURE_RUN")>-1,p="TRUE"===a.getIn(["data","userInfo","checkMoreFj"]),y=c.getIn(["flags","showlsfj"]),h=(c.get("previewImageList").toJS(),c.get("label")),A=c.get("enclosureList"),E=c.get("enclosureCountUser"),b=null;return({SX_GZXJ:function(){b=l.default.createElement(r.default,{history:n,editPermission:o,enCanUse:g,checkMoreFj:p,showlsfj:y,label:h,enclosureList:A,enclosureCountUser:E})},SX_SHBX:function(){b=l.default.createElement(u.default,{history:n,editPermission:o,enCanUse:g,checkMoreFj:p,showlsfj:y,label:h,enclosureList:A,enclosureCountUser:E})},SX_ZFGJJ:function(){b=l.default.createElement(s.default,{history:n,editPermission:o,enCanUse:g,checkMoreFj:p,showlsfj:y,label:h,enclosureList:A,enclosureCountUser:E})},SX_FLF:function(){b=l.default.createElement(i.default,{history:n,editPermission:o,enCanUse:g,checkMoreFj:p,showlsfj:y,label:h,enclosureList:A,enclosureCountUser:E})},SX_QTXC:function(){b=l.default.createElement(f.default,{history:n,editPermission:o,enCanUse:g,checkMoreFj:p,showlsfj:y,label:h,enclosureList:A,enclosureCountUser:E})}}[d]||function(){return null})(),b}}]),t}())||a;t.default=m},1661:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,c,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(0),r=(c=o)&&c.__esModule?c:{default:c},u=n(31),s=(n(9),n(16)),i=n(123),f=n(1061),d=n(1058),m=n(1224),g=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1064)),n(13));n(1281);var p=(0,u.connect)(function(e){return e})(a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={bePersonAccumulation:!1,bePersonSocialSecurity:!1,beIncomeTax:!1,showList:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),l(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.dispatch,a=t.homeAccountState,c=t.xczcAccountState,l=t.history,o=t.editPermission,u=t.enCanUse,p=t.checkMoreFj,y=t.showlsfj,h=t.label,A=t.enclosureList,E=t.enclosureCountUser,b=this.state,v=b.bePersonAccumulation,w=b.bePersonSocialSecurity,_=b.beIncomeTax,C=b.showList,S=a.get("lastCategory"),z=a.get("accountList"),N=a.get("project"),T=N.get("usedProject"),j=c.get("data"),k=c.getIn(["views","insertOrModify"]),O=c.getIn(["data","flowNumber"]),x="modify"===k,L=c.getIn(["views","fromYl"]),R=j.get("categoryUuid"),P=j.get("categoryName"),D=j.get("runningDate"),I=j.get("runningState"),Z=j.get("runningAbstract"),U=j.get("accountName"),F=j.get("accountUuid"),M=j.get("amount"),B=j.get("propertyPay"),X=j.get("acPayment"),J=X.get("beAccrued"),Y=X.get("beWithholding"),H=X.get("beWithholdSocial"),q=X.get("beWithholdTax"),G=X.get("actualAmount"),K=j.get("jtAmount"),$=j.get("propertyCostList"),V=(0,f.costList)($),W=j.get("propertyCost"),Q=(0,f.propertyCostObj)(X,W).get("propertyCostName"),ee=null,te=null,ne=null,ae=[{key:"STATE_XC_JT",value:"计提",disabled:!J,message:"流水设置中未启用"},{key:"STATE_XC_FF",value:"发放"}],ce=!1,le="金额",oe=!1,re=!1,ue=null;(({STATE_XC_JT:function(){ce=!0,le="金额",ue=T?null:r.default.createElement(s.Row,{className:"lrls-card"},r.default.createElement(s.Row,{className:"yysr-amount"},r.default.createElement("label",null,"金额： "),r.default.createElement(s.TextListInput,{placeholder:le,value:M,onChange:function(e){/^\d*\.?\d{0,2}$/g.test(e)&&n(m.xczcAccountActions.changeXczcData("amount",e)),oe&&n(m.xczcAccountActions.autoCalculateAmount(B))}})))},STATE_XC_FF:function(){if(ce=!J,le=J?"工资薪金":"金额",oe=!!J,re=!!J,J){ue=r.default.createElement("div",{className:"lrls-card"},r.default.createElement(s.Row,{className:"yysr-amount lrls-bottom lrls-home-account"},r.default.createElement("label",null,"支付金额： "),r.default.createElement(s.Amount,{showZero:!0,className:"amount"},G),r.default.createElement(f.Account,{history:l,accountList:z,accountUuid:F,accountName:U,onOk:function(e){return n(m.xczcAccountActions.changeXczcAccount(e))}})),r.default.createElement(s.Row,{className:"yysr-amount"},r.default.createElement("label",null,"工资薪金： "),r.default.createElement(s.TextListInput,{placeholder:"填写金额",value:M,onChange:function(e){/^\d*\.?\d{0,2}$/g.test(e)&&n(m.xczcAccountActions.changeXczcData("amount",e)),oe&&n(m.xczcAccountActions.autoCalculateAmount(B))}})));var t=X.get("personAccumulationAmount"),a=j.get("accumulationAmount"),c=X.get("personSocialSecurityAmount"),o=j.get("socialSecurityAmount"),u=X.get("incomeTaxAmount");ee=Y?r.default.createElement(s.Row,{className:"lrls-card"},r.default.createElement(s.Row,{className:"lrls-more-card"},r.default.createElement("span",null,"代扣个人公积金：",(v||t)&&a?r.default.createElement("span",null,"未处理金额：",r.default.createElement(s.Amount,{showZero:!0},a)):""),r.default.createElement("div",{className:"noTextSwitchShort"},r.default.createElement(s.Switch,{checked:v||t,color:"#FF8348",onClick:function(){v?(e.setState({bePersonAccumulation:!1}),n(m.xczcAccountActions.xczcClearAcList("fundList")),n(m.xczcAccountActions.autoCalculateAmount(B))):e.setState({bePersonAccumulation:!0})}}))),v||t?r.default.createElement(s.Row,{className:"yysr-amount lrls-margin-top"},r.default.createElement("label",null,"金额："),r.default.createElement(s.TextListInput,{placeholder:"填写个人部分金额",value:t,onChange:function(e){/^\d*\.?\d{0,2}$/g.test(e)&&(n(m.xczcAccountActions.xczcPersonAmount("personAccumulationAmount",e)),n(m.xczcAccountActions.autoCalculateAmount(B)))}})):null):null,te=H?r.default.createElement(s.Row,{className:"lrls-card"},r.default.createElement(s.Row,{className:"lrls-more-card"},r.default.createElement("span",null,"代扣个人社保：",o&&(w||c)?r.default.createElement("span",null,"未处理金额：",r.default.createElement(s.Amount,null,o)):""),r.default.createElement("div",{className:"noTextSwitchShort"},r.default.createElement(s.Switch,{checked:w||c,color:"#FF8348",onClick:function(){w?(e.setState({bePersonSocialSecurity:!1}),n(m.xczcAccountActions.xczcClearAcList("socialSecurityList")),n(m.xczcAccountActions.autoCalculateAmount(B))):e.setState({bePersonSocialSecurity:!0})}}))),w||c?r.default.createElement(s.Row,{className:"yysr-amount lrls-margin-top"},r.default.createElement("label",null,"金额："),r.default.createElement(s.TextListInput,{placeholder:"填写个人部分金额",value:c,onChange:function(e){/^\d*\.?\d{0,2}$/g.test(e)&&(n(m.xczcAccountActions.xczcPersonAmount("personSocialSecurityAmount",e)),n(m.xczcAccountActions.autoCalculateAmount(B)))}})):null):null,ne=q?r.default.createElement(s.Row,{className:"lrls-card"},r.default.createElement(s.Row,{className:"lrls-more-card"},r.default.createElement("span",null,"代扣个人所得税："),r.default.createElement("div",{className:"noTextSwitchShort"},r.default.createElement(s.Switch,{checked:_||u,color:"#FF8348",onClick:function(){_?(e.setState({beIncomeTax:!1}),n(m.xczcAccountActions.xczcClearAcList("incomeTaxList")),n(m.xczcAccountActions.autoCalculateAmount(B))):e.setState({beIncomeTax:!0})}}))),_||u?r.default.createElement(s.Row,{className:"yysr-amount lrls-margin-top"},r.default.createElement("label",null,"金额："),r.default.createElement(s.TextListInput,{placeholder:"填写个人部分金额",value:u,onChange:function(e){/^\d*\.?\d{0,2}$/g.test(e)&&(n(m.xczcAccountActions.xczcPersonAmount("incomeTaxAmount",e)),n(m.xczcAccountActions.autoCalculateAmount(B)))}})):null):null}else ue=r.default.createElement(s.Row,{className:"lrls-card"},r.default.createElement(s.Row,{className:"yysr-amount"},T?null:r.default.createElement("label",null," 金额： "),T?null:r.default.createElement(s.TextListInput,{placeholder:le,value:M,onChange:function(e){/^\d*\.?\d{0,2}$/g.test(e)&&n(m.xczcAccountActions.changeXczcData("amount",e)),oe&&n(m.xczcAccountActions.autoCalculateAmount(B))}}),T?r.default.createElement("label",null,"账户: "):null,r.default.createElement(f.Account,{history:l,accountList:z,accountUuid:F,accountName:U,onOk:function(e){return n(m.xczcAccountActions.changeXczcAccount(e))}})))}})[I]||function(){return null})();var se=null,ie=j.get("beProject");if(ie&&(!J||"STATE_XC_FF"!=I)){se=r.default.createElement(f.ProjectCom,{project:N,dispatch:n,changeAmount:function(e){n(m.xczcAccountActions.changeXczcData("amount",e)),oe&&n(m.xczcAccountActions.autoCalculateAmount(B))},showCommon:"STATE_XC_JT"==I})}var fe=null,de=j.get("paymentList"),me=de.some(function(e){return e.get("beSelect")});if(J&&"STATE_XC_FF"===I&&me&&(fe=(0,f.xczcCom)("待发放工资薪金",K,de,"计提工资薪金")),L&&J&&"STATE_XC_JT"===I&&de.size){fe=(0,f.hxCom)(de,C,function(){return e.setState({showList:!C})})}return r.default.createElement(s.Container,{className:"lrls"},r.default.createElement(i.TopDatePicker,{disabled:x,value:D,onChange:function(e){n(m.xczcAccountActions.changeXczcData("runningDate",new g.DateLib(e).valueOf())),n(d.homeAccountActions.changeHomeAccountData("runningDate",new g.DateLib(e).valueOf())),re&&(n(m.xczcAccountActions.getXczcPaymentList()),n(m.xczcAccountActions.getXczcAccumulationAmount()),n(m.xczcAccountActions.getXczcSocialSecurityAmount()))},callback:function(e){n(m.xczcAccountActions.changeXczcData("runningDate",e)),n(d.homeAccountActions.changeHomeAccountData("runningDate",e)),re&&(n(m.xczcAccountActions.getXczcPaymentList()),n(m.xczcAccountActions.getXczcAccumulationAmount()),n(m.xczcAccountActions.getXczcSocialSecurityAmount()))}}),x?r.default.createElement(s.Row,{className:"lrls-row"}," ","流水号： "+O," "):null,r.default.createElement(s.ScrollView,{flex:"1"},r.default.createElement("div",{className:"lrls-card"},r.default.createElement(f.CategoryCom,{isModify:x,dispatch:n,lastCategory:S,categoryUuid:R,categoryName:P,showProject:ie&&!(J&&"STATE_XC_FF"==I),project:N,changeAmount:function(e){n(m.xczcAccountActions.changeXczcData("amount",e)),oe&&n(m.xczcAccountActions.autoCalculateAmount(B))}}),ce&&V.length>1?r.default.createElement(s.Row,{className:"lrls-more-card lrls-margin-top"},r.default.createElement("label",null,"费用性质: "),r.default.createElement(s.SinglePicker,{district:V,value:W,onOk:function(e){n(m.xczcAccountActions.changeXczcData("propertyCost",e.value))}},r.default.createElement(s.Row,{className:"lrls-padding lrls-category"},r.default.createElement("span",{className:"请选择费用性质"!=Q?"":"lrls-placeholder"},Q),r.default.createElement(s.Icon,{type:"triangle"})))):null,r.default.createElement(s.Radio,{disabled:x,list:ae,value:I,onChange:function(e){n(m.xczcAccountActions.changeXczcRunningState(B,e)),n(m.xczcAccountActions.changeXczcData("runningAbstract",(0,f.abstractFun)(e,j))),J&&"STATE_XC_FF"==e&&(n(m.xczcAccountActions.getXczcPaymentList()),n(m.xczcAccountActions.getXczcAccumulationAmount()),n(m.xczcAccountActions.getXczcSocialSecurityAmount()))}})),r.default.createElement(s.Row,{className:"lrls-card lrls-line"},r.default.createElement("label",null,"摘要："),r.default.createElement(s.TextareaItem,{placeholder:"摘要填写",value:Z,onChange:function(e){n(m.xczcAccountActions.changeXczcData("runningAbstract",e))}})),se,ue,ee,te,ne,fe,r.default.createElement(f.UploadFj,{dispatch:n,enCanUse:u,editPermission:o,enclosureList:A,showlsfj:y,checkMoreFj:p,label:h,enclosureCountUser:E,history:l}),J&&"STATE_XC_FF"===I?r.default.createElement(s.Row,{className:"lrls-button-wrap"},r.default.createElement("span",{className:"lrls-button",onClick:function(){n(d.homeAccountActions.changeHomeAccountData("categoryType","LB_XCZC_LS"))}},me?"修改单据":"请选择单据")):null),r.default.createElement(s.ButtonGroup,null,r.default.createElement(s.Button,{onClick:function(){n(m.xczcAccountActions.saveRunningbusiness())}},r.default.createElement(s.Icon,{type:"save"}),r.default.createElement("span",null,"保存")),r.default.createElement(s.Button,{onClick:function(){n(m.xczcAccountActions.saveRunningbusiness(!0))}},r.default.createElement(s.Icon,{type:"new"}),r.default.createElement("span",null,"保存并新增"))))}}]),t}())||a;t.default=p},1663:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,c,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(0),r=(c=o)&&c.__esModule?c:{default:c},u=n(31),s=(n(9),n(16)),i=n(123),f=n(1061),d=n(1058),m=n(1224),g=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1064)),n(13));n(1281);var p=(0,u.connect)(function(e){return e})(a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={bePersonSocialSecurity:!1,showList:!0},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),l(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.dispatch,a=t.homeAccountState,c=t.xczcAccountState,l=t.history,o=t.editPermission,u=t.enCanUse,p=t.checkMoreFj,y=t.showlsfj,h=t.label,A=t.enclosureList,E=t.enclosureCountUser,b=this.state,v=b.bePersonSocialSecurity,w=b.showList,_=a.get("lastCategory"),C=a.get("accountList"),S=a.get("project"),z=S.get("usedProject"),N=c.get("data"),T=c.getIn(["views","insertOrModify"]),j=c.getIn(["data","flowNumber"]),k="modify"===T,O=c.getIn(["views","fromYl"]),x=N.get("categoryUuid"),L=N.get("categoryName"),R=N.get("runningDate"),P=N.get("runningState"),D=N.get("runningAbstract"),I=N.get("accountName"),Z=N.get("accountUuid"),U=N.get("amount"),F=N.get("propertyPay"),M=N.get("acPayment"),B=M.get("beAccrued"),X=M.get("beWithholdSocial"),J=M.get("actualAmount"),Y=N.get("jtAmount"),H=N.get("propertyCostList"),q=(0,f.costList)(H),G=N.get("propertyCost"),K=(0,f.propertyCostObj)(M,G).get("propertyCostName"),$=[{key:"STATE_XC_JT",value:"计提",disabled:!B,message:"流水设置中未启用"},{key:"STATE_XC_JN",value:"缴纳"}],V=!1,W="金额",Q=!1,ee=null,te=null;(({STATE_XC_JT:function(){V=!0,W="金额(公司部分)",ee=z?null:r.default.createElement(s.Row,{className:"lrls-card"},r.default.createElement(s.Row,{className:"yysr-amount"},r.default.createElement("label",null," 金额： "),r.default.createElement(s.TextListInput,{placeholder:W,value:U,onChange:function(e){/^\d*\.?\d{0,2}$/g.test(e)&&n(m.xczcAccountActions.changeXczcData("amount",e))}})))},STATE_XC_JN:function(){if(V=!B,Q=!!B,B){var t=M.get("personSocialSecurityAmount"),a=M.get("companySocialSecurityAmount");ee=r.default.createElement("div",{className:"lrls-card"},r.default.createElement(s.Row,{className:"yysr-amount lrls-bottom lrls-home-account"},r.default.createElement("label",null,"支付金额： "),r.default.createElement(s.Amount,{showZero:!0,className:"amount"},J),r.default.createElement(f.Account,{history:l,accountList:C,accountUuid:Z,accountName:I,onOk:function(e){return n(m.xczcAccountActions.changeXczcAccount(e))}})),r.default.createElement(s.Row,{className:"yysr-amount"},r.default.createElement("label",null,"社保金额: "),r.default.createElement(s.TextListInput,{placeholder:"填写公司部分金额",value:a,onChange:function(e){/^\d*\.?\d{0,2}$/g.test(e)&&(n(m.xczcAccountActions.xczcPersonAmount("companySocialSecurityAmount",e)),n(m.xczcAccountActions.autoCalculateAmount(F)))}}))),te=X?r.default.createElement(s.Row,{className:"lrls-card"},r.default.createElement(s.Row,{className:"lrls-more-card"},r.default.createElement("span",null,"代缴个人社保："),r.default.createElement("div",{className:"noTextSwitchShort"},r.default.createElement(s.Switch,{checked:v||t,color:"#FF8348",onClick:function(){v?(e.setState({bePersonSocialSecurity:!1}),n(m.xczcAccountActions.xczcClearAcList("socialSecurityList")),n(m.xczcAccountActions.xczcPersonAmount("personSocialSecurityAmount",0)),n(m.xczcAccountActions.autoCalculateAmount(F))):e.setState({bePersonSocialSecurity:!0})}}))),v||t?r.default.createElement(s.Row,{className:"yysr-amount lrls-margin-top"},r.default.createElement("label",null,"金额："),r.default.createElement(s.TextListInput,{placeholder:"填写个人部分金额",value:t,onChange:function(e){/^\d*\.?\d{0,2}$/g.test(e)&&(n(m.xczcAccountActions.xczcPersonAmount("personSocialSecurityAmount",e)),n(m.xczcAccountActions.autoCalculateAmount(F)))}})):null):null}else ee=r.default.createElement(s.Row,{className:"lrls-card"},r.default.createElement(s.Row,{className:"yysr-amount"},z?null:r.default.createElement("label",null," 金额： "),z?null:r.default.createElement(s.TextListInput,{placeholder:W,value:U,onChange:function(e){/^\d*\.?\d{0,2}$/g.test(e)&&n(m.xczcAccountActions.changeXczcData("amount",e))}}),r.default.createElement(f.Account,{history:l,accountList:C,accountUuid:Z,accountName:I,onOk:function(e){return n(m.xczcAccountActions.changeXczcAccount(e))}})))}})[P]||function(){return null})();var ne=null,ae=N.get("beProject");if(ae&&(!B||"STATE_XC_JN"!=P)){ne=r.default.createElement(f.ProjectCom,{project:S,dispatch:n,changeAmount:function(e){n(m.xczcAccountActions.changeXczcData("amount",e))},showCommon:!0})}var ce=null,le=N.get("paymentList"),oe=le.some(function(e){return e.get("beSelect")});if(B&&"STATE_XC_JN"===P&&oe&&(ce=(0,f.xczcCom)("待发放社会保险",Y,le,"计提社会保险")),O&&B&&"STATE_XC_JT"===P&&le.size){ce=(0,f.hxCom)(le,w,function(){return e.setState({showList:!w})})}return r.default.createElement(s.Container,{className:"lrls"},r.default.createElement(i.TopDatePicker,{disabled:k,value:R,onChange:function(e){n(m.xczcAccountActions.changeXczcData("runningDate",new g.DateLib(e).valueOf())),n(d.homeAccountActions.changeHomeAccountData("runningDate",new g.DateLib(e).valueOf())),Q&&n(m.xczcAccountActions.getXczcPaymentList())},callback:function(e){n(m.xczcAccountActions.changeXczcData("runningDate",e)),n(d.homeAccountActions.changeHomeAccountData("runningDate",e)),Q&&n(m.xczcAccountActions.getXczcPaymentList())}}),k?r.default.createElement(s.Row,{className:"lrls-row"}," ","流水号： "+j," "):null,r.default.createElement(s.ScrollView,{flex:"1"},r.default.createElement("div",{className:"lrls-card"},r.default.createElement(f.CategoryCom,{isModify:k,dispatch:n,lastCategory:_,categoryUuid:x,categoryName:L,showProject:ae&&!(B&&"STATE_XC_JN"==P),project:S,changeAmount:function(e){n(m.xczcAccountActions.changeXczcData("amount",e))}}),V&&q.length>1?r.default.createElement(s.Row,{className:"lrls-more-card lrls-margin-top"},r.default.createElement("label",null,"费用性质:"),r.default.createElement(s.SinglePicker,{district:q,value:G,onOk:function(e){n(m.xczcAccountActions.changeXczcData("propertyCost",e.value))}},r.default.createElement(s.Row,{className:"lrls-padding lrls-category"},r.default.createElement("span",{className:"请选择费用性质"!=K?"":"lrls-placeholder"},K),r.default.createElement(s.Icon,{type:"triangle"})))):null,r.default.createElement(s.Radio,{disabled:k,list:$,value:P,onChange:function(e){n(m.xczcAccountActions.changeXczcRunningState(F,e)),n(m.xczcAccountActions.changeXczcData("runningAbstract",(0,f.abstractFun)(e,N))),B&&"STATE_XC_JN"==e&&n(m.xczcAccountActions.getXczcPaymentList())}})),r.default.createElement(s.Row,{className:"lrls-card lrls-line"},r.default.createElement("label",null,"摘要："),r.default.createElement(s.TextareaItem,{placeholder:"摘要填写",value:D,onChange:function(e){n(m.xczcAccountActions.changeXczcData("runningAbstract",e))}})),ne,ee,te,ce,r.default.createElement(f.UploadFj,{dispatch:n,enCanUse:u,editPermission:o,enclosureList:A,showlsfj:y,checkMoreFj:p,label:h,enclosureCountUser:E,history:l}),B&&"STATE_XC_JN"===P?r.default.createElement(s.Row,{className:"lrls-button-wrap"},r.default.createElement("span",{className:"lrls-button",onClick:function(){n(d.homeAccountActions.changeHomeAccountData("categoryType","LB_XCZC_LS"))}},oe?"修改单据":"请选择单据")):null),r.default.createElement(s.ButtonGroup,null,r.default.createElement(s.Button,{onClick:function(){n(m.xczcAccountActions.saveRunningbusiness())}},r.default.createElement(s.Icon,{type:"save"}),r.default.createElement("span",null,"保存")),r.default.createElement(s.Button,{onClick:function(){n(m.xczcAccountActions.saveRunningbusiness(!0))}},r.default.createElement(s.Icon,{type:"new"}),r.default.createElement("span",null,"保存并新增"))))}}]),t}())||a;t.default=p},1664:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,c,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(0),r=(c=o)&&c.__esModule?c:{default:c},u=n(31),s=(n(9),n(16)),i=n(123),f=n(1061),d=n(1058),m=n(1224),g=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1064)),n(13));n(1281);var p=(0,u.connect)(function(e){return e})(a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={bePersonAccumulation:!1,showList:!0},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),l(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.dispatch,a=t.homeAccountState,c=t.xczcAccountState,l=t.history,o=t.editPermission,u=t.enCanUse,p=t.checkMoreFj,y=t.showlsfj,h=t.label,A=t.enclosureList,E=t.enclosureCountUser,b=this.state,v=b.bePersonAccumulation,w=b.showList,_=a.get("lastCategory"),C=a.get("accountList"),S=a.get("project"),z=S.get("usedProject"),N=c.get("data"),T=c.getIn(["views","insertOrModify"]),j=c.getIn(["data","flowNumber"]),k="modify"===T,O=c.getIn(["views","fromYl"]),x=N.get("categoryUuid"),L=N.get("categoryName"),R=N.get("runningDate"),P=N.get("runningState"),D=N.get("runningAbstract"),I=N.get("accountName"),Z=N.get("accountUuid"),U=N.get("amount"),F=N.get("propertyPay"),M=N.get("acPayment"),B=M.get("beAccrued"),X=M.get("beWithholding"),J=M.get("actualAmount"),Y=N.get("jtAmount"),H=N.get("propertyCostList"),q=(0,f.costList)(H),G=N.get("propertyCost"),K=(0,f.propertyCostObj)(M,G).get("propertyCostName"),$=[{key:"STATE_XC_JT",value:"计提",disabled:!B,message:"流水设置中未启用"},{key:"STATE_XC_JN",value:"缴纳"}],V=!1,W="金额",Q=!1,ee=null,te=null;(({STATE_XC_JT:function(){V=!0,W="金额(公司部分)",ee=z?null:r.default.createElement(s.Row,{className:"lrls-card"},r.default.createElement(s.Row,{className:"yysr-amount"},r.default.createElement("label",null,"金额： "),r.default.createElement(s.TextListInput,{placeholder:W,value:U,onChange:function(e){/^\d*\.?\d{0,2}$/g.test(e)&&n(m.xczcAccountActions.changeXczcData("amount",e))}})))},STATE_XC_JN:function(){if(V=!B,Q=!!B,B){var t=M.get("personAccumulationAmount"),a=M.get("companyAccumulationAmount");ee=r.default.createElement("div",{className:"lrls-card"},r.default.createElement(s.Row,{className:"yysr-amount lrls-bottom lrls-home-account"},r.default.createElement("label",null,"支付金额： "),r.default.createElement(s.Amount,{showZero:!0,className:"amount"},J),r.default.createElement(f.Account,{history:l,accountList:C,accountUuid:Z,accountName:I,onOk:function(e){return n(m.xczcAccountActions.changeXczcAccount(e))}})),r.default.createElement(s.Row,{className:"yysr-amount"},r.default.createElement("label",null,"公积金额： "),r.default.createElement(s.TextListInput,{placeholder:"填写公司部分金额",value:a,onChange:function(e){/^\d*\.?\d{0,2}$/g.test(e)&&(n(m.xczcAccountActions.xczcPersonAmount("companyAccumulationAmount",e)),n(m.xczcAccountActions.autoCalculateAmount(F)))}}))),te=X?r.default.createElement(s.Row,{className:"lrls-card"},r.default.createElement(s.Row,{className:"lrls-more-card"},r.default.createElement("span",null,"代缴个人公积金："),r.default.createElement("div",{className:"noTextSwitchShort"},r.default.createElement(s.Switch,{checked:v||t,color:"#FF8348",onClick:function(){v?(e.setState({bePersonAccumulation:!1}),n(m.xczcAccountActions.xczcClearAcList("socialSecurityList")),n(m.xczcAccountActions.xczcPersonAmount("personAccumulationAmount",0)),n(m.xczcAccountActions.autoCalculateAmount(F))):e.setState({bePersonAccumulation:!0})}}))),v||t?r.default.createElement(s.Row,{className:"yysr-amount lrls-margin-top"},r.default.createElement("label",null,"金额："),r.default.createElement(s.TextListInput,{placeholder:"填写个人部分金额",value:t,onChange:function(e){/^\d*\.?\d{0,2}$/g.test(e)&&(n(m.xczcAccountActions.xczcPersonAmount("personAccumulationAmount",e)),n(m.xczcAccountActions.autoCalculateAmount(F)))}})):null):null}else ee=r.default.createElement(s.Row,{className:"lrls-card"},r.default.createElement(s.Row,{className:"yysr-amount"},r.default.createElement("label",null,z?"账户:":"金额:"),z?null:r.default.createElement(s.TextListInput,{placeholder:W,value:U,onChange:function(e){/^\d*\.?\d{0,2}$/g.test(e)&&n(m.xczcAccountActions.changeXczcData("amount",e))}}),r.default.createElement(f.Account,{history:l,accountList:C,accountUuid:Z,accountName:I,onOk:function(e){return n(m.xczcAccountActions.changeXczcAccount(e))}})))}})[P]||function(){return null})();var ne=null,ae=N.get("beProject");if(ae&&(!B||"STATE_XC_JN"!=P)){ne=r.default.createElement(f.ProjectCom,{project:S,dispatch:n,changeAmount:function(e){n(m.xczcAccountActions.changeXczcData("amount",e))},showCommon:!0})}var ce=null,le=N.get("paymentList"),oe=le.some(function(e){return e.get("beSelect")});if(B&&"STATE_XC_JN"===P&&oe&&(ce=(0,f.xczcCom)("待发放公积金",Y,le,"计提公积金")),O&&B&&"STATE_XC_JT"===P&&le.size){ce=(0,f.hxCom)(le,w,function(){return e.setState({showList:!w})})}return r.default.createElement(s.Container,{className:"lrls"},r.default.createElement(i.TopDatePicker,{disabled:k,value:R,onChange:function(e){n(m.xczcAccountActions.changeXczcData("runningDate",new g.DateLib(e).valueOf())),n(d.homeAccountActions.changeHomeAccountData("runningDate",new g.DateLib(e).valueOf())),Q&&n(m.xczcAccountActions.getXczcPaymentList())},callback:function(e){n(m.xczcAccountActions.changeXczcData("runningDate",e)),n(d.homeAccountActions.changeHomeAccountData("runningDate",e)),Q&&n(m.xczcAccountActions.getXczcPaymentList())}}),k?r.default.createElement(s.Row,{className:"lrls-row"}," ","流水号： "+j," "):null,r.default.createElement(s.ScrollView,{flex:"1"},r.default.createElement("div",{className:"lrls-card"},r.default.createElement(f.CategoryCom,{isModify:k,dispatch:n,lastCategory:_,categoryUuid:x,categoryName:L,showProject:ae&&!(B&&"STATE_XC_JN"==P),project:S,changeAmount:function(e){n(m.xczcAccountActions.changeXczcData("amount",e))}}),(V&&q.length)>1?r.default.createElement(s.Row,{className:"lrls-more-card lrls-margin-top"},r.default.createElement("label",null,"费用性质:"),r.default.createElement(s.SinglePicker,{district:q,value:G,onOk:function(e){n(m.xczcAccountActions.changeXczcData("propertyCost",e.value))}},r.default.createElement(s.Row,{className:"lrls-padding lrls-category"},r.default.createElement("span",{className:"请选择费用性质"!=K?"":"lrls-placeholder"},K),r.default.createElement(s.Icon,{type:"triangle"})))):null,r.default.createElement(s.Radio,{disabled:k,list:$,value:P,onChange:function(e){n(m.xczcAccountActions.changeXczcRunningState(F,e)),n(m.xczcAccountActions.changeXczcData("runningAbstract",(0,f.abstractFun)(e,N))),B&&"STATE_XC_JN"==e&&n(m.xczcAccountActions.getXczcPaymentList())}})),r.default.createElement(s.Row,{className:"lrls-card lrls-line"},r.default.createElement("label",null,"摘要："),r.default.createElement(s.TextareaItem,{placeholder:"摘要填写",value:D,onChange:function(e){n(m.xczcAccountActions.changeXczcData("runningAbstract",e))}})),ne,ee,te,ce,r.default.createElement(f.UploadFj,{dispatch:n,enCanUse:u,editPermission:o,enclosureList:A,showlsfj:y,checkMoreFj:p,label:h,enclosureCountUser:E,history:l}),B&&"STATE_XC_JN"===P?r.default.createElement(s.Row,{className:"lrls-button-wrap"},r.default.createElement("span",{className:"lrls-button",onClick:function(){n(d.homeAccountActions.changeHomeAccountData("categoryType","LB_XCZC_LS"))}},oe?"修改单据":"请选择单据")):null),r.default.createElement(s.ButtonGroup,null,r.default.createElement(s.Button,{onClick:function(){n(m.xczcAccountActions.saveRunningbusiness())}},r.default.createElement(s.Icon,{type:"save"}),r.default.createElement("span",null,"保存")),r.default.createElement(s.Button,{onClick:function(){n(m.xczcAccountActions.saveRunningbusiness(!0))}},r.default.createElement(s.Icon,{type:"new"}),r.default.createElement("span",null,"保存并新增"))))}}]),t}())||a;t.default=p},1665:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,c,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(0),r=(c=o)&&c.__esModule?c:{default:c},u=n(31),s=(n(9),n(16)),i=n(123),f=n(1061),d=n(1058),m=n(1224),g=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1064)),n(13));var p=(0,u.connect)(function(e){return e})(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),l(t,[{key:"render",value:function(){var e=this.props,t=e.dispatch,n=e.homeAccountState,a=e.xczcAccountState,c=e.history,l=e.editPermission,o=e.enCanUse,u=e.checkMoreFj,p=e.showlsfj,y=e.label,h=e.enclosureList,A=e.enclosureCountUser,E=n.get("lastCategory"),b=n.get("accountList"),v=a.get("data"),w=a.getIn(["views","insertOrModify"]),_=a.getIn(["data","flowNumber"]),C="modify"===w,S=v.get("categoryUuid"),z=v.get("categoryName"),N=v.get("runningDate"),T=(v.get("runningState"),v.get("runningAbstract")),j=v.get("accountName"),k=v.get("accountUuid"),O=v.get("amount"),x=(v.get("propertyPay"),v.get("acPayment")),L=(x.get("beWelfare"),v.get("propertyCostList")),R=(0,f.costList)(L),P=v.get("propertyCost"),D=(0,f.propertyCostObj)(x,P).get("propertyCostName"),I=null,Z=!0,U=v.get("beProject"),F=n.get("project");if(U){F.get("usedProject")&&(Z=!1);I=r.default.createElement(f.ProjectCom,{project:F,dispatch:t,changeAmount:function(e){t(m.xczcAccountActions.changeXczcData("amount",e))},showCommon:!0})}return r.default.createElement(s.Container,{className:"lrls"},r.default.createElement(i.TopDatePicker,{disabled:C,value:N,onChange:function(e){t(m.xczcAccountActions.changeXczcData("runningDate",new g.DateLib(e).valueOf())),t(d.homeAccountActions.changeHomeAccountData("runningDate",new g.DateLib(e).valueOf()))},callback:function(e){t(m.xczcAccountActions.changeXczcData("runningDate",e)),t(d.homeAccountActions.changeHomeAccountData("runningDate",e))}}),C?r.default.createElement(s.Row,{className:"lrls-row"}," ","流水号： "+_," "):null,r.default.createElement(s.ScrollView,{ref:"lrlsScrollContainer",flex:"1",uniqueKey:"lrls-scroll",savePosition:!0},r.default.createElement("div",{className:"lrls-card"},r.default.createElement(f.CategoryCom,{isModify:C,dispatch:t,lastCategory:E,categoryUuid:S,categoryName:z,showProject:U,project:F,changeAmount:function(e){t(m.xczcAccountActions.changeXczcData("amount",e))}}),R.length>1?r.default.createElement(s.Row,{className:"lrls-more-card lrls-margin-top"},r.default.createElement("label",null,"费用性质: "),r.default.createElement(s.SinglePicker,{district:R,value:P,onOk:function(e){t(m.xczcAccountActions.changeXczcData("propertyCost",e.value))}},r.default.createElement(s.Row,{className:"lrls-padding lrls-category"},r.default.createElement("span",{className:"请选择费用性质"!=D?"":"lrls-placeholder"},D),r.default.createElement(s.Icon,{type:"triangle"})))):null),r.default.createElement(s.Row,{className:"lrls-card lrls-line"},r.default.createElement("label",null,"摘要："),r.default.createElement(s.TextareaItem,{placeholder:"摘要填写",value:T,onChange:function(e){t(m.xczcAccountActions.changeXczcData("runningAbstract",e))}})),I,r.default.createElement("div",{className:"lrls-card"},r.default.createElement(s.Row,{className:"yysr-amount"},r.default.createElement("label",null,Z?"金额:":"账户："),Z?r.default.createElement(s.TextListInput,{placeholder:"填写金额",value:O,onChange:function(e){/^\d*\.?\d{0,2}$/g.test(e)&&t(m.xczcAccountActions.changeXczcData("amount",e))}}):null,r.default.createElement(f.Account,{history:c,accountList:b,accountUuid:k,accountName:j,onOk:function(e){return t(m.xczcAccountActions.changeXczcAccount(e))}}))),r.default.createElement(f.UploadFj,{dispatch:t,enCanUse:o,editPermission:l,enclosureList:h,showlsfj:p,checkMoreFj:u,label:y,enclosureCountUser:A,history:c})),r.default.createElement(s.ButtonGroup,null,r.default.createElement(s.Button,{onClick:function(){t(m.xczcAccountActions.saveRunningbusiness())}},r.default.createElement(s.Icon,{type:"save"}),r.default.createElement("span",null,"保存")),r.default.createElement(s.Button,{onClick:function(){t(m.xczcAccountActions.saveRunningbusiness(!0))}},r.default.createElement(s.Icon,{type:"new"}),r.default.createElement("span",null,"保存并新增"))))}}]),t}())||a;t.default=p},1666:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,c,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(0),r=(c=o)&&c.__esModule?c:{default:c},u=n(31),s=(n(9),n(16)),i=n(123),f=n(1061),d=n(1058),m=n(1224),g=(p(n(25)),p(n(1064)),n(13));function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}n(1281);var h=(0,u.connect)(function(e){return e})(a=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var c=arguments.length,l=Array(c),o=0;o<c;o++)l[o]=arguments[o];return n=a=y(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.state={showList:!0},y(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),l(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.dispatch,a=t.homeAccountState,c=t.xczcAccountState,l=t.history,o=t.editPermission,u=t.enCanUse,p=t.checkMoreFj,y=t.showlsfj,h=t.label,A=t.enclosureList,E=t.enclosureCountUser,b=this.state.showList,v=a.get("lastCategory"),w=a.get("accountList"),_=c.get("data"),C="modify"===c.getIn(["views","insertOrModify"]),S=c.getIn(["views","fromYl"]),z=c.getIn(["data","flowNumber"]),N=_.get("categoryUuid"),T=_.get("categoryName"),j=_.get("runningDate"),k=_.get("runningState"),O=_.get("runningAbstract"),x=_.get("accountName"),L=_.get("accountUuid"),R=_.get("amount"),P=_.get("propertyPay"),D=_.get("acPayment"),I=D.get("beAccrued"),Z=_.get("jtAmount"),U=_.get("propertyCostList"),F=(0,f.costList)(U),M=_.get("propertyCost"),B=(0,f.propertyCostObj)(D,M).get("propertyCostName"),X=[{key:"STATE_XC_JT",value:"计提",disabled:!I,message:"流水设置中未启用"},{key:"STATE_XC_FF",value:"发放"}],J=!1,Y=!1,H=!1,q=!1;(({STATE_XC_JT:function(){J=!0},STATE_XC_FF:function(){J=!I,Y=!0,H=!!I,q=!!I}})[k]||function(){return null})();var G=null,K=_.get("beProject"),$=!0,V=a.get("project");if(K&&(!I||"STATE_XC_FF"!=k)){$=!V.get("usedProject");G=r.default.createElement(f.ProjectCom,{project:V,dispatch:n,changeAmount:function(e){return n(m.xczcAccountActions.changeXczcData("amount",e))},showCommon:"STATE_XC_JT"==k})}var W=null,Q=_.get("paymentList"),ee=Q.some(function(e){return e.get("beSelect")});if(q&&ee&&(W=(0,f.xczcCom)("待发放薪酬",Z,Q,"计提其他薪酬")),S&&I&&"STATE_XC_JT"===k&&Q.size){W=(0,f.hxCom)(Q,b,function(){return e.setState({showList:!b})})}return r.default.createElement(s.Container,{className:"lrls"},r.default.createElement(i.TopDatePicker,{disabled:C,value:j,onChange:function(e){C||(n(m.xczcAccountActions.changeXczcData("runningDate",new g.DateLib(e).valueOf())),n(d.homeAccountActions.changeHomeAccountData("runningDate",new g.DateLib(e).valueOf())),H&&n(m.xczcAccountActions.getXczcPaymentList()))},callback:function(e){C||(n(m.xczcAccountActions.changeXczcData("runningDate",e)),n(d.homeAccountActions.changeHomeAccountData("runningDate",e)),H&&n(m.xczcAccountActions.getXczcPaymentList()))}}),C?r.default.createElement(s.Row,{className:"lrls-row"}," ","流水号： "+z," "):null,r.default.createElement(s.ScrollView,{flex:"1"},r.default.createElement("div",{className:"lrls-card"},r.default.createElement(f.CategoryCom,{isModify:C,dispatch:n,lastCategory:v,categoryUuid:N,categoryName:T,showProject:K&&!(I&&"STATE_XC_FF"==k),project:V,changeAmount:function(e){return n(m.xczcAccountActions.changeXczcData("amount",e))}}),J&&F.length>1?r.default.createElement(s.Row,{className:"lrls-more-card lrls-margin-top"},r.default.createElement("label",null,"费用性质:"),r.default.createElement(s.SinglePicker,{district:F,value:M,onOk:function(e){n(m.xczcAccountActions.changeXczcData("propertyCost",e.value))}},r.default.createElement(s.Row,{className:"lrls-padding lrls-category"},r.default.createElement("span",{className:"请选择费用性质"!=B?"":"lrls-placeholder"},B),r.default.createElement(s.Icon,{type:"triangle"})))):null,r.default.createElement(s.Radio,{disabled:C,list:X,value:k,onChange:function(e){n(m.xczcAccountActions.changeXczcRunningState(P,e)),n(m.xczcAccountActions.changeXczcData("runningAbstract",(0,f.abstractFun)(e,_))),I&&"STATE_XC_FF"==e&&n(m.xczcAccountActions.getXczcPaymentList())}})),r.default.createElement(s.Row,{className:"lrls-card lrls-line"},r.default.createElement("label",null,"摘要："),r.default.createElement(s.TextareaItem,{placeholder:"摘要填写",value:O,onChange:function(e){n(m.xczcAccountActions.changeXczcData("runningAbstract",e))}})),G,r.default.createElement(s.Row,{className:"lrls-card",style:{display:$||Y?"":"none"}},r.default.createElement(s.Row,{className:"yysr-amount"},$?r.default.createElement("label",null," 金额： "):null,$?r.default.createElement(s.TextListInput,{placeholder:"填写金额",value:R,onChange:function(e){/^\d*\.?\d{0,2}$/g.test(e)&&n(m.xczcAccountActions.changeXczcData("amount",e))}}):null,!$&&Y?r.default.createElement("label",null,"账户: "):null,Y?r.default.createElement(f.Account,{history:l,accountList:w,accountUuid:L,accountName:x,onOk:function(e){return n(m.xczcAccountActions.changeXczcAccount(e))}}):null)),W,r.default.createElement(f.UploadFj,{dispatch:n,enCanUse:u,editPermission:o,enclosureList:A,showlsfj:y,checkMoreFj:p,label:h,enclosureCountUser:E,history:l}),q?r.default.createElement(s.Row,{className:"lrls-button-wrap"},r.default.createElement("span",{className:"lrls-button",onClick:function(){n(d.homeAccountActions.changeHomeAccountData("categoryType","LB_XCZC_LS"))}},ee?"修改单据":"请选择单据")):null),r.default.createElement(s.ButtonGroup,null,r.default.createElement(s.Button,{onClick:function(){n(m.xczcAccountActions.saveRunningbusiness())}},r.default.createElement(s.Icon,{type:"save"}),r.default.createElement("span",null,"保存")),r.default.createElement(s.Button,{onClick:function(){n(m.xczcAccountActions.saveRunningbusiness(!0))}},r.default.createElement(s.Icon,{type:"new"}),r.default.createElement("span",null,"保存并新增"))))}}]),t}())||a;t.default=h},1667:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,c,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(0),r=(c=o)&&c.__esModule?c:{default:c},u=n(31),s=(n(9),n(16)),i=n(1058),f=n(1224);n(1281);var d=(0,u.connect)(function(e){return e})(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),l(t,[{key:"render",value:function(){var e=this.props,t=e.dispatch,n=e.xczcAccountState,a=n.getIn(["data","paymentList"]),c=n.getIn(["data","propertyPay"]),l={SX_GZXJ:"计提工资薪金",SX_SHBX:"计提社会保险",SX_QTXC:"计提其他薪酬",SX_ZFGJJ:"计提公积金"}[c],o=0,u=0;return a.forEach(function(e){e.get("beSelect")&&(o++,u+=e.get("notHandleAmount"))}),r.default.createElement(s.Container,{className:"lrls"},r.default.createElement("ul",{className:"lrls-row xczc-ls"},r.default.createElement("li",null,"已勾选流水：",o,"条"),r.default.createElement("li",null,"合计金额：",r.default.createElement(s.Amount,{showZero:!0},u))),r.default.createElement(s.ScrollView,{ref:"lrlsScrollContainer",flex:"1",uniqueKey:"lrls-scroll",savePosition:!0},a.map(function(e,n){return r.default.createElement(s.Row,{key:n,className:"lrls-card",onClick:function(){e.get("beSelect")?t(f.xczcAccountActions.paymentListBeSelect(n,!1)):t(f.xczcAccountActions.paymentListBeSelect(n,!0))}},r.default.createElement("div",{className:"xczc-ls-line xczc-ls-top"},r.default.createElement("span",null,r.default.createElement(s.Checkbox,{style:{paddingRight:"10px"},checked:!!e.get("beSelect")}),e.get("flowNumber")),r.default.createElement("span",{className:"xczc-ls-color"},e.get("runningDate"))),r.default.createElement("div",{className:"xczc-ls-line xczc-ls-center"},r.default.createElement("span",{className:"overElli"},"摘要：",e.get("runningAbstract")),r.default.createElement(s.Amount,{showZero:!0},e.get("notHandleAmount"))),r.default.createElement("div",{className:"xczc-ls-line xczc-ls-bottom"},r.default.createElement("span",{className:"xczc-ls-color"},l)))})),r.default.createElement(s.ButtonGroup,{style:{backgroundColor:"#F8F8F8"}},r.default.createElement(s.Button,{onClick:function(){t(i.homeAccountActions.changeHomeAccountData("categoryType","LB_XCZC")),t(f.xczcAccountActions.changeXczcData("amount",u)),t(f.xczcAccountActions.xczcPersonAmount("companySocialSecurityAmount",u)),t(f.xczcAccountActions.xczcPersonAmount("companyAccumulationAmount",u)),t(f.xczcAccountActions.changeXczcData("jtAmount",u)),t(f.xczcAccountActions.autoCalculateAmount(c))}},r.default.createElement(s.Icon,{type:"choose"}),r.default.createElement("span",null,"确定"))))}}]),t}())||a;t.default=d},1668:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=i(n(0)),o=n(31),r=i(n(1669)),u=i(n(1670)),s=i(n(1671));function i(e){return e&&e.__esModule?e:{default:e}}var f=(0,o.connect)(function(e){return e})(a=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),c(t,[{key:"render",value:function(){var e=this.props,t=e.sfzcAccountState,n=e.history,a=e.homeState,c=e.homeAccountState,o=e.editPermission,i=t.getIn(["data","propertyTax"]),f=a.getIn(["data","userInfo","sobInfo","moduleInfo"]),d=!f||f.indexOf("ENCLOSURE_RUN")>-1,m="TRUE"===a.getIn(["data","userInfo","checkMoreFj"]),g=c.getIn(["flags","showlsfj"]),p=(c.get("previewImageList").toJS(),c.get("label")),y=c.get("enclosureList"),h=c.get("enclosureCountUser"),A=null;return({SX_ZZS:function(){A=l.default.createElement(r.default,{history:n,editPermission:o,enCanUse:d,checkMoreFj:m,showlsfj:g,label:p,enclosureList:y,enclosureCountUser:h})},SX_GRSF:function(){A=l.default.createElement(u.default,{history:n,editPermission:o,enCanUse:d,checkMoreFj:m,showlsfj:g,label:p,enclosureList:y,enclosureCountUser:h})},SX_QTSF:function(){A=l.default.createElement(s.default,{history:n,editPermission:o,enCanUse:d,checkMoreFj:m,showlsfj:g,label:p,enclosureList:y,enclosureCountUser:h})},SX_QYSDS:function(){A=l.default.createElement(s.default,{history:n,editPermission:o,enCanUse:d,checkMoreFj:m,showlsfj:g,label:p,enclosureList:y,enclosureCountUser:h})}}[i]||function(){return null})(),A}}]),t}())||a;t.default=f},1669:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,c,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(0),r=(c=o)&&c.__esModule?c:{default:c},u=n(31),s=(n(9),n(16)),i=n(123),f=n(1061),d=n(1058),m=n(1280),g=(p(n(25)),p(n(1064)),n(13));function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var y=(0,u.connect)(function(e){return e})(a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={beOffsetAmount:!1,showList:!0},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),l(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.dispatch,a=t.homeAccountState,c=t.sfzcAccountState,l=t.history,o=t.editPermission,u=t.enCanUse,p=t.checkMoreFj,y=t.showlsfj,h=t.label,A=t.enclosureList,E=t.enclosureCountUser,b=this.state,v=b.beOffsetAmount,w=(b.showList,a.get("lastCategory")),_=a.get("accountList"),C=c.get("data"),S=c.getIn(["views","insertOrModify"]),z=c.getIn(["data","flowNumber"]),N="modify"===S,T=(c.getIn(["views","fromYl"]),C.get("categoryUuid")),j=C.get("categoryName"),k=C.get("runningDate"),O=C.get("runningState"),x=C.get("runningAbstract"),L=C.get("accountName"),R=C.get("accountUuid"),P=C.get("amount"),D=C.get("handleAmount"),I=C.get("offsetAmount"),Z=C.get("deductedAmount"),U=C.get("jtAmount"),F=C.get("reduceAmount"),M=Number(I)+Number(D)+Number(F),B=C.get("propertyTax"),X=C.get("acTax"),J=X.get("beInAdvance"),Y=X.get("beReduce"),H=C.get("beReduce"),q=[{key:"STATE_SF_JN",value:"缴纳"},{key:"STATE_SF_YJZZS",value:"预缴增值税",disabled:!J,message:"流水设置中未启用"}],G=!1,K=null,$=null,V=null,W=null;(({STATE_SF_JN:function(){G=!0,K=r.default.createElement(s.Row,{className:"lrls-card"},r.default.createElement(s.Row,{className:"yysr-amount"},r.default.createElement("label",null,"支付金额： "),r.default.createElement(s.TextListInput,{placeholder:"填写金额",value:D,onChange:function(e){/^\d*\.?\d{0,2}$/g.test(e)&&n(m.sfzcAccountActions.changeSfzcData("handleAmount",e))}}),D>0?r.default.createElement(f.Account,{history:l,accountList:_,accountUuid:R,accountName:L,onOk:function(e){return n(m.sfzcAccountActions.changeSfzcAccount(e))}}):null)),V=r.default.createElement(s.Row,{className:"lrls-card"},r.default.createElement("div",null,"处理税费：",r.default.createElement(s.Amount,{showZero:!0},(0,g.decimal)(M)))),J&&($=r.default.createElement(s.Row,{className:"lrls-card"},r.default.createElement(s.Row,{className:"lrls-more-card"},r.default.createElement("span",null,"预交抵扣"),r.default.createElement("span",{className:"noTextSwitchShort"},r.default.createElement(s.Switch,{checked:v||I,color:"#FF8348",onClick:function(){v?(e.setState({beOffsetAmount:!1}),n(m.sfzcAccountActions.changeSfzcData("offsetAmount",0))):e.setState({beOffsetAmount:!0})}}))),v||I?r.default.createElement(s.Row,{className:"lrls-padding-top"},r.default.createElement(s.Row,{className:"yysr-amount"},r.default.createElement("label",null,"金额： "),r.default.createElement(s.TextListInput,{placeholder:"填写金额",value:I,onChange:function(e){/^\d*\.?\d{0,2}$/g.test(e)&&n(m.sfzcAccountActions.changeSfzcData("offsetAmount",e))}})),N?null:r.default.createElement(s.Row,{className:"lrls-padding-top lrls-placeholder"},r.default.createElement("span",null,"待抵扣金额： ",r.default.createElement(s.Amount,{showZero:!0},Z)))):null)),Y&&(W=r.default.createElement(s.Row,{className:"lrls-card"},r.default.createElement(s.Row,{className:"lrls-more-card"},r.default.createElement("span",null,"税费减免"),r.default.createElement("span",{className:"noTextSwitchShort"},r.default.createElement(s.Switch,{checked:H,color:"#FF8348",onClick:function(){H?(n(m.sfzcAccountActions.changeSfzcData("beReduce",!1)),n(m.sfzcAccountActions.changeSfzcData("reduceAmount",""))):n(m.sfzcAccountActions.changeSfzcData("beReduce",!0))}}))),H?r.default.createElement(s.Row,{className:"yysr-amount lrls-padding-top"},r.default.createElement("label",null,"金额： "),r.default.createElement(s.TextListInput,{placeholder:"填写金额",value:F,onChange:function(e){/^\d*\.?\d{0,2}$/g.test(e)&&n(m.sfzcAccountActions.changeSfzcData("reduceAmount",e))}})):null))},STATE_SF_YJZZS:function(){G=!1,K=r.default.createElement(s.Row,{className:"lrls-card"},r.default.createElement(s.Row,{className:"yysr-amount"},r.default.createElement("label",null," 金额： "),r.default.createElement(s.TextListInput,{placeholder:"填写金额",value:P,onChange:function(e){/^\d*\.?\d{0,2}$/g.test(e)&&n(m.sfzcAccountActions.changeSfzcData("amount",e))}}),P>0?r.default.createElement(f.Account,{history:l,accountList:_,accountUuid:R,accountName:L,onOk:function(e){return n(m.sfzcAccountActions.changeSfzcAccount(e))}}):null))}})[O]||function(){return null})();var Q=null,ee=C.get("paymentList"),te=ee.some(function(e){return e.get("beSelect")});return"STATE_SF_JN"===O&&te&&(Q=(0,f.xczcCom)("待处理税费",U,ee,"未交增值税")),r.default.createElement(s.Container,{className:"lrls"},r.default.createElement(i.TopDatePicker,{disabled:N,value:k,onChange:function(e){n(m.sfzcAccountActions.changeSfzcData("runningDate",new g.DateLib(e).valueOf())),n(d.homeAccountActions.changeHomeAccountData("runningDate",new g.DateLib(e).valueOf())),G&&n(m.sfzcAccountActions.getSfzcPaymentList())},callback:function(e){n(m.sfzcAccountActions.changeSfzcData("runningDate",e)),n(d.homeAccountActions.changeHomeAccountData("runningDate",e)),G&&n(m.sfzcAccountActions.getSfzcPaymentList())}}),r.default.createElement(s.ScrollView,{flex:"1"},N?r.default.createElement(s.Row,{className:"lrls-row"}," ","流水号： "+z," "):null,r.default.createElement(s.Row,{className:"lrls-card"},r.default.createElement(f.CategoryCom,{isModify:N,dispatch:n,lastCategory:w,categoryUuid:T,categoryName:j}),r.default.createElement(s.Radio,{disabled:N,list:q,value:O,onChange:function(e){n(m.sfzcAccountActions.changeSfzcRunningState(B,e)),n(m.sfzcAccountActions.changeSfzcData("runningAbstract",(0,f.abstractFun)(e,C))),"STATE_SF_JN"==e&&n(m.sfzcAccountActions.getSfzcPaymentList())}})),r.default.createElement(s.Row,{className:"lrls-card lrls-line"},r.default.createElement("label",null,"摘要:"),r.default.createElement(s.TextareaItem,{placeholder:"摘要填写",value:x,onChange:function(e){n(m.sfzcAccountActions.changeSfzcData("runningAbstract",e))}})),V,K,$,W,Q,r.default.createElement(f.UploadFj,{dispatch:n,enCanUse:u,editPermission:o,enclosureList:A,showlsfj:y,checkMoreFj:p,label:h,enclosureCountUser:E,history:l}),"STATE_SF_JN"===O?r.default.createElement(s.Row,{className:"lrls-button-wrap"},r.default.createElement("span",{className:"lrls-button",onClick:function(){n(d.homeAccountActions.changeHomeAccountData("categoryType","LB_SFZC_LS"))}},te?"修改单据":"请选择单据")):null),r.default.createElement(s.ButtonGroup,null,r.default.createElement(s.Button,{onClick:function(){n(m.sfzcAccountActions.saveRunningbusiness())}},r.default.createElement(s.Icon,{type:"save"}),r.default.createElement("span",null,"保存")),r.default.createElement(s.Button,{onClick:function(){n(m.sfzcAccountActions.saveRunningbusiness(!0))}},r.default.createElement(s.Icon,{type:"new"}),r.default.createElement("span",null,"保存并新增"))))}}]),t}())||a;t.default=y},1670:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,c,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(0),r=(c=o)&&c.__esModule?c:{default:c},u=n(31),s=(n(9),n(16)),i=n(123),f=n(1061),d=n(1058),m=n(1280),g=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(25)),n(13));var p=(0,u.connect)(function(e){return e})(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),l(t,[{key:"render",value:function(){var e=this.props,t=e.dispatch,n=e.homeAccountState,a=e.sfzcAccountState,c=e.history,l=e.editPermission,o=e.enCanUse,u=e.checkMoreFj,p=e.showlsfj,y=e.label,h=e.enclosureList,A=e.enclosureCountUser,E=n.get("lastCategory"),b=n.get("accountList"),v=a.get("data"),w="modify"===a.getIn(["views","insertOrModify"]),_=a.getIn(["data","flowNumber"]),C=v.get("categoryUuid"),S=v.get("categoryName"),z=v.get("runningDate"),N=v.get("runningState"),T=v.get("runningAbstract"),j=v.get("accountName"),k=v.get("accountUuid"),O=v.get("amount"),x=v.get("propertyTax");v.get("acTax");return r.default.createElement(s.Container,{className:"lrls"},r.default.createElement(i.TopDatePicker,{disabled:w,value:z,onChange:function(e){t(m.sfzcAccountActions.changeSfzcData("runningDate",new g.DateLib(e).valueOf())),t(d.homeAccountActions.changeHomeAccountData("runningDate",new g.DateLib(e).valueOf()))},callback:function(e){t(m.sfzcAccountActions.changeSfzcData("runningDate",e)),t(d.homeAccountActions.changeHomeAccountData("runningDate",e))}}),w?r.default.createElement(s.Row,{className:"lrls-row"}," ","流水号： "+_," "):null,r.default.createElement(s.ScrollView,{ref:"lrlsScrollContainer",flex:"1",uniqueKey:"lrls-scroll",savePosition:!0},r.default.createElement(s.Row,{className:"lrls-card"},r.default.createElement(f.CategoryCom,{isModify:w,dispatch:t,lastCategory:E,categoryUuid:C,categoryName:S}),r.default.createElement(s.Radio,{disabled:w,list:[{key:"STATE_SF_JN",value:"缴纳"}],value:N,onChange:function(e){t(m.sfzcAccountActions.changeSfzcRunningState(x,e))}})),r.default.createElement(s.Row,{className:"lrls-card lrls-line"},r.default.createElement("label",null,"摘要:"),r.default.createElement(s.TextareaItem,{placeholder:"摘要填写",value:T,onChange:function(e){t(m.sfzcAccountActions.changeSfzcData("runningAbstract",e))}})),r.default.createElement(s.Row,{className:"lrls-card"},r.default.createElement(s.Row,{className:"yysr-amount"},r.default.createElement("label",null," 金额： "),r.default.createElement(s.TextListInput,{placeholder:"填写金额",value:O,onChange:function(e){/^\d*\.?\d{0,2}$/g.test(e)&&t(m.sfzcAccountActions.changeSfzcData("amount",e))}}),O>0?r.default.createElement(f.Account,{history:c,accountList:b,accountUuid:k,accountName:j,onOk:function(e){return t(m.sfzcAccountActions.changeSfzcAccount(e))}}):null)),r.default.createElement(f.UploadFj,{dispatch:t,enCanUse:o,editPermission:l,enclosureList:h,showlsfj:p,checkMoreFj:u,label:y,enclosureCountUser:A,history:c})),r.default.createElement(s.ButtonGroup,null,r.default.createElement(s.Button,{onClick:function(){t(m.sfzcAccountActions.saveRunningbusiness())}},r.default.createElement(s.Icon,{type:"save"}),r.default.createElement("span",null,"保存")),r.default.createElement(s.Button,{onClick:function(){t(m.sfzcAccountActions.saveRunningbusiness(!0))}},r.default.createElement(s.Icon,{type:"new"}),r.default.createElement("span",null,"保存并新增"))))}}]),t}())||a;t.default=p},1671:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,c,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(0),r=(c=o)&&c.__esModule?c:{default:c},u=n(31),s=(n(9),n(16)),i=n(123),f=n(1061),d=n(1058),m=n(1280),g=(p(n(25)),p(n(1064)),n(13));function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=(0,u.connect)(function(e){return e})(a=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var c=arguments.length,l=Array(c),o=0;o<c;o++)l[o]=arguments[o];return n=a=y(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.state={showList:!0},y(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),l(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.dispatch,a=t.homeAccountState,c=t.sfzcAccountState,l=t.history,o=t.editPermission,u=t.enCanUse,p=t.checkMoreFj,y=t.showlsfj,h=t.label,A=t.enclosureList,E=t.enclosureCountUser,b=this.state.showList,v=a.get("lastCategory"),w=a.get("accountList"),_=c.get("data"),C=c.getIn(["views","insertOrModify"]),S=c.getIn(["data","flowNumber"]),z="modify"===C,N=c.getIn(["views","fromYl"]),T=_.get("categoryUuid"),j=_.get("categoryName"),k=_.get("runningDate"),O=_.get("runningState"),x=_.get("runningAbstract"),L=_.get("accountName"),R=_.get("accountUuid"),P=_.get("amount"),D=_.get("jtAmount"),I=_.get("reduceAmount"),Z=_.get("propertyTax"),U=_.get("acTax"),F=U.get("beAccrued"),M=U.get("beReduce"),B=_.get("beReduce"),X=[{key:"STATE_SF_JT",value:"计提",disabled:!F,message:"流水设置中未启用"},{key:"STATE_SF_JN",value:"缴纳"}],J=!1,Y=!1,H=null;(({STATE_SF_JT:function(){Y=!1},STATE_SF_JN:function(){J=!0,Y=!0,M&&(H=r.default.createElement(s.Row,{className:"lrls-card"},r.default.createElement(s.Row,{className:"lrls-more-card"},r.default.createElement("span",null,"税费减免"),r.default.createElement("span",{className:"noTextSwitchShort"},r.default.createElement(s.Switch,{checked:B,color:"#FF8348",onClick:function(){B?(n(m.sfzcAccountActions.changeSfzcData("beReduce",!1)),n(m.sfzcAccountActions.changeSfzcData("reduceAmount",""))):n(m.sfzcAccountActions.changeSfzcData("beReduce",!0))}}))),B?r.default.createElement(s.Row,{className:"yysr-amount lrls-padding-top"},r.default.createElement("label",null,"金额： "),r.default.createElement(s.TextListInput,{placeholder:"填写金额",value:I,onChange:function(e){/^\d*\.?\d{0,2}$/g.test(e)&&n(m.sfzcAccountActions.changeSfzcData("reduceAmount",e))}})):null))}})[O]||function(){return null})();var q=null,G=_.get("beProject"),K=!0,$=a.get("project");if(G&&(!F||"STATE_SF_JN"!=O)){K=!$.get("usedProject");q=r.default.createElement(f.ProjectCom,{project:$,dispatch:n,changeAmount:function(e){return n(m.sfzcAccountActions.changeSfzcData("amount",e))}})}var V=null,W=_.get("paymentList"),Q=W.some(function(e){return e.get("beSelect")});if(F&&"STATE_SF_JN"===O&&Q&&(V=(0,f.xczcCom)("待支付金额",D,W,"SX_QTSF"==Z?"计提其他税费":"计提企业所得税")),N&&F&&"STATE_SF_JT"===O&&W.size){V=(0,f.hxCom)(W,b,function(){return e.setState({showList:!b})},"SX_QTSF"===Z?"计提其他税费":"计提企业所得税")}return r.default.createElement(s.Container,{className:"lrls"},r.default.createElement(i.TopDatePicker,{disabled:z,value:k,onChange:function(e){n(m.sfzcAccountActions.changeSfzcData("runningDate",new g.DateLib(e).valueOf())),n(d.homeAccountActions.changeHomeAccountData("runningDate",new g.DateLib(e).valueOf())),J&&n(m.sfzcAccountActions.getSfzcPaymentList(!0))},callback:function(e){n(m.sfzcAccountActions.changeSfzcData("runningDate",e)),n(d.homeAccountActions.changeHomeAccountData("runningDate",e)),J&&n(m.sfzcAccountActions.getSfzcPaymentList(!0))}}),z?r.default.createElement(s.Row,{className:"lrls-row"}," ","流水号： "+S," "):null,r.default.createElement(s.ScrollView,{ref:"lrlsScrollContainer",flex:"1",uniqueKey:"lrls-scroll",savePosition:!0},r.default.createElement(s.Row,{className:"lrls-card"},r.default.createElement(f.CategoryCom,{isModify:z,dispatch:n,lastCategory:v,categoryUuid:T,categoryName:j,showProject:G&&!(F&&"STATE_SF_JN"==O),project:$,changeAmount:function(e){return n(m.sfzcAccountActions.changeSfzcData("amount",e))}}),r.default.createElement(s.Radio,{disabled:z,list:X,value:O,onChange:function(e){n(m.sfzcAccountActions.changeSfzcRunningState(Z,e)),n(m.sfzcAccountActions.changeSfzcData("runningAbstract",(0,f.abstractFun)(e,_))),"STATE_SF_JN"==e&&n(m.sfzcAccountActions.getSfzcPaymentList(!0))}})),r.default.createElement(s.Row,{className:"lrls-card lrls-line"},r.default.createElement("label",null,"摘要："),r.default.createElement(s.TextareaItem,{placeholder:"摘要填写",value:x,onChange:function(e){n(m.sfzcAccountActions.changeSfzcData("runningAbstract",e))}})),q,r.default.createElement(s.Row,{className:"lrls-card",style:{display:K||P>0&&Y?"":"none"}},r.default.createElement(s.Row,{className:"yysr-amount"},K?r.default.createElement("label",null," 金额： "):null,K?r.default.createElement(s.TextListInput,{placeholder:"填写金额",value:P,onChange:function(e){/^\d*\.?\d{0,2}$/g.test(e)&&n(m.sfzcAccountActions.changeSfzcData("amount",e))}}):null,!K&&Y?r.default.createElement("label",null,"账户："):null,P>0&&Y?r.default.createElement(f.Account,{history:l,accountList:w,accountUuid:R,accountName:L,onOk:function(e){return n(m.sfzcAccountActions.changeSfzcAccount(e))}}):null)),H,V,r.default.createElement(f.UploadFj,{dispatch:n,enCanUse:u,editPermission:o,enclosureList:A,showlsfj:y,checkMoreFj:p,label:h,enclosureCountUser:E,history:l}),F&&"STATE_SF_JN"===O?r.default.createElement(s.Row,{className:"lrls-button-wrap"},r.default.createElement("span",{className:"lrls-button",onClick:function(){n(d.homeAccountActions.changeHomeAccountData("categoryType","LB_SFZC_LS"))}},Q?"修改单据":"请选择单据")):null),r.default.createElement(s.ButtonGroup,null,r.default.createElement(s.Button,{onClick:function(){n(m.sfzcAccountActions.saveRunningbusiness())}},r.default.createElement(s.Icon,{type:"save"}),r.default.createElement("span",null,"保存")),r.default.createElement(s.Button,{onClick:function(){n(m.sfzcAccountActions.saveRunningbusiness(!0))}},r.default.createElement(s.Icon,{type:"new"}),r.default.createElement("span",null,"保存并新增"))))}}]),t}())||a;t.default=h},1672:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,c,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(0),r=(c=o)&&c.__esModule?c:{default:c},u=n(31),s=(n(9),n(16)),i=n(1058),f=n(1280);var d=(0,u.connect)(function(e){return e})(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),l(t,[{key:"render",value:function(){var e=this.props,t=e.dispatch,n=e.sfzcAccountState,a=n.getIn(["data","paymentList"]),c=n.getIn(["data","propertyTax"]),l="SX_QTSF"==c||"SX_QYSDS"==c,o="未交增值税";"SX_QTSF"==c&&(o="计提其他税费"),"SX_QYSDS"==c&&(o="计提企业所得税");var u=0,d=0;return a.forEach(function(e){e.get("beSelect")&&(u++,d+=e.get("notHandleAmount"))}),r.default.createElement(s.Container,{className:"lrls"},r.default.createElement("ul",{className:"lrls-row xczc-ls"},r.default.createElement("li",null,"已勾选流水：",u,"条"),r.default.createElement("li",null,"合计金额：",r.default.createElement(s.Amount,{showZero:!0},d))),r.default.createElement(s.ScrollView,{ref:"lrlsScrollContainer",flex:"1",uniqueKey:"lrls-scroll",savePosition:!0},a.map(function(e,n){return r.default.createElement(s.Row,{key:n,className:"lrls-card",onClick:function(){e.get("beSelect")?t(f.sfzcAccountActions.paymentListBeSelect(n,!1)):t(f.sfzcAccountActions.paymentListBeSelect(n,!0))}},r.default.createElement("div",{className:"xczc-ls-line xczc-ls-top"},r.default.createElement("span",null,r.default.createElement(s.Checkbox,{style:{paddingRight:"10px"},checked:!!e.get("beSelect")}),e.get("flowNumber")),r.default.createElement("span",{className:"xczc-ls-color"},e.get("runningDate"))),r.default.createElement("div",{className:"xczc-ls-line xczc-ls-center"},r.default.createElement("span",{className:"overElli"},e.get("runningAbstract")),r.default.createElement(s.Amount,{showZero:!0},e.get("notHandleAmount"))),r.default.createElement("div",{className:"xczc-ls-line xczc-ls-bottom"},r.default.createElement("span",{className:"xczc-ls-color"},o)))})),r.default.createElement(s.ButtonGroup,{style:{backgroundColor:"#F8F8F8"}},r.default.createElement(s.Button,{onClick:function(){t(i.homeAccountActions.changeHomeAccountData("categoryType","LB_SFZC")),t(f.sfzcAccountActions.changeSfzcData("jtAmount",d)),t(l?f.sfzcAccountActions.changeSfzcData("amount",d):f.sfzcAccountActions.changeSfzcData("handleAmount",d))}},r.default.createElement(s.Icon,{type:"choose"}),r.default.createElement("span",null,"确定"))))}}]),t}())||a;t.default=d},1673:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,c,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(0),r=(c=o)&&c.__esModule?c:{default:c},u=n(31),s=(n(9),n(16)),i=n(123),f=n(1061),d=n(1058),m=n(1395),g=n(13);var p=(0,u.connect)(function(e){return e})(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),l(t,[{key:"render",value:function(){var e=this.props,t=e.dispatch,n=e.homeAccountState,a=e.nbzzAccountState,c=e.history,l=e.homeState,o=e.editPermission,u=n.get("lastCategory"),p=n.get("accountList"),y=a.get("data"),h="modify"===a.getIn(["views","insertOrModify"]),A=y.get("fromAccountName"),E=y.get("fromAccountUuid"),b=y.get("toAccountName"),v=y.get("toAccountUuid"),w=y.get("categoryUuid"),_=y.get("categoryName"),C=y.get("runningDate"),S=y.get("runningAbstract"),z=y.get("amount"),N=l.getIn(["data","userInfo","sobInfo","moduleInfo"]),T=!N||N.indexOf("ENCLOSURE_RUN")>-1,j="TRUE"===l.getIn(["data","userInfo","checkMoreFj"]),k=n.getIn(["flags","showlsfj"]),O=(n.get("previewImageList").toJS(),n.get("label")),x=n.get("enclosureList"),L=n.get("enclosureCountUser");return r.default.createElement(s.Container,{className:"lrls"},r.default.createElement(i.TopDatePicker,{value:C,onChange:function(e){t(m.nbzzAccountActions.changeNbzzData("runningDate",new g.DateLib(e).valueOf())),t(d.homeAccountActions.changeHomeAccountData("runningDate",new g.DateLib(e).valueOf()))},callback:function(e){t(m.nbzzAccountActions.changeNbzzData("runningDate",e)),t(d.homeAccountActions.changeHomeAccountData("runningDate",e))}}),r.default.createElement(s.ScrollView,{flex:"1"},r.default.createElement("div",{className:"lrls-card"},r.default.createElement(f.CategoryCom,{isModify:h,dispatch:t,lastCategory:u,categoryUuid:w,categoryName:_})),r.default.createElement("div",{className:"lrls-card lrls-line"},r.default.createElement("label",null,"摘要:"),r.default.createElement(s.TextareaItem,{placeholder:"摘要填写",value:S,onChange:function(e){t(m.nbzzAccountActions.changeNbzzData("runningAbstract",e))}})),r.default.createElement("div",{className:"lrls-card"},r.default.createElement(s.Row,{className:"yysr-amount"},r.default.createElement("label",null," 金额: "),r.default.createElement(s.TextListInput,{placeholder:"填写金额",value:z,onChange:function(e){/^\d*\.?\d{0,2}$/g.test(e)&&t(m.nbzzAccountActions.changeNbzzData("amount",e))}})),r.default.createElement(s.Row,{className:"yysr-amount lrls-home-account margin-top-bot"},r.default.createElement("label",null," 转出账户: "),r.default.createElement(f.Account,{history:c,accountList:p,accountUuid:E,accountName:A,onOk:function(e){return t(m.nbzzAccountActions.changeNbzzAccount("fromAccount",e))}})),r.default.createElement(s.Row,{className:"yysr-amount lrls-home-account"},r.default.createElement("label",null," 转入账户: "),r.default.createElement(f.Account,{history:c,accountList:p,accountUuid:v,accountName:b,onOk:function(e){return t(m.nbzzAccountActions.changeNbzzAccount("toAccount",e))}}))),r.default.createElement(f.UploadFj,{dispatch:t,enCanUse:T,editPermission:o,enclosureList:x,showlsfj:k,checkMoreFj:j,label:O,enclosureCountUser:L})),r.default.createElement(s.ButtonGroup,null,r.default.createElement(s.Button,{onClick:function(){t(m.nbzzAccountActions.saveRunningbusiness())}},r.default.createElement(s.Icon,{type:"save"}),r.default.createElement("span",null,"保存")),r.default.createElement(s.Button,{onClick:function(){t(m.nbzzAccountActions.saveRunningbusiness(!0))}},r.default.createElement(s.Icon,{type:"new"}),r.default.createElement("span",null,"保存并新增"))))}}]),t}())||a;t.default=p},1674:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,c,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(0),r=(c=o)&&c.__esModule?c:{default:c},u=n(31),s=(n(9),n(16)),i=n(123),f=n(1061),d=n(13),m=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(10)),g=n(1279),p=n(1058);var y=(0,u.connect)(function(e){return e})(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),l(t,[{key:"render",value:function(){var e,t=this.props,n=t.dispatch,a=t.homeAccountState,c=t.sfglAccountState,l=t.history,o=t.homeState,u=t.editPermission,y=a.get("lastCategory"),h=a.get("accountList"),A=c.get("data"),E="modify"===c.getIn(["views","insertOrModify"]),b=A.get("accountName"),v=A.get("accountUuid"),w=A.get("categoryUuid"),_=A.get("categoryName"),C=A.get("runningDate"),S=A.get("runningAbstract"),z=(A.get("amount"),A.get("amount")<0?-A.get("amount"):A.get("amount")),N=A.get("totalAmount"),T=A.get("totalAmount")<0?-A.get("totalAmount"):A.get("totalAmount"),j=A.get("flowNumber"),k=A.get("beMoed"),O=A.get("moedAmount"),x=c.get("cardList"),L=A.get("contactsCardRange");e=r.default.createElement(f.ContancsCom,{cardList:x,cardObj:L,noBottom:"contactsCardRange",onOk:function(e){n(g.sfglAccountActions.changeSfglCard(e.value,"",C))},noInsert:!0,disabled:E});var R=null,P=c.getIn(["manageList","childList"]),D=P.some(function(e){return e.get("isCheck")});D&&(R=r.default.createElement(s.Row,{className:"ylls-card"},r.default.createElement("div",{className:"hx-title"},"待核销",N>=0?"收":"付","款金额：",r.default.createElement(s.Amount,{showZero:!0},T)),P.map(function(e,t){if(e.get("isCheck"))return r.default.createElement("div",{key:t,className:"ylls-top-line"},r.default.createElement("div",{className:"ylls-item ylls-padding"},r.default.createElement("div",{className:"overElli"},e.get("categoryName")),e.get("beOpened")?r.default.createElement("span",null):r.default.createElement("div",{className:"ylls-gray"},"流水号：",e.get("flowNumber"))),r.default.createElement("div",{className:"ylls-item"},r.default.createElement("div",{className:"ylls-blue"}," ",(n=e.get("flowType"),a=e.get("direction"),"FLOW_INADVANCE"==n?"credit"==a?"预付":"预收":"credit"==a?"应付":"应收")," "),r.default.createElement("div",null,r.default.createElement(s.Amount,{showZero:!0,className:"ylls-bold"},e.get("notHandleAmount")))));var n,a})));var I=o.getIn(["data","userInfo","sobInfo","moduleInfo"]),Z=!I||I.indexOf("ENCLOSURE_RUN")>-1,U="TRUE"===o.getIn(["data","userInfo","checkMoreFj"]),F=a.getIn(["flags","showlsfj"]),M=(a.get("previewImageList").toJS(),a.get("label")),B=a.get("enclosureList"),X=a.get("enclosureCountUser");return r.default.createElement(s.Container,{className:"lrls"},r.default.createElement(i.TopDatePicker,{value:C,onChange:function(e){E||(n(g.sfglAccountActions.changeSfglData("runningDate",new d.DateLib(e).valueOf())),n(p.homeAccountActions.changeHomeAccountData("runningDate",new d.DateLib(e).valueOf())),n(g.sfglAccountActions.getSfglCardList(new d.DateLib(e).valueOf())))},callback:function(e){E||(n(g.sfglAccountActions.changeSfglData("runningDate",e)),n(p.homeAccountActions.changeHomeAccountData("runningDate",e)),n(g.sfglAccountActions.getSfglCardList("runningDate",e)))}}),E?r.default.createElement(s.Row,{className:"lrls-row"}," ","流水号： "+j," "):null,r.default.createElement(s.ScrollView,{flex:"1"},r.default.createElement("div",{className:"lrls-card"},r.default.createElement(f.CategoryCom,{isModify:E,dispatch:n,lastCategory:y,categoryUuid:w,categoryName:_})),r.default.createElement("div",{className:"lrls-card lrls-line"},r.default.createElement("label",null,"摘要:"),r.default.createElement(s.TextareaItem,{placeholder:"摘要填写",value:S,onChange:function(e){n(g.sfglAccountActions.changeSfglData("runningAbstract",e))}})),r.default.createElement("div",{className:"lrls-card"},e,r.default.createElement(s.Row,{className:"yysr-amount"},r.default.createElement("label",null,N>=0?"收款金额":"付款金额",":"),r.default.createElement(s.TextListInput,{placeholder:"填写金额",value:z,onChange:function(e){/^\d*\.?\d{0,2}$/g.test(e)&&n(g.sfglAccountActions.changeSfglData("amount",e))}}),k&&O>=T||0==z?null:r.default.createElement(f.Account,{history:l,accountList:h,accountUuid:v,accountName:b,onOk:function(e){return n(g.sfglAccountActions.changeSfglAccount(e))}}))),r.default.createElement(s.Row,{className:"lrls-card"},r.default.createElement(s.Row,{className:"lrls-more-card"},r.default.createElement("span",null,"应",N>=0?"收":"付","抹零"),r.default.createElement("span",{className:"noTextSwitchShort"},r.default.createElement(s.Switch,{checked:k,onClick:function(){n(g.sfglAccountActions.changeSfglData("beMoed",!k))}}))),k?r.default.createElement(s.Row,{className:"lrls-padding-top"},r.default.createElement(s.Row,{className:"yysr-amount"},r.default.createElement("label",null,"抹零金额： "),r.default.createElement(s.TextListInput,{placeholder:"填写金额",value:O,onChange:function(e){/^\d*\.?\d{0,2}$/g.test(e)&&n(g.sfglAccountActions.changeSfglData("moedAmount",e))}}))):null),R,r.default.createElement(f.UploadFj,{dispatch:n,enCanUse:Z,editPermission:u,enclosureList:B,showlsfj:F,checkMoreFj:U,label:M,enclosureCountUser:X,history:l}),r.default.createElement(s.Row,{className:"lrls-button-wrap"},r.default.createElement("span",{className:"lrls-button",onClick:function(){if(""==A.get("cardUuid"))return m.toast.info("请选择往来单位",2);n(p.homeAccountActions.changeHomeAccountData("categoryType","LB_SFGL_LS"))}},D?"修改单据":"请选择单据"))),r.default.createElement(s.ButtonGroup,null,r.default.createElement(s.Button,{onClick:function(){n(g.sfglAccountActions.saveRunningbusiness())}},r.default.createElement(s.Icon,{type:"save"}),r.default.createElement("span",null,"保存")),r.default.createElement(s.Button,{onClick:function(){n(g.sfglAccountActions.saveRunningbusiness(!0))}},r.default.createElement(s.Icon,{type:"new"}),r.default.createElement("span",null,"保存并新增"))))}}]),t}())||a;t.default=y},1675:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,c,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(0),r=(c=o)&&c.__esModule?c:{default:c},u=n(31),s=(n(9),n(16)),i=n(1058),f=n(1279);n(13);n(1676);var d=(0,u.connect)(function(e){return e})(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),l(t,[{key:"render",value:function(){var e=this.props,t=e.dispatch,n=e.sfglAccountState.getIn(["manageList","childList"]),a=0,c=0;n.forEach(function(e){if(e.get("isCheck")){a++;var t=e.get("flowType"),n=e.get("direction"),l=Number(e.get("notHandleAmount")),o=e.get("runningState");"STATE_YYSR_TS"!==o&&"STATE_YYZC_TG"!==o||(l=-Math.abs(l)),"FLOW_INADVANCE"==t?"credit"==n?c+=l:c-=l:"credit"==n?c-=l:c+=l}});var l=c>=0?"待核销收款金额：":"待核销付款金额：";return r.default.createElement(s.Container,{className:"lrls"},r.default.createElement("ul",{className:"lrls-row xczc-ls"},r.default.createElement("li",null,"已勾选流水：",a,"条"),r.default.createElement("li",null,l,r.default.createElement(s.Amount,{showZero:!0},Math.abs(c)))),r.default.createElement(s.ScrollView,{ref:"lrlsScrollContainer",flex:"1",uniqueKey:"lrls-scroll",savePosition:!0},n.map(function(e,n){var a,c,l=Number(e.get("notHandleAmount")),o=e.get("runningState");return"STATE_YYSR_TS"!==o&&"STATE_YYZC_TG"!==o||(l=-Math.abs(l)),r.default.createElement(s.Row,{key:n,className:"lrls-card"},r.default.createElement("div",{className:"xczc-ls-line xczc-ls-top",onClick:function(){e.get("isCheck")?t(f.sfglAccountActions.manageListCheckded(n,!1)):(t(f.sfglAccountActions.manageListCheckded(n,!0)),e.get("beOpened")&&t(f.sfglAccountActions.getSfglCategoryList(n,e.get("assType"))))}},r.default.createElement("span",null,r.default.createElement(s.Checkbox,{style:{paddingRight:"10px"},checked:!!e.get("isCheck")}),e.get("flowNumber")),r.default.createElement("span",{className:"xczc-ls-color"},e.get("runningDate"))),r.default.createElement("div",{className:"xczc-ls-line xczc-ls-center sfgl-item"},e.get("beOpened")?r.default.createElement(s.SinglePicker,{disabled:!e.get("isCheck"),district:e.get("categoryList")?e.get("categoryList").toJS():[],value:e.get("categoryName")?e.get("categoryName"):"",onOk:function(e){t(f.sfglAccountActions.sfglManageListCatetory(n,e.value))}},r.default.createElement(s.Row,{className:e.get("isCheck")?"overElli":"overElli lrls-placeholder"},e.get("categoryName")?e.get("categoryName"):"点击选择类别")):r.default.createElement("div",{className:"overElli"},e.get("categoryName")),r.default.createElement(s.Amount,{showZero:!0},l)),r.default.createElement("div",{className:"xczc-ls-line xczc-ls-center"},r.default.createElement("span",{className:"overElli"},e.get("runningAbstract")),r.default.createElement("span",null)),r.default.createElement("div",{className:"xczc-ls-line xczc-ls-bottom"},r.default.createElement("span",{className:"xczc-ls-color"},(a=e.get("flowType"),c=e.get("direction"),"FLOW_INADVANCE"==a?"credit"==c?"预付":"预收":"credit"==c?"应付":"应收"))))})),r.default.createElement(s.ButtonGroup,null,r.default.createElement(s.Button,{onClick:function(){t(i.homeAccountActions.changeHomeAccountData("categoryType","LB_SFGL")),t(f.sfglAccountActions.changeSfglData("amount",c)),t(f.sfglAccountActions.changeSfglData("totalAmount",c))}},r.default.createElement(s.Icon,{type:"choose"}),r.default.createElement("span",null,"确定"))))}}]),t}())||a;t.default=d},1676:function(e,t,n){},1678:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,c,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(0),r=(c=o)&&c.__esModule?c:{default:c},u=n(31),s=(n(9),n(16)),i=n(123),f=n(1061),d=h(n(10)),m=n(13),g=h(n(25)),p=n(1297),y=n(1058);function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var A=(0,u.connect)(function(e){return e})(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),l(t,[{key:"render",value:function(){var e=this.props,t=e.dispatch,n=e.homeAccountState,a=e.jzcbAccountState,c=e.homeState,l=e.editPermission,o=e.history,u=n.get("lastCategory"),h=a.get("data"),A="modify"===a.getIn(["views","insertOrModify"]),E=h.get("runningState"),b=h.get("categoryUuid"),v=h.get("lsCategoryName"),w=h.get("runningDate"),_=h.get("runningAbstract"),C=h.get("totalAmount"),S=a.get("stockCardList"),z=h.get("stockCardRange"),N=1==z.size,T=z.some(function(e){return e.get("uuid")}),j=function(e,n,a){return t(p.jzcbAccountActions.changeJzcbCard(e,n,a))},k=null,O=a.get("hxList"),x=O.some(function(e){return e.get("isCheck")}),L="STATE_YYSR_XS"===E?"收入金额合计：":"退销金额合计：";x&&(k=r.default.createElement(s.Row,{className:"ylls-card"},r.default.createElement("div",{className:"hx-title"},L,r.default.createElement(s.Amount,{showZero:!0},C)),O.map(function(e,t){if(e.get("isCheck"))return r.default.createElement("div",{key:t,className:"ylls-top-line"},r.default.createElement("div",{className:"ylls-item ylls-padding"},r.default.createElement("div",{className:"overElli"},e.get("categoryName")),r.default.createElement("div",{className:"ylls-gray"},"流水号：",e.get("flowNumber"))),r.default.createElement("div",{className:"ylls-item"},r.default.createElement("div",{className:"overElli"},e.get("cardStockName")),r.default.createElement("div",null,r.default.createElement(s.Amount,{className:"ylls-bold",showZero:!0},e.get("amount")))))})));var R=c.getIn(["data","userInfo","sobInfo","moduleInfo"]),P=!R||R.indexOf("ENCLOSURE_RUN")>-1,D="TRUE"===c.getIn(["data","userInfo","checkMoreFj"]),I=n.getIn(["flags","showlsfj"]),Z=(n.get("previewImageList").toJS(),n.get("label")),U=n.get("enclosureList"),F=n.get("enclosureCountUser");return r.default.createElement(s.Container,{className:"lrls"},r.default.createElement(i.TopDatePicker,{value:w,onChange:function(e){t(p.jzcbAccountActions.changeJzcbData("runningDate",new m.DateLib(e).valueOf())),t(y.homeAccountActions.changeHomeAccountData("runningDate",new m.DateLib(e).valueOf())),t(p.jzcbAccountActions.getJzcbCardList())},callback:function(e){t(p.jzcbAccountActions.changeJzcbData("runningDate",e)),t(y.homeAccountActions.changeHomeAccountData("runningDate",e)),t(p.jzcbAccountActions.getJzcbCardList())}}),r.default.createElement(s.ScrollView,{flex:"1"},r.default.createElement("div",{className:"lrls-card"},r.default.createElement(f.CategoryCom,{isModify:A,dispatch:t,lastCategory:u,categoryUuid:b,categoryName:v}),r.default.createElement(s.Radio,{disabled:A,list:[{key:"STATE_YYSR_XS",value:"销售成本结转"},{key:"STATE_YYSR_TS",value:"退销转回成本"}],value:E,onChange:function(e){t(p.jzcbAccountActions.changeJzcbRunningState(e)),t(p.jzcbAccountActions.getJzcbCardList())}})),r.default.createElement("div",{className:"lrls-card lrls-line"},r.default.createElement("label",null,"摘要："),r.default.createElement(s.TextareaItem,{placeholder:"摘要填写",value:_,onChange:function(e){t(p.jzcbAccountActions.changeJzcbData("runningAbstract",e))}})),r.default.createElement("div",{className:"lrls-card"},z.map(function(e,n){var a=!0,c=0;return O.forEach(function(t){t.get("isCheck")&&t.get("stockCardUuid")==e.get("uuid")&&(a=!1,c+=t.get("amount"))}),r.default.createElement("div",{key:n,style:{paddingBottom:N?"0":"10px"}},r.default.createElement("div",{className:"lrls-more-card lrls-placeholder lrls-bottom"},r.default.createElement("span",null,"存货明细(",n+1,")"),r.default.createElement("span",{className:"lrls-blue",style:{display:N||A?"none":""},onClick:function(){j("delete","",n),t(p.jzcbAccountActions.getJzcbList())}},"删除")),r.default.createElement("div",{className:"lrls-more-card lrls-bottom"},r.default.createElement("label",null,"存货:"),r.default.createElement(s.SinglePicker,{disabled:A,district:S.toJS(),value:e.get("uuid")?""+e.get("uuid")+g.TREE_JOIN_STR+e.get("code")+g.TREE_JOIN_STR+e.get("name"):"",onOk:function(e){j("card",e.value,n),t(p.jzcbAccountActions.getJzcbList())}},r.default.createElement(s.Row,{className:"lrls-category lrls-padding"},e.get("uuid")?r.default.createElement("span",null," ",e.get("code")+" "+e.get("name")," "):r.default.createElement("span",{className:"lrls-placeholder"},"点击选择存货卡片"),r.default.createElement(s.Icon,{type:"triangle"})))),r.default.createElement(s.Row,{className:"lrls-more-card lrls-bottom"},r.default.createElement("label",null,"成本金额："),r.default.createElement(s.TextListInput,{disabled:a,placeholder:"填写成本金额",value:e.get("amount"),onChange:function(e){/^\d*\.?\d{0,2}$/g.test(e)&&j("amount",e,n)}}),r.default.createElement("span",{className:"lrls-margin-left"},r.default.createElement(s.Amount,{showZero:!0},c))))}),r.default.createElement("div",{className:"lrls-more-card",style:{fontWeight:"bold",display:A?"none":""}},r.default.createElement("div",null),r.default.createElement("div",{className:"lrls-blue",onClick:function(){j("add","",z.size)}},"+添加存货明细"))),k,r.default.createElement(f.UploadFj,{dispatch:t,enCanUse:P,editPermission:l,enclosureList:U,showlsfj:I,checkMoreFj:D,label:Z,enclosureCountUser:F,history:o}),r.default.createElement(s.Row,{className:"lrls-button-wrap"},r.default.createElement("span",{className:"lrls-button",onClick:function(){if(!T)return d.toast.info("请先选择存货",2);t(y.homeAccountActions.changeHomeAccountData("categoryType","LB_JZCB_LS"))}},x?"修改单据":"请选择单据"))),r.default.createElement(s.ButtonGroup,null,r.default.createElement(s.Button,{onClick:function(){t(p.jzcbAccountActions.saveRunningbusiness())}},r.default.createElement(s.Icon,{type:"save"}),r.default.createElement("span",null,"保存")),r.default.createElement(s.Button,{onClick:function(){t(p.jzcbAccountActions.saveRunningbusiness(!0))}},r.default.createElement(s.Icon,{type:"new"}),r.default.createElement("span",null,"保存并新增"))))}}]),t}())||a;t.default=A},1679:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,c,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(0),r=(c=o)&&c.__esModule?c:{default:c},u=n(31),s=(n(9),n(16)),i=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(25)),n(1058)),f=n(1297);var d=(0,u.connect)(function(e){return e})(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),l(t,[{key:"render",value:function(){var e=this.props,t=e.dispatch,n=e.jzcbAccountState,a=(n.get("data"),n.getIn(["views","insertOrModify"]),n.get("hxList")),c="STATE_YYSR_XS"===n.getIn(["data","runningState"])?"收入金额合计：":"退销金额合计：",l=0,o=0;return a.forEach(function(e){e.get("isCheck")&&(l++,o+=e.get("amount"))}),r.default.createElement(s.Container,{className:"lrls"},r.default.createElement("ul",{className:"lrls-row xczc-ls"},r.default.createElement("li",null,"已勾选流水：",l,"条"),r.default.createElement("li",null,c,r.default.createElement(s.Amount,{showZero:!0},o))),r.default.createElement(s.ScrollView,{ref:"lrlsScrollContainer",flex:"1",uniqueKey:"lrls-scroll",savePosition:!0},a.map(function(e,n){return r.default.createElement(s.Row,{key:n,className:"lrls-card",onClick:function(){e.get("isCheck")?t(f.jzcbAccountActions.jzcbHxListBeCheck(n,!1)):t(f.jzcbAccountActions.jzcbHxListBeCheck(n,!0))}},r.default.createElement("div",{className:"xczc-ls-line xczc-ls-top"},r.default.createElement("span",null,r.default.createElement(s.Checkbox,{style:{paddingRight:"10px"},checked:!!e.get("isCheck"),onChange:function(){}}),e.get("flowNumber")),r.default.createElement("span",{className:"xczc-ls-color"},e.get("runningDate"))),r.default.createElement("div",{className:"xczc-ls-line xczc-ls-center"},r.default.createElement("span",{className:"overElli"},e.get("categoryName")),r.default.createElement(s.Amount,{showZero:!0},e.get("amount"))),r.default.createElement("div",{className:"xczc-ls-line xczc-ls-center"},r.default.createElement("span",{className:"overElli"},"摘要：",e.get("runningAbstract")),r.default.createElement("span",null)),r.default.createElement("div",{className:"xczc-ls-line xczc-ls-center"},r.default.createElement("span",{className:"overElli"},e.get("cardStockName")),r.default.createElement("span",null)))})),r.default.createElement(s.ButtonGroup,null,r.default.createElement(s.Button,{onClick:function(){t(i.homeAccountActions.changeHomeAccountData("categoryType","LB_JZCB")),t(f.jzcbAccountActions.changeJzcbData("totalAmount",o))}},r.default.createElement(s.Icon,{type:"choose"}),r.default.createElement("span",null,"确定"))))}}]),t}())||a;t.default=d},1680:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,c,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(0),r=(c=o)&&c.__esModule?c:{default:c},u=n(31),s=(n(9),n(16)),i=n(123),f=n(1061),d=n(1299),m=n(1058),g=n(13);!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(25));var p=(0,u.connect)(function(e){return e})(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),l(t,[{key:"render",value:function(){var e=this.props,t=e.dispatch,n=e.homeAccountState,a=e.kjfpAccountState,c=e.homeState,l=e.editPermission,o=e.history,u=n.get("lastCategory"),p=a.get("data"),y="modify"===a.getIn(["views","insertOrModify"]),h=p.get("billMakeOutType"),A=p.get("categoryUuid"),E=p.get("categoryName"),b=p.get("runningDate"),v=p.get("runningAbstract"),w=p.get("totalAmount"),_=null,C=a.get("hxList"),S=C.some(function(e){return e.get("isCheck")});S&&(_=r.default.createElement(s.Row,{className:"ylls-card"},r.default.createElement("div",{className:"hx-title"},"待开发票税额：",r.default.createElement(s.Amount,{showZero:!0},w)),C.map(function(e,t){if(e.get("isCheck"))return r.default.createElement("div",{key:t,className:"ylls-top-line"},r.default.createElement("div",{className:"ylls-item ylls-padding"},r.default.createElement("div",{className:"overElli"},e.get("categoryName")),r.default.createElement("div",{className:"ylls-gray"},"流水号：",e.get("flowNumber"))),r.default.createElement("div",{className:"ylls-item"},r.default.createElement("span",{className:"ylls-blue"},"税率：",e.get("taxRate")+"%"),r.default.createElement("div",null,r.default.createElement(s.Amount,{className:"ylls-bold",showZero:!0},e.get("tax")))))})));var z=c.getIn(["data","userInfo","sobInfo","moduleInfo"]),N=!z||z.indexOf("ENCLOSURE_RUN")>-1,T="TRUE"===c.getIn(["data","userInfo","checkMoreFj"]),j=n.getIn(["flags","showlsfj"]),k=(n.get("previewImageList").toJS(),n.get("label")),O=n.get("enclosureList"),x=n.get("enclosureCountUser");return r.default.createElement(s.Container,{className:"lrls"},r.default.createElement(i.TopDatePicker,{value:b,onChange:function(e){t(d.kjfpAccountActions.changeKjfpData("runningDate",new g.DateLib(e).valueOf())),t(m.homeAccountActions.changeHomeAccountData("runningDate",new g.DateLib(e).valueOf())),t(d.kjfpAccountActions.getKjfpList())},callback:function(e){t(d.kjfpAccountActions.changeKjfpData("runningDate",e)),t(m.homeAccountActions.changeHomeAccountData("runningDate",e)),t(d.kjfpAccountActions.getKjfpList())}}),r.default.createElement(s.ScrollView,{flex:"1"},r.default.createElement("div",{className:"lrls-card"},r.default.createElement(f.CategoryCom,{isModify:y,dispatch:t,lastCategory:u,categoryUuid:A,categoryName:E}),r.default.createElement(s.Radio,{disabled:y,list:[{key:"BILL_MAKE_OUT_TYPE_XS",value:"销售开票"},{key:"BILL_MAKE_OUT_TYPE_TS",value:"退售开票"}],value:h,onChange:function(e){t(d.kjfpAccountActions.changeKjfpRunningState(e)),t(d.kjfpAccountActions.getKjfpList())}})),r.default.createElement("div",{className:"lrls-card lrls-line"},r.default.createElement("label",null,"摘要："),r.default.createElement(s.TextareaItem,{placeholder:"摘要填写",value:v,onChange:function(e){t(d.kjfpAccountActions.changeKjfpData("runningAbstract",e))}})),_,r.default.createElement(f.UploadFj,{dispatch:t,enCanUse:N,editPermission:l,enclosureList:O,showlsfj:j,checkMoreFj:T,label:k,enclosureCountUser:x,history:o}),r.default.createElement(s.Row,{className:"lrls-button-wrap"},r.default.createElement("span",{className:"lrls-button",onClick:function(){t(m.homeAccountActions.changeHomeAccountData("categoryType","LB_KJFP_LS"))}},S?"修改单据":"请选择单据"))),r.default.createElement(s.ButtonGroup,null,r.default.createElement(s.Button,{onClick:function(){t(d.kjfpAccountActions.saveRunningbusiness())}},r.default.createElement(s.Icon,{type:"save"}),r.default.createElement("span",null,"保存")),r.default.createElement(s.Button,{onClick:function(){t(d.kjfpAccountActions.saveRunningbusiness(!0))}},r.default.createElement(s.Icon,{type:"new"}),r.default.createElement("span",null,"保存并新增"))))}}]),t}())||a;t.default=p},1681:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,c,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(0),r=(c=o)&&c.__esModule?c:{default:c},u=n(31),s=(n(9),n(16)),i=n(1058),f=n(1299);var d=(0,u.connect)(function(e){return e})(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),l(t,[{key:"render",value:function(){var e=this.props,t=e.dispatch,n=e.kjfpAccountState.get("hxList"),a=0,c=0;return n.forEach(function(e){e.get("isCheck")&&(a++,c+=e.get("tax"))}),r.default.createElement(s.Container,{className:"lrls"},r.default.createElement("ul",{className:"lrls-row xczc-ls"},r.default.createElement("li",null,"已勾选流水：",a,"条"),r.default.createElement("li",null,"待开发票税额：",r.default.createElement(s.Amount,{showZero:!0},c))),r.default.createElement(s.ScrollView,{ref:"lrlsScrollContainer",flex:"1",uniqueKey:"lrls-scroll",savePosition:!0},n.map(function(e,n){return r.default.createElement(s.Row,{key:n,className:"lrls-card",onClick:function(){e.get("isCheck")?t(f.kjfpAccountActions.kjfpHxListBeCheck(n,!1)):t(f.kjfpAccountActions.kjfpHxListBeCheck(n,!0))}},r.default.createElement("div",{className:"xczc-ls-line xczc-ls-top"},r.default.createElement("span",null,r.default.createElement(s.Checkbox,{style:{paddingRight:"10px"},checked:!!e.get("isCheck")}),e.get("flowNumber")),r.default.createElement("span",{className:"xczc-ls-color"},e.get("runningDate"))),r.default.createElement("div",{className:"xczc-ls-line xczc-ls-center"},r.default.createElement("span",{className:"overElli"},e.get("categoryName")),r.default.createElement(s.Amount,{showZero:!0},e.get("tax"))),r.default.createElement("div",{className:"xczc-ls-line xczc-ls-center"},r.default.createElement("span",{className:"overElli xczc-ls-color"},"摘要：",e.get("runningAbstract")),r.default.createElement("span",null)),r.default.createElement("div",{className:"xczc-ls-line xczc-ls-center"},r.default.createElement("div",null),r.default.createElement("div",null,r.default.createElement("span",{style:{paddingRight:"10px"}},"价税合计：",r.default.createElement(s.Amount,{showZero:!0},e.get("amount"))),"税率：",e.get("taxRate")+"%")))})),r.default.createElement(s.ButtonGroup,null,r.default.createElement(s.Button,{onClick:function(){t(i.homeAccountActions.changeHomeAccountData("categoryType","LB_KJFP")),t(f.kjfpAccountActions.changeKjfpData("totalAmount",c))}},r.default.createElement(s.Icon,{type:"choose"}),r.default.createElement("span",null,"确定"))))}}]),t}())||a;t.default=d},1682:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,c,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(0),r=(c=o)&&c.__esModule?c:{default:c},u=n(31),s=(n(9),n(16)),i=n(123),f=n(1061),d=n(1298),m=n(1058),g=n(13);var p=(0,u.connect)(function(e){return e})(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),l(t,[{key:"render",value:function(){var e=this.props,t=e.dispatch,n=e.homeAccountState,a=e.fprzAccountState,c=e.homeState,l=e.editPermission,o=e.history,u=n.get("lastCategory"),p=a.get("data"),y="modify"===a.getIn(["views","insertOrModify"]),h=p.get("billAuthType"),A=p.get("categoryUuid"),E=p.get("categoryName"),b=p.get("runningDate"),v=p.get("runningAbstract"),w=p.get("totalAmount"),_=null,C=a.get("hxList"),S=C.some(function(e){return e.get("isCheck")});S&&(_=r.default.createElement(s.Row,{className:"ylls-card"},r.default.createElement("div",{className:"hx-title"},"待认证税额：",r.default.createElement(s.Amount,{showZero:!0},w)),C.map(function(e,t){if(e.get("isCheck"))return r.default.createElement("div",{key:t,className:"ylls-top-line"},r.default.createElement("div",{className:"ylls-item ylls-padding"},r.default.createElement("div",{className:"overElli"},e.get("categoryName")),r.default.createElement("div",{className:"ylls-gray"},"流水号：",e.get("flowNumber"))),r.default.createElement("div",{className:"ylls-item"},r.default.createElement("span",{className:"ylls-blue"},"税率：",e.get("taxRate")+"%"),r.default.createElement("div",null,r.default.createElement(s.Amount,{className:"ylls-bold",showZero:!0},e.get("tax")))))})));var z=c.getIn(["data","userInfo","sobInfo","moduleInfo"]),N=!z||z.indexOf("ENCLOSURE_RUN")>-1,T="TRUE"===c.getIn(["data","userInfo","checkMoreFj"]),j=n.getIn(["flags","showlsfj"]),k=(n.get("previewImageList").toJS(),n.get("label")),O=n.get("enclosureList"),x=n.get("enclosureCountUser");return r.default.createElement(s.Container,{className:"lrls"},r.default.createElement(i.TopDatePicker,{value:b,onChange:function(e){t(d.fprzAccountActions.changeFprzData("runningDate",new g.DateLib(e).valueOf())),t(m.homeAccountActions.changeHomeAccountData("runningDate",new g.DateLib(e).valueOf())),t(d.fprzAccountActions.getFprzList())},callback:function(e){t(d.fprzAccountActions.changeFprzData("runningDate",e)),t(m.homeAccountActions.changeHomeAccountData("runningDate",e)),t(d.fprzAccountActions.getFprzList())}}),r.default.createElement(s.ScrollView,{flex:"1"},r.default.createElement("div",{className:"lrls-card"},r.default.createElement(f.CategoryCom,{isModify:y,dispatch:t,lastCategory:u,categoryUuid:A,categoryName:E}),r.default.createElement(s.Radio,{disabled:y,list:[{key:"BILL_AUTH_TYPE_CG",value:"采购发票认证"},{key:"BILL_AUTH_TYPE_TG",value:"退购发票认证"}],value:h,onChange:function(e){t(d.fprzAccountActions.changeFprzRunningState(e)),t(d.fprzAccountActions.getFprzList())}})),r.default.createElement("div",{className:"lrls-card lrls-line"},r.default.createElement("label",null,"摘要："),r.default.createElement(s.TextareaItem,{placeholder:"摘要填写",value:v,onChange:function(e){t(d.fprzAccountActions.changeFprzData("runningAbstract",e))}})),_,r.default.createElement(f.UploadFj,{dispatch:t,enCanUse:N,editPermission:l,enclosureList:O,showlsfj:j,checkMoreFj:T,label:k,enclosureCountUser:x,history:o}),r.default.createElement(s.Row,{className:"lrls-button-wrap"},r.default.createElement("span",{className:"lrls-button",onClick:function(){t(m.homeAccountActions.changeHomeAccountData("categoryType","LB_FPRZ_LS"))}},S?"修改单据":"请选择单据"))),r.default.createElement(s.ButtonGroup,null,r.default.createElement(s.Button,{onClick:function(){t(d.fprzAccountActions.saveRunningbusiness())}},r.default.createElement(s.Icon,{type:"save"}),r.default.createElement("span",null,"保存")),r.default.createElement(s.Button,{onClick:function(){t(d.fprzAccountActions.saveRunningbusiness(!0))}},r.default.createElement(s.Icon,{type:"new"}),r.default.createElement("span",null,"保存并新增"))))}}]),t}())||a;t.default=p},1683:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,c,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(0),r=(c=o)&&c.__esModule?c:{default:c},u=n(31),s=(n(9),n(16)),i=n(1058),f=n(1298);var d=(0,u.connect)(function(e){return e})(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),l(t,[{key:"render",value:function(){var e=this.props,t=e.dispatch,n=e.fprzAccountState.get("hxList"),a=0,c=0;return n.forEach(function(e){e.get("isCheck")&&(a++,c+=e.get("tax"))}),r.default.createElement(s.Container,{className:"lrls"},r.default.createElement("ul",{className:"lrls-row xczc-ls"},r.default.createElement("li",null,"已勾选流水：",a,"条"),r.default.createElement("li",null,"待认证税额：",r.default.createElement(s.Amount,{showZero:!0},c))),r.default.createElement(s.ScrollView,{ref:"lrlsScrollContainer",flex:"1",uniqueKey:"lrls-scroll",savePosition:!0},n.map(function(e,n){return r.default.createElement(s.Row,{key:n,className:"lrls-card",onClick:function(){e.get("isCheck")?t(f.fprzAccountActions.fprzHxListBeCheck(n,!1)):t(f.fprzAccountActions.fprzHxListBeCheck(n,!0))}},r.default.createElement("div",{className:"xczc-ls-line xczc-ls-top"},r.default.createElement("span",null,r.default.createElement(s.Checkbox,{style:{paddingRight:"10px"},checked:!!e.get("isCheck")}),e.get("flowNumber")),r.default.createElement("span",{className:"xczc-ls-color"},e.get("runningDate"))),r.default.createElement("div",{className:"xczc-ls-line xczc-ls-center"},r.default.createElement("span",{className:"overElli"},e.get("categoryName")),r.default.createElement(s.Amount,{showZero:!0},e.get("tax"))),r.default.createElement("div",{className:"xczc-ls-line xczc-ls-center"},r.default.createElement("span",{className:"overElli xczc-ls-color"},"摘要：",e.get("runningAbstract")),r.default.createElement("span",null)),r.default.createElement("div",{className:"xczc-ls-line xczc-ls-center"},r.default.createElement("div",null),r.default.createElement("div",null,r.default.createElement("span",{style:{paddingRight:"10px"}},"价税合计：",r.default.createElement(s.Amount,{showZero:!0},e.get("amount"))),"税率：",e.get("taxRate")+"%")))})),r.default.createElement(s.ButtonGroup,null,r.default.createElement(s.Button,{onClick:function(){t(i.homeAccountActions.changeHomeAccountData("categoryType","LB_FPRZ")),t(f.fprzAccountActions.changeFprzData("totalAmount",c))}},r.default.createElement(s.Icon,{type:"choose"}),r.default.createElement("span",null,"确定"))))}}]),t}())||a;t.default=d},1684:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,c,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(0),r=(c=o)&&c.__esModule?c:{default:c},u=n(31),s=(n(9),n(16)),i=n(123),f=n(1061),d=n(1344),m=n(1058),g=n(13);var p=(0,u.connect)(function(e){return e})(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),l(t,[{key:"render",value:function(){var e=this.props,t=e.dispatch,n=e.homeAccountState,a=e.zcwjzzsAccountState,c=e.homeState,l=e.editPermission,o=e.history,u=n.get("lastCategory"),p=a.get("data"),y="modify"===a.getIn(["views","insertOrModify"]),h=p.get("categoryUuid"),A=p.get("categoryName"),E=p.get("runningDate"),b=p.get("runningAbstract"),v=p.get("handleMonth"),w=a.get("hxList"),_=w.get("flowDtoList").size,C=w.get("outputAmount")-w.get("inputAmount"),S=c.getIn(["data","userInfo","sobInfo","moduleInfo"]),z=!S||S.indexOf("ENCLOSURE_RUN")>-1,N="TRUE"===c.getIn(["data","userInfo","checkMoreFj"]),T=n.getIn(["flags","showlsfj"]),j=(n.get("previewImageList").toJS(),n.get("label")),k=n.get("enclosureList"),O=n.get("enclosureCountUser");return r.default.createElement(s.Container,{className:"lrls"},r.default.createElement(i.TopDatePicker,{value:E,onChange:function(e){t(d.zcwjzzsAccountActions.changeWjzzsData("runningDate",new g.DateLib(e).valueOf())),t(m.homeAccountActions.changeHomeAccountData("runningDate",new g.DateLib(e).valueOf()))},callback:function(e){t(d.zcwjzzsAccountActions.changeWjzzsData("runningDate",e)),t(m.homeAccountActions.changeHomeAccountData("runningDate",e))}}),r.default.createElement(s.ScrollView,{flex:"1"},r.default.createElement("div",{className:"lrls-card"},r.default.createElement(f.CategoryCom,{isModify:y,dispatch:t,lastCategory:u,categoryUuid:h,categoryName:A})),r.default.createElement("div",{className:"lrls-card lrls-line"},r.default.createElement("label",null,"摘要："),r.default.createElement(s.TextareaItem,{placeholder:"摘要填写",value:b,onChange:function(e){t(d.zcwjzzsAccountActions.changeWjzzsData("runningAbstract",e))}})),r.default.createElement("div",{className:"lrls-card"},r.default.createElement("div",{className:"lrls-more-card lrls-jzsy"},r.default.createElement("label",null,"处理税额月份:"),r.default.createElement("div",{className:"antd-single-picker"},r.default.createElement(s.MonthPicker,{disabled:y,value:v,format:"YYYY_MM",maxDate:new Date,onChange:function(e){var n=new g.DateLib(e).valueOf().slice(0,7);t(d.zcwjzzsAccountActions.changeWjzzsData("handleMonth",n)),t(d.zcwjzzsAccountActions.getWjzzsList(n))}},r.default.createElement(s.Row,{className:"lrls-padding lrls-category"},v?r.default.createElement("span",null," ",v," "):r.default.createElement("span",{className:"lrls-placeholder"},"点击选择处理税额月份"),r.default.createElement(s.Icon,{type:"triangle"}))))),r.default.createElement("div",{className:"lrls-more-card lrls-margin-top"},r.default.createElement("span",null,"未交税额："),r.default.createElement(s.Amount,{showZero:!0},C))),_?r.default.createElement(s.Row,{className:"ylls-card yysr-carryover"},r.default.createElement("div",null,r.default.createElement("div",null,"销项税-流水数：",w.get("outputCount"),"条；合计税额：",r.default.createElement(s.Amount,{showZero:!0},w.get("outputAmount"))),r.default.createElement("div",null,"进项税-流水数：",w.get("inputCount"),"条；合计税额：",r.default.createElement(s.Amount,{showZero:!0},w.get("inputAmount")))),r.default.createElement(s.Row,{className:"lrls-button-wrap"},r.default.createElement("span",{className:"lrls-button",onClick:function(){t(m.homeAccountActions.changeHomeAccountData("categoryType","LB_ZCWJZZS_LS"))}},"查看"))):null,r.default.createElement(f.UploadFj,{dispatch:t,enCanUse:z,editPermission:l,enclosureList:k,showlsfj:T,checkMoreFj:N,label:j,enclosureCountUser:O,history:o})),r.default.createElement(s.ButtonGroup,null,r.default.createElement(s.Button,{onClick:function(){t(d.zcwjzzsAccountActions.saveRunningbusiness())}},r.default.createElement(s.Icon,{type:"save"}),r.default.createElement("span",null,"保存")),r.default.createElement(s.Button,{onClick:function(){t(d.zcwjzzsAccountActions.saveRunningbusiness(!0))}},r.default.createElement(s.Icon,{type:"new"}),r.default.createElement("span",null,"保存并新增"))))}}]),t}())||a;t.default=p},1685:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,c,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(0),r=(c=o)&&c.__esModule?c:{default:c},u=n(31),s=(n(9),n(16)),i=n(1058);var f=(0,u.connect)(function(e){return e})(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),l(t,[{key:"render",value:function(){var e=this.props,t=e.dispatch,n=e.zcwjzzsAccountState.getIn(["hxList","flowDtoList"]);return r.default.createElement(s.Container,{className:"lrls"},r.default.createElement(s.ScrollView,{ref:"lrlsScrollContainer",flex:"1",uniqueKey:"lrls-scroll",savePosition:!0},n.map(function(e,t){return r.default.createElement(s.Row,{key:t,className:"lrls-card"},r.default.createElement("div",{className:"xczc-ls-line xczc-ls-top"},r.default.createElement("span",null,e.get("flowNumber")),r.default.createElement("span",{className:"xczc-ls-color"},e.get("runningDate"))),r.default.createElement("div",{className:"xczc-ls-line xczc-ls-center"},r.default.createElement("span",{className:"overElli"},e.get("categoryName")),r.default.createElement(s.Amount,{showZero:!0},e.get("parentTax")?e.get("parentTax"):e.get("tax"))),r.default.createElement("div",{className:"xczc-ls-line xczc-ls-center"},r.default.createElement("span",{className:"overElli xczc-ls-color"},"摘要：",e.get("runningAbstract")),r.default.createElement("span",null)),r.default.createElement("div",{className:"xczc-ls-line xczc-ls-bottom"},r.default.createElement("span",{className:"xczc-ls-color"},"bill_common"===e.get("billType")?"销项税":"进项税"),r.default.createElement("div",null,r.default.createElement("span",null,"价税合计：",r.default.createElement(s.Amount,{showZero:!0},e.get("amount"))))))})),r.default.createElement(s.ButtonGroup,null,r.default.createElement(s.Button,{onClick:function(){t(i.homeAccountActions.changeHomeAccountData("categoryType","LB_ZCWJZZS"))}},r.default.createElement(s.Icon,{type:"choose"}),r.default.createElement("span",null,"确定"))))}}]),t}())||a;t.default=f},1686:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,c,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(0),r=(c=o)&&c.__esModule?c:{default:c},u=n(31),s=(n(9),n(1058)),i=n(1346),f=n(16),d=n(123),m=n(1061),g=n(13);function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var y=(0,u.connect)(function(e){return e})(a=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var c=arguments.length,l=Array(c),o=0;o<c;o++)l[o]=arguments[o];return n=a=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.state={showList:!0},p(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),l(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.dispatch,a=t.homeAccountState,c=t.yywsrAccountState,l=t.history,o=t.homeState,u=t.editPermission,p=this.state.showList,y=a.get("lastCategory"),h=a.get("accountList"),A=c.get("data"),E="modify"===c.getIn(["views","insertOrModify"]),b=A.get("flowNumber"),v=A.get("categoryUuid"),w=A.get("categoryName"),_=A.get("runningState"),C=A.get("accountName"),S=A.get("accountUuid"),z="STATE_YYWSR_YS"===_,N=A.get("runningDate"),T=A.get("runningAbstract"),j=A.get("amount"),k=A.get("acBusinessOutIncome"),O=k.get("beManagemented"),x=[{key:"STATE_YYWSR_WS",value:"未收款",disabled:!O,message:"流水设置中未启用"},{key:"STATE_YYWSR_YS",value:"已收款"}],L=null,R=A.get("beProject"),P=!0,D=a.get("project");if(R){P=!D.get("usedProject");L=r.default.createElement(m.ProjectCom,{project:D,dispatch:n,changeAmount:function(e){return n(i.yywsrAccountActions.changeYywsrData("amount",e))}})}var I=null;if(O){var Z=c.get("contactsCardList"),U=k.get("contactsCardRange"),F=k.get("contactsRange"),M=P||z?"showBottom":"noBottom";I=r.default.createElement(m.ContancsCom,{cardList:Z,cardObj:U,noBottom:M,onOk:function(e){n(i.yywsrAccountActions.changeAcList(e.value,"contactsCardRange"))},history:l,dispatch:n,isPayUnit:!1,contactsRange:F,disabled:E})}var B=null,X=A.get("paymentList");if(X&&X.size){B=(0,m.hxCom)(X,p,function(){return e.setState({showList:!p})})}var J=o.getIn(["data","userInfo","sobInfo","moduleInfo"]),Y=!J||J.indexOf("ENCLOSURE_RUN")>-1,H="TRUE"===o.getIn(["data","userInfo","checkMoreFj"]),q=a.getIn(["flags","showlsfj"]),G=(a.get("previewImageList").toJS(),a.get("label")),K=a.get("enclosureList"),$=a.get("enclosureCountUser");return r.default.createElement(f.Container,{className:"lrls"},r.default.createElement(d.TopDatePicker,{value:N,onChange:function(e){n(i.yywsrAccountActions.changeYywsrData("runningDate",new g.DateLib(e).valueOf())),n(s.homeAccountActions.changeHomeAccountData("runningDate",new g.DateLib(e).valueOf()))},callback:function(e){n(i.yywsrAccountActions.changeYywsrData("runningDate",e)),n(s.homeAccountActions.changeHomeAccountData("runningDate",e))}}),E?r.default.createElement(f.Row,{className:"lrls-row"}," ","流水号： "+b," "):null,r.default.createElement(f.ScrollView,{flex:"1"},r.default.createElement("div",{className:"lrls-card"},r.default.createElement(m.CategoryCom,{isModify:E,dispatch:n,lastCategory:y,categoryUuid:v,categoryName:w,project:D,showProject:R,changeAmount:function(e){return n(i.yywsrAccountActions.changeYywsrData("amount",e))}}),r.default.createElement(f.Radio,{disabled:E,list:x,value:_,onChange:function(e){n(i.yywsrAccountActions.changeYywsrData("runningState",e))}})),r.default.createElement("div",{className:"lrls-card lrls-line"},r.default.createElement("label",null,"摘要："),r.default.createElement(f.TextareaItem,{placeholder:"摘要填写",value:T,onChange:function(e){n(i.yywsrAccountActions.changeYywsrData("runningAbstract",e))}})),L,r.default.createElement("div",{className:"lrls-card",style:{display:O||P||z?"":"none"}},I,r.default.createElement(f.Row,{className:"yysr-amount"},P?r.default.createElement("label",null,"金额："):null,P?r.default.createElement(f.TextListInput,{placeholder:"填写金额",value:j,onChange:function(e){/^\d*\.?\d{0,2}$/g.test(e)&&n(i.yywsrAccountActions.changeYywsrData("amount",e))}}):null,!P&&z?r.default.createElement("label",null,"账户:"):null,z?r.default.createElement(m.Account,{history:l,accountList:h,accountUuid:S,accountName:C,onOk:function(e){return n(i.yywsrAccountActions.changeAccount(e))}}):null)),B,r.default.createElement(m.UploadFj,{dispatch:n,enCanUse:Y,editPermission:u,enclosureList:K,showlsfj:q,checkMoreFj:H,label:G,enclosureCountUser:$,history:l})),r.default.createElement(f.ButtonGroup,null,r.default.createElement(f.Button,{onClick:function(){n(i.yywsrAccountActions.saveRunningbusiness())}},r.default.createElement(f.Icon,{type:"save"}),r.default.createElement("span",null,"保存")),r.default.createElement(f.Button,{onClick:function(){n(i.yywsrAccountActions.saveRunningbusiness(!0))}},r.default.createElement(f.Icon,{type:"new"}),r.default.createElement("span",null,"保存并新增"))))}}]),t}())||a;t.default=y},1687:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,c,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(0),r=(c=o)&&c.__esModule?c:{default:c},u=n(31),s=(n(9),n(1058)),i=n(1347),f=n(16),d=n(123),m=n(1061),g=n(13);function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var y=(0,u.connect)(function(e){return e})(a=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var c=arguments.length,l=Array(c),o=0;o<c;o++)l[o]=arguments[o];return n=a=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.state={showList:!0},p(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),l(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.dispatch,a=t.homeAccountState,c=t.yywzcAccountState,l=t.history,o=t.homeState,u=t.editPermission,p=this.state.showList,y=a.get("lastCategory"),h=a.get("accountList"),A=c.get("data"),E="modify"===c.getIn(["views","insertOrModify"]),b=A.get("flowNumber"),v=A.get("categoryUuid"),w=A.get("categoryName"),_=A.get("runningState"),C=A.get("accountName"),S=A.get("accountUuid"),z="STATE_YYWZC_YF"===_,N=A.get("runningDate"),T=A.get("runningAbstract"),j=A.get("amount"),k=A.get("acBusinessOutExpense"),O=k.get("beManagemented"),x=[{key:"STATE_YYWZC_WF",value:"未付款",disabled:!O,message:"流水设置中未启用"},{key:"STATE_YYWZC_YF",value:"已付款"}],L=null,R=A.get("beProject"),P=a.get("project"),D=!0;if(R){D=!P.get("usedProject");L=r.default.createElement(m.ProjectCom,{project:P,dispatch:n,changeAmount:function(e){return n(i.yywzcAccountActions.changeYywzcData("amount",e))}})}var I=null;if(O){var Z=c.get("contactsCardList"),U=k.get("contactsCardRange"),F=k.get("contactsRange"),M=D||z?"showBottom":"noBottom";I=r.default.createElement(m.ContancsCom,{cardList:Z,cardObj:U,noBottom:M,onOk:function(e){n(i.yywzcAccountActions.changeYywzcCard(e.value,"contactsCardRange"))},history:l,dispatch:n,isPayUnit:!0,contactsRange:F,disabled:E})}var B=null,X=A.get("paymentList");if(X&&X.size){B=(0,m.hxCom)(X,p,function(){return e.setState({showList:!p})})}var J=o.getIn(["data","userInfo","sobInfo","moduleInfo"]),Y=!J||J.indexOf("ENCLOSURE_RUN")>-1,H="TRUE"===o.getIn(["data","userInfo","checkMoreFj"]),q=a.getIn(["flags","showlsfj"]),G=(a.get("previewImageList").toJS(),a.get("label")),K=a.get("enclosureList"),$=a.get("enclosureCountUser");return r.default.createElement(f.Container,{className:"lrls"},r.default.createElement(d.TopDatePicker,{value:N,onChange:function(e){n(i.yywzcAccountActions.changeYywzcData("runningDate",new g.DateLib(e).valueOf())),n(s.homeAccountActions.changeHomeAccountData("runningDate",new g.DateLib(e).valueOf()))},callback:function(e){n(i.yywzcAccountActions.changeYywzcData("runningDate",e)),n(s.homeAccountActions.changeHomeAccountData("runningDate",e))}}),E?r.default.createElement(f.Row,{className:"lrls-row"}," ","流水号： "+b," "):null,r.default.createElement(f.ScrollView,{flex:"1"},r.default.createElement("div",{className:"lrls-card"},r.default.createElement(m.CategoryCom,{isModify:E,dispatch:n,lastCategory:y,categoryUuid:v,categoryName:w,project:P,showProject:R,changeAmount:function(e){return n(i.yywzcAccountActions.changeYywzcData("amount",e))}}),r.default.createElement(f.Radio,{disabled:E,list:x,value:_,onChange:function(e){n(i.yywzcAccountActions.changeYywzcData("runningState",e))}})),r.default.createElement(f.Row,{className:"lrls-card lrls-line"},r.default.createElement("label",null,"摘要："),r.default.createElement(f.TextareaItem,{placeholder:"摘要填写",value:T,onChange:function(e){n(i.yywzcAccountActions.changeYywzcData("runningAbstract",e))}})),L,r.default.createElement("div",{className:"lrls-card",style:{display:O||D||z?"":"none"}},I,r.default.createElement(f.Row,{className:"yysr-amount"},D?r.default.createElement("label",null,"金额："):null,D?r.default.createElement(f.TextListInput,{placeholder:"填写金额",value:j,onChange:function(e){/^\d*\.?\d{0,2}$/g.test(e)&&n(i.yywzcAccountActions.changeYywzcData("amount",e))}}):null,!D&&z?r.default.createElement("label",null,"账户:"):null,z?r.default.createElement(m.Account,{history:l,accountList:h,accountUuid:S,accountName:C,onOk:function(e){return n(i.yywzcAccountActions.changeAccount(e))}}):null)),B,r.default.createElement(m.UploadFj,{dispatch:n,enCanUse:Y,editPermission:u,enclosureList:K,showlsfj:q,checkMoreFj:H,label:G,enclosureCountUser:$})),r.default.createElement(f.ButtonGroup,null,r.default.createElement(f.Button,{onClick:function(){n(i.yywzcAccountActions.saveRunningbusiness())}},r.default.createElement(f.Icon,{type:"save"}),r.default.createElement("span",null,"保存")),r.default.createElement(f.Button,{onClick:function(){n(i.yywzcAccountActions.saveRunningbusiness(!0))}},r.default.createElement(f.Icon,{type:"new"}),r.default.createElement("span",null,"保存并新增"))))}}]),t}())||a;t.default=y},1688:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,c,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(0),r=(c=o)&&c.__esModule?c:{default:c},u=n(31),s=(n(9),n(1349)),i=n(1058),f=n(16),d=n(123),m=n(1061),g=n(13);function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var y=(0,u.connect)(function(e){return e})(a=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var c=arguments.length,l=Array(c),o=0;o<c;o++)l[o]=arguments[o];return n=a=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.state={showList:!0},p(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),l(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.dispatch,a=t.homeAccountState,c=t.zskxAccountState,l=t.history,o=t.homeState,u=t.editPermission,p=this.state.showList,y=a.get("lastCategory"),h=a.get("accountList"),A=c.get("data"),E="modify"===c.getIn(["views","insertOrModify"]),b=c.getIn(["views","fromYl"]),v=A.get("flowNumber"),w=A.get("categoryUuid"),_=A.get("categoryName"),C=A.get("runningState"),S=A.get("accountName"),z=A.get("accountUuid"),N=A.get("runningDate"),T=A.get("runningAbstract"),j=A.get("amount"),k=A.get("jtAmount"),O=null,x=A.get("beProject"),L=a.get("project"),R=!0;if(x&&"STATE_ZS_SQ"==C){R=!L.get("usedProject");O=r.default.createElement(m.ProjectCom,{project:L,dispatch:n,changeAmount:function(e){return n(s.zskxAccountActions.changeZskxData("amount",e))}})}var P=null,D=A.get("paymentList"),I=D.some(function(e){return e.get("beSelect")});if("STATE_ZS_TH"===C&&I&&(P=r.default.createElement(f.Row,{className:"ylls-card"},r.default.createElement("div",{className:"hx-title"},"待支付金额：",r.default.createElement(f.Amount,{showZero:!0},k)),D.map(function(e,t){if(e.get("beSelect"))return r.default.createElement("div",{key:t,className:"ylls-top-line"},r.default.createElement("div",{className:"ylls-item ylls-padding"},r.default.createElement("div",null,"流水号：",e.get("flowNumber")),r.default.createElement("div",{className:"ylls-gray"},e.get("runningDate"))),r.default.createElement("div",{className:"ylls-item"},r.default.createElement("div",{className:"overElli"},"暂收款项"),r.default.createElement("div",null,r.default.createElement(f.Amount,{showZero:!0,className:"ylls-bold"},e.get("notHandleAmount")))))}))),b&&"STATE_ZS_SQ"===C&&D&&D.size){P=(0,m.hxCom)(D,p,function(){return e.setState({showList:!p})})}var Z=o.getIn(["data","userInfo","sobInfo","moduleInfo"]),U=!Z||Z.indexOf("ENCLOSURE_RUN")>-1,F="TRUE"===o.getIn(["data","userInfo","checkMoreFj"]),M=a.getIn(["flags","showlsfj"]),B=(a.get("previewImageList").toJS(),a.get("label")),X=a.get("enclosureList"),J=a.get("enclosureCountUser");return r.default.createElement(f.Container,{className:"lrls"},r.default.createElement(d.TopDatePicker,{value:N,onChange:function(e){n(s.zskxAccountActions.changeZskxData("runningDate",new g.DateLib(e).valueOf())),n(i.homeAccountActions.changeHomeAccountData("runningDate",new g.DateLib(e).valueOf())),"STATE_ZS_TH"===C&&n(s.zskxAccountActions.getZskxPaymentList())},callback:function(e){n(s.zskxAccountActions.changeZskxData("runningDate",e)),n(i.homeAccountActions.changeHomeAccountData("runningDate",e)),"STATE_ZS_TH"===C&&n(s.zskxAccountActions.getZskxPaymentList())}}),E?r.default.createElement(f.Row,{className:"lrls-row"}," ","流水号： "+v," "):null,r.default.createElement(f.ScrollView,{flex:"1"},r.default.createElement("div",{className:"lrls-card"},r.default.createElement(m.CategoryCom,{isModify:E,dispatch:n,lastCategory:y,categoryUuid:w,categoryName:_,showProject:x&&"STATE_ZS_SQ"==C,project:L,changeAmount:function(e){return n(s.zskxAccountActions.changeZskxData("amount",e))}}),r.default.createElement(f.Radio,{disabled:E,list:[{key:"STATE_ZS_SQ",value:"收取"},{key:"STATE_ZS_TH",value:"退还"}],value:C,onChange:function(e){n(s.zskxAccountActions.changeZskxData("runningState",e)),n(s.zskxAccountActions.changeZskxData("runningAbstract",(0,m.abstractFun)(e,A))),"STATE_ZS_TH"===e&&n(s.zskxAccountActions.getZskxPaymentList())}})),r.default.createElement(f.Row,{className:"lrls-card lrls-line"},r.default.createElement("label",null,"摘要："),r.default.createElement(f.TextareaItem,{placeholder:"摘要填写",value:T,onChange:function(e){n(s.zskxAccountActions.changeZskxData("runningAbstract",e))}})),O,r.default.createElement("div",{className:"lrls-card"},r.default.createElement(f.Row,{className:"yysr-amount"},r.default.createElement("label",null,R?"金额:":"账户:"),R?r.default.createElement(f.TextListInput,{placeholder:"填写金额",value:j,onChange:function(e){/^\d*\.?\d{0,2}$/g.test(e)&&n(s.zskxAccountActions.changeZskxData("amount",e))}}):null,r.default.createElement(m.Account,{history:l,accountList:h,accountUuid:z,accountName:S,onOk:function(e){return n(s.zskxAccountActions.changeAccount(e))}}))),P,r.default.createElement(m.UploadFj,{dispatch:n,enCanUse:U,editPermission:u,enclosureList:X,showlsfj:M,checkMoreFj:F,label:B,enclosureCountUser:J,history:l}),"STATE_ZS_TH"===C?r.default.createElement(f.Row,{className:"lrls-button-wrap"},r.default.createElement("span",{className:"lrls-button",onClick:function(){n(i.homeAccountActions.changeHomeAccountData("categoryType","LB_ZSKX_LS"))}},I?"修改单据":"请选择单据")):null),r.default.createElement(f.ButtonGroup,null,r.default.createElement(f.Button,{onClick:function(){n(s.zskxAccountActions.saveRunningbusiness())}},r.default.createElement(f.Icon,{type:"save"}),r.default.createElement("span",null,"保存")),r.default.createElement(f.Button,{onClick:function(){n(s.zskxAccountActions.saveRunningbusiness(!0))}},r.default.createElement(f.Icon,{type:"new"}),r.default.createElement("span",null,"保存并新增"))))}}]),t}())||a;t.default=y},1689:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,c,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(0),r=(c=o)&&c.__esModule?c:{default:c},u=n(31),s=(n(9),n(16)),i=n(1349),f=n(1058);n(13);var d=(0,u.connect)(function(e){return e})(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),l(t,[{key:"render",value:function(){var e=this.props,t=e.dispatch,n=e.zskxAccountState.getIn(["data","paymentList"]),a=0,c=0;return n.forEach(function(e){e.get("beSelect")&&(a++,c+=e.get("notHandleAmount"))}),r.default.createElement(s.Container,{className:"lrls"},r.default.createElement("ul",{className:"lrls-row xczc-ls"},r.default.createElement("li",null,"已勾选流水：",a,"条"),r.default.createElement("li",null,"合计金额：",r.default.createElement(s.Amount,{showZero:!0},c))),r.default.createElement(s.ScrollView,{ref:"lrlsScrollContainer",flex:"1",uniqueKey:"lrls-scroll",savePosition:!0},n.map(function(e,n){return r.default.createElement(s.Row,{key:n,className:"lrls-card",onClick:function(){e.get("beSelect")?t(i.zskxAccountActions.paymentListBeSelect(n,!1)):t(i.zskxAccountActions.paymentListBeSelect(n,!0))}},r.default.createElement("div",{className:"xczc-ls-line xczc-ls-top"},r.default.createElement("span",null,r.default.createElement(s.Checkbox,{style:{paddingRight:"10px"},checked:!!e.get("beSelect")}),e.get("flowNumber")),r.default.createElement("span",{className:"xczc-ls-color"},e.get("runningDate"))),r.default.createElement("div",{className:"xczc-ls-line xczc-ls-center"},r.default.createElement("span",{className:"overElli"},"摘要：",e.get("runningAbstract")),r.default.createElement(s.Amount,{showZero:!0},e.get("notHandleAmount"))),r.default.createElement("div",{className:"xczc-ls-line xczc-ls-bottom"},r.default.createElement("span",{className:"xczc-ls-color"},"暂收款项")))})),r.default.createElement(s.ButtonGroup,{style:{backgroundColor:"#F8F8F8"}},r.default.createElement(s.Button,{onClick:function(){t(f.homeAccountActions.changeHomeAccountData("categoryType","LB_ZSKX")),t(i.zskxAccountActions.changeZskxData("amount",c)),t(i.zskxAccountActions.changeZskxData("jtAmount",c))}},r.default.createElement(s.Icon,{type:"choose"}),r.default.createElement("span",null,"确定"))))}}]),t}())||a;t.default=d},1690:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,c,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(0),r=(c=o)&&c.__esModule?c:{default:c},u=n(31),s=(n(9),n(1350)),i=n(1058),f=n(16),d=n(123),m=n(1061),g=n(13);function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var y=(0,u.connect)(function(e){return e})(a=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var c=arguments.length,l=Array(c),o=0;o<c;o++)l[o]=arguments[o];return n=a=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.state={showList:!0},p(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),l(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.dispatch,a=t.homeAccountState,c=t.zfkxAccountState,l=t.history,o=t.homeState,u=t.editPermission,p=this.state.showList,y=a.get("lastCategory"),h=a.get("accountList"),A=c.get("data"),E="modify"===c.getIn(["views","insertOrModify"]),b=c.getIn(["views","fromYl"]),v=A.get("flowNumber"),w=A.get("categoryUuid"),_=A.get("categoryName"),C=A.get("runningState"),S=A.get("accountName"),z=A.get("accountUuid"),N=A.get("runningDate"),T=A.get("runningAbstract"),j=A.get("amount"),k=A.get("jtAmount"),O=null,x=A.get("beProject"),L=a.get("project"),R=!0;if(x&&"STATE_ZF_FC"==C){R=!L.get("usedProject");O=r.default.createElement(m.ProjectCom,{project:L,dispatch:n,changeAmount:function(e){return n(s.zfkxAccountActions.changeZfkxData("amount",e))}})}var P=null,D=A.get("paymentList"),I=D.some(function(e){return e.get("beSelect")});if("STATE_ZF_SH"===C&&I&&(P=r.default.createElement(f.Row,{className:"ylls-card"},r.default.createElement("div",{className:"hx-title"},"待支付金额：",r.default.createElement(f.Amount,{showZero:!0},k)),D.map(function(e,t){if(e.get("beSelect"))return r.default.createElement("div",{key:t,className:"ylls-top-line"},r.default.createElement("div",{className:"ylls-item ylls-padding"},r.default.createElement("div",null,"流水号：",e.get("flowNumber")),r.default.createElement("div",{className:"ylls-gray"},e.get("runningDate"))),r.default.createElement("div",{className:"ylls-item"},r.default.createElement("div",{className:"overElli"},"暂付款项"),r.default.createElement("div",null,r.default.createElement(f.Amount,{showZero:!0,className:"ylls-bold"},e.get("notHandleAmount")))))}))),b&&"STATE_ZF_FC"===C&&D&&D.size){P=(0,m.hxCom)(D,p,function(){return e.setState({showList:!p})})}var Z=o.getIn(["data","userInfo","sobInfo","moduleInfo"]),U=!Z||Z.indexOf("ENCLOSURE_RUN")>-1,F="TRUE"===o.getIn(["data","userInfo","checkMoreFj"]),M=a.getIn(["flags","showlsfj"]),B=(a.get("previewImageList").toJS(),a.get("label")),X=a.get("enclosureList"),J=a.get("enclosureCountUser");return r.default.createElement(f.Container,{className:"lrls"},r.default.createElement(d.TopDatePicker,{value:N,onChange:function(e){n(s.zfkxAccountActions.changeZfkxData("runningDate",new g.DateLib(e).valueOf())),n(i.homeAccountActions.changeHomeAccountData("runningDate",new g.DateLib(e).valueOf())),"STATE_ZF_SH"===C&&n(s.zfkxAccountActions.getZfkxPaymentList())},callback:function(e){n(s.zfkxAccountActions.changeZfkxData("runningDate",e)),n(i.homeAccountActions.changeHomeAccountData("runningDate",e)),"STATE_ZF_SH"===C&&n(s.zfkxAccountActions.getZfkxPaymentList())}}),E?r.default.createElement(f.Row,{className:"lrls-row"}," ","流水号： "+v," "):null,r.default.createElement(f.ScrollView,{flex:"1"},r.default.createElement("div",{className:"lrls-card"},r.default.createElement(m.CategoryCom,{isModify:E,dispatch:n,lastCategory:y,categoryUuid:w,categoryName:_,project:L,showProject:x&&"STATE_ZF_FC"==C,changeAmount:function(e){return n(s.zfkxAccountActions.changeZfkxData("amount",e))}}),r.default.createElement(f.Radio,{disabled:E,list:[{key:"STATE_ZF_FC",value:"付出"},{key:"STATE_ZF_SH",value:"收回"}],value:C,onChange:function(e){n(s.zfkxAccountActions.changeZfkxData("runningState",e)),n(s.zfkxAccountActions.changeZfkxData("runningAbstract",(0,m.abstractFun)(e,A))),"STATE_ZF_SH"===e&&n(s.zfkxAccountActions.getZfkxPaymentList())}})),r.default.createElement(f.Row,{className:"lrls-card lrls-line"},r.default.createElement("label",null,"摘要："),r.default.createElement(f.TextareaItem,{placeholder:"摘要填写",value:T,onChange:function(e){n(s.zfkxAccountActions.changeZfkxData("runningAbstract",e))}})),O,r.default.createElement("div",{className:"lrls-card"},r.default.createElement(f.Row,{className:"yysr-amount"},r.default.createElement("label",null,R?"金额:":"账户:"),R?r.default.createElement(f.TextListInput,{placeholder:"填写金额",value:j,onChange:function(e){/^\d*\.?\d{0,2}$/g.test(e)&&n(s.zfkxAccountActions.changeZfkxData("amount",e))}}):null,r.default.createElement(m.Account,{history:l,accountList:h,accountUuid:z,accountName:S,onOk:function(e){return n(s.zfkxAccountActions.changeAccount(e))}}))),P,r.default.createElement(m.UploadFj,{dispatch:n,enCanUse:U,editPermission:u,enclosureList:X,showlsfj:M,checkMoreFj:F,label:B,enclosureCountUser:J,history:l}),"STATE_ZF_SH"===C?r.default.createElement(f.Row,{className:"lrls-button-wrap"},r.default.createElement("span",{className:"lrls-button",onClick:function(){n(i.homeAccountActions.changeHomeAccountData("categoryType","LB_ZFKX_LS"))}},I?"修改单据":"请选择单据")):null),r.default.createElement(f.ButtonGroup,null,r.default.createElement(f.Button,{onClick:function(){n(s.zfkxAccountActions.saveRunningbusiness())}},r.default.createElement(f.Icon,{type:"save"}),r.default.createElement("span",null,"保存")),r.default.createElement(f.Button,{onClick:function(){n(s.zfkxAccountActions.saveRunningbusiness(!0))}},r.default.createElement(f.Icon,{type:"new"}),r.default.createElement("span",null,"保存并新增"))))}}]),t}())||a;t.default=y},1691:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,c,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(0),r=(c=o)&&c.__esModule?c:{default:c},u=n(31),s=(n(9),n(16)),i=n(1350),f=n(1058);var d=(0,u.connect)(function(e){return e})(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),l(t,[{key:"render",value:function(){var e=this.props,t=e.dispatch,n=e.zfkxAccountState.getIn(["data","paymentList"]),a=0,c=0;return n.forEach(function(e){e.get("beSelect")&&(a++,c+=e.get("notHandleAmount"))}),r.default.createElement(s.Container,{className:"lrls"},r.default.createElement("ul",{className:"lrls-row xczc-ls"},r.default.createElement("li",null,"已勾选流水：",a,"条"),r.default.createElement("li",null,"合计金额：",r.default.createElement(s.Amount,{showZero:!0},c))),r.default.createElement(s.ScrollView,{ref:"lrlsScrollContainer",flex:"1",uniqueKey:"lrls-scroll",savePosition:!0},n.map(function(e,n){return r.default.createElement(s.Row,{key:n,className:"lrls-card",onClick:function(){e.get("beSelect")?t(i.zfkxAccountActions.paymentListBeSelect(n,!1)):t(i.zfkxAccountActions.paymentListBeSelect(n,!0))}},r.default.createElement("div",{className:"xczc-ls-line xczc-ls-top"},r.default.createElement("span",null,r.default.createElement(s.Checkbox,{style:{paddingRight:"10px"},checked:!!e.get("beSelect")}),e.get("flowNumber")),r.default.createElement("span",{className:"xczc-ls-color"},e.get("runningDate"))),r.default.createElement("div",{className:"xczc-ls-line xczc-ls-center"},r.default.createElement("span",{className:"overElli"},"摘要：",e.get("runningAbstract")),r.default.createElement(s.Amount,{showZero:!0},e.get("notHandleAmount"))),r.default.createElement("div",{className:"xczc-ls-line xczc-ls-bottom"},r.default.createElement("span",{className:"xczc-ls-color"},"暂付款项")))})),r.default.createElement(s.ButtonGroup,{style:{backgroundColor:"#F8F8F8"}},r.default.createElement(s.Button,{onClick:function(){t(f.homeAccountActions.changeHomeAccountData("categoryType","LB_ZFKX")),t(i.zfkxAccountActions.changeZfkxData("amount",c)),t(i.zfkxAccountActions.changeZfkxData("jtAmount",c))}},r.default.createElement(s.Icon,{type:"choose"}),r.default.createElement("span",null,"确定"))))}}]),t}())||a;t.default=d},1692:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=f(n(0)),o=n(31),r=f(n(1693)),u=f(n(1694)),s=f(n(1695)),i=f(n(1696));function f(e){return e&&e.__esModule?e:{default:e}}var d=(0,o.connect)(function(e){return e})(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),c(t,[{key:"render",value:function(){var e=this.props,t=e.cqzcAccountState,n=e.history,a=e.homeState,c=e.homeAccountState,o=e.editPermission,f="STATE_CQZC_JZSY"===t.getIn(["data","runningState"]),d=t.getIn(["views","fromYl"]),m=t.getIn(["views","shouldJzsy"]),g=a.getIn(["data","userInfo","sobInfo","moduleInfo"]),p=!g||g.indexOf("ENCLOSURE_RUN")>-1,y="TRUE"===a.getIn(["data","userInfo","checkMoreFj"]),h=c.getIn(["flags","showlsfj"]),A=c.get("label"),E=c.get("enclosureList"),b=c.get("enclosureCountUser"),v=null;return d?f?v=l.default.createElement(r.default,{editPermission:o,enCanUse:p,checkMoreFj:y,showlsfj:h,label:A,enclosureList:E,enclosureCountUser:b}):(v=l.default.createElement(u.default,{history:n,editPermission:o,enCanUse:p,checkMoreFj:y,showlsfj:h,label:A,enclosureList:E,enclosureCountUser:b}),m&&(v=l.default.createElement(s.default,{editPermission:o,enCanUse:p,checkMoreFj:y,showlsfj:h,label:A,enclosureList:E,enclosureCountUser:b}))):(v=l.default.createElement(i.default,{history:n,editPermission:o,enCanUse:p,checkMoreFj:y,showlsfj:h,label:A,enclosureList:E,enclosureCountUser:b}),m&&(v=l.default.createElement(s.default,{editPermission:o,enCanUse:p,checkMoreFj:y,showlsfj:h,label:A,enclosureList:E,enclosureCountUser:b}))),v}}]),t}())||a;t.default=d},1693:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,c,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(0),r=(c=o)&&c.__esModule?c:{default:c},u=n(31),s=(n(9),n(16)),i=n(123),f=n(1061),d=n(1253);(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e})(n(1064)),n(13);var m=(0,u.connect)(function(e){return e})(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),l(t,[{key:"render",value:function(){var e=this.props,t=e.dispatch,n=e.homeAccountState,a=e.cqzcAccountState,c=e.editPermission,l=e.enCanUse,o=e.checkMoreFj,u=e.showlsfj,m=e.label,g=e.enclosureList,p=e.enclosureCountUser,y=e.history,h=n.get("lastCategory"),A=a.get("data"),E="modify"===a.getIn(["views","insertOrModify"]),b=A.get("flowNumber"),v=A.get("categoryUuid"),w=A.get("categoryName"),_=A.get("runningDate"),C=A.get("runningAbstract"),S=A.get("acAssets"),z=A.get("businessList"),N=A.get("amount"),T=S.get("originalAssetsAmount"),j=S.get("depreciationAmount"),k=Number(j)+Number(N)-Number(T);return r.default.createElement(s.Container,{className:"lrls"},r.default.createElement(i.TopDatePicker,{value:_,onChange:function(e){},callback:function(e){}}),r.default.createElement(s.Row,{className:"lrls-row"}," ","流水号： "+b," "),r.default.createElement(s.ScrollView,{flex:"1"},r.default.createElement("div",{className:"lrls-card"},r.default.createElement(f.CategoryCom,{isModify:E,dispatch:t,lastCategory:h,categoryUuid:v,categoryName:w})),r.default.createElement("div",{className:"lrls-card lrls-line"},r.default.createElement("label",null,"摘要："),r.default.createElement(s.TextareaItem,{placeholder:"摘要填写",value:C,onChange:function(e){t(d.cqzcAccountActions.changeCqzcData("runningAbstract",e))}})),r.default.createElement("div",{className:"lrls-card"},r.default.createElement(s.Row,null,r.default.createElement("label",{style:{marginRight:".15rem"}},k>=0?"净收益金额：":"净损失金额："),r.default.createElement(s.Amount,{showZero:!0},Math.abs(k))),r.default.createElement(s.Row,{className:"yysr-amount margin-top-bot lrls-jzsy"},r.default.createElement("label",null,"资产原值:"),r.default.createElement(s.TextListInput,{placeholder:"请填写资产原值",value:T,onChange:function(e){/^\d*\.?\d{0,2}$/g.test(e)&&(t(d.cqzcAccountActions.changeCqzcCzAmount("originalAssetsAmount",e)),t(d.cqzcAccountActions.autoCqzcCzAmount()))}})),r.default.createElement(s.Row,{className:"yysr-amount margin-top-bot lrls-jzsy"},r.default.createElement("label",null,"累计折旧余额:"),r.default.createElement(s.TextListInput,{placeholder:"请填写累计折旧余额",value:j,onChange:function(e){/^\d*\.?\d{0,2}$/g.test(e)&&(t(d.cqzcAccountActions.changeCqzcCzAmount("depreciationAmount",e)),t(d.cqzcAccountActions.autoCqzcCzAmount()))}}))),r.default.createElement(s.Row,{className:"lrls-card"},r.default.createElement("div",null,"流水号：",z.getIn([0,"flowNumber"])),r.default.createElement("div",{className:"lrls-padding-top"},"金额：",r.default.createElement(s.Amount,{showZero:!0},z.getIn([0,"acAssets","cleaningAmount"])))),r.default.createElement(f.UploadFj,{dispatch:t,enCanUse:l,editPermission:c,enclosureList:g,showlsfj:u,checkMoreFj:o,label:m,enclosureCountUser:p,history:y})),r.default.createElement(s.ButtonGroup,null,r.default.createElement(s.Button,{onClick:function(){t(d.cqzcAccountActions.saveRunningbusiness())}},r.default.createElement(s.Icon,{type:"save"}),r.default.createElement("span",null,"保存")),r.default.createElement(s.Button,{onClick:function(){t(d.cqzcAccountActions.saveRunningbusiness(!0))}},r.default.createElement(s.Icon,{type:"new"}),r.default.createElement("span",null,"保存并新增"))))}}]),t}())||a;t.default=m},1694:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,c,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(0),r=(c=o)&&c.__esModule?c:{default:c},u=n(31),s=(n(9),n(16)),i=n(123),f=n(1061),d=n(1253),m=n(1058),g=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1064)),p=n(13);function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=(0,u.connect)(function(e){return e})(a=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var c=arguments.length,l=Array(c),o=0;o<c;o++)l[o]=arguments[o];return n=a=y(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.state={showList:!0},y(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),l(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.dispatch,a=t.homeAccountState,c=t.cqzcAccountState,l=t.history,o=t.editPermission,u=t.enCanUse,y=t.checkMoreFj,h=t.showlsfj,A=t.label,E=t.enclosureList,b=t.enclosureCountUser,v=this.state.showList,w=a.get("rate"),_=a.get("lastCategory"),C=a.get("accountList"),S=c.get("data"),z="modify"===c.getIn(["views","insertOrModify"]),N=S.get("flowNumber"),T=S.get("accountName"),j=S.get("accountUuid"),k=S.get("categoryUuid"),O=S.get("categoryName"),x=S.get("runningDate"),L=S.get("runningState"),R=S.get("runningAbstract"),P=S.get("amount"),D=S.get("businessList"),I=S.get("acAssets"),Z=I.get("beManagemented"),U=I.get("beCleaning"),F=S.get("beCarryover"),M=S.get("assetType"),B={XZ_GJZC:"购进资产",XZ_CZZC:"处置",XZ_ZJTX:"资产折旧/摊销"}[M],X=w.get("scale"),J=S.get("taxRate"),Y=S.get("tax"),H=S.get("billType"),q=S.get("billStates"),G=S.get("billList"),K=!1;G&&G.size&&(!0,K=!0);var $=null,V=null,W=S.get("propertyCostList"),Q=(0,f.costList)(W),ee=S.get("propertyCost"),te=(0,f.propertyCostObj)(I,ee).get("propertyCostName"),ne=[],ae="STATE_CQZC_WF"!==L&&"STATE_CQZC_WS"!==L&&"XZ_ZJTX"!=M;(({XZ_GJZC:function(){ne=[{key:"STATE_CQZC_WF",value:"未付款",disabled:!Z,message:"流水设置中未启用"},{key:"STATE_CQZC_YF",value:"已付款"}],"general"===X&&(V=r.default.createElement(s.Row,{className:"lrls-more-card lrls-margin-top"},r.default.createElement("label",null,"税率:"),r.default.createElement(s.SinglePicker,{district:g.taxRateList,value:J,onOk:function(e){K||n(d.cqzcAccountActions.changeTaxRate(e.value))}},r.default.createElement(s.Row,{className:"lrls-padding lrls-category"},r.default.createElement("span",null,J+"%",r.default.createElement("span",{className:"lrls-placeholder"},"(税额：",r.default.createElement(s.Amount,{showZero:!0},Y)," 价税合计: ",r.default.createElement(s.Amount,{showZero:!0},P),")")),r.default.createElement(s.Icon,{type:"triangle"})))),$=r.default.createElement(s.Row,{className:"lrls-card"},r.default.createElement(s.Row,{className:"yysr-bill"},r.default.createElement("div",{className:"lrls-more-card"},r.default.createElement("label",null,"票据类型:"),r.default.createElement(s.SinglePicker,{district:[{key:"增值税专用发票",value:"bill_special"},{key:"其他票据",value:"bill_other"}],value:H,onOk:function(e){K||n(d.cqzcAccountActions.changeCqzcData("billType",e.value))}},r.default.createElement(s.Row,{className:"lrls-padding lrls-category"},r.default.createElement("span",null,"bill_special"==H?"增值税专用发票":"其他票据"),r.default.createElement(s.Icon,{type:"triangle"})))),"bill_special"==H?r.default.createElement(s.SwitchText,{checked:!K&&"bill_states_not_auth"!==q,checkedChildren:"已认证",unCheckedChildren:"未认证",className:"threeTextSwitch",onChange:function(){K||n(d.cqzcAccountActions.changeBillStates())}}):null),"bill_special"==H?r.default.createElement(s.Row,null,V,K?r.default.createElement(s.Row,{className:"lrls-margin-top"},"认证流水：",G.getIn([0,"flowNumber"]),"(发票已认证) "):null):null))},XZ_CZZC:function(){ne=[{key:"STATE_CQZC_WS",value:"未收款",disabled:!Z,message:"流水设置中未启用"},{key:"STATE_CQZC_YS",value:"已收款"}],V=r.default.createElement(s.Row,{className:"lrls-more-card lrls-margin-top"},r.default.createElement("label",null,"税率:"),r.default.createElement(s.SinglePicker,{district:g.taxRateList,value:J,onOk:function(e){K||(n(d.cqzcAccountActions.changeTaxRate(e.value)),n(d.cqzcAccountActions.autoCqzcCzAmount()))}},r.default.createElement(s.Row,{className:"lrls-padding lrls-category"},r.default.createElement("span",null,J+"%",r.default.createElement("span",{className:"lrls-placeholder"},"(税额：",r.default.createElement(s.Amount,{showZero:!0},Y)," 价税合计: ",r.default.createElement(s.Amount,{showZero:!0},P),")")),r.default.createElement(s.Icon,{type:"triangle"})))),$=r.default.createElement(s.Row,{className:"lrls-card",style:{display:"isEnable"==X?"none":""}},r.default.createElement(s.Row,{className:"yysr-bill"},r.default.createElement("div",{className:"lrls-more-card"},r.default.createElement("label",null,"票据类型:"),r.default.createElement(s.SinglePicker,{district:[{key:"发票",value:"bill_common"},{key:"其他票据",value:"bill_other"}],value:H,onOk:function(e){K||(n(d.cqzcAccountActions.changeCqzcData("billType",e.value)),"bill_common"===e.value&&n(d.cqzcAccountActions.autoCqzcCzAmount()))}},r.default.createElement(s.Row,{className:"lrls-padding lrls-category"},r.default.createElement("span",null," ","bill_common"==H?"发票":"其他票据"," "),r.default.createElement(s.Icon,{type:"triangle"})))),"bill_common"==H?r.default.createElement(s.SwitchText,{checked:!K&&"bill_states_not_make_out"!==q,checkedChildren:"已开票",unCheckedChildren:"未开票",className:"threeTextSwitch",onChange:function(){K||n(d.cqzcAccountActions.changeBillStates())}}):null),"bill_common"==H?r.default.createElement(s.Row,null,V,K?r.default.createElement(s.Row,{className:"lrls-margin-top"},"开票流水：",G.getIn([0,"flowNumber"]),"(发票已开票)"):null):null)},XZ_ZJTX:function(){ne=[{key:"STATE_CQZC_ZJTX",value:"长期资产折旧摊销"}]}})[M]||function(){return null})();var ce=null;if(Z&&"XZ_ZJTX"!=M){var le=c.get("contactsCardList"),oe=I.get("contactsCardRange"),re=I.get("contactsRange");ce=r.default.createElement(f.ContancsCom,{cardList:le,cardObj:oe,onOk:function(e){n(d.cqzcAccountActions.changeAcList(e.value,"contactsCardRange"))},history:l,dispatch:n,isPayUnit:"XZ_GJZC"==M,contactsRange:re,disabled:z})}var ue=null;D&&D.size?ue=r.default.createElement(s.Row,{className:"lrls-row"},"结转流水：",D.getIn([0,"flowNumber"]),"(资产已结转)"):U&&"XZ_CZZC"==M&&(ue=r.default.createElement(s.Row,{className:"lrls-button-wrap"},r.default.createElement("span",{className:"lrls-button",onClick:function(){n(d.cqzcAccountActions.changeCqzcViews()),n(d.cqzcAccountActions.changeBeCarryover()),n(d.cqzcAccountActions.autoCqzcCzAmount())}},"处置损益")));var se=null,ie=S.get("paymentList");if(ie.size){se=(0,f.hxCom)(ie,v,function(){return e.setState({showList:!v})})}var fe=null,de=S.get("beProject"),me=a.get("project"),ge=me.get("usedProject");return de&&"XZ_ZJTX"==M&&(fe=r.default.createElement(f.ProjectCom,{project:me,dispatch:n,noAmount:!0,noMore:!0,showCommon:!0})),r.default.createElement(s.Container,{className:"lrls"},r.default.createElement(i.TopDatePicker,{value:x,onChange:function(e){n(d.cqzcAccountActions.changeCqzcData("runningDate",new p.DateLib(e).valueOf())),n(m.homeAccountActions.changeHomeAccountData("runningDate",new p.DateLib(e).valueOf()))},callback:function(e){n(d.cqzcAccountActions.changeCqzcData("runningDate",e)),n(m.homeAccountActions.changeHomeAccountData("runningDate",e))}}),r.default.createElement(s.Row,{className:"lrls-row"}," ","流水号： "+N," "),r.default.createElement(s.ScrollView,{flex:"1"},r.default.createElement("div",{className:"lrls-card"},r.default.createElement(f.CategoryCom,{isModify:z,dispatch:n,lastCategory:_,categoryUuid:k,categoryName:O}),r.default.createElement(s.Row,{className:"lrls-more-card lrls-margin-top lrls-switch"},r.default.createElement("label",null,"处理类型: "),r.default.createElement(s.SinglePicker,{district:[{key:"购进资产",value:"XZ_GJZC"},{key:"处置",value:"XZ_CZZC"}],value:M,onOk:function(e){}},r.default.createElement(s.Row,{className:"lrls-padding lrls-category",onClick:function(e){return e.stopPropagation()}},r.default.createElement("span",null,B),r.default.createElement(s.Icon,{type:"triangle"}))),de&&"XZ_ZJTX"==M?r.default.createElement(s.SwitchText,{checked:ge,checkedChildren:"项目",unCheckedChildren:"",className:"topBarSwitch",onChange:function(e){n(m.homeAccountActions.changeHomeAccountData("project",!ge))}}):null),"XZ_ZJTX"==M&&Q.length>1?r.default.createElement(s.Row,{className:"lrls-more-card lrls-margin-top"},r.default.createElement("label",null,"费用性质: "),r.default.createElement(s.SinglePicker,{district:Q,value:ee,onOk:function(e){n(d.cqzcAccountActions.changeCqzcData("propertyCost",e.value))}},r.default.createElement(s.Row,{className:"lrls-padding lrls-category"},r.default.createElement("span",{className:"请选择费用性质"!=te?"":"lrls-placeholder"},te),r.default.createElement(s.Icon,{type:"triangle"})))):null,"XZ_ZJTX"==M?null:r.default.createElement(s.Radio,{disabled:z,list:ne,value:L,onChange:function(e){n(d.cqzcAccountActions.changeCqzcData("runningState",e)),n(d.cqzcAccountActions.changeCqzcData("runningAbstract",(0,f.abstractFun)(e,S)))}})),r.default.createElement(s.Row,{className:"lrls-card lrls-line"},r.default.createElement("label",null,"摘要:"),r.default.createElement(s.TextareaItem,{placeholder:"摘要填写",value:R,onChange:function(e){n(d.cqzcAccountActions.changeCqzcData("runningAbstract",e))}})),fe,r.default.createElement("div",{className:"lrls-card"},ce,r.default.createElement(s.Row,{className:"yysr-amount"},r.default.createElement("label",null,"金额："),r.default.createElement(s.TextListInput,{placeholder:"填写金额",value:P,onChange:function(e){/^\d*\.?\d{0,2}$/g.test(e)&&n(d.cqzcAccountActions.changeAmount(e)),F&&n(d.cqzcAccountActions.autoCqzcCzAmount())}}),ae?r.default.createElement(f.Account,{history:l,accountList:C,accountUuid:j,accountName:T,onOk:function(e){return n(d.cqzcAccountActions.changeAccount(e))}}):null)),$,ue,se,r.default.createElement(f.UploadFj,{dispatch:n,enCanUse:u,editPermission:o,enclosureList:E,showlsfj:h,checkMoreFj:y,label:A,enclosureCountUser:b,history:l})),r.default.createElement(s.ButtonGroup,null,r.default.createElement(s.Button,{onClick:function(){n(d.cqzcAccountActions.saveRunningbusiness())}},r.default.createElement(s.Icon,{type:"save"}),r.default.createElement("span",null,"保存")),r.default.createElement(s.Button,{onClick:function(){n(d.cqzcAccountActions.saveRunningbusiness(!0))}},r.default.createElement(s.Icon,{type:"new"}),r.default.createElement("span",null,"保存并新增"))))}}]),t}())||a;t.default=h},1695:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,c,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(0),r=(c=o)&&c.__esModule?c:{default:c},u=n(31),s=n(9),i=n(16),f=n(123),d=n(1061),m=n(1253),g=h(n(25)),p=n(1058),y=(h(n(1064)),n(13));function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var A=(0,u.connect)(function(e){return e})(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),l(t,[{key:"render",value:function(){var e=this.props,t=e.dispatch,n=e.homeAccountState,a=e.cqzcAccountState,c=e.editPermission,l=e.enCanUse,o=e.checkMoreFj,u=e.showlsfj,h=e.label,A=e.enclosureList,E=e.enclosureCountUser,b=e.history,v=n.get("lastCategory"),w=a.get("data"),_="modify"===a.getIn(["views","insertOrModify"]),C=w.get("categoryUuid"),S=w.get("categoryName"),z=w.get("flowNumber"),N=w.get("runningDate"),T=w.get("runningAbstract"),j=w.get("amount"),k=w.get("acAssets"),O=w.get("tax"),x=w.get("billType"),L=k.get("originalAssetsAmount"),R=k.get("depreciationAmount"),P=0;P="bill_common"===x?Number(R)+Number(j)-Number(L)-Number(O):Number(R)+Number(j)-Number(L);var D=w.get("beProject"),I=n.get("project"),Z=I.get("usedProject"),U=I.getIn(["projectCard",0])?I.getIn(["projectCard",0]):(0,s.fromJS)({}),F="";return Z&&(F=U.get("code")+" "+U.get("name")),"项目公共费用"==U.get("name")&&(F="项目公共费用"),r.default.createElement(i.Container,{className:"lrls"},r.default.createElement(f.TopDatePicker,{value:N,onChange:function(e){t(m.cqzcAccountActions.changeCqzcData("runningDate",new y.DateLib(e).valueOf())),t(p.homeAccountActions.changeHomeAccountData("runningDate",new y.DateLib(e).valueOf()))},callback:function(e){t(m.cqzcAccountActions.changeCqzcData("runningDate",e)),t(p.homeAccountActions.changeHomeAccountData("runningDate",e))}}),_?r.default.createElement(i.Row,{className:"lrls-row"}," ","流水号： "+z," "):null,r.default.createElement(i.ScrollView,{flex:"1"},r.default.createElement("div",{className:"lrls-card"},r.default.createElement(d.CategoryCom,{isModify:_,dispatch:t,lastCategory:v,categoryUuid:C,categoryName:S})),r.default.createElement("div",{className:"lrls-card lrls-line"},r.default.createElement("label",null,"摘要："),r.default.createElement(i.TextareaItem,{placeholder:"摘要填写",value:T,onChange:function(e){t(m.cqzcAccountActions.changeCqzcData("runningAbstract",e))}})),r.default.createElement("div",{className:"lrls-card"},r.default.createElement("div",{className:"lrls-more-card lrls-jzsy",style:{display:D?"":"none"}},r.default.createElement("label",null,"项目:"),r.default.createElement(i.SinglePicker,{disabled:!Z,district:I.get("projectCardList").toJS(),value:U.get("uuid")?""+U.get("uuid")+g.TREE_JOIN_STR+U.get("code")+g.TREE_JOIN_STR+U.get("name"):"",onOk:function(e){t(p.homeAccountActions.changeProjectCard("card",e.value,0))}},r.default.createElement(i.Row,{className:"lrls-category lrls-padding"},U.get("uuid")?r.default.createElement("span",null," ",F," "):r.default.createElement("span",{className:"lrls-placeholder"},"点击选择项目卡片"),r.default.createElement(i.Icon,{type:"triangle"}))),r.default.createElement("div",{className:"noTextSwitchShort",style:{marginLeft:"6px"}},r.default.createElement(i.Switch,{checked:Z,color:"#FF8348",onClick:function(){t(p.homeAccountActions.changeHomeAccountData("project",!Z)),Z&&t(p.homeAccountActions.changeLrlsData(["project","projectCard"],(0,s.fromJS)([{amount:""}])))}}))),r.default.createElement(i.Row,{className:"margin-top-bot"},r.default.createElement("label",{style:{marginRight:".15rem"}},P>=0?"净收益金额：":"净损失金额："),r.default.createElement(i.Amount,{showZero:!0},Math.abs(P))),r.default.createElement(i.Row,{className:"yysr-amount margin-top-bot lrls-jzsy"},r.default.createElement("label",null,"资产原值:"),r.default.createElement(i.TextListInput,{placeholder:"请填写资产原值",value:L,onChange:function(e){/^\d*\.?\d{0,2}$/g.test(e)&&(t(m.cqzcAccountActions.changeCqzcCzAmount("originalAssetsAmount",e)),t(m.cqzcAccountActions.autoCqzcCzAmount()))}})),r.default.createElement(i.Row,{className:"yysr-amount lrls-jzsy"},r.default.createElement("label",null,"累计折旧余额:"),r.default.createElement(i.TextListInput,{placeholder:"请填写累计折旧余额",value:R,onChange:function(e){/^\d*\.?\d{0,2}$/g.test(e)&&(t(m.cqzcAccountActions.changeCqzcCzAmount("depreciationAmount",e)),t(m.cqzcAccountActions.autoCqzcCzAmount()))}}))),r.default.createElement(d.UploadFj,{dispatch:t,enCanUse:l,editPermission:c,enclosureList:A,showlsfj:u,checkMoreFj:o,label:h,enclosureCountUser:E,history:b})),r.default.createElement(i.ButtonGroup,null,r.default.createElement(i.Button,{onClick:function(){t(m.cqzcAccountActions.saveRunningbusiness())}},r.default.createElement(i.Icon,{type:"save"}),r.default.createElement("span",null,"保存")),r.default.createElement(i.Button,{onClick:function(){t(m.cqzcAccountActions.saveRunningbusiness(!0))}},r.default.createElement(i.Icon,{type:"new"}),r.default.createElement("span",null,"保存并新增"))))}}]),t}())||a;t.default=A},1696:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,c,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(0),r=(c=o)&&c.__esModule?c:{default:c},u=n(31),s=n(9),i=n(16),f=n(123),d=n(1061),m=n(1253),g=A(n(25)),p=n(1058),y=A(n(1064)),h=n(13);function A(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var E=(0,u.connect)(function(e){return e})(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),l(t,[{key:"render",value:function(){var e=this.props,t=e.dispatch,n=e.homeAccountState,a=e.cqzcAccountState,c=e.history,l=e.editPermission,o=e.enCanUse,u=e.checkMoreFj,A=e.showlsfj,E=e.label,b=e.enclosureList,v=e.enclosureCountUser,w=n.get("rate"),_=n.get("lastCategory"),C=n.get("accountList"),S=a.get("data"),z="modify"===a.getIn(["views","insertOrModify"]),N=S.get("flowNumber"),T=S.get("accountName"),j=S.get("accountUuid"),k=S.get("categoryUuid"),O=S.get("categoryName"),x=S.get("runningDate"),L=S.get("runningState"),R=S.get("runningAbstract"),P=S.get("amount"),D=S.get("acAssets"),I=D.get("beManagemented"),Z=D.get("beCleaning"),U=S.get("beCarryover"),F=S.get("assetType"),M={XZ_GJZC:"购进资产",XZ_CZZC:"处置",XZ_ZJTX:"资产折旧/摊销"}[F],B=w.get("scale"),X=S.get("taxRate"),J=S.get("tax"),Y=S.get("billType"),H=S.get("billStates"),q=(S.get("billList"),null),G=null,K=null,$=S.get("propertyCostList"),V=(0,d.costList)($),W=S.get("propertyCost"),Q=(0,d.propertyCostObj)(D,W).get("propertyCostName"),ee=[],te="STATE_CQZC_WF"!==L&&"STATE_CQZC_WS"!==L&&"XZ_ZJTX"!=F;(({XZ_GJZC:function(){ee=[{key:"STATE_CQZC_WF",value:"未付款",disabled:!I,message:"流水设置中未启用"},{key:"STATE_CQZC_YF",value:"已付款"}],"general"===B&&(K=r.default.createElement(i.Row,{className:"lrls-more-card lrls-margin-top"},r.default.createElement("label",null,"税率:"),r.default.createElement(i.SinglePicker,{district:y.taxRateList,value:X,onOk:function(e){t(m.cqzcAccountActions.changeTaxRate(e.value))}},r.default.createElement(i.Row,{className:"lrls-padding lrls-category"},r.default.createElement("span",null,X+"%",r.default.createElement("span",{className:"lrls-placeholder"},"(税额：",r.default.createElement(i.Amount,{showZero:!0},J)," 价税合计: ",r.default.createElement(i.Amount,{showZero:!0},P),")")),r.default.createElement(i.Icon,{type:"triangle"})))),G=r.default.createElement(i.Row,{className:"lrls-card"},r.default.createElement(i.Row,{className:"yysr-bill"},r.default.createElement("div",{className:"lrls-more-card"},r.default.createElement("label",null,"票据类型:"),r.default.createElement(i.SinglePicker,{district:[{key:"增值税专用发票",value:"bill_special"},{key:"其他票据",value:"bill_other"}],value:Y,onOk:function(e){t(m.cqzcAccountActions.changeCqzcData("billType",e.value))}},r.default.createElement(i.Row,{className:"lrls-padding lrls-category"},r.default.createElement("span",null,"bill_special"==Y?"增值税专用发票":"其他票据"),r.default.createElement(i.Icon,{type:"triangle"})))),"bill_special"==Y?r.default.createElement(i.SwitchText,{checked:"bill_states_auth"===H,checkedChildren:"已认证",unCheckedChildren:"未认证",className:"threeTextSwitch",onChange:function(){t(m.cqzcAccountActions.changeBillStates())}}):null),"bill_special"==Y?r.default.createElement(i.Row,null,K):null))},XZ_CZZC:function(){if(ee=[{key:"STATE_CQZC_WS",value:"未收款",disabled:!I,message:"流水设置中未启用"},{key:"STATE_CQZC_YS",value:"已收款"}],K=r.default.createElement(i.Row,{className:"lrls-more-card lrls-margin-top"},r.default.createElement("label",null,"税率:"),r.default.createElement(i.SinglePicker,{district:"general"==B?y.taxRateList:y.smallTaxRateList,value:X,onOk:function(e){t(m.cqzcAccountActions.changeTaxRate(e.value)),t(m.cqzcAccountActions.autoCqzcCzAmount())}},r.default.createElement(i.Row,{className:"lrls-padding lrls-category"},r.default.createElement("span",null,X+"%",r.default.createElement("span",{className:"lrls-placeholder"},"(税额：",r.default.createElement(i.Amount,{showZero:!0},J)," 价税合计: ",r.default.createElement(i.Amount,{showZero:!0},P),")")),r.default.createElement(i.Icon,{type:"triangle"})))),G=r.default.createElement(i.Row,{className:"lrls-card",style:{display:"isEnable"==B?"none":""}},r.default.createElement(i.Row,{className:"yysr-bill"},r.default.createElement("div",{className:"lrls-more-card"},r.default.createElement("label",null,"票据类型:"),r.default.createElement(i.SinglePicker,{district:[{key:"发票",value:"bill_common"},{key:"其他票据",value:"bill_other"}],value:Y,onOk:function(e){t(m.cqzcAccountActions.changeCqzcData("billType",e.value)),"bill_common"===e.value&&t(m.cqzcAccountActions.autoCqzcCzAmount())}},r.default.createElement(i.Row,{className:"lrls-padding lrls-category"},r.default.createElement("span",null," ","bill_common"==Y?"发票":"其他票据"," "),r.default.createElement(i.Icon,{type:"triangle"})))),"bill_common"==Y?r.default.createElement(i.SwitchText,{checked:"bill_states_make_out"===H,checkedChildren:"已开票",unCheckedChildren:"未开票",className:"threeTextSwitch",onChange:function(){t(m.cqzcAccountActions.changeBillStates())}}):null),"bill_common"==Y?r.default.createElement(i.Row,null,K):null),Z){var e=D.get("originalAssetsAmount"),a=D.get("depreciationAmount"),c=0;c="bill_common"===Y?Number(a)+Number(P)-Number(e)-Number(J):Number(a)+Number(P)-Number(e);var l=S.get("beProject"),o=n.get("project"),u=o.get("usedProject"),f=o.getIn(["projectCard",0]),d=f.get("code")+" "+f.get("name"),h=o.get("projectCardList").filter(function(e){return 0==e.get("value").includes("COMNCRD")});q=r.default.createElement(i.Row,{className:"lrls-card"},r.default.createElement(i.Row,{className:"lrls-more-card"},r.default.createElement("span",null,"处置损益"),r.default.createElement("div",{className:"noTextSwitchShort"},r.default.createElement(i.Switch,{checked:U,color:"#FF8348",onClick:function(){t(m.cqzcAccountActions.changeBeCarryover()),U||(t(m.cqzcAccountActions.autoCqzcCzAmount()),z&&t(m.cqzcAccountActions.changeCqzcViews()))}}))),r.default.createElement("div",{className:"lrls-more-card margin-top-bot lrls-jzsy",style:{display:l&&U?"":"none"}},r.default.createElement("label",null,"项目:"),r.default.createElement(i.SinglePicker,{disabled:!u,district:h.toJS(),value:f.get("uuid")?""+f.get("uuid")+g.TREE_JOIN_STR+f.get("code")+g.TREE_JOIN_STR+f.get("name"):"",onOk:function(e){t(p.homeAccountActions.changeProjectCard("card",e.value,0))}},r.default.createElement(i.Row,{className:"lrls-category lrls-padding"},f.get("uuid")?r.default.createElement("span",null," ",d," "):r.default.createElement("span",{className:"lrls-placeholder"},"点击选择项目卡片"),r.default.createElement(i.Icon,{type:"triangle"}))),r.default.createElement("div",{className:"noTextSwitchShort",style:{marginLeft:"6px"}},r.default.createElement(i.Switch,{checked:u,color:"#FF8348",onClick:function(){t(p.homeAccountActions.changeHomeAccountData("project",!u)),u&&t(p.homeAccountActions.changeLrlsData(["project","projectCard"],(0,s.fromJS)([{amount:""}])))}}))),U?r.default.createElement(i.Row,null,r.default.createElement(i.Row,null,r.default.createElement("label",{style:{marginRight:".15rem"}},c>=0?"净收益金额：":"净损失金额："),r.default.createElement(i.Amount,{showZero:!0},Math.abs(c))),r.default.createElement(i.Row,{className:"yysr-amount margin-top-bot lrls-jzsy"},r.default.createElement("label",null,"资产原值:"),r.default.createElement(i.TextListInput,{placeholder:"请填写资产原值",value:e,onChange:function(e){/^\d*\.?\d{0,2}$/g.test(e)&&(t(m.cqzcAccountActions.changeCqzcCzAmount("originalAssetsAmount",e)),t(m.cqzcAccountActions.autoCqzcCzAmount()))}})),r.default.createElement(i.Row,{className:"yysr-amount margin-top-bot lrls-jzsy"},r.default.createElement("label",null,"累计折旧余额:"),r.default.createElement(i.TextListInput,{placeholder:"请填写累计折旧余额",value:a,onChange:function(e){/^\d*\.?\d{0,2}$/g.test(e)&&(t(m.cqzcAccountActions.changeCqzcCzAmount("depreciationAmount",e)),t(m.cqzcAccountActions.autoCqzcCzAmount()))}}))):null)}},XZ_ZJTX:function(){ee=[{key:"STATE_CQZC_ZJTX",value:"长期资产折旧摊销"}]}})[F]||function(){return null})();var ne=null;if(I&&"XZ_ZJTX"!=F){var ae=a.get("contactsCardList"),ce=D.get("contactsCardRange"),le=D.get("contactsRange");ne=r.default.createElement(d.ContancsCom,{cardList:ae,cardObj:ce,onOk:function(e){t(m.cqzcAccountActions.changeAcList(e.value,"contactsCardRange"))},history:c,dispatch:t,isPayUnit:"XZ_GJZC"==F,contactsRange:le,disabled:z})}var oe=null,re=S.get("beProject"),ue=n.get("project"),se=ue.get("usedProject");return re&&"XZ_ZJTX"==F&&(oe=r.default.createElement(d.ProjectCom,{project:ue,dispatch:t,noAmount:!0,noMore:!0,showCommon:!0})),r.default.createElement(i.Container,{className:"lrls"},r.default.createElement(f.TopDatePicker,{value:x,onChange:function(e){t(m.cqzcAccountActions.changeCqzcData("runningDate",new h.DateLib(e).valueOf())),t(p.homeAccountActions.changeHomeAccountData("runningDate",new h.DateLib(e).valueOf()))},callback:function(e){t(m.cqzcAccountActions.changeCqzcData("runningDate",e)),t(p.homeAccountActions.changeHomeAccountData("runningDate",e))}}),z?r.default.createElement(i.Row,{className:"lrls-row"}," ","流水号： "+N," "):null,r.default.createElement(i.ScrollView,{flex:"1"},r.default.createElement("div",{className:"lrls-card"},r.default.createElement(d.CategoryCom,{isModify:z,dispatch:t,lastCategory:_,categoryUuid:k,categoryName:O}),r.default.createElement(i.Row,{className:"lrls-more-card lrls-margin-top lrls-switch"},r.default.createElement("label",null,"处理类型: "),r.default.createElement(i.SinglePicker,{district:[{key:"购进资产",value:"XZ_GJZC"},{key:"处置",value:"XZ_CZZC"}],value:F,onOk:function(e){t(m.cqzcAccountActions.changePropertyCost(e.value)),I&&t(m.cqzcAccountActions.getCqzcCardList("contactsRange"))}},r.default.createElement(i.Row,{className:"lrls-padding lrls-category"},r.default.createElement("span",null,M),r.default.createElement(i.Icon,{type:"triangle"}))),re&&"XZ_ZJTX"==F?r.default.createElement(i.SwitchText,{checked:se,checkedChildren:"项目",unCheckedChildren:"",className:"topBarSwitch",onChange:function(e){t(p.homeAccountActions.changeHomeAccountData("project",!se))}}):null),"XZ_ZJTX"==F&&V.length>1?r.default.createElement(i.Row,{className:"lrls-more-card lrls-margin-top"},r.default.createElement("label",null,"费用性质: "),r.default.createElement(i.SinglePicker,{district:V,value:W,onOk:function(e){t(m.cqzcAccountActions.changeCqzcData("propertyCost",e.value))}},r.default.createElement(i.Row,{className:"lrls-padding lrls-category"},r.default.createElement("span",{className:"请选择费用性质"!=Q?"":"lrls-placeholder"},Q),r.default.createElement(i.Icon,{type:"triangle"})))):null,"XZ_ZJTX"==F?null:r.default.createElement(i.Radio,{disabled:z,list:ee,value:L,onChange:function(e){t(m.cqzcAccountActions.changeCqzcData("runningState",e)),t(m.cqzcAccountActions.changeCqzcData("runningAbstract",(0,d.abstractFun)(e,S)))}})),r.default.createElement(i.Row,{className:"lrls-card lrls-line"},r.default.createElement("label",null,"摘要:"),r.default.createElement(i.TextareaItem,{placeholder:"摘要填写",value:R,onChange:function(e){t(m.cqzcAccountActions.changeCqzcData("runningAbstract",e))}})),oe,r.default.createElement("div",{className:"lrls-card"},ne,r.default.createElement(i.Row,{className:"yysr-amount"},r.default.createElement("label",null,"金额："),r.default.createElement(i.TextListInput,{placeholder:"填写金额",value:P,onChange:function(e){/^\d*\.?\d{0,2}$/g.test(e)&&t(m.cqzcAccountActions.changeAmount(e)),U&&t(m.cqzcAccountActions.autoCqzcCzAmount())}}),te?r.default.createElement(d.Account,{history:c,accountList:C,accountUuid:j,accountName:T,onOk:function(e){return t(m.cqzcAccountActions.changeAccount(e))}}):null)),G,q,r.default.createElement(d.UploadFj,{dispatch:t,enCanUse:o,editPermission:l,enclosureList:b,showlsfj:A,checkMoreFj:u,label:E,enclosureCountUser:v,history:c})),r.default.createElement(i.ButtonGroup,null,r.default.createElement(i.Button,{onClick:function(){t(m.cqzcAccountActions.saveRunningbusiness())}},r.default.createElement(i.Icon,{type:"save"}),r.default.createElement("span",null,"保存")),r.default.createElement(i.Button,{onClick:function(){t(m.cqzcAccountActions.saveRunningbusiness(!0))}},r.default.createElement(i.Icon,{type:"new"}),r.default.createElement("span",null,"保存并新增"))))}}]),t}())||a;t.default=E},1697:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,c,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(0),r=(c=o)&&c.__esModule?c:{default:c},u=n(31),s=(n(9),n(1351)),i=n(1058),f=n(16),d=n(123),m=n(1061),g=n(13);function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var y=(0,u.connect)(function(e){return e})(a=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var c=arguments.length,l=Array(c),o=0;o<c;o++)l[o]=arguments[o];return n=a=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.state={showList:!0},p(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),l(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.dispatch,a=t.homeAccountState,c=t.jkAccountState,l=t.history,o=t.homeState,u=t.editPermission,p=this.state.showList,y=a.get("lastCategory"),h=a.get("accountList"),A=c.get("data"),E="modify"===c.getIn(["views","insertOrModify"]),b=c.getIn(["views","fromYl"]),v=A.get("flowNumber"),w=A.get("categoryUuid"),_=A.get("categoryName"),C=A.get("runningState"),S=A.get("accountName"),z=A.get("accountUuid"),N=A.get("runningDate"),T=A.get("runningAbstract"),j=A.get("amount"),k=A.get("jtAmount"),O=A.get("propertyCost"),x={XZ_QDJK:"取得借款",XZ_CHLX:"偿还利息",XZ_CHBJ:"偿还本金"}[O],L=A.getIn(["acLoan","beAccrued"]),R=[{key:"STATE_JK_JTLX",value:"计提利息",disabled:!L,message:"流水设置中未启用"},{key:"STATE_JK_ZFLX",value:"支付利息"}],P=null,D=a.get("project"),I=A.get("beProject"),Z=D.get("usedProject"),U=!0,F=0;if(I&&("STATE_JK_JTLX"==C||!L&&"STATE_JK_ZFLX"==C)){U=!Z,D.get("projectCard").forEach(function(e){return F+=Number(e.get("amount"))});P=r.default.createElement(m.ProjectCom,{project:D,dispatch:n,changeAmount:function(e){return n(s.jkAccountActions.changeJkData("amount",e))},showCommon:!0})}var M=null,B=A.get("paymentList"),X=B.some(function(e){return e.get("beSelect")});if(L&&"STATE_JK_ZFLX"===C&&X&&(M=r.default.createElement(f.Row,{className:"ylls-card"},r.default.createElement("div",{className:"hx-title"},"待支付金额：",r.default.createElement(f.Amount,{showZero:!0},k)),B.map(function(e,t){if(e.get("beSelect"))return r.default.createElement("div",{key:t,className:"ylls-top-line"},r.default.createElement("div",{className:"ylls-item ylls-padding"},r.default.createElement("div",null,"流水号：",e.get("flowNumber")),r.default.createElement("div",{className:"ylls-gray"},e.get("runningDate"))),r.default.createElement("div",{className:"ylls-item"},r.default.createElement("div",{className:"overElli"},"计提利息"),r.default.createElement("div",null,r.default.createElement(f.Amount,{showZero:!0,className:"ylls-bold"},e.get("notHandleAmount")))))}))),b&&L&&"STATE_JK_JTLX"===C&&B.size){M=(0,m.hxCom)(B,p,function(){return e.setState({showList:!p})},"计提利息")}var J=o.getIn(["data","userInfo","sobInfo","moduleInfo"]),Y=!J||J.indexOf("ENCLOSURE_RUN")>-1,H="TRUE"===o.getIn(["data","userInfo","checkMoreFj"]),q=a.getIn(["flags","showlsfj"]),G=(a.get("previewImageList").toJS(),a.get("label")),K=a.get("enclosureList"),$=a.get("enclosureCountUser");return r.default.createElement(f.Container,{className:"lrls"},r.default.createElement(d.TopDatePicker,{value:N,onChange:function(e){n(s.jkAccountActions.changeJkData("runningDate",new g.DateLib(e).valueOf())),n(i.homeAccountActions.changeHomeAccountData("runningDate",new g.DateLib(e).valueOf())),L&&"STATE_JK_ZFLX"===C&&n(s.jkAccountActions.getJkPaymentList())},callback:function(e){n(s.jkAccountActions.changeJkData("runningDate",e)),n(i.homeAccountActions.changeHomeAccountData("runningDate",e)),L&&"STATE_JK_ZFLX"===C&&n(s.jkAccountActions.getJkPaymentList())}}),E?r.default.createElement(f.Row,{className:"lrls-row"}," ","流水号： "+v," "):null,r.default.createElement(f.ScrollView,{flex:"1"},r.default.createElement("div",{className:"lrls-card"},r.default.createElement(m.CategoryCom,{isModify:E,dispatch:n,lastCategory:y,categoryUuid:w,categoryName:_}),r.default.createElement("div",{className:"lrls-more-card lrls-switch lrls-margin-top"},r.default.createElement("label",null,"处理类型:"),r.default.createElement(f.SinglePicker,{disabled:E,district:[{key:"取得借款",value:"XZ_QDJK"},{key:"偿还利息",value:"XZ_CHLX"},{key:"偿还本金",value:"XZ_CHBJ"}],value:O,onOk:function(e){n(s.jkAccountActions.changePropertyCost(e.value)),L&&"XZ_CHLX"===e.value&&n(s.jkAccountActions.getJkPaymentList())}},r.default.createElement(f.Row,{className:"lrls-padding lrls-category"},r.default.createElement("span",null,x),r.default.createElement(f.Icon,{type:"triangle"}))),I&&("STATE_JK_JTLX"==C||!L&&"STATE_JK_ZFLX"==C)?r.default.createElement(f.SwitchText,{checked:Z,checkedChildren:"项目",unCheckedChildren:"",className:"topBarSwitch",onChange:function(e){n(i.homeAccountActions.changeHomeAccountData("project",!Z)),n(Z?s.jkAccountActions.changeJkData("amount",0):s.jkAccountActions.changeJkData("amount",F))}}):null),"XZ_CHLX"===O?r.default.createElement(f.Radio,{disabled:E,list:R,value:C,onChange:function(e){n(s.jkAccountActions.changeJkData("runningState",e)),n(s.jkAccountActions.changeJkData("runningAbstract",(0,m.abstractFun)(e,A))),L&&"STATE_JK_ZFLX"===e&&n(s.jkAccountActions.getJkPaymentList())}}):null),r.default.createElement(f.Row,{className:"lrls-card lrls-line"},r.default.createElement("label",null,"摘要:"),r.default.createElement(f.TextareaItem,{placeholder:"摘要填写",value:T,onChange:function(e){n(s.jkAccountActions.changeJkData("runningAbstract",e))}})),P,r.default.createElement("div",{className:"lrls-card",style:{display:U||"STATE_JK_JTLX"!=C?"":"none"}},r.default.createElement(f.Row,{className:"yysr-amount"},U?r.default.createElement("label",null,"金额："):null,U?r.default.createElement(f.TextListInput,{placeholder:"填写金额",value:j,onChange:function(e){/^\d*\.?\d{0,2}$/g.test(e)&&n(s.jkAccountActions.changeJkData("amount",e))}}):null,U||"STATE_JK_JTLX"==C?null:r.default.createElement("label",null,"账户："),"STATE_JK_JTLX"!=C?r.default.createElement(m.Account,{history:l,accountList:h,accountUuid:z,accountName:S,onOk:function(e){return n(s.jkAccountActions.changeAccount(e))}}):null)),M,r.default.createElement(m.UploadFj,{dispatch:n,enCanUse:Y,editPermission:u,enclosureList:K,showlsfj:q,checkMoreFj:H,label:G,enclosureCountUser:$,history:l}),L&&"STATE_JK_ZFLX"===C?r.default.createElement(f.Row,{className:"lrls-button-wrap"},r.default.createElement("span",{className:"lrls-button",onClick:function(){n(i.homeAccountActions.changeHomeAccountData("categoryType","LB_JK_LS"))}},X?"修改单据":"请选择单据")):null),r.default.createElement(f.ButtonGroup,null,r.default.createElement(f.Button,{onClick:function(){n(s.jkAccountActions.saveRunningbusiness())}},r.default.createElement(f.Icon,{type:"save"}),r.default.createElement("span",null,"保存")),r.default.createElement(f.Button,{onClick:function(){n(s.jkAccountActions.saveRunningbusiness(!0))}},r.default.createElement(f.Icon,{type:"new"}),r.default.createElement("span",null,"保存并新增"))))}}]),t}())||a;t.default=y},1698:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,c,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(0),r=(c=o)&&c.__esModule?c:{default:c},u=n(31),s=(n(9),n(16)),i=n(1351),f=n(1058);var d=(0,u.connect)(function(e){return e})(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),l(t,[{key:"render",value:function(){var e=this.props,t=e.dispatch,n=e.jkAccountState.getIn(["data","paymentList"]),a=0,c=0;return n.forEach(function(e){e.get("beSelect")&&(a++,c+=e.get("notHandleAmount"))}),r.default.createElement(s.Container,{className:"lrls"},r.default.createElement("ul",{className:"lrls-row xczc-ls"},r.default.createElement("li",null,"已勾选流水：",a,"条"),r.default.createElement("li",null,"待支付金额：",r.default.createElement(s.Amount,{showZero:!0},c))),r.default.createElement(s.ScrollView,{ref:"lrlsScrollContainer",flex:"1",uniqueKey:"lrls-scroll",savePosition:!0},n.map(function(e,n){return r.default.createElement(s.Row,{key:n,className:"lrls-card",onClick:function(){e.get("beSelect")?t(i.jkAccountActions.paymentListBeSelect(n,!1)):t(i.jkAccountActions.paymentListBeSelect(n,!0))}},r.default.createElement("div",{className:"xczc-ls-line xczc-ls-top"},r.default.createElement("span",null,r.default.createElement(s.Checkbox,{style:{paddingRight:"10px"},checked:!!e.get("beSelect")}),e.get("flowNumber")),r.default.createElement("span",{className:"xczc-ls-color"},e.get("runningDate"))),r.default.createElement("div",{className:"xczc-ls-line xczc-ls-center"},r.default.createElement("span",{className:"overElli"},"摘要：",e.get("runningAbstract")),r.default.createElement(s.Amount,{showZero:!0},e.get("notHandleAmount"))))})),r.default.createElement(s.ButtonGroup,{style:{backgroundColor:"#F8F8F8"}},r.default.createElement(s.Button,{onClick:function(){t(f.homeAccountActions.changeHomeAccountData("categoryType","LB_JK")),t(i.jkAccountActions.changeJkData("amount",c)),t(i.jkAccountActions.changeJkData("jtAmount",c))}},r.default.createElement(s.Icon,{type:"choose"}),r.default.createElement("span",null,"确定"))))}}]),t}())||a;t.default=d},1699:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,c,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(0),r=(c=o)&&c.__esModule?c:{default:c},u=n(31),s=(n(9),n(1352)),i=n(1058),f=n(16),d=n(123),m=n(1061),g=n(13);function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var y=(0,u.connect)(function(e){return e})(a=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var c=arguments.length,l=Array(c),o=0;o<c;o++)l[o]=arguments[o];return n=a=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.state={showList:!0},p(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),l(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.dispatch,a=t.homeAccountState,c=t.tzAccountState,l=t.history,o=t.homeState,u=t.editPermission,p=this.state.showList,y=a.get("lastCategory"),h=a.get("accountList"),A=c.get("data"),E="modify"===c.getIn(["views","insertOrModify"]),b=c.getIn(["views","fromYl"]),v=A.get("flowNumber"),w=A.get("categoryUuid"),_=A.get("categoryName"),C=A.get("runningState"),S=A.get("accountName"),z=A.get("accountUuid"),N=A.get("runningDate"),T=A.get("runningAbstract"),j=A.get("amount"),k=A.get("jtAmount"),O=A.get("propertyCost"),x={XZ_DWTZ:"对外投资",XZ_QDSY:"取得收益",XZ_SHTZ:"收回投资"}[O],L=A.get("propertyInvest"),R=A.getIn(["acInvest","beAccrued"]),P=[{key:"STATE_TZ_JTGL",value:"计提股利",disabled:!R,message:"流水设置中未启用"},{key:"STATE_TZ_SRGL",value:"收入股利"}];"SX_ZQ"==L&&(P=[{key:"STATE_TZ_JTLX",value:"计提利息",disabled:!R,message:"流水设置中未启用"},{key:"STATE_TZ_SRLX",value:"收入利息"}]);var D=!0;"STATE_TZ_JTGL"!=C&&"STATE_TZ_JTLX"!=C||(D=!1);var I=null,Z=a.get("project"),U=Z.get("usedProject"),F=A.get("beProject"),M=!0,B=0;if(F&&("STATE_TZ_JTGL"==C||"STATE_TZ_JTLX"==C||!R&&("STATE_TZ_SRGL"==C||"STATE_TZ_SRLX"==C))){M=!U,Z.get("projectCard").forEach(function(e){return B+=Number(e.get("amount"))});I=r.default.createElement(m.ProjectCom,{project:Z,dispatch:n,changeAmount:function(e){return n(s.tzAccountActions.changeTzData("amount",e))}})}var X=null,J=A.get("paymentList"),Y=J.some(function(e){return e.get("beSelect")});if(R&&("STATE_TZ_SRGL"===C||"STATE_TZ_SRLX"===C)&&Y&&(X=r.default.createElement(f.Row,{className:"ylls-card"},r.default.createElement("div",{className:"hx-title"},"待收入金额：",r.default.createElement(f.Amount,{showZero:!0},k)),J.map(function(e,t){if(e.get("beSelect"))return r.default.createElement("div",{key:t,className:"ylls-top-line"},r.default.createElement("div",{className:"ylls-item ylls-padding"},r.default.createElement("div",null,"流水号：",e.get("flowNumber")),r.default.createElement("div",{className:"ylls-gray"},e.get("runningDate"))),r.default.createElement("div",{className:"ylls-item"},r.default.createElement("div",{className:"overElli"},"SX_ZQ"==L?"计提利息":"计提股利"),r.default.createElement("div",null,r.default.createElement(f.Amount,{showZero:!0,className:"ylls-bold"},e.get("notHandleAmount")))))}))),b&&R&&("STATE_TZ_SRGL"===C||"STATE_TZ_SRLX"===C)&&J.size){var H="SX_ZQ"==L?"计提利息":"计提股利";X=(0,m.hxCom)(J,p,function(){return e.setState({showList:!p})},H)}var q=o.getIn(["data","userInfo","sobInfo","moduleInfo"]),G=!q||q.indexOf("ENCLOSURE_RUN")>-1,K="TRUE"===o.getIn(["data","userInfo","checkMoreFj"]),$=a.getIn(["flags","showlsfj"]),V=(a.get("previewImageList").toJS(),a.get("label")),W=a.get("enclosureList"),Q=a.get("enclosureCountUser");return r.default.createElement(f.Container,{className:"lrls"},r.default.createElement(d.TopDatePicker,{value:N,onChange:function(e){n(s.tzAccountActions.changeTzData("runningDate",new g.DateLib(e).valueOf())),n(i.homeAccountActions.changeHomeAccountData("runningDate",new g.DateLib(e).valueOf())),R&&"STATE_TZ_SRGL"===C&&n(s.tzAccountActions.getTzPaymentList())},callback:function(e){n(s.tzAccountActions.changeTzData("runningDate",e)),n(i.homeAccountActions.changeHomeAccountData("runningDate",e)),R&&"STATE_TZ_SRGL"===C&&n(s.tzAccountActions.getTzPaymentList())}}),E?r.default.createElement(f.Row,{className:"lrls-row"}," ","流水号： "+v," "):null,r.default.createElement(f.ScrollView,{flex:"1"},r.default.createElement("div",{className:"lrls-card"},r.default.createElement(m.CategoryCom,{isModify:E,dispatch:n,lastCategory:y,categoryUuid:w,categoryName:_}),r.default.createElement("div",{className:"lrls-more-card lrls-switch lrls-margin-top"},r.default.createElement("label",null,"处理类型:"),r.default.createElement(f.SinglePicker,{disabled:E,district:[{key:"对外投资",value:"XZ_DWTZ"},{key:"取得收益",value:"XZ_QDSY"},{key:"收回投资",value:"XZ_SHTZ"}],value:O,onOk:function(e){n(s.tzAccountActions.changePropertyCost(e.value)),R&&"XZ_QDSY"===e.value&&n(s.tzAccountActions.getTzPaymentList())}},r.default.createElement(f.Row,{className:"lrls-padding lrls-category"},r.default.createElement("span",null,x),r.default.createElement(f.Icon,{type:"triangle"}))),!F||"STATE_TZ_JTGL"!=C&&"STATE_TZ_JTLX"!=C&&(R||"STATE_TZ_SRGL"!=C&&"STATE_TZ_SRLX"!=C)?null:r.default.createElement(f.SwitchText,{checked:U,checkedChildren:"项目",unCheckedChildren:"",className:"topBarSwitch",onChange:function(e){n(i.homeAccountActions.changeHomeAccountData("project",!U)),n(U?s.tzAccountActions.changeTzData("amount",0):s.tzAccountActions.changeTzData("amount",B))}})),"XZ_QDSY"===O?r.default.createElement(f.Radio,{disabled:E,list:P,value:C,onChange:function(e){n(s.tzAccountActions.changeTzData("runningState",e)),n(s.tzAccountActions.changeTzData("runningAbstract",(0,m.abstractFun)(e,A))),!R||"STATE_TZ_SRGL"!==e&&"STATE_TZ_SRLX"!==e||n(s.tzAccountActions.getTzPaymentList())}}):null),r.default.createElement(f.Row,{className:"lrls-card lrls-line"},r.default.createElement("label",null,"摘要:"),r.default.createElement(f.TextareaItem,{placeholder:"摘要填写",value:T,onChange:function(e){n(s.tzAccountActions.changeTzData("runningAbstract",e))}})),I,r.default.createElement("div",{className:"lrls-card",style:{display:M||D?"":"none"}},r.default.createElement(f.Row,{className:"yysr-amount"},M?r.default.createElement("label",null,"金额："):null,M?r.default.createElement(f.TextListInput,{placeholder:"填写金额",value:j,onChange:function(e){/^\d*\.?\d{0,2}$/g.test(e)&&n(s.tzAccountActions.changeTzData("amount",e))}}):null,!M&&D?r.default.createElement("label",null,"账户："):null,D?r.default.createElement(m.Account,{history:l,accountList:h,accountUuid:z,accountName:S,onOk:function(e){return n(s.tzAccountActions.changeAccount(e))}}):null)),X,r.default.createElement(m.UploadFj,{dispatch:n,enCanUse:G,editPermission:u,enclosureList:W,showlsfj:$,checkMoreFj:K,label:V,enclosureCountUser:Q,history:l}),R&&("STATE_TZ_SRGL"===C||"STATE_TZ_SRLX"===C)&&J.size?r.default.createElement(f.Row,{className:"lrls-button-wrap"},r.default.createElement("span",{className:"lrls-button",onClick:function(){n(i.homeAccountActions.changeHomeAccountData("categoryType","LB_TZ_LS"))}},Y?"修改单据":"请选择单据")):null),r.default.createElement(f.ButtonGroup,null,r.default.createElement(f.Button,{onClick:function(){n(s.tzAccountActions.saveRunningbusiness())}},r.default.createElement(f.Icon,{type:"save"}),r.default.createElement("span",null,"保存")),r.default.createElement(f.Button,{onClick:function(){n(s.tzAccountActions.saveRunningbusiness(!0))}},r.default.createElement(f.Icon,{type:"new"}),r.default.createElement("span",null,"保存并新增"))))}}]),t}())||a;t.default=y},1700:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,c,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(0),r=(c=o)&&c.__esModule?c:{default:c},u=n(31),s=(n(9),n(16)),i=n(1352),f=n(1058);var d=(0,u.connect)(function(e){return e})(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),l(t,[{key:"render",value:function(){var e=this.props,t=e.dispatch,n=e.tzAccountState.getIn(["data","paymentList"]),a=0,c=0;return n.forEach(function(e){e.get("beSelect")&&(a++,c+=e.get("notHandleAmount"))}),r.default.createElement(s.Container,{className:"lrls"},r.default.createElement("ul",{className:"lrls-row xczc-ls"},r.default.createElement("li",null,"已勾选流水：",a,"条"),r.default.createElement("li",null,"待收入金额：",r.default.createElement(s.Amount,{showZero:!0},c))),r.default.createElement(s.ScrollView,{ref:"lrlsScrollContainer",flex:"1",uniqueKey:"lrls-scroll",savePosition:!0},n.map(function(e,n){return r.default.createElement(s.Row,{key:n,className:"lrls-card",onClick:function(){e.get("beSelect")?t(i.tzAccountActions.paymentListBeSelect(n,!1)):t(i.tzAccountActions.paymentListBeSelect(n,!0))}},r.default.createElement("div",{className:"xczc-ls-line xczc-ls-top"},r.default.createElement("span",null,r.default.createElement(s.Checkbox,{style:{paddingRight:"10px"},checked:!!e.get("beSelect")}),e.get("flowNumber")),r.default.createElement("span",{className:"xczc-ls-color"},e.get("runningDate"))),r.default.createElement("div",{className:"xczc-ls-line xczc-ls-center"},r.default.createElement("span",{className:"overElli"},"摘要：",e.get("runningAbstract")),r.default.createElement(s.Amount,{showZero:!0},e.get("notHandleAmount"))),r.default.createElement("div",{className:"xczc-ls-line xczc-ls-bottom"},r.default.createElement("span",{className:"xczc-ls-color"}," 计提股利")))})),r.default.createElement(s.ButtonGroup,{style:{backgroundColor:"#F8F8F8"}},r.default.createElement(s.Button,{onClick:function(){t(f.homeAccountActions.changeHomeAccountData("categoryType","LB_TZ")),t(i.tzAccountActions.changeTzData("amount",c)),t(i.tzAccountActions.changeTzData("jtAmount",c))}},r.default.createElement(s.Icon,{type:"choose"}),r.default.createElement("span",null,"确定"))))}}]),t}())||a;t.default=d},1701:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,c,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(0),r=(c=o)&&c.__esModule?c:{default:c},u=n(31),s=(n(9),n(1353)),i=n(1058),f=n(16),d=n(123),m=n(1061),g=n(13);function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var y=(0,u.connect)(function(e){return e})(a=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var c=arguments.length,l=Array(c),o=0;o<c;o++)l[o]=arguments[o];return n=a=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.state={showList:!0},p(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),l(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.dispatch,a=t.homeAccountState,c=t.zbAccountState,l=t.history,o=t.homeState,u=t.editPermission,p=this.state.showList,y=a.get("lastCategory"),h=a.get("accountList"),A=c.get("data"),E="modify"===c.getIn(["views","insertOrModify"]),b=c.getIn(["views","fromYl"]),v=A.get("flowNumber"),w=A.get("categoryUuid"),_=A.get("categoryName"),C=A.get("runningState"),S=A.get("accountName"),z=A.get("accountUuid"),N=A.get("runningDate"),T=A.get("runningAbstract"),j=A.get("amount"),k=A.get("jtAmount"),O=A.get("propertyCost"),x={XZ_ZZ:"增资",XZ_LRFP:"利润分配",XZ_JZ:"减资"}[O],L=A.getIn(["acCapital","beAccrued"]),R=[{key:"STATE_ZB_LRFP",value:"利润分配",disabled:!L,message:"流水设置中未启用"},{key:"STATE_ZB_ZFLR",value:"支付利润"}],P=null,D=A.get("paymentList"),I=D.some(function(e){return e.get("beSelect")});if(L&&"STATE_ZB_ZFLR"===C&&I&&(P=r.default.createElement(f.Row,{className:"ylls-card"},r.default.createElement("div",{className:"hx-title"},"待支付金额：",r.default.createElement(f.Amount,{showZero:!0},k)),D.map(function(e,t){if(e.get("beSelect"))return r.default.createElement("div",{key:t,className:"ylls-top-line"},r.default.createElement("div",{className:"ylls-item ylls-padding"},r.default.createElement("div",null,"流水号：",e.get("flowNumber")),r.default.createElement("div",{className:"ylls-gray"},e.get("runningDate"))),r.default.createElement("div",{className:"ylls-item"},r.default.createElement("div",{className:"overElli"},"利润分配"),r.default.createElement("div",null,r.default.createElement(f.Amount,{showZero:!0,className:"ylls-bold"},e.get("notHandleAmount")))))}))),b&&"STATE_ZB_LRFP"===C&&D&&D.size){P=(0,m.hxCom)(D,p,function(){return e.setState({showList:!p})},"利润分配")}var Z=o.getIn(["data","userInfo","sobInfo","moduleInfo"]),U=!Z||Z.indexOf("ENCLOSURE_RUN")>-1,F="TRUE"===o.getIn(["data","userInfo","checkMoreFj"]),M=a.getIn(["flags","showlsfj"]),B=(a.get("previewImageList").toJS(),a.get("label")),X=a.get("enclosureList"),J=a.get("enclosureCountUser");return r.default.createElement(f.Container,{className:"lrls"},r.default.createElement(d.TopDatePicker,{value:N,onChange:function(e){n(s.zbAccountActions.changeZbData("runningDate",new g.DateLib(e).valueOf())),n(i.homeAccountActions.changeHomeAccountData("runningDate",new g.DateLib(e).valueOf())),L&&"STATE_ZB_ZFLR"===C&&n(s.zbAccountActions.getZbPaymentList())},callback:function(e){n(s.zbAccountActions.changeZbData("runningDate",e)),n(i.homeAccountActions.changeHomeAccountData("runningDate",e)),L&&"STATE_ZB_ZFLR"===C&&n(s.zbAccountActions.getZbPaymentList())}}),E?r.default.createElement(f.Row,{className:"lrls-row"}," ","流水号： "+v," "):null,r.default.createElement(f.ScrollView,{flex:"1"},r.default.createElement("div",{className:"lrls-card"},r.default.createElement(m.CategoryCom,{isModify:E,dispatch:n,lastCategory:y,categoryUuid:w,categoryName:_}),r.default.createElement("div",{className:"lrls-more-card lrls-margin-top"},r.default.createElement("label",null,"处理类型:"),r.default.createElement(f.SinglePicker,{disabled:E,district:[{key:"增资",value:"XZ_ZZ"},{key:"利润分配",value:"XZ_LRFP"},{key:"减资",value:"XZ_JZ"}],value:O,onOk:function(e){n(s.zbAccountActions.changePropertyCost(e.value)),L&&"XZ_LRFP"===e.value&&n(s.zbAccountActions.getZbPaymentList())}},r.default.createElement(f.Row,{className:"lrls-padding lrls-category"},r.default.createElement("span",null,x),r.default.createElement(f.Icon,{type:"triangle"})))),"XZ_LRFP"===O?r.default.createElement(f.Radio,{disabled:E,list:R,value:C,onChange:function(e){n(s.zbAccountActions.changeZbData("runningState",e)),n(s.zbAccountActions.changeZbData("runningAbstract",(0,m.abstractFun)(e,A))),L&&"STATE_ZB_ZFLR"===e&&n(s.zbAccountActions.getZbPaymentList())}}):null),r.default.createElement(f.Row,{className:"lrls-card lrls-line"},r.default.createElement("label",null,"摘要:"),r.default.createElement(f.TextareaItem,{placeholder:"摘要填写",value:T,onChange:function(e){n(s.zbAccountActions.changeZbData("runningAbstract",e))}})),r.default.createElement("div",{className:"lrls-card"},r.default.createElement(f.Row,{className:"yysr-amount"},r.default.createElement("label",null,"金额："),r.default.createElement(f.TextListInput,{placeholder:"填写金额",value:j,onChange:function(e){/^\d*\.?\d{0,2}$/g.test(e)&&n(s.zbAccountActions.changeZbData("amount",e))}}),"STATE_ZB_LRFP"!=C?r.default.createElement(m.Account,{history:l,accountList:h,accountUuid:z,accountName:S,onOk:function(e){return n(s.zbAccountActions.changeAccount(e))}}):null)),P,r.default.createElement(m.UploadFj,{dispatch:n,enCanUse:U,editPermission:u,enclosureList:X,showlsfj:M,checkMoreFj:F,label:B,enclosureCountUser:J}),L&&"STATE_ZB_ZFLR"===C?r.default.createElement(f.Row,{className:"lrls-button-wrap"},r.default.createElement("span",{className:"lrls-button",onClick:function(){n(i.homeAccountActions.changeHomeAccountData("categoryType","LB_ZB_LS"))}},I?"修改单据":"请选择单据")):null),r.default.createElement(f.ButtonGroup,null,r.default.createElement(f.Button,{onClick:function(){n(s.zbAccountActions.saveRunningbusiness())}},r.default.createElement(f.Icon,{type:"save"}),r.default.createElement("span",null,"保存")),r.default.createElement(f.Button,{onClick:function(){n(s.zbAccountActions.saveRunningbusiness(!0))}},r.default.createElement(f.Icon,{type:"new"}),r.default.createElement("span",null,"保存并新增"))))}}]),t}())||a;t.default=y},1702:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,c,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(0),r=(c=o)&&c.__esModule?c:{default:c},u=n(31),s=(n(9),n(16)),i=n(1353),f=n(1058);n(13);var d=(0,u.connect)(function(e){return e})(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),l(t,[{key:"render",value:function(){var e=this.props,t=e.dispatch,n=e.zbAccountState.getIn(["data","paymentList"]),a=0,c=0;return n.forEach(function(e){e.get("beSelect")&&(a++,c+=e.get("notHandleAmount"))}),r.default.createElement(s.Container,{className:"lrls"},r.default.createElement("ul",{className:"lrls-row xczc-ls"},r.default.createElement("li",null,"已勾选流水：",a,"条"),r.default.createElement("li",null,"待支付金额：",r.default.createElement(s.Amount,{showZero:!0},c))),r.default.createElement(s.ScrollView,{ref:"lrlsScrollContainer",flex:"1",uniqueKey:"lrls-scroll",savePosition:!0},n.map(function(e,n){return r.default.createElement(s.Row,{key:n,className:"lrls-card",onClick:function(){e.get("beSelect")?t(i.zbAccountActions.paymentListBeSelect(n,!1)):t(i.zbAccountActions.paymentListBeSelect(n,!0))}},r.default.createElement("div",{className:"xczc-ls-line xczc-ls-top"},r.default.createElement("span",null,r.default.createElement(s.Checkbox,{style:{paddingRight:"10px"},checked:!!e.get("beSelect")}),e.get("flowNumber")),r.default.createElement("span",{className:"xczc-ls-color"},e.get("runningDate"))),r.default.createElement("div",{className:"xczc-ls-line xczc-ls-center"},r.default.createElement("span",{className:"overElli"},"摘要：",e.get("runningAbstract")),r.default.createElement(s.Amount,{showZero:!0},e.get("notHandleAmount"))),r.default.createElement("div",{className:"xczc-ls-line xczc-ls-bottom"},r.default.createElement("span",{className:"xczc-ls-color"},"利润分配")))})),r.default.createElement(s.ButtonGroup,null,r.default.createElement(s.Button,{onClick:function(){t(f.homeAccountActions.changeHomeAccountData("categoryType","LB_ZB")),t(i.zbAccountActions.changeZbData("amount",c)),t(i.zbAccountActions.changeZbData("jtAmount",c))}},r.default.createElement(s.Icon,{type:"choose"}),r.default.createElement("span",null,"确定"))))}}]),t}())||a;t.default=d},1703:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,c,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(0),r=(c=o)&&c.__esModule?c:{default:c},u=n(31),s=(n(9),n(16)),i=n(123),f=n(1061),d=(y(n(10)),n(13)),m=y(n(25)),g=n(1345),p=n(1058);function y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var h=(0,u.connect)(function(e){return e})(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),l(t,[{key:"render",value:function(){var e=this.props,t=e.dispatch,n=e.homeAccountState,a=e.ggfyftAccountState,c=e.homeState,l=e.editPermission,o=e.history,u=n.get("lastCategory"),y=a.get("data"),h="modify"===a.getIn(["views","insertOrModify"]),A=y.get("categoryUuid"),E=y.get("categoryName"),b=y.get("runningDate"),v=y.get("runningAbstract"),w=y.get("totalAmount"),_=a.get("projectCardList").toJS(),C=y.get("selectCardList"),S=C.toJS().map(function(e){return e.uuid}),z=_.filter(function(e){return!S.includes(e.value.split(m.TREE_JOIN_STR)[0])}),N=function(e,n,a){return t(g.ggfyftAccountActions.changeGgfyftProjectCard(e,n,a))},T=1==C.size,j=null,k=a.get("hxList"),O=k.some(function(e){return e.get("beSelect")});O&&(j=r.default.createElement(s.Row,{className:"ylls-card"},r.default.createElement("div",{className:"hx-title"},"待分摊金额：",r.default.createElement(s.Amount,{showZero:!0},w)),k.map(function(e,t){if(e.get("beSelect"))return r.default.createElement("div",{key:t,className:"ylls-top-line"},r.default.createElement("div",{className:"ylls-item ylls-padding"},r.default.createElement("div",{className:"overElli"},e.get("categoryName")),r.default.createElement("div",{className:"ylls-gray"},"流水号：",e.get("flowNumber"))),r.default.createElement("div",{className:"ylls-item"},r.default.createElement("div",{className:"overElli"},e.get("runningAbstract")),r.default.createElement("div",null,r.default.createElement(s.Amount,{className:"ylls-bold",showZero:!0},e.get("amount")))))})));var x=c.getIn(["data","userInfo","sobInfo","moduleInfo"]),L=!x||x.indexOf("ENCLOSURE_RUN")>-1,R="TRUE"===c.getIn(["data","userInfo","checkMoreFj"]),P=n.getIn(["flags","showlsfj"]),D=(n.get("previewImageList").toJS(),n.get("label")),I=n.get("enclosureList"),Z=n.get("enclosureCountUser");return r.default.createElement(s.Container,{className:"lrls"},r.default.createElement(i.TopDatePicker,{value:b,onChange:function(e){t(g.ggfyftAccountActions.changeGgfyftData("runningDate",new d.DateLib(e).valueOf())),t(p.homeAccountActions.changeHomeAccountData("runningDate",new d.DateLib(e).valueOf())),t(g.ggfyftAccountActions.getGgfyftList())},callback:function(e){t(g.ggfyftAccountActions.changeGgfyftData("runningDate",e)),t(p.homeAccountActions.changeHomeAccountData("runningDate",e)),t(g.ggfyftAccountActions.getGgfyftList())}}),r.default.createElement(s.ScrollView,{flex:"1"},r.default.createElement("div",{className:"lrls-card"},r.default.createElement(f.CategoryCom,{isModify:h,dispatch:t,lastCategory:u,categoryUuid:A,categoryName:E})),r.default.createElement("div",{className:"lrls-card lrls-line"},r.default.createElement("label",null,"摘要："),r.default.createElement(s.TextareaItem,{placeholder:"摘要填写",value:v,onChange:function(e){t(g.ggfyftAccountActions.changeGgfyftData("runningAbstract",e))}})),r.default.createElement("div",{className:"lrls-card"},r.default.createElement("div",null,C.map(function(e,t){return r.default.createElement("div",{key:t,style:{paddingBottom:T?"0":"10px"}},r.default.createElement("div",{className:"lrls-more-card lrls-placeholder lrls-bottom"},r.default.createElement("span",null,"项目(",t+1,")"),r.default.createElement("span",{className:"lrls-blue",style:{display:T?"none":""},onClick:function(){N("delete","",t)}},"删除")),r.default.createElement("div",{className:"lrls-more-card lrls-bottom"},r.default.createElement("label",null,"项目:"),r.default.createElement(s.SinglePicker,{district:z,value:e.get("uuid")?""+e.get("uuid")+m.TREE_JOIN_STR+e.get("code")+m.TREE_JOIN_STR+e.get("name"):"",onOk:function(e){N("card",e.value,t)}},r.default.createElement(s.Row,{className:"lrls-category lrls-padding"},e.get("uuid")?r.default.createElement("span",null," ",e.get("code")+" "+e.get("name")," "):r.default.createElement("span",{className:"lrls-placeholder"},"点击选择项目"),r.default.createElement(s.Icon,{type:"triangle"})))),r.default.createElement(s.Row,{className:"lrls-more-card lrls-bottom"},r.default.createElement("label",null,"分摊金额："),r.default.createElement(s.TextListInput,{disabled:!O,placeholder:"填写分摊金额",value:e.get("amount"),onChange:function(e){(/^[-\d]\d*\.?\d{0,2}$/g.test(e)||""==e)&&N("amount",e,t)}})),r.default.createElement(s.Row,{className:"lrls-more-card lrls-bottom"},r.default.createElement("label",null,"分摊占比："),r.default.createElement(s.TextListInput,{disabled:!O,placeholder:"填写占比率",value:e.get("percent"),onChange:function(e){/^\d*\.?\d{0,2}$/g.test(e)&&N("percent",e,t)}}),r.default.createElement("span",{className:"lrls-margin-left"},"%")))}),r.default.createElement("div",{className:"lrls-more-card",style:{fontWeight:"bold"}},r.default.createElement("div",null),r.default.createElement("div",{className:"lrls-blue",onClick:function(){N("add","",C.size)}},"+添加项目")))),j,r.default.createElement(f.UploadFj,{dispatch:t,enCanUse:L,editPermission:l,enclosureList:I,showlsfj:P,checkMoreFj:R,label:D,enclosureCountUser:Z,history:o}),r.default.createElement(s.Row,{className:"lrls-button-wrap"},r.default.createElement("span",{className:"lrls-button",onClick:function(){t(p.homeAccountActions.changeHomeAccountData("categoryType","LB_GGFYFT_LS"))}},O?"修改单据":"请选择单据"))),r.default.createElement(s.ButtonGroup,null,r.default.createElement(s.Button,{onClick:function(){t(g.ggfyftAccountActions.saveRunningbusiness())}},r.default.createElement(s.Icon,{type:"save"}),r.default.createElement("span",null,"保存")),r.default.createElement(s.Button,{onClick:function(){t(g.ggfyftAccountActions.saveRunningbusiness(!0))}},r.default.createElement(s.Icon,{type:"new"}),r.default.createElement("span",null,"保存并新增"))))}}]),t}())||a;t.default=h},1704:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,c,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(0),r=(c=o)&&c.__esModule?c:{default:c},u=n(31),s=(n(9),n(16)),i=(m(n(25)),m(n(1064))),f=n(1058),d=n(1345);function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var g=(0,u.connect)(function(e){return e})(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),l(t,[{key:"render",value:function(){var e=this.props,t=e.dispatch,n=e.ggfyftAccountState,a=(n.get("data"),n.getIn(["views","insertOrModify"]),n.get("hxList")),c=0,l=0,o=!1;return a.forEach(function(e){e.get("beSelect")&&(c++,l+=e.get("amount"),o=!0)}),r.default.createElement(s.Container,{className:"lrls"},r.default.createElement("ul",{className:"lrls-row xczc-ls"},r.default.createElement("li",null,"已勾选流水：",c,"条"),r.default.createElement("li",null,"合计金额：",r.default.createElement(s.Amount,{showZero:!0},l))),r.default.createElement(s.ScrollView,{ref:"lrlsScrollContainer",flex:"1",uniqueKey:"lrls-scroll",savePosition:!0},a.map(function(e,n){var a=!1;return o&&l*e.get("amount")<0&&(a=!0),r.default.createElement(s.Row,{key:n,className:"lrls-card",onClick:function(){a||(e.get("beSelect")?t(d.ggfyftAccountActions.hxListBeSelect(n,!1)):t(d.ggfyftAccountActions.hxListBeSelect(n,!0)))}},r.default.createElement("div",{className:"xczc-ls-line xczc-ls-top"},r.default.createElement("span",null,r.default.createElement(s.Checkbox,{style:{paddingRight:"10px"},checked:!!e.get("beSelect"),onChange:function(){},disabled:a}),e.get("flowNumber")),r.default.createElement("span",{className:"xczc-ls-color"},e.get("runningDate"))),r.default.createElement("div",{className:"xczc-ls-line xczc-ls-center"},r.default.createElement("span",{className:"overElli"},e.get("categoryName")),r.default.createElement(s.Amount,{showZero:!0},e.get("amount"))),r.default.createElement("div",{className:"xczc-ls-line xczc-ls-center"},r.default.createElement("span",{className:"overElli"},"摘要：",e.get("runningAbstract")),r.default.createElement("span",null)),r.default.createElement("div",{className:"xczc-ls-line xczc-ls-bottom"},r.default.createElement("span",{className:"xczc-ls-color"},i.runningType[e.get("runningType")])))})),r.default.createElement(s.ButtonGroup,null,r.default.createElement(s.Button,{onClick:function(){t(f.homeAccountActions.changeHomeAccountData("categoryType","LB_GGFYFT")),t(d.ggfyftAccountActions.changeGgfyftData("totalAmount",l)),t(d.ggfyftAccountActions.autoCalculate())}},r.default.createElement(s.Icon,{type:"choose"}),r.default.createElement("span",null,"确定"))))}}]),t}())||a;t.default=g},1705:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,c,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(0),r=(c=o)&&c.__esModule?c:{default:c},u=n(31),s=(n(9),n(16)),i=n(123),f=n(1061),d=n(1348),m=n(1058),g=n(13),p=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(10));var y=(0,u.connect)(function(e){return e})(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),l(t,[{key:"render",value:function(){var e=this.props,t=e.dispatch,n=e.homeAccountState,a=e.jzsyAccountState,c=e.homeState,l=e.editPermission,o=e.history,u=n.get("lastCategory"),y=a.get("data"),h=a.get("categoryList"),A="modify"===a.getIn(["views","insertOrModify"]),E=y.get("categoryUuid"),b=y.get("categoryName"),v=y.get("topCategoryUuid"),w=y.get("topCategoryName"),_=y.get("runningDate"),C=y.get("runningAbstract"),S=y.get("flowNumber"),z=y.get("amount"),N=y.getIn(["acAssets","originalAssetsAmount"]),T=y.getIn(["acAssets","depreciationAmount"]),j=Number(T)+Number(z)-Number(N),k=null,O=a.get("hxList"),x=O.some(function(e){return e.get("beSelect")});x&&(k=r.default.createElement(s.Row,{className:"ylls-card"},r.default.createElement("div",{className:"hx-title"},"处置收入金额：",r.default.createElement(s.Amount,{showZero:!0},z)),O.map(function(e,t){if(e.get("beSelect"))return r.default.createElement("div",{key:t,className:"ylls-top-line"},r.default.createElement("div",{className:"ylls-item ylls-padding"},r.default.createElement("div",{className:"overElli"},e.get("categoryName")),r.default.createElement("div",{className:"ylls-gray"},"流水号：",e.get("flowNumber"))),r.default.createElement("div",{className:"ylls-item"},r.default.createElement("span",{className:"ylls-blue"}),r.default.createElement("div",null,r.default.createElement(s.Amount,{className:"ylls-bold",showZero:!0},e.get("amount")-Number(e.get("tax"))))))})));var L=null,R=y.get("beProject"),P=n.get("project"),D=P.get("usedProject");R&&(L=r.default.createElement(f.ProjectCom,{project:P,dispatch:t,noAmount:!0,noMore:!0}));var I=c.getIn(["data","userInfo","sobInfo","moduleInfo"]),Z=!I||I.indexOf("ENCLOSURE_RUN")>-1,U="TRUE"===c.getIn(["data","userInfo","checkMoreFj"]),F=n.getIn(["flags","showlsfj"]),M=(n.get("previewImageList").toJS(),n.get("label")),B=n.get("enclosureList"),X=n.get("enclosureCountUser");return r.default.createElement(s.Container,{className:"iuManage-config lrls"},r.default.createElement(i.TopDatePicker,{value:_,onChange:function(e){A||(t(d.jzsyAccountActions.changeJzsyData(["data","runningDate"],new g.DateLib(e).valueOf())),t(m.homeAccountActions.changeHomeAccountData("runningDate",new g.DateLib(e).valueOf())),t(d.jzsyAccountActions.getJzsyList()))},callback:function(e){A||(t(d.jzsyAccountActions.changeJzsyData(["data","runningDate"],e)),t(m.homeAccountActions.changeHomeAccountData("runningDate",e)),t(d.jzsyAccountActions.getJzsyList()))}}),r.default.createElement(s.ScrollView,{flex:"1"},A?r.default.createElement(s.Row,{className:"lrls-row"}," ","流水号： "+S," "):null,r.default.createElement("div",{className:"lrls-card"},r.default.createElement(f.CategoryCom,{isModify:A,dispatch:t,lastCategory:u,categoryUuid:v,categoryName:w}),r.default.createElement(s.Row,{className:"lrls-more-card lrls-margin-top lrls-switch"},r.default.createElement("label",null,"处理类别: "),r.default.createElement("div",{className:"antd-single-picker"},r.default.createElement(s.TreeSelect,{district:h.getIn([0,"childList"]).toJS(),value:E,disabled:A,onChange:function(e){t(d.jzsyAccountActions.changeJzsyData(["data","categoryUuid"],e.uuid)),t(d.jzsyAccountActions.changeJzsyData(["data","categoryName"],e.name)),t(d.jzsyAccountActions.changeJzsyData(["data","beProject"],e.beProject)),t(d.jzsyAccountActions.getJzsyList()),e.beProject&&!R&&t(m.homeAccountActions.getProjectCardList(e.projectRange))}},r.default.createElement(s.Row,{className:"lrls-padding lrls-category",onClick:function(e){if(0==h.getIn([0,"childList"]).size)return e.stopPropagation(),p.toast.info("无处理类别，请在流水设置-长期资产中新建",2)}},r.default.createElement("span",{className:"请选择类别"==b?"lrls-placeholder":""},b),r.default.createElement(s.Icon,{type:"triangle",style:{color:A?"#ccc":""}})))),R?r.default.createElement(s.SwitchText,{checked:D,checkedChildren:"项目",unCheckedChildren:"",className:"topBarSwitch",onChange:function(e){t(m.homeAccountActions.changeHomeAccountData("project",!D))}}):null)),r.default.createElement("div",{className:"lrls-card lrls-line"},r.default.createElement("label",null,"摘要："),r.default.createElement(s.TextareaItem,{placeholder:"摘要填写",value:C,onChange:function(e){t(d.jzsyAccountActions.changeJzsyData(["data","runningAbstract"],e))}})),L,r.default.createElement("div",{className:"lrls-card"},r.default.createElement(s.Row,null,r.default.createElement("label",{style:{marginRight:".15rem"}},j>=0?"净收益金额：":"净损失金额："),r.default.createElement(s.Amount,{showZero:!0},Math.abs(j))),r.default.createElement(s.Row,{className:"yysr-amount margin-top-bot lrls-jzsy"},r.default.createElement("label",null,"资产原值:"),r.default.createElement(s.TextListInput,{placeholder:"请填写资产原值",value:N,onChange:function(e){/^\d*\.?\d{0,2}$/g.test(e)&&t(d.jzsyAccountActions.changeJzsyData(["data","acAssets","originalAssetsAmount"],e))}})),r.default.createElement(s.Row,{className:"yysr-amount margin-top-bot lrls-jzsy"},r.default.createElement("label",null,"累计折旧余额:"),r.default.createElement(s.TextListInput,{placeholder:"请填写累计折旧余额",value:T,onChange:function(e){/^\d*\.?\d{0,2}$/g.test(e)&&t(d.jzsyAccountActions.changeJzsyData(["data","acAssets","depreciationAmount"],e))}}))),k,r.default.createElement(f.UploadFj,{dispatch:t,enCanUse:Z,editPermission:l,enclosureList:B,showlsfj:F,checkMoreFj:U,label:M,enclosureCountUser:X,history:o}),r.default.createElement(s.Row,{className:"lrls-button-wrap"},r.default.createElement("span",{className:"lrls-button",onClick:function(){if(""==E)return p.toast.info("请选择处理类别",2);t(m.homeAccountActions.changeHomeAccountData("categoryType","LB_JZSY_LS"))}},x?"修改单据":"请选择单据"))),r.default.createElement(s.ButtonGroup,null,r.default.createElement(s.Button,{onClick:function(){t(d.jzsyAccountActions.saveRunningbusiness())}},r.default.createElement(s.Icon,{type:"save"}),r.default.createElement("span",null,"保存")),r.default.createElement(s.Button,{onClick:function(){t(d.jzsyAccountActions.saveRunningbusiness(!0))}},r.default.createElement(s.Icon,{type:"new"}),r.default.createElement("span",null,"保存并新增"))))}}]),t}())||a;t.default=y},1706:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,c,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(0),r=(c=o)&&c.__esModule?c:{default:c},u=n(31),s=(n(9),n(16)),i=n(1058),f=n(1348);var d=(0,u.connect)(function(e){return e})(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),l(t,[{key:"render",value:function(){var e=this.props,t=e.dispatch,n=e.jzsyAccountState.get("hxList"),a=0,c=0;return n.forEach(function(e){e.get("beSelect")&&(a++,c+=e.get("amount"))}),r.default.createElement(s.Container,{className:"lrls"},r.default.createElement("ul",{className:"lrls-row xczc-ls"},r.default.createElement("li",null,"已勾选流水：",a,"条"),r.default.createElement("li",null,"处置收入金额：",r.default.createElement(s.Amount,{showZero:!0},c))),r.default.createElement(s.ScrollView,{ref:"lrlsScrollContainer",flex:"1",uniqueKey:"lrls-scroll",savePosition:!0},n.map(function(e,n){return r.default.createElement(s.Row,{key:n,className:"lrls-card",onClick:function(){e.get("beSelect")?t(f.jzsyAccountActions.jzsyHxListBeCheck(n,!1)):t(f.jzsyAccountActions.jzsyHxListBeCheck(n,!0))}},r.default.createElement("div",{className:"xczc-ls-line xczc-ls-top"},r.default.createElement("span",null,r.default.createElement(s.Checkbox,{style:{paddingRight:"10px"},checked:!!e.get("beSelect")}),e.get("flowNumber")),r.default.createElement("span",{className:"xczc-ls-color"},e.get("runningDate"))),r.default.createElement("div",{className:"xczc-ls-line xczc-ls-center"},r.default.createElement("span",{className:"overElli"},e.get("categoryName")),r.default.createElement(s.Amount,{showZero:!0},e.get("amount")-Number(e.get("tax")))))})),r.default.createElement(s.ButtonGroup,null,r.default.createElement(s.Button,{onClick:function(){t(i.homeAccountActions.changeHomeAccountData("categoryType","LB_JZSY")),t(f.jzsyAccountActions.changeJzsyData(["data","amount"],c))}},r.default.createElement(s.Icon,{type:"choose"}),r.default.createElement("span",null,"确定"))))}}]),t}())||a;t.default=d},1707:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,c,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(0),r=(c=o)&&c.__esModule?c:{default:c},u=n(31),s=n(9),i=n(16),f=n(123),d=n(1061),m=n(1394),g=n(1058),p=n(13),y=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(10));var h=(0,u.connect)(function(e){return e})(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),l(t,[{key:"render",value:function(){var e=this.props,t=e.dispatch,n=e.homeAccountState,a=e.zjtxAccountState,c=e.homeState,l=e.editPermission,o=e.history,u=n.get("lastCategory"),h=a.get("data"),A=a.get("categoryList"),E="modify"===a.getIn(["views","insertOrModify"]),b=h.get("categoryUuid"),v=h.get("categoryName"),w=h.get("topCategoryUuid"),_=h.get("topCategoryName"),C=h.get("runningDate"),S=h.get("runningAbstract"),z=h.get("amount"),N=h.get("flowNumber"),T=h.get("acAssets"),j=h.get("propertyCostList"),k=(0,d.costList)(j),O=h.get("propertyCost"),x=(0,d.propertyCostObj)(T,O).get("propertyCostName"),L=null,R=h.get("beProject"),P=n.get("project"),D=P.get("usedProject");R&&(L=r.default.createElement(d.ProjectCom,{project:P,dispatch:t,noAmount:!0,noMore:!0,showCommon:!0}));var I=c.getIn(["data","userInfo","sobInfo","moduleInfo"]),Z=!I||I.indexOf("ENCLOSURE_RUN")>-1,U="TRUE"===c.getIn(["data","userInfo","checkMoreFj"]),F=n.getIn(["flags","showlsfj"]),M=(n.get("previewImageList").toJS(),n.get("label")),B=n.get("enclosureList"),X=n.get("enclosureCountUser");return r.default.createElement(i.Container,{className:"iuManage-config lrls"},r.default.createElement(f.TopDatePicker,{value:C,onChange:function(e){E||(t(m.zjtxAccountActions.changeZjtxData(["data","runningDate"],new p.DateLib(e).valueOf())),t(g.homeAccountActions.changeHomeAccountData("runningDate",new p.DateLib(e).valueOf())))},callback:function(e){E||(t(m.zjtxAccountActions.changeZjtxData(["data","runningDate"],e)),t(g.homeAccountActions.changeHomeAccountData("runningDate",e)))}}),r.default.createElement(i.ScrollView,{flex:"1"},E?r.default.createElement(i.Row,{className:"lrls-row"}," ","流水号： "+N," "):null,r.default.createElement("div",{className:"lrls-card"},r.default.createElement(d.CategoryCom,{isModify:E,dispatch:t,lastCategory:u,categoryUuid:w,categoryName:_}),r.default.createElement(i.Row,{className:"lrls-more-card lrls-margin-top lrls-switch"},r.default.createElement("label",null,"处理类别: "),r.default.createElement("div",{className:"antd-single-picker"},r.default.createElement(i.TreeSelect,{district:A.getIn([0,"childList"]).toJS(),value:b,disabled:E,onChange:function(e){t(m.zjtxAccountActions.selectCategory((0,s.fromJS)(e))),e.beProject&&!R&&t(g.homeAccountActions.getProjectCardList(e.projectRange))}},r.default.createElement(i.Row,{className:"lrls-padding lrls-category",onClick:function(e){if(0==A.getIn([0,"childList"]).size)return e.stopPropagation(),y.toast.info("无处理类别，请在流水设置-长期资产中新建",2)}},r.default.createElement("span",{className:"请选择类别"==v?"lrls-placeholder":""},v),r.default.createElement(i.Icon,{type:"triangle",style:{color:E?"#ccc":""}})))),R?r.default.createElement(i.SwitchText,{checked:D,checkedChildren:"项目",unCheckedChildren:"",className:"topBarSwitch",onChange:function(e){t(g.homeAccountActions.changeHomeAccountData("project",!D))}}):null),k.length>1?r.default.createElement(i.Row,{className:"lrls-more-card lrls-margin-top"},r.default.createElement("label",null,"费用性质: "),r.default.createElement(i.SinglePicker,{district:k,value:O,onOk:function(e){t(m.zjtxAccountActions.changeZjtxData(["data","propertyCost"],e.value))}},r.default.createElement(i.Row,{className:"lrls-padding lrls-category"},r.default.createElement("span",{className:"请选择费用性质"!=x?"":"lrls-placeholder"},x),r.default.createElement(i.Icon,{type:"triangle"})))):null),r.default.createElement("div",{className:"lrls-card zjtx"},r.default.createElement(i.Row,{className:"lrls-line lrls-bottom"},r.default.createElement("label",null,"摘要："),r.default.createElement(i.TextareaItem,{placeholder:"摘要填写",value:S,onChange:function(e){t(m.zjtxAccountActions.changeZjtxData(["data","runningAbstract"],e))}})),L,r.default.createElement(i.Row,{className:"lrls-more-card"},r.default.createElement("label",null,"金额："),r.default.createElement(i.TextListInput,{placeholder:"填写金额",value:z,onChange:function(e){/^\d*\.?\d{0,2}$/g.test(e)&&t(m.zjtxAccountActions.changeZjtxData(["data","amount"],e))}})),r.default.createElement(d.UploadFj,{dispatch:t,enCanUse:Z,editPermission:l,enclosureList:B,showlsfj:F,checkMoreFj:U,label:M,enclosureCountUser:X,history:o}))),r.default.createElement(i.ButtonGroup,null,r.default.createElement(i.Button,{onClick:function(){t(m.zjtxAccountActions.saveRunningbusiness())}},r.default.createElement(i.Icon,{type:"save"}),r.default.createElement("span",null,"保存")),r.default.createElement(i.Button,{onClick:function(){t(m.zjtxAccountActions.saveRunningbusiness(!0))}},r.default.createElement(i.Icon,{type:"new"}),r.default.createElement("span",null,"保存并新增"))))}}]),t}())||a;t.default=h},954:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.view=t.reducer=void 0;var a=j(n(1647)),c=j(n(1058)),l=j(n(1341)),o=j(n(1342)),r=j(n(1343)),u=j(n(1224)),s=j(n(1280)),i=j(n(1395)),f=j(n(1279)),d=j(n(1297)),m=j(n(1299)),g=j(n(1298)),p=j(n(1344)),y=j(n(1345)),h=j(n(1346)),A=j(n(1347)),E=j(n(1349)),b=j(n(1350)),v=j(n(1351)),w=j(n(1352)),_=j(n(1353)),C=j(n(1253)),S=j(n(1348)),z=j(n(1394)),N=j(n(1067)),T=j(n(186));function j(e){return e&&e.__esModule?e:{default:e}}var k={homeAccountState:c.default,yysrAccountState:l.default,yyzcAccountState:o.default,fyzcAccountState:r.default,xczcAccountState:u.default,sfzcAccountState:s.default,nbzzAccountState:i.default,sfglAccountState:f.default,jzcbAccountState:d.default,kjfpAccountState:m.default,fprzAccountState:g.default,zcwjzzsAccountState:p.default,ggfyftAccountState:y.default,yywsrAccountState:h.default,yywzcAccountState:A.default,zskxAccountState:E.default,zfkxAccountState:b.default,jkAccountState:v.default,tzAccountState:w.default,zbAccountState:_.default,cqzcAccountState:C.default,jzsyAccountState:S.default,zjtxAccountState:z.default,yllsState:N.default,previewEnclosureState:T.default};t.reducer=k,t.view=a.default}}]);