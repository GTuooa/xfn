(window.webpackJsonp=window.webpackJsonp||[]).push([[106],{1084:function(e,t,n){},1383:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.INIT_EXTRA_INFORMATION="INIT_EXTRA_INFORMATION",t.SET_EXTRA_INFORMATION_LIST="SET_EXTRA_INFORMATION_LIST",t.CHANGE_EXTRA_INFO_LIST_DELETE_TYOPE="CHANGE_EXTRA_INFO_LIST_DELETE_TYOPE",t.SET_EXTRA_INFO_DELETE_LIST="SET_EXTRA_INFO_DELETE_LIST",t.EMPTY_EXTRA_INFO_DELETE_LIST="EMPTY_EXTRA_INFO_DELETE_LIST",t.CHANGE_EXTRA_INFO_NAME="CHANGE_EXTRA_INFO_NAME",t.CHANGE_EXTRA_INFO_NUMERATOR="CHANGE_EXTRA_INFO_NUMERATOR",t.CHANGE_DENOMINATOR_VALUE="CHANGE_DENOMINATOR_VALUE",t.CHANGE_DENOMINATOR_NAME="CHANGE_DENOMINATOR_NAME",t.CHANGE_EXTRA_INFO_ENABLE_TYPE="CHANGE_EXTRA_INFO_ENABLE_TYPE",t.SET_EXTAR_INFO_INIT_DATA="SET_EXTAR_INFO_INIT_DATA",t.SET_EXTAR_INFO_INIT_ISCHANGE="SET_EXTAR_INFO_INIT_ISCHANGE",t.SET_EXTAR_INFO_INIT_ISDEFUALT="SET_EXTAR_INFO_INIT_ISDEFUALT"},1428:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deleteExtraMessage=t.updateExtraMessage=t.setNewExtraMessage=t.setExtraInfoIsDefualt=t.setExtraInfoIsChange=t.setExtraInfoInitData=t.changeSettingEnable=t.changeDenominatorName=t.changeDenomiatorValue=t.changeNumerator=t.changeName=t.emptyDeleteList=t.setDeleteList=t.changeExtraInfoListType=t.getExtraInformationList=void 0;var a=l(n(188));n(189);var o=i(n(1383)),r=l(n(24)),u=(i(n(181)),n(13));i(n(25)),i(n(10));function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function l(e){return e&&e.__esModule?e:{default:e}}var f=t.getExtraInformationList=function(){return function(e,t){var n=t().homeState.getIn(["data","userInfo"]).get("sobInfo"),a=n.get("newJr"),i=!!n&&(n.get("moduleInfo").indexOf("RUNNING")>-1&&a);(0,r.default)(i?"getJrExtraMessage":"getSelfTypeListExtraMessage","GET","",function(t){(0,u.showMessage)(t)&&e({type:o.SET_EXTRA_INFORMATION_LIST,data:t.data})})}};t.changeExtraInfoListType=function(e){return function(t){t({type:o.CHANGE_EXTRA_INFO_LIST_DELETE_TYOPE,value:e})}},t.setDeleteList=function(e){return function(t,n){t({type:o.SET_EXTRA_INFO_DELETE_LIST,id:e})}},t.emptyDeleteList=function(){return function(e){e({type:o.EMPTY_EXTRA_INFO_DELETE_LIST})}},t.changeName=function(e){return function(t){t({type:o.CHANGE_EXTRA_INFO_NAME,name:e})}},t.changeNumerator=function(e){return function(t){t({type:o.CHANGE_EXTRA_INFO_NUMERATOR,value:e})}},t.changeDenomiatorValue=function(e){return function(t){t({type:o.CHANGE_DENOMINATOR_VALUE,value:e})}},t.changeDenominatorName=function(e){return function(t){t({type:o.CHANGE_DENOMINATOR_NAME,value:e})}},t.changeSettingEnable=function(e){return function(t){t({type:o.CHANGE_EXTRA_INFO_ENABLE_TYPE,bool:e})}},t.setExtraInfoInitData=function(e){return function(t){t({type:o.SET_EXTAR_INFO_INIT_DATA,name:e?e.name:"",denominatorName:e?e.denominatorName:"",denominatorValue:e?e.denominatorValue:"",enable:!!e&&e.enable,numerator:e?e.numerator:1,id:e?e.id:""})}},t.setExtraInfoIsChange=function(e){return function(t){t({type:o.SET_EXTAR_INFO_INIT_ISCHANGE,bool:e})}},t.setExtraInfoIsDefualt=function(e){return function(t){t({type:o.SET_EXTAR_INFO_INIT_ISDEFUALT,bool:e})}},t.setNewExtraMessage=function(e){return function(t,n){var o=n().extraInformationState,i=o.get("name"),l=o.get("denominatorName"),f=o.get("denominatorValue"),E=o.get("enable"),c=o.get("numerator"),s=n().homeState.getIn(["data","userInfo"]).get("sobInfo"),_=s.get("newJr"),N=!!s&&(s.get("moduleInfo").indexOf("RUNNING")>-1&&_);(0,r.default)(N?"setJrNewExtraMessage":"setNewExtraMessage","POST",JSON.stringify({name:i,denominatorName:l,denominatorValue:f,enable:E,numerator:c}),function(t){(0,u.showMessage)(t)&&(a.default.info("操作成功",1),e.goBack())})}},t.updateExtraMessage=function(e){return function(t,n){var o=n().extraInformationState,i=o.get("name"),l=o.get("denominatorName"),f=o.get("denominatorValue"),E=o.get("enable"),c=o.get("numerator"),s=o.get("id"),_=n().homeState.getIn(["data","userInfo"]).get("sobInfo"),N=_.get("newJr"),I=!!_&&(_.get("moduleInfo").indexOf("RUNNING")>-1&&N);(0,r.default)(I?"updateJrExtraMessage":"updateExtraMessage","POST",JSON.stringify({name:i,denominatorName:l,denominatorValue:f,enable:E,numerator:c,id:s}),function(t){(0,u.showMessage)(t)&&(a.default.info("操作成功",1),e.goBack())})}},t.deleteExtraMessage=function(){return function(e,t){var n=t().extraInformationState.get("deleteList"),i=t().homeState.getIn(["data","userInfo"]).get("sobInfo"),l=i.get("newJr"),E=!!i&&(i.get("moduleInfo").indexOf("RUNNING")>-1&&l);(0,r.default)(E?"deleteJrExtraMessage":"deleteExtraMessage","POST",JSON.stringify({idList:n}),function(t){(0,u.showMessage)(t)&&(a.default.info("操作成功",1),e({type:o.CHANGE_EXTRA_INFO_LIST_DELETE_TYOPE,value:!1}),e({type:o.EMPTY_EXTRA_INFO_DELETE_LIST}),e(f()))})}}},2281:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o=s(n(188)),r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(189);var u=s(n(0)),i=(n(9),n(31)),l=n(16),f=c(n(10));c(n(181));n(1084);var E=c(n(1428));function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function s(e){return e&&e.__esModule?e:{default:e}}var _=l.Form.Item,N=(0,i.connect)(function(e){return e})(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default.Component),r(t,[{key:"componentDidMount",value:function(){f.setTitle({title:"修改附加信息"}),f.setIcon({showIcon:!1}),f.setRight({show:!1})}},{key:"render",value:function(){var e=this.props,t=e.extraInformationState,n=(e.allState,e.dispatch),a=e.history,r=t.get("name"),i=t.get("denominatorName"),f=t.get("denominatorValue"),c=t.get("enable"),s=t.get("numerator"),N=[{key:"营业收入",value:1},{key:"营业利润",value:5},{key:"营业净利润",value:9},{key:"营业成本",value:2}],I=t.get("isChange"),d=t.get("isDefault");return u.default.createElement(l.Container,{className:"extra-info-setting"},u.default.createElement(l.ScrollView,{flex:"1"},u.default.createElement(l.Form,null,u.default.createElement(_,{label:"名称",showAsterisk:!d,className:"config-form-item-input-style"},d?u.default.createElement("div",{style:{color:"#ccc"}},r):u.default.createElement(l.TextInput,{placeholder:"请输入名称",disabled:d,value:r,onChange:function(e){n(E.changeName(e))}})),u.default.createElement(_,{label:"运算项分子",className:"config-form-item-input-style"},u.default.createElement(l.Single,{district:N,value:s,disabled:d,onOk:function(e){n(E.changeNumerator(e.value))}},u.default.createElement(l.Row,{className:d?"config-form-item-select-item config-form-item-disabled":"config-form-item-select-item"},N.find(function(e){return e.value===s}).key))," ",u.default.createElement(l.Icon,{type:"arrow-right",size:"14",style:{color:d?"rgb(204, 204, 204)":""}})),u.default.createElement(_,{label:"运算项分母",showAsterisk:!d,className:"config-form-item-input-style"},u.default.createElement(l.TextListInput,{placeholder:d?"坪效"===r?"请输入面积":"请输入人数":"请输入分母",value:f,onChange:function(e){""===e?n(E.changeDenomiatorValue(e)):/^\d*\.?\d{0,2}$/g.test(e)&&n(E.changeDenomiatorValue(e))}})),u.default.createElement(_,{label:"单位",showAsterisk:!d,className:d?"config-form-item-input-style-disabled":"config-form-item-input-style"},d?u.default.createElement("div",{style:{color:"#ccc"}},i):u.default.createElement(l.TextInput,{placeholder:"请输入单位",value:i,disabled:d,onChange:function(e){n(E.changeDenominatorName(e))}})),u.default.createElement(_,{label:"启用/停用",className:"config-form-item-input-style"},u.default.createElement("span",{className:"noTextSwitchShort"},u.default.createElement(l.Switch,{checked:c,onClick:function(){n(E.changeSettingEnable(!c))}}))))),u.default.createElement(l.ButtonGroup,null,u.default.createElement(l.Button,{onClick:function(){a.goBack()}},u.default.createElement(l.Icon,{type:"cancel",size:"15"}),"取消"),u.default.createElement(l.Button,{onClick:function(){""===r?o.default.info("名称不能为空",1):r.length>6?o.default.info("名称长度不能超过6位",1):!f&&c?o.default.info("运算项分母不能为空",1):""===i?o.default.info("单位不能为空",1):Number(i)>=1e7?o.default.info("运算项分母不可超过1000万",1):0===f?o.default.info("运算项分母不能为0",1):n(I?E.updateExtraMessage(a):E.setNewExtraMessage(a))}},u.default.createElement(l.Icon,{type:"save",size:"15"}),"保存")))}}]),t}())||a;t.default=N},973:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.view=t.reducer=void 0;var a,o=n(2281),r=(a=o)&&a.__esModule?a:{default:a};t.reducer={},t.view=r.default}}]);