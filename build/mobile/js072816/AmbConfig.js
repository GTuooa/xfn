(window.webpackJsonp=window.webpackJsonp||[]).push([[66],{1013:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.view=t.reducer=void 0;var s,a=n(2485),o=(s=a)&&s.__esModule?s:{default:s};t.reducer={},t.view=o.default},1211:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.changeAssTypeName=t.changeAssTypeConfirmModalVisible=t.changeAssConfigNewName=t.changeAssConfigOldName=t.changeAssConfigShowType=t.reversAssFetch=t.showReversConfirmModal=t.changeReversNewAssId=t.checkReversAssIdFetch=t.changeReversAssCategory=t.changeAssDisableState=t.hideAllAssCheckBox=t.showAllAssCheckBox=t.beforeInsertAss=t.beforeModifyAss=t.changeTabIndexAcAssconfig=t.changeTabIndexAssConfig=t.changeAssCategory=t.changeAssName=t.changeAssId=t.setAssrelateAMB=t.getAssrelateAMB=t.getAssGetAMB=void 0;var s,a=n(13),o=c(n(1226)),_=n(24),r=(s=_)&&s.__esModule?s:{default:s},A=c(n(10)),i=c(n(25));function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}t.getAssGetAMB=function(){return function(e){A.toast.loading(i.LOADING_TIP_TEXT,0),(0,r.default)("assgetAMB","GET","",function(t){(0,a.showMessage)(t)&&(A.toast.hide(),e({type:o.AFTER_ASSGETAMB_GET,receivedData:t.data}))})}},t.getAssrelateAMB=function(e,t){return function(n){A.Confirm({message:"确定开通辅助核算类别["+e.get(0)+"]为默认阿米巴？",title:"提示",buttonLabels:["取消","确定"],onSuccess:function(n){1===n.buttonIndex&&(A.toast.loading(i.LOADING_TIP_TEXT,0),(0,r.default)("assrelateAMB","POST",JSON.stringify({assCategoryList:e}),function(e){(0,a.showMessage)(e,"show")&&t.goBack()}))},onFail:function(e){return alert(e)}})}},t.setAssrelateAMB=function(e){return{type:o.SET_ASSRELATE_AMB,asscategory:e}},t.changeAssId=function(e){return{type:o.CHANGE_ASS_ID,assid:e}},t.changeAssName=function(e){return{type:o.CHANGE_ASS_NAME,assname:e}},t.changeAssCategory=function(e){return{type:o.CHANGE_ASS_CATEGORY,asscategory:e}},t.changeTabIndexAssConfig=function(e){return{type:o.CHANGE_TAB_INDEX_ASSCONFIG,idx:e}},t.changeTabIndexAcAssconfig=function(e){return{type:o.CHANGE_TAB_INDEX_AC_ASSCONFIG,idx:e}},t.beforeModifyAss=function(e,t){return{type:o.BEFORE_MODIFY_ASS,ass:e,idx:t}},t.beforeInsertAss=function(e){return{type:o.BEFORE_INSERT_ASS,tab:e}},t.showAllAssCheckBox=function(){return{type:o.SHOW_ALL_ASS_CHECKBOX}},t.hideAllAssCheckBox=function(){return{type:o.HIDE_ALL_ASS_CHECKBOX}},t.changeAssDisableState=function(){return{type:o.CHANGE_ASS_DISABLE_STATE}},t.changeReversAssCategory=function(e){return{type:o.CHANGE_REVERS_ASS_CATEGORY,assCategory:e}},t.checkReversAssIdFetch=function(e,t,n){return function(s){A.toast.loading(i.LOADING_TIP_TEXT,0),(0,r.default)("assCheck","POST",JSON.stringify({assCategory:e,assId:t,assName:n}),function(e){if((0,a.showMessage)(e)){if(A.toast.hide(),!e.data.message.length)return(0,a.showMessage)("","","",t+"不需要使用反悔模式");s({type:o.CHECK_REVERS_ASS_ID_CHECK,assId:t,assName:n,assMessage:e.data.message})}})}},t.changeReversNewAssId=function(e){return{type:o.CHANGE_REVERS_NEW_ASS_ID,newAssId:e}};var E=t.showReversConfirmModal=function(e){return{type:o.SHOW_REVERS_CONFIR_MODAL,bool:e}};t.reversAssFetch=function(e,t){return function(n){A.toast.loading(i.LOADING_TIP_TEXT,0),(0,r.default)("assRegret","POST",JSON.stringify({assCategory:e.get("assCategory"),oldAssId:e.get("oldAssId"),assId:e.get("assId"),assName:e.get("assName")}),function(e){(0,a.showMessage)(e)&&(A.toast.hide(),n(E(!1)),t.goBack())})}},t.changeAssConfigShowType=function(){return function(e){e({type:o.CHANGE_ASS_CONFIG_SHOW_TYPE})}},t.changeAssConfigOldName=function(e){return function(t){t({type:o.SET_ASS_CONFIG_OLD_NAME,value:e})}},t.changeAssConfigNewName=function(e){return function(t){t({type:o.SET_ASS_CONFIG_NEW_NAME,value:e})}},t.changeAssTypeConfirmModalVisible=function(e){return function(t){t({type:o.CHANGE_ASS_TYPE_CHANGE_COMFIRM_MODAL_VISIBLE,visible:e})}},t.changeAssTypeName=function(e,t,n){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"false";return function(_){A.toast.loading(i.LOADING_TIP_TEXT,0),(0,r.default)("changeAssName","POST",JSON.stringify({oldName:e,newName:t,confirmModifyAnyWay:s}),function(e){(0,a.showMessage)(e)&&(e.data.countMoreThenRestrict?_({type:o.CHANGE_ASS_TYPE_CHANGE_COMFIRM_MODAL_VISIBLE,visible:!0}):(_({type:o.CHANGE_ASS_TYPE_CHANGE_COMFIRM_MODAL_VISIBLE,visible:!1}),_({type:o.CHANGE_ASS_CONFIG_SHOW_TYPE}),_({type:o.SET_ASS_CONFIG_OLD_NAME,value:""}),_({type:o.SET_ASS_CONFIG_NEW_NAME,value:""}),A.toast.hide(),_(E(!1)),n.goBack()))})}}},1226:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.INIT_ASSCONFIG="INIT_ASSCONFIG",t.CHANGE_TAB_INDEX_ASSCONFIG="CHANGE_TAB_INDEX_ASSCONFIG",t.CHANGE_TAB_INDEX_AC_ASSCONFIG="CHANGE_TAB_INDEX_AC_ASSCONFIG",t.CHANGE_ASS_ID="CHANGE_ASS_ID",t.CHANGE_ASS_NAME="CHANGE_ASS_NAME",t.CHANGE_ASS_CATEGORY="CHANGE_ASS_CATEGORY",t.BEFORE_MODIFY_ASS="BEFORE_MODIFY_ASS",t.BEFORE_INSERT_ASS="BEFORE_INSERT_ASS",t.MODIFY_ASS_FETCH="MODIFY_ASS_FETCH",t.INSERT_ASS_FETCH="INSERT_ASS_FETCH",t.SHOW_ALL_ASS_CHECKBOX="SHOW_ALL_ASS_CHECKBOX",t.HIDE_ALL_ASS_CHECKBOX="HIDE_ALL_ASS_CHECKBOX",t.AFTER_ASSGETAMB_GET="AFTER_ASSGETAMB_GET",t.SET_ASSRELATE_AMB="SET_ASSRELATE_AMB",t.CHANGE_ASS_DISABLE_STATE="CHANGE_ASS_DISABLE_STATE",t.CHANGE_REVERS_ASS_CATEGORY="CHANGE_REVERS_ASS_CATEGORY",t.CHECK_REVERS_ASS_ID_CHECK="CHECK_REVERS_ASS_ID_CHECK",t.CHANGE_REVERS_NEW_ASS_ID="CHANGE_REVERS_NEW_ASS_ID",t.SHOW_REVERS_CONFIR_MODAL="SHOW_REVERS_CONFIR_MODAL",t.CHANGE_ASS_CONFIG_SHOW_TYPE="CHANGE_ASS_CONFIG_SHOW_TYPE",t.SET_ASS_CONFIG_OLD_NAME="SET_ASS_CONFIG_OLD_NAME",t.SET_ASS_CONFIG_NEW_NAME="SET_ASS_CONFIG_NEW_NAME",t.CHANGE_ASS_TYPE_CHANGE_COMFIRM_MODAL_VISIBLE="CHANGE_ASS_TYPE_CHANGE_COMFIRM_MODAL_VISIBLE"},1459:function(e,t,n){},2485:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,a,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),_=n(0),r=(a=_)&&a.__esModule?a:{default:a},A=(n(9),n(31)),i=S(n(1211)),c=n(16),E=S(n(10));function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}n(1459);c.Form.Item;var u=(0,A.connect)(function(e){return e})(s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),o(t,[{key:"componentDidMount",value:function(){E.setTitle({title:"阿米巴类别设置"}),E.setRight({show:!1}),E.setIcon({showIcon:!1}),this.props.dispatch(i.getAssGetAMB())}},{key:"render",value:function(){var e=this.props,t=e.allState,n=e.dispatch,s=e.assconfigState,a=e.history,o=(s.get("ambCount"),s.get("amAassCategoryList")),_=t.get("acasslist").filter(function(e){return e.get("aclist").some(function(e){return 0===e.get("acid").indexOf("5")})}).map(function(e){return{key:e.get("asscategory"),value:e.get("asscategory")}});return r.default.createElement(c.Container,{className:"ass-option"},r.default.createElement(c.Row,{flex:"1"},r.default.createElement(c.Single,{className:"info-select",district:_,onOk:function(e){return n(i.setAssrelateAMB(e.value))}},r.default.createElement("div",{className:"info-select-show",style:{borderBottom:"0"}},r.default.createElement("label",null,"默认类别："),r.default.createElement("span",null,o.get(0)))),r.default.createElement("ul",{className:"form-tip"},_.size?"":r.default.createElement("li",{className:"form-tip-item"},"提示：",r.default.createElement("span",{className:"text-underline"},"当前没有辅助核算类别关联损益类科目，请前往辅助核算设置关联；")),r.default.createElement("li",{className:"form-tip-item"},"前提：阿米巴类别必须关联损益类科目；"),r.default.createElement("li",{className:"form-tip-item"},"可将任一关联类损益类科目的辅助核算类别开通阿米巴功能；"),r.default.createElement("li",{className:"form-tip-item"},"可更改阿米巴类别。"))),r.default.createElement(c.ButtonGroup,{type:"ghost",height:50},r.default.createElement(c.Button,{onClick:function(){return a.goBack()}},r.default.createElement(c.Icon,{type:"cancel"}),r.default.createElement("span",null,"取消")),r.default.createElement(c.Button,{disabled:!o.size,onClick:function(){return n(i.getAssrelateAMB(o,a))}},r.default.createElement(c.Icon,{type:"kaitong"}),r.default.createElement("span",null,"开通"))))}}]),t}())||s;t.default=u}}]);