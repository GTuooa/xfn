(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{1249:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.changeSelectLabeListAllDisplay=t.changeLabelFromSelect=t.changeLabelInput=t.changeSelectLabelStatus=t.initAssetsStatus=t.copyCardFetch=t.cancelClearCard=t.clearCardFetch=t.changeDetailCard=t.changeCardRemark=t.beforeMofifyCard=t.enterCard=t.changeCardClassificationName=t.changeCardAssetsName=t.changeStartUseTime=t.changeUseMonth=t.changeCardOriginalValue=t.changeCardSalvage=t.changeCardNunber=t.changeCardName=t.getAssetsCardFetch=t.getCardNumberFetch=t.deleteSingleCard=t.deleteAssetsItem=t.enterClassification=t.selectallAssetsCheckbox=t.cancelAssetsCheckbox=t.changeAssetsCheckbox=t.selectAssetsItem=t.enterClassificationOrCardAsslist=t.enterAssetsAsslist=t.getclassificationFetch=t.assetsSelectAc=t.assetsToAc=t.changeRemark=t.beforeInsertClassification=t.changeClassificationId=t.changeSerialName=t.changeDefaultUseMonth=t.changeSalvage=t.changeTabIndexAssetsconfig=t.toggleLowerAssets=t.showAllModifyButton=t.changeCardDetailList=t.getAssestsListFetch=void 0;var s,n=S(a(1442)),A=a(24),i=(s=A)&&s.__esModule?s:{default:s},E=(a(9),a(13)),_=S(a(10)),r=S(a(25));function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}t.getAssestsListFetch=function(){return function(e){_.toast.loading(r.LOADING_TIP_TEXT,0),(0,i.default)("initclassification","GET","",function(t){(0,E.showMessage)(t)&&(_.toast.hide(),e({type:n.GET_ASSESTS_LIST_FETCH,receivedData:t.data}))}),(0,i.default)("getlabelList","GET","",function(t){(0,E.showMessage)(t)&&e({type:n.GET_LABEL_LIST,receivedData:t})})}},t.changeCardDetailList=function(e){return{type:n.GET_ASSESTS_LIST_FETCH,receivedData:e}},t.showAllModifyButton=function(){return{type:n.SHOW_ALL_MODIFY_BUTTON}},t.toggleLowerAssets=function(e){return{type:n.TOGGLE_LOWER_ASSETS,id:e}},t.changeTabIndexAssetsconfig=function(e){return{type:n.CHANGE_TAB_INDEX_ASSETSCONFIG,idx:e}},t.changeSalvage=function(e){return{type:n.CHANGE_SALVAGE,value:e}},t.changeDefaultUseMonth=function(e){return{type:n.CHANGE_DEFAULT_USE_MONTH,value:e}},t.changeSerialName=function(e){return{type:n.CHANGE_SERIAL_NAME,name:e}},t.changeClassificationId=function(e,t){return{type:n.CHANGE_CLASSIFICATION_ID,id:e,upperAssetsNumber:t}},t.beforeInsertClassification=function(e,t,a){return function(s){_.toast.loading(r.LOADING_TIP_TEXT,0),(0,i.default)("getclassification","POST",JSON.stringify({serialNumber:e}),function(A){(0,E.showMessage)(A)&&(_.toast.hide(),s({type:n.BEFORE_INSERT_CLASSIFICATION,currentassetsindex:e,newassetsId:t,upperAssetsName:a,receivedData:A.data}))})}},t.changeRemark=function(e){return{type:n.CHANGE_REMARK,remark:e}},t.assetsToAc=function(e,t){return{type:n.ASSETS_TO_AC,selectAcIndex:e,classificationOrCard:t}},t.assetsSelectAc=function(e,t,a,s){return function(t,A){var i=A().assetsState.get("selectAcIndex"),E=A().assetsState.get("classificationOrCard");t({type:n.ASSETS_SELECT_AC,acid:e,acname:a,asscategorylist:s,selectAcIndex:i,classificationOrCard:E})}},t.getclassificationFetch=function(e){return function(t){_.toast.loading(r.LOADING_TIP_TEXT,0),(0,i.default)("getclassification","POST",JSON.stringify({serialNumber:e}),function(e){(0,E.showMessage)(e)&&(_.toast.hide(),t({type:n.GET_CLASSIFICATION_FETCH,receivedData:e}))})}},t.enterAssetsAsslist=function(e){return{type:n.ENTER_ASSETS_ASSLIST,value:e}},t.enterClassificationOrCardAsslist=function(e,t,a,s){return{type:n.ENTER_CLASSIFICATION_OR_CARD_ASSLIST,value:e,classificationOrCard:t,strAsslist:a,idx:s}},t.selectAssetsItem=function(e){return{type:n.SELECT_ASSETS_ITEM,idx:e}},t.changeAssetsCheckbox=function(){return{type:n.CHANGE_ASSETS_CHECKBOX}};var c=t.cancelAssetsCheckbox=function(e){return{type:n.CANCEL_ASSETS_CHECKBOX,bool:e}},T=(t.selectallAssetsCheckbox=function(){return{type:n.SELECT_ALL_ASSETS_CHECKBOX}},t.enterClassification=function(e){return function(t,a){var s=a().assetsState.get("classification"),A=a().assetsState.get("assetsConfigMode");return 0===s.get("serialName").length?(0,E.showMessage)("","","","辅助类别名称未输入"):E.configCheck.hasChiness(s.get("serialName"))?(0,E.showMessage)("","","","名称包含中文及中文标点字符，长度不能超过"+r.AC_CHINESE_NAME_LENGTH+"位；不包含中文及中文标点字符，长度不能超过"+r.AC_NAME_LENGTH+"位"):(_.toast.loading(r.LOADING_TIP_TEXT,0),void{modify:function(){(0,i.default)("modifyclassification","POST",JSON.stringify(s),function(a){(0,E.showMessage)(a)&&(_.toast.hide(),t({type:n.AFTER_ENTER_CLASSIFICATION}),e.goBack())})},insert:function(){(0,i.default)("insertclassification","POST",JSON.stringify(s),function(a){(0,E.showMessage)(a)&&(_.toast.hide(),t({type:n.AFTER_ENTER_CLASSIFICATION}),e.goBack())})}}[A]())}},t.deleteAssetsItem=function(){return function(e,t){_.Confirm({message:"确定删除？",title:"提示",buttonLabels:["取消","确定"],onSuccess:function(a){if(1===a.buttonIndex){_.toast.loading(r.LOADING_TIP_TEXT,0);var s=t().assetsState.get("assetslist").filter(function(e){return e.get("checked")&&3===e.get("serialNumber").length}).map(function(e){return e.get("serialNumber")}),A=t().assetsState.get("assetslist").filter(function(e){return e.get("checked")&&7===e.get("serialNumber").length}).map(function(e){return e.get("serialNumber").substr(3)});0!==s.size?(0,i.default)("deleteclassification","POST",JSON.stringify({cfNumList:s}),function(t){(0,E.showMessage)(t)&&((0,i.default)("initclassification","GET","",function(t){t.code?(0,E.showMessage)(t):e({type:n.GET_ASSESTS_LIST_FETCH,receivedData:t.data})}),C(t),e(c(!1)))}):0!==A.size&&(_.toast.loading(r.LOADING_TIP_TEXT,0),(0,i.default)("deleteassetscard","POST",JSON.stringify({cardNumList:A}),function(t){(0,E.showMessage)(t)&&((0,i.default)("initclassification","GET","",function(t){t.code?(0,E.showMessage)(t):e({type:n.GET_ASSESTS_LIST_FETCH,receivedData:t.data})}),T(t),e(c(!1)))}))}},onFail:function(e){return alert(e)}})}},t.deleteSingleCard=function(e,t){_.Confirm({message:"确定删除？",title:"提示",buttonLabels:["取消","确定"],onSuccess:function(a){1===a.buttonIndex&&(_.toast.loading(r.LOADING_TIP_TEXT,0),(0,i.default)("deleteassetscard","POST",JSON.stringify({cardNumList:[e]}),function(e){e.code?(0,E.showMessage)(e):(T(e),t.goBack())}))}})},function(e){var t=e.data.message;t?_.toast.fail(t,2):_.toast.success("删除成功",2)}),C=function(e){e.data&&e.data.length?_.Alert(e.data.join(";")):_.toast.success("删除成功",2)},o=t.getCardNumberFetch=function(e){return function(t){e&&t({type:n.CHANGE_CARD_PERIOD,cardInputPeriod:e}),_.toast.loading(r.LOADING_TIP_TEXT,0),(0,i.default)("getmaxcardnumber","GET","",function(e){(0,E.showMessage)(e)?(_.toast.hide(),t({type:n.GET_CARDNUMBER_FETCH,receivedData:e})):16308===e.code&&(_.toast.hide(),t({type:n.GET_CARDNUMBER_FETCH,receivedData:{data:""}}))})}},u=t.getAssetsCardFetch=function(e,t,a){return function(s){_.toast.loading(r.LOADING_TIP_TEXT,0),(0,i.default)("getassetscard","POST",JSON.stringify({cardNumber:e}),function(e){(0,E.showMessage)(e)&&(_.toast.hide(),s({type:n.GET_ASSETS_CARD_FETCH,receivedData:e,oldSerialNumber:t}),setTimeout(function(){return a.push("/assets/assetsoption/card")},0))})}};t.changeCardName=function(e){return{type:n.CHANGE_CARD_NAME,name:e}},t.changeCardNunber=function(e){return function(t){/^\d{0,4}$/g.test(e)||""===e?t({type:n.CHANGE_CARD_NUNBER,value:e}):_.toast.info("卡片编码仅支持4位数字",1)}},t.changeCardSalvage=function(e){return{type:n.CHANGE_CARD_SALVAGE,salvage:e}},t.changeCardOriginalValue=function(e){return{type:n.CHANGE_CARD_ORIGINAL_VALUE,cardValue:e}},t.changeUseMonth=function(e){return{type:n.CHANGE_USE_MONTH,monthValue:e}},t.changeStartUseTime=function(e,t){return{type:n.CHANGE_START_USE_TIME,value:e,issuedate:t}},t.changeCardAssetsName=function(e){return function(t){var a=e.split("_");t({type:n.CHANGE_CARD_ASSETS_NAME,value:e}),_.toast.loading(r.LOADING_TIP_TEXT,0),(0,i.default)("getclassification","POST",JSON.stringify({serialNumber:a[0]}),function(e){(0,E.showMessage)(e)&&(_.toast.hide(),t({type:n.CARD_AFTER_GET_CLASSIFICATION,receivedData:e}))})}},t.changeCardClassificationName=function(e){return function(t){var a=e.split("_");t({type:n.CHANGE_CARD_CLASSIFICATION_NAME,value:e}),_.toast.loading(r.LOADING_TIP_TEXT,0),(0,i.default)("getclassification","POST",JSON.stringify({serialNumber:a[0]}),function(e){(0,E.showMessage)(e)&&(_.toast.hide(),t({type:n.CARD_AFTER_GET_CLASSIFICATION,receivedData:e}))})}},t.enterCard=function(e,t,a,s,A,S,c){return function(T,C){T({type:n.BEFORE_ENTER_CARD,residualValue:e,monthlyDepreciation:t,alreadyDepreciationTime:a,sumDepreciation:s,earlyNetWorth:A});var N=C().assetsState.get("card"),l=C().assetsState.get("assetslist"),f=N.get("assetsNumber"),I=l.filter(function(e){return 0===e.get("serialNumber").indexOf(f)&&3===e.get("serialNumber").length}),g=N.get("cardNumber"),d=N.get("classificationNumber");if(""===N.get("assetsName"))return(0,E.showMessage)("","","","资产分类未选择");if(0!==I.size&&""===N.get("classificationName"))return(0,E.showMessage)("","","","辅助分类未选择");if(0===N.get("cardNumber").length)return(0,E.showMessage)("","","","卡片编码未输入");if(0===N.get("cardName").length)return(0,E.showMessage)("","","","卡片名称未输入");if(E.configCheck.hasChiness(N.get("cardName")))return(0,E.showMessage)("","","","名称包含中文及中文标点字符，长度不能超过"+r.AC_CHINESE_NAME_LENGTH+"位；不包含中文及中文标点字符，长度不能超过"+r.AC_NAME_LENGTH+"位");if(N.get("remark").length>45)return _.Alert("备注字数不能大于45个");if(""===N.get("cardValue"))return(0,E.showMessage)("","","","原值未输入");if(0===N.get("cardValue"))return(0,E.showMessage)("","","","原值不能为0");if(""===N.get("salvage"))return(0,E.showMessage)("","","","残值率未输入");if(""===N.get("startTime"))return(0,E.showMessage)("","","","开始使用期间未输入");if(""===N.get("totalMonth"))return(0,E.showMessage)("","","","默认使用总期限未输入");if(0==N.get("totalMonth"))return(0,E.showMessage)("","","","默认使用总期限不能为0");if(""===N.get("debitName"))return(0,E.showMessage)("","","","财务处理借方科目未选择");if(""===N.get("creditName"))return(0,E.showMessage)("","","","财务处理贷方科目未选择");var L=C().assetsState.get("assetsCardMode");_.toast.loading(r.LOADING_TIP_TEXT,0),{modify:function(){(0,i.default)("modifyassetscard","POST",JSON.stringify(N),function(e){(0,E.showMessage)(e)&&(_.toast.hide(),T(u(g,d,c)))})},insert:function(){(0,i.default)("insertassetscard","POST",JSON.stringify(N),function(e){(0,E.showMessage)(e)&&"save"===S?(_.toast.hide(),T(o())):(0,E.showMessage)(e)&&"save"!==S&&c.goBack()})}}[L]()}},t.beforeMofifyCard=function(){return{type:n.BEFORE_MOFIFY_CARD}},t.changeCardRemark=function(e){return{type:n.CHANGE_CARD_REMARK,remark:e}},t.changeDetailCard=function(){return{type:n.CHANGE_DETAIL_CARD}},t.clearCardFetch=function(e,t,a,s){return function(A){(0,i.default)("clearcard","POST",JSON.stringify({cardNumber:t}),function(t){(0,E.showMessage)(t)&&A({type:n.CHANGE_CARD_STATUS,status:e,openedmonth:a,openedyear:s})})}},t.cancelClearCard=function(e,t){return function(a){(0,i.default)("cancelclearcard","POST",JSON.stringify({cardNumber:t}),function(t){(0,E.showMessage)(t)&&a({type:n.CHANGE_CARD_STATUS,status:e})})}},t.copyCardFetch=function(e,t){return function(a,s){var n=s().assetsState.get("card");_.toast.loading(r.LOADING_TIP_TEXT,0),(0,i.default)("copyassetscard","POST",JSON.stringify({cardNumber:n.get("cardNumber"),copyNum:e}),function(e){(0,E.showMessage)(e)&&t.goBack()})}},t.initAssetsStatus=function(){return{type:n.INIT_ASSETS_STATUS}},t.changeSelectLabelStatus=function(e){return{type:n.CHANGE_SELECTLABEL_STATUS,status:e}},t.changeLabelInput=function(e,t){return{type:n.CHANGE_LABELINPUT,value:e,labelList:t}},t.changeLabelFromSelect=function(e,t){return{type:n.CHANGE_LABEL_FROM_SELECT,value:e,labelList:t}},t.changeSelectLabeListAllDisplay=function(){return{type:n.CHANGE_SELECT_LABELIST_ALL_DISPLAY}}},1442:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.INIT_ASSETS="INIT_ASSETS",t.INIT_ASSETS_STATUS="INIT_ASSETS_STATUS",t.INIT_ASSETS_CARD="INIT_ASSETS_CARD",t.INIT_ASSETS_CLASSIFICATION="INIT_ASSETS_CLASSIFICATION",t.GET_LABEL_LIST="GET_LABEL_LIST",t.GET_ASSESTS_LIST_FETCH="GET_ASSESTS_LIST_FETCH",t.DETAIL_ENTO_CARD="DETAIL_ENTO_CARD",t.SHOW_ALL_MODIFY_BUTTON="SHOW_ALL_MODIFY_BUTTON",t.TOGGLE_LOWER_ASSETS="TOGGLE_LOWER_ASSETS",t.CHANGE_SALVAGE="CHANGE_SALVAGE",t.CHANGE_DEFAULT_USE_MONTH="CHANGE_DEFAULT_USE_MONTH",t.CHANGE_SERIAL_NAME="CHANGE_SERIAL_NAME",t.CHANGE_CLASSIFICATION_ID="CHANGE_CLASSIFICATION_ID",t.CHANGE_REMARK="CHANGE_REMARK",t.BEFORE_INSERT_CLASSIFICATION="BEFORE_INSERT_CLASSIFICATION",t.ASSETS_SELECT_AC="ASSETS_SELECT_AC",t.GET_CLASSIFICATION_FETCH="GET_CLASSIFICATION_FETCH",t.ENTER_ASSETS_ASSLIST="ENTER_ASSETS_ASSLIST",t.AFTER_ENTER_CLASSIFICATION="AFTER_ENTER_CLASSIFICATION",t.ENTER_CLASSIFICATION_OR_CARD_ASSLIST="ENTER_CLASSIFICATION_OR_CARD_ASSLIST",t.SELECT_ASSETS_ITEM="SELECT_ASSETS_ITEM",t.CHANGE_ASSETS_CHECKBOX="CHANGE_ASSETS_CHECKBOX",t.CANCEL_ASSETS_CHECKBOX="CANCEL_ASSETS_CHECKBOX",t.SELECT_ALL_ASSETS_CHECKBOX="SELECT_ALL_ASSETS_CHECKBOX",t.CHANGE_TAB_INDEX_ASSETSCONFIG="CHANGE_TAB_INDEX_ASSETSCONFIG",t.ASSETS_TO_AC="ASSETS_TO_AC",t.GET_ASSETS_CARD_FETCH="GET_ASSETS_CARD_FETCH",t.CHANGE_CARD_PERIOD="CHANGE_CARD_PERIOD",t.GET_CARDNUMBER_FETCH="GET_CARDNUMBER_FETCH",t.CHANGE_CARD_NAME="CHANGE_CARD_NAME",t.CHANGE_CARD_NUNBER="CHANGE_CARD_NUNBER",t.CARD_AFTER_GET_CLASSIFICATION="CARD_AFTER_GET_CLASSIFICATION",t.CHANGE_CARD_REMARK="CHANGE_CARD_REMARK",t.CHANGE_CARD_SALVAGE="CHANGE_CARD_SALVAGE",t.CHANGE_CARD_ORIGINAL_VALUE="CHANGE_CARD_ORIGINAL_VALUE",t.CHANGE_USE_MONTH="CHANGE_USE_MONTH",t.CHANGE_START_USE_TIME="CHANGE_START_USE_TIME",t.CHANGE_CARD_ASSETS_NAME="CHANGE_CARD_ASSETS_NAME",t.CHANGE_CARD_CLASSIFICATION_NAME="CHANGE_CARD_CLASSIFICATION_NAME",t.BEFORE_ENTER_CARD="BEFORE_ENTER_CARD",t.BEFORE_MOFIFY_CARD="BEFORE_MOFIFY_CARD",t.CHANGE_DETAIL_CARD="CHANGE_DETAIL_CARD",t.CHANGE_CARD_STATUS="CHANGE_CARD_STATUS",t.CHANGE_SELECTLABEL_STATUS="CHANGE_SELECTLABEL_STATUS",t.CHANGE_SELECT_LABELIST_ALL_DISPLAY="CHANGE_SELECT_LABELIST_ALL_DISPLAY",t.CHANGE_LABELINPUT="CHANGE_LABELINPUT",t.CHANGE_LABEL_FROM_SELECT="CHANGE_LABEL_FROM_SELECT"}}]);