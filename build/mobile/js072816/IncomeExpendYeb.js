(window.webpackJsonp=window.webpackJsonp||[]).push([[93],{1067:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.yllsActions=t.ActionTypes=void 0,t.default=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return((e={},d(e,E.GET_YLLS_SINGLE_ACCOUNT,function(){var e=sessionStorage.getItem("ylPage");return t.set("data",(0,i.fromJS)(n.receivedData)).setIn([e+"Data","selectedIndex"],n.selectedIndex).setIn([e+"Data","idx"],n.idx)}),d(e,E.GET_YLLS_PREAMOUNT,function(){return t.setIn(["preData","preAmount"],n.data.preAmount).setIn(["preData","receiveAmount"],n.data.amount)}),d(e,E.GET_YLLS_UNTREATEDAMOUNT,function(){var e=0,a=0;return({accumulationAmount:function(){e=n.receivedData[n.amountType]+t.getIn(["data","acPayment","personAccumulationAmount"]),t=t.setIn(["data","accumulationAmount"],e)},socialSecurityAmount:function(){a=n.receivedData[n.amountType]+t.getIn(["data","acPayment","personSocialSecurityAmount"]),t=t.setIn(["data","socialSecurityAmount"],a)}}[n.amountType]||function(){return null})(),t}),e)[n.type]||function(){return t})()};var a,i=n(9),o=n(182),r=(a=o)&&a.__esModule?a:{default:a},u=s(n(25)),l=n(13),c=s(n(10));function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=(0,i.fromJS)({data:{categoryType:""},preData:{preAmount:0,receiveAmount:0},cxlsData:{selectedIndex:"0",idx:0},lsmxbData:{selectedIndex:"0",idx:0},zhmxbData:{selectedIndex:"0",idx:0},wlmxbData:{selectedIndex:"0",idx:0}});var m={getYllsSingleAccount:function(e,t,n,a,i){return function(o){c.toast.loading("加载中...",0),(0,r.default)("getRunningBusiness","GET","uuid="+n,function(n){c.toast.hide(),(0,l.showMessage)(n)&&(o({type:E.GET_YLLS_SINGLE_ACCOUNT,receivedData:n.data.result,selectedIndex:t,idx:a}),i&&e.push("/ylls"))})}},getXczcAccumulationAmount:function(){return function(e,t){var n=t().yllsState,a=n.getIn(["data","categoryUuid"]),i=n.getIn(["data","runningDate"]);c.toast.loading(u.LOADING_TIP_TEXT,0),(0,r.default)("getPaymentInfo","POST",JSON.stringify({categoryUuid:a,runningDate:i,acType:"AC_GJJ",accumulationAcId:"",accumulationAssId1:"",accumulationCategory1:"",accumulationAssId2:"",accumulationCategory2:""}),function(t){c.toast.hide(),(0,l.showMessage)(t)&&e({type:E.GET_YLLS_UNTREATEDAMOUNT,receivedData:t.data.result,amountType:"accumulationAmount"})})}},getXczcSocialSecurityAmount:function(){return function(e,t){var n=t().yllsState,a=n.getIn(["data","categoryUuid"]),i=n.getIn(["data","runningDate"]);(0,r.default)("getPaymentInfo","POST",JSON.stringify({categoryUuid:a,runningDate:i,acType:"AC_SB",socialSecurityAcId:"",socialSecurityAssId1:"",socialSecurityCategory1:"",socialSecurityAssId2:"",socialSecurityCategory2:""}),function(t){(0,l.showMessage)(t)&&e({type:E.GET_YLLS_UNTREATEDAMOUNT,receivedData:t.data.result,amountType:"socialSecurityAmount"})})}}},E=t.ActionTypes={GET_YLLS_SINGLE_ACCOUNT:"GET_YLLS_SINGLE_ACCOUNT",GET_YLLS_PREAMOUNT:"GET_YLLS_PREAMOUNT",GET_YLLS_UNTREATEDAMOUNT:"GET_YLLS_UNTREATEDAMOUNT"};t.yllsActions=m},1609:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initState=t.changeIncomeExpendYebChooseValue=t.incomeExpendBalanceTriangleSwitch=t.getPeriodAndIncomeExpendYebBalanceList=void 0;var a,i=d(n(1610)),o=n(124),r=(a=o)&&a.__esModule?a:{default:a},u=n(13),l=d(n(10)),c=d(n(25)),s=d(n(181));function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}t.getPeriodAndIncomeExpendYebBalanceList=function(e,t,n){return function(n,a){l.toast.loading(c.LOADING_TIP_TEXT,0),(0,r.default)("getIncomeExpendYebReport","POST",JSON.stringify({begin:e||"",end:t||"",needPeriod:"true"}),function(a){if(l.toast.hide(),(0,u.showMessage)(a)){var o,r=n(s.reportGetIssuedateAndFreshPeriod(a));o=e||r;var c=a.data.periodDtoJson?n(s.everyTableGetIssuedate(a.data.periodDtoJson)):[];n({type:i.GET_INCOME_EXPEND_YEB_BALANCE_LIST,receivedData:a.data.result,issues:c,issuedate:o,endissuedate:t,getPeriod:"true"})}})}},t.incomeExpendBalanceTriangleSwitch=function(e,t){return{type:i.INCOME_EXPEND_YEB_BALANCE_TRIANGLE_SWITCH,showChild:e,uuid:t}},t.changeIncomeExpendYebChooseValue=function(e){return{type:i.CHANGE_INCOME_EXPEND_YEB_CHOOSE_VALUE,value:e}},t.initState=function(){return{type:i.INIT_INCOME_EXPEND_YEB}}},1610:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.INIT_INCOME_EXPEND_YEB="INIT_INCOME_EXPEND_YEB",t.GET_INCOME_EXPEND_YEB_BALANCE_LIST="GET_INCOME_EXPEND_YEB_BALANCE_LIST",t.INCOME_EXPEND_YEB_BALANCE_TRIANGLE_SWITCH="INCOME_EXPEND_YEB_BALANCE_TRIANGLE_SWITCH",t.CHANGE_INCOME_EXPEND_YEB_CHOOSE_VALUE="CHANGE_INCOME_EXPEND_YEB_CHOOSE_VALUE"},2352:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,i,o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=g(n(0)),l=g(n(2)),c=n(31),s=n(9);n(2353);var d=y(n(10)),f=(y(n(25)),n(16)),m=n(123),E=g(n(2355)),p=y(n(1609)),_=y(n(181));function y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function g(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=(0,c.connect)(function(e){return e})((o=i=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={showModal:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default.Component),r(t,[{key:"componentDidMount",value:function(){d.setTitle({title:"收支余额表"}),d.setIcon({showIcon:!1}),this.props.homeState.getIn(["permissionInfo","Report","exportExcel","permission"])||d.setRight({show:!1}),"home"===sessionStorage.getItem("prevPage")&&(sessionStorage.removeItem("prevPage"),this.props.dispatch(p.initState()),this.props.dispatch(p.getPeriodAndIncomeExpendYebBalanceList("","","true")))}},{key:"render",value:function(){var e=this.props,t=(e.allState,e.dispatch),n=e.incomeExpendYebState,a=e.history,i=(this.state.showModal,n.get("issuedate")),o=n.get("endissuedate"),r=n.get("incomeExpendBalanceList"),l=n.getIn(["views","runningShowChild"]),c=n.getIn(["views","chooseValue"]),s=n.get("issues"),d=s.findIndex(function(e){return e.get("value")===i}),y=s.slice(0,d),g=i,b=o||g;return t(_.navigationSetMenu("config","",function(){return function(e){return e(_.allExportDo("sendIncomeExcelbalance",{begin:g,end:b}))}})),u.default.createElement(f.Container,{className:"incomeExpend-yeb"},u.default.createElement(m.MutiPeriodMoreSelect,{start:i,issues:s,end:o,nextperiods:y,chooseValue:c,onBeginOk:function(e){t(p.getPeriodAndIncomeExpendYebBalanceList(e,""))},onEndOk:function(e,n){t(p.getPeriodAndIncomeExpendYebBalanceList(e,n))},changeChooseValue:function(e){return t(p.changeIncomeExpendYebChooseValue(e))}}),u.default.createElement(f.Row,{className:"ba-title-double"},u.default.createElement("div",{className:"ba-title-item"},u.default.createElement("span",{className:"item-item"},"期初应收"),u.default.createElement("span",{className:"item-item"},"期初应付")),u.default.createElement("div",{className:"ba-title-item"},u.default.createElement("span",{className:"item-item"},"本期收入"),u.default.createElement("span",{className:"item-item"},"本期支出")),u.default.createElement("div",{className:"ba-title-item"},u.default.createElement("span",{className:"item-item"},"本期实收"),u.default.createElement("span",{className:"item-item"},"本期实付")),u.default.createElement("div",{className:"ba-title-item"},u.default.createElement("span",{className:"item-item"},"期末应收"),u.default.createElement("span",{className:"item-item"},"期末应付"))),u.default.createElement(f.ScrollView,{flex:"1",uniqueKey:"xmye-scroll",className:"scroll-item",savePosition:!0},u.default.createElement("div",{className:"ba-list flow-content"},function e(n,r){return n.map(function(n,s){var d,f,m=l.indexOf(n.get("jrCategoryUuid"))>-1,p=r>1?"#f8f8f8":"#fff";return n.get("childList").size?u.default.createElement("div",{key:s},u.default.createElement(E.default,(h(d={leve:r,className:"balance-incomeExpend-tabel-width",style:{backgroundColor:p},ba:n,haveChild:!0,showChild:m,history:a,dispatch:t,issuedate:i},"issuedate",i),h(d,"endissuedate",o),h(d,"chooseValue",c),d)),m?e(n.get("childList"),r+1):""):u.default.createElement("div",{key:s},u.default.createElement(E.default,(h(f={leve:r,className:"balance-incomeExpend-tabel-width",style:{backgroundColor:p},ba:n,haveChild:!1,showChild:m,history:a,dispatch:t,issuedate:i},"issuedate",i),h(f,"endissuedate",o),h(f,"chooseValue",c),f)),m?e(n.get("childList"),r+1):"")})}(r,1))))}}]),t}(),i.displayName="IncomeExpendYeb",i.propTypes={allState:l.default.instanceOf(s.Map),dispatch:l.default.func},a=o))||a;t.default=b},2353:function(e,t,n){},2355:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=f(n(0)),r=(n(9),n(22)),u=n(16),l=(n(1067),d(n(1609))),c=d(n(1611)),s=f(n(1222));function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function f(e){return e&&e.__esModule?e:{default:e}}var m=(0,r.immutableRenderDecorator)(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),i(t,[{key:"render",value:function(){var e=this.props,t=e.ba,n=e.style,a=e.dispatch,i=e.className,r=e.leve,d=e.haveChild,f=e.showChild,m=e.history,E=e.issuedate,p=e.endissuedate,_=e.chooseValue,y={background:{1:"#fff",2:"#D1C0A5",3:"#7E6B5A",4:"#59493f"}[r],minWidth:(r-1)/100*10+"rem"};return o.default.createElement("div",{className:"ba "+i,style:n},o.default.createElement("div",null,o.default.createElement("span",{className:"name"},1==r?"":o.default.createElement("span",{className:"ba-flag",style:y}),o.default.createElement("span",{className:"name-name",onClick:function(e){sessionStorage.setItem("fromPage","incomeExpendyeb"),a(c.getIncomeExpendMxbListFromIncomeExpendYeb(E,p,t.get("jrCategoryUuid"),t.get("completeName"),m)),a(c.changeIncomeExpendMxbChooseValue(_))}},t.get("name"))),o.default.createElement("span",{className:"btn",onClick:function(){return a(l.incomeExpendBalanceTriangleSwitch(f,t.get("jrCategoryUuid")))}},o.default.createElement(u.Icon,{type:"arrow-down",style:{visibility:d?"visible":"hidden",transform:f?"rotate(180deg)":""}}))),o.default.createElement("div",{className:"double-ba-info"},o.default.createElement("span",{className:"double-item-list"},o.default.createElement(s.default,{direction:"credit"},t.get("openARBalance")),o.default.createElement(s.default,{direction:"debit"},t.get("openAPBalance"))),o.default.createElement("span",{className:"double-item-list"},o.default.createElement(s.default,{direction:"credit"},t.get("incomeAmount")),o.default.createElement(s.default,{direction:"debit"},t.get("expenseAmount"))),o.default.createElement("span",{className:"double-item-list"},o.default.createElement(s.default,{direction:"credit"},t.get("realIncomeAmount")),o.default.createElement(s.default,{direction:"debit"},t.get("realExpenseAmount"))),o.default.createElement("span",{className:"double-item-list"},o.default.createElement(s.default,{direction:"credit"},t.get("closeARBalance")),o.default.createElement(s.default,{direction:"debit"},t.get("closeAPBalance")))))}}]),t}())||a;t.default=m},2356:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,n=arguments[1];return((e={},o(e,i.INIT_INCOME_EXPEND_YEB,function(){return r}),o(e,i.GET_INCOME_EXPEND_YEB_BALANCE_LIST,function(){if("true"===n.getPeriod){n.period;t=t.set("period",(0,a.fromJS)(n.period)).set("issues",(0,a.fromJS)(n.issues))}return t.set("incomeExpendBalanceList",(0,a.fromJS)(n.receivedData.childList)).set("issuedate",(0,a.fromJS)(n.issuedate)).set("endissuedate",(0,a.fromJS)(n.endissuedate)).setIn(["views","runningShowChild"],(0,a.fromJS)([]))}),o(e,i.INCOME_EXPEND_YEB_BALANCE_TRIANGLE_SWITCH,function(){var e=t.getIn(["views","runningShowChild"]);if(n.showChild){var a=e.splice(e.findIndex(function(e){return e===n.uuid}),1);return t.setIn(["views","runningShowChild"],a)}var i=e.push(n.uuid);return t.setIn(["views","runningShowChild"],i)}),o(e,i.CHANGE_INCOME_EXPEND_YEB_CHOOSE_VALUE,function(){return t=t.setIn(["views","chooseValue"],n.value)}),e)[n.type]||function(){return t})()};var a=n(9),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1610));function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=(0,a.fromJS)({views:{runningShowChild:[],chooseValue:"ISSUE"},issues:[{value:"",key:""}],issuedate:"",endissuedate:"",incomeExpendBalanceList:[]})},986:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.view=t.reducer=void 0;var a=r(n(2352)),i=r(n(2356)),o=r(n(1613));function r(e){return e&&e.__esModule?e:{default:e}}var u={incomeExpendYebState:i.default,incomeExpendMxbState:o.default};t.reducer=u,t.view=a.default}}]);