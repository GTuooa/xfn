(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{1020:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.view=t.reducer=void 0;var n,l=a(2501),r=(n=l)&&n.__esModule?n:{default:n};t.reducer={},t.view=r.default},1463:function(e,t,a){},2501:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,l,r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(0),o=(l=c)&&l.__esModule?l:{default:l},i=(a(9),a(31)),u=f(a(1212));a(1463);var s=a(16),p=f(a(10));function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}s.Form.Label;var m=s.Form.Item,d=(0,i.connect)(function(e){return e})(n=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={confirmStr:!1,inputValue:""},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),r(t,[{key:"componentDidMount",value:function(){p.setTitle({title:"反悔模式"}),p.setRight({show:!1}),this.props.dispatch(u.changeAcShowReverseModal(!1))}},{key:"render",value:function(){var e=this,t=this.props,a=t.allState,n=t.acconfigState,l=t.dispatch,r=t.history,c=this.state,i=c.confirmStr,f=c.inputValue,d=n.get("reverseSeved"),E=n.get("NewAcReverseId"),v=n.get("NewAcReverseName"),N=n.get("showReverseModal"),h=n.get("reverseAc"),y=h.get("acid"),g=h.get("categoryList"),b=h.get("acCount"),w=h.get("openingbalance"),_=a.get("isloading");return o.default.createElement(s.Container,{className:N?"ac-option":"ac-revense"},_?o.default.createElement("div",{className:"unloadedMask"}):"",o.default.createElement(s.Row,{flex:"1",style:{display:N?"none":""}},o.default.createElement("div",{className:"top-tip ac-option-first-tip"},o.default.createElement("div",{className:"top-tip-text"},o.default.createElement("span",{className:"top-tip-title-normal"},"关于反悔模式："),o.default.createElement("span",{className:"top-tip-item"},"    一般情况下，带有辅助核算／期初值／已在凭证中使用过的科目不允许增加下级科目；"),o.default.createElement("span",{className:"top-tip-item"},"    反悔模式可将此类科目增加下级科目，并把原科目下的数据转移至其下级科目；"),o.default.createElement("span",{className:"top-tip-item"},"    此操作为不可逆操作，一经增加则数据不可回退；"),o.default.createElement("div",{className:"top-tip-item-input"},o.default.createElement(s.TextInput,{placeholder:"请输入要反悔的科目编码",onChange:function(t){return e.setState({inputValue:t})}}),o.default.createElement("span",{className:"top-tip-item-input-text",onClick:function(){if(4!==f.length&&6!==f.length&&8!==f.length)return p.Alert("只有科目编码为4/6/8的科目可以使用反悔模式");l(u.getReportAcReverseCheck(f,"",r))}},"校验")),o.default.createElement("div",{className:"top-tip-item-input-underline"},o.default.createElement("span",{className:"text-underline"},"本操作将校验该科目是否需要使用反悔模式"))))),o.default.createElement(s.Row,{flex:"1",style:{display:N?"":"none"}},o.default.createElement(s.Form,null,o.default.createElement(m,{label:"科目："},o.default.createElement("span",null,y)),o.default.createElement("div",{className:"top-tip ac-option-first-tip"},o.default.createElement("div",{className:"top-tip-text"},o.default.createElement("span",{className:"top-tip-title-normal"},"该科目已使用的内容"),g.size>0?o.default.createElement("span",{className:"top-tip-item"},"    辅助核算：",g.reduce(function(e,t){return e+"、"+t})):"",w>0?o.default.createElement("span",{className:"top-tip-item"},"    期初值：",o.default.createElement(s.Amount,null,w)):"",b>0?o.default.createElement("span",{className:"top-tip-item"},"    有相关的凭证"):o.default.createElement("span",{className:"top-tip-item"},"    没有相关的凭证"))),o.default.createElement("ul",{className:"form-tip"},o.default.createElement("li",{className:"form-tip-item"},"以上内容将转移至新增下级科目中；"),o.default.createElement("li",{className:"form-tip-item"},"子科目将自动继承上级科目的余额方向、类别；")),o.default.createElement(m,{label:"新增下级科目编码：",className:"form-item-acid-front"},o.default.createElement("span",{className:"form-item-acid-front-acid"},y),o.default.createElement(s.TextInput,{value:E,onChange:function(e){return l(u.createNewAcId(e,y))}})),o.default.createElement(m,{label:"新增下级科目名称："},o.default.createElement(s.TextInput,{value:v,onChange:function(e){return l(u.createNewAcName(e))}}))),o.default.createElement("div",{className:"top-tip-break"},"信息确认"),o.default.createElement("div",{className:"top-tip",onClick:function(){return e.setState({confirmStr:!i})}},o.default.createElement(s.Icon,{className:"top-tip-icon",type:"xuanze",style:{color:i?"#cc0000":"#ccc",border:"none"}}),o.default.createElement("div",{className:"top-tip-text"},o.default.createElement("span",{className:"top-tip-title"},"继续操作请勾选："),o.default.createElement("span",{className:"top-tip-item"},"    该操作为不可逆操作；"),o.default.createElement("span",{className:"top-tip-item"},"    原科目下所有数据将会被转移且不可回退!")))),o.default.createElement(s.Row,null,o.default.createElement(s.ButtonGroup,{type:"ghost",height:50,style:{display:N?"":"none"}},o.default.createElement(s.Button,{disabled:!i||d,onClick:function(){return l(u.getReportAcRegretUse(y,y+""+E,v))}},o.default.createElement(s.Icon,{type:"save"}),"保存"),o.default.createElement(s.Button,{onClick:function(){}},o.default.createElement(s.Icon,{type:"cancel"}),d?"返回":"取消"))))}}]),t}())||n;t.default=d}}]);