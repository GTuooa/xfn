(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{1072:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cancelReviewedJvlist=t.reviewedJvlist=t.changeData=t.setFjglData=t.pushVouhcerToLrpzReducer=t.reverseVcList=t.sortAndChangeVcId=t.cancelChangeVcCheckBoxDisplay=t.changeVcCheckBoxDisplay=t.selectVcAll=t.selectVc=t.pagingVc=t.deleteVcFetch=t.getSortVcFetch=t.getVcListFetch=t.getPeriodAndVcListFetch=void 0;var s,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},i=n(13),a=n(24),o=(s=a)&&s.__esModule?s:{default:s},c=E(n(181)),u=E(n(1077)),_=E(n(10)),d=E(n(25));function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}t.getPeriodAndVcListFetch=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){_.toast.loading(d.LOADING_TIP_TEXT,0),(0,o.default)("pagindvc","POST",JSON.stringify({year:e?e.substr(0,4):"",month:e?e.substr(5,2):"",pageSize:20,currentPage:t+1,getPeriod:"true"}),function(s){if((0,i.showMessage)(s)){_.toast.hide();var r=n(c.everyTableGetPeriod(s)),a=e||r;s.data.jsonArray;n({type:u.AFTER_PAGING_VC,receivedData:s,issuedate:a,currentPage:t})}})}},t.getVcListFetch=function(e){return function(t){var n=e.substring(0,7);_.toast.loading(d.LOADING_TIP_TEXT,0),(0,o.default)("getvclist","POST",JSON.stringify((0,i.jsonifyDate)(e)),function(e){(0,i.showMessage)(e)&&(_.toast.hide(),t({type:u.GET_VC_LIST_FETCH,receivedData:e,issuedate:n}))})}},t.getSortVcFetch=function(e,t){return function(n){0!=t&&(_.toast.loading(d.LOADING_TIP_TEXT,0),(0,o.default)("sortvc","POST",JSON.stringify({year:e.substr(0,4),month:e.substr(5,2),sort:t}),function(t){(0,i.showMessage)(t,"show",800)&&n(l(e))}))}},t.deleteVcFetch=function(e){return function(t,n){var s=e.get("vclist").filter(function(e){return e.get("selected")}).some(function(e){return e.get("enclosurecount")})?"凭证下存在附件,附件也将被删除":"确定删除吗";_.Confirm({message:s,title:"提示",buttonLabels:["取消","确定"],onSuccess:function(n){if(1===n.buttonIndex){var s=e.get("vclist"),r=e.get("vclist").filter(function(e){return e.get("selected")}).map(function(e){return e.get("vcindex")}),a=s.size===r.size;_.toast.loading(d.LOADING_TIP_TEXT,0),(0,o.default)("deletevc","POST",JSON.stringify({year:e.getIn(["vclist",0,"year"]),month:e.getIn(["vclist",0,"month"]),vcindexlist:r,action:"QUERY_VC-DELETE_VC-BATCH_DELETE"}),function(n){if((0,i.showMessage)(n)){if(t({type:u.DELETE_VC_FETCH,receivedData:n}),(0,o.default)("getperiod","GET","",function(e){(0,i.showMessage)(e)&&(_.toast.hide(),t({type:u.GET_PERIOD_FETCH,receivedData:e}))}),a){var s=e.getIn(["vclist",0,"year"])+"-"+e.getIn(["vclist",0,"month"]);t(l(s))}t(T())}})}},onFail:function(e){return alert(e)}})}};var l=t.pagingVc=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments[3];return function(a,c){var E=(0,i.jsonifyDate)(e),l=e.substring(0,7),T=c().cxpzState,A=T.get("searchContentType"),v=T.get("condition");!n&&_.toast.loading(d.LOADING_TIP_TEXT,0),(0,o.default)("pagindvc","POST",JSON.stringify(r({},E,{pageSize:20,currentPage:t+1,searchContentType:A,condition:v})),function(e){!n&&_.toast.hide(),(0,i.showMessage)(e)&&(n&&s.setState({isLoading:!1}),a({type:u.AFTER_PAGING_VC,receivedData:e,issuedate:l,currentPage:t}))})}},T=(t.selectVc=function(e){return{type:u.SELECT_VC,idx:e}},t.selectVcAll=function(){return{type:u.SELECT_VC_ALL}},t.changeVcCheckBoxDisplay=function(e){return{type:u.CHANGE_ALL_VC_CHECKBOX_DISPLAY,idx:e}},t.cancelChangeVcCheckBoxDisplay=function(){return{type:u.CANCEL_CHANGE_VC_CHECKBOX_DISPALY}});t.sortAndChangeVcId=function(){return{type:u.SORT_AND_CHANGE_VC_ID}},t.reverseVcList=function(){return{type:u.REVERSE_VC_LIST}},t.pushVouhcerToLrpzReducer=function(e){return{type:u.PUSH_VOUCHER_TO_LRPZ_REDUCER,voucher:e}},t.setFjglData=function(){return function(e,t){var n=t().cxpzState.get("issuedate");e({type:u.CHANGE_FJGL_ISSUEDATE,issuedate:n})}},t.changeData=function(e,t){return{type:u.CXPZ_CHANGE_DATA,dataType:e,value:t}},t.reviewedJvlist=function(e){return function(t,n){var s=n().cxpzState.get("vclist"),r=e.split("-"),a=[];s.forEach(function(e){e.get("selected")&&!e.get("reviewedby")&&a.push(e.get("vcindex"))}),_.toast.loading(d.LOADING_TIP_TEXT,0),(0,o.default)("reviewvc","POST",JSON.stringify({year:r[0],month:r[1],vcindexlist:a,action:"QUERY_VC-AUDIT"}),function(n){(0,i.showMessage)(n)&&(_.toast.hide(),0==n.data.success&&_.Alert(n.data.failList.join("、")),t(l(e)))})}},t.cancelReviewedJvlist=function(e){return function(t,n){var s=n().cxpzState.get("vclist"),r=e.split("-"),a=[];s.forEach(function(e){e.get("selected")&&e.get("reviewedby")&&a.push(e.get("vcindex"))}),_.toast.loading("加载中...",0),(0,o.default)("backreviewvc","POST",JSON.stringify({year:r[0],month:r[1],vcindexlist:a,action:"QUERY_VC-CANCEL_AUDIT"}),function(n){(0,i.showMessage)(n)&&(_.toast.hide(),0==n.data.success&&_.Alert(n.data.failList.join("、")),t(l(e)))})}}},1077:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.INIT_CXPZ="INIT_CXPZ",t.GET_VC_LIST_FETCH="GET_VC_LIST_FETCH",t.DELETE_VC_FETCH="DELETE_VC_FETCH",t.CHANGE_ALL_VC_CHECKBOX_DISPLAY="CHANGE_ALL_VC_CHECKBOX_DISPLAY",t.CANCEL_CHANGE_VC_CHECKBOX_DISPALY="CANCEL_CHANGE_VC_CHECKBOX_DISPALY",t.SELECT_VC_ALL="SELECT_VC_ALL",t.SELECT_VC="SELECT_VC",t.REVERSE_VC_LIST="REVERSE_VC_LIST",t.AFTER_PAGING_VC="AFTER_PAGING_VC",t.CXPZ_CHANGE_DATA="CXPZ_CHANGE_DATA",t.PUSH_VOUCHER_TO_LRPZ_REDUCER="PUSH_VOUCHER_TO_LRPZ_REDUCER",t.GET_PERIOD_FETCH="GET_PERIOD_FETCH",t.CHANGE_FJGL_ISSUEDATE="CHANGE_FJGL_ISSUEDATE"},1214:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,n=arguments[1];return((e={},o(e,r.INIT_LRPZ,function(){return c.set("year",t.get("year")).set("month",t.get("month")).set("vcdate",t.get("vcdate")).set("vcindex",t.get("vcindex"))}),o(e,r.SET_CKPZ_IS_SHOW,function(){return t.setIn(["flags","showckpz"],n.bool)}),o(e,r.CHANGE_SELECT_COMPONENT_DISPLAY,function(){return t.updateIn(["flags","selectComponentDisplay"],function(e){return!e})}),o(e,r.SELECT_JV,function(){return t.setIn(["flags","jvSelectedIdx"],n.idx)}),o(e,r.INSERT_JV,function(){var e=u(t),s=e.getIn(["flags","debitTotal"])-e.getIn(["flags","creditTotal"]);return u(t.update("jvlist",function(e){return e.insert(n.idx+1,e.get(n.idx).update("jvdirection",function(e){return s>0?"credit":"debit"}).set("jvamount",Math.abs(s).toFixed(2)-0||"").set("acid","").set("acname","").set("acfullname","").set("asslist",[]).set("acunitOpen","0").set("jvcount","").set("price","").set("jvunit","").set("fcStatus","0").set("fcNumber","").set("exchange","").set("standardAmount",""))}))}),o(e,r.DELETE_JV,function(){return u(t.get("jvlist").size>1?t.deleteIn(["jvlist",n.idx]):t)}),o(e,r.DELETE_JV_ALL,function(){return u(t.update("jvlist",function(e){return e.clear()}))}),o(e,r.CHANGE_VC_ID,function(){return t.set("vcindex",Number(n.vcindex))}),o(e,r.CHANGE_JV_ABSTRACT,function(){return t.setIn(["jvlist",n.idx,"jvabstract"],n.jvabstract)}),o(e,r.CHANGE_JV_ACID_AND_ACNAME_AND_ASSCATEGORYLIST,function(){var e=n.asscategorylist.map(function(e){return(0,s.fromJS)({assid:"",assname:"",asscategory:e})});return t.updateIn(["jvlist",n.idx],function(t){return t.set("acid",n.acid).set("acfullname",n.acfullname).set("acname",n.acname).set("asslist",e)})}),o(e,r.CHANGE_JV_AMOUNT,function(){return(/^[-\d]\d*\.?\d{0,2}$/g.test(n.jvamount)||""===n.jvamount)&&(t=u(t=t.setIn(["jvlist",n.idx,"jvamount"],n.jvamount))),t}),o(e,r.CHANGE_JV_DIRECTION,function(){return u(t.updateIn(["jvlist",n.idx,"jvdirection"],function(e){return"credit"==e?"debit":"credit"}))}),o(e,r.CHANGE_JV_ASSID_AND_ASSNAME,function(){return t.updateIn(["jvlist",n.idx,"asslist"],function(e){return e.map(function(e){return e.get("asscategory")==n.asscategory?e.set("assid",n.assid).set("assname",n.assname):e})})}),o(e,r.PUSH_VOUCHER_TO_LRPZ_REDUCER,function(){if(!n.voucher)return t;var e=(0,s.fromJS)(n.voucher);return u(t.merge(e).set("oldvcindex",e.get("vcindex")).set("oldyear",e.get("year")).set("oldmonth",e.get("month")).set("oldvcdate",e.get("vcdate")))}),o(e,r.GET_LAST_VC_ID_FETCH,function(){return t.set("month",n.vcdate.getMonth()).set("year",n.vcdate.getYear()).set("vcdate",n.vcdate.toString()).set("vcindex",n.receivedData.data)}),o(e,r.MODIFY_VCDATE,function(){t.get("oldvcdate");var e=n.date;return t.set("vcdate",e.toString())}),o(e,r.ENTER_JVITEM_FETCH,function(){n.data;return"modify"===sessionStorage.getItem("lrpzHandleMode")&&(t=t.setIn(["flags","showckpz"],!0)),"insert"===sessionStorage.getItem("lrpzHandleMode")&&(t=t.set("createdtime",n.createdtime).set("createdby",n.createdby)),n.refresh&&(t=u(t.set("jvlist",c.get("jvlist")).set("vcindex",n.NewVcIndex))),t.set("vckey",0).set(["flags","locked",""])}),o(e,r.REVIEWED_JVLIST,function(){return t.set("reviewedby",n.reviewedby)}),o(e,r.CANCEL_REVIEWED_JVLIST,function(){return t.set("reviewedby","")}),o(e,r.DRAFT_SAVE_FETCH,function(){return t.set("vckey",n.receivedData)}),o(e,r.GET_DRAFT_ITEM_FETCH,function(){return u((t=n.judgeLocked?c.set("vcindex",n.receivedData+1).set("vcdate",n.vcDate.toString()).set("year",n.vcDate.getYear()).set("month",n.vcDate.getMonth()):c.set("vcindex",n.getDraftItem.vcindex).set("vcdate",n.getDraftItem.vcdate).set("year",n.getDraftItem.year).set("month",n.getDraftItem.month)).set("jvlist",(0,s.fromJS)(n.getDraftItem.jvlist)).set("vckey",n.getDraftItem.vckey).set("enclosureCountUser",n.getDraftItem.enclosureCountUser).setIn(["flags","locked"],n.getDraftItem.locked).setIn(["flags","showckpz"],!0))}),o(e,r.LRPZ_LOCE_DRAFT,function(){return t.setIn(["flags","locked"],"1")}),o(e,r.LRPZ_UN_LOCE_DRAFT,function(){return t.setIn(["flags","locked"],"0")}),o(e,r.GET_AMOUNT_DATA,function(){return(t=t.setIn(["jvlist",n.idx,"jvunit"],n.receivedData.acunit).setIn(["jvlist",n.idx,"acunitOpen"],n.receivedData.acunitOpen).setIn(["jvlist",n.idx,"jvcount"],"")).getIn(["jvlist",n.idx,"jvdirection"])||(t=t.setIn(["jvlist",n.idx,"jvdirection"],n.receivedData.direction)),t=0==n.receivedData.price?t.setIn(["jvlist",n.idx,"price"],""):t.setIn(["jvlist",n.idx,"price"],n.receivedData.price)}),o(e,r.CHANGE_JV_COUNT,function(){new RegExp("^[-\\d]\\d*\\.?\\d{0,"+Number(n.unitDecimalCount)+"}$","g");return Number(n.jvCount)>1e6||Number(n.jvCount)<-1e6?alert("数量不能超过"+i.LRPZ_COUNT_LENGTH+"位"):t.setIn(["jvlist",n.idx,"jvcount"],n.jvCount)}),o(e,r.CHANGE_JV_PRICE,function(){return/^[-\d]\d*\.?\d{0,2}$/g.test(n.jvPrice)||""===n.jvPrice?(Number(n.jvPrice)<0&&(alert("单价不允许为负数"),n.jvPrice=-Number(n.jvPrice)),Number(n.jvPrice)>1e9||Number(n.jvPrice)<-1e9?alert("单价不能超过"+i.LRPZ_PRICE_LENGTH+"位"):t.setIn(["jvlist",n.idx,"price"],n.jvPrice)):t}),o(e,r.AUTO_CALCULATE,function(){var e=t.getIn(["jvlist",n.idx,"price"]),s=t.getIn(["jvlist",n.idx,"jvcount"]),r=t.getIn(["jvlist",n.idx,"jvamount"]);if("count"==n.value||"price"==n.value)if(Number(s)&&Number(e))Number(r)<0&&s?s=-Math.abs(s):Number(r)>0&&s&&(s=Math.abs(s)),s=Number(s)%1==0?Math.floor(s):parseFloat(Number(s).toFixed(2)),e=Number(e)%1==0?Math.floor(e):parseFloat(Number(e).toFixed(2)),t=t.setIn(["jvlist",n.idx,"price"],e).setIn(["jvlist",n.idx,"jvcount"],s).setIn(["jvlist",n.idx,"jvamount"],(s*e).toFixed(2));else if(""==e&&s&&r)e=r/s,e=Number(e)%1==0?Math.floor(e):parseFloat(Number(e).toFixed(2)),t=t.setIn(["jvlist",n.idx,"price"],e);else if(""==s&&e&&r)s=parseFloat((r/e).toFixed(n.unitDecimalCount)),Number(s)%1==0&&(s=Math.floor(s)),t=t.setIn(["jvlist",n.idx,"jvcount"],s);else{if(0==s||!r)return t;e=r/s,e=Number(e)%1==0?Math.floor(e):parseFloat(Number(e).toFixed(2)),t=t.setIn(["jvlist",n.idx,"price"],e)}else if("amount"==n.value){if(!s||!r)return t;Number(r)<0&&s?s=-Math.abs(s):Number(r)>0&&s&&(s=Math.abs(s)),e=r/s,e=Number(e)%1==0?Math.floor(e):parseFloat(Number(e).toFixed(2)),t=t.setIn(["jvlist",n.idx,"price"],e).setIn(["jvlist",n.idx,"jvcount"],s)}return u(t)}),o(e,r.CLEAR_AC_UNIT_OPEN,function(){return t.setIn(["jvlist",n.idx,"acunitOpen"],"0")}),o(e,r.GET_FJ_DATA,function(){if(!n.receivedData)return t;var e=(0,s.fromJS)(n.receivedData);return u(t.merge(e).set("oldvcindex",e.get("vcindex")).set("oldyear",e.get("year")).set("oldmonth",e.get("month")).set("oldvcdate",e.get("vcdate")))}),o(e,r.CHANGE_ENCLOSURE_LIST,function(){var e=[];return t.get("enclosureList").map(function(t){e.push(t)}),n.imgArr.forEach(function(t){e.push(t)}),e=e.slice(0,9),t=t.set("enclosureList",(0,s.fromJS)(e)).set("enclosureCountUser",e.length)}),o(e,r.DELETE_UPLOAD_IMG_URL,function(){return t.get("enclosureList").map(function(e,s){s==n.index&&(t=t.deleteIn(["enclosureList",s]))}),t=t.set("enclosureCountUser",t.get("enclosureList").size)}),o(e,r.GET_UPLOAD,function(){return t=t.set("enclosureList",(0,s.fromJS)(n.receivedData))}),o(e,r.CHANGE_VC_ENCLOSURE_COUNT_USER,function(){return t.set("enclosureCountUser",n.value)}),o(e,r.GET_LABEL_FETCH,function(){var e=[];return n.receivedData.data.forEach(function(t,n){e.push({key:t,value:n})}),t=t.set("label",e)}),o(e,r.CHANGE_TAG_NAME,function(){return t.get("enclosureList").map(function(e,s){s==n.index&&(t=t.setIn(["enclosureList",s,"label"],n.value))}),t}),o(e,r.GET_FC_LIST_DATA_FETCH,function(){var e=(0,s.fromJS)(n.receivedData),r=[];e.map(function(e,t){return r.push(e.get("fcNumber"))});var i=e.filter(function(e){return"1"==e.get("standard")}),a=i.getIn([0,"fcNumber"]),o=i.getIn([0,"exchange"]);return"modify"!=n.idx&&(t=t.setIn(["jvlist",n.idx,"fcStatus"],"1").setIn(["jvlist",n.idx,"fcNumber"],a).setIn(["jvlist",n.idx,"exchange"],o).setIn(["jvlist",n.idx,"jvdirection"],"debit")),t.setIn(["flags","currencyList"],e).setIn(["flags","currencyListArr"],r)}),o(e,r.CLEAR_FC_LIST_DATA,function(){return t.setIn(["jvlist",n.idx,"fcStatus"],"0").setIn(["jvlist",n.idx,"fcNumber"],"").setIn(["jvlist",n.idx,"exchange"],"").setIn(["jvlist",n.idx,"standardAmount"],"")}),o(e,r.CHANGE_JV_NUMBER,function(){return t.setIn(["jvlist",n.idx,"fcNumber"],n.fcNumber).setIn(["jvlist",n.idx,"exchange"],n.exchange)}),o(e,r.CHANGE_JV_EXCHANGE,function(){return/^\d*\.?\d{0,4}$/g.test(n.value)||""===n.value?t.setIn(["jvlist",n.idx,"exchange"],n.value):t}),o(e,r.CHANGE_JV_STANDARDAMOUNT,function(){return/^[-\d]\d*\.?\d{0,2}$/g.test(n.value)||""===n.value?t.setIn(["jvlist",n.idx,"standardAmount"],n.value):t}),o(e,r.AUTO_CALCULATE_ALL,function(){var e=t.getIn(["jvlist",n.idx,"price"]),s=t.getIn(["jvlist",n.idx,"jvcount"]),r=t.getIn(["jvlist",n.idx,"standardAmount"]),i=t.getIn(["jvlist",n.idx,"exchange"]),a=t.getIn(["jvlist",n.idx,"jvamount"]);return e&&s&&r&&i?"count"==n.value?(s=_(s,a),r=_(r,a),a=(s*e).toFixed(2),i=a/r):"price"==n.value?(a=(s*e).toFixed(2),i=a/r):"standardAmount"==n.value?(s=_(s,a),r=_(r,a),a=(r*i).toFixed(2),e=a/s):"exchange"==n.value?(a=(r*i).toFixed(2),e=a/s):"amount"==n.value&&(s=_(s,a),r=_(r,a),a&&(e=Number(a)/s,i=Number(a)/r)):"count"==n.value||"price"==n.value?(Number(s)&&e?(s=_(s,a),a=(Number(s)*e).toFixed(2)):""==e&&s&&a?e=a/s:0!=s&&a?e=a/s:t=t,Number(r)&&(i=a/r)):"standardAmount"==n.value||"exchange"==n.value?(Number(r)&&i?(r=_(r,a),a=(Number(r)*i).toFixed(2)):""==i&&r&&a?(i=(i=a/r)%1==0?Math.floor(i):parseFloat(i.toFixed(4)),t=t.setIn(["jvlist",n.idx,"exchange"],i)):r&&a&&(i=a/r),Number(s)&&(e=a/s)):"amount"==n.value&&(s=_(s,a),r=_(r,a),a&&(!r&&s?e=Number(a)/s:r&&!s?i=Number(a)/r:r&&s&&(e=Number(a)/s,i=Number(a)/r))),s=Number(s)%1==0?Math.floor(s):parseFloat(Number(s).toFixed(n.unitDecimalCount)),r=Number(r)%1==0?Math.floor(r):parseFloat(Number(r).toFixed(2)),e=Number(e)%1==0?Math.floor(e):parseFloat(Number(e).toFixed(2)),i=Number(i)%1==0?Math.floor(i):parseFloat(Number(i).toFixed(4)),u(t=t.setIn(["jvlist",n.idx,"standardAmount"],0===r?"":r).setIn(["jvlist",n.idx,"exchange"],i).setIn(["jvlist",n.idx,"price"],e).setIn(["jvlist",n.idx,"jvcount"],s).setIn(["jvlist",n.idx,"jvamount"],a))}),o(e,r.SET_LRPX_VCLIST,function(){return t.set("vcList",n.vcList)}),e)[n.type]||function(){return t})()};var s=n(9),r=(a(n(10)),n(13),a(n(1223))),i=a(n(25));function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=(0,s.fromJS)({flags:{selectComponentDisplay:!1,jvSelectedIdx:0,debitTotal:"0.00",creditTotal:"0.00",showckpz:!1,vcindexList:[],vcIdx:0,locked:"",currencyList:[],currencyListArr:[]},oldvcindex:"",oldyear:"",oldmonth:"",oldvcdate:"",vcindex:"",year:"",month:"",vcdate:"",createdtime:"",modifiedtime:"",createdby:"",exchange:"",closeby:"",reviewedby:"",enclosureCountUser:"",jvlist:[{jvdirection:"debit",jvabstract:"",acid:"",acname:"",acfullname:"",jvamount:"",asslist:[],acunitOpen:"0",jvcount:"",price:"",jvunit:"",fcStatus:"0",fcNumber:"",exchange:"",standardAmount:""}],vckey:0,enclosureList:[],label:[],needDeleteUrl:[],vcList:[]});function u(e){var t=0,n=0;return e.get("jvlist").map(function(e){"credit"===e.get("jvdirection")?t+=Number(e.get("jvamount")):"debit"===e.get("jvdirection")&&(n+=Number(e.get("jvamount")))}),e=(e=e.setIn(["flags","creditTotal"],t?t.toFixed(2).toString():"0.00")).setIn(["flags","debitTotal"],n?n.toFixed(2).toString():"0.00")}function _(e,t){return Number(t)<0&&e?-Math.abs(e):Number(t)>0&&e?Math.abs(e):e}},1223:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.INIT_LRPZ="INIT_LRPZ",t.SET_CKPZ_IS_SHOW="SET_CKPZ_IS_SHOW",t.CHANGE_SELECT_COMPONENT_DISPLAY="CHANGE_SELECT_COMPONENT_DISPLAY",t.SELECT_JV="SELECT_JV",t.INSERT_JV="INSERT_JV",t.DELETE_JV="DELETE_JV",t.DELETE_JV_ALL="DELETE_JV_ALL",t.CHANGE_VC_ID="CHANGE_VC_ID",t.CHANGE_JV_ABSTRACT="CHANGE_JV_ABSTRACT",t.CHANGE_JV_ACID_AND_ACNAME_AND_ASSCATEGORYLIST="CHANGE_JV_ACID_AND_ACNAME_AND_ASSCATEGORYLIST",t.CHANGE_JV_AMOUNT="CHANGE_JV_AMOUNT",t.CHANGE_JV_DIRECTION="CHANGE_JV_DIRECTION",t.CHANGE_JV_ASSID_AND_ASSNAME="CHANGE_JV_ASSID_AND_ASSNAME",t.PUSH_VOUCHER_TO_LRPZ_REDUCER="PUSH_VOUCHER_TO_LRPZ_REDUCER",t.GET_LAST_VC_ID_FETCH="GET_LAST_VC_ID_FETCH",t.MODIFY_VCDATE="MODIFY_VCDATE",t.ENTER_JVITEM_FETCH="ENTER_JVITEM_FETCH",t.REVIEWED_JVLIST="REVIEWED_JVLIST",t.CANCEL_REVIEWED_JVLIST="CANCEL_REVIEWED_JVLIST",t.DRAFT_SAVE_FETCH="DRAFT_SAVE_FETCH",t.GET_DRAFT_ITEM_FETCH="GET_DRAFT_ITEM_FETCH",t.LRPZ_LOCE_DRAFT="LRPZ_LOCE_DRAFT",t.LRPZ_UN_LOCE_DRAFT="LRPZ_UN_LOCE_DRAFT",t.GET_AMOUNT_DATA="GET_AMOUNT_DATA",t.CHANGE_JV_COUNT="CHANGE_JV_COUNT",t.CHANGE_JV_PRICE="CHANGE_JV_PRICE",t.AUTO_CALCULATE="AUTO_CALCULATE",t.CLEAR_AC_UNIT_OPEN="CLEAR_AC_UNIT_OPEN",t.GET_FJ_DATA="GET_FJ_DATA",t.CHANGE_ENCLOSURE_LIST="CHANGE_ENCLOSURE_LIST",t.DELETE_UPLOAD_IMG_URL="DELETE_UPLOAD_IMG_URL",t.GET_UPLOAD="GET_UPLOAD",t.GET_LABEL_FETCH="GET_LABEL_FETCH",t.CHANGE_TAG_NAME="CHANGE_TAG_NAME",t.GET_FC_LIST_DATA_FETCH="GET_FC_LIST_DATA_FETCH",t.CLEAR_FC_LIST_DATA="CLEAR_FC_LIST_DATA",t.CHANGE_JV_NUMBER="CHANGE_JV_NUMBER",t.CHANGE_JV_EXCHANGE="CHANGE_JV_EXCHANGE",t.CHANGE_JV_STANDARDAMOUNT="CHANGE_JV_STANDARDAMOUNT",t.AUTO_CALCULATE_ALL="AUTO_CALCULATE_ALL",t.CHANGE_VC_ENCLOSURE_COUNT_USER="CHANGE_VC_ENCLOSURE_COUNT_USER",t.GET_PERIOD_FETCH="GET_PERIOD_FETCH",t.AFTER_GET_UPLOAD_SIGNATURE="AFTER_GET_UPLOAD_SIGNATURE",t.SET_LRPX_VCLIST="SET_LRPX_VCLIST"},1431:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkHaveDoubleAssFetch=t.changeAssMxBeginDate=t.getVcFetch=t.getreportassdetailFetch=t.getAssMxbAclistFetch=t.getAssMxbAclistAndReportdetailFetch=void 0;var s,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},i=n(13),a=l(n(1589)),o=n(24),c=(s=o)&&s.__esModule?s:{default:s},u=l(n(184)),_=n(1072),d=l(n(10)),E=l(n(25));function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}t.getAssMxbAclistAndReportdetailFetch=function(e,t,n,s,r,i,a,o){return function(c){c(T(e,t,r)),c(A(e,t,n,s,r,i,a,o))}};var T=t.getAssMxbAclistFetch=function(e,t,n){return function(s){var r=""+e.substr(0,4)+e.substr(5,2),o=t?""+t.substr(0,4)+t.substr(5,2):r;(0,c.default)("reportassac","POST",JSON.stringify({begin:r,end:o,asscategory:n}),function(r){(0,i.showMessage)(r)?(s({type:a.GET_ASS_MXB_ACLIST_TFETCH,receivedData:r.data}),s({type:a.CHANGE_ASSMXB_ISSUEDATE,issuedate:e,endissuedate:t,asscategory:n})):s({type:a.INIT_ASSMXB})})}},A=t.getreportassdetailFetch=function(e,t,n,s,r,o,u,_){return function(l){var T=""+e.substr(0,4)+e.substr(5,2),A=t?""+t.substr(0,4)+t.substr(5,2):T;d.toast.loading(E.LOADING_TIP_TEXT,0),(0,c.default)("reportassdetail","POST",JSON.stringify({begin:T,end:A,acid:n||"",assid:s,asscategory:r,assIdTwo:o,assCategoryTwo:o?u:""}),function(c){(0,i.showMessage)(c)&&(d.toast.hide(),l({type:a.GET_REPORT_ASS_DETAIL_FETCH,receivedData:c.data,assidTwo:o,asscategoryTwo:u}),_&&l(v(e,t,n,s,r,o,u)))})}},v=(t.getVcFetch=function(e,t,n,s){return function(a){var o=(0,i.jsonifyDate)(e);d.toast.loading(E.LOADING_TIP_TEXT,0),(0,c.default)("getvc","POST",JSON.stringify(r({},o,{vcindex:t})),function(e){(0,i.showMessage)(e)&&(d.toast.hide(),sessionStorage.setItem("lrpzHandleMode","modify"),a((0,_.pushVouhcerToLrpzReducer)(e.data)),sessionStorage.setItem("router-from","assmxb"),n.push("/lrpz"),a(u.setVcList(s)),a(u.setCkpzIsShow(!0)))})}},t.changeAssMxBeginDate=function(e,t){return{type:a.CHANGE_ASSMX_BEGIN_DATE,begin:e,bool:t}},t.checkHaveDoubleAssFetch=function(e,t,n,s,r,o,u){return function(o){var u=""+e.substr(0,4)+e.substr(5,2),_=t?""+t.substr(0,4)+t.substr(5,2):u;d.toast.loading(E.LOADING_TIP_TEXT,0),(0,c.default)("checkHaveDoubleAssFetch","POST",JSON.stringify({begin:u,end:_,asscategory:r,acid:n}),function(c){if((0,i.showMessage)(c)&&(d.toast.hide(),!!c.data[0].asslist.length)){var u=[],_=c.data[0].asscategory;c.data[0].asslist.forEach(function(e){u.push({key:e.assid+" "+e.assname,value:e.assid})}),u.unshift({key:"全部",value:""}),d.chosen({source:u,onSuccess:function(i){o(A(e,t,n,s,r,i.value,_)),o({type:a.SET_DOUBLEASS,doubleAss:u})},onFail:function(e){}})}})}})},1589:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.INIT_ASSMXB="INIT_ASSMXB",t.CHANGE_ASSMXB_ISSUEDATE="CHANGE_ASSMXB_ISSUEDATE",t.GET_ASS_MXB_ACLIST_TFETCH="GET_ASS_MXB_ACLIST_TFETCH",t.GET_REPORT_ASS_DETAIL_FETCH="GET_REPORT_ASS_DETAIL_FETCH",t.CHANGE_ASSMX_BEGIN_DATE="CHANGE_ASSMX_BEGIN_DATE",t.SET_DOUBLEASS="SET_DOUBLEASS"},1590:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,n=arguments[1];return((e={},i(e,r.INIT_ASSMXB,function(){return a}),i(e,r.CHANGE_ASSMXB_ISSUEDATE,function(){return t.set("issuedate",n.issuedate).set("endissuedate",n.endissuedate).set("asscategory",n.asscategory)}),i(e,r.GET_ASS_MXB_ACLIST_TFETCH,function(){return t.set("assmxbAclist",(0,s.fromJS)(n.receivedData)).set("assidTwo","").set("asscategoryTwo","")}),i(e,r.GET_REPORT_ASS_DETAIL_FETCH,function(){return t.set("reportassdetail",(0,s.fromJS)(n.receivedData)).set("assidTwo",n.assidTwo).set("asscategoryTwo",n.asscategoryTwo)}),i(e,r.CHANGE_ASSMX_BEGIN_DATE,function(){return t=n.bool?t.set("endissuedate",n.begin):t.set("issuedate",n.begin)}),i(e,r.SET_DOUBLEASS,function(){return t.set("doubleAss",(0,s.fromJS)(n.doubleAss))}),e)[n.type]||function(){return t})()};var s=n(9),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1589));function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=(0,s.fromJS)({issuedate:"",endissuedate:"",assidTwo:"",asscategory:"",asscategoryTwo:"",assmxbAclist:[],reportassdetail:{acid:"",acname:"",acfullname:"",debit:0,credit:0,direction:"debit",openingbalance:0,closingbalance:0,assid:"",assname:"",jvlist:[],code:0,message:"成功"},isDouble:!1,doubleAss:[]})}}]);