(window.webpackJsonp=window.webpackJsonp||[]).push([[121],{1803:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,n=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),o=p(r(0)),l=r(31),s=r(9),c=r(16),i=d(r(10)),u=d(r(1393)),f=p(r(1804));function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function p(e){return e&&e.__esModule?e:{default:e}}r(1805);var m=(0,l.connect)(function(e){return e})(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),n(t,[{key:"componentDidMount",value:function(){i.setTitle({title:"草稿箱"}),i.setIcon({showIcon:!1}),i.setRight({show:!1}),"draft"===sessionStorage.getItem("enterDraft")&&(this.props.dispatch(u.getDraftListFetch("全部")),sessionStorage.removeItem("enterDraft"))}},{key:"render",value:function(){var e=this.props,t=e.draftState,r=e.dispatch,a=e.history;i.setTitle({title:"草稿箱"});var n=(0,s.fromJS)(["全部","未锁定","已锁定"]),l=t.getIn(["flags","selectDraftType"]),d=t.getIn(["flags","searchValue"]),p=t.get("draftList"),m=[];t.get("draftList").map(function(e,t){m.push(e.get("vckey"))});var v=n&&n.map(function(e,t){return{key:e,value:e}});return o.default.createElement(c.Container,{className:"draft"},o.default.createElement(c.Row,{className:"draft-select"},o.default.createElement(c.SinglePicker,{className:"draft-select-select",district:v,onOk:function(e){r(u.getDraftListFetch(e.value))}},o.default.createElement("div",{className:"draft-select-select"},o.default.createElement("span",{className:"draft-select-select-text"},l),o.default.createElement(c.Icon,{className:"draft-select-select-trangle",type:"triangle",size:"10"}))),o.default.createElement("div",{className:"draft-select-inputwrap"},o.default.createElement(c.Icon,{className:"draft-select-icon",type:"search"}),o.default.createElement(c.TextInput,{className:"draft-select-input",placeholder:"搜索草稿...",value:d,onChange:function(e){return r(u.searchDraftItem(e))}}))),o.default.createElement(c.ScrollView,{flex:"1",uniqueKey:"draft-scroll",savePosition:!0},p.map(function(e,t){return o.default.createElement(f.default,{key:t,idx:t,draftItem:e,dispatch:r,draftKeyList:m,history:a})})))}}]),t}())||a;t.default=m},1804:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,n=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),o=f(r(0)),l=(f(r(14)),r(9),r(22)),s=u(r(1230)),c=u(r(184)),i=r(16);function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function f(e){return e&&e.__esModule?e:{default:e}}var d=(0,l.immutableRenderDecorator)(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),n(t,[{key:"render",value:function(){var e=this.props,t=(e.key,e.idx,e.dispatch),r=e.draftItem,a=(e.draftKeyList,e.history);return o.default.createElement("div",{className:"model",onClick:function(){sessionStorage.setItem("lrpzHandleMode","insert"),a.push("/lrpz"),sessionStorage.removeItem("prevPage"),sessionStorage.setItem("router-from","draft"),sessionStorage.setItem("enterDraft","draft"),t(c.setCkpzIsShow(!0)),t(s.getDraftItemFetch(r.get("vckey")))}},o.default.createElement(i.Icon,{style:{display:"1"==r.get("locked")?"":"none"},className:"draft-locked-icon",color:"#ff943e",type:"locked",size:"50"}),o.default.createElement("div",{className:["model-info","1"==r.get("locked")?"draft-locked":""].join(" ")},o.default.createElement("span",null,"记 ",r.get("vcindex")," 号"),o.default.createElement("span",{className:"model-info-date"},r.get("vcdate").replace(/-/g,"/"))),o.default.createElement("div",{className:"model-jv-list"},r.get("jvlist").map(function(e,t){return o.default.createElement("div",{className:"model-jv",key:t},o.default.createElement("div",{className:"model-jv-info"},o.default.createElement("span",{className:"model-jv-direction"},["debit"===e.get("jvdirection")?"借":"贷","：",e.get("acname")].join("")),o.default.createElement(i.Amount,{className:"model-jv-amount",showZero:!0},e.get("jvamount"))),e.get("asslist").size?o.default.createElement("div",{className:"model-jv-ass"},e.get("asslist").map(function(e,t){return o.default.createElement("div",{key:t,className:"model-jv-ass-showtext "+(0===t?"model-jv-ass-showtext-tip":"")},e.get("asscategory")+"_"+e.get("assid")+" "+e.get("assname"))})):"",o.default.createElement("div",{className:"model-jv-abstract"},o.default.createElement("span",null,"摘要："),o.default.createElement("span",null,e.get("jvabstract"))))})))}}]),t}())||a;t.default=d},1805:function(e,t,r){},1807:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,r=arguments[1];return((e={},l(e,o.INIT_DRAFT,function(){return s}),l(e,o.GET_DRAFT_LIST_FETCH,function(){return t.setIn(["flags","selectDraftType"],r.selectDraftType).set("draftList",(0,a.fromJS)(r.receivedData)).set("allDraftList",(0,a.fromJS)(r.receivedData))}),l(e,o.SEARCH_DRAFT_ITEM,function(){var e=r.value;return(t=""!==e?t.set("draftList",t.get("allDraftList")).update("draftList",function(e){return e.map(function(e){return e.set("matchStr",e.get("vcdate")+" 记"+e.get("vcindex")+"号 "+e.get("jvlist").map(function(e){return e.get("jvabstract")+" "+e.get("acid")+"_"+e.get("acname")+" "+(0,n.formatMoney)(e.get("jvamount"),2,"")+" "+(e.get("asslist").size?e.get("asslist").map(function(e){return e.get("assid")+"_"+e.get("assname")}).join("_"):"")})+" "+e.get("createdby")+" "+e.get("closedby"))})}).update("draftList",function(t){return t.filter(function(t){return t.get("matchStr").indexOf(e)>-1})}):t.set("draftList",t.get("allDraftList"))).setIn(["flags","searchValue"],e)}),e)[r.type]||function(){return t})()};var a=r(9),n=r(13),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(1474));function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=(0,a.fromJS)({flags:{selectDraftType:"全部",searchValue:""},allDraftList:[],draftList:[]})},957:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.view=t.reducer=void 0;var a=n(r(1803));function n(e){return e&&e.__esModule?e:{default:e}}var o={draftState:n(r(1807)).default};t.reducer=o,t.view=a.default}}]);