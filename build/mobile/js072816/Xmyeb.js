(window.webpackJsonp=window.webpackJsonp||[]).push([[95],{1600:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.changeMenuData=t.changeZhyeMorePeriods=t.accountBalanceTriangleSwitch=t.changeXmYeInnerCommonString=t.getProjectCategoryList=t.getProjectBalanceList=t.getProjectDetailRunningCategoryList=t.getFirstProjectList=void 0;var a,r=f(n(1601)),o=n(182),i=(a=o)&&a.__esModule?a:{default:a},u=n(9),l=n(13),s=f(n(10)),c=f(n(25)),d=f(n(181));function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var g=function(e){var t=[],n=function(e,t){return e.forEach(function(e){e.get("childList")&&e.get("childList").size?t.push({value:""+e.get("uuid")+c.TREE_JOIN_STR+e.get("name")+c.TREE_JOIN_STR+e.get("propertyCost"),label:e.get("name"),children:a(e.get("childList"))}):t.push({value:""+e.get("uuid")+c.TREE_JOIN_STR+e.get("name")+c.TREE_JOIN_STR+e.get("propertyCost"),label:e.get("name"),children:[]})})},a=function(e){var t=[];return n(e,t),t},r=e.data.result[0];if(e.data.result.length>0&&"全部"===r.name){t.push({value:""+r.uuid+c.TREE_JOIN_STR+r.name+c.TREE_JOIN_STR+r.propertyCost,label:r.name,children:[{value:c.TREE_JOIN_STR+"全部"+c.TREE_JOIN_STR+r.propertyCost,label:"全部"}]});var o=e.data.result[0].childList;(0,u.fromJS)(o).forEach(function(e){if(e.get("childList").size){var n=a(e.get("childList")),r=[{value:""+e.get("uuid")+c.TREE_JOIN_STR+e.get("name")+c.TREE_JOIN_STR+e.get("propertyCost"),label:e.get("name"),children:n}];t.push({value:""+e.get("uuid")+c.TREE_JOIN_STR+e.get("name")+c.TREE_JOIN_STR+e.get("propertyCost"),label:e.get("name"),children:r})}else t.push({value:""+e.get("uuid")+c.TREE_JOIN_STR+e.get("name")+c.TREE_JOIN_STR+e.get("propertyCost"),label:e.get("name"),children:[{value:""+e.get("uuid")+c.TREE_JOIN_STR+e.get("name")+c.TREE_JOIN_STR+e.get("propertyCost"),label:e.get("name")}]})})}else(0,u.fromJS)(e.data.result).forEach(function(e){if(e.get("childList").size){var n=a(e.get("childList")),r=[{value:""+e.get("uuid")+c.TREE_JOIN_STR+e.get("name")+c.TREE_JOIN_STR+e.get("propertyCost"),label:e.get("name"),children:n}];t.push({value:""+e.get("uuid")+c.TREE_JOIN_STR+e.get("name")+c.TREE_JOIN_STR+e.get("propertyCost"),label:e.get("name"),children:r})}else t.push({value:""+e.get("uuid")+c.TREE_JOIN_STR+e.get("name")+c.TREE_JOIN_STR+e.get("propertyCost"),label:e.get("name"),children:[{value:""+e.get("uuid")+c.TREE_JOIN_STR+e.get("name")+c.TREE_JOIN_STR+e.get("propertyCost"),label:e.get("name")}]})});return t},m=(t.getFirstProjectList=function(e,t){return function(n,a){s.toast.loading(c.LOADING_TIP_TEXT,0),(0,i.default)("getProjectBalanceList","POST",JSON.stringify({year:e?e.substr(0,4):"",month:e?e.substr(5,2):"",endYear:t?t.substr(0,4):"",endMonth:t?t.substr(5,2):"",getPeriod:"true",subordinateUuid:"",runningCategoryUuid:"",categoryUuid:"",currentPage:1,propertyCost:""}),function(a){if(s.toast.hide(),(0,l.showMessage)(a)){var o=n(d.everyTableGetPeriod(a)),f=e||o,p=a.data.result,h=p.balanceAmount,E=p.expenseAmount,_=p.incomeAmount,y=p.pages,T=p.realBalanceAmount,v=p.realExpenseAmount,b=p.realIncomeAmount;(0,i.default)("getProjectDetailCategoryList","POST",JSON.stringify({year:f.substr(0,4),month:f.substr(5,2),endYear:t?t.substr(0,4):"",endMonth:t?t.substr(5,2):"",getPeriod:"true"}),function(e){if((0,l.showMessage)(e)){var t=function(e){var t=[],n=function(e,t){return e.forEach(function(e){e.get("childList")&&e.get("childList").size?t.push({value:""+e.get("uuid")+c.TREE_JOIN_STR+e.get("name")+c.TREE_JOIN_STR+e.get("top"),label:e.get("name"),children:a(e.get("childList"))}):t.push({value:""+e.get("uuid")+c.TREE_JOIN_STR+e.get("name")+c.TREE_JOIN_STR+e.get("top"),label:e.get("name"),children:[]})})},a=function(e){var t=[];return n(e,t),t},r=e.data.categoryList[0];if(e.data.categoryList.length>0&&"损益项目"===r.name){t.push({value:""+r.uuid+c.TREE_JOIN_STR+r.name+c.TREE_JOIN_STR+r.top,label:r.name,children:[{value:""+r.uuid+c.TREE_JOIN_STR+r.name+c.TREE_JOIN_STR+r.top,label:"损益项目"}]});var o=e.data.categoryList[0].childList;(0,u.fromJS)(o).forEach(function(e){if(e.get("childList").size){var n=a(e.get("childList")),r=[{value:""+e.get("uuid")+c.TREE_JOIN_STR+e.get("name")+c.TREE_JOIN_STR+e.get("top"),label:e.get("name"),children:n}];t.push({value:""+e.get("uuid")+c.TREE_JOIN_STR+e.get("name")+c.TREE_JOIN_STR+e.get("top"),label:e.get("name"),children:r})}else t.push({value:""+e.get("uuid")+c.TREE_JOIN_STR+e.get("name")+c.TREE_JOIN_STR+e.get("top"),label:e.get("name"),children:[{value:""+e.get("uuid")+c.TREE_JOIN_STR+e.get("name")+c.TREE_JOIN_STR+e.get("top"),label:e.get("name")}]})})}else(0,u.fromJS)(e.data.categoryList).forEach(function(e){if(e.get("childList").size){var n=a(e.get("childList")),r=[{value:""+e.get("uuid")+c.TREE_JOIN_STR+e.get("name")+c.TREE_JOIN_STR+e.get("top"),label:e.get("name"),children:n}];t.push({value:""+e.get("uuid")+c.TREE_JOIN_STR+e.get("name")+c.TREE_JOIN_STR+e.get("top"),label:e.get("name"),children:r})}else t.push({value:""+e.get("uuid")+c.TREE_JOIN_STR+e.get("name")+c.TREE_JOIN_STR+e.get("top"),label:e.get("name"),children:[{value:""+e.get("uuid")+c.TREE_JOIN_STR+e.get("name")+c.TREE_JOIN_STR+e.get("top"),label:e.get("name")}]})});return t}(e);n(m(["flags","projectCategoryList"],(0,u.fromJS)(t)))}}),(0,i.default)("getProjectCategoryList","POST",JSON.stringify({year:f.substr(0,4),month:f.substr(5,2),endYear:t?t.substr(0,4):"",endMonth:t?t.substr(5,2):"",categoryUuid:"",subordinateUuid:""}),function(e){if((0,l.showMessage)(e)){var t=g(e);n(m(["flags","categoryList"],(0,u.fromJS)(t)))}});var I=n(d.everyTableGetIssuedate(a.data.periodDtoJson));n({type:r.GET_XM_BALANCE_LIST,receivedData:a.data.result.childList,period:a.data.periodDtoJson,issuedate:f,getPeriod:"true",balanceAmount:h,expenseAmount:E,incomeAmount:_,pages:y,issues:I,realBalanceAmount:T,realExpenseAmount:v,realIncomeAmount:b,currentPage:1,changeDate:!0,endissuedate:t})}})}},t.getProjectDetailRunningCategoryList=function(e,t,n){return function(n){(0,i.default)("getProjectDetailRunningCategoryList","POST",JSON.stringify({year:e.substr(0,4),month:e.substr(5,2),endYear:t?t.substr(0,4):"",endMonth:t?t.substr(5,2):""}),function(e){if((0,l.showMessage)(e)){var t=g(e);n(m(["flags","categoryList"],(0,u.fromJS)(t)))}})}},t.getProjectBalanceList=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"",f=arguments[7],g=arguments[8],m=arguments[9];return function(p,h){!g&&s.toast.loading("加载中...",0),(0,i.default)("getProjectBalanceList","POST",JSON.stringify({year:e?e.substr(0,4):"",month:e?e.substr(5,2):"",endYear:t?t.substr(0,4):"",endMonth:t?t.substr(5,2):"",getPeriod:"true",subordinateUuid:"true"==a?"":o,runningCategoryUuid:u,categoryUuid:"true"==a?o:"",pageNum:n,propertyCost:c}),function(i){if(s.toast.hide(),(0,l.showMessage)(i)){g&&m.setState({isLoading:!1});var h=i.data.result,E=h.balanceAmount,_=h.expenseAmount,y=h.incomeAmount,T=h.pages,v=h.realBalanceAmount,b=h.realExpenseAmount,I=h.realIncomeAmount,N=p(d.everyTableGetIssuedate(i.data.periodDtoJson));p({type:r.GET_XM_BALANCE_LIST,receivedData:i.data.result.childList,period:i.data.periodDtoJson,issues:N,issuedate:e,endissuedate:t,getPeriod:"",balanceAmount:E,expenseAmount:_,incomeAmount:y,pages:T,realBalanceAmount:v,realExpenseAmount:b,realIncomeAmount:I,currentPage:n,isTop:a,categoryUuid:o,runningCategoryUuid:u,propertyCost:c,shouldConcat:f})}})}},t.getProjectCategoryList=function(e,t,n,a){return function(r){(0,i.default)("getProjectCategoryList","POST",JSON.stringify({year:e?e.substr(0,4):"",month:e?e.substr(5,2):"",endYear:t?t.substr(0,4):"",endMonth:t?t.substr(5,2):"",subordinateUuid:"true"==a?"":n,categoryUuid:"true"==a?n:""}),function(e){if((0,l.showMessage)(e)){var t=g(e);r(m(["flags","categoryList"],(0,u.fromJS)(t)))}})}},t.changeXmYeInnerCommonString=function(e,t){return function(n){n({type:r.CHANGE_XMYE_COMMON_STRING,placeArr:e,value:t})}});t.accountBalanceTriangleSwitch=function(e,t){return{type:r.ACCOUNTCONF_XM_BALANCE_TRIANGLE_SWITCH,showChild:e,uuid:t}},t.changeZhyeMorePeriods=function(e){return{type:r.CHANGE_ZHYE_MORE_PERIODS,chooseperiods:e}},t.changeMenuData=function(e,t){return function(n){n({type:r.XMYE_MENU_DATA,value:t,dataType:e})}}},1601:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SWITCH_LOADING_MASK="SWITCH_LOADING_MASK",t.GET_ZH_BALANCE_LIST="GET_ZH_BALANCE_LIST",t.ACCOUNTCONF_XM_BALANCE_TRIANGLE_SWITCH="ACCOUNTCONF_XM_BALANCE_TRIANGLE_SWITCH",t.CHANGE_ZHYE_MORE_PERIODS="CHANGE_ZHYE_MORE_PERIODS",t.INIT_XMYEB="INIT_XMYEB",t.GET_XM_BALANCE_LIST="GET_XM_BALANCE_LIST",t.CHANGE_XMYE_COMMON_STRING="CHANGE_XMYE_COMMON_STRING",t.XMYE_MENU_DATA="XMYE_MENU_DATA"},2341:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=E(n(0)),i=n(9),u=n(31),l=(n(1074),h(n(10))),s=n(123),c=n(16),d=h(n(1600)),f=h(n(1437)),g=(n(1061),h(n(25))),m=E(n(2342)),p=E(n(2343));function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function E(e){return e&&e.__esModule?e:{default:e}}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(2344);var y=(0,u.connect)(function(e){return e})(a=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),r(t,[{key:"componentDidMount",value:function(){l.setTitle({title:"项目余额表"}),l.setIcon({showIcon:!1}),l.setRight({show:!1}),"xmyeb"!==sessionStorage.getItem("fromPage")?("home"===sessionStorage.getItem("prevPage")&&(sessionStorage.removeItem("prevPage"),this.props.dispatch(d.getFirstProjectList())),this.props.dispatch(d.changeMenuData("menuType",""))):sessionStorage.removeItem("fromPage")}},{key:"componentWillReceiveProps",value:function(e){var t=this;(0,i.is)(e.xmyebState.getIn(["flags","menuType"]),this.props.xmyebState.getIn(["flags","menuType"]))||("LB_CATEGORY"===e.xmyebState.getIn(["flags","menuType"])||"RLB_CATEGORY"===e.xmyebState.getIn(["flags","menuType"])?l.setRight({show:!0,control:!0,text:"取消",onSuccess:function(e){return t.props.dispatch(d.changeMenuData("menuType",""))},onFail:function(e){alert(e)}}):l.setRight({show:!1}))}},{key:"render",value:function(){var e=this.props,t=e.dispatch,n=e.history,a=e.xmyebState,r=a.getIn(["flags","projectCategoryList"]),i=a.getIn(["flags","categoryList"]),u=(a.getIn(["flags","wlRelationship"]),a.getIn(["flags","issuedate"])),h=a.get("issues"),E=a.getIn(["flags","runningShowChild"]),y=a.getIn(["flags","endissuedate"]),T=h.findIndex(function(e){return e.get("value")===u}),v=h.slice(0,T),b=a.get("balanceTemp"),I=a.get("currentPage"),N=a.get("pageCount"),R=a.getIn(["flags","isTop"]),O=a.getIn(["flags","menuType"]),C=a.getIn(["flags","menuLeftIdx"]),S=a.getIn(["flags","lbMenuLeftIdx"]),A=a.getIn(["flags","runningType"]),L=a.getIn(["flags","xmType"]),w=a.getIn(["flags","categoryUuid"]),P=a.getIn(["flags","runningCategoryUuid"]),M=a.getIn(["flags","propertyCost"]),J=null;(({LB_CATEGORY:function(){J=o.default.createElement(p.default,{data:r,leftIdx:C,leftClick:function(e){return t(d.changeMenuData("menuLeftIdx",e))},onChange:function(e){var n=e[1].split(g.TREE_JOIN_STR);t(d.changeXmYeInnerCommonString(["flags","xmType"],n[1])),t(d.changeXmYeInnerCommonString(["flags","runningType"],"全部")),t(d.getProjectBalanceList(u,y,1,n[2],n[0],"")),t(d.getProjectCategoryList(u,y,n[0],n[2])),t(d.changeMenuData("menuType",""))}})},RLB_CATEGORY:function(){J=o.default.createElement(p.default,{data:i,leftIdx:S,leftClick:function(e){return t(d.changeMenuData("lbMenuLeftIdx",e))},onChange:function(e){var n=e[1].split(g.TREE_JOIN_STR);t(d.changeXmYeInnerCommonString(["flags","runningType"],n[1])),t(d.getProjectBalanceList(u,y,1,R,w,n[0],n[2])),t(d.changeMenuData("menuType","")),t(f.changeDetailXmmxCommonString("",["flags","categoryName"],n[1]))}})}})[O]||function(){return l.setTitle({title:"项目余额表"}),null})();return J||o.default.createElement(c.Container,{className:"xmyeb"},o.default.createElement(s.TopMonthPicker,{issuedate:u,source:h,callback:function(e){t(d.getFirstProjectList(e))},onOk:function(e){t(d.getFirstProjectList(e.value))},showSwitch:!0,endissuedate:y,nextperiods:v,onBeginOk:function(e){t(d.getFirstProjectList(e.value))},onEndOk:function(e){t(d.getFirstProjectList(u,e.value))},changeEndToBegin:function(){return t(d.getProjectBalanceList(u))}}),o.default.createElement("div",{className:"xmye-top-select"},o.default.createElement("div",{className:"xmye-with-account"},o.default.createElement(c.Row,{className:"lrls-row"},o.default.createElement(c.Row,{className:"lrls-type",onClick:function(){r.size&&t(d.changeMenuData("menuType","LB_CATEGORY"))}},o.default.createElement("span",null,r.size?L:"全部"),o.default.createElement(c.Icon,{type:"triangle"})))),o.default.createElement("div",{className:"xmye-with-account"},o.default.createElement(c.Row,{className:"lrls-row"},o.default.createElement(c.Row,{className:"lrls-type xmye-type",onClick:function(){i.size&&t(d.changeMenuData("menuType","RLB_CATEGORY"))}},o.default.createElement("span",null,i.size?A:"全部"),o.default.createElement(c.Icon,{type:"triangle"}))))),o.default.createElement(c.Row,{className:"ba-title-double"},o.default.createElement("div",{className:"ba-title-item"},o.default.createElement("span",{className:"item-item"},"收入额"),o.default.createElement("span",{className:"item-item"},"实收额")),o.default.createElement("div",{className:"ba-title-item"},o.default.createElement("span",{className:"item-item"},"支出额"),o.default.createElement("span",{className:"item-item"},"实付额")),o.default.createElement("div",{className:"ba-title-item"},o.default.createElement("span",{className:"item-item"},"收支净额"),o.default.createElement("span",{className:"item-item"},"收付净额"))),o.default.createElement(c.ScrollView,{flex:"1",uniqueKey:"xmye-scroll",className:"scroll-item",savePosition:!0},o.default.createElement("div",{className:"ba-list flow-content"},function e(a,r){return a.map(function(a,i){var l,s,c=E.indexOf(a.get("uuid"))>-1,d=r>1?"#FEF3E3":"#fff";return a.get("childList").size?o.default.createElement("div",{key:i},o.default.createElement(m.default,(_(l={leve:r,className:"balance-running-tabel-width",style:{backgroundColor:d},ba:a,haveChild:!0,showChild:c,history:n,dispatch:t,issuedate:u},"issuedate",u),_(l,"endissuedate",y),_(l,"isTop",R),_(l,"xmType",L),_(l,"runningType",A),_(l,"categoryUuid",w),_(l,"runningCategoryUuid",P),_(l,"propertyCost",M),l)),c?e(a.get("childList"),r+1):""):o.default.createElement("div",{key:i},o.default.createElement(m.default,(_(s={leve:r,className:"balance-running-tabel-width",style:{backgroundColor:d},ba:a,haveChild:!1,showChild:c,history:n,dispatch:t,issuedate:u},"issuedate",u),_(s,"endissuedate",y),_(s,"isTop",R),_(s,"xmType",L),_(s,"runningType",A),_(s,"runningCategoryUuid",P),s)),c?e(a.get("childList"),r+1):"")})}(b,1)),o.default.createElement(s.ScrollLoad,{diff:1,classContent:"flow-content",callback:function(e){t(d.getProjectBalanceList(u,y,I+1,R,w,P,M,!0,!0,e))},isGetAll:I>=N,itemSize:b.size})))}}]),t}())||a;t.default=y},2342:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(0),u=(r=i)&&r.__esModule?r:{default:r},l=(n(9),n(22)),s=n(16),c=(n(1067),f(n(1600))),d=f(n(1437));function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var g=(0,l.immutableRenderDecorator)(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default.Component),o(t,[{key:"render",value:function(){var e=this.props,t=e.ba,n=e.style,a=e.dispatch,r=e.className,o=e.leve,i=e.haveChild,l=e.showChild,f=e.history,g=e.issuedate,m=e.endissuedate,p=e.isTop,h=e.xmType,E=e.runningType,_=e.categoryUuid,y=e.runningCategoryUuid,T=e.propertyCost,v={background:{1:"#fff",2:"#D1C0A5",3:"#7E6B5A",4:"#59493f"}[o],minWidth:(o-1)/100*10+"rem"};return u.default.createElement("div",{className:"ba "+r,style:n},u.default.createElement("div",null,u.default.createElement("span",{className:"name",onClick:function(e){sessionStorage.setItem("fromPage","xmyeb"),a(d.changeDetailXmmxCommonString("",["flags","categoryName"],E)),a(i?d.getFirstProjectDetailList(g,m,1,"DETAIL_AMOUNT_TYPE_HAPPEN",t.get("uuid"),"","false",y,T,"",f,!0):d.getFirstProjectDetailList(g,m,1,"DETAIL_AMOUNT_TYPE_HAPPEN",_,t.get("uuid"),p,y,T,t.get("code")+" "+t.get("name"),f,!0)),a(d.changeDetailXmmxCommonString("",["flags","xmType"],h))}},1==o?"":u.default.createElement("span",{className:"ba-flag",style:v}),u.default.createElement("span",{className:"name-name"},t.get("code")?t.get("code")+"_"+t.get("name"):t.get("name"))),u.default.createElement("span",{className:"btn",onClick:function(){return a(c.accountBalanceTriangleSwitch(l,t.get("uuid")))}},u.default.createElement(s.Icon,{type:"arrow-down",style:{visibility:i?"visible":"hidden",transform:l?"rotate(180deg)":""}}))),u.default.createElement("div",{className:"double-ba-info"},u.default.createElement("span",{className:"double-item-list"},u.default.createElement(s.Amount,{showZero:!0},t.get("incomeAmount")),u.default.createElement(s.Amount,{showZero:!0},t.get("realIncomeAmount"))),u.default.createElement("span",{className:"double-item-list"},u.default.createElement(s.Amount,{showZero:!0},t.get("expenseAmount")),u.default.createElement(s.Amount,{showZero:!0},t.get("realExpenseAmount"))),u.default.createElement("span",{className:"double-item-list"},u.default.createElement(s.Amount,{showZero:!0},t.get("balanceAmount")),u.default.createElement(s.Amount,{showZero:!0},t.get("realBalanceAmount")))))}}]),t}())||a;t.default=g},2343:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(0),i=(a=o)&&a.__esModule?a:{default:a},u=n(16),l=(s(n(10)),n(9));s(n(25));function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),a=[];return n.props.data.getIn([n.props.leftIdx,"children"]).map(function(e,t){a.push(e.get("value"))}),n.state={showList:a},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"componentWillReceiveProps",value:function(e){if(!(0,l.is)(e.leftIdx,this.props.leftIdx)){var t=[];e.data.getIn([e.leftIdx,"children"]).map(function(e,n){t.push(e.get("value"))}),this.setState({showList:t})}}},{key:"render",value:function(){var e=this,t=this.props,n=t.data,a=t.onChange,r=t.leftIdx,o=t.leftClick,l=this.state.showList,s=n.getIn([r,"value"]),c=n.getIn([r,"children"]);return i.default.createElement(u.Container,{className:"xmye-category"},i.default.createElement(u.ScrollView,{flex:"1",className:"wlye-category-menu-scroll"},i.default.createElement("div",{className:"xmye-category-menu"},i.default.createElement("div",{className:"menu-left"},n.map(function(e,t){return i.default.createElement(u.Row,{key:e.get("value"),className:"menu-left-item overElli "+(s==e.get("value")?"menu-left-item-selected":""),onClick:function(){return o(t)}},e.get("label"))})),i.default.createElement("div",{className:"menu-right"},function t(n,r){return n&&n.map(function(n,o){if(n.get("children")&&n.get("children").size){var c=l.some(function(e){return e===n.get("value")});return i.default.createElement("div",{key:n.get("value")},i.default.createElement(u.Row,{className:"menu-right-item",style:{paddingLeft:r+"rem"},onClick:function(){return a([s,n.get("value")])}},i.default.createElement("div",{className:"overElli"},n.get("label")),i.default.createElement(u.Icon,{style:c?{transform:"rotate(180deg)"}:"",type:"arrow-down",onClick:function(t){t.stopPropagation();var a=l;if(c){var r=a.findIndex(function(e){return e===n.get("value")})-1;r>-1?a=a.splice(r,1):a.shift()}else a.push(n.get("value"));e.setState({showList:a})}})),c?t(n.get("children"),r+.05):"")}return i.default.createElement(u.Row,{key:n.get("value"),className:"menu-right-item overElli",style:{paddingLeft:r+"rem"},onClick:function(){return a([s,n.get("value")])}},n.get("label"))})}(c,.1)))))}}]),t}();t.default=c},2344:function(e,t,n){},2346:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,n=arguments[1];return((e={},o(e,r.INIT_XMYEB,function(){return i}),o(e,r.GET_XM_BALANCE_LIST,function(){n.isReflash&&(t=t.set("balanceTemp",i)),"true"===n.getPeriod&&(t=t.set("period",(0,a.fromJS)(n.period)).set("issues",(0,a.fromJS)(n.issues))),n.changeDate&&(t=t.setIn(["flags","xmType"],i.getIn(["flags","xmType"])).setIn(["flags","runningType"],i.getIn(["flags","runningType"])));var e=[];n.receivedData.length&&(e.push(n.receivedData[0].uuid),n.receivedData[0].childList.length&&function t(n){return n.map(function(n,a){n.childList&&n.childList.length&&t(n.childList),e.push(n.uuid)})}(n.receivedData[0].childList));var r=[];if(n.shouldConcat){var o=t.get("balanceTemp").toJS();r=o.concat(n.receivedData)}else r=n.receivedData;return t.set("balanceTemp",(0,a.fromJS)(r)).setIn(["flags","issuedate"],(0,a.fromJS)(n.issuedate)).setIn(["flags","endissuedate"],(0,a.fromJS)(n.endissuedate)).setIn(["flags","balanceAmount"],n.balanceAmount).setIn(["flags","expenseAmount"],n.expenseAmount).setIn(["flags","incomeAmount"],n.incomeAmount).setIn(["flags","realBalanceAmount"],n.realBalanceAmount).setIn(["flags","realExpenseAmount"],n.realExpenseAmount).setIn(["flags","realIncomeAmount"],n.realIncomeAmount).setIn(["flags","categoryUuid"],n.categoryUuid).setIn(["flags","runningCategoryUuid"],n.runningCategoryUuid).setIn(["flags","isTop"],n.isTop).setIn(["flags","propertyCost"],n.propertyCost).setIn(["flags","runningShowChild"],(0,a.fromJS)([])).set("currentPage",n.currentPage).set("pageCount",n.pages)}),o(e,r.ACCOUNTCONF_XM_BALANCE_TRIANGLE_SWITCH,function(){var e=t.getIn(["flags","runningShowChild"]);if(n.showChild){var a=e.splice(e.findIndex(function(e){return e===n.uuid}),1);return t.setIn(["flags","runningShowChild"],a)}var r=e.push(n.uuid);return t.setIn(["flags","runningShowChild"],r)}),o(e,r.CHANGE_ZHYE_MORE_PERIODS,function(){return n.chooseperiods?t.set("chooseperiods",!0):t.update("chooseperiods",function(e){return!e})}),o(e,r.CHANGE_XMYE_COMMON_STRING,function(){return t.setIn(n.placeArr,n.value)}),o(e,r.XMYE_MENU_DATA,function(){return t.setIn(["flags",n.dataType],n.value)}),e)[n.type]||function(){return t})()};var a=n(9),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1601));function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=(0,a.fromJS)({flags:{categoryUuid:"",year:"",month:"",endYear:"",endMonth:"",subordinateUuid:"",runningCategoryUuid:"",propertyCost:"",categoryList:[{children:[]}],projectCategoryList:[{children:[]}],xmType:"损益项目",runningType:"全部",endissuedate:"",menuLeftIdx:0,lbMenuLeftIdx:0,menuType:""},issues:[],code:"",uuid:"489391919097446400",categoryUuid:"",incomeAmount:"",expenseAmount:"",balanceAmount:"",realIncomeAmount:"",realExpenseAmount:"",realBalanceAmount:"",childList:[],balanceTemp:[]})},984:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.view=t.reducer=void 0;var a=i(n(2341)),r=i(n(2346)),o=i(n(1603));function i(e){return e&&e.__esModule?e:{default:e}}var u={xmyebState:r.default,xmmxbState:o.default};t.reducer=u,t.view=a.default}}]);