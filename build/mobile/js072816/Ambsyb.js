(window.webpackJsonp=window.webpackJsonp||[]).push([[108],{1584:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.INIT_AMBSYB="INIT_AMBSYB",t.CHANGE_CHAR_DIDMOUNT="CHANGE_CHAR_DIDMOUNT",t.SWITCH_CHAR_STATUS="SWITCH_CHAR_STATUS",t.SET_AMB_ASSID="SET_AMB_ASSID",t.SET_AMB_ASSCATEGORY="SET_AMB_ASSCATEGORY",t.GET_AMB_INCOMESTATEMENT_FETCH="GET_AMB_INCOMESTATEMENT_FETCH",t.CHANGE_AMB_BEGIN_DATE="CHANGE_AMB_BEGIN_DATE",t.GET_AMB_ASS_CATEGORY_LIST="GET_AMB_ASS_CATEGORY_LIST"},1962:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=h(a(0)),s=a(31),i=a(9),l=A(a(10)),c=a(123),u=a(16),f=a(13);a(1963);var m=h(a(1965)),d=h(a(2273)),p=h(a(2274)),g=A(a(2275)),b=A(a(181));function A(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function h(e){return e&&e.__esModule?e:{default:e}}function y(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var S=(0,s.connect)(function(e){return e})(n=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={isCross:!1},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),r(t,[{key:"componentDidMount",value:function(){l.setTitle({title:"阿米巴损益表"}),l.setIcon({showIcon:!1}),l.setRight({show:!1}),this.props.dispatch(g.getAmbAssCategoryList()),this.props.dispatch(g.getPeriodAndAMBIncomeStatementFetch())}},{key:"componentWillUnmount",value:function(){this.props.dispatch(g.changeCharDidmount(!1)),this.props.dispatch(g.switchCharStatus("损益"))}}]),r(t,[{key:"render",value:function(){var e,t=this,a=this.props,n=a.allState,r=a.dispatch,s=a.ambsybState,l=(this.state.isCross,s.get("issuedate")),A=n.get("issues"),h=s.get("endissuedate"),S=A.findIndex(function(e){return e.get("value")===l}),v=l.substr(0,4),E=l.substr(5,2),w=n.getIn(["period","periodStartMonth"]),C=A.slice(0,S).filter(function(e){return Number(E)<Number(w)?0===e.get("value").indexOf(v)&&Number(e.get("key").substr(6,2))<Number(w):0===e.get("value").indexOf(v)||0===e.get("value").indexOf(v-1+2)&&Number(e.get("key").substr(6,2))<Number(w)}),M=s.get("view"),T=M.get("status"),O=M.get("assId"),B=M.get("didMount"),I=M.get("assCategory"),F=s.getIn(["assList",0,"asslist"])?s.getIn(["assList",0,"asslist"]):(0,i.fromJS)([]),N=s.get("gainAndLoss"),x=s.get("trendMap"),D={"收入":function(){return x.get("incomeForMonth").slice(-6)},"支出":function(){return x.get("payForMonth").slice(-6)},"损益":function(){return x.get("ginAndLossForMonth").slice(-6)}}[T](),L=s.get("detailDrawing"),j={"收入":function(){return L.get("incomeForMonth")},"支出":function(){return L.get("payForMonth")},"损益":function(){return L.get("ginAndLossForMonth")?L.get("ginAndLossForMonth"):(0,i.fromJS)([])}}[T](),R=F.toJS();R.unshift({assid:"",assname:"全部"});var G=s.get("ambSourceList"),_=(0,i.fromJS)(R).map(function(e){return{key:e.get("assid")+" "+e.get("assname"),value:e.get("assid")}}),P=(s.get("assList").map(function(e){return{key:e.get("asscategory"),value:e.get("asscategory")}}),{"收入":function(){return"支出"},"支出":function(){return"损益"},"损益":function(){return"收入"}}[T]()),J=N.get("income"),k=N.get("pay"),U=(N.get("ginAndLoss"),J>=k),Y=O?F.find(function(e){return e.get("assid")===O}).get("disableTime"):"",H=""+l.substr(0,4)+l.substr(5,2),q=h?""+h.substr(0,4)+h.substr(5,2):H;return r(b.navigationSetMenu("config","",function(){return function(e){return e(b.allExportDo("excelAMBIncome",{begin:H,end:q,assCategory:""+I}))}})),o.default.createElement(u.Container,{className:"jz ass-config"},o.default.createElement(c.TopMonthPicker,{issuedate:l,source:A,callback:function(e){r(g.getAMBIncomeStatementFetch(e,h,O,I)),t.props.dispatch(g.switchCharStatus("损益"))},onOk:function(e){r(g.getAMBIncomeStatementFetch(e.value,h,O,I)),t.props.dispatch(g.switchCharStatus("损益"))},showSwitch:!0,endissuedate:h,nextperiods:C,onBeginOk:function(e){r(g.getAMBIncomeStatementFetch(e.value,"",O,I)),t.props.dispatch(g.switchCharStatus("损益"))},onEndOk:function(e){r(g.getAMBIncomeStatementFetch(l,e.value,O,I)),t.props.dispatch(g.switchCharStatus("损益"))},changeEndToBegin:function(){r(g.getAMBIncomeStatementFetch(l,"",O,I))}}),o.default.createElement(u.Row,{className:"amb-select-wrap"},o.default.createElement(u.Single,{className:"amb-select-category-select",district:G.toJS(),value:I,onOk:function(e){r(g.getAMBIncomeStatementFetch(l,h,"",e.value))}},o.default.createElement("span",{className:"amb-select-name"},I),o.default.createElement(u.Icon,{className:"amb-select-icon",type:"triangle",size:"11"})),o.default.createElement("span",{className:"amb-select-ass-select-middle"}),o.default.createElement(u.Single,{className:"amb-select-ass-select",district:_.toJS(),onOk:function(e){t.props.dispatch(g.switchCharStatus("损益")),r(g.getAMBIncomeStatementFetch(l,h,e.value,I))}},o.default.createElement("span",{className:["amb-select-name",Y?"amb-select-name-disable":""].join(" ")},""===O?"全部":F.find(function(e){return e.get("assid")===O}).get("assname")),o.default.createElement(u.Icon,{className:"amb-select-icon",type:"triangle",size:"11"}))),o.default.createElement(u.ScrollView,{className:"content",flex:"1"},o.default.createElement("div",{className:"ambysb-charts-wrap"},o.default.createElement("div",{className:"ambysb-title"},o.default.createElement("span",{className:"ambysb-title-text"},"收支损益关系图",o.default.createElement("span",{className:"amb-piechar-wrap-unit"},"(单位：万元)"))),B?o.default.createElement("div",{className:"amb-piechar-wrap"},o.default.createElement(p.default,{gainAndLoss:N})):"",o.default.createElement("div",{className:"amb-piechar-legend"},o.default.createElement("span",{className:"amb-piechar-amount-left"},o.default.createElement("span",{className:"amb-piechar-name-income"},(""===J?"0.00":(0,f.formatMoney)(J/1e4,2,""))+" 收入"),o.default.createElement("span",{className:"amb-piechar-income"})),o.default.createElement("span",{className:"amb-piechar-amount-right"},o.default.createElement("span",{className:"amb-piechar-pay"}),o.default.createElement("span",{className:"amb-piechar-name-pay"},"支出 "+(""===k?"0.00":(0,f.formatMoney)(k/1e4,2,"")))))),o.default.createElement("div",{className:"ambysb-charts-wrap"},o.default.createElement("div",{className:"ambysb-title",onClick:function(){return r(g.switchCharStatus(P))}},o.default.createElement("span",{className:"ambysb-title-text"},T+"走势图",o.default.createElement("span",{className:"amb-piechar-wrap-unit"},"(单位：万元)")),o.default.createElement("span",{className:"ambysb-title-switch"},o.default.createElement(u.Icon,{type:"cutover"}),"切换类型")),B?o.default.createElement(m.default,{incomeBigger:U,status:T,lineData:D}):""),o.default.createElement("div",{className:"ambysb-charts-wrap"},o.default.createElement("div",{className:"ambysb-title",onClick:function(){return r(g.switchCharStatus(P))}},o.default.createElement("span",{className:"ambysb-title-text"},T+"比较图",o.default.createElement("span",{className:"amb-piechar-wrap-unit"},"(单位：万元)")),o.default.createElement("span",{className:"ambysb-title-switch"},o.default.createElement(u.Icon,{type:"cutover"}),"切换类型")),B?"损益"===T&&""!==O?o.default.createElement("div",{className:"ambysb-ambbarchar-tip"},o.default.createElement("div",{className:"ambysb-ambbarchar-tip-img"},o.default.createElement("img",{src:"data:image/png;base64,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"})),o.default.createElement("div",{className:"ambysb-ambbarchar-tip-content"},"损益由收入与支出作差得出，无明细科目构成哦")):o.default.createElement(d.default,(y(e={incomeBigger:U,status:T,dispatch:r},"status",T),y(e,"assId",O),y(e,"barData",j),e)):"")))}}]),t}())||n;t.default=S},1963:function(e,t,a){},1965:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,r,o,s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=u(a(0)),l=a(22),c=u(a(1264));a(13);function u(e){return e&&e.__esModule?e:{default:e}}var f=(0,l.immutableRenderDecorator)((o=r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),s(t,[{key:"render",value:function(){var e=this.props,t=e.lineData,a=e.status,n=e.incomeBigger,r=t.map(function(e){return Number(e.get("name").substr(4,2))+"月"}).toJS(),o=t.map(function(e){return(e.get("amount")/1e4).toFixed(2)-0}).toJS(),s="",l="",u="",f="";({"收入":function(){return s="#ffa364",l="#fff3ed",u="#ffc8a3",f="#fff7f1"},"支出":function(){return s="#71a4e1",l="#f4f9ff",u="#b8d3ff",f="#eff7ff"},"损益":function(){return n?(s="#ffd092",l="#fff6e9",u="#ffe0b6",f="#fffaf3"):(s="#A1CFFF",l="#F8FBFF",u="#D3E5FF",f="#F6FAFF")}})[a]();var m={color:[s],tooltip:{trigger:"axis"},grid:{show:!0,bottom:"30px",top:"30px",backgroundColor:f,borderWidth:0},xAxis:{type:"category",boundaryGap:!1,data:r,axisLine:{lineStyle:{color:"#333"}},axisLabel:{textStyle:{fontSize:"14"}}},yAxis:{type:"value",axisLabel:{formatter:"{value}"},axisLine:{lineStyle:{color:"#fff"}},splitLine:{show:!0,lineStyle:{type:"dashed",color:u}}},series:[{name:"金额",type:"line",symbolSize:8,showSymbol:!0,label:{normal:{position:"right"}},areaStyle:{normal:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:s},{offset:1,color:l}],globalCoord:!1}}},data:o,markPoint:{show:!1,symbolSize:15,label:{normal:{textStyle:{color:"#2f4554",fontSize:18,fontWeight:"bold"},position:"top"}},data:[{type:"max",name:"最大值"},{type:"min",name:"最小值"}]}}]};return i.default.createElement(c.default,{option:m,className:"amb-linechar"})}}]),t}(),r.propTypes={},n=o))||n;t.default=f},2273:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,r,o,s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=u(a(0)),l=a(22),c=u(a(1264));a(13);function u(e){return e&&e.__esModule?e:{default:e}}var f=(0,l.immutableRenderDecorator)((o=r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),s(t,[{key:"render",value:function(){var e=this.props,t=e.barData,a=e.style,n=e.status,r=(e.assId,e.incomeBigger),o="",s="",l="",u="",f="";({"收入":function(){return o="#ffa364",s="#fff3ed",l="#ffc8a3",u="#fff7f1",f="#ff9f5e"},"支出":function(){return o="#71a4e1",s="#f4f9ff",l="#b8d3ff",u="#eff7ff",f="#75a9ff"},"损益":function(){return r?(o="#ffd092",s="#fff6e9",l="#ffe0b6",u="#fffaf3",f="#FFBC63"):(o="#A1CFFF",s="#F8FBFF",l="#D3E5FF",u="#F6FAFF",f="#A1CFFF")}})[n]();var m={normal:{position:"right"}},d=t.map(function(e){return e.get("name")}).toJS().reverse(),p=t.reduce(function(e,t){return e+Number(t.get("amount"))},0).toFixed(2),g=[];t.map(function(e){e.get("amount")<0?g.push({value:(e.get("amount")/1e4).toFixed(2)-0,label:m,itemStyle:{normal:{color:{type:"linear",x:0,y:0,x2:1,y2:0,colorStops:[{offset:0,color:o},{offset:1,color:s}],globalCoord:!1}}}}):g.push((e.get("amount")/1e4).toFixed(2)-0)}),g.reverse();var b={color:["#ff7b43"],tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:function(e){var a=t.getIn([t.size-1-e[0].dataIndex,"amount"]),n=(n=a/p*100)&&0!=p?n.toFixed(2):"-";return"<span>\n\t\t\t\t\t\t"+e[0].name+"\n\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t● 金额："+(a/1e4).toFixed(2)+"\n\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t● 占比："+n+"%\n\t\t\t\t\t</span>"}},grid:{show:!0,top:25,bottom:40,backgroundColor:u,borderWidth:0},xAxis:{type:"value",position:"botton",axisLabel:{textStyle:{fontSize:"14"}},splitLine:{lineStyle:{type:"dashed",color:l}}},yAxis:{type:"category",axisLine:{show:!1},axisTick:{show:!1},splitLine:{show:!1},data:d,axisLabel:{inside:!0,textStyle:{color:"#000",position:"insideLeft",fontSize:"14"}},z:10},series:[{name:"金额",type:"bar",itemStyle:{normal:{color:{type:"linear",x:0,y:0,x2:1,y2:0,colorStops:[{offset:0,color:s},{offset:1,color:o}],globalCoord:!1}}},barWidth:"40%",data:g,markLine:{symbol:"",lineStyle:{normal:{color:f,width:2}},label:{normal:{show:!1}},data:[{xAxis:0}]}}]};return i.default.createElement("div",{style:a},i.default.createElement(c.default,{option:b,className:"amb-Barchar"}))}}]),t}(),r.propTypes={},n=o))||n;t.default=f},2274:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,r,o,s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=m(a(0)),l=a(22),c=m(a(1264)),u=a(13),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(25));function m(e){return e&&e.__esModule?e:{default:e}}var d=(0,l.immutableRenderDecorator)((o=r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),s(t,[{key:"render",value:function(){var e=this.props.gainAndLoss,t=e.get("income")>0?(e.get("income")/1e4).toFixed(2)-0:0,a=e.get("pay")>0?(e.get("pay")/1e4).toFixed(2)-0:0,n=(e.get("ginAndLoss")/1e4).toFixed(2)-0,r=(0,u.formatMoney)(t,2,""),o=(0,u.formatMoney)(a,2,""),s=(0,u.formatMoney)(n,2,""),l="收入 "+r,m="支出 "+o,d=s+f.ENTER_TRANSFERRED+"损益",p=[],g=[],b={normal:{color:"transparent"}};if(t>a){var A=n<=a;p=[{value:a,name:"",itemStyle:b},{value:n,name:d,label:{normal:{position:"center",textStyle:{fontSize:17,fontWeight:"bold"}}},itemStyle:{normal:{color:"#ffbe92",borderWidth:1,borderColor:"#ffbe92"}}},{value:a,name:"",itemStyle:b}],g=[{value:a,name:m,itemStyle:{normal:{color:"#5ca7f2"}}},{value:n,name:""+(A?"":l),itemStyle:{normal:{color:"#ffa364",borderWidth:1,borderColor:"#ffbe92"}},label:{normal:{show:!1}}},{value:a,name:""+(A?l:""),itemStyle:{normal:{color:"#ffa364"}},label:{normal:{show:!1}}}]}else if(t<a){var h=-n>t;p=[{value:t,name:"",itemStyle:b},{value:-n,name:d,label:{normal:{position:"center",textStyle:{fontSize:17}}},itemStyle:{normal:{color:"#8dc1f6",borderWidth:1,borderColor:"#8dc1f6"}}},{value:t,name:"",itemStyle:b}],g=[{value:t,name:""+(h?"":m),itemStyle:{normal:{color:"#5ca7f2"}},label:{normal:{show:!1}}},{value:-n,name:""+(h?m:""),itemStyle:{normal:{color:"#5ca7f2",borderColor:"#8dc1f6"}},label:{normal:{show:!1}}},{value:t,name:l,itemStyle:{normal:{color:"#ffa364"}}}]}else t==a&&(p=[{value:n,name:"损益"+s,label:{normal:{position:"center",textStyle:{fontSize:17}}},itemStyle:b}],g=[{value:a,name:m,itemStyle:{normal:{color:"#5ca7f2"}}},{value:t,name:l,itemStyle:{normal:{color:"#ffa364"}}}]);var y={series:[{name:"收入",type:"pie",silent:!0,minAngle:1,radius:["10%","55%"],center:["50%","60%"],label:{normal:{textStyle:{color:"#666"}}},labelLine:{normal:{show:!1}},data:p},{minAngle:1,label:{normal:{show:!1}},silent:!0,name:"比例",type:"pie",radius:["55%","70%"],center:["50%","60%"],data:g}]};return i.default.createElement(c.default,{className:"amb-piechar",option:y})}}]),t}(),r.propTypes={},n=o))||n;t.default=d},2275:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.changeAmbBeginDate=t.seAmbAsscategory=t.setAmbAssId=t.changeCharDidmount=t.switchCharStatus=t.getAmbAssCategoryList=t.getAMBIncomeStatementFetch=t.getPeriodAndAMBIncomeStatementFetch=void 0;var n,r=a(13),o=a(24),s=(n=o)&&n.__esModule?n:{default:n},i=f(a(181)),l=f(a(1584)),c=f(a(10)),u=f(a(25));function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}t.getPeriodAndAMBIncomeStatementFetch=function(e,t,a,n){return function(r){r(m(e,t,a,n,"true"))}};var m=t.getAMBIncomeStatementFetch=function(e,t,a,n,o){return function(f){c.toast.loading(u.LOADING_TIP_TEXT,0),(0,s.default)("AMBIncomeStatement","POST",JSON.stringify({begin:e?""+e.substr(0,4)+e.substr(5,2):"",end:t?""+t.substr(0,4)+t.substr(5,2):e?""+e.substr(0,4)+e.substr(5,2):"",ass:{assId:a||"",assCategory:n||""},getPeriod:o}),function(s){if(23001===s.code)c.toast.hide(),c.Alert(s.message,"收到");else if((0,r.showMessage)(s)){if(c.toast.hide(),"true"===o){var u=f(i.everyTableGetPeriod(s)),m=e||u;f({type:l.GET_AMB_INCOMESTATEMENT_FETCH,receivedData:s.data.mainData,issuedate:m,assId:a,assCategory:n})}else f({type:l.GET_AMB_INCOMESTATEMENT_FETCH,receivedData:s.data.mainData,issuedate:e,endissuedate:t,assId:a,assCategory:n});f(d(!0))}})}},d=(t.getAmbAssCategoryList=function(){return function(e){(0,s.default)("asslistforamb","GET","",function(t){(0,r.showMessage)(t)&&e({type:l.GET_AMB_ASS_CATEGORY_LIST,receivedData:t.data})})}},t.switchCharStatus=function(e){return{type:l.SWITCH_CHAR_STATUS,nextStatus:e}},t.changeCharDidmount=function(e){return{type:l.CHANGE_CHAR_DIDMOUNT,bool:e}});t.setAmbAssId=function(e){return{type:l.SET_AMB_ASSID,assId:e}},t.seAmbAsscategory=function(e){return{type:l.SET_AMB_ASSCATEGORY,assCategory:e}},t.changeAmbBeginDate=function(e,t){return{type:l.CHANGE_AMB_BEGIN_DATE,begin:e,bool:t}}},2276:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,a=arguments[1];return((e={},o(e,r.INIT_AMBSYB,function(){return s}),o(e,r.CHANGE_CHAR_DIDMOUNT,function(){return t.setIn(["view","didMount"],a.bool)}),o(e,r.SWITCH_CHAR_STATUS,function(){return t.setIn(["view","status"],a.nextStatus)}),o(e,r.SET_AMB_ASSID,function(){return t.setIn(["view","assId"],a.assId)}),o(e,r.SET_AMB_ASSCATEGORY,function(){return t.setIn(["view","assCategory"],a.assCategory)}),o(e,r.GET_AMB_INCOMESTATEMENT_FETCH,function(){return t=(t=a.assId?t.setIn(["view","assId"],a.assId):t.set("assList",(0,n.fromJS)(a.receivedData.assList)).setIn(["view","assId"],"").setIn(["view","assCategory"],a.receivedData.assCategory)).set("gainAndLoss",(0,n.fromJS)(a.receivedData.gainAndLoss)).set("trendMap",(0,n.fromJS)(a.receivedData.trendMap)).set("detailDrawing",(0,n.fromJS)(a.receivedData.detailDrawing)).set("issuedate",a.issuedate).set("endissuedate",a.endissuedate)}),o(e,r.GET_AMB_ASS_CATEGORY_LIST,function(){var e=a.receivedData.map(function(e){return{key:e.asscategory,value:e.asscategory}});return t.set("ambSourceList",(0,n.fromJS)(e))}),o(e,r.CHANGE_AMB_BEGIN_DATE,function(){return t=a.bool?t.set("endissuedate",a.begin):t.set("issuedate",a.begin)}),e)[a.type]||function(){return t})()};var n=a(9),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(1584));function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var s=(0,n.fromJS)({view:{status:"损益",assId:"",assCategory:"",didMount:!1},issuedate:"",endissuedate:"",ambSourceList:[],assList:[],gainAndLoss:{income:0,pay:0,ginAndLoss:0},trendMap:{incomeForMonth:[],payForMonth:[],ginAndLossForMonth:[]},detailDrawing:{incomeForMonth:[],payForMonth:[],ginAndLossForMonth:[]}})},971:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.view=t.reducer=void 0;var n=r(a(1962));function r(e){return e&&e.__esModule?e:{default:e}}var o={ambsybState:r(a(2276)).default};t.reducer=o,t.view=n.default}}]);