(window.webpackJsonp=window.webpackJsonp||[]).push([[117],{1214:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,a=arguments[1];return((e={},u(e,r.INIT_LRPZ,function(){return c.set("year",t.get("year")).set("month",t.get("month")).set("vcdate",t.get("vcdate")).set("vcindex",t.get("vcindex"))}),u(e,r.SET_CKPZ_IS_SHOW,function(){return t.setIn(["flags","showckpz"],a.bool)}),u(e,r.CHANGE_SELECT_COMPONENT_DISPLAY,function(){return t.updateIn(["flags","selectComponentDisplay"],function(e){return!e})}),u(e,r.SELECT_JV,function(){return t.setIn(["flags","jvSelectedIdx"],a.idx)}),u(e,r.INSERT_JV,function(){var e=i(t),n=e.getIn(["flags","debitTotal"])-e.getIn(["flags","creditTotal"]);return i(t.update("jvlist",function(e){return e.insert(a.idx+1,e.get(a.idx).update("jvdirection",function(e){return n>0?"credit":"debit"}).set("jvamount",Math.abs(n).toFixed(2)-0||"").set("acid","").set("acname","").set("acfullname","").set("asslist",[]).set("acunitOpen","0").set("jvcount","").set("price","").set("jvunit","").set("fcStatus","0").set("fcNumber","").set("exchange","").set("standardAmount",""))}))}),u(e,r.DELETE_JV,function(){return i(t.get("jvlist").size>1?t.deleteIn(["jvlist",a.idx]):t)}),u(e,r.DELETE_JV_ALL,function(){return i(t.update("jvlist",function(e){return e.clear()}))}),u(e,r.CHANGE_VC_ID,function(){return t.set("vcindex",Number(a.vcindex))}),u(e,r.CHANGE_JV_ABSTRACT,function(){return t.setIn(["jvlist",a.idx,"jvabstract"],a.jvabstract)}),u(e,r.CHANGE_JV_ACID_AND_ACNAME_AND_ASSCATEGORYLIST,function(){var e=a.asscategorylist.map(function(e){return(0,n.fromJS)({assid:"",assname:"",asscategory:e})});return t.updateIn(["jvlist",a.idx],function(t){return t.set("acid",a.acid).set("acfullname",a.acfullname).set("acname",a.acname).set("asslist",e)})}),u(e,r.CHANGE_JV_AMOUNT,function(){return(/^[-\d]\d*\.?\d{0,2}$/g.test(a.jvamount)||""===a.jvamount)&&(t=i(t=t.setIn(["jvlist",a.idx,"jvamount"],a.jvamount))),t}),u(e,r.CHANGE_JV_DIRECTION,function(){return i(t.updateIn(["jvlist",a.idx,"jvdirection"],function(e){return"credit"==e?"debit":"credit"}))}),u(e,r.CHANGE_JV_ASSID_AND_ASSNAME,function(){return t.updateIn(["jvlist",a.idx,"asslist"],function(e){return e.map(function(e){return e.get("asscategory")==a.asscategory?e.set("assid",a.assid).set("assname",a.assname):e})})}),u(e,r.PUSH_VOUCHER_TO_LRPZ_REDUCER,function(){if(!a.voucher)return t;var e=(0,n.fromJS)(a.voucher);return i(t.merge(e).set("oldvcindex",e.get("vcindex")).set("oldyear",e.get("year")).set("oldmonth",e.get("month")).set("oldvcdate",e.get("vcdate")))}),u(e,r.GET_LAST_VC_ID_FETCH,function(){return t.set("month",a.vcdate.getMonth()).set("year",a.vcdate.getYear()).set("vcdate",a.vcdate.toString()).set("vcindex",a.receivedData.data)}),u(e,r.MODIFY_VCDATE,function(){t.get("oldvcdate");var e=a.date;return t.set("vcdate",e.toString())}),u(e,r.ENTER_JVITEM_FETCH,function(){a.data;return"modify"===sessionStorage.getItem("lrpzHandleMode")&&(t=t.setIn(["flags","showckpz"],!0)),"insert"===sessionStorage.getItem("lrpzHandleMode")&&(t=t.set("createdtime",a.createdtime).set("createdby",a.createdby)),a.refresh&&(t=i(t.set("jvlist",c.get("jvlist")).set("vcindex",a.NewVcIndex))),t.set("vckey",0).set(["flags","locked",""])}),u(e,r.REVIEWED_JVLIST,function(){return t.set("reviewedby",a.reviewedby)}),u(e,r.CANCEL_REVIEWED_JVLIST,function(){return t.set("reviewedby","")}),u(e,r.DRAFT_SAVE_FETCH,function(){return t.set("vckey",a.receivedData)}),u(e,r.GET_DRAFT_ITEM_FETCH,function(){return i((t=a.judgeLocked?c.set("vcindex",a.receivedData+1).set("vcdate",a.vcDate.toString()).set("year",a.vcDate.getYear()).set("month",a.vcDate.getMonth()):c.set("vcindex",a.getDraftItem.vcindex).set("vcdate",a.getDraftItem.vcdate).set("year",a.getDraftItem.year).set("month",a.getDraftItem.month)).set("jvlist",(0,n.fromJS)(a.getDraftItem.jvlist)).set("vckey",a.getDraftItem.vckey).set("enclosureCountUser",a.getDraftItem.enclosureCountUser).setIn(["flags","locked"],a.getDraftItem.locked).setIn(["flags","showckpz"],!0))}),u(e,r.LRPZ_LOCE_DRAFT,function(){return t.setIn(["flags","locked"],"1")}),u(e,r.LRPZ_UN_LOCE_DRAFT,function(){return t.setIn(["flags","locked"],"0")}),u(e,r.GET_AMOUNT_DATA,function(){return(t=t.setIn(["jvlist",a.idx,"jvunit"],a.receivedData.acunit).setIn(["jvlist",a.idx,"acunitOpen"],a.receivedData.acunitOpen).setIn(["jvlist",a.idx,"jvcount"],"")).getIn(["jvlist",a.idx,"jvdirection"])||(t=t.setIn(["jvlist",a.idx,"jvdirection"],a.receivedData.direction)),t=0==a.receivedData.price?t.setIn(["jvlist",a.idx,"price"],""):t.setIn(["jvlist",a.idx,"price"],a.receivedData.price)}),u(e,r.CHANGE_JV_COUNT,function(){new RegExp("^[-\\d]\\d*\\.?\\d{0,"+Number(a.unitDecimalCount)+"}$","g");return Number(a.jvCount)>1e6||Number(a.jvCount)<-1e6?alert("数量不能超过"+l.LRPZ_COUNT_LENGTH+"位"):t.setIn(["jvlist",a.idx,"jvcount"],a.jvCount)}),u(e,r.CHANGE_JV_PRICE,function(){return/^[-\d]\d*\.?\d{0,2}$/g.test(a.jvPrice)||""===a.jvPrice?(Number(a.jvPrice)<0&&(alert("单价不允许为负数"),a.jvPrice=-Number(a.jvPrice)),Number(a.jvPrice)>1e9||Number(a.jvPrice)<-1e9?alert("单价不能超过"+l.LRPZ_PRICE_LENGTH+"位"):t.setIn(["jvlist",a.idx,"price"],a.jvPrice)):t}),u(e,r.AUTO_CALCULATE,function(){var e=t.getIn(["jvlist",a.idx,"price"]),n=t.getIn(["jvlist",a.idx,"jvcount"]),r=t.getIn(["jvlist",a.idx,"jvamount"]);if("count"==a.value||"price"==a.value)if(Number(n)&&Number(e))Number(r)<0&&n?n=-Math.abs(n):Number(r)>0&&n&&(n=Math.abs(n)),n=Number(n)%1==0?Math.floor(n):parseFloat(Number(n).toFixed(2)),e=Number(e)%1==0?Math.floor(e):parseFloat(Number(e).toFixed(2)),t=t.setIn(["jvlist",a.idx,"price"],e).setIn(["jvlist",a.idx,"jvcount"],n).setIn(["jvlist",a.idx,"jvamount"],(n*e).toFixed(2));else if(""==e&&n&&r)e=r/n,e=Number(e)%1==0?Math.floor(e):parseFloat(Number(e).toFixed(2)),t=t.setIn(["jvlist",a.idx,"price"],e);else if(""==n&&e&&r)n=parseFloat((r/e).toFixed(a.unitDecimalCount)),Number(n)%1==0&&(n=Math.floor(n)),t=t.setIn(["jvlist",a.idx,"jvcount"],n);else{if(0==n||!r)return t;e=r/n,e=Number(e)%1==0?Math.floor(e):parseFloat(Number(e).toFixed(2)),t=t.setIn(["jvlist",a.idx,"price"],e)}else if("amount"==a.value){if(!n||!r)return t;Number(r)<0&&n?n=-Math.abs(n):Number(r)>0&&n&&(n=Math.abs(n)),e=r/n,e=Number(e)%1==0?Math.floor(e):parseFloat(Number(e).toFixed(2)),t=t.setIn(["jvlist",a.idx,"price"],e).setIn(["jvlist",a.idx,"jvcount"],n)}return i(t)}),u(e,r.CLEAR_AC_UNIT_OPEN,function(){return t.setIn(["jvlist",a.idx,"acunitOpen"],"0")}),u(e,r.GET_FJ_DATA,function(){if(!a.receivedData)return t;var e=(0,n.fromJS)(a.receivedData);return i(t.merge(e).set("oldvcindex",e.get("vcindex")).set("oldyear",e.get("year")).set("oldmonth",e.get("month")).set("oldvcdate",e.get("vcdate")))}),u(e,r.CHANGE_ENCLOSURE_LIST,function(){var e=[];return t.get("enclosureList").map(function(t){e.push(t)}),a.imgArr.forEach(function(t){e.push(t)}),e=e.slice(0,9),t=t.set("enclosureList",(0,n.fromJS)(e)).set("enclosureCountUser",e.length)}),u(e,r.DELETE_UPLOAD_IMG_URL,function(){return t.get("enclosureList").map(function(e,n){n==a.index&&(t=t.deleteIn(["enclosureList",n]))}),t=t.set("enclosureCountUser",t.get("enclosureList").size)}),u(e,r.GET_UPLOAD,function(){return t=t.set("enclosureList",(0,n.fromJS)(a.receivedData))}),u(e,r.CHANGE_VC_ENCLOSURE_COUNT_USER,function(){return t.set("enclosureCountUser",a.value)}),u(e,r.GET_LABEL_FETCH,function(){var e=[];return a.receivedData.data.forEach(function(t,a){e.push({key:t,value:a})}),t=t.set("label",e)}),u(e,r.CHANGE_TAG_NAME,function(){return t.get("enclosureList").map(function(e,n){n==a.index&&(t=t.setIn(["enclosureList",n,"label"],a.value))}),t}),u(e,r.GET_FC_LIST_DATA_FETCH,function(){var e=(0,n.fromJS)(a.receivedData),r=[];e.map(function(e,t){return r.push(e.get("fcNumber"))});var l=e.filter(function(e){return"1"==e.get("standard")}),o=l.getIn([0,"fcNumber"]),u=l.getIn([0,"exchange"]);return"modify"!=a.idx&&(t=t.setIn(["jvlist",a.idx,"fcStatus"],"1").setIn(["jvlist",a.idx,"fcNumber"],o).setIn(["jvlist",a.idx,"exchange"],u).setIn(["jvlist",a.idx,"jvdirection"],"debit")),t.setIn(["flags","currencyList"],e).setIn(["flags","currencyListArr"],r)}),u(e,r.CLEAR_FC_LIST_DATA,function(){return t.setIn(["jvlist",a.idx,"fcStatus"],"0").setIn(["jvlist",a.idx,"fcNumber"],"").setIn(["jvlist",a.idx,"exchange"],"").setIn(["jvlist",a.idx,"standardAmount"],"")}),u(e,r.CHANGE_JV_NUMBER,function(){return t.setIn(["jvlist",a.idx,"fcNumber"],a.fcNumber).setIn(["jvlist",a.idx,"exchange"],a.exchange)}),u(e,r.CHANGE_JV_EXCHANGE,function(){return/^\d*\.?\d{0,4}$/g.test(a.value)||""===a.value?t.setIn(["jvlist",a.idx,"exchange"],a.value):t}),u(e,r.CHANGE_JV_STANDARDAMOUNT,function(){return/^[-\d]\d*\.?\d{0,2}$/g.test(a.value)||""===a.value?t.setIn(["jvlist",a.idx,"standardAmount"],a.value):t}),u(e,r.AUTO_CALCULATE_ALL,function(){var e=t.getIn(["jvlist",a.idx,"price"]),n=t.getIn(["jvlist",a.idx,"jvcount"]),r=t.getIn(["jvlist",a.idx,"standardAmount"]),l=t.getIn(["jvlist",a.idx,"exchange"]),o=t.getIn(["jvlist",a.idx,"jvamount"]);return e&&n&&r&&l?"count"==a.value?(n=s(n,o),r=s(r,o),o=(n*e).toFixed(2),l=o/r):"price"==a.value?(o=(n*e).toFixed(2),l=o/r):"standardAmount"==a.value?(n=s(n,o),r=s(r,o),o=(r*l).toFixed(2),e=o/n):"exchange"==a.value?(o=(r*l).toFixed(2),e=o/n):"amount"==a.value&&(n=s(n,o),r=s(r,o),o&&(e=Number(o)/n,l=Number(o)/r)):"count"==a.value||"price"==a.value?(Number(n)&&e?(n=s(n,o),o=(Number(n)*e).toFixed(2)):""==e&&n&&o?e=o/n:0!=n&&o?e=o/n:t=t,Number(r)&&(l=o/r)):"standardAmount"==a.value||"exchange"==a.value?(Number(r)&&l?(r=s(r,o),o=(Number(r)*l).toFixed(2)):""==l&&r&&o?(l=(l=o/r)%1==0?Math.floor(l):parseFloat(l.toFixed(4)),t=t.setIn(["jvlist",a.idx,"exchange"],l)):r&&o&&(l=o/r),Number(n)&&(e=o/n)):"amount"==a.value&&(n=s(n,o),r=s(r,o),o&&(!r&&n?e=Number(o)/n:r&&!n?l=Number(o)/r:r&&n&&(e=Number(o)/n,l=Number(o)/r))),n=Number(n)%1==0?Math.floor(n):parseFloat(Number(n).toFixed(a.unitDecimalCount)),r=Number(r)%1==0?Math.floor(r):parseFloat(Number(r).toFixed(2)),e=Number(e)%1==0?Math.floor(e):parseFloat(Number(e).toFixed(2)),l=Number(l)%1==0?Math.floor(l):parseFloat(Number(l).toFixed(4)),i(t=t.setIn(["jvlist",a.idx,"standardAmount"],0===r?"":r).setIn(["jvlist",a.idx,"exchange"],l).setIn(["jvlist",a.idx,"price"],e).setIn(["jvlist",a.idx,"jvcount"],n).setIn(["jvlist",a.idx,"jvamount"],o))}),u(e,r.SET_LRPX_VCLIST,function(){return t.set("vcList",a.vcList)}),e)[a.type]||function(){return t})()};var n=a(9),r=(o(a(10)),a(13),o(a(1223))),l=o(a(25));function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function u(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var c=(0,n.fromJS)({flags:{selectComponentDisplay:!1,jvSelectedIdx:0,debitTotal:"0.00",creditTotal:"0.00",showckpz:!1,vcindexList:[],vcIdx:0,locked:"",currencyList:[],currencyListArr:[]},oldvcindex:"",oldyear:"",oldmonth:"",oldvcdate:"",vcindex:"",year:"",month:"",vcdate:"",createdtime:"",modifiedtime:"",createdby:"",exchange:"",closeby:"",reviewedby:"",enclosureCountUser:"",jvlist:[{jvdirection:"debit",jvabstract:"",acid:"",acname:"",acfullname:"",jvamount:"",asslist:[],acunitOpen:"0",jvcount:"",price:"",jvunit:"",fcStatus:"0",fcNumber:"",exchange:"",standardAmount:""}],vckey:0,enclosureList:[],label:[],needDeleteUrl:[],vcList:[]});function i(e){var t=0,a=0;return e.get("jvlist").map(function(e){"credit"===e.get("jvdirection")?t+=Number(e.get("jvamount")):"debit"===e.get("jvdirection")&&(a+=Number(e.get("jvamount")))}),e=(e=e.setIn(["flags","creditTotal"],t?t.toFixed(2).toString():"0.00")).setIn(["flags","debitTotal"],a?a.toFixed(2).toString():"0.00")}function s(e,t){return Number(t)<0&&e?-Math.abs(e):Number(t)>0&&e?Math.abs(e):e}},1223:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.INIT_LRPZ="INIT_LRPZ",t.SET_CKPZ_IS_SHOW="SET_CKPZ_IS_SHOW",t.CHANGE_SELECT_COMPONENT_DISPLAY="CHANGE_SELECT_COMPONENT_DISPLAY",t.SELECT_JV="SELECT_JV",t.INSERT_JV="INSERT_JV",t.DELETE_JV="DELETE_JV",t.DELETE_JV_ALL="DELETE_JV_ALL",t.CHANGE_VC_ID="CHANGE_VC_ID",t.CHANGE_JV_ABSTRACT="CHANGE_JV_ABSTRACT",t.CHANGE_JV_ACID_AND_ACNAME_AND_ASSCATEGORYLIST="CHANGE_JV_ACID_AND_ACNAME_AND_ASSCATEGORYLIST",t.CHANGE_JV_AMOUNT="CHANGE_JV_AMOUNT",t.CHANGE_JV_DIRECTION="CHANGE_JV_DIRECTION",t.CHANGE_JV_ASSID_AND_ASSNAME="CHANGE_JV_ASSID_AND_ASSNAME",t.PUSH_VOUCHER_TO_LRPZ_REDUCER="PUSH_VOUCHER_TO_LRPZ_REDUCER",t.GET_LAST_VC_ID_FETCH="GET_LAST_VC_ID_FETCH",t.MODIFY_VCDATE="MODIFY_VCDATE",t.ENTER_JVITEM_FETCH="ENTER_JVITEM_FETCH",t.REVIEWED_JVLIST="REVIEWED_JVLIST",t.CANCEL_REVIEWED_JVLIST="CANCEL_REVIEWED_JVLIST",t.DRAFT_SAVE_FETCH="DRAFT_SAVE_FETCH",t.GET_DRAFT_ITEM_FETCH="GET_DRAFT_ITEM_FETCH",t.LRPZ_LOCE_DRAFT="LRPZ_LOCE_DRAFT",t.LRPZ_UN_LOCE_DRAFT="LRPZ_UN_LOCE_DRAFT",t.GET_AMOUNT_DATA="GET_AMOUNT_DATA",t.CHANGE_JV_COUNT="CHANGE_JV_COUNT",t.CHANGE_JV_PRICE="CHANGE_JV_PRICE",t.AUTO_CALCULATE="AUTO_CALCULATE",t.CLEAR_AC_UNIT_OPEN="CLEAR_AC_UNIT_OPEN",t.GET_FJ_DATA="GET_FJ_DATA",t.CHANGE_ENCLOSURE_LIST="CHANGE_ENCLOSURE_LIST",t.DELETE_UPLOAD_IMG_URL="DELETE_UPLOAD_IMG_URL",t.GET_UPLOAD="GET_UPLOAD",t.GET_LABEL_FETCH="GET_LABEL_FETCH",t.CHANGE_TAG_NAME="CHANGE_TAG_NAME",t.GET_FC_LIST_DATA_FETCH="GET_FC_LIST_DATA_FETCH",t.CLEAR_FC_LIST_DATA="CLEAR_FC_LIST_DATA",t.CHANGE_JV_NUMBER="CHANGE_JV_NUMBER",t.CHANGE_JV_EXCHANGE="CHANGE_JV_EXCHANGE",t.CHANGE_JV_STANDARDAMOUNT="CHANGE_JV_STANDARDAMOUNT",t.AUTO_CALCULATE_ALL="AUTO_CALCULATE_ALL",t.CHANGE_VC_ENCLOSURE_COUNT_USER="CHANGE_VC_ENCLOSURE_COUNT_USER",t.GET_PERIOD_FETCH="GET_PERIOD_FETCH",t.AFTER_GET_UPLOAD_SIGNATURE="AFTER_GET_UPLOAD_SIGNATURE",t.SET_LRPX_VCLIST="SET_LRPX_VCLIST"},1360:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(0),o=(n=l)&&n.__esModule?n:{default:n},u=a(9),c=a(16),i=a(13),s=m(a(10)),d=m(a(25)),f=m(a(1215));function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var g=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),o=0;o<r;o++)l[o]=arguments[o];return a=n=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={checkedCurrent:!1,checkedProject:!1},p(n,a)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),r(t,[{key:"componentDidMount",value:function(){var e=this.props.accountPoundage;if(e.get("uuid")){var t=e.get("poundageNeedCurrent"),a=e.get("poundageNeedProject"),n=e.get("categoryUuid");(t||a)&&this.props.dispatch(f.getPoundageCategory(n,t,a))}}},{key:"render",value:function(){var e=this,t=this.props,a=t.dispatch,n=t.data,r=t.accounts,l=t.accountPoundage,m=t.poundageCurrentList,p=t.poundageProjectList,g=this.state,E=g.checkedCurrent,v=g.checkedProject,_=n.get("needUsedPoundage"),h=l.get("poundageNeedCurrent"),C=l.get("poundageNeedProject"),y=n.get("poundageCurrentCardList"),b=n.get("poundageProjectCardList"),T=y.get(0)?y.get(0):(0,u.fromJS)({}),N=b.get(0)?b.get(0):(0,u.fromJS)({}),A=N.get("code")+" "+N.get("name");["COMNCRD","ASSIST","MAKE","INDIRECT","MECHANICAL"].includes(N.get("code"))&&(A=N.get("name"));var I=!1;r.forEach(function(e){e.getIn(["poundage","needPoundage"])&&(I=!0)});var S=n.get("amount");return"STATE_XC_JN"==n.get("oriState")&&(S=n.getIn(["payment","actualAmount"])),o.default.createElement("div",{className:"lrls-card",style:{display:I?"":"none"}},o.default.createElement(c.Row,{className:"lrls-more-card"},o.default.createElement("span",null,"账户手续费"),o.default.createElement("div",{className:"noTextSwitch"},o.default.createElement(c.Switch,{checked:_,onClick:function(){a(f.changeCxlsData(["data","needUsedPoundage"],!_)),_&&(a(f.changeCxlsData(["data","poundageCurrentCardList"],(0,u.fromJS)([]))),a(f.changeCxlsData(["data","poundageProjectCardList"],(0,u.fromJS)([]))))}}))),o.default.createElement("div",{style:{display:_?"":"none"}},o.default.createElement("div",{className:"lrls-more-card margin-top-bot lrls-jzsy",style:{display:h?"":"none"}},o.default.createElement("label",null,"往来单位:"),E?o.default.createElement(c.Single,{className:"lrls-single",district:m.toJS(),value:T.get("cardUuid")?""+T.get("cardUuid")+d.TREE_JOIN_STR+T.get("code")+d.TREE_JOIN_STR+T.get("name"):"",onOk:function(e){var t=[{cardUuid:e.uuid,code:e.code,name:e.name}];a(f.changeCxlsData(["data","poundageCurrentCardList"],(0,u.fromJS)(t)))}},o.default.createElement(c.Row,{className:"lrls-category lrls-padding"},T.get("cardUuid")?o.default.createElement("span",null," ",T.get("code")+" "+T.get("name")," "):o.default.createElement("span",{className:"lrls-placeholder"},"点击选择往来卡片"),o.default.createElement(c.Icon,{type:"triangle"}))):null,o.default.createElement("div",{className:"noTextSwitch",style:{marginLeft:"6px"}},o.default.createElement(c.Switch,{checked:E,onClick:function(){e.setState({checkedCurrent:!E}),a(f.changeCxlsData(["data","poundageCurrentCardList"],(0,u.fromJS)([])))}}))),o.default.createElement("div",{className:"lrls-more-card margin-top-bot lrls-jzsy",style:{display:C?"":"none"}},o.default.createElement("label",null,"项目:"),v?o.default.createElement(c.Single,{className:"lrls-single",district:p.toJS(),value:N.get("cardUuid")?""+N.get("cardUuid")+d.TREE_JOIN_STR+N.get("code")+d.TREE_JOIN_STR+N.get("name"):"",onOk:function(e){var t=[{cardUuid:e.uuid,code:e.code,name:e.name}];a(f.changeCxlsData(["data","poundageProjectCardList"],(0,u.fromJS)(t)))}},o.default.createElement(c.Row,{className:"lrls-category lrls-padding"},N.get("cardUuid")?o.default.createElement("span",null," ",A," "):o.default.createElement("span",{className:"lrls-placeholder"},"点击选择项目卡片"),o.default.createElement(c.Icon,{type:"triangle"}))):null,o.default.createElement("div",{className:"noTextSwitch",style:{marginLeft:"6px"}},o.default.createElement(c.Switch,{checked:v,onClick:function(){e.setState({checkedProject:!v}),a(f.changeCxlsData(["data","poundageProjectCardList"],(0,u.fromJS)([])))}})))),o.default.createElement("div",null,_&&r.map(function(e,t){e.get("accountUuid");var n=e.get("accountName");if(!e.getIn(["poundage","needPoundage"]))return null;var r=0,l=!1,u=e.getIn(["poundage","poundage"]),d=e.getIn(["poundage","poundageRate"]);return e.get("isManual")&&(r=e.get("poundageAmount"),(0,i.decimal)(Math.abs(S)-r)<0&&(l=!0)),e.get("isManual")&&!l||(r=Math.abs((0,i.decimal)(S*d/1e3)),(0,i.decimal)(Math.abs(S)-r),u&&u>0&&r>u&&(r=u,(0,i.decimal)(Math.abs(S)-r)),a(f.changeCxlsData(["data","accounts",t,"poundageAmount"],Math.abs(r))),a(f.changeCxlsData(["data","accounts",t,"isManual"],!1))),o.default.createElement("div",{key:t},o.default.createElement(c.Row,{className:"lrls-margin-top"},o.default.createElement(c.Row,{className:"lrls-more-card lrls-bottom"},o.default.createElement("label",null,"账户："),o.default.createElement("span",{className:"overElli",style:{flex:"1"}},""+n)),o.default.createElement(c.Row,{className:"lrls-more-card"},o.default.createElement("label",null,"支出金额:"),o.default.createElement(c.XfInput.BorderInputItem,{mode:"amount",placeholder:"填写支出金额",value:e.get("poundageAmount"),onChange:function(e){u&&u>0&&e>u?s.toast.info("输入金额不可大于手续费上限"):(0,i.decimal)(Math.abs(S)-e)<0?s.toast.info("输入金额不可大于收款金额"):(a(f.changeCxlsData(["data","accounts",t,"poundageAmount"],e)),a(f.changeCxlsData(["data","accounts",t,"isManual"],!0)))}}))))})))}}]),t}();t.default=g},1398:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stateFunc=function(e,t,a,n){var r=a.get("oriUuid"),c=a.get("jrJvUuid"),i=a.get("notHandleAmount");a.get("creditAmount")&&"credit";var s=[],d=a.get("receive"),f=a.get("pay"),m=a.get("shouldReturn"),p=a.get("makeOut"),g=a.get("auth"),E=a.get("carryover"),v=a.get("grant"),_=a.get("defray"),h=a.get("takeBack"),C=a.get("back"),y={shouldReturn:"退款",pay:"付款",receive:"收款",makeOut:"开票",auth:"认证",carryover:"结转",grant:i>0?"发放":"收款",defray:i>0?"缴纳":"收款",takeBack:"收回",back:"退还"};return[{key:"receive",value:d,toRouter:"SFGL",direction:"debit"},{key:"pay",value:f,toRouter:"SFGL",direction:"credit"},{key:"shouldReturn",value:m,toRouter:"SFGL",direction:"credit"},{key:"makeOut",value:p,toRouter:"KJFP"},{key:"auth",value:g,toRouter:"FPRZ"},{key:"carryover",value:E,toRouter:"JZSY"},{key:"grant",value:v,toRouter:"XCZC"},{key:"defray",value:_,toRouter:"DEFRAY"},{key:"takeBack",value:h,toRouter:"ZSFKX"},{key:"back",value:C,toRouter:"ZSFKX"}].forEach(function(a){"1"!=a.value&&"2"!=a.value||s.push(l.default.createElement(o.Button,{key:a.key,disabled:!n,onClick:function(){e(u.getCxlsSingle(t,r,c,a.toRouter,a.direction,"editRunning",a.key))}},y[a.key]))}),s.length?l.default.createElement("span",{key:r,onClick:function(e){return e.stopPropagation()}},s):null};var n,r=a(0),l=(n=r)&&n.__esModule?n:{default:n},o=a(16),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(1215))},1845:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=g(a(0)),l=a(16),o=a(125),u=g(a(1846)),c=g(a(1850)),i=g(a(1851)),s=g(a(1852)),d=g(a(1853)),f=g(a(1854)),m=g(a(1855)),p=g(a(1856));function g(e){return e&&e.__esModule?e:{default:e}}var E=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),n(t,[{key:"render",value:function(){return r.default.createElement(l.Container,{className:"relative-config"},r.default.createElement(o.Route,{path:"/searchrunning/index",component:u.default}),r.default.createElement(o.Route,{path:"/searchrunning/sfgl",component:c.default}),r.default.createElement(o.Route,{path:"/searchrunning/kjfp",component:i.default}),r.default.createElement(o.Route,{path:"/searchrunning/fprz",component:s.default}),r.default.createElement(o.Route,{path:"/searchrunning/jzsy",component:d.default}),r.default.createElement(o.Route,{path:"/searchrunning/xczc",component:f.default}),r.default.createElement(o.Route,{path:"/searchrunning/defray",component:m.default}),r.default.createElement(o.Route,{path:"/searchrunning/Zsfkx",component:p.default}))}}]),t}();t.default=E},1846:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=E(a(0)),o=a(9),u=a(31),c=g(a(1215)),i=a(1066),s=g(a(10)),d=a(13),f=a(123),m=a(16),p=E(a(1847));function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function E(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}a(1848);var _=(0,u.connect)(function(e){return e})(n=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),o=0;o<r;o++)l[o]=arguments[o];return a=n=v(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.debounceFn=(0,d.debounce)(n.searchFn.bind(n),500),n.state={isEdit:!1,selectAll:!0},n.cardTypeObj={ALL:"全部",ACCOUNT:"账户",PROJECT:"项目",STOCK:"存货",CURRENT:"往来",SEARCH_TYPE_ABSTRACT:"摘要",SEARCH_TYPE_RUNNING_TYPE:"类型",SEARCH_TYPE_AMOUNT:"金额",SEARCH_TYPE_CREATE_NAME:"制单人",SEARCH_TYPE_CATEGORY_TYPE:"流水类别"},v(n,a)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),r(t,[{key:"componentDidMount",value:function(){s.setTitle({title:"查询流水"}),s.setIcon({showIcon:!1}),s.setRight({show:!1}),"home"===sessionStorage.getItem("prevPage")?(sessionStorage.removeItem("prevPage"),this.props.dispatch(c.initCxls()),this.props.dispatch(c.getPeriodAndBusinessList())):this.props.dispatch(c.getBusinessList(1,!1))}},{key:"searchFn",value:function(){this.props.dispatch(c.getBusinessList(1,!1))}},{key:"render",value:function(){var e=this,t=this.state,a=t.isEdit,n=t.selectAll,r=this.props,u=r.dispatch,g=r.searchRunningState,E=r.history,v=r.homeState,_=v.getIn(["permissionInfo","LrAccount"]).getIn(["edit","permission"]),h=v.getIn(["data","userInfo","sobInfo","moduleInfo"]),C=!!h&&h.indexOf("RUNNING_GL")>-1,y=g.get("views"),b=g.get("dataList"),T=y.get("selectedIndex"),N=y.get("issues"),A=y.get("start"),I=y.get("end"),S=y.get("currentPage"),R=y.get("pageCount"),O=y.get("dateSelectValue"),x=(0,o.fromJS)([]);if("ISSUE_RANGE"==O){var D=N.findIndex(function(e){return e.get("value")==A});x=N.slice(0,D)}var j=function(e){var t=N.toJS(),a=t.shift().value,n=t.pop();n=n?n.value:a;var r=new Date(a.slice(0,4),a.slice(5,7),0),l=!1;return(Date.parse(e)<Date.parse(n)||Date.parse(e)>Date.parse(r))&&(s.Alert("请选择账期内的日期","好的"),l=!0),l},L=g.get("projectCardList"),P=g.get("currentCardList"),w=g.get("stockCardList"),k={ALL:[],ACCOUNT:g.get("accounCardtList").toJS(),PROJECT:L.toJS(),STOCK:w.toJS(),CURRENT:P.toJS(),SEARCH_TYPE_ABSTRACT:[],SEARCH_TYPE_RUNNING_TYPE:[],SEARCH_TYPE_AMOUNT:[],SEARCH_TYPE_CREATE_NAME:[],SEARCH_TYPE_CATEGORY_TYPE:[]},U=y.get("cardObj"),J=U.get("cardType"),M=U.get("searchContent"),G=U.get("isSearch");return l.default.createElement(m.Container,{className:"search-running"},l.default.createElement("div",{className:"search-running-date"},l.default.createElement("div",{style:{display:["ISSUE","ISSUE_RANGE"].includes(O)?"":"none"}},l.default.createElement(f.TopMonthPicker,{issuedate:A,source:N,callback:function(e){u(c.changeCxlsData(["views","start"],e)),u(c.changeCxlsData(["views","end"],e)),u(c.getBusinessList(1,!1)),["ACCOUNT","PROJECT","STOCK","CURRENT"].includes(J)&&u(c.getCardList())},onOk:function(e){u(c.changeCxlsData(["views","start"],e.value)),u(c.changeCxlsData(["views","end"],e.value)),u(c.getBusinessList(1,!1)),["ACCOUNT","PROJECT","STOCK","CURRENT"].includes(J)&&u(c.getCardList())},showSwitch:"ISSUE_RANGE"==O,endissuedate:"ISSUE_RANGE"==O?I||A:"",nextperiods:x,onBeginOk:function(e){u(c.changeCxlsData(["views","start"],e.value)),u(c.changeCxlsData(["views","end"],e.value)),u(c.getBusinessList(1,!1)),["ACCOUNT","PROJECT","STOCK","CURRENT"].includes(J)&&u(c.getCardList())},onEndOk:function(e){u(c.changeCxlsData(["views","end"],e.value)),u(c.getBusinessList(1,!1)),["ACCOUNT","PROJECT","STOCK","CURRENT"].includes(J)&&u(c.getCardList())}})),l.default.createElement("div",{style:{display:["DATE","DATE_RANGE"].includes(O)?"":"none"}},l.default.createElement(f.TopDatePicker,{value:A,endValue:I||A,isRange:"DATE_RANGE"==O,onChange:function(e){var t=new d.DateLib(e).valueOf();j(t)||(u(c.changeCxlsData(["views","start"],t)),u(c.changeCxlsData(["views","end"],t)),u(c.getBusinessList(1,!1)),["ACCOUNT","PROJECT","STOCK","CURRENT"].includes(J)&&u(c.getCardList()))},callback:function(e){j(e)||(u(c.changeCxlsData(["views","start"],e)),u(c.changeCxlsData(["views","end"],e)),u(c.getBusinessList(1,!1)),["ACCOUNT","PROJECT","STOCK","CURRENT"].includes(J)&&u(c.getCardList()))},onEndChange:function(e){var t=new d.DateLib(e).valueOf();Date.parse(t)<Date.parse(A)?s.Alert("结束日期不可小于开始日期","好的"):j(t)||(u(c.changeCxlsData(["views","end"],t)),u(c.getBusinessList(1,!1)),["ACCOUNT","PROJECT","STOCK","CURRENT"].includes(J)&&u(c.getCardList()))}})),l.default.createElement(m.Single,{district:[{key:"按账期查询",value:"ISSUE"},{key:"按日期查询",value:"DATE"},{key:"按账期区间查询",value:"ISSUE_RANGE"},{key:"按日期区间查询",value:"DATE_RANGE"}],value:O,canSearch:!1,onOk:function(e){var t=A.slice(0,7);["DATE","DATE_RANGE"].includes(e.value)&&(t+="-01"),u(c.changeCxlsData(["views","dateSelectValue"],e.value)),u(c.changeCxlsData(["views","start"],t)),u(c.changeCxlsData(["views","end"],t)),u(c.getBusinessList(1,!1)),["ACCOUNT","PROJECT","STOCK","CURRENT"].includes(J)&&u(c.getCardList())}},l.default.createElement(m.Icon,{type:"date"}))),l.default.createElement("div",{className:"cxls-flex cxls-margin-bottom"},l.default.createElement(m.Single,{className:"left",district:G?[{key:"摘要",value:"SEARCH_TYPE_ABSTRACT"},{key:"类型",value:"SEARCH_TYPE_RUNNING_TYPE"},{key:"金额",value:"SEARCH_TYPE_AMOUNT"},{key:"制单人",value:"SEARCH_TYPE_CREATE_NAME"},{key:"流水类别",value:"SEARCH_TYPE_CATEGORY_TYPE"}]:[{key:"全部",value:"ALL"},{key:"账户",value:"ACCOUNT"},{key:"项目",value:"PROJECT"},{key:"存货",value:"STOCK"},{key:"往来",value:"CURRENT"}],value:J,canSearch:!1,onOk:function(e){u(c.changeCxlsData(["views","cardObj"],(0,o.fromJS)({cardType:e.value,cardUuid:G?e.value:"",name:"全部",searchContent:"",isSearch:G}))),u(c.getBusinessList(1,!1)),["ACCOUNT","PROJECT","STOCK","CURRENT"].includes(e.value)&&u(c.getCardList(!1))}},l.default.createElement("div",{className:"cxls-flex"},l.default.createElement("div",null,this.cardTypeObj[J]),l.default.createElement(m.Icon,{type:"triangle"}))),["ALL"].includes(J)?l.default.createElement("div",{className:"search-logo",onClick:function(){u(c.changeCxlsData(["views","cardObj"],(0,o.fromJS)({cardType:"SEARCH_TYPE_ABSTRACT",cardUuid:"SEARCH_TYPE_ABSTRACT",name:"全部",searchContent:"",isSearch:!0})))}},l.default.createElement(m.Icon,{type:"search"})):null,G?l.default.createElement("div",{className:"search-right"},l.default.createElement(m.SearchBar,{placeholder:"搜索流水",value:M,onChange:function(e){u(c.changeCxlsData(["views","cardObj","searchContent"],e))},onSubmit:function(e){u(c.getBusinessList(1,!1))},onCancel:function(){u(c.changeCxlsData(["views","cardObj"],(0,o.fromJS)({cardType:"ALL",cardUuid:"",name:"全部",searchContent:""}))),u(c.getBusinessList(1,!1))},onClear:function(){u(c.changeCxlsData(["views","cardObj","searchContent"],"")),u(c.getBusinessList(1,!1))}})):null,["ACCOUNT","PROJECT","STOCK","CURRENT"].includes(J)?l.default.createElement(m.Single,{className:"right",district:k[J],value:U.get("cardUuid"),onOk:function(e){u(c.changeCxlsData(["views","cardObj","cardUuid"],e.value)),u(c.changeCxlsData(["views","cardObj","name"],e.key)),u(c.getBusinessList(1,!1))}},l.default.createElement("div",{className:"cxls-flex"},l.default.createElement("div",{className:"overElli"},U.get("name")),l.default.createElement(m.Icon,{type:"triangle"}))):null),l.default.createElement(m.ScrollView,{flex:"1",uniqueKey:"cxls-scroll",savePosition:!0},l.default.createElement("div",{className:"flow-content",bubble:"true",onClick:function(e){var t=e.target,n=!0;for(t.getAttribute("bubble")&&(n=!1);!t.getAttribute("click_target")&&n;)t.parentNode.getAttribute("bubble")&&(n=!1),t=t.parentNode;if(n){var r=Number(t.getAttribute("idx")),l=t.getAttribute("uuid"),o=b.get(r);u(a?c.selectLs(T,r):i.runningPreviewActions.getRunningPreviewBusinessFetch(l,o,b,"search",E))}}},b.map(function(e,t){return l.default.createElement(p.default,{idx:t,item:e,isEdit:a,history:E,key:e.get("oriUuid"),dispatch:u,editPermission:_,intelligentStatus:C})})),l.default.createElement(f.ScrollLoad,{diff:1,classContent:"flow-content",callback:function(e){u(c.getBusinessList(S+1,!0,e))},isGetAll:S>=R,itemSize:b.size})),l.default.createElement(m.ButtonGroup,{style:{display:a?"none":""}},l.default.createElement(m.Button,{disabled:!_,onClick:function(){sessionStorage.setItem("prevPage","searchrunning"),E.push("/editrunning/index")}},l.default.createElement(m.Icon,{type:"add-plus"}),l.default.createElement("span",null,"新增")),l.default.createElement(m.Button,{disabled:0===b.size,onClick:function(){return e.setState({isEdit:!0})}},l.default.createElement(m.Icon,{type:"select",size:"15"}),l.default.createElement("span",null,"选择"))),l.default.createElement(m.ButtonGroup,{style:{display:a?"":"none"}},l.default.createElement(m.Button,{onClick:function(){u(c.selectLsAll(T,n)),e.setState({selectAll:!n})}},l.default.createElement(m.Icon,{type:"choose"}),l.default.createElement("span",null,"全选")),l.default.createElement(m.Button,{onClick:function(){e.setState({isEdit:!1}),u(c.selectLsAll(T,!1))}},l.default.createElement(m.Icon,{type:"cancel"}),l.default.createElement("span",null,"取消")),l.default.createElement(m.Button,{disabled:!b.some(function(e){return e.get("selected")})||!_,onClick:function(){return u(c.deleteLs(b,T))}},l.default.createElement(m.Icon,{type:"delete"}),l.default.createElement("span",null,"删除")),l.default.createElement(m.Button,{disabled:!b.some(function(e){return e.get("selected")&&!e.get("beCertificate")})||!_,onClick:function(){u(c.insertRunningBusinessVc())}},l.default.createElement(m.Icon,{type:"shenhe"}),l.default.createElement("span",null,"审核")),l.default.createElement(m.Button,{disabled:!b.some(function(e){return e.get("selected")&&e.get("beCertificate")})||!_,onClick:function(){u(c.deleteRunningBusinessVc())}},l.default.createElement(m.Icon,{type:"chexiao"}),l.default.createElement("span",null,"反审核"))))}}]),t}())||n;t.default=_},1847:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(0),o=(n=l)&&n.__esModule?n:{default:n},u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(1215)),c=a(16),i=(a(13),a(1398)),s=a(183);var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.item,a=e.dispatch,n=e.history,r=(e.selectedIndex,e.idx),l=e.isEdit,d=e.editPermission,f=e.intelligentStatus,m=(e.uuidList,t.get("oriUuid")),p=t.get("beCertificate"),g=t.get("jrJvCardAbstract")?t.get("jrJvCardAbstract"):"",E=""+t.get("oriAbstract")+g,v=t.get("showChild"),_=t.get("oriState");"STATE_CHYE"==_&&(_=t.get("jrState"));var h=s.runningStateType[_]?s.runningStateType[_]:"";return o.default.createElement("div",{className:"vc"},o.default.createElement("div",{uuid:m,idx:r,click_target:"true"},o.default.createElement("div",{className:"item-title-top"},o.default.createElement("div",{className:"item-flowNumber"},o.default.createElement(c.Checkbox,{checked:!!t.get("selected")&&t.get("selected"),style:{paddingRight:"10px",display:l?"inline-block":"none"}}),t.get("jrIndex")," 号",o.default.createElement("span",{className:"pz",style:{display:f&&p?"":"none"},onClick:function(e){e.stopPropagation(),a(u.getVcFetch(t.getIn(["vcList",0]),n))}},"凭证")),o.default.createElement("div",{className:"cxls-gray"},t.get("oriDate").replace(/-/g,"/"))),o.default.createElement("div",{className:"item-content"},o.default.createElement("div",{className:"center"},o.default.createElement("span",null,t.get("categoryName")),o.default.createElement("span",{className:"oriState",style:{display:h?"":"none"}},h))),o.default.createElement("div",{className:"item-content"},o.default.createElement("div",null,t.get("creditAmount")?"贷：":"借：",t.get("jrJvTypeName")),o.default.createElement("div",null,o.default.createElement(c.Amount,{showZero:!0,className:"blod"},t.get("creditAmount")?t.get("creditAmount"):t.get("debitAmount")))),o.default.createElement("div",{className:"item-content item-bottom"},o.default.createElement("div",{className:"overElli cxls-gray"},"摘要：",E),o.default.createElement("span",null,(0,i.stateFunc)(a,n,t,d))),o.default.createElement("div",null,t.get("childList").map(function(e,t){var r=e.get("jrJvCardAbstract")?e.get("jrJvCardAbstract"):"",l=""+e.get("oriAbstract")+r,u=e.get("accountUuid"),s=v;return u&&"ACCOUNT_SIGN"!=u&&(s=!0),s?o.default.createElement("div",{className:"border-top",key:t},o.default.createElement("div",{className:"item-content"},o.default.createElement("div",null,e.get("creditAmount")?"贷：":"借：",e.get("jrJvTypeName")),o.default.createElement("div",null,o.default.createElement(c.Amount,{showZero:!0,className:"blod"},e.get("creditAmount")?e.get("creditAmount"):e.get("debitAmount")))),o.default.createElement("div",{className:"item-content item-bottom"},o.default.createElement("div",{className:"overElli cxls-gray"},"摘要：",l),o.default.createElement("span",null,(0,i.stateFunc)(a,n,e,d)))):null})),o.default.createElement("div",{className:"item-content border-top user-name",onClick:function(e){e.stopPropagation(),a(u.changeCxlsData(["dataList",r,"showChild"],!v))}},o.default.createElement("span",null,"制单人：",t.get("createUserName")),o.default.createElement("div",{className:"cxls-blue"},v?"收起":"展开",o.default.createElement(c.Icon,{style:t.get("showChild")?{transform:"rotate(180deg)"}:"",type:"arrow-down"})))),o.default.createElement(c.Icon,{style:{display:p?"":"none"},className:"title-item-icon",color:"#ff943e",type:"yishenhe",size:"50"}))}}]),t}();t.default=d},1848:function(e,t,a){},1850:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=E(a(0)),o=a(31),u=a(9),c=a(16),i=a(123),s=E(a(1360)),d=a(13),f=g(a(10)),m=g(a(25)),p=g(a(1215));function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function E(e){return e&&e.__esModule?e:{default:e}}var v=(0,o.connect)(function(e){return e})(n=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),r(t,[{key:"componentDidMount",value:function(){f.setTitle({title:"收付管理"}),f.setIcon({showIcon:!1}),f.setRight({show:!1}),sessionStorage.setItem("prevPage","searchrunning")}},{key:"render",value:function(){var e=this.props,t=e.dispatch,a=e.searchRunningState,n=e.allState,r=e.history,o=a.get("data"),f=o.getIn(["accounts",0,"accountName"]),g=o.getIn(["accounts",0,"accountUuid"]),E=o.get("oriDate"),v=o.get("oriAbstract"),_=o.get("amount"),h=o.get("amountTitle"),C=o.getIn(["currentCardList",0]),y=n.get("accountList"),b=[];y.size&&y.getIn([0,"childList"]).forEach(function(e,t){var a=e.toJS();a.key=e.get("name"),a.value=""+e.get("uuid")+m.TREE_JOIN_STR+e.get("name"),b.push(a)});var T=n.get("accountPoundage"),N=a.get("poundageCurrentList"),A=a.get("poundageProjectList"),I=o.get("accounts");return l.default.createElement(c.Container,{className:"edit-running"},l.default.createElement(i.TopDatePicker,{value:E,onChange:function(e){t(p.changeCxlsData(["data","oriDate"],new d.DateLib(e).valueOf()))},callback:function(e){t(p.changeCxlsData(["data","oriDate"],e))}}),l.default.createElement(c.ScrollView,{flex:"1"},l.default.createElement(c.Row,{className:"lrls-card lrls-line"},l.default.createElement("label",null,"摘要："),l.default.createElement(c.TextareaItem,{placeholder:"摘要填写",value:v,onChange:function(e){t(p.changeCxlsData(["data","oriAbstract"],e))}})),l.default.createElement("div",{className:"lrls-card"},C?l.default.createElement("div",{className:"lrls-bottom"},"往来单位： ",C.get("code")+" "+C.get("name")):"",l.default.createElement(c.Row,{className:"yysr-amount"},l.default.createElement("label",null,h),l.default.createElement(c.XfInput.BorderInputItem,{mode:"amount",placeholder:"填写金额",value:_,onChange:function(e){t(p.changeCxlsData(["data","amount"],e))}}),l.default.createElement(c.Single,{className:"lrls-single",district:b,value:""+g+m.TREE_JOIN_STR+f,onOk:function(e){var a=e.value.split(m.TREE_JOIN_STR),n={needPoundage:e.needPoundage,poundage:e.poundage,poundageRate:e.poundageRate};t(p.changeCxlsData(["data","accounts",0,"accountUuid"],a[0])),t(p.changeCxlsData(["data","accounts",0,"accountName"],a[1])),t(p.changeCxlsData(["data","accounts",0,"poundage"],(0,u.fromJS)(n)))}},l.default.createElement(c.Row,{style:{color:f?"":"#999"},className:"lrls-account lrls-type"},l.default.createElement("span",{className:"overElli"},f||"点击选择账户"),l.default.createElement(c.Icon,{type:"triangle"}))))),h.includes("收款")&&T.get("uuid")?l.default.createElement(s.default,{dispatch:t,data:o,accounts:I,accountPoundage:T,poundageCurrentList:N,poundageProjectList:A}):null,l.default.createElement(i.EnclosurePublic,{history:r})),l.default.createElement(c.ButtonGroup,{style:{backgroundColor:"#F8F8F8"}},l.default.createElement(c.Button,{onClick:function(){r.goBack()}},l.default.createElement(c.Icon,{type:"cancel"}),l.default.createElement("span",null,"取消")),l.default.createElement(c.Button,{onClick:function(){t(p.saveSfgl(r))}},l.default.createElement(c.Icon,{type:"new"}),l.default.createElement("span",null,"保存"))))}}]),t}())||n;t.default=v},1851:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,r,l=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=a(0),u=(r=o)&&r.__esModule?r:{default:r},c=a(31),i=(a(9),a(16)),s=a(123),d=a(13),f=p(a(10)),m=p(a(1215));function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var E=(0,c.connect)(function(e){return e})(n=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),o=0;o<r;o++)l[o]=arguments[o];return a=n=g(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={inputTax:!0},g(n,a)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default.Component),l(t,[{key:"componentDidMount",value:function(){f.setTitle({title:"开具发票"}),f.setIcon({showIcon:!1}),f.setRight({show:!1}),sessionStorage.setItem("prevPage","searchrunning")}},{key:"render",value:function(){var e=this,t=this.props,a=t.dispatch,n=t.searchRunningState,r=t.history,l=this.state.inputTax,o=n.get("data"),c=o.get("oriDate"),f=o.get("oriAbstract"),p=o.get("amount"),g=o.get("taxTotal"),E=o.get("jrTaxAmount"),v=o.get("jrAmount"),_=(0,d.decimal)(E*p/v);return u.default.createElement(i.Container,{className:"edit-running"},u.default.createElement(s.TopDatePicker,{value:c,onChange:function(e){a(m.changeCxlsData(["data","oriDate"],new d.DateLib(e).valueOf()))},callback:function(e){a(m.changeCxlsData(["data","oriDate"],e))}}),u.default.createElement(i.ScrollView,{flex:"1"},u.default.createElement("div",{className:"lrls-card lrls-line"},u.default.createElement("label",null,"摘要："),u.default.createElement(i.TextareaItem,{placeholder:"摘要填写",value:f,onChange:function(e){a(m.changeCxlsData(["data","oriAbstract"],e))}})),u.default.createElement("div",{className:"lrls-card"},u.default.createElement(i.Row,{className:"lrls-more-card"},u.default.createElement("label",null,l?"开票税额":"价税合计",":"),u.default.createElement(i.XfInput.BorderInputItem,{mode:"amount",placeholder:"填写金额",value:l?p:g,onChange:function(e){if(l)a(m.changeCxlsData(["data","amount"],e));else{var t=(0,d.decimal)(e*v/E);a(m.changeCxlsData(["data","amount"],t)),a(m.changeCxlsData(["data","taxTotal"],e))}}}),u.default.createElement("span",{className:"noTextSwitch",style:{marginLeft:"6px"}},u.default.createElement(i.SwitchText,{checked:l,checkedChildren:"",unCheckedChildren:"",onChange:function(){e.setState({inputTax:!l}),a(m.changeCxlsData(["data","amount"],v)),l&&a(m.changeCxlsData(["data","taxTotal"],E))}}))),u.default.createElement("div",{className:"lrls-placeholder lrls-margin-top",style:{paddingLeft:".6rem"}},u.default.createElement("div",null,l?u.default.createElement("span",null,"价税合计: ",u.default.createElement(i.Amount,{showZero:!0},_)):u.default.createElement("span",null,"开票税额: ",u.default.createElement(i.Amount,{showZero:!0},p))),u.default.createElement("div",null,"待开票税额: ",u.default.createElement(i.Amount,{showZero:!0},v)),u.default.createElement("span",null,"待处理价税合计: ",u.default.createElement(i.Amount,{showZero:!0},E)))),u.default.createElement(s.EnclosurePublic,{history:r})),u.default.createElement(i.ButtonGroup,null,u.default.createElement(i.Button,{onClick:function(){r.goBack()}},u.default.createElement(i.Icon,{type:"cancel"}),u.default.createElement("span",null,"取消")),u.default.createElement(i.Button,{onClick:function(){a(m.saveKjfp(r))}},u.default.createElement(i.Icon,{type:"new"}),u.default.createElement("span",null,"保存"))))}}]),t}())||n;t.default=E},1852:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,r,l=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=a(0),u=(r=o)&&r.__esModule?r:{default:r},c=a(31),i=(a(9),a(16)),s=a(123),d=a(13),f=p(a(10)),m=p(a(1215));function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}var g=(0,c.connect)(function(e){return e})(n=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default.Component),l(t,[{key:"componentDidMount",value:function(){f.setTitle({title:"发票认证"}),f.setIcon({showIcon:!1}),f.setRight({show:!1}),sessionStorage.setItem("prevPage","searchrunning")}},{key:"render",value:function(){var e=this.props,t=e.dispatch,a=e.searchRunningState,n=e.history,r=a.get("data"),l=r.get("oriDate"),o=r.get("oriAbstract"),c=r.get("amount");return u.default.createElement(i.Container,{className:"edit-running"},u.default.createElement(s.TopDatePicker,{value:l,onChange:function(e){t(m.changeCxlsData(["data","oriDate"],new d.DateLib(e).valueOf()))},callback:function(e){t(m.changeCxlsData(["data","oriDate"],e))}}),u.default.createElement(i.ScrollView,{flex:"1"},u.default.createElement("div",{className:"lrls-card lrls-line"},u.default.createElement("label",null,"摘要："),u.default.createElement(i.TextareaItem,{placeholder:"摘要填写",value:o,onChange:function(e){t(m.changeCxlsData(["data","oriAbstract"],e))}})),u.default.createElement("div",{className:"lrls-card"},u.default.createElement(i.Row,{className:"yysr-amount"},u.default.createElement("label",null,"金额："),u.default.createElement(i.XfInput.BorderInputItem,{mode:"amount",placeholder:"填写金额",value:c,onChange:function(e){t(m.changeCxlsData(["data","amount"],e))}}))),u.default.createElement(s.EnclosurePublic,{history:n})),u.default.createElement(i.ButtonGroup,null,u.default.createElement(i.Button,{onClick:function(){n.goBack()}},u.default.createElement(i.Icon,{type:"cancel"}),u.default.createElement("span",null,"取消")),u.default.createElement(i.Button,{onClick:function(){t(m.saveFprz(n))}},u.default.createElement(i.Icon,{type:"new"}),u.default.createElement("span",null,"保存"))))}}]),t}())||n;t.default=g},1853:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,r,l=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=a(0),u=(r=o)&&r.__esModule?r:{default:r},c=a(31),i=(a(9),a(16)),s=a(123),d=a(13),f=g(a(10)),m=g(a(25)),p=g(a(1215));function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}var E=(0,c.connect)(function(e){return e})(n=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default.Component),l(t,[{key:"componentDidMount",value:function(){f.setTitle({title:"处置损益"}),f.setIcon({showIcon:!1}),f.setRight({show:!1}),sessionStorage.setItem("prevPage","searchrunning");var e=this.props.searchRunningState;if(e.getIn(["data","beProject"])){var t=e.getIn(["data","projectRange"]);this.props.dispatch(p.getProjectCardList(t))}}},{key:"render",value:function(){var e=this.props,t=e.dispatch,a=e.searchRunningState,n=e.history,r=a.get("data"),l=r.get("oriDate"),o=r.get("oriAbstract"),c=r.get("categoryName"),f=r.get("beProject"),g=r.get("usedProject"),E=a.get("projectList"),v=r.getIn(["projectCardList",0]),_=v.get("code")+" "+v.get("name"),h=r.get("amount"),C=r.getIn(["assets","originalAssetsAmount"]),y=r.getIn(["assets","depreciationAmount"]),b=r.getIn(["assets","cleaningAmount"]);return u.default.createElement(i.Container,{className:"edit-running"},u.default.createElement(s.TopDatePicker,{value:l,onChange:function(e){t(p.changeCxlsData(["data","oriDate"],new d.DateLib(e).valueOf()))},callback:function(e){t(p.changeCxlsData(["data","oriDate"],e))}}),u.default.createElement(i.ScrollView,{flex:"1"},u.default.createElement("div",{className:"lrls-card"},u.default.createElement(i.Row,{className:"lrls-more-card lrls-switch"},u.default.createElement("label",null,"处理类别: "),u.default.createElement(i.Row,{className:"antd-single-picker lrls-padding lrls-category"},u.default.createElement("span",null,c),u.default.createElement(i.Icon,{type:"triangle",style:{color:"#ccc"}})),f?u.default.createElement(i.SwitchText,{checked:g,checkedChildren:"项目",unCheckedChildren:"",className:"topBarSwitch",onChange:function(e){t(p.changeCxlsData(["data","usedProject"],!g))}}):null)),u.default.createElement("div",{className:"lrls-card lrls-line"},u.default.createElement("label",null,"摘要："),u.default.createElement(i.TextareaItem,{placeholder:"摘要填写",value:o,onChange:function(e){t(p.changeCxlsData(["data","oriAbstract"],e))}})),g?u.default.createElement("div",{className:"lrls-card"},u.default.createElement("div",{className:"lrls-more-card"},u.default.createElement("label",null,"项目:"),u.default.createElement(i.Single,{className:"lrls-single",district:E.toJS(),value:v.get("cardUuid")?""+v.get("cardUuid")+m.TREE_JOIN_STR+v.get("code")+m.TREE_JOIN_STR+v.get("name"):"",onOk:function(e){var a=e.value.split(m.TREE_JOIN_STR);t(p.changeCxlsData(["data","projectCardList",0,"cardUuid"],a[0])),t(p.changeCxlsData(["data","projectCardList",0,"code"],a[1])),t(p.changeCxlsData(["data","projectCardList",0,"name"],a[2]))}},u.default.createElement(i.Row,{className:"lrls-category lrls-padding"},v.get("cardUuid")?u.default.createElement("span",null," ",_," "):u.default.createElement("span",{className:"lrls-placeholder"},"点击选择项目卡片"),u.default.createElement(i.Icon,{type:"triangle"}))))):null,u.default.createElement("div",{className:"lrls-card"},u.default.createElement(i.Row,null,u.default.createElement("label",{style:{marginRight:".15rem"}},h>=0?"净收益金额：":"净损失金额："),u.default.createElement(i.Amount,{showZero:!0},Math.abs(h))),u.default.createElement(i.Row,{className:"yysr-amount margin-top-bot lrls-jzsy"},u.default.createElement("label",null,"资产原值:"),u.default.createElement(i.XfInput.BorderInputItem,{mode:"amount",placeholder:"请填写资产原值",value:C,onChange:function(e){var a=Number(y)+Number(b)-Number(e);t(p.changeCxlsData(["data","assets","originalAssetsAmount"],e)),t(p.changeCxlsData(["data","amount"],a))}})),u.default.createElement(i.Row,{className:"yysr-amount lrls-margin-top lrls-jzsy"},u.default.createElement("label",null,"累计折旧余额:"),u.default.createElement(i.XfInput.BorderInputItem,{mode:"amount",placeholder:"请填写累计折旧余额",value:y,onChange:function(e){var a=Number(e)+Number(b)-Number(C);t(p.changeCxlsData(["data","assets","depreciationAmount"],e)),t(p.changeCxlsData(["data","amount"],a))}})),u.default.createElement(i.Row,{className:"yysr-amount lrls-margin-top lrls-jzsy"},u.default.createElement("label",null,"处置金额:"),u.default.createElement(i.Amount,{showZero:!0},b))),u.default.createElement(s.EnclosurePublic,{history:n})),u.default.createElement(i.ButtonGroup,null,u.default.createElement(i.Button,{onClick:function(){n.goBack()}},u.default.createElement(i.Icon,{type:"cancel"}),u.default.createElement("span",null,"取消")),u.default.createElement(i.Button,{onClick:function(){t(p.saveJzsy(n))}},u.default.createElement(i.Icon,{type:"new"}),u.default.createElement("span",null,"保存"))))}}]),t}())||n;t.default=E},1854:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=E(a(0)),o=a(31),u=a(9),c=a(16),i=a(123),s=E(a(1360)),d=a(13),f=g(a(10)),m=g(a(25)),p=g(a(1215));function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function E(e){return e&&e.__esModule?e:{default:e}}var v=(0,o.connect)(function(e){return e})(n=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),r(t,[{key:"componentDidMount",value:function(){var e=this.props.searchRunningState.getIn(["data","notHandleAmount"]);f.setTitle({title:e>=0?"付款核销":"收款核销"}),f.setIcon({showIcon:!1}),f.setRight({show:!1}),sessionStorage.setItem("prevPage","searchrunning")}},{key:"render",value:function(){var e=this.props,t=e.dispatch,a=e.searchRunningState,n=e.allState,r=e.history,o=a.get("data"),f=o.getIn(["accounts",0,"accountName"]),g=o.getIn(["accounts",0,"accountUuid"]),E=o.get("oriDate"),v=o.get("oriAbstract"),_=o.get("amount"),h=o.get("notHandleAmount"),C=n.get("accountList"),y=[];C.size&&C.getIn([0,"childList"]).forEach(function(e,t){var a=e.toJS();a.key=e.get("name"),a.value=""+e.get("uuid")+m.TREE_JOIN_STR+e.get("name"),y.push(a)});var b=n.get("accountPoundage"),T=a.get("poundageCurrentList"),N=a.get("poundageProjectList"),A=o.get("accounts");return l.default.createElement(c.Container,{className:"edit-running"},l.default.createElement(i.TopDatePicker,{value:E,onChange:function(e){t(p.changeCxlsData(["data","oriDate"],new d.DateLib(e).valueOf()))},callback:function(e){t(p.changeCxlsData(["data","oriDate"],e))}}),l.default.createElement(c.ScrollView,{flex:"1"},l.default.createElement(c.Row,{className:"lrls-card lrls-line"},l.default.createElement("label",null,"摘要："),l.default.createElement(c.TextareaItem,{placeholder:"摘要填写",value:v,onChange:function(e){t(p.changeCxlsData(["data","oriAbstract"],e))}})),l.default.createElement("div",{className:"lrls-card"},l.default.createElement(c.Row,{className:"yysr-amount"},l.default.createElement("label",null,h>=0?"付款金额:":"收款金额:"),l.default.createElement(c.XfInput.BorderInputItem,{mode:"amount",placeholder:"填写金额",value:_,onChange:function(e){t(p.changeCxlsData(["data","amount"],e)),t(p.changeCxlsData(["data","payment","actualAmount"],e))}}),l.default.createElement(c.Single,{className:"lrls-single",district:y,value:""+g+m.TREE_JOIN_STR+f,onOk:function(e){var a=e.value.split(m.TREE_JOIN_STR),n={needPoundage:e.needPoundage,poundage:e.poundage,poundageRate:e.poundageRate};t(p.changeCxlsData(["data","accounts",0,"accountUuid"],a[0])),t(p.changeCxlsData(["data","accounts",0,"accountName"],a[1])),t(p.changeCxlsData(["data","accounts",0,"poundage"],(0,u.fromJS)(n)))}},l.default.createElement(c.Row,{style:{color:f?"":"#999"},className:"lrls-account lrls-type"},l.default.createElement("span",{className:"overElli"},f||"点击选择账户"),l.default.createElement(c.Icon,{type:"triangle"}))))),h<0&&b.get("uuid")?l.default.createElement(s.default,{dispatch:t,data:o,accounts:A,accountPoundage:b,poundageCurrentList:T,poundageProjectList:N}):null,l.default.createElement(i.EnclosurePublic,{history:r})),l.default.createElement(c.ButtonGroup,{style:{backgroundColor:"#F8F8F8"}},l.default.createElement(c.Button,{onClick:function(){r.goBack()}},l.default.createElement(c.Icon,{type:"cancel"}),l.default.createElement("span",null,"取消")),l.default.createElement(c.Button,{onClick:function(){t(p.saveXczc(r))}},l.default.createElement(c.Icon,{type:"new"}),l.default.createElement("span",null,"保存"))))}}]),t}())||n;t.default=v},1855:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=E(a(0)),o=a(31),u=a(9),c=a(16),i=a(123),s=E(a(1360)),d=a(13),f=g(a(10)),m=g(a(25)),p=g(a(1215));function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function E(e){return e&&e.__esModule?e:{default:e}}var v=(0,o.connect)(function(e){return e})(n=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),r(t,[{key:"componentDidMount",value:function(){var e=this.props.searchRunningState.getIn(["data","notHandleAmount"]);f.setTitle({title:e>=0?"付款核销":"收款核销"}),f.setIcon({showIcon:!1}),f.setRight({show:!1}),sessionStorage.setItem("prevPage","searchrunning")}},{key:"render",value:function(){var e=this.props,t=e.dispatch,a=e.searchRunningState,n=e.allState,r=e.history,o=a.get("data"),f=o.getIn(["accounts",0,"accountName"]),g=o.getIn(["accounts",0,"accountUuid"]),E=o.get("oriDate"),v=o.get("oriAbstract"),_=o.get("oriState"),h=o.get("amount"),C=o.get("notHandleAmount"),y=h;"STATE_XC_JN"==_&&(y=o.getIn(["payment","actualAmount"]));var b=n.get("accountList"),T=[];b.size&&b.getIn([0,"childList"]).forEach(function(e,t){var a=e.toJS();a.key=e.get("name"),a.value=""+e.get("uuid")+m.TREE_JOIN_STR+e.get("name"),T.push(a)});var N=n.get("accountPoundage"),A=a.get("poundageCurrentList"),I=a.get("poundageProjectList"),S=o.get("accounts");return l.default.createElement(c.Container,{className:"edit-running"},l.default.createElement(i.TopDatePicker,{value:E,onChange:function(e){t(p.changeCxlsData(["data","oriDate"],new d.DateLib(e).valueOf()))},callback:function(e){t(p.changeCxlsData(["data","oriDate"],e))}}),l.default.createElement(c.ScrollView,{flex:"1"},l.default.createElement(c.Row,{className:"lrls-card lrls-line"},l.default.createElement("label",null,"摘要："),l.default.createElement(c.TextareaItem,{placeholder:"摘要填写",value:v,onChange:function(e){t(p.changeCxlsData(["data","oriAbstract"],e))}})),l.default.createElement("div",{className:"lrls-card"},l.default.createElement(c.Row,{className:"yysr-amount"},l.default.createElement("label",null,C>=0?"付款金额:":"收款金额:"),l.default.createElement(c.XfInput.BorderInputItem,{mode:"amount",placeholder:"填写金额",value:y,onChange:function(e){if("STATE_XC_JN"==_){t(p.changeCxlsData(["data","payment","actualAmount"],e));var a=o.get("propertyPay");"SX_SHBX"==a&&t(p.changeCxlsData(["data","payment","companySocialSecurityAmount"],e)),"SX_ZFGJJ"==a&&t(p.changeCxlsData(["data","payment","companyAccumulationAmount"],e))}else t(p.changeCxlsData(["data","amount"],e))}}),l.default.createElement(c.Single,{className:"lrls-single",district:T,value:""+g+m.TREE_JOIN_STR+f,onOk:function(e){var a=e.value.split(m.TREE_JOIN_STR),n={needPoundage:e.needPoundage,poundage:e.poundage,poundageRate:e.poundageRate};t(p.changeCxlsData(["data","accounts",0,"accountUuid"],a[0])),t(p.changeCxlsData(["data","accounts",0,"accountName"],a[1])),t(p.changeCxlsData(["data","accounts",0,"poundage"],(0,u.fromJS)(n)))}},l.default.createElement(c.Row,{style:{color:f?"":"#999"},className:"lrls-account lrls-type"},l.default.createElement("span",{className:"overElli"},f||"点击选择账户"),l.default.createElement(c.Icon,{type:"triangle"}))))),C<0&&N.get("uuid")?l.default.createElement(s.default,{dispatch:t,data:o,accounts:S,accountPoundage:N,poundageCurrentList:A,poundageProjectList:I}):null,l.default.createElement(i.EnclosurePublic,{history:r})),l.default.createElement(c.ButtonGroup,{style:{backgroundColor:"#F8F8F8"}},l.default.createElement(c.Button,{onClick:function(){r.goBack()}},l.default.createElement(c.Icon,{type:"cancel"}),l.default.createElement("span",null,"取消")),l.default.createElement(c.Button,{onClick:function(){t(p.saveDefray(r))}},l.default.createElement(c.Icon,{type:"new"}),l.default.createElement("span",null,"保存"))))}}]),t}())||n;t.default=v},1856:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=E(a(0)),o=a(31),u=a(9),c=a(16),i=a(123),s=E(a(1360)),d=a(13),f=g(a(10)),m=g(a(25)),p=g(a(1215));function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function E(e){return e&&e.__esModule?e:{default:e}}var v=(0,o.connect)(function(e){return e})(n=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),r(t,[{key:"componentDidMount",value:function(){var e=this.props.searchRunningState.getIn(["data","oriState"]);f.setTitle({title:"STATE_ZS_TH"==e?"付款核销":"收款核销"}),f.setIcon({showIcon:!1}),f.setRight({show:!1}),sessionStorage.setItem("prevPage","searchrunning")}},{key:"render",value:function(){var e=this.props,t=e.dispatch,a=e.searchRunningState,n=e.allState,r=e.history,o=a.get("data"),f=o.getIn(["accounts",0,"accountName"]),g=o.getIn(["accounts",0,"accountUuid"]),E=o.get("oriDate"),v=o.get("oriAbstract"),_=o.get("amount"),h=o.get("oriState"),C=n.get("accountList"),y=[];C.size&&C.getIn([0,"childList"]).forEach(function(e,t){var a=e.toJS();a.key=e.get("name"),a.value=""+e.get("uuid")+m.TREE_JOIN_STR+e.get("name"),y.push(a)});var b=n.get("accountPoundage"),T=a.get("poundageCurrentList"),N=a.get("poundageProjectList"),A=o.get("accounts");return l.default.createElement(c.Container,{className:"edit-running"},l.default.createElement(i.TopDatePicker,{value:E,onChange:function(e){t(p.changeCxlsData(["data","oriDate"],new d.DateLib(e).valueOf()))},callback:function(e){t(p.changeCxlsData(["data","oriDate"],e))}}),l.default.createElement(c.ScrollView,{flex:"1"},l.default.createElement(c.Row,{className:"lrls-card lrls-line"},l.default.createElement("label",null,"摘要："),l.default.createElement(c.TextareaItem,{placeholder:"摘要填写",value:v,onChange:function(e){t(p.changeCxlsData(["data","oriAbstract"],e))}})),l.default.createElement("div",{className:"lrls-card"},l.default.createElement(c.Row,{className:"yysr-amount"},l.default.createElement("label",null,"STATE_ZS_TH"==h?"付款金额":"收款金额"),l.default.createElement(c.XfInput.BorderInputItem,{mode:"amount",placeholder:"填写金额",value:_,onChange:function(e){t(p.changeCxlsData(["data","amount"],e))}}),l.default.createElement(c.Single,{className:"lrls-single",district:y,value:""+g+m.TREE_JOIN_STR+f,onOk:function(e){var a=e.value.split(m.TREE_JOIN_STR),n={needPoundage:e.needPoundage,poundage:e.poundage,poundageRate:e.poundageRate};t(p.changeCxlsData(["data","accounts",0,"accountUuid"],a[0])),t(p.changeCxlsData(["data","accounts",0,"accountName"],a[1])),t(p.changeCxlsData(["data","accounts",0,"poundage"],(0,u.fromJS)(n)))}},l.default.createElement(c.Row,{style:{color:f?"":"#999"},className:"lrls-account lrls-type"},l.default.createElement("span",{className:"overElli"},f||"点击选择账户"),l.default.createElement(c.Icon,{type:"triangle"}))))),"STATE_ZS_TH"!=h&&b.get("uuid")?l.default.createElement(s.default,{dispatch:t,data:o,accounts:A,accountPoundage:b,poundageCurrentList:T,poundageProjectList:N}):null,l.default.createElement(i.EnclosurePublic,{history:r})),l.default.createElement(c.ButtonGroup,{style:{backgroundColor:"#F8F8F8"}},l.default.createElement(c.Button,{onClick:function(){r.goBack()}},l.default.createElement(c.Icon,{type:"cancel"}),l.default.createElement("span",null,"取消")),l.default.createElement(c.Button,{onClick:function(){t(p.saveZsfkx(r))}},l.default.createElement(c.Icon,{type:"new"}),l.default.createElement("span",null,"保存"))))}}]),t}())||n;t.default=v},962:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.view=t.reducer=void 0;var n=i(a(1845)),r=i(a(1399)),l=i(a(1066)),o=i(a(1214)),u=i(a(128)),c=i(a(186));function i(e){return e&&e.__esModule?e:{default:e}}var s={searchRunningState:r.default,runningPreviewState:l.default,lrpzState:o.default,enclosureState:u.default,previewEnclosureState:c.default};t.reducer=s,t.view=n.default}}]);