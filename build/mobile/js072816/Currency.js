(window.webpackJsonp=window.webpackJsonp||[]).push([[56],{1023:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.view=t.reducer=void 0;var r=i(n(2505)),c=i(n(2507)),a=i(n(1331));function i(e){return e&&e.__esModule?e:{default:e}}var o={currencyState:c.default,acconfigState:a.default};t.reducer=o,t.view=r.default},1294:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.changeRelatedAcListFetch=t.changeTabIndexCurrency=t.deleteCurrencyFetch=t.saveCurrencyFetch=t.cancelSaveCurrency=t.changeExchange=t.changeFcNumber=t.modifyCurrency=t.insertCurrency=t.selectAllCurrencyCheckBox=t.selectCurrencyItem=t.hideAllCurrencyCheckBox=t.showAllCurrencyCheckBox=t.getModelFCListFetch=t.getFCRelateAcListFetch=t.getFCListFetch=void 0;var r,c=n(13),a=n(24),i=(r=a)&&r.__esModule?r:{default:r},o=f(n(1076)),s=f(n(1295)),u=f(n(25)),l=f(n(10));function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var d=t.getFCListFetch=function(){return function(e){(0,i.default)("getFCList","GET","",function(t){(0,c.showMessage)(t)&&e({type:s.GET_FC_LIST_FETCH,receivedData:t.data})})}},C=t.getFCRelateAcListFetch=function(){return function(e){l.toast.loading(u.LOADING_TIP_TEXT,0),(0,i.default)("getFCRelateAcList","GET","",function(t){(0,c.showMessage)(t)&&(l.toast.hide(),e({type:s.GET_FC_RELATE_AC_LIST_FETCH,receivedData:t.data}))})}},_=(t.getModelFCListFetch=function(){return function(e){(0,i.default)("getModelFCList","GET","",function(t){(0,c.showMessage)(t)&&e({type:s.GET_MODEL_FC_LIST_FETCH,receivedData:t.data})})}},t.showAllCurrencyCheckBox=function(){return{type:s.SHOW_ALL_CURRENCY_CHECKBOX}},t.hideAllCurrencyCheckBox=function(){return{type:s.HIDE_ALL_CURRENCY_CHECKBOX}});t.selectCurrencyItem=function(e){return{type:s.SELECT_CURRENCY_ITEM,idx:e}},t.selectAllCurrencyCheckBox=function(){return{type:s.SELECT_ALL_CURRENCY_CHECKBOX}},t.insertCurrency=function(){return{type:s.INSERT_CURRENCY}},t.modifyCurrency=function(e,t){return{type:s.MODIFY_CURRENCY,fcNumber:e,exchange:t}},t.changeFcNumber=function(e,t){return{type:s.CHANGE_FC_NUMBER,fcNumber:e,name:t}},t.changeExchange=function(e){return{type:s.CHANGE_EXCHANGE,value:e}},t.cancelSaveCurrency=function(){return{type:s.CANCEL_SAVE_CURRENCY}},t.saveCurrencyFetch=function(e,t,n){return function(r){var a=e.get("exchange").toString().split("."),o=[];if(e.get("fcNumber")||o.push("币别不能为空"),e.get("exchange")?Number(e.get("exchange"))<=0?o.push("汇率不能小于等于0"):a[1]&&a[1].length>u.FC_EXCHANGE_DECIMAL_LENGTH&&o.push("汇率只支持小数点后四位"):o.push("汇率不能为空"),o.length)return l.Alert(o.reduce(function(e,t){return e+","+t}));l.toast.loading(u.LOADING_TIP_TEXT,0),{modify:function(){(0,i.default)("modifyFC","POST",JSON.stringify({fcNumber:e.get("fcNumber"),exchange:e.get("exchange")}),function(e){(0,c.showMessage)(e)&&(l.toast.hide(),n.goBack())})},insert:function(){(0,i.default)("insertFC","POST",JSON.stringify({fcNumber:e.get("fcNumber"),name:e.get("name"),exchange:e.get("exchange")}),function(e){(0,c.showMessage)(e)&&(l.toast.hide(),n.goBack())})}}[t]()}},t.deleteCurrencyFetch=function(e){return function(t){var n=e.filter(function(e){return"1"!=e.get("standard")}).filter(function(e){return e.get("selected")}).map(function(e,t){return e.get("fcNumber")});l.Confirm({message:"确定删除该币别吗？删除后可在“添加币别”中重新添加",title:"提示",buttonLabels:["取消","确定"],onSuccess:function(e){1===e.buttonIndex&&(l.toast.loading(u.LOADING_TIP_TEXT,0),(0,i.default)("deleteFC","POST",JSON.stringify({numberList:n}),function(e){(0,c.showMessage)(e)&&(l.toast.hide(),e.data&&e.data.length&&l.Alert(e.data[0].message),t(d()),t(_()))}))}})}},t.changeTabIndexCurrency=function(e){return{type:s.CHANGE_TAB_INDEX_CURRENCY,idx:e}},t.changeRelatedAcListFetch=function(e){return function(t,n){var r=n().allState.get("aclist").toSeq().filter(function(e){return e.get("selected")}).map(function(e){return e.get("acid")});l.toast.loading(u.LOADING_TIP_TEXT,0),(0,i.default)("relateFCList","POST",JSON.stringify({list:r}),function(n){if((0,c.showMessage)(n)){if(l.toast.hide(),t(o.getAcListFetch()),t(C()),n.data&&n.data.length)if(n.data.length>1){var r=n.data.map(function(e){return e.message}).reduce(function(e,t){return e+","+t});l.Alert(r)}else l.Alert(n.data[0].message);e.goBack()}})}}},1295:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.INIT_CURRENCY="INIT_CURRENCY",t.GET_FC_LIST_FETCH="GET_FC_LIST_FETCH",t.GET_FC_RELATE_AC_LIST_FETCH="GET_FC_RELATE_AC_LIST_FETCH",t.GET_MODEL_FC_LIST_FETCH="GET_MODEL_FC_LIST_FETCH",t.SHOW_ALL_CURRENCY_CHECKBOX="SHOW_ALL_CURRENCY_CHECKBOX",t.HIDE_ALL_CURRENCY_CHECKBOX="HIDE_ALL_CURRENCY_CHECKBOX",t.SELECT_CURRENCY_ITEM="SELECT_CURRENCY_ITEM",t.SELECT_ALL_CURRENCY_CHECKBOX="SELECT_ALL_CURRENCY_CHECKBOX",t.MODIFY_CURRENCY="MODIFY_CURRENCY",t.CHANGE_FC_NUMBER="CHANGE_FC_NUMBER",t.CHANGE_EXCHANGE="CHANGE_EXCHANGE",t.INSERT_CURRENCY="INSERT_CURRENCY",t.CANCEL_SAVE_CURRENCY="CANCEL_SAVE_CURRENCY",t.CHANGE_TAB_INDEX_CURRENCY="CHANGE_TAB_INDEX_CURRENCY"},1331:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=handleAcConfig;var _immutable=__webpack_require__(9),_ActionTypes=__webpack_require__(1357),ActionTypes=_interopRequireWildcard(_ActionTypes);function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var acconfigState=(0,_immutable.fromJS)({selectedAcAll:!1,showedLowerAcIdList:[],allAcModifyButtonDisplay:!1,allAcCheckBoxDisplay:!1,toolBarDisplayIndex:1,tabSelectedIndex:0,acConfigMode:"",fromfirts:!1,showReverseModal:!1,reverseSeved:!1,ac:{oldacid:"",acid:"",acname:"",category:"",upperinfo:"无",upperid:"",direction:"debit",asscategorylist:[],upperAcunit:"0",acunitOpen:"0",acunit:"",conversion:"1"},showInfoAffirmStatus:!1,reverseTitleName:["修改科目等级","修改科目编码"],type:"class",reverseTitleIndex:0,selectAcId:"",isSelect:!1,reverseAc:{acid:"",acname:"",categoryList:[],acCount:0,openingbalance:0,category:"",direction:"",upAcName:"",upperId:"",acunitOpen:"",cardNum:"",hasChildren:"0"},NewAcReverseId:"",NewAcReverseName:"",idNewAcReverseId:"",canChangeClassId:""});function handleAcConfig(){var _ActionTypes$INIT_ACC,state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:acconfigState,action=arguments[1];return((_ActionTypes$INIT_ACC={},_defineProperty(_ActionTypes$INIT_ACC,ActionTypes.INIT_ACCONFIG,function(){return acconfigState}),_defineProperty(_ActionTypes$INIT_ACC,ActionTypes.CANCEL_ENTER_AC_FETCH,function(){return action.history.goBack(),state}),_defineProperty(_ActionTypes$INIT_ACC,ActionTypes.TOGGLE_LOWER_AC,function(){return state.get("showedLowerAcIdList").indexOf(action.acid)>-1?state.update("showedLowerAcIdList",function(e){return e.map(function(e){return e.indexOf(action.acid)>-1?"":e}).filter(function(e){return!!e})}):state.update("showedLowerAcIdList",function(e){return e.push(action.acid)})}),_defineProperty(_ActionTypes$INIT_ACC,ActionTypes.BEFORE_MODIFY_AC,function(){setTimeout(function(){return action.history.push("/config/option/ac")},0);var e=action.uppername;return state.set("ac",action.ac).setIn(["ac","oldacid"],action.ac.get("acid")).set("acSelectedIndex",action.idx).set("acConfigMode","modify").setIn(["ac","conversion"],"1").setIn(["ac","oldAcunit"],action.ac.get("acunit")).setIn(["ac","upperinfo"],e?action.ac.get("upperid")+" "+e:"无")}),_defineProperty(_ActionTypes$INIT_ACC,ActionTypes.BEFORE_INSERT_AC,function(){setTimeout(function(){return action.history.push("/config/option/ac")},0);action.uppername;var e=void 0;if(action.ac){var t=action.ac.get("acid"),n=t+"01";action.currTabAcList.forEach(function(e){e.get("acid")===n&&(n=(Number(n)+1).toString())}),e=action.ac.set("acid",n).set("upperid",t).set("acname","").set("upperinfo",t+" "+action.ac.get("acname"))}else e=acconfigState.get("ac");return state.set("ac",e).set("acConfigMode","insert").set("fromfirts","first"===action.first)}),_defineProperty(_ActionTypes$INIT_ACC,ActionTypes.CHANGE_ACID,function(){if(!/^\d*$/.test(action.acid))return state;var e=action.acid.length;if(e>4&&e%2==0){var t=action.acid.substr(0,e-2),n=action.aclistSeq.find(function(e){return e.get("acid")==t});state=state.update("ac",function(e){return e.set("upperid",n?t:"").set("upperinfo",n?n.get("acid")+" "+n.get("acname"):"无").set("category",n?n.get("category"):"").set("direction",n?n.get("direction"):"debit")})}else e<=4&&(state=state.update("ac",function(e){return e.set("upperid","")}));return state.update("ac",function(e){return e.set("acid",action.acid)})}),_defineProperty(_ActionTypes$INIT_ACC,ActionTypes.CHANGE_TAB_INDEX_ACCONFIG,function(){return state.set("tabSelectedIndex",action.idx)}),_defineProperty(_ActionTypes$INIT_ACC,ActionTypes.SHOW_ALL_AC_MODIFY_BUTTON,function(){return state.set("toolBarDisplayIndex",3).set("allAcModifyButtonDisplay",!0)}),_defineProperty(_ActionTypes$INIT_ACC,ActionTypes.HIDE_ALL_AC_MODIFY_BUTTON,function(){return state.set("toolBarDisplayIndex",1).set("allAcModifyButtonDisplay",!1)}),_defineProperty(_ActionTypes$INIT_ACC,ActionTypes.SHOW_ALL_AC_CHECKBOX,function(){return state.set("toolBarDisplayIndex",2).set("allAcCheckBoxDisplay",!0)}),_defineProperty(_ActionTypes$INIT_ACC,ActionTypes.HIDE_ALL_AC_CHECKBOX,function(){return state.set("toolBarDisplayIndex",1).set("allAcCheckBoxDisplay",!1)}),_defineProperty(_ActionTypes$INIT_ACC,ActionTypes.CHANGE_ACNAME,function(){return state=state.setIn(["ac","acname"],action.acname)}),_defineProperty(_ActionTypes$INIT_ACC,ActionTypes.CHANGE_CATEGORY,function(){return state.setIn(["ac","category"],action.category)}),_defineProperty(_ActionTypes$INIT_ACC,ActionTypes.CHANGE_DIRECTION,function(){return state.updateIn(["ac","direction"],function(e){return"debit"===e?"credit":"debit"})}),_defineProperty(_ActionTypes$INIT_ACC,ActionTypes.CREATE_NEW_AC_ID,function(){var id=action.id,upperid=action.upperid,re=eval("/^[0-9]*$/g");return re.test(id)&&id.length<3&&(state=state.set("NewAcReverseId",id)),state}),_defineProperty(_ActionTypes$INIT_ACC,ActionTypes.CHANGE_AC_SHOW_REVERSE_MODAL,function(){return state.set("showReverseModal",action.bool)}),_defineProperty(_ActionTypes$INIT_ACC,ActionTypes.CHANGE_AC_REVERSESEVED,function(){return state.set("reverseSeved",action.bool)}),_defineProperty(_ActionTypes$INIT_ACC,ActionTypes.CHANGE_AC_AMOUNT_TEXT,function(){return"0"==state.getIn(["ac","acunitOpen"])?state=state.setIn(["ac","acunitOpen"],"1"):(state=state.setIn(["ac","acunitOpen"],"0"),"insert"!=action.acConfigMode&&""!=action.prevAcunit||(state=state.setIn(["ac","acunit"],""))),state.setIn(["ac","upperAcunit"],"").setIn(["ac","conversion"],"1")}),_defineProperty(_ActionTypes$INIT_ACC,ActionTypes.CHANGE_AC_ACCONFIG_ACUNIT,function(){return state.setIn(["ac","acunit"],action.acunit)}),_defineProperty(_ActionTypes$INIT_ACC,ActionTypes.CHANGE_UNIT_TEXT,function(){return console.log(action.unit),state.setIn(["ac","acunit"],action.unit).setIn(["ac","conversion"],action.conversion?action.conversion:"1")}),_defineProperty(_ActionTypes$INIT_ACC,ActionTypes.CHANGE_REVERSE_TIT,function(){return state.set("reverseTitleIndex",action.idx).set("type",0===action.idx?"class":"id").set("reverseAc",acconfigState.get("reverseAc")).set("isSelect",!1).set("NewAcReverseId","").set("NewAcReverseName","").set("idNewAcReverseId","")}),_defineProperty(_ActionTypes$INIT_ACC,ActionTypes.CANCEL_REVERSE,function(){return state=state.set("reverseAc",acconfigState.get("reverseAc")).set("isSelect",!1).set("NewAcReverseId","").set("NewAcReverseName","").set("canChangeClassId",""),action.history.goBack(),state}),_defineProperty(_ActionTypes$INIT_ACC,ActionTypes.SELECT_AC_REVERSE,function(){return state.set("selectAcId",action.acId)}),_defineProperty(_ActionTypes$INIT_ACC,ActionTypes.GET_REPORT_REVERSE_AC,function(){return state=state.set("reverseAc",(0,_immutable.fromJS)(action.receivedData)).set("NewAcReverseId","01").set("NewAcReverseName","").set("idNewAcReverseId","").set("canChangeClassId",""),action.history.goBack(),state}),_defineProperty(_ActionTypes$INIT_ACC,ActionTypes.CREATE_NEW_AC_NAME,function(){return state.set("NewAcReverseName",action.acname)}),_defineProperty(_ActionTypes$INIT_ACC,ActionTypes.IS_CLEAR_AC_REVERSE_INFO,function(){return action.bool||(state=state.set("reverseAc",acconfigState.get("reverseAc")).set("isSelect",!1).set("NewAcReverseId","").set("NewAcReverseName","").set("idNewAcReverseId","").set("canChangeClassId","")),state.set("isSelect",action.bool)}),_defineProperty(_ActionTypes$INIT_ACC,ActionTypes.CHANGE_ID_NEWACREVERSEID,function(){return state.set("idNewAcReverseId",action.id).set("canChangeClassId","")}),_defineProperty(_ActionTypes$INIT_ACC,ActionTypes.CHANGE_CANCHANGECLASSID,function(){return state.set("canChangeClassId",action.canChangeClassId)}),_defineProperty(_ActionTypes$INIT_ACC,ActionTypes.SHOW_INFO_AFFIRM,function(){return state.set("showInfoAffirmStatus",action.bool)}),_ActionTypes$INIT_ACC)[action.type]||function(){return state})()}},1332:function(e,t,n){},2505:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=d(n(0)),i=(n(9),n(31)),o=n(16),s=f(n(1294)),u=(f(n(1076)),f(n(10))),l=d(n(2506));function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function d(e){return e&&e.__esModule?e:{default:e}}n(1332);var C=(0,i.connect)(function(e){return e})(r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),c(t,[{key:"componentDidMount",value:function(){u.setTitle({title:"外币设置"}),u.setRight({show:!1}),u.setIcon({showIcon:!1}),this.props.dispatch(s.getFCListFetch()),this.props.dispatch(s.getFCRelateAcListFetch())}},{key:"render",value:function(){var e=this.props,t=e.dispatch,n=e.currencyState,r=e.history,c=e.allState,i=e.homeState.getIn(["permissionInfo","Config"]).getIn(["edit","permission"]),u=(n.get("relatedAclist"),n.get("currencyList")),f=(c.get("currencyModelList"),n.get("acRelateFCList")),d=n.get("allCheckboxDisplay"),C=u.some(function(e){return e.get("selected")});return a.default.createElement(o.Container,{className:"currency"},a.default.createElement(o.ScrollView,{flex:"1"},a.default.createElement(o.Collapse,{title:"关联科目",maxHeight:".33rem",showedCollapseFooter:!0},(f||[]).map(function(e,t){return a.default.createElement("span",{className:"currency-info"},a.default.createElement("span",{className:"currency-info-icon"},a.default.createElement(o.Icon,{type:"label",color:"#7E6B5A"})),a.default.createElement("span",{className:"currency-info-number"},e.get("acid")),a.default.createElement("span",{className:"currency-info-name"},e.get("acfullname")))})),u.map(function(e,n){return a.default.createElement(l.default,{key:n,item:e,idx:n,history:r,dispatch:t,allCheckboxDisplay:d,isEnd:n===u.size-1})})),a.default.createElement(o.ButtonGroup,{height:50,style:{display:d?"none":""}},a.default.createElement(o.Button,{disabled:!i,onClick:function(){t(s.getModelFCListFetch()),t(s.insertCurrency()),r.push("/currency/relation/currencyoption")}},a.default.createElement(o.Icon,{type:"add-plus"}),a.default.createElement("span",null,"添加")),a.default.createElement(o.Button,{disabled:!i,onClick:function(){return t(s.showAllCurrencyCheckBox())}},a.default.createElement(o.Icon,{type:"select",size:"15"}),a.default.createElement("span",null,"选择")),a.default.createElement(o.Button,{disabled:!i,onClick:function(){return r.push("/currency/relation/currencyac")}},a.default.createElement(o.Icon,{type:"edit"}),a.default.createElement("span",null,"关联科目"))),a.default.createElement(o.ButtonGroup,{height:50,style:{display:d?"":"none"}},a.default.createElement(o.Button,{onClick:function(){return t(s.selectAllCurrencyCheckBox())}},a.default.createElement(o.Icon,{type:"choose"}),a.default.createElement("span",null,"全选")),a.default.createElement(o.Button,{onClick:function(){return t(s.hideAllCurrencyCheckBox())}},a.default.createElement(o.Icon,{type:"cancel"}),a.default.createElement("span",null,"取消")),a.default.createElement(o.Button,{disabled:!C,onClick:function(){return t(s.deleteCurrencyFetch(u))}},a.default.createElement(o.Icon,{type:"delete"}),a.default.createElement("span",null,"删除"))))}}]),t}())||r;t.default=C},2506:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,c,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),o=(c=i)&&c.__esModule?c:{default:c},s=(n(9),n(22)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1294)),l=n(16);var f=(0,s.immutableRenderDecorator)(r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),a(t,[{key:"render",value:function(){var e=this.props,t=(e.key,e.item),n=e.idx,r=e.dispatch,c=e.allCheckboxDisplay,a=e.isEnd,i=e.history;return o.default.createElement("div",{className:"currency-item-wrap"},o.default.createElement("div",{className:"currency-item",style:{borderBottom:a?"0":""},onClick:function(){"1"!==t.get("standard")&&(c?r(u.selectCurrencyItem(n)):(r(u.modifyCurrency(t.get("fcNumber"),t.get("exchange"))),i.push("/currency/relation/currencyoption")))}},o.default.createElement(l.Checkbox,{className:"checkbox",checkedColor:"#fb6",style:{display:c?"":"none"},checked:t.get("selected")&&"1"!==t.get("standard"),disabled:"1"===t.get("standard")}),o.default.createElement("span",{className:"currency-item-info"},t.get("fcNumber")+"_"+t.get("name")),o.default.createElement(l.Icon,{className:"icon",type:"arrow-right"})))}}]),t}())||r;t.default=f},2507:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,n=arguments[1];return((e={},a(e,c.INIT_CURRENCY,function(){return i}),a(e,c.GET_FC_LIST_FETCH,function(){return t.set("currencyList",(0,r.fromJS)(n.receivedData)).set("currency",i.get("currency"))}),a(e,c.GET_FC_RELATE_AC_LIST_FETCH,function(){var e=[];(0,r.fromJS)(n.receivedData).map(function(t,n){e.push({acid:t.get("acid"),acname:t.get("acname"),acfullname:t.get("acfullname")})});var c=(0,r.fromJS)(e),a={"资产":[],"负债":[],"权益":[],"成本":[],"损益":[]};return c&&c.map(function(e){return a[{1:"资产",2:"负债",3:"权益",4:"成本"}[e.get("acid").substr(0,1)]||"损益"].push(e)}),t.set("acRelateFCList",c).set("relatedAclist",c).set("categorySelectedKeys",(0,r.fromJS)(a))}),a(e,c.GET_MODEL_FC_LIST_FETCH,function(){return t.set("currencyModelList",(0,r.fromJS)(n.receivedData))}),a(e,c.SHOW_ALL_CURRENCY_CHECKBOX,function(){return t.set("allCheckboxDisplay",!0)}),a(e,c.HIDE_ALL_CURRENCY_CHECKBOX,function(){return t.set("allCheckboxDisplay",!1).update("currencyList",function(e){return e.map(function(e){return e.set("selected",!1)})})}),a(e,c.SELECT_CURRENCY_ITEM,function(){return t.setIn(["currencyList",n.idx,"selected"],!t.getIn(["currencyList",n.idx,"selected"]))}),a(e,c.SELECT_ALL_CURRENCY_CHECKBOX,function(){return t.update("currencyList",function(e){return e.map(function(e){return e.set("selected",!e.get("selected"))})})}),a(e,c.MODIFY_CURRENCY,function(){return t.setIn(["currency","fcNumber"],n.fcNumber).setIn(["currency","exchange"],n.exchange).set("handleCurrency","modify")}),a(e,c.CHANGE_FC_NUMBER,function(){var e=t.get("currencyModelList").filter(function(e){return e.get("fcNumber")===n.fcNumber}).getIn([0,"standard"]);return t.setIn(["currency","fcNumber"],n.fcNumber).setIn(["currency","standard"],e).setIn(["currency","name"],n.name)}),a(e,c.CHANGE_EXCHANGE,function(){return/^\d*\.?\d{0,4}$/g.test(n.value)||""===n.value?t.setIn(["currency","exchange"],n.value):t}),a(e,c.INSERT_CURRENCY,function(){return t.set("handleCurrency","insert").set("currency",i.get("currency"))}),a(e,c.CANCEL_SAVE_CURRENCY,function(){return t.set("currency",i.get("currency"))}),a(e,c.CHANGE_TAB_INDEX_CURRENCY,function(){return t.set("fcTabSelectedIndex",n.idx)}),e)[n.type]||function(){return t})()};var r=n(9),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1295));function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=(0,r.fromJS)({allCheckboxDisplay:!1,toolBarDisplayIndex:1,handleCurrency:"insert",relatedAclist:[],acRelateFCList:[],currencyList:[],currencyModelList:[],currency:{fcNumber:"",name:"",exchange:"",standard:""},fcTabSelectedIndex:0})}}]);