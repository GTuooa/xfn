(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{1033:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.view=t.reducer=void 0;var a=r(n(2579));function r(e){return e&&e.__esModule?e:{default:e}}var o={projectConfState:r(n(1260)).default};t.reducer=o,t.view=a.default},1084:function(e,t,n){},1252:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=i(n(0)),o=(n(9),n(16),i(n(126)));function i(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=a=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.state={},l(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),a(t,[{key:"render",value:function(){var e=this.props,t=(e.dispatch,e.typeList),n=e.value,a=e.onChange,i=e.visible,l=e.isSelectEnd,c=e.parentDisabled,u=e.onCancel,s=function e(t){return t.map(function(t,n){return t.childList&&t.childList.length?{key:t.uuid,label:t.name,childList:e(t.childList)}:{key:t.uuid,label:t.name,childList:[]}})},f=[];return t.size?t.getIn([0,"childList"]).size?!0!==l?(f=s(t.getIn([0,"childList"]).toJS())).unshift({key:t.getIn([0,"uuid"]),label:t.getIn([0,"name"]),childList:[]}):f=s(t.getIn([0,"childList"]).toJS()):f.unshift({key:t.getIn([0,"uuid"]),label:t.getIn([0,"name"]),childList:[]}):f=[{key:"",label:"全部",childList:[]}],r.default.createElement(o.default,{visible:i,district:f,value:n,parentDisabled:c,onChange:a,onCancel:u},this.props.children)}}]),t}();t.default=c},1260:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return((e={},o(e,r.INIT_PROJECT,function(){return i}),o(e,r.INIT_PROJECT_DATA,function(){return t.set(n.dataType,i.get(n.dataType)).setIn(["views","fromPage"],n.fromPage||"project")}),o(e,r.PROJECT_HIGH_TYPE,function(){var e=n.list;return e.unshift({name:"全部",uuid:""}),t.set("highTypeList",(0,a.fromJS)(e)).setIn(["views","ctgyUuid"],e[1].uuid)}),o(e,r.CHANGE_PROJECT_DATA,function(){return t.setIn(n.dataType,n.value)}),o(e,r.CHANGE_PROJECT_TOP_DATA,function(){return t.set(n.dataType,n.value)}),o(e,r.AFTER_SUCCESS_EDIT_PROJECT_CARD,function(){return t.set("cardList",(0,a.fromJS)(n.receivedData))}),o(e,r.GET_PROJECT_LIST_AND_TREE,function(){var e=n.data.typeList.length?n.data.typeList[0].uuid:"";return t.set("cardList",(0,a.fromJS)(n.data.resultList)).set("treeList",(0,a.fromJS)(n.data.typeList)).mergeIn(["views"],(0,a.fromJS)({treeUuid:e,treeName:"全部",treeSelect:i.getIn(["views","treeSelect"])}))}),o(e,r.CHECKED_PROJECT_CATEGORY,function(){var e=t.getIn(["highTypeData","treeList"]).toJS();return function e(t,a){return t.map(function(t,r){var o=a;(t.uuid==n.uuid||a)&&(t.checked=n.value,o=!0),t.childList.length>0&&e(t.childList,o)})}(e,!1),t.setIn(["highTypeData","treeList"],(0,a.fromJS)(e))}),o(e,r.GET_PROJECT_CARD_ONE,function(){var e=n.data.categoryTypeList[0].subordinateName,r=n.data.categoryTypeList[0].subordinateUuid;return t.mergeIn(["data","psiData"],(0,a.fromJS)(n.data)).setIn(["views","insertOrModify"],"modify").setIn(["data","psiData","selectName"],e).setIn(["data","psiData","selectUuid"],r).setIn(["data","psiData","typeList"],(0,a.fromJS)(n.data.categoryTypeList[0].options)).setIn(["views","fromPage"],"project").set("treeList",(0,a.fromJS)(n.data.categoryTypeList[0].options))}),o(e,r.UNCHECKED_PROJECT,function(){if("card"==n.dataType){t.get("cardList");t=t.update("cardList",function(e){return e.map(function(e){return e.set("checked",!1)})})}else{var e=t.get("treeList").toJS();!function e(t){return t.map(function(t,n){t.checked=!1,t.childList.length>0&&e(t.childList)})}(e),t=t.set("treeList",(0,a.fromJS)(e))}return t}),o(e,r.BEFORE_ADD_PROJECT_CARD_FROM_EDIT_RUNNING,function(){return t=t.set("data",i.get("data")).set("treeList",(0,a.fromJS)(n.receivedData)).setIn(["views","insertOrModify"],"insert").setIn(["views","fromPage"],n.otherPageName).setIn(["views","otherPageName"],n.otherPageName).setIn(["views","ctgyUuid"],n.ctgyUuid).set("highTypeList",(0,a.fromJS)(n.highTypeList)).setIn(["data","psiData","code"],n.code).setIn(["data","psiData","categoryTypeList",0],(0,a.fromJS)({ctgyUuid:n.ctgyUuid,subordinateUuid:""})),n.receivedData[0].childList.length<=0&&(t=t.setIn(["data","psiData","selectUuid"],n.receivedData[0].uuid).setIn(["data","psiData","selectName"],n.receivedData[0].name).setIn(["data","psiData","categoryTypeList",0,"subordinateUuid"],n.receivedData[0].uuid)),n.highTypeList.map(function(e){e.uuid==n.ctgyUuid&&"生产项目"==e.name&&(t=t.setIn(["data","psiData","projectProperty"],"XZ_PRODUCE"))}),t}),o(e,r.BEFORE_ADD_PROJECT_CARD_GET_CODE,function(){return t.setIn(["data","psiData","code"],n.value)}),e)[n.type]||function(){return t})()};var a=n(9),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1301));function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=(0,a.fromJS)({views:{currentType:"",currentTypeName:"全部",ctgyUuid:"",treeName:"全部",treeUuid:"",highTypeIdx:0,insertOrModify:"insert",fromPage:"project",otherPageName:"",treeSelect:{treeTwoList:[],treeThreeList:[],selectUuid:["","",""],selectName:"",selectEndUuid:""}},data:{psiData:{code:"",name:"",selectName:"",selectUuid:"",categoryTypeList:[],typeList:[],used:!0,uuid:"",projectProperty:"XZ_LOSS",basicProductOpen:"",contractCostOpen:"",contractProfitOpen:"",engineeringSettlementOpen:""}},highTypeList:[],cardList:[],treeList:[],highTypeData:{commonFee:!1,name:"",uuid:"",beAssist:!1,beMake:!0,treeList:[]},deleteList:[],treeData:{name:"",parentName:"",parentUuid:"",uuid:""}})},1334:function(e,t,n){},1336:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=[],a=!1;return function t(r){r.map(function(r){if(!a)return r.uuid==e?(a=!0,void n.push(r)):void(r.childList.length&&(n.push(r),t(r.childList)))}),a||n.pop()}(t),n}},1337:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=c(n(1250)),r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(1251);var o=c(n(0)),i=(n(9),n(16)),l=c(n(1338));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}n(1339);var s=a.default.Item,f=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=a=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.state={showList:[],sortModal:!1},u(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),r(t,[{key:"showListLoop",value:function(e,t){var n=this;e.map(function(e,a){e.get("childList").size>0&&(t(e.get("uuid")),n.showListLoop(e.get("childList"),t))})}},{key:"componentDidMount",value:function(){var e=[];this.showListLoop(this.props.treeList,function(t){return e.push(t)}),this.setState({showList:e})}},{key:"componentWillReceiveProps",value:function(e){var t=[];this.showListLoop(e.treeList,function(e){return t.push(e)}),this.setState({showList:t})}},{key:"render",value:function(){var e=this,t=this.props,n=t.dispatch,a=t.treeList,r=t.itemClick,c=t.isSort,u=t.isAdd,f=t.addClick,d=t.isDelete,p=t.deleteClick,m=t.sortClick,h=t.mastLast,g=this.state,y=g.showList,v=g.sortModal;return o.default.createElement("div",{className:"config-tree-com"},function t(a,g){return a.map(function(v,b){var E=v.get("name"),w=v.get("uuid"),j=!!v.get("checked"),_=[];0!=b&&"未分类"!=E&&_.push(o.default.createElement(s,{key:"3",value:"up"},"上移")),b!=a.size-1&&"未分类"!=a.getIn([b+1,"name"])&&_.push(o.default.createElement(s,{key:"4",value:"down"},"下移"));var C=!(!v.get("childList")||!v.get("childList").size),P=!!C&&y.some(function(e){return e===v.get("uuid")}),O="";return 2==g&&(O=o.default.createElement("span",{className:"ac-flag",style:{width:".1rem",backgroundColor:"#D1C0A5"}})),3==g&&(O=o.default.createElement("span",{className:"ac-flag",style:{width:".2rem",backgroundColor:"#7E6B5A"}})),4==g&&(O=o.default.createElement("span",{className:"ac-flag",style:{width:".3rem",backgroundColor:"#59493f"}})),o.default.createElement("div",{key:v.get("uuid")},o.default.createElement("div",{className:"tree-com-type-list"},o.default.createElement("div",{className:"tree-com-touch-range-name",onClick:function(){if(u)g<4&&f(w,E);else if(d)p(w,E,!j);else{if(c)return;if(C&&h)return;var t=y;if(P){var n=t.findIndex(function(e){return e===v.get("uuid")});t.splice(n,1)}else t.push(v.get("uuid"));e.setState({showList:t})}}},o.default.createElement(i.Checkbox,{checked:j,disabled:"全部"==E,style:{paddingRight:"4px",display:d?"inline-block":"none"}}),o.default.createElement(i.Icon,{type:"add-small",className:"add-type-icon",style:{display:u?"block":"none",opacity:g<4?"1":"0"}}),"全部"===E?"":0===_.length?o.default.createElement("div",{className:"swap-position-block",style:{display:c?"block":"none"}}):o.default.createElement(l.default,{dispatch:n,overlay:_,item:v,data:a,swapPosition:c,i:b,sortClick:m,iconClick:function(t){return e.setState({sortModal:t})}}),O,o.default.createElement("span",{className:"tree-com-high-type-name",style:{color:C&&h?"#999":""},onClick:function(e){e.stopPropagation(),r(w,E,v)}},E)),o.default.createElement("div",{className:"tree-com-touch-range-icon",style:{display:C?"":"none"}},o.default.createElement(i.Icon,{type:"arrow-down",style:P?{transform:"rotate(180deg)"}:"",onClick:function(){var t=y;if(P){var n=t.findIndex(function(e){return e===v.get("uuid")});t.splice(n,1)}else t.push(v.get("uuid"));e.setState({showList:t})}}))),C&&P?t(v.get("childList"),g+1):"")})}(a,1),o.default.createElement("div",{className:"choose-type",style:{display:v?"":"none"},onClick:function(t){t.stopPropagation(),e.setState({sortModal:!1})}}))}}]),t}();t.default=f},1338:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=l(n(1250)),r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(1251);var o=l(n(0)),i=(n(9),n(16));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={visible:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),r(t,[{key:"render",value:function(){var e=this,t=this.props,n=(t.dispatch,t.overlay),r=t.item,l=t.data,c=t.swapPosition,u=t.i,s=t.sortClick,f=t.iconClick,d=this.state.visible;return o.default.createElement("div",{onClick:function(){f(!0)}},o.default.createElement(a.default,{visible:d,overlay:n,align:{overflow:{adjustY:0,adjustX:0},offset:[10,0]},placement:"bottomLeft",onSelect:function(t){switch(t.props.value){case"up":s(r.get("uuid"),l.getIn([u-1,"uuid"]));break;case"down":s(r.get("uuid"),l.getIn([u+1,"uuid"]));break;default:console.log(t.props.value)}e.setState({visible:!1}),f(!1)}},o.default.createElement(i.Icon,{type:"swap-position",style:{display:c?"block":"none"},className:"swap-position-icon"})))}}]),t}();t.default=c},1339:function(e,t,n){},2579:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=d(n(0)),o=n(16),i=n(125),l=d(n(2580)),c=d(n(2583)),u=d(n(2584)),s=d(n(2585)),f=d(n(2586));function d(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),a(t,[{key:"render",value:function(){return r.default.createElement(o.Container,{className:"project-config"},r.default.createElement(i.Route,{path:"/config/project/index",component:l.default}),r.default.createElement(i.Route,{path:"/config/project/projectHighType",component:c.default}),r.default.createElement(i.Route,{path:"/config/project/projectType",component:u.default}),r.default.createElement(i.Route,{path:"/config/project/projectTypeInsert",component:s.default}),r.default.createElement(i.Route,{path:"/config/project/projectCard",component:f.default}))}}]),t}();t.default=p},2580:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r,o,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=h(n(0)),c=n(31),u=n(9);n(2581),n(1084),n(1334);var s=n(16),f=m(n(10)),d=h(n(1336)),p=m(n(1256));function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function h(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var y=(0,c.connect)(function(e){return e})((o=r=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=a=g(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.scrollView="",a.scrollerHeight=0,a.listHeight=0,a.pageSize=50,a.state={isEdit:!1,showTree:!1,currentPage:1},g(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),i(t,[{key:"componentDidMount",value:function(){f.setTitle({title:"项目设置"}),f.setIcon({showIcon:!1}),f.setRight({show:!1});var e=this.props.dispatch;"home"===sessionStorage.getItem("prevPage")&&(sessionStorage.removeItem("prevPage"),e(p.projectHighType()),e(p.getProjectListAndTree())),this.scrollViewHtml=document.getElementsByClassName("right-content")[0],this.scrollerHeight=Number(window.getComputedStyle(this.scrollViewHtml).height.replace("px","")),this.listHtml=document.getElementsByClassName("list-html")[0],this.listHeight=this.listHtml?Number(window.getComputedStyle(this.listHtml).height.replace("px","")):50}},{key:"render",value:function(){var e=this,t=this.props,n=t.dispatch,a=t.projectConfState,r=t.history,o=t.homeState,i=this.state,c=i.isEdit,f=i.showTree,m=i.currentPage,h=o.getIn(["permissionInfo","Config"]).getIn(["edit","permission"]),g=a.get("highTypeList"),y=a.get("cardList"),v=a.get("treeList"),b=Math.ceil(y.size/this.pageSize),E=a.get("views"),w=E.get("currentType"),j=E.get("currentTypeName"),_=E.get("ctgyUuid"),C=E.get("treeUuid"),P=E.get("treeSelect"),O=[];v.size&&(O.push({uuid:v.getIn([0,"uuid"]),name:v.getIn([0,"name"]),childList:[]}),O=O.concat(v.getIn([0,"childList"]).toJS()));var T=P.get("treeTwoList"),I=P.get("treeThreeList"),k=P.get("selectUuid").toJS(),S=P.get("selectName"),N=P.get("selectEndUuid");return l.default.createElement(s.Container,{className:"project-config"},l.default.createElement(s.ScrollView,{flex:"1",className:"border-top"},l.default.createElement("div",{className:"setting-wrap"},l.default.createElement("div",{className:"setting-wrap-content"},l.default.createElement("div",{className:"setting-wrap-content-left"},g.map(function(t,a){return l.default.createElement("div",{className:w==t.get("uuid")?"left-item active":"left-item",key:t.get("uuid"),onClick:function(){n(p.changeProjectData(["views","currentType"],t.get("uuid"))),n(p.changeProjectData(["views","currentTypeName"],t.get("name"))),n(p.getProjectListAndTree()),e.setState({currentPage:1,showTree:!1}),e.scrollViewHtml.scrollTop=0}},l.default.createElement("span",{className:"text",style:{WebkitBoxOrient:"vertical"}},t.get("name")))})),l.default.createElement("div",{className:"setting-wrap-content-right"},l.default.createElement("div",{className:"right-item list-html",style:{display:w?"":"none"},onClick:function(){if(e.setState({showTree:!f}),!f&&N){var t=(0,d.default)(N,O),a=t[0],r=a.childList;r.length&&r.unshift({uuid:a.uuid,name:"全部",oriName:a.name,childList:[]});var o=t[1]?t[1]:{uuid:"",childList:[]},i=o.childList;i.length&&i.unshift({uuid:o.uuid,name:"全部",oriName:o.name,childList:[]}),n(p.changeProjectData(["views","treeSelect"],P.merge((0,u.fromJS)({treeTwoList:r,treeThreeList:i,selectUuid:[a.uuid,o.uuid,N]}))))}}},l.default.createElement("span",null,S||j),l.default.createElement(s.Icon,{type:"triangle",style:f?{transform:"rotate(180deg)"}:""})),l.default.createElement("div",{className:"tree-content-hidden "+(f?"tree-content":""),onClick:function(){return e.setState({showTree:!1})}},(0,u.fromJS)([O,T,I]).map(function(t,a){return l.default.createElement("div",{className:"tree-list "+(t.size?"bg-f"+a:""),key:"level_"+a},t.map(function(t){var r=t.get("uuid"),o=t.get("name"),i=t.get("oriName"),c=t.get("childList").size;return l.default.createElement("div",{className:r==k[a]?"tree-item active":"tree-item",key:r,onClick:function(l){var s=[];c?s=(s=t.get("childList")).unshift((0,u.fromJS)({uuid:r,name:"全部",oriName:o,childList:[]})):(n(p.changeProjectData(["views","treeUuid"],r)),n(p.changeProjectData(["views","treeName"],o)),n(p.getProjectCardByType(w,r)),e.setState({currentPage:1,showTree:!1}),e.scrollViewHtml.scrollTop=0),0==a&&n(p.changeProjectData(["views","treeSelect"],P.merge((0,u.fromJS)({treeTwoList:s,treeThreeList:[],selectUuid:[r,k[1],k[2]]})))),1==a&&n(p.changeProjectData(["views","treeSelect"],P.merge((0,u.fromJS)({treeThreeList:s,selectUuid:[k[0],r,k[2]]})))),2==a&&n(p.changeProjectData(["views","treeSelect"],P.merge((0,u.fromJS)({selectUuid:[k[0],k[1],r]})))),c||(n(p.changeProjectData(["views","treeSelect","selectName"],i||o)),n(p.changeProjectData(["views","treeSelect","selectEndUuid"],r))),l.stopPropagation()}},l.default.createElement("div",{className:"overElli"},o),c?l.default.createElement(s.Icon,{type:"arrow-right"}):null)}))})),l.default.createElement("div",{className:"right-content",onScroll:function(t){t.target.scrollTop+100+e.scrollerHeight>=m*e.listHeight*e.pageSize&&m<b&&e.setState({currentPage:m+1})}},y.slice(0,m*this.pageSize).map(function(e,t){var a=!!e.get("checked")&&e.get("checked");return l.default.createElement("div",{key:e.get("uuid"),className:"right-item",onClick:function(){n(c?p.changeProjectData(["cardList",t,"checked"],!a):p.getProjectCardOne(e.get("uuid"),r))}},l.default.createElement("span",{className:"item-checkbox",style:{display:c?"":"none"}},l.default.createElement(s.Checkbox,{checked:e.get("checked")})),l.default.createElement("span",{className:"right-item-left text",style:{WebkitBoxOrient:"vertical"}},e.get("code"),"_",e.get("name")),l.default.createElement(s.Icon,{type:"arrow-right"}))})))))),l.default.createElement(s.ButtonGroup,{className:"border-top",disabled:!h,style:{display:c?"none":""}},l.default.createElement(s.Button,{disabled:!h,onClick:function(){n(p.changeProjectData(["views","insertOrModify"],"insert")),n(p.initProjectData("data")),n(p.getProjectTree(_)),n(p.getProjectCardCode()),r.push("/config/project/projectCard")}},l.default.createElement(s.Icon,{type:"add-plus"}),l.default.createElement("span",null,"新增")),l.default.createElement(s.Button,{disabled:0==y.size||!h,onClick:function(){return e.setState({isEdit:!0})}},l.default.createElement(s.Icon,{type:"select",size:"15"}),l.default.createElement("span",null,"选择")),l.default.createElement(s.Button,{onClick:function(){r.push("/config/project/projectHighType")}},l.default.createElement(s.Icon,{type:"home"}),l.default.createElement("span",null,"类别管理"))),l.default.createElement(s.ButtonGroup,{className:"border-top",style:{display:c?"":"none"}},l.default.createElement(s.Button,{onClick:function(){e.setState({isEdit:!1}),n(p.uncheckedProject("card"))}},l.default.createElement(s.Icon,{type:"cancel"}),l.default.createElement("span",null,"取消")),l.default.createElement(s.Button,{disabled:!y.some(function(e){return e.get("checked")})||!h,onClick:function(){return n(p.deleteProjectCard(y,w,C,function(){return e.setState({isEdit:!1})}))}},l.default.createElement(s.Icon,{type:"delete"}),l.default.createElement("span",null,"删除"))))}}]),t}(),r.displayName="ProjectConfApp",a=o))||a;t.default=y},2581:function(e,t,n){},2583:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r,o,i,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n(0),u=(i=c)&&i.__esModule?i:{default:i},s=n(31),f=n(16),d=m(n(10)),p=m(n(1256));function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var h=(0,s.connect)(function(e){return e})((o=r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default.Component),l(t,[{key:"componentDidMount",value:function(){d.setTitle({title:"类别管理"}),d.setIcon({showIcon:!1}),d.setRight({show:!1})}},{key:"render",value:function(){var e=this.props,t=e.dispatch,n=e.projectConfState,a=e.history,r=n.get("highTypeList");return u.default.createElement(f.Container,{className:"project-config"},u.default.createElement(f.ScrollView,{flex:"1",className:"border-top"},r.map(function(e,n){if(n>0)return u.default.createElement("div",{className:"config-list-item-wrap-style",key:e.get("uuid"),onClick:function(){t(p.changeProjectData(["views","highTypeIdx"],n)),a.push("/config/project/projectType")}},u.default.createElement("div",{className:"config-list-item-style"},u.default.createElement("span",{className:"config-list-item-info-style"},e.get("name")),u.default.createElement("span",{className:"config-list-item-arrow-style"},u.default.createElement(f.Icon,{type:"arrow-right"}))))})),u.default.createElement(f.ButtonGroup,null,u.default.createElement(f.Button,{onClick:function(){a.goBack()}},u.default.createElement(f.Icon,{type:"cancel"}),u.default.createElement("span",null,"返回"))))}}]),t}(),r.displayName="ProjectHighType",a=o))||a;t.default=h},2584:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r,o,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=m(n(0)),c=(m(n(2)),n(31)),u=(n(9),n(16)),s=p(n(10)),f=m(n(1337)),d=p(n(1256));function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function m(e){return e&&e.__esModule?e:{default:e}}var h=u.Form.Label,g=u.Form.Item,y=(0,c.connect)(function(e){return e})((o=r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isSort:!1,isAdd:!1,isDelete:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),i(t,[{key:"componentDidMount",value:function(){s.setTitle({title:"类别设置"}),s.setIcon({showIcon:!1}),s.setRight({show:!1});var e=this.props.projectConfState.getIn(["views","highTypeIdx"]),t=this.props.projectConfState.getIn(["highTypeList",e,"uuid"]);this.props.dispatch(d.getProjectConfigHighTypeOne(t))}},{key:"componentWillUnmount",value:function(){var e=this.props.projectConfState,t=e.getIn(["views","currentType"]);[e.getIn(["highTypeData","uuid"])].includes(t)&&this.props.dispatch(d.getProjectListAndTree())}},{key:"render",value:function(){var e=this,t=this.props,n=t.dispatch,a=t.projectConfState,r=t.history,o=t.homeState,i=this.state,c=i.isSort,s=i.isAdd,p=i.isDelete,m=o.getIn(["permissionInfo","Config"]).getIn(["edit","permission"]),y=a.get("highTypeData"),v=y.get("commonFee"),b=y.get("beAssist"),E=y.get("beMake"),w=y.get("beIndirect"),j=y.get("beMechanical"),_=y.get("isCheckOut"),C=y.get("assistOpen"),P=y.get("makeOpen"),O=y.get("indirectOpen"),T=y.get("mechanicalOpen"),I=[];"生产项目"==y.get("name")&&(b&&I.push("beAssist"),E&&I.push("beMake")),"施工项目"==y.get("name")&&(w&&I.push("beIndirect"),j&&I.push("beMechanical"));var k=y.get("uuid"),S=y.get("treeList")?y.get("treeList"):[],N=function(){return e.setState({isAdd:!1,isSort:!1,isDelete:!1})};return l.default.createElement(u.Container,{className:"iuManage-config project-config"},l.default.createElement(u.ScrollView,{flex:"1",className:"iuManage-type-tree border-top"},l.default.createElement(u.Form,{style:{marginBottom:".1rem"}},l.default.createElement(g,{label:"类别名称",showAsterisk:!0},l.default.createElement("div",null,y.get("name"))),l.default.createElement(g,{label:"启用损益公共项目",style:{display:"损益项目"==y.get("name")?"":"none"}},l.default.createElement("span",{className:"noTextSwitchShort"},l.default.createElement(u.Switch,{checked:v,onClick:function(){n(d.changeProjectData(["highTypeData","commonFee"],!v))}}))),"生产项目"==y.get("name")?l.default.createElement(u.Multiple,{district:[{key:"辅助生产成本",value:"beAssist"},{key:"制造费用",value:"beMake"}],value:I,title:"功能",className:"config-form-item-auto-heigth-row",onOk:function(e){var t=e.map(function(e){return e.value});["beAssist","beMake"].map(function(e){t.includes(e)?n(d.changeProjectData(["highTypeData",e],!0)):n(d.changeProjectData(["highTypeData",e],!1))})}},l.default.createElement(h,null,"功能"),l.default.createElement("div",{className:"config-form-item-auto-height-row-item"},I.map(function(e,t){return l.default.createElement("span",{key:t,className:"config-form-item-type-choose-lable",style:{paddingLeft:"8px"}},{beAssist:"辅助生产成本",beMake:"制造费用"}[e])}),I.length?null:l.default.createElement("span",null,"请选择"))," ",l.default.createElement(u.Icon,{type:"arrow-right",className:"ac-option-icon",size:"14"})):null,"施工项目"==y.get("name")?l.default.createElement(u.Multiple,{district:[{key:"间接费用",value:"beIndirect"},{key:"机械作业",value:"beMechanical"}],value:I,title:"功能",className:"config-form-item-auto-heigth-row",onOk:function(e){var t=e.map(function(e){return e.value});["beIndirect","beMechanical"].map(function(e){t.includes(e)?n(d.changeProjectData(["highTypeData",e],!0)):n(d.changeProjectData(["highTypeData",e],!1))})}},l.default.createElement(h,null,"功能"),l.default.createElement("div",{className:"config-form-item-auto-height-row-item"},I.map(function(e,t){return l.default.createElement("span",{key:t,className:"config-form-item-type-choose-lable",style:{paddingLeft:"8px"}},{beIndirect:"间接费用",beMechanical:"机械作业"}[e])}),I.length?null:l.default.createElement("span",null,"请选择"))," ",l.default.createElement(u.Icon,{type:"arrow-right",className:"ac-option-icon",size:"14"})):null,l.default.createElement("div",{className:"config-form-sub-title",style:{display:b||E||w||j?"":"none"}},"期初值"),l.default.createElement(g,{label:"辅助生产成本",style:{display:b?"":"none"},className:"config-form-item-input-style"},l.default.createElement(u.XfInput,{mode:"amount",negativeAllowed:!0,placeholder:_?"已结账，不可更改":"选填",value:C,disabled:_,onChange:function(e){return n(d.changeProjectData(["highTypeData","assistOpen"],e))}})," ",l.default.createElement(u.Icon,{type:"arrow-right",className:"ac-option-icon",size:"14"})),l.default.createElement(g,{label:"制造费用",style:{display:E?"":"none"},className:"config-form-item-input-style"},l.default.createElement(u.XfInput,{mode:"amount",negativeAllowed:!0,placeholder:_?"已结账，不可更改":"选填",value:P,disabled:_,onChange:function(e){return n(d.changeProjectData(["highTypeData","makeOpen"],e))}})," ",l.default.createElement(u.Icon,{type:"arrow-right",className:"ac-option-icon",size:"14"})),l.default.createElement(g,{label:"间接费用",style:{display:w?"":"none"},className:"config-form-item-input-style"},l.default.createElement(u.XfInput,{mode:"amount",negativeAllowed:!0,placeholder:_?"已结账，不可更改":"选填",value:O,disabled:_,onChange:function(e){return n(d.changeProjectData(["highTypeData","indirectOpen"],e))}})," ",l.default.createElement(u.Icon,{type:"arrow-right",className:"ac-option-icon",size:"14"})),l.default.createElement(g,{label:"机械作业",style:{display:j?"":"none"},className:"config-form-item-input-style"},l.default.createElement(u.XfInput,{mode:"amount",negativeAllowed:!0,placeholder:_?"已结账，不可更改":"选填",value:T,disabled:_,onChange:function(e){return n(d.changeProjectData(["highTypeData","mechanicalOpen"],e))}})," ",l.default.createElement(u.Icon,{type:"arrow-right",className:"ac-option-icon",size:"14"}))),l.default.createElement(f.default,{dispatch:n,treeList:S,itemClick:function(e,t){"全部"!=t&&(n(d.getProjectTreeOne(e)),r.push("/config/project/projectTypeInsert"))},isSort:c,sortClick:function(e,t){n(d.swapProjectTypePosition(k,e,t))},isAdd:s,addClick:function(e,t){n(d.initProjectData("treeData")),n(d.changeProjectData(["treeData","parentUuid"],e)),n(d.changeProjectData(["treeData","parentName"],t)),r.push("/config/project/projectTypeInsert")},isDelete:p,deleteClick:function(e,t,a){"全部"!=t&&n(d.checkedProjectCategory(e,a))}})),l.default.createElement(u.ButtonGroup,{disabled:!m,style:{display:s||c||p?"none":""}},l.default.createElement(u.Button,{disabled:!m,onClick:function(){e.setState({isAdd:!0,isSort:!1,isDelete:!1})}},l.default.createElement(u.Icon,{type:"add-plus"}),l.default.createElement("span",null,"新增")),l.default.createElement(u.Button,{disabled:!m,onClick:function(){e.setState({isAdd:!1,isSort:!1,isDelete:!0})}},l.default.createElement(u.Icon,{type:"select"}),l.default.createElement("span",null,"选择")),l.default.createElement(u.Button,{onClick:function(){e.setState({isAdd:!1,isSort:!0,isDelete:!1})}},l.default.createElement(u.Icon,{type:"swap-position-small"}),l.default.createElement("span",null,"调整顺序")),l.default.createElement(u.Button,{disabled:!m,onClick:function(){n(d.modifyProjectConfigHighType())}},l.default.createElement(u.Icon,{type:"save"}),l.default.createElement("span",null,"保存"))),l.default.createElement(u.ButtonGroup,{style:{display:s||c||p?"":"none"}},l.default.createElement(u.Button,{onClick:function(){e.setState({isAdd:!1,isSort:!1,isDelete:!1}),p&&n(d.uncheckedProject("category"))}},l.default.createElement(u.Icon,{type:"cancel"}),l.default.createElement("span",null,"取消")),l.default.createElement(u.Button,{disabled:!m,style:{display:p?"":"none"},onClick:function(){n(d.deleteProjectType(k,S,N))}},l.default.createElement(u.Icon,{type:"delete"}),l.default.createElement("span",null,"删除"))))}}]),t}(),r.displayName="ProjectType",a=o))||a;t.default=y},2585:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r,o,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=m(n(0)),c=(m(n(2)),n(31)),u=(n(9),n(16)),s=p(n(10)),f=m(n(1252)),d=p(n(1256));function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function m(e){return e&&e.__esModule?e:{default:e}}var h=u.Form.Item,g=(0,c.connect)(function(e){return e})((o=r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={showTypeModal:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),i(t,[{key:"componentDidMount",value:function(){s.setTitle({title:"类别设置"}),s.setIcon({showIcon:!1}),s.setRight({show:!1})}},{key:"render",value:function(){var e=this,t=this.props,n=t.dispatch,a=t.projectConfState,r=t.history,o=this.state.showTypeModal,i=a.getIn(["highTypeData","uuid"]),c=a.getIn(["highTypeData","treeList"]),s=a.get("treeData");return l.default.createElement(u.Container,{className:"project-config"},l.default.createElement(u.ScrollView,{flex:"1",className:"border-top"},l.default.createElement(u.Form,null,l.default.createElement(h,{label:"类别名称",showAsterisk:!0,className:"config-form-item-input-style"},l.default.createElement(u.XfInput,{placeholder:"最长30个字符",value:s.get("name"),onChange:function(e){n(d.changeProjectData(["treeData","name"],e))}})," ",l.default.createElement(u.Icon,{type:"arrow-right",className:"ac-option-icon",size:"14"})),l.default.createElement(h,{label:"上级类别",showAsterisk:!0},l.default.createElement("div",{onClick:function(){e.setState({showTypeModal:!0})}},l.default.createElement("span",{className:"text-flow"},s.get("parentName")))," ",l.default.createElement(u.Icon,{type:"arrow-right",className:"ac-option-icon",size:"14"})),l.default.createElement(f.default,{visible:o,dispatch:n,typeList:c,onCancel:function(){return e.setState({showTypeModal:!1})},onChange:function(t){var a=t.key,r=t.label;n(d.changeProjectData(["treeData","parentUuid"],a)),n(d.changeProjectData(["treeData","parentName"],r)),e.setState({showTypeModal:!1})}},l.default.createElement("span",null)))),l.default.createElement(u.ButtonGroup,null,l.default.createElement(u.Button,{onClick:function(){r.goBack()}},l.default.createElement(u.Icon,{type:"cancel"}),l.default.createElement("span",null,"取消")),l.default.createElement(u.Button,{onClick:function(){n(d.saveProjectTypeInsert(i,s,r))}},l.default.createElement(u.Icon,{type:"save"}),l.default.createElement("span",null,"保存"))))}}]),t}(),r.displayName="ProjectTypeInsert",a=o))||a;t.default=g},2586:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r,o,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=g(n(0)),c=g(n(2)),u=n(31);n(9);n(1084);var s=n(16),f=h(n(10)),d=n(13),p=g(n(1252)),m=h(n(1256));function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function g(e){return e&&e.__esModule?e:{default:e}}var y=s.Form.Item,v=(0,u.connect)(function(e){return e})((o=r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={showTypeModal:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),i(t,[{key:"componentDidMount",value:function(){f.setTitle({title:"项目卡片"}),f.setIcon({showIcon:!1}),f.setRight({show:!1})}},{key:"render",value:function(){var e=this,t=this.props,n=t.dispatch,a=t.projectConfState,r=t.history,o=t.homeState,i=this.state.showTypeModal,c=a.get("highTypeList"),u=a.getIn(["views","insertOrModify"]),f=a.getIn(["views","fromPage"]),h="project"!==f,g=a.getIn(["data","psiData"]),v=g.get("used"),b=(a.getIn(["views","insertOrModify"]),a.get("treeList")),E=(a.getIn(["views","ctgyUuid"]),g.get("projectProperty")),w=g.get("basicProductOpen"),j=g.get("contractCostOpen"),_=g.get("contractProfitOpen"),C=g.get("engineeringSettlementOpen"),P=g.get("isCheckOut"),O=o.getIn(["permissionInfo","Config"]).getIn(["edit","permission"]),T=o.getIn(["data","userInfo","sobInfo","moduleInfo"]).includes("SCXM"),I=o.getIn(["data","userInfo","sobInfo","moduleInfo"]).includes("SGXM");h&&(O=o.getIn(["permissionInfo","LrAccount"]).getIn(["edit","permission"]));var k=[{key:"损益项目",value:"XZ_LOSS"}];return T&&k.push({key:"生产项目",value:"XZ_PRODUCE"}),I&&k.push({key:"施工项目",value:"XZ_CONSTRUCTION"}),l.default.createElement(s.Container,{className:"project-config"},l.default.createElement(s.ScrollView,{flex:"1",className:"border-top"},l.default.createElement(s.Form,null,l.default.createElement(y,{label:"编码",showAsterisk:!0,className:"config-form-item-input-style"},l.default.createElement(s.XfInput,{placeholder:"支持数字和英文大小写",value:g.get("code"),onChange:function(e){return d.configCheck.inputCheck("code",e,function(){n(m.changeProjectData(["data","psiData","code"],e))})}})," ",l.default.createElement(s.Icon,{type:"arrow-right",size:"14"})),l.default.createElement(y,{label:"名称",showAsterisk:!0,className:"config-form-item-input-style"},l.default.createElement(s.XfInput,{placeholder:"填写名称",value:g.get("name"),onChange:function(e){n(m.changeProjectData(["data","psiData","name"],e))}})," ",l.default.createElement(s.Icon,{type:"arrow-right",size:"14"})),l.default.createElement(y,{label:"项目性质",showAsterisk:!0},l.default.createElement(s.Single,{district:k,value:E,onOk:function(e){n(m.changeProjectData(["data","psiData","projectProperty"],e.value)),c.map(function(t){t.get("name")==e.key&&n(m.getProjectTree(t.get("uuid")))})}},l.default.createElement(s.Row,{className:"config-form-item-select-item"},{XZ_LOSS:"损益项目",XZ_PRODUCE:"生产项目",XZ_CONSTRUCTION:"施工项目"}[E]))," ",l.default.createElement(s.Icon,{type:"arrow-right",size:"14"})),l.default.createElement(y,{label:"类别",showAsterisk:!0,onClick:function(){e.setState({showTypeModal:!0})}},g.get("selectName")," ",l.default.createElement(s.Icon,{type:"arrow-right",size:"14"})),l.default.createElement(p.default,{visible:i,dispatch:n,typeList:b,isSelectEnd:!0,onCancel:function(){return e.setState({showTypeModal:!1})},onChange:function(t){var a=t.key,r=t.label;n(m.changeProjectData(["data","psiData","selectName"],r)),n(m.changeProjectData(["data","psiData","selectUuid"],a)),n(m.changeProjectData(["data","psiData","categoryTypeList",0,"subordinateUuid"],a)),e.setState({showTypeModal:!1})}},l.default.createElement("span",null)),l.default.createElement("div",{className:"config-form-sub-title",style:{display:["XZ_PRODUCE","XZ_CONSTRUCTION"].includes(E)?"":"none"}},"期初值"),l.default.createElement(y,{label:"基本生产成本",style:{display:"XZ_PRODUCE"==E?"":"none"},className:"config-form-item-input-style"},l.default.createElement(s.XfInput,{mode:"amount",negativeAllowed:!0,placeholder:P?"已结账，不可更改":"选填",value:w,disabled:P,onChange:function(e){return n(m.changeProjectData(["data","psiData","basicProductOpen"],e))}})," ",l.default.createElement(s.Icon,{type:"arrow-right",className:"ac-option-icon",size:"14"})),l.default.createElement(y,{label:"合同成本",style:{display:"XZ_CONSTRUCTION"==E?"":"none"},className:"config-form-item-input-style"},l.default.createElement(s.XfInput,{mode:"amount",negativeAllowed:!0,placeholder:P?"已结账，不可更改":"选填",value:j,disabled:P,onChange:function(e){return n(m.changeProjectData(["data","psiData","contractCostOpen"],e))}})," ",l.default.createElement(s.Icon,{type:"arrow-right",className:"ac-option-icon",size:"14"})),l.default.createElement(y,{label:"合同毛利",style:{display:"XZ_CONSTRUCTION"==E?"":"none"},className:"config-form-item-input-style"},l.default.createElement(s.XfInput,{mode:"amount",negativeAllowed:!0,placeholder:P?"已结账，不可更改":"选填",value:_,disabled:P,onChange:function(e){return n(m.changeProjectData(["data","psiData","contractProfitOpen"],e))}})," ",l.default.createElement(s.Icon,{type:"arrow-right",className:"ac-option-icon",size:"14"})),l.default.createElement(y,{label:"工程结算",style:{display:"XZ_CONSTRUCTION"==E?"":"none"},className:"config-form-item-input-style"},l.default.createElement(s.XfInput,{mode:"amount",negativeAllowed:!0,placeholder:P?"已结账，不可更改":"选填",value:C,disabled:P,onChange:function(e){return n(m.changeProjectData(["data","psiData","engineeringSettlementOpen"],e))}})," ",l.default.createElement(s.Icon,{type:"arrow-right",className:"ac-option-icon",size:"14"})),l.default.createElement(y,{label:"启用/停用",style:{display:"insert"==u?"none":"",marginTop:".1rem"}},l.default.createElement("span",{className:"noTextSwitchShort"},l.default.createElement(s.Switch,{checked:v,onClick:function(){n(m.changeProjectData(["data","psiData","used"],!v))}}))))),l.default.createElement(s.ButtonGroup,null,l.default.createElement(s.Button,{onClick:function(){r.goBack()}},l.default.createElement(s.Icon,{type:"cancel"}),l.default.createElement("span",null,"取消")),l.default.createElement(s.Button,{disabled:!O,onClick:function(){d.configCheck.beforeSaveCheck([{type:"name",value:g.get("name")},{type:"code",value:g.get("code")}],function(){n(m.checkProjectCard(f,r))})}},l.default.createElement(s.Icon,{type:"save"}),l.default.createElement("span",null,"保存")),l.default.createElement(s.Button,{disabled:!O,style:{display:"insert"!=u||h?"none":""},onClick:function(){d.configCheck.beforeSaveCheck([{type:"name",value:g.get("name")},{type:"code",value:g.get("code")}],function(){n(m.checkProjectCard(f,r,!0))})}},l.default.createElement(s.Icon,{type:"new"}),l.default.createElement("span",null,"保存并新增"))))}}]),t}(),r.displayName="ProjectCard",r.propTypes={dispatch:c.default.func},a=o))||a;t.default=v}}]);