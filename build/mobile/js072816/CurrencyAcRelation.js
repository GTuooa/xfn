(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{1024:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.view=t.reducer=void 0;var r,a=n(2508),c=(r=a)&&r.__esModule?r:{default:r};t.reducer={},t.view=c.default},1210:function(e,t,n){},1294:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.changeRelatedAcListFetch=t.changeTabIndexCurrency=t.deleteCurrencyFetch=t.saveCurrencyFetch=t.cancelSaveCurrency=t.changeExchange=t.changeFcNumber=t.modifyCurrency=t.insertCurrency=t.selectAllCurrencyCheckBox=t.selectCurrencyItem=t.hideAllCurrencyCheckBox=t.showAllCurrencyCheckBox=t.getModelFCListFetch=t.getFCRelateAcListFetch=t.getFCListFetch=void 0;var r,a=n(13),c=n(24),o=(r=c)&&r.__esModule?r:{default:r},u=f(n(1076)),i=f(n(1295)),l=f(n(25)),s=f(n(10));function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var d=t.getFCListFetch=function(){return function(e){(0,o.default)("getFCList","GET","",function(t){(0,a.showMessage)(t)&&e({type:i.GET_FC_LIST_FETCH,receivedData:t.data})})}},C=t.getFCRelateAcListFetch=function(){return function(e){s.toast.loading(l.LOADING_TIP_TEXT,0),(0,o.default)("getFCRelateAcList","GET","",function(t){(0,a.showMessage)(t)&&(s.toast.hide(),e({type:i.GET_FC_RELATE_AC_LIST_FETCH,receivedData:t.data}))})}},_=(t.getModelFCListFetch=function(){return function(e){(0,o.default)("getModelFCList","GET","",function(t){(0,a.showMessage)(t)&&e({type:i.GET_MODEL_FC_LIST_FETCH,receivedData:t.data})})}},t.showAllCurrencyCheckBox=function(){return{type:i.SHOW_ALL_CURRENCY_CHECKBOX}},t.hideAllCurrencyCheckBox=function(){return{type:i.HIDE_ALL_CURRENCY_CHECKBOX}});t.selectCurrencyItem=function(e){return{type:i.SELECT_CURRENCY_ITEM,idx:e}},t.selectAllCurrencyCheckBox=function(){return{type:i.SELECT_ALL_CURRENCY_CHECKBOX}},t.insertCurrency=function(){return{type:i.INSERT_CURRENCY}},t.modifyCurrency=function(e,t){return{type:i.MODIFY_CURRENCY,fcNumber:e,exchange:t}},t.changeFcNumber=function(e,t){return{type:i.CHANGE_FC_NUMBER,fcNumber:e,name:t}},t.changeExchange=function(e){return{type:i.CHANGE_EXCHANGE,value:e}},t.cancelSaveCurrency=function(){return{type:i.CANCEL_SAVE_CURRENCY}},t.saveCurrencyFetch=function(e,t,n){return function(r){var c=e.get("exchange").toString().split("."),u=[];if(e.get("fcNumber")||u.push("币别不能为空"),e.get("exchange")?Number(e.get("exchange"))<=0?u.push("汇率不能小于等于0"):c[1]&&c[1].length>l.FC_EXCHANGE_DECIMAL_LENGTH&&u.push("汇率只支持小数点后四位"):u.push("汇率不能为空"),u.length)return s.Alert(u.reduce(function(e,t){return e+","+t}));s.toast.loading(l.LOADING_TIP_TEXT,0),{modify:function(){(0,o.default)("modifyFC","POST",JSON.stringify({fcNumber:e.get("fcNumber"),exchange:e.get("exchange")}),function(e){(0,a.showMessage)(e)&&(s.toast.hide(),n.goBack())})},insert:function(){(0,o.default)("insertFC","POST",JSON.stringify({fcNumber:e.get("fcNumber"),name:e.get("name"),exchange:e.get("exchange")}),function(e){(0,a.showMessage)(e)&&(s.toast.hide(),n.goBack())})}}[t]()}},t.deleteCurrencyFetch=function(e){return function(t){var n=e.filter(function(e){return"1"!=e.get("standard")}).filter(function(e){return e.get("selected")}).map(function(e,t){return e.get("fcNumber")});s.Confirm({message:"确定删除该币别吗？删除后可在“添加币别”中重新添加",title:"提示",buttonLabels:["取消","确定"],onSuccess:function(e){1===e.buttonIndex&&(s.toast.loading(l.LOADING_TIP_TEXT,0),(0,o.default)("deleteFC","POST",JSON.stringify({numberList:n}),function(e){(0,a.showMessage)(e)&&(s.toast.hide(),e.data&&e.data.length&&s.Alert(e.data[0].message),t(d()),t(_()))}))}})}},t.changeTabIndexCurrency=function(e){return{type:i.CHANGE_TAB_INDEX_CURRENCY,idx:e}},t.changeRelatedAcListFetch=function(e){return function(t,n){var r=n().allState.get("aclist").toSeq().filter(function(e){return e.get("selected")}).map(function(e){return e.get("acid")});s.toast.loading(l.LOADING_TIP_TEXT,0),(0,o.default)("relateFCList","POST",JSON.stringify({list:r}),function(n){if((0,a.showMessage)(n)){if(s.toast.hide(),t(u.getAcListFetch()),t(C()),n.data&&n.data.length)if(n.data.length>1){var r=n.data.map(function(e){return e.message}).reduce(function(e,t){return e+","+t});s.Alert(r)}else s.Alert(n.data[0].message);e.goBack()}})}}},1295:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.INIT_CURRENCY="INIT_CURRENCY",t.GET_FC_LIST_FETCH="GET_FC_LIST_FETCH",t.GET_FC_RELATE_AC_LIST_FETCH="GET_FC_RELATE_AC_LIST_FETCH",t.GET_MODEL_FC_LIST_FETCH="GET_MODEL_FC_LIST_FETCH",t.SHOW_ALL_CURRENCY_CHECKBOX="SHOW_ALL_CURRENCY_CHECKBOX",t.HIDE_ALL_CURRENCY_CHECKBOX="HIDE_ALL_CURRENCY_CHECKBOX",t.SELECT_CURRENCY_ITEM="SELECT_CURRENCY_ITEM",t.SELECT_ALL_CURRENCY_CHECKBOX="SELECT_ALL_CURRENCY_CHECKBOX",t.MODIFY_CURRENCY="MODIFY_CURRENCY",t.CHANGE_FC_NUMBER="CHANGE_FC_NUMBER",t.CHANGE_EXCHANGE="CHANGE_EXCHANGE",t.INSERT_CURRENCY="INSERT_CURRENCY",t.CANCEL_SAVE_CURRENCY="CANCEL_SAVE_CURRENCY",t.CHANGE_TAB_INDEX_CURRENCY="CHANGE_TAB_INDEX_CURRENCY"},1332:function(e,t,n){},2508:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=_(n(0)),o=(n(9),n(31)),u=n(16),i=C(n(10)),l=C(n(1294)),s=C(n(1076)),f=_(n(2509)),d=_(n(2510));function C(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function _(e){return e&&e.__esModule?e:{default:e}}n(1332),n(1210);var p=(0,o.connect)(function(e){return e})(r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.default.Component),a(t,[{key:"componentDidMount",value:function(){i.setTitle({title:"关联科目设置"}),i.setRight({show:!1});var e=this.props,t=e.dispatch,n=(e.allState,e.currencyState.get("acRelateFCList").map(function(e){return e.get("acid")}));t(s.selectAcAllByCurrency(n))}},{key:"render",value:function(){var e=this.props,t=e.allState,n=e.history,r=e.dispatch,a=e.acconfigState,o=e.currencyState,i=(a.get("showedLowerAcIdList"),t.get("aclist").toSeq()),C=t.get("acTags"),_=(t.get("assTags"),o.get("fcTabSelectedIndex")),p=C.getIn([_,"sub"]),E=i.map(function(e,t){return e.set("idx",t)}).filter(function(e){return p.indexOf(e.get("category"))>-1}).map(function(e){var t=e.get("acid"),n=i.getIn([e.get("idx")+1,"upperid"]);return e.set("hasSub",!!n&&n===t)});return c.default.createElement(u.Container,{className:"ac-relation"},c.default.createElement(f.default,{tabSelectedIndex:_,dispatch:r,acTags:C,callback:function(e){return r(l.changeTabIndexCurrency(e))}}),c.default.createElement(u.ScrollView,{flex:"1"},E.map(function(e,t){var n=e.get("upperid")?"#FEF3E3":"#fff";return c.default.createElement(d.default,{hasSub:e.get("hasSub"),style:{backgroundColor:n,display:""},key:e.get("acid"),idx:e.get("idx"),ac:e,selectable:!e.get("hasSub"),currTabAcList:E,dispatch:r})})),c.default.createElement(u.ButtonGroup,{type:"ghost",height:50},c.default.createElement(u.Button,{onClick:function(){return r(s.unselectAcAll())&n.goBack()}},c.default.createElement(u.Icon,{type:"cancel"}),c.default.createElement("span",null,"取消")),c.default.createElement(u.Button,{onClick:function(){return r(l.changeRelatedAcListFetch(n))}},c.default.createElement(u.Icon,{type:"confirm"}),c.default.createElement("span",null,"确认"))))}}]),t}())||r;t.default=p},2509:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),u=(a=o)&&a.__esModule?a:{default:a},i=(n(9),n(22));n(1332);!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(10));var l=(0,i.immutableRenderDecorator)(r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default.Component),c(t,[{key:"render",value:function(){var e=this.props,t=e.tabSelectedIndex,n=e.acTags,r=(e.dispatch,e.callback);return u.default.createElement("div",{className:"tab-title"},n.map(function(e,n){return u.default.createElement("span",{className:["tab-title-item",t===n?"selected":""].join(" "),onClick:function(){return r(n)},key:n},e.get("category"))}))}}]),t}())||r;t.default=l},2510:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),u=(a=o)&&a.__esModule?a:{default:a},i=(n(9),n(22)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1076)),s=n(16);n(1332);var f={4:"#fff",6:"#D1C0A5",8:"#7E6B5A",10:"#59493f"},d=(0,i.immutableRenderDecorator)(r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default.Component),c(t,[{key:"render",value:function(){var e=this.props,t=e.style,n=(e.hasSub,e.isExpanded,e.ac),r=(e.currTabAcList,e.idx,e.selectable),a=(e.allAcCheckBoxDisplay,e.dispatch),c=(e.uppername,(n.get("acid").length-4)/200*10+"rem"),o={width:c,background:f[n.get("acid").length]};return u.default.createElement("div",{className:"relate-item-wrap",style:t},u.default.createElement("div",{className:n.get("asscategorylist").size?"relate-ass-item":"relate-item",onClick:function(e){e.stopPropagation(),r&&a(l.selectAcCurrency(n.get("idx")))}},u.default.createElement(s.Checkbox,{className:"checkbox",checked:n.get("selected"),disabled:!r,checkedColor:"#fb6"}),u.default.createElement("div",{className:"ac-article"},u.default.createElement("span",{className:"ac-article-acid-acname"},"0rem"==c?"":u.default.createElement("span",{className:"ac-flag",style:o}),u.default.createElement("span",{className:"ac-info ac-underline"},n.get("acid")+n.get("acname"))),0==n.get("asscategorylist").size?"":u.default.createElement("p",{className:"ac-ass"},"辅助核算: ",n.get("asscategorylist").reduce(function(e,t){return e+"/"+t}))),u.default.createElement("div",{className:"ac-other"},u.default.createElement("span",{className:"ac-direction"},"debit"==n.get("direction")?"借":"贷","方"))))}}]),t}())||r;t.default=d}}]);