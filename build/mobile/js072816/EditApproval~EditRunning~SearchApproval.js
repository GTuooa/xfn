(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{1243:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.relativeHighTypeTemp={isPayUnit:!0,isReceiveUnit:!0,isAppliedWater:!0,isAppliedInvoicing:!1,isAppliedLedger:!1,name:"",payableAcName:"",payableAcId:"",receivableAcName:"",receivableAcId:"",advanceAcName:"",advanceAcId:"",prepaidAcName:"",prepaidAcId:"",treeList:[]},t.relativeTypeTemp={name:"",remark:"",parentName:"全部",parentUuid:"",uuid:""},t.relativeTypeBtnStatus={isAdd:!1,isDelete:!1,treeUuid:"",treeName:"全部",isUp:!1,isDown:!1,isEdit:!1,parentUuid:""},t.relativeCardTemp={name:"",code:"",isPayUnit:!0,isReceiveUnit:!0,payableAcName:"应付账款",receivableAcName:"应收账款",advanceAcName:"预收账款",prepaidAcName:"预付账款",payableAcId:"2202",receivableAcId:"1122",advanceAcId:"2203",prepaidAcId:"1123",companyAddress:"",companyTel:"",financeName:"",financeTel:"",remark:"",receivableOpened:"",advanceOpened:"",payableOpened:"",prepaidOpened:"",categoryTypeList:[],insertOrModify:"insert",insertFrom:"",enablePrepaidAc:!0,enableAdvanceAc:!0,contacterInfo:!1,isCheckOut:!1},t.inventoryHighTypeTemp={name:"",isAppliedSale:!0,isAppliedPurchase:!0,isAppliedProduce:!1,isAppliedWater:!0,isAppliedInvoicing:!1,uuid:""},t.inventoryTypeTemp={parentUuid:"",name:"",remark:"",ctgyUuid:"",parentName:"",uuid:""},t.inventoryCardTemp={code:"",name:"",inventoryNature:"",inventoryAcName:"",inventoryAcId:"",opened:"",remark:"",isAppliedSale:!0,isAppliedPurchase:!0,isAppliedProduce:!1,categoryTypeList:[],contacterInfo:!1,isCheckOut:!1,openList:[],isOpenedQuantity:!1,warehousePriceMode:"U",openedQuantity:"",unit:{uuid:"",name:"",isStandard:!1,uuidList:[]},unitPriceList:[],assemblyState:"CLOSE",assemblySheet:{unitUuid:"",unitName:"",quantity:"",materialList:[]},financialInfo:{openAssist:!1,assistClassificationList:[],openBatch:!1,isBatchUniform:!1,batchList:[],openShelfLife:!1,shelfLife:"",openSerial:!1}},t.inventoryBtnStatus={isAdd:!1,isDelete:!1,treeUuid:"",treeName:"全部",isUp:!1,isDown:!1,isEdit:!1,parentUuid:""},t.projectHighTypeInfo={name:"",commonFee:!1,uuid:""},t.projectCardInfo={name:"",code:"",selectUuid:"",selectName:"",projectRelation:[{ctgyUuid:"",subordinateUuid:""}]},t.ProjectTypeBtnStatus={isAdd:!1,isDelete:!1,treeUuid:"",treeName:"全部",isUp:!1,isDown:!1,upUuid:"",downUuid:"",isEdit:!1,parentUuid:""},t.projectType={name:"",remark:"",parentName:"全部",parentUuid:"",uuid:""}},1302:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.INIT_INVENCONFIG="INIT_INVENCONFIG",t.CHANGE_INVENTORY_CONFIG_HIGH_TYPE_CONTENT="CHANGE_INVENTORY_CONFIG_HIGH_TYPE_CONTENT",t.GET_INVENTORY_CONFIG_HIGH_TYPE_LIST="GET_INVENTORY_CONFIG_HIGH_TYPE_LIST",t.EDIT_INVENETORY_HIGH_TYPE="EDIT_INVENETORY_HIGH_TYPE",t.CHANGE_ACTIVE_INVENTORY_CONFIG_HIGH_TYPE="CHANGE_ACTIVE_INVENTORY_CONFIG_HIGH_TYPE",t.CHANGE_MODAL_ACTIVE_HIGH_TYPE="CHANGE_MODAL_ACTIVE_HIGH_TYPE",t.INSERT_INVENTORY_CONFIG_HGIH_TYPE="INSERT_INVENTORY_CONFIG_HGIH_TYPE",t.DELETE_INVENTORY_CONFIG_HGIH_TYPE="DELETE_INVENTORY_CONFIG_HGIH_TYPE",t.CHANGE_INVENTORY_CONFIG_CARD_TYPE_CONTENT="CHANGE_INVENTORY_CONFIG_CARD_TYPE_CONTENT",t.SELECT_INVENTORY_CONFIG_CARD_TYPE="SELECT_INVENTORY_CONFIG_CARD_TYPE",t.INSERT_INVENTORY_CONFIG_CARD_TYPE="INSERT_INVENTORY_CONFIG_CARD_TYPE",t.BEFORE_ADD_INVENTORY_CONFIG_CARD_TYPE="BEFORE_ADD_INVENTORY_CONFIG_CARD_TYPE",t.CHANGE_INVENTORY_CONFIG_CARD_TYPE_BOX_STATUS="CHANGE_INVENTORY_CONFIG_CARD_TYPE_BOX_STATUS",t.GET_INVENTORY_CONFIG_TYPE_CONTENT="GET_INVENTORY_CONFIG_TYPE_CONTENT",t.BEFORE_ADD_INVENTORY_CONFIG_CARD="BEFORE_ADD_INVENTORY_CONFIG_CARD",t.CHANGE_INVENTORY_CONFIG_CARD_CONTENT="CHANGE_INVENTORY_CONFIG_CARD_CONTENT",t.CHANGE_INVENTORY_CONFIG_CARD_AC="CHANGE_INVENTORY_CONFIG_CARD_AC",t.CHANGE_INVENTORY_CONFIG_UNDEFINE_CARD_AC="CHANGE_INVENTORY_CONFIG_UNDEFINE_CARD_AC",t.CHANGE_INVENTORY_CONFIG_CARD_CATEGORY_STATUS="CHANGE_INVENTORY_CONFIG_CARD_CATEGORY_STATUS",t.CHANGE_INVENTORY_CONFIG_CARD_CATEGORY_TYPE="CHANGE_INVENTORY_CONFIG_CARD_CATEGORY_TYPE",t.CHANGE_INVENTORY_CONFIG_CARD_NATURE="CHANGE_INVENTORY_CONFIG_CARD_NATURE",t.SAVE_INVENTORY_CONFIG_CARD="SAVE_INVENTORY_CONFIG_CARD",t.INVENTORY_CONFIG_INIT="INVENTORY_CONFIG_INIT",t.BEFORE_EDIT_INVENTORY_CONFIG_CARD="BEFORE_EDIT_INVENTORY_CONFIG_CARD",t.CHANGE_INVENTORY_CONFIG_CARD_BOX_STATUS="CHANGE_INVENTORY_CONFIG_CARD_BOX_STATUS",t.DELETE_INVENTORY_CONFIG_CARD_LIST="DELETE_INVENTORY_CONFIG_CARD_LIST",t.CHANGE_INVENTORY_CONFIG_CARD_USED_STATUS="CHANGE_INVENTORY_CONFIG_CARD_USED_STATUS",t.SELECT_INVENTORY_CONFIG_CARD_BY_TYPE="SELECT_INVENTORY_CONFIG_CARD_BY_TYPE",t.SELECT_INVENTORY_CONFIG_CARD_ALL="SELECT_INVENTORY_CONFIG_CARD_ALL",t.ADJUST_INVENTORY_CONFIG_CARD_TYPE_LIST="ADJUST_INVENTORY_CONFIG_CARD_TYPE_LIST",t.GET_INVENTORY_CONFIG_UNDEFINE_CARD="GET_INVENTORY_CONFIG_UNDEFINE_CARD",t.INVENTORY_CONFIG_TYPE_DELETE_BTN_SHOW="INVENTORY_CONFIG_TYPE_DELETE_BTN_SHOW",t.CONFIRM_DELETE_INVENTORY_CONFIG_TYPE="CONFIRM_DELETE_INVENTORY_CONFIG_TYPE",t.CANCLE_INVENTORY_CONFIG_TYPE_BTN="CANCLE_INVENTORY_CONFIG_TYPE_BTN",t.CHANGE_INVENTORY_CONFIG_TYPE_POSITION="CHANGE_INVENTORY_CONFIG_TYPE_POSITION",t.INVENTORY_CONFIG_ADD_CARD_SHOW_MODAL="INVENTORY_CONFIG_ADD_CARD_SHOW_MODAL",t.CHANGE_INVENTORY_CONFIG_CARD_SELECT_LIST="CHANGE_INVENTORY_CONFIG_CARD_SELECT_LIST",t.CHANGE_INVENTORY_CONFIG_HIGHT_TYPE_BOX_STATUS="CHANGE_INVENTORY_CONFIG_HIGHT_TYPE_BOX_STATUS",t.CHANGE_INVENTORY_CONFIG_TYPE_SELECT_LIST="CHANGE_INVENTORY_CONFIG_TYPE_SELECT_LIST",t.BEFORE_ADD_INVENTORY_CARD_FROM_EDIT_RUNNING="BEFORE_ADD_INVENTORY_CARD_FROM_EDIT_RUNNING",t.GET_INVENTORY_WAREHOUSE_TREE="GET_INVENTORY_WAREHOUSE_TREE",t.CHANGE_INVENTORY_OPENED="CHANGE_INVENTORY_OPENED",t.INVENTORY_TOGGLELOWER_ITEM="INVENTORY_TOGGLELOWER_ITEM",t.GET_INVENTORY_UNIT_LIST="GET_INVENTORY_UNIT_LIST",t.CHANGE_INVENTORY_DATA="CHANGE_INVENTORY_DATA",t.GET_INVENTORY_OPEN_TREE="GET_INVENTORY_OPEN_TREE",t.INVENTORY_CLEAR_OPENED_QUANTITY="INVENTORY_CLEAR_OPENED_QUANTITY"},1303:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return((e={},T(e,a.INIT_INVENCONFIG,function(){return s}),T(e,a.INVENTORY_CONFIG_INIT,function(){return i.title.unshift({name:"全部",uuid:""}),t=t.set("cardList",(0,n.fromJS)(i.cardList)).set("highTypeList",(0,n.fromJS)(i.title)).set("originHighTypeList",(0,n.fromJS)(i.title)).mergeIn(["views"],(0,n.fromJS)({activeTabKeyUuid:"",activeTabKey:"全部",treeSelect:s.getIn(["views","treeSelect"])}))}),T(e,a.CHANGE_ACTIVE_INVENTORY_CONFIG_HIGH_TYPE,function(){return t=t.set("cardList",(0,n.fromJS)(i.cardList)).mergeIn(["views"],(0,n.fromJS)({activeTabKey:i.name,activeTabKeyUuid:i.uuid,selectTypeId:"",selectTypeName:"",cardSelectList:[],treeSelect:s.getIn(["views","treeSelect"])})),i.name!=t.getIn(["views","anotherName"])&&(t=t.set("typeList",(0,n.fromJS)(i.treelist)).setIn(["views","selectTypeId"],i.treelist[0].uuid).setIn(["views","selectTypeName"],i.treelist[0].name)),t}),T(e,a.SELECT_INVENTORY_CONFIG_CARD_BY_TYPE,function(){return t=t.setIn(["views","selectTypeId"],i.uuid).setIn(["views","selectTypeName"],i.name).set("cardList",(0,n.fromJS)(i.list))}),T(e,a.BEFORE_ADD_INVENTORY_CONFIG_CARD,function(){return t=t.set("inventoryCardTemp",(0,n.fromJS)(N.inventoryCardTemp)).set("highTypeList",t.get("originHighTypeList")).setIn(["views","insertOrModify"],"insert").setIn(["inventoryCardTemp","isCheckOut"],i.data.isCheckOut).setIn(["views","fromPage"],i.fromPage||"inventory").set("purchasePriceList",(0,n.fromJS)([])).set("salePriceList",(0,n.fromJS)([])).setIn(["views","usedOpened"],"").setIn(["views","usedOpenSerial"],!1).setIn(["views","usedOpenBatch"],!1).set("batch",s.get("batch"))}),T(e,a.BEFORE_ADD_INVENTORY_CARD_FROM_EDIT_RUNNING,function(){return t=t.set("inventoryCardTemp",(0,n.fromJS)(N.inventoryCardTemp)).set("highTypeList",i.originTags).set("purchasePriceList",(0,n.fromJS)([])).set("salePriceList",(0,n.fromJS)([])).setIn(["views","insertOrModify"],"insert").setIn(["views","fromPage"],i.otherPageName).setIn(["views","otherPageName"],i.otherPageName).setIn(["views","usedOpened"],"").setIn(["views","usedOpenSerial"],!1).setIn(["views","usedOpenBatch"],!1).setIn(["inventoryCardTemp","code"],i.receivedData.code)}),T(e,a.CHANGE_INVENTORY_CONFIG_CARD_CONTENT,function(){return t=t.setIn(["inventoryCardTemp",i.name],i.value)}),T(e,a.CHANGE_INVENTORY_CONFIG_CARD_NATURE,function(){var e="1405",n="库存商品";return 6==i.value.value&&(e="1403",n="原材料"),t=t.setIn(["inventoryCardTemp","inventoryNature"],i.value.value).setIn(["inventoryCardTemp","inventoryNatureName"],i.value.label).setIn(["inventoryCardTemp","inventoryAcId"],e).setIn(["inventoryCardTemp","inventoryAcName"],n)}),T(e,a.CHANGE_INVENTORY_CONFIG_CARD_CATEGORY_STATUS,function(){var e="";if(t.get("highTypeList").find(function(a,r){if(a.get("uuid")===i.item.get("uuid"))return t=t.setIn(["highTypeList",r,"checked"],i.value).setIn(["highTypeList",r,"tree"],(0,n.fromJS)(i.list)),a.get("selectUuid")&&(e=a.get("selectUuid")),void(i.value&&0===i.list[0].childList.length&&(t=t.setIn(["highTypeList",r,"selectUuid"],i.list[0].uuid).setIn(["highTypeList",r,"selectName"],i.list[0].name),e=i.list[0].uuid))}),i.value){var a=t.getIn(["inventoryCardTemp","categoryTypeList"]).toJS();a.push({ctgyUuid:i.item.get("uuid"),subordinateUuid:e}),t=t.setIn(["inventoryCardTemp","categoryTypeList"],(0,n.fromJS)(a))}else{var r=t.getIn(["inventoryCardTemp","categoryTypeList"]).findIndex(function(e,t){return e.get("ctgyUuid")===i.item.get("uuid")});t=t.deleteIn(["inventoryCardTemp","categoryTypeList",r])}return t}),T(e,a.INVENTORY_CONFIG_ADD_CARD_SHOW_MODAL,function(){return t.get("highTypeList").map(function(e,n){e.get("uuid")===i.item.get("uuid")&&(t=t.set("typeList",t.getIn(["highTypeList",n,"tree"])).setIn(["views","typeSelect"],t.getIn(["highTypeList",n])))}),t}),T(e,a.CHANGE_INVENTORY_CONFIG_CARD_CATEGORY_TYPE,function(){var e=t.getIn(["views","typeSelect"]);return t.get("highTypeList").map(function(n,a){n.get("uuid")!==e.get("uuid")||(t=t.setIn(["highTypeList",a,"selectUuid"],i.uuid).setIn(["highTypeList",a,"selectName"],i.name))}),t.getIn(["inventoryCardTemp","categoryTypeList"]).map(function(n,a){n.get("ctgyUuid")===e.get("uuid")&&(t=t.setIn(["inventoryCardTemp","categoryTypeList",a,"subordinateUuid"],i.uuid))}),t}),T(e,a.CHANGE_INVENTORY_CONFIG_CARD_AC,function(){return t=t.setIn(["inventoryCardTemp",i.acId],i.uuid).setIn(["inventoryCardTemp",i.acName],i.name)}),T(e,a.SAVE_INVENTORY_CONFIG_CARD,function(){return t=t.set("cardList",(0,n.fromJS)(i.list)),t="insertAndNew"===i.flag?t.set("purchasePriceList",(0,n.fromJS)([])).set("salePriceList",(0,n.fromJS)([])).mergeIn(["inventoryCardTemp"],(0,n.fromJS)({name:"",code:i.autoIncrementCode,opened:"",openedQuantity:"",openList:[],isOpenedQuantity:!1,unit:N.inventoryCardTemp.unit,financialInfo:N.inventoryCardTemp.financialInfo,assemblyState:"CLOSE",assemblySheet:N.inventoryCardTemp.assemblySheet})):t.set("highTypeList",t.get("originHighTypeList"))}),T(e,a.BEFORE_EDIT_INVENTORY_CONFIG_CARD,function(){t=t.set("inventoryCardTemp",(0,n.fromJS)(N.inventoryCardTemp).mergeDeep((0,n.fromJS)(i.data))).setIn(["views","insertOrModify"],"modify").setIn(["views","fromPage"],"inventory").setIn(["views","usedQuantity"],i.data.isOpenedQuantity).setIn(["views","usedOpened"],i.data.opened).setIn(["views","usedOpenSerial"],i.data.financialInfo.openSerial).setIn(["views","usedOpenBatch"],i.data.financialInfo.openBatch),i.data.categoryTypeList.map(function(e,i){t.get("highTypeList").map(function(i,a){e.ctgyUuid!==i.get("uuid")||(t=t.setIn(["highTypeList",a,"checked"],!0).setIn(["highTypeList",a,"selectUuid"],e.subordinateUuid).setIn(["highTypeList",a,"selectName"],e.subordinateName).setIn(["highTypeList",a,"tree"],(0,n.fromJS)(e.options)))})}),5==i.data.inventoryNature?t=t.setIn(["inventoryCardTemp","inventoryNatureName"],"库存商品"):6==i.data.inventoryNature&&(t=t.setIn(["inventoryCardTemp","inventoryNatureName"],"原材料")),0==i.data.opened&&(t=t.setIn(["inventoryCardTemp","opened"],""));var e=i.data.openList;i.isOpenedWarehouse&&e.length&&(e=i.data.openList[0].childList,t=t.setIn(["inventoryCardTemp","openList"],(0,n.fromJS)(e)));var a=[],r=[];return i.data.unitPriceList.length&&i.data.unitPriceList.forEach(function(e){1==e.type&&a.push(e),2==e.type&&r.push(e)}),i.data.isOpenedQuantity&&(0==a.length&&a.push({unitUuid:i.data.unit.uuid,name:i.data.unit.name,defaultPrice:"",type:1}),0==r.length&&r.push({unitUuid:i.data.unit.uuid,name:i.data.unit.name,defaultPrice:"",type:2})),t.set("purchasePriceList",(0,n.fromJS)(a)).set("salePriceList",(0,n.fromJS)(r))}),T(e,a.CHANGE_INVENTORY_CONFIG_CARD_USED_STATUS,function(){return t=t.setIn(["inventoryCardTemp","used"],i.used)}),T(e,a.CHANGE_INVENTORY_CONFIG_CARD_BOX_STATUS,function(){var e=t.get("cardList"),a=t.getIn(["views","cardSelectList"]).toJS();return e.find(function(e,n){e.get("uuid")===i.uuid&&(t=t.setIn(["cardList",n,"checked"],i.status))}),i.status?(a.push({uuid:i.uuid}),t=t.setIn(["views","cardSelectList"],(0,n.fromJS)(a))):a.find(function(e,n){e.uuid===i.uuid&&(t=t.deleteIn(["views","cardSelectList",n]))}),t}),T(e,a.CHANGE_INVENTORY_CONFIG_HIGHT_TYPE_BOX_STATUS,function(){var e=t.get("highTypeList");e.find(function(e,n){e.get("uuid")===i.uuid&&(t=t.setIn(["highTypeList",n,"checked"],i.status))});var a=[];return t.get("highTypeList").map(function(e){e.get("checked")&&a.push({uuid:e.get("uuid")})}),t.set("highTypeSelectList",(0,n.fromJS)(a))}),T(e,a.DELETE_INVENTORY_CONFIG_CARD_LIST,function(){return t=t.set("cardList",(0,n.fromJS)(i.list)).setIn(["views","cardSelectList"],(0,n.fromJS)([])).set("typeList",(0,n.fromJS)(i.treeList))}),T(e,a.CHANGE_MODAL_ACTIVE_HIGH_TYPE,function(){return t=t.setIn(["views","activeInventoryType"],i.name).setIn(["views","activeInventoryTypeUuid"],i.uuid).set("inventoryHighTypeTemp",(0,n.fromJS)(i.info))}),T(e,a.CHANGE_INVENTORY_CONFIG_HIGH_TYPE_CONTENT,function(){return t=t.setIn(["inventoryHighTypeTemp",i.name],i.value)}),T(e,a.GET_INVENTORY_CONFIG_HIGH_TYPE_LIST,function(){return i.title.unshift({name:t.getIn(["views","anotherName"]),uuid:""}),t=t.set("highTypeList",(0,n.fromJS)(i.title)).set("originHighTypeList",(0,n.fromJS)(i.title))}),T(e,a.INSERT_INVENTORY_CONFIG_HGIH_TYPE,function(){return t=t.setIn(["views","activeInventoryType"],"").setIn(["views","activeInventoryTypeUuid"],"").set("inventoryHighTypeTemp",(0,n.fromJS)(N.inventoryHighTypeTemp))}),T(e,a.CHANGE_INVENTORY_CONFIG_CARD_SELECT_LIST,function(){if("cardList"==i.clearType&&(t=t.setIn(["views","cardSelectList"],(0,n.fromJS)([])).update("cardList",function(e){return e.map(function(e){return e.set("checked",!1)})})),"highTypeList"==i.clearType&&(t=t.setIn(["views","highTypeSelectList"],(0,n.fromJS)([])).update("highTypeList",function(e){return e.map(function(e){return e.set("checked",!1)})})),"treeList"==i.clearType){var e=t.getIn(["inventoryHighTypeTemp","treeList"]).toJS();!function e(t){return t.map(function(t,i){t.checked=!1,t.childList.length>0&&e(t.childList)})}(e),t=t.setIn(["inventoryHighTypeTemp","treeList"],(0,n.fromJS)(e))}return t}),T(e,a.DELETE_INVENTORY_CONFIG_HGIH_TYPE,function(){return i.title.unshift({name:t.getIn(["views","anotherName"]),uuid:""}),t=t.set("highTypeList",(0,n.fromJS)(i.title)).set("originHighTypeList",(0,n.fromJS)(i.title)).setIn(["views","activeInventoryType"],"").setIn(["views","activeInventoryTypeUuid"],"")}),T(e,a.INSERT_INVENTORY_CONFIG_CARD_TYPE,function(){return t=t.set("inventoryTypeTemp",(0,n.fromJS)(N.inventoryTypeTemp)).setIn(["inventoryTypeTemp","parentUuid"],i.uuid).setIn(["inventoryTypeTemp","parentName"],i.name).set("inventoryTypeAddOrEdit","add")}),T(e,a.CHANGE_INVENTORY_CONFIG_CARD_TYPE_CONTENT,function(){return t=t.setIn(["inventoryTypeTemp",i.name],i.value)}),T(e,a.SELECT_INVENTORY_CONFIG_CARD_TYPE,function(){return t=t.setIn(["inventoryTypeTemp","parentName"],i.parentName).setIn(["inventoryTypeTemp","parentUuid"],i.parentUuid)}),T(e,a.GET_INVENTORY_CONFIG_TYPE_CONTENT,function(){return t=t.set("inventoryTypeTemp",(0,n.fromJS)(i.data))}),T(e,a.CHANGE_INVENTORY_CONFIG_TYPE_SELECT_LIST,function(){var e=t.getIn(["inventoryHighTypeTemp","treeList"]).toJS();return function e(t,n){return t.map(function(t,a){var r=n;(t.uuid==i.uuid||n)&&(t.checked=i.value,r=!0),t.childList.length>0&&e(t.childList,r)})}(e,!1),t.setIn(["inventoryHighTypeTemp","treeList"],(0,n.fromJS)(e))}),T(e,a.CONFIRM_DELETE_INVENTORY_CONFIG_TYPE,function(){return t=t.setIn(["inventoryHighTypeTemp","treeList"],(0,n.fromJS)(i.data)).set("typeSelectList",(0,n.fromJS)([]))}),T(e,a.CHANGE_INVENTORY_CONFIG_TYPE_POSITION,function(){return t=t.setIn(["inventoryHighTypeTemp","treeList"],(0,n.fromJS)(i.list))}),T(e,a.GET_INVENTORY_WAREHOUSE_TREE,function(){var e=i.data.length?i.data[0].childList:[];return function e(t){return t.map(function(t,i){t.key=t.uuid,t.label=t.name,t.childList.length>0&&e(t.childList)})}(e),t.set("warehouseTree",(0,n.fromJS)(e))}),T(e,a.GET_INVENTORY_OPEN_TREE,function(){var e=i.data.length?i.data[0].childList:[];!function e(t){return t.map(function(t,i){t.key=t.warehouseUuid,t.label=t.warehouseName,t.openedAmount=t.openedAmount?t.openedAmount:"",t.openedQuantity=t.openedQuantity?t.openedQuantity:"",t.childList.length>0&&e(t.childList)})}(e);var a=0,N=0;return e.map(function(e){a+=Number(e.openedQuantity),N+=Number(e.openedAmount)}),t.setIn(["inventoryCardTemp","opened"],(0,r.decimal)(N)).setIn(["inventoryCardTemp","openedQuantity"],(0,r.decimal)(a,4)).setIn(["inventoryCardTemp","openList"],(0,n.fromJS)(e))}),T(e,a.CHANGE_INVENTORY_OPENED,function(){var e=i.uuidList.pop(),a=i.value?i.value:0,N=t.getIn(["inventoryCardTemp","openList"]).toJS();!function t(n){return n.map(function(n){var N=n.warehouseUuid,T=n.openedAmount,s=n.openedQuantity,_=n.isEnd;if(i.uuidList.includes(N)){if("openedQuantity"==i.dataType){var u=Number(s)+Number(a);n.openedQuantity=(0,r.decimal)(u,4)}if("openedAmount"==i.dataType){var d=Number(T)+Number(a);n.openedAmount=(0,r.decimal)(d)}if("openedDelete"==i.dataType){var I=Number(s)-Number(a);n.openedQuantity=(0,r.decimal)(I,4),n.openedAmount=(0,r.decimal)(Number(T)-Number(i.selfValue),4)}}if(e==N){var o=e==i.uuidList.slice(-1)[0];"openedQuantity"==i.dataType&&(o?n.childList[i.idx].openedQuantity=i.selfValue:n.openedQuantity=i.selfValue),"openedAmount"==i.dataType&&(o?n.childList[i.idx].openedAmount=i.selfValue:n.openedAmount=i.selfValue),"openedAssist"==i.dataType&&(o?n.childList[i.idx]=Object.assign(n.childList[i.idx],i.value):n=Object.assign(n,i.value)),"openedDelete"==i.dataType&&n.childList.splice(i.idx,1),"openedAdd"==i.dataType&&n.childList.push({openUuid:"",batchUuid:"",batch:"",warehouseUuid:n.warehouseUuid,warehouseCode:n.warehouseCode,warehouseName:n.warehouseName,openedAmount:"",openedQuantity:"",assistList:[],serialList:[],childList:[]})}!_&&n.childList.length>0&&t(n.childList)})}(N);var T=0,s=0;return N.map(function(e){T+=Number(e.openedQuantity),s+=Number(e.openedAmount)}),"openedQuantity"==i.dataType&&(t=t.setIn(["inventoryCardTemp","openedQuantity"],(0,r.decimal)(T,4))),"openedAmount"==i.dataType&&(t=t.setIn(["inventoryCardTemp","opened"],(0,r.decimal)(s))),t.setIn(["inventoryCardTemp","openList"],(0,n.fromJS)(N))}),T(e,a.INVENTORY_TOGGLELOWER_ITEM,function(){var e=t.get("showChildList");return e.includes(i.uuid)?t.update("showChildList",function(e){return e.map(function(e){return e.indexOf(i.uuid)>-1?"":e}).filter(function(e){return!!e})}):t.update("showChildList",function(e){return e.push(i.uuid)})}),T(e,a.GET_INVENTORY_UNIT_LIST,function(){var e=[];return i.data.customList.map(function(t){t.key=t.fullName,t.value=t.uuid,e.push(t)}),i.data.standardList.map(function(t){t.key=t.fullName,t.value=t.uuid,t.unitList=[],e.push(t)}),t.set("standardList",(0,n.fromJS)(i.data.standardList)).set("unitList",(0,n.fromJS)(e))}),T(e,a.CHANGE_INVENTORY_DATA,function(){return i.short?t.set(i.dataType,i.value):t.setIn(i.dataType,i.value)}),T(e,a.INVENTORY_CLEAR_OPENED_QUANTITY,function(){var e=t.getIn(["inventoryCardTemp","openList"]).toJS(),a=t.getIn(["inventoryCardTemp","financialInfo","openSerial"]),r=t.getIn(["inventoryCardTemp","financialInfo","openAssist"]),N=t.getIn(["inventoryCardTemp","financialInfo","openBatch"]),T=a||r||N;if("OPENTREE"==i.openType){!function e(t){return t.map(function(t){t.openedQuantity="",t.openedAmount="",t.childList.length>0&&(T||t.warehouseUuid!=t.childList[0].warehouseUuid||(t.childList=[]),e(t.childList))})}(e)}return"OPENLIST"==i.openType&&e.forEach(function(e){e.openedQuantity="",e.openedAmount=""}),t.setIn(["inventoryCardTemp","openList"],(0,n.fromJS)(e)).setIn(["inventoryCardTemp","openedQuantity"],"").setIn(["inventoryCardTemp","opened"],"")}),e)[i.type]||function(){return t})()};var n=i(9),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(i(1302)),r=i(13),N=i(1243);function T(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var s=(0,n.fromJS)({views:{anotherName:"全部",activeTabKey:"全部",activeTabKeyUuid:"",insertOrModify:"insert",activeInventoryType:"",activeInventoryTypeUuid:"",selectTypeId:"",selectTypeName:"",cardSelectList:[],typeSelect:{},treeSelect:{treeTwoList:[],treeThreeList:[],selectUuid:["","",""],selectName:"",selectEndUuid:""},fromPage:"inventory",usedQuantity:!1,otherPageName:"",usedOpened:"",usedOpenSerial:"",usedOpenBatch:""},typeList:[],cardList:[],highTypeList:[],originHighTypeList:[],inventoryCardTemp:N.inventoryCardTemp,inventoryHighTypeTemp:N.inventoryHighTypeTemp,highTypeSelectList:[],inventoryTypeTemp:N.inventoryTypeTemp,typeSelectList:[],warehouseTree:[],showChildList:[],standardList:[],unitList:[],purchasePriceList:[],salePriceList:[],stockCategoryTree:[],stockList:[],assistClassificationList:[],assist:{classificationUuid:"",classificationName:"",uuid:"",name:"",propertyList:[]},batch:{batchType:"",inventoryUuid:"",batchUuid:"",batch:"",productionDate:"",openShelfLife:!1,editPage:"inventory",allBatchList:[]},serial:{serialList:[],type:"",idx:""}})}}]);