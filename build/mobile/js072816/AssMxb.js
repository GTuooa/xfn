(window.webpackJsonp=window.webpackJsonp||[]).push([[87],{2381:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=p(a(0)),o=a(31),i=(a(9),a(16)),l=p(a(2382)),c=m(a(10)),u=a(123);a(2383);var d=m(a(1431)),f=m(a(181));m(a(1076));function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function p(e){return e&&e.__esModule?e:{default:e}}var b=(0,o.connect)(function(e){return e})(n=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),s(t,[{key:"componentDidMount",value:function(){if("assYeb"===sessionStorage.getItem("previousPage")&&sessionStorage.removeItem("previousPage"),"cxpz"===sessionStorage.getItem("prevPage")){sessionStorage.removeItem("prevPage");var e=this.props,t=e.dispatch,a=e.assMxbState,n=a.get("reportassdetail"),s=a.get("assmxbAclist");t(d.getAssMxbAclistAndReportdetailFetch(a.get("issuedate"),a.get("endissuedate"),n.get("acid"),n.get("assid"),s.getIn([0,"asscategory"]),a.get("assidTwo"),a.get("asscategoryTwo")))}}},{key:"render",value:function(){var e=this.props,t=e.dispatch,a=e.allState,n=e.assMxbState,s=e.history;c.setTitle({title:"辅助核算明细表"});var o=a.get("issues"),m=n.get("issuedate"),p=n.get("endissuedate"),b=o.findIndex(function(e){return e.get("value")===m}),g=o.slice(0,b),v=n.get("assmxbAclist"),x=n.get("asscategory"),y=n.get("assidTwo"),h=n.get("asscategoryTwo"),w=n.get("doubleAss"),E=n.get("reportassdetail"),_=E.get("jvlist"),j=E.get("openingbalance"),A=E.get("closingbalance"),N=E.get("acid"),O=E.get("acfullname"),M=E.get("assid"),P=E.get("assname"),k=v.filter(function(e){return e.get("assid")==M}).getIn([0,"disableTime"]),T=[],S=v.filter(function(e){return e.get("assid")===M});S.size&&S.getIn([0,"acDtoList"]).forEach(function(e){T.push({key:e.get("acid")+" "+e.get("acname"),value:e.get("acid")})}),T.length&&T.push({key:"全部",value:"全部"});var R=m.substr(0,4)+""+m.substr(5,2),I=p?p.substr(0,4)+""+p.substr(5,2):R,F="",C=y?h:"";y&&(F=w.filter(function(e){return e.get("value")==y}).getIn([0,"key"]).split(" ")[1]);return t(f.navigationSetMenu("mxb",function(){return function(e){return e(f.allExportDo("pdfassmxboneexport",{begin:R,end:I,assName:P,assid:M,acid:""+(N||""),asscategory:x,asscategoryTwo:C,assNameTwo:F,assIdTwo:y}))}},function(){return function(e){return e(f.allExportDo("assmxbexcelsubone",{begin:R,end:I,acid:N||"",assid:M,assname:P,asscategory:x,asscategoryTwo:C,assNameTwo:F,assIdTwo:y}))}},"",function(){return function(e){return e(f.allExportDo("assmxbexcelsuball",{begin:R,end:I,asscategory:x}))}})),r.default.createElement(i.Container,{className:"assmxb"},r.default.createElement(u.TopMonthPicker,{issuedate:m,source:o,callback:function(e){return t(d.getAssMxbAclistAndReportdetailFetch(e,p,N,M,x,y,h))},onOk:function(e){return t(d.getAssMxbAclistAndReportdetailFetch(e.value,p,N,M,x,y,h))},showSwitch:!0,endissuedate:p,nextperiods:g,onBeginOk:function(e){t(d.getAssMxbAclistAndReportdetailFetch(e.value,"",N,M,x,y,h))},onEndOk:function(e){t(d.getAssMxbAclistAndReportdetailFetch(m,e.value,N,M,x,y,h))},changeEndToBegin:function(){t(d.getAssMxbAclistAndReportdetailFetch(m,"",N,M,x,y,h))}}),r.default.createElement(i.Row,{className:"assmxb-title"},r.default.createElement("div",{className:"assmxb-title-assinfo"},r.default.createElement("span",{className:"assmxb-title-tip"},"辅助项目："),r.default.createElement("span",{className:["assmxb-title-ass",k?"lrb-item-disable":""].join(" ")},x+"_"+M+" "+P)),r.default.createElement(i.SinglePicker,{district:T,onOk:function(e){var a="全部"===e.value?"":e.value;t(a?d.getAssMxbAclistAndReportdetailFetch(m,p,a,M,x,y,h,!0):d.getAssMxbAclistAndReportdetailFetch(m,p,a,M,x,y,h))}},r.default.createElement("div",{className:"assmxb-title-acinfo"},r.default.createElement("span",{className:"assmxb-title-tip"},"科目选择："),r.default.createElement("span",{className:"assmxb-title-ac"},N?N+"_"+O:"全部"),r.default.createElement(i.Icon,{className:"assmxb-title-acinfo-icon",type:"arrow-down",size:"12"})))),r.default.createElement(i.Row,{className:"assmxb-main-top"},r.default.createElement("span",{className:"assmxb-main-amount-odd"},"期初",r.default.createElement("span",{className:"assmxb-main-amount-odd-direction"},"(借方)")),r.default.createElement(i.Amount,{className:"assmxb-main-amount"},j)),r.default.createElement(i.ScrollView,{flex:"1",uniqueKey:"assmxb-scroll",savePosition:!0},r.default.createElement("ul",{className:"assmxb-main-list"},_.map(function(e,a){return r.default.createElement(l.default,{idx:a,key:a,jv:e,issuedate:m,dispatch:t,history:s,jvlist:_})}),_.size?"":r.default.createElement("div",{className:"mxb-no-vc"},"暂无凭证"))),r.default.createElement(i.Row,{className:"assmxb-main-top"},r.default.createElement("span",{className:"assmxb-main-amount-odd"},"期末",r.default.createElement("span",{className:"assmxb-main-amount-odd-direction"},"(借方)")),r.default.createElement(i.Amount,{className:"assmxb-main-amount"},A)))}}]),t}())||n;t.default=b},2382:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,s,r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=a(0),i=(s=o)&&s.__esModule?s:{default:s},l=(a(9),a(22)),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(1431)),u=a(16);var d=(0,l.immutableRenderDecorator)(n=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"render",value:function(){var e=this.props,t=(e.idx,e.jv),a=(e.issuedate,e.dispatch),n=e.history,s=e.jvlist,r=t.get("vcdate").replace(/-/g,".");return i.default.createElement("div",{className:"assmxb-jv",onClick:function(){return a(c.getVcFetch(t.get("vcdate").slice(0,7),t.get("vcindex"),n,s))}},i.default.createElement("div",{className:"assmxb-jv-title"},i.default.createElement("span",{className:"assmxb-jv-abstract"},r+"-"+t.get("jvabstract"))),i.default.createElement("div",{className:"assmxb-jv-content"},i.default.createElement("span",{className:"assmxb-vcindex"},"记 ",t.get("vcindex")," 号"),i.default.createElement("span",{className:"assmxb-jvdirection"},"credit"==t.get("jvdirection")?"贷":"借"),i.default.createElement(u.Amount,{className:"assmxb-amount",showZero:!0},t.get("jvamount")),i.default.createElement(u.Amount,{className:"assmxb-amount",showZero:!0},t.get("balance"))))}}]),t}())||n;t.default=d},2383:function(e,t,a){},992:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.view=t.reducer=void 0;var n=o(a(2381)),s=o(a(1590)),r=o(a(1214));function o(e){return e&&e.__esModule?e:{default:e}}var i={assMxbState:s.default,lrpzState:r.default};t.reducer=i,t.view=n.default}}]);