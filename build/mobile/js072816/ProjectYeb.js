(window.webpackJsonp=window.webpackJsonp||[]).push([[90],{1067:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.yllsActions=t.ActionTypes=void 0,t.default=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return((e={},d(e,g.GET_YLLS_SINGLE_ACCOUNT,function(){var e=sessionStorage.getItem("ylPage");return t.set("data",(0,n.fromJS)(a.receivedData)).setIn([e+"Data","selectedIndex"],a.selectedIndex).setIn([e+"Data","idx"],a.idx)}),d(e,g.GET_YLLS_PREAMOUNT,function(){return t.setIn(["preData","preAmount"],a.data.preAmount).setIn(["preData","receiveAmount"],a.data.amount)}),d(e,g.GET_YLLS_UNTREATEDAMOUNT,function(){var e=0,r=0;return({accumulationAmount:function(){e=a.receivedData[a.amountType]+t.getIn(["data","acPayment","personAccumulationAmount"]),t=t.setIn(["data","accumulationAmount"],e)},socialSecurityAmount:function(){r=a.receivedData[a.amountType]+t.getIn(["data","acPayment","personSocialSecurityAmount"]),t=t.setIn(["data","socialSecurityAmount"],r)}}[a.amountType]||function(){return null})(),t}),e)[a.type]||function(){return t})()};var r,n=a(9),i=a(182),o=(r=i)&&r.__esModule?r:{default:r},c=s(a(25)),u=a(13),l=s(a(10));function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function d(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var f=(0,n.fromJS)({data:{categoryType:""},preData:{preAmount:0,receiveAmount:0},cxlsData:{selectedIndex:"0",idx:0},lsmxbData:{selectedIndex:"0",idx:0},zhmxbData:{selectedIndex:"0",idx:0},wlmxbData:{selectedIndex:"0",idx:0}});var m={getYllsSingleAccount:function(e,t,a,r,n){return function(i){l.toast.loading("加载中...",0),(0,o.default)("getRunningBusiness","GET","uuid="+a,function(a){l.toast.hide(),(0,u.showMessage)(a)&&(i({type:g.GET_YLLS_SINGLE_ACCOUNT,receivedData:a.data.result,selectedIndex:t,idx:r}),n&&e.push("/ylls"))})}},getXczcAccumulationAmount:function(){return function(e,t){var a=t().yllsState,r=a.getIn(["data","categoryUuid"]),n=a.getIn(["data","runningDate"]);l.toast.loading(c.LOADING_TIP_TEXT,0),(0,o.default)("getPaymentInfo","POST",JSON.stringify({categoryUuid:r,runningDate:n,acType:"AC_GJJ",accumulationAcId:"",accumulationAssId1:"",accumulationCategory1:"",accumulationAssId2:"",accumulationCategory2:""}),function(t){l.toast.hide(),(0,u.showMessage)(t)&&e({type:g.GET_YLLS_UNTREATEDAMOUNT,receivedData:t.data.result,amountType:"accumulationAmount"})})}},getXczcSocialSecurityAmount:function(){return function(e,t){var a=t().yllsState,r=a.getIn(["data","categoryUuid"]),n=a.getIn(["data","runningDate"]);(0,o.default)("getPaymentInfo","POST",JSON.stringify({categoryUuid:r,runningDate:n,acType:"AC_SB",socialSecurityAcId:"",socialSecurityAssId1:"",socialSecurityCategory1:"",socialSecurityAssId2:"",socialSecurityCategory2:""}),function(t){(0,u.showMessage)(t)&&e({type:g.GET_YLLS_UNTREATEDAMOUNT,receivedData:t.data.result,amountType:"socialSecurityAmount"})})}}},g=t.ActionTypes={GET_YLLS_SINGLE_ACCOUNT:"GET_YLLS_SINGLE_ACCOUNT",GET_YLLS_PREAMOUNT:"GET_YLLS_PREAMOUNT",GET_YLLS_UNTREATEDAMOUNT:"GET_YLLS_UNTREATEDAMOUNT"};t.yllsActions=m},1440:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initState=t.changeProjectYebChooseValue=t.changeProjectYebTable=t.getProjectTypeBalanceListFromSwitchPeriodOrProject=t.getProjectYebBalanceListFromSwitchPeriodOrProject=t.getProjectTypeBalanceListFromSwitchPeriod=t.getProjectYebBalanceListFromSwitchPeriod=t.projectBalanceTriangleSwitch=t.getProjectYebCategoryFetch=t.getPeriodAndProjectYebBalanceList=void 0;var r=f(a(1296));a(1286);var n=d(a(1617)),i=f(a(124)),o=a(13),c=d(a(10)),u=a(9),l=d(a(25)),s=d(a(181));function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function f(e){return e&&e.__esModule?e:{default:e}}t.getPeriodAndProjectYebBalanceList=function(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(a){c.toast.loading(l.LOADING_TIP_TEXT,0),(0,i.default)("getProjectYebReport","POST",JSON.stringify({begin:e||"",end:t||(e||""),categoryUuid:"",cardCategoryUuid:"",jrCategoryUuid:"",needPeriod:"true",isType:!1}),function(r){if(c.toast.hide(),(0,o.showMessage)(r)){var i=a(s.reportGetIssuedateAndFreshPeriod(r)),u=r.data.periodDtoJson?a(s.everyTableGetIssuedate(r.data.periodDtoJson)):[];a({type:n.GET_PERIOD_AND_PROJECT_YEB_BALANCE_LIST,receivedData:r.data.result,issuedate:e||i,endissuedate:t||"",issues:u,needPeriod:"true",tableName:"Income"})}})}};var m=t.getProjectYebCategoryFetch=function(e,t,a,r){return function(c){(0,i.default)("getProjectYeb"+a+"Category","POST",JSON.stringify({begin:e||"",end:t||(e||""),categoryUuid:"全部"===r.get("name")?"":r.get("top")?r.get("uuid"):"",cardCategoryUuid:"全部"===r.get("name")?"":r.get("top")?"":r.get("uuid")}),function(e){(0,o.showMessage)(e)&&c("Income"===a?{type:n.GET_PROJECT_YEB_CATEGORY_FETCH,categoryList:e.data.cardCategory,jrCategory:e.data.jrCategory}:{type:n.GET_PROJECT_YEB_TYPE_CATEGORY_FETCH,categoryList:e.data.cardCategory,acListTree:e.data.acListTree})})}},g=(t.projectBalanceTriangleSwitch=function(e,t){return{type:n.PROJECT_BALANCE_TRIANGLE_SWITCH,showChild:e,uuid:t}},t.getProjectYebBalanceListFromSwitchPeriod=function(e,t,a,s){return function(d,f){if(!e)return r.default.info("账期异常，请刷新再试",2);c.toast.loading(l.LOADING_TIP_TEXT,0);var m=f().projectYebState.get("projectCategory");(0,i.default)("getProjectYebIncomeCategory","POST",JSON.stringify({begin:e||"",end:t||(e||""),categoryUuid:"全部"===a.get("name")?"":a.get("top")?a.get("uuid"):"",cardCategoryUuid:"全部"===a.get("name")?"":a.get("top")?"":a.get("uuid")}),function(r){if((0,o.showMessage)(r)){d({type:n.GET_PROJECT_YEB_CATEGORY_FETCH,categoryList:r.data.cardCategory,jrCategory:r.data.jrCategory});var l=a,f=!1,g=r.data.cardCategory?r.data.cardCategory:m.toJS();if(0==g.length)l=(0,u.fromJS)({uuid:"",name:"全部",value:"全部",top:!1});else if(g.length>0){!function e(t){return t.map(function(t,a){l.get("uuid")===t.uuid&&(f=!0),t.childList&&t.childList.length&&e(t.childList)})}(g)}f||(l=(0,u.fromJS)({uuid:"",name:"全部",value:"全部",top:!1}));var E=s,y=!1;if(0==r.data.jrCategory.length)E=(0,u.fromJS)({jrCategoryUuid:"",jrCategoryName:"全部流水类别",value:"全部流水类别",direction:"double_credit"});else if(r.data.jrCategory.length>0){!function e(t){return t.map(function(t,a){E.get("jrCategoryUuid")===t.jrCategoryUuid&&(y=!0),t.childList&&t.childList.length&&e(t.childList)})}(r.data.jrCategory)}y||(E=(0,u.fromJS)({jrCategoryUuid:"",jrCategoryName:"全部流水类别",value:"全部流水类别",direction:"double_credit"})),(0,i.default)("getProjectYebReport","POST",JSON.stringify({begin:e||"",end:t||(e||""),categoryUuid:"全部"===l.get("name")?"":l.get("top")?l.get("uuid"):"",cardCategoryUuid:"全部"===l.get("name")?"":l.get("top")?"":l.get("uuid"),jrCategoryUuid:"全部流水类别"===E.get("name")?"":E.get("jrCategoryUuid"),acId:"",isType:!1}),function(a){c.toast.hide(),(0,o.showMessage)(a)&&d({type:n.GET_PROJECT_YEB_BALANCE_LIST_FROM_SWITCH_PERIOD_OR_PROJECT,receivedData:a.data.result,issuedate:e,endissuedate:t,projectItem:l,runningItem:E,tableName:"Income"})})}})}},t.getProjectTypeBalanceListFromSwitchPeriod=function(e,t,a,s){return function(d,f){if(!e)return r.default.info("账期异常，请刷新再试",2);c.toast.loading(l.LOADING_TIP_TEXT,0);var m=f().projectYebState.get("projectCategory");(0,i.default)("getProjectYebTypeCategory","POST",JSON.stringify({begin:e||"",end:t||(e||""),categoryUuid:"全部"===a.get("name")?"":a.get("top")?a.get("uuid"):"",cardCategoryUuid:"全部"===a.get("name")?"":a.get("top")?"":a.get("uuid")}),function(r){if((0,o.showMessage)(r)){d({type:n.GET_PROJECT_YEB_TYPE_CATEGORY_FETCH,categoryList:r.data.cardCategory,acListTree:r.data.acListTree});var l=a,f=!1,g=r.data.cardCategory?r.data.cardCategory:m.toJS();if(0==g.length)l=(0,u.fromJS)({uuid:"",name:"全部",value:"全部",top:!1});else if(g.length>0){!function e(t){return t.map(function(t,a){l.get("uuid")===t.uuid&&(f=!0),t.childList&&t.childList.length&&e(t.childList)})}(g)}f||(l=(0,u.fromJS)({uuid:"",name:"全部",value:"全部",top:!1}));var E=r.data.acListTree,y=s,_=!1;if(0==E.length)y=(0,u.fromJS)({acId:"",acName:"全部类型",value:"全部类型",direction:"double_credit"});else if(E.length>0){!function e(t){return t.map(function(t,a){y.get("acId")===t.acId&&(_=!0),t.childList&&t.childList.length&&e(t.childList)})}(E)}_||(y=(0,u.fromJS)({acId:"",acName:"全部类型",value:"全部类型",direction:"double_credit"})),(0,i.default)("getProjectYebTypeReport","POST",JSON.stringify({begin:e||"",end:t||(e||""),cardCategoryUuid:l.get("uuid"),acId:"全部类型"===y.get("name")?"":y.get("acId")}),function(a){c.toast.hide(),(0,o.showMessage)(a)&&d({type:n.GET_PROJECT_YEB_BALANCE_LIST_FROM_SWITCH_PERIOD_OR_PROJECT,receivedData:a.data.result,issuedate:e,endissuedate:t,projectItem:l,typeItem:y,tableName:"Type"})})}})}},t.getProjectYebBalanceListFromSwitchPeriodOrProject=function(e,t,a,u){return function(s){if(!e)return r.default.info("账期异常，请刷新再试",2);c.toast.loading(l.LOADING_TIP_TEXT,0),(0,i.default)("getProjectYebReport","POST",JSON.stringify({begin:e||"",end:t||(e||""),categoryUuid:"全部"===a.get("name")?"":a.get("top")?a.get("uuid"):"",cardCategoryUuid:"全部"===a.get("name")?"":a.get("top")?"":a.get("uuid"),jrCategoryUuid:"全部"===u.get("name")?"":u.get("jrCategoryUuid"),acId:"",isType:!1}),function(r){c.toast.hide(),(0,o.showMessage)(r)&&s({type:n.GET_PROJECT_YEB_BALANCE_LIST_FROM_SWITCH_PERIOD_OR_PROJECT,receivedData:r.data.result,category:r.data.jrCategory,issuedate:e,endissuedate:t,projectItem:a,runningItem:u,tableName:"Income"})})}}),E=t.getProjectTypeBalanceListFromSwitchPeriodOrProject=function(e,t,a,u){return function(s){if(!e)return r.default.info("账期异常，请刷新再试",2);c.toast.loading(l.LOADING_TIP_TEXT,0),(0,i.default)("getProjectYebReport","POST",JSON.stringify({begin:e||"",end:t||(e||""),cardCategoryUuid:a.get("uuid"),acId:"全部"===u.get("name")?"":u.get("acId")}),function(r){c.toast.hide(),(0,o.showMessage)(r)&&s({type:n.GET_PROJECT_YEB_BALANCE_LIST_FROM_SWITCH_PERIOD_OR_PROJECT,receivedData:r.data.result,category:r.data.acListTree,issuedate:e,endissuedate:t,projectItem:a,typeItem:u,tableName:"Type"})})}};t.changeProjectYebTable=function(e,t,a){return function(r,i){var o=i().projectYebState.getIn(["views","currentProjectItem"]);"Income"===a?(r(m(e,t,"Type",o)),r(E(e,t,o,(0,u.fromJS)({acId:"",acName:"全部类型",value:"全部类型",direction:"double_credit"}))),r({type:n.CHANGE_PROJECT_YEB_TABLE,value:"Type"})):(r(m(e,t,"Income",o)),r(g(e,t,o,(0,u.fromJS)({jrCategoryUuid:"",jrCategoryName:"全部流水类别",value:"全部流水类别",direction:"double_credit"}))),r({type:n.CHANGE_PROJECT_YEB_TABLE,value:"Income"}))}},t.changeProjectYebChooseValue=function(e){return{type:n.CHANGE_PROJECT_YEB_CHOOSE_VALUE,value:e}},t.initState=function(){return{type:n.INIT_PROJECT_YEB}}},1617:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.INIT_PROJECT_YEB="INIT_PROJECT_YEB",t.GET_PERIOD_AND_PROJECT_YEB_BALANCE_LIST="GET_PERIOD_AND_PROJECT_YEB_BALANCE_LIST",t.GET_PROJECT_YEB_CATEGORY_FETCH="GET_PROJECT_YEB_CATEGORY_FETCH",t.GET_PROJECT_YEB_TYPE_CATEGORY_FETCH="GET_PROJECT_YEB_TYPE_CATEGORY_FETCH",t.PROJECT_BALANCE_TRIANGLE_SWITCH="PROJECT_BALANCE_TRIANGLE_SWITCH",t.GET_PROJECT_YEB_BALANCE_LIST_FROM_SWITCH_PERIOD_OR_PROJECT="GET_PROJECT_YEB_BALANCE_LIST_FROM_SWITCH_PERIOD_OR_PROJECT",t.CHANGE_PROJECT_YEB_TABLE="CHANGE_PROJECT_YEB_TABLE",t.CHANGE_PROJECT_YEB_CHOOSE_VALUE="CHANGE_PROJECT_YEB_CHOOSE_VALUE"},2369:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,n,i,o=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),c=C(a(0)),u=C(a(2)),l=a(31),s=a(9);a(2370);var d=h(a(10)),f=h(a(25)),m=a(16),g=a(123),E=C(a(79)),y=C(a(2372)),_=C(a(2373)),p=h(a(1440)),T=h(a(181));function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function C(e){return e&&e.__esModule?e:{default:e}}var b=(0,l.connect)(function(e){return e})((i=n=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={showModal:!1},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.default.Component),o(t,[{key:"componentDidMount",value:function(){if(d.setTitle({title:"项目余额表"}),d.setIcon({showIcon:!1}),"home"===sessionStorage.getItem("prevPage")){var e=(0,s.fromJS)({uuid:"",name:"全部",value:f.TREE_JOIN_STR+"true",top:!0});sessionStorage.removeItem("prevPage"),this.props.dispatch(p.initState()),this.props.dispatch(p.getPeriodAndProjectYebBalanceList()),this.props.dispatch(p.getProjectYebCategoryFetch("","","Income",e))}}},{key:"render",value:function(){var e=this.props,t=(e.allState,e.dispatch),a=e.projectYebState,r=e.history,n=(this.state.showModal,a.getIn(["views","issuedate"])),i=a.getIn(["views","endissuedate"]),o=a.getIn(["views","bussinessShowChild"]),u=a.get("issues"),l=u.findIndex(function(e){return e.get("value")===n}),d=u.slice(0,l),h=a.getIn(["views","currentProjectItem"]),C=a.getIn(["views","currentRunningItem"]),b=a.getIn(["views","currentJrTypeItem"]),I=a.getIn(["views","tableName"]),v=a.getIn(["views","chooseValue"]),O=a.get("projectCategory"),P=a.get("runningCategory"),S=a.get("typeCategory"),N=a.getIn(["balanceReport","childList"]),R=n,L=i||R,j="Type"===I?"全部"===h.get("name")?"":h.get("top")?h.get("uuid"):"":"",J="Type"===I?"全部"===h.get("name")?"":h.get("top")?"":h.get("uuid"):"";return t("Income"===I?T.navigationSetMenu("config","",function(){return function(e){return e(T.allExportDo("sendProjectIncomeExcelbalance",{begin:R,end:L,categoryUuid:j,cardCategoryUuid:J,jrCategoryUuid:C.get("jrCategoryUuid")}))}}):T.navigationSetMenu("config","",function(){return function(e){return e(T.allExportDo("sendProjectExcelDetail",{begin:R,end:L,cardCategoryUuid:h.get("uuid"),acId:b.get("acId")}))}})),c.default.createElement(m.Container,{className:"project-yeb"},c.default.createElement(g.MutiPeriodMoreSelect,{start:n,issues:u,end:i,nextperiods:d,chooseValue:v,onBeginOk:function(e){t("Income"===I?p.getProjectYebBalanceListFromSwitchPeriod(e,"",h,C):p.getProjectTypeBalanceListFromSwitchPeriod(e,"",h,b))},onEndOk:function(e,a){t("Income"===I?p.getProjectYebBalanceListFromSwitchPeriod(e,a,h,C):p.getProjectTypeBalanceListFromSwitchPeriod(e,a,h,b))},changeChooseValue:function(e){return t(p.changeProjectYebChooseValue(e))}}),c.default.createElement("div",{className:"project-yeb-select"},c.default.createElement("div",{className:"select-change-table",onClick:function(){t(p.changeProjectYebTable(n,i,I))}},c.default.createElement("span",null,"Income"===I?"收支":"类型"),c.default.createElement(E.default,{type:"type-change"})),c.default.createElement("div",{className:"select-project-category"},c.default.createElement(m.ChosenPicker,{parentDisabled:!1,district:O.toJS(),value:h.get("value"),onChange:function(e){var a=e.key.split(f.TREE_JOIN_STR),r={uuid:a[0],name:e.label,top:"true"===a[1],value:e.key};t("Income"===I?p.getProjectYebBalanceListFromSwitchPeriodOrProject(n,i,(0,s.fromJS)(r),C):p.getProjectTypeBalanceListFromSwitchPeriodOrProject(n,i,(0,s.fromJS)(r),b)),t(p.getProjectYebCategoryFetch(n,i,I,(0,s.fromJS)(r)))}},c.default.createElement(m.Row,null,c.default.createElement("span",{style:{color:"请选择项目"==h.get("name")?"#ccc":""}},h.get("name")),c.default.createElement(m.Icon,{type:"triangle"})))),c.default.createElement("div",{className:"select-running-category"},c.default.createElement("div",{className:"select-category-box"},"Income"===I?c.default.createElement(m.ChosenPicker,{district:P.toJS(),value:C.get("value"),parentDisabled:!1,onChange:function(e){var a=e.key.split(f.TREE_JOIN_STR),r={jrCategoryUuid:a[0],jrCategoryName:a[1],direction:a[2],value:e.key};t(p.getProjectYebBalanceListFromSwitchPeriodOrProject(n,i,h,(0,s.fromJS)(r)))}},c.default.createElement(m.Row,null,c.default.createElement("span",{style:{color:"请选择类别"==C.get("jrCategoryName")?"#ccc":""}},C.get("jrCategoryName")),c.default.createElement(m.Icon,{type:"triangle"}))):c.default.createElement(m.ChosenPicker,{district:S.toJS(),value:b.get("value"),parentDisabled:!1,onChange:function(e){var a=e.key.split(f.TREE_JOIN_STR),r={acId:a[0],acName:a[1],direction:a[2],mergeName:a[3],value:e.key};t(p.getProjectTypeBalanceListFromSwitchPeriodOrProject(n,i,h,(0,s.fromJS)(r)))}},c.default.createElement(m.Row,null,c.default.createElement("span",{style:{color:"请选择类别"==C.get("acName")?"#ccc":""}},b.get("acName")),c.default.createElement(m.Icon,{type:"triangle"})))))),"Income"===I?c.default.createElement(m.Row,{className:"ba-title-double"},c.default.createElement("div",{className:"ba-title-item"},c.default.createElement("span",{className:"item-item"},"期初应收"),c.default.createElement("span",{className:"item-item"},"期初应付")),c.default.createElement("div",{className:"ba-title-item"},c.default.createElement("span",{className:"item-item"},"本期收入"),c.default.createElement("span",{className:"item-item"},"本期支出")),c.default.createElement("div",{className:"ba-title-item"},c.default.createElement("span",{className:"item-item"},"本期实收"),c.default.createElement("span",{className:"item-item"},"本期实付")),c.default.createElement("div",{className:"ba-title-item"},c.default.createElement("span",{className:"item-item"},"期末应收"),c.default.createElement("span",{className:"item-item"},"期末应付"))):c.default.createElement(m.Row,{className:"item-title-list"},c.default.createElement("div",{className:"title-item"},"期初余额"),c.default.createElement("div",{className:"title-item"},"本期借方"),c.default.createElement("div",{className:"title-item"},"本期贷方"),c.default.createElement("div",{className:"title-item"},"期末余额")),c.default.createElement(m.ScrollView,{flex:"1",uniqueKey:"projectyeb-scroll",className:"scroll-item",savePosition:!0},"Income"===I?function e(a,u){return a.map(function(a,l){var s=o.indexOf(a.get("cardCategory"))>-1,d=u>1?"#F8F8F8":"#fff";return a.get("childList").size?c.default.createElement("div",{key:l},c.default.createElement(y.default,{leve:u,className:"balance-running-tabel-width",style:{backgroundColor:d},item:a,haveChild:!0,showChild:s,history:r,dispatch:t,issuedate:n,endissuedate:i,currentRunningItem:C,currentProjectItem:h,chooseValue:v}),s?e(a.get("childList"),u+1):""):c.default.createElement("div",{key:l},c.default.createElement(y.default,{leve:u,className:"balance-running-tabel-width",item:a,style:{backgroundColor:d},history:r,dispatch:t,issuedate:n,endissuedate:i,currentRunningItem:C,currentProjectItem:h,chooseValue:v}))})}(N,1):function e(a,u){return a.map(function(a,l){var s=o.indexOf(a.get("cardCategory"))>-1,d=u>1?"#f8f8f8":"#fff";return a.get("childList").size?c.default.createElement("div",{key:l},c.default.createElement(_.default,{leve:u,className:"balance-running-tabel-width",style:{backgroundColor:d},item:a,haveChild:!0,showChild:s,history:r,dispatch:t,issuedate:n,endissuedate:i,direction:b.get("direction"),currentJrTypeItem:b,currentProjectItem:h,chooseValue:v}),s?e(a.get("childList"),u+1):""):c.default.createElement("div",{key:l},c.default.createElement(_.default,{leve:u,className:"balance-running-tabel-width",item:a,style:{backgroundColor:d},history:r,dispatch:t,issuedate:n,endissuedate:i,direction:b.get("direction"),currentJrTypeItem:b,currentProjectItem:h,chooseValue:v}))})}(N,1)))}}]),t}(),n.displayName="ProjectYeb",n.propTypes={allState:u.default.instanceOf(s.Map),dispatch:u.default.func},r=i))||r;t.default=b},2370:function(e,t,a){},2372:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,n,i=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),o=a(0),c=(n=o)&&n.__esModule?n:{default:n},u=a(9),l=a(22),s=a(16),d=g(a(25)),f=(a(1067),g(a(1440))),m=g(a(1441));function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}var E=(0,l.immutableRenderDecorator)(r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.default.Component),i(t,[{key:"render",value:function(){var e=this.props,t=e.item,a=e.style,r=e.dispatch,n=e.className,i=e.leve,o=e.haveChild,l=e.showChild,g=e.history,E=e.issuedate,y=e.endissuedate,_=e.currentRunningItem,p=e.currentProjectItem,T=e.chooseValue,h={background:{1:"#fff",2:"#D1C0A5",3:"#7E6B5A",4:"#59493f"}[i],minWidth:(i-1)/100*10+"rem"};return c.default.createElement("div",{className:"ba "+n,style:a},c.default.createElement("div",null,c.default.createElement("span",{className:"name"},1==i?"":c.default.createElement("span",{className:"ba-flag",style:h}),c.default.createElement("span",{className:"name-name name-click",onClick:function(e){if(sessionStorage.setItem("fromPage","projectyeb"),o){var a=[];!function e(t){return t.map(function(t){t.get("childList")&&t.get("childList").size?e(t.get("childList")):a.push(t.get("cardUuid"))})}([t]);var n={uuid:a.length?a:"",code:"",name:"全部"},i={uuid:t.get("cardCategory"),name:t.get("name"),value:""+t.get("cardCategory")+d.TREE_JOIN_STR+(!!t.isTop&&t.isTop)};r(m.getProjectMxbBalanceListFromProjectYeb(E,y,(0,u.fromJS)(n),_,(0,u.fromJS)(i),g)),r(m.changeProjectMxbChooseValue(T))}else{var c={uuid:t.get("cardUuid"),code:t.get("cardCode"),name:t.get("name")};r(m.getProjectMxbBalanceListFromProjectYeb(E,y,(0,u.fromJS)(c),_,p,g)),r(m.changeProjectMxbChooseValue(T))}}},t.get("name"))),c.default.createElement("span",{className:"btn",onClick:function(){return r(f.projectBalanceTriangleSwitch(l,t.get("cardCategory")))}},c.default.createElement(s.Icon,{type:"arrow-down",style:{visibility:o?"visible":"hidden",transform:l?"rotate(180deg)":""}}))),c.default.createElement("div",{className:"double-ba-info"},c.default.createElement("span",{className:"double-item-list"},c.default.createElement(s.Amount,{showZero:!1,style:{color:"#4166b8"}},t.get("openDebit")),c.default.createElement(s.Amount,{showZero:0===t.get("openDebit")&&0===t.get("openCredit"),style:{color:"#ff8348"}},t.get("openCredit"))),c.default.createElement("span",{className:"double-item-list"},c.default.createElement(s.Amount,{showZero:!0,style:{color:"#4166b8"}},t.get("currentDebit")),c.default.createElement(s.Amount,{showZero:!0,style:{color:"#ff8348"}},t.get("currentCredit"))),c.default.createElement("span",{className:"double-item-list"},c.default.createElement(s.Amount,{showZero:!0,style:{color:"#4166b8"}},t.get("currentRealDebit")),c.default.createElement(s.Amount,{showZero:!0,style:{color:"#ff8348"}},t.get("currentRealCredit"))),c.default.createElement("span",{className:"double-item-list"},c.default.createElement(s.Amount,{showZero:!1,style:{color:"#4166b8"}},t.get("closeDebit")),c.default.createElement(s.Amount,{showZero:0===t.get("closeDebit")&&0===t.get("closeCredit"),style:{color:"#ff8348"}},t.get("closeCredit")))))}}]),t}())||r;t.default=E},2373:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,n=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),i=m(a(0)),o=a(9),c=a(22),u=a(16),l=(m(a(1056)),f(a(25))),s=f(a(1440)),d=f(a(1441));function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function m(e){return e&&e.__esModule?e:{default:e}}var g=(0,c.immutableRenderDecorator)(r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),n(t,[{key:"render",value:function(){var e=this.props,t=e.item,a=e.style,r=e.dispatch,n=e.className,c=e.leve,f=e.haveChild,m=e.showChild,g=e.history,E=e.issuedate,y=e.endissuedate,_=(e.categoryTop,e.categoryUuid,e.ylDataList,e.direction),p=e.currentJrTypeItem,T=e.currentProjectItem,h=e.chooseValue,C={background:{1:"#fff",2:"#D1C0A5",3:"#7E6B5A",4:"#59493f"}[c],width:(c-1)/100*10+"rem"};return i.default.createElement("div",{className:"ba "+n,style:a},i.default.createElement("div",null,i.default.createElement("span",{className:"name",onClick:function(e){sessionStorage.setItem("fromPage","projectyeb");t.get("cardUuid"),t.get("cardCode"),t.get("name");if(f){var a=[];!function e(t){return t.map(function(t){t.get("childList")&&t.get("childList").size?e(t.get("childList")):a.push(t.get("cardUuid"))})}([t]);var n={uuid:a.length?a:"",code:"",name:"全部"},i={uuid:t.get("cardCategory"),name:t.get("name"),value:""+t.get("cardCategory")+l.TREE_JOIN_STR+(!!t.isTop&&t.isTop)};r(d.getProjectTypeMxbBalanceListFromProjectYeb(E,y,(0,o.fromJS)(n),p,(0,o.fromJS)(i),g)),r(d.changeProjectMxbChooseValue(h))}else{var c={uuid:t.get("cardUuid"),code:t.get("cardCode"),name:t.get("name")};r(d.getProjectTypeMxbBalanceListFromProjectYeb(E,y,(0,o.fromJS)(c),p,T,g)),r(d.changeProjectMxbChooseValue(h))}}},1==c?"":i.default.createElement("span",{className:"ba-flag",style:C}),i.default.createElement("span",{className:"name-name name-click"},t.get("name"))),i.default.createElement("span",{className:"btn",onClick:function(){return r(s.projectBalanceTriangleSwitch(m,t.get("cardCategory")))}},i.default.createElement(u.Icon,{type:"arrow-down",style:{visibility:f?"visible":"hidden",transform:m?"rotate(180deg)":""}}))),i.default.createElement("div",{className:"ba-info"},i.default.createElement(u.Amount,{showZero:!0},"debit"===_?0===t.get("openDebit")?-t.get("openCredit"):t.get("openDebit"):0===t.get("openCredit")?-t.get("openDebit"):t.get("openCredit")),i.default.createElement(u.Amount,{showZero:!0},t.get("currentDebit")),i.default.createElement(u.Amount,{showZero:!0},t.get("currentCredit")),i.default.createElement(u.Amount,{showZero:!0},"debit"===_?0===t.get("closeDebit")?-t.get("closeCredit"):t.get("closeDebit"):0===t.get("closeCredit")?-t.get("closeDebit"):t.get("closeCredit"))))}}]),t}())||r;t.default=g},2374:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,a=arguments[1];return((e={},c(e,n.INIT_PROJECT_YEB,function(){return u}),c(e,n.GET_PERIOD_AND_PROJECT_YEB_BALANCE_LIST,function(){"true"===a.needPeriod&&(t=t.set("issues",(0,r.fromJS)(a.issues)));var e={uuid:"",name:"全部",value:i.TREE_JOIN_STR+"true",top:!1};return t=t.setIn(["views","issuedate"],a.issuedate).setIn(["views","endissuedate"],a.endissuedate).set("balanceReport",(0,r.fromJS)(a.receivedData)).setIn(["views","currentProjectItem"],(0,r.fromJS)(e)).setIn(["views","currentRunningItem"],(0,r.fromJS)({jrCategoryUuid:"",jrCategoryName:"全部流水类别",value:"全部流水类别",direction:"double_credit"})).setIn(["views","currentJrTypeItem"],(0,r.fromJS)({acId:"",acName:"全部类型",value:"全部类型",direction:"double_credit"})).setIn(["views","tableName"],a.tableName)}),c(e,n.GET_PROJECT_YEB_CATEGORY_FETCH,function(){var e=function e(t){return t&&t.map(function(t,a){return t.childList&&t.childList.length?{key:""+t.uuid+i.TREE_JOIN_STR+!!t.top,label:t.name,childList:e(t.childList)}:{key:""+t.uuid+i.TREE_JOIN_STR+!!t.top,label:t.name,childList:[]}})}(a.categoryList),n=[{label:"全部",key:"-:-",childList:[]}].concat(e),o=function e(t){return t.map(function(t,a){return t.childList&&t.childList.length?{key:""+t.jrCategoryUuid+i.TREE_JOIN_STR+t.jrCategoryName+i.TREE_JOIN_STR+t.direction,label:t.jrCategoryName,childList:e(t.childList)}:{key:""+t.jrCategoryUuid+i.TREE_JOIN_STR+t.jrCategoryName+i.TREE_JOIN_STR+t.direction,label:t.jrCategoryName,childList:[]}})}(a.jrCategory),c=[{label:"全部流水类别",key:"-:-全部流水类别-:-double_credit",childList:[]}].concat(o);return a.categoryList&&(t=t.set("projectCategory",(0,r.fromJS)(n))),a.jrCategory&&(t=t.set("runningCategory",(0,r.fromJS)(c))),t}),c(e,n.GET_PROJECT_YEB_TYPE_CATEGORY_FETCH,function(){var e=function e(t){return t&&t.map(function(t,a){return t.childList&&t.childList.length?{key:""+t.uuid+i.TREE_JOIN_STR+!!t.top,label:t.name,childList:e(t.childList)}:{key:""+t.uuid+i.TREE_JOIN_STR+!!t.top,label:t.name,childList:[]}})}(a.categoryList),n=[{label:"全部",key:"-:-",childList:[]}].concat(e),o=function e(t){return t&&t.map(function(t,a){return t.childList&&t.childList.length?{key:""+t.acId+i.TREE_JOIN_STR+t.acName+i.TREE_JOIN_STR+t.direction+i.TREE_JOIN_STR+t.mergeName,label:t.acName,childList:e(t.childList)}:{key:""+t.acId+i.TREE_JOIN_STR+t.acName+i.TREE_JOIN_STR+t.direction+i.TREE_JOIN_STR+t.mergeName,label:t.acName,childList:[]}})}(a.acListTree.childList),c=[{label:"全部类型",key:"-:-全部类型-:-double_credit-:-全部类型",childList:[]}].concat(o);return a.categoryList&&(t=t.set("projectCategory",(0,r.fromJS)(n))),a.acListTree&&(t=t.set("typeCategory",(0,r.fromJS)(c))),t}),c(e,n.GET_PROJECT_YEB_BALANCE_LIST_FROM_SWITCH_PERIOD_OR_PROJECT,function(){if("Income"===a.tableName){if(t=t.setIn(["views","currentRunningItem"],a.runningItem),a.category){var e=function e(t){return t.map(function(t,a){return t.childList&&t.childList.length?{key:""+t.jrCategoryUuid+i.TREE_JOIN_STR+t.jrCategoryName+i.TREE_JOIN_STR+t.direction,label:t.jrCategoryName,childList:e(t.childList)}:{key:""+t.jrCategoryUuid+i.TREE_JOIN_STR+t.jrCategoryName+i.TREE_JOIN_STR+t.direction,label:t.jrCategoryName,childList:[]}})}(a.category),n=[{label:"全部流水类别",key:"-:-全部流水类别-:-double_credit",childList:[]}].concat(e);t=t.set("runningCategory",(0,r.fromJS)(n))}}else if(t=t.setIn(["views","currentJrTypeItem"],a.typeItem),a.category){var o=function e(t){return t.map(function(t,a){return t.childList&&t.childList.length?{key:""+t.acId+i.TREE_JOIN_STR+t.acName+i.TREE_JOIN_STR+t.direction+i.TREE_JOIN_STR+t.mergeName,label:t.acName,childList:e(t.childList)}:{key:""+t.acId+i.TREE_JOIN_STR+t.acName+i.TREE_JOIN_STR+t.direction+i.TREE_JOIN_STR+t.mergeName,label:t.acName,childList:[]}})}(a.category.childList),c=[{label:"全部类型",key:"-:-全部类型-:-double_credit",childList:[]}].concat(o);return t=t.set("typeCategory",(0,r.fromJS)(c))}return t=t.setIn(["views","issuedate"],a.issuedate).setIn(["views","endissuedate"],a.endissuedate).set("balanceReport",(0,r.fromJS)(a.receivedData)).setIn(["views","currentProjectItem"],a.projectItem).setIn(["views","bussinessShowChild"],(0,r.fromJS)([]))}),c(e,n.CHANGE_PROJECT_YEB_TABLE,function(){return t.setIn(["views","tableName"],a.value)}),c(e,n.PROJECT_BALANCE_TRIANGLE_SWITCH,function(){var e=t.getIn(["views","bussinessShowChild"]);if(a.showChild){var r=e.splice(e.findIndex(function(e){return e===a.uuid}),1);return t.setIn(["views","bussinessShowChild"],r)}var n=e.push(a.uuid);return t.setIn(["views","bussinessShowChild"],n)}),c(e,n.CHANGE_PROJECT_YEB_CHOOSE_VALUE,function(){return t=t.setIn(["views","chooseValue"],a.value)}),e)[a.type]||function(){return t})()};var r=a(9),n=o(a(1617)),i=o(a(25));function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function c(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var u=(0,r.fromJS)({views:{issuedate:"",endissuedate:"",bussinessShowChild:[],tableName:"Income",currentProjectItem:{uuid:"",name:"全部",value:i.TREE_JOIN_STR+"true",top:!1},currentRunningItem:{jrCategoryUuid:"",jrCategoryName:"全部流水类别",value:"全部流水类别",direction:"double_credit"},currentJrTypeItem:{acId:"",acName:"全部类型",value:"全部类型",direction:"double_credit"},chooseValue:"ISSUE"},projectCategory:[{label:"全部",key:"-:-",childList:[]}],runningCategory:[{label:"全部流水类别",key:"-:-",childList:[]}],typeCategory:[{label:"全部类型",key:"-:-",childList:[]}],issues:[],balanceReport:{childList:[]}})},989:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.view=t.reducer=void 0;var r=o(a(2369)),n=o(a(2374)),i=o(a(1619));function o(e){return e&&e.__esModule?e:{default:e}}var c={projectYebState:n.default,projectMxbState:i.default};t.reducer=c,t.view=r.default}}]);