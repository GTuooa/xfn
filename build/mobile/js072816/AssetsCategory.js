(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{1027:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.view=t.reducer=void 0;var s,n=a(2514),l=(s=n)&&s.__esModule?s:{default:s};t.reducer={},t.view=l.default},1278:function(e,t,a){},2514:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,n,l=function(){function e(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,a,s){return a&&e(t.prototype,a),s&&e(t,s),t}}(),r=a(0),c=(n=r)&&n.__esModule?n:{default:n},i=(a(9),a(31));a(1278);var u=a(16),o=(p(a(1212)),p(a(1249))),f=p(a(10)),m=a(13);function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}u.Form.Label,u.Form.Control;var d=u.Form.Item,g=(0,i.connect)(function(e){return e})(s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.default.Component),l(t,[{key:"componentDidMount",value:function(){this.props.assetsState.get("assetsConfigMode"),this.props.assetsState.getIn(["classification","serialNumber"])}},{key:"render",value:function(){var e=this.props,t=e.dispatch,a=e.assetsState,s=e.allState,n=e.history,l=e.homeState.getIn(["permissionInfo","Config"]).getIn(["edit","permission"]),r=a.get("assetsConfigMode"),i=a.getIn(["classification","serialNumber"]);"insert"===r?f.setTitle({title:"新增资产类别"}):"modify"===r&&(i.length,f.setTitle({title:"修改资产类别"}));a.get("currentassetsindex");var p=a.get("classification"),g=p.get("assetsAcId"),y=p.get("debitId"),E=p.get("creditId"),b=p.get("assetsAcAssList"),N=p.get("debitAssList"),h=p.get("creditAssList"),C=(p.get("defaultNetSalvage"),s.get("acasslist"));function v(e){return C.filter(function(t){return t.get("asscategory")===e}).getIn([0,"asslist"]).filter(function(e){return!e.get("disableTime")}).map(function(e){return{value:e.get("assid")+"_"+e.get("assname"),key:e.get("assid")+"_"+e.get("assname")}})}var A=s.get("cascadeDataAclist"),I=s.get("aclist");return c.default.createElement(u.Container,{className:"assetscategory assetscard"},c.default.createElement(u.ScrollView,{uniqueKey:"assetsCategory-scroll",flex:"1",savePosition:!0},c.default.createElement(u.Form,{style:{paddingTop:"10px"}},c.default.createElement(d,{label:"编码"},c.default.createElement(u.TextInput,{disabled:"modify"===r,type:"text",textAlign:"right",className:"form-input "+("modify"===r?"":"number-input-assets"),value:p.get("serialNumber"),onChange:function(e){return t(o.changeClassificationId(e,p.get("upperAssetsNumber")))}})),c.default.createElement(d,{label:"名称",showAsterisk:!0},c.default.createElement(u.TextInput,{type:"text",textAlign:"right",disabled:1===p.get("serialNumber").length,value:p.get("serialName"),className:"form-input",placeholder:"名称填写...",onChange:function(e){return t(o.changeSerialName(e))}})," ",c.default.createElement(u.Icon,{type:"arrow-right",className:"assets-item-color"})),c.default.createElement(d,{label:"上级资产"},c.default.createElement(u.TextInput,{type:"text",className:"form-input",textAlign:"right",value:p.get("upperAssetsNumber")?p.get("upperAssetsNumber")+"_"+p.get("upperAssetsName"):"无",disabled:!0})),c.default.createElement(d,{label:"折旧/分摊方法"},c.default.createElement(u.TextInput,{type:"text",className:"form-input",value:p.get("depreciationMethod"),disabled:!0,textAlign:"right"})),c.default.createElement(d,{label:"默认使用总期限",className:"input-text-sign-box"},c.default.createElement(u.TextInput,{type:"number",textAlign:"right",value:p.get("totalMonth"),className:"number-input-assets form-input input-text-sign",onChange:function(e){return t(o.changeDefaultUseMonth(e))}})),c.default.createElement(d,{label:"默认净残值率",className:"input-percent-sign-box"},c.default.createElement(u.TextInput,{type:"number",textAlign:"right",className:"number-input-assets form-input input-percent-sign",value:p.get("salvage"),onChange:function(e){return t(o.changeSalvage(e))}})),c.default.createElement(d,{label:"资产科目",className:"input-ac-sign-box",onClick:function(){t(o.assetsToAc("assetsAc","classification")),(0,m.selectAc)(A,I,function(){return t(o.assetsSelectAc.apply(o,arguments))})}},g?c.default.createElement("span",{className:"input-ac-wrap"},c.default.createElement("span",{className:"input-ac"},c.default.createElement("span",null,g+"_"+p.get("assetsAcName"))),c.default.createElement(u.Icon,{className:"assets-item-triangle",type:"triangle"})):c.default.createElement("span",{className:"input-ac-wrap"},c.default.createElement("span",{className:"input-ac"},c.default.createElement("span",{style:{color:"#999"}},"科目选择")),c.default.createElement(u.Icon,{className:"assets-item-triangle",type:"triangle"}))),b.size?b.map(function(e,a){var s=v(e.get("assCategory")),n=e.get("assCategory");return c.default.createElement(d,{label:"辅助核算("+e.get("assCategory")+"):",key:a,onClick:function(){s.size||f.Alert(n+"中所有的核算项目为禁用状态，您可以：1、账套管理员在“辅助核算设置”页面中，启用已有的核算项目；2、在当前页面，“新增”新的核算项目")}},s.size?c.default.createElement(u.SinglePicker,{className:"info-select",district:v(e.get("assCategory")),onOk:function(e){return t(o.enterClassificationOrCardAsslist(e.value,"classification","assetsAcAssList",a))}},c.default.createElement("span",{className:"css-triangle-color"},c.default.createElement("span",null,e.get("assId")?e.get("assCategory")+"_"+e.get("assId")+"_"+e.get("assName"):""))):c.default.createElement("span",{className:"css-triangle-color"}))}):"",c.default.createElement(d,{label:"账务处理借方科目",className:"input-ac-sign-box",onClick:function(){t(o.assetsToAc("debit","classification")),(0,m.selectAc)(A,I,function(){return t(o.assetsSelectAc.apply(o,arguments))})}},y?c.default.createElement("span",{className:"input-ac-wrap"},c.default.createElement("span",{className:"input-ac"},c.default.createElement("span",null,y+"_"+p.get("debitName"))),c.default.createElement(u.Icon,{type:"triangle",className:"assets-item-triangle"})):c.default.createElement("span",{className:"input-ac-wrap"},c.default.createElement("span",{className:"input-ac"},c.default.createElement("span",{style:{color:"#999"}},"科目选择")),c.default.createElement(u.Icon,{type:"triangle",className:"assets-item-triangle"}))),N.size?N.map(function(e,a){var s=v(e.get("assCategory")),n=e.get("assCategory");return c.default.createElement(d,{label:"辅助核算:("+e.get("assCategory")+"):",onClick:function(){s.size||f.Alert(n+"中所有的核算项目为禁用状态，您可以：1、账套管理员在“辅助核算设置”页面中，启用已有的核算项目；2、在当前页面，“新增”新的核算项目")}},s.size?c.default.createElement(u.SinglePicker,{className:"info-select",district:v(e.get("assCategory")),onOk:function(e){return t(o.enterClassificationOrCardAsslist(e.value,"classification","debitAssList",a))}},c.default.createElement("span",{className:"css-triangle-color"},c.default.createElement("span",null,e.get("assId")?e.get("assCategory")+"_"+e.get("assId")+"_"+e.get("assName"):""))):c.default.createElement("span",{className:"css-triangle-color"}))}):"",c.default.createElement(d,{label:"账务处理贷方科目",className:"input-ac-sign-box",onClick:function(){t(o.assetsToAc("credit","classification")),(0,m.selectAc)(A,I,function(){return t(o.assetsSelectAc.apply(o,arguments))})}},E?c.default.createElement("span",{className:"input-ac-wrap"},c.default.createElement("span",{className:"input-ac"},c.default.createElement("span",null,E+"_"+p.get("creditName"))),c.default.createElement(u.Icon,{type:"triangle",className:"assets-item-triangle"})):c.default.createElement("span",{className:"input-ac-wrap"},c.default.createElement("span",{className:"input-ac"},c.default.createElement("span",{style:{color:"#999"}},"科目选择")),c.default.createElement(u.Icon,{type:"triangle",className:"assets-item-triangle"}))),h.size?h.map(function(e,a){var s=v(e.get("assCategory")),n=e.get("assCategory");return c.default.createElement(d,{label:"辅助核算("+e.get("assCategory")+"):",style:{display:0===h.size?"none":""},onClick:function(){s.size||f.Alert(n+"中所有的核算项目为禁用状态，您可以：1、账套管理员在“辅助核算设置”页面中，启用已有的核算项目；2、在当前页面，“新增”新的核算项目")}},s.size?c.default.createElement(u.SinglePicker,{className:"info-select",district:v(e.get("assCategory")),onOk:function(e){return t(o.enterClassificationOrCardAsslist(e.value,"classification","creditAssList",a))}},c.default.createElement("span",{className:"css-triangle-color"},c.default.createElement("span",null,e.get("assId")?e.get("assCategory")+"_"+e.get("assId")+"_"+e.get("assName"):""))):c.default.createElement("span",{className:"css-triangle-color"}))}):"",c.default.createElement(d,{label:"备注"},c.default.createElement(u.TextInput,{type:"text",value:p.get("remark"),className:"form-input",placeholder:"备注填写...",textAlign:"right",onChange:function(e){return t(o.changeRemark(e))}})," ",c.default.createElement(u.Icon,{type:"arrow-right",className:"assets-item-color"})))),c.default.createElement(u.Row,null,c.default.createElement(u.ButtonGroup,null,c.default.createElement(u.Button,{onClick:function(){return n.goBack()}},c.default.createElement(u.Icon,{type:"cancel"}),c.default.createElement("span",null,"取消")),c.default.createElement(u.Button,{disabled:!l,onClick:function(){t(o.enterClassification(n))}},c.default.createElement(u.Icon,{type:"save"}),c.default.createElement("span",null,"保存")))))}}]),t}())||s;t.default=g}}]);