(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{1072:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cancelReviewedJvlist=t.reviewedJvlist=t.changeData=t.setFjglData=t.pushVouhcerToLrpzReducer=t.reverseVcList=t.sortAndChangeVcId=t.cancelChangeVcCheckBoxDisplay=t.changeVcCheckBoxDisplay=t.selectVcAll=t.selectVc=t.pagingVc=t.deleteVcFetch=t.getSortVcFetch=t.getVcListFetch=t.getPeriodAndVcListFetch=void 0;var r,n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},i=a(13),s=a(24),u=(r=s)&&r.__esModule?r:{default:r},o=g(a(181)),d=g(a(1077)),c=g(a(10)),l=g(a(25));function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}t.getPeriodAndVcListFetch=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(a){c.toast.loading(l.LOADING_TIP_TEXT,0),(0,u.default)("pagindvc","POST",JSON.stringify({year:e?e.substr(0,4):"",month:e?e.substr(5,2):"",pageSize:20,currentPage:t+1,getPeriod:"true"}),function(r){if((0,i.showMessage)(r)){c.toast.hide();var n=a(o.everyTableGetPeriod(r)),s=e||n;r.data.jsonArray;a({type:d.AFTER_PAGING_VC,receivedData:r,issuedate:s,currentPage:t})}})}},t.getVcListFetch=function(e){return function(t){var a=e.substring(0,7);c.toast.loading(l.LOADING_TIP_TEXT,0),(0,u.default)("getvclist","POST",JSON.stringify((0,i.jsonifyDate)(e)),function(e){(0,i.showMessage)(e)&&(c.toast.hide(),t({type:d.GET_VC_LIST_FETCH,receivedData:e,issuedate:a}))})}},t.getSortVcFetch=function(e,t){return function(a){0!=t&&(c.toast.loading(l.LOADING_TIP_TEXT,0),(0,u.default)("sortvc","POST",JSON.stringify({year:e.substr(0,4),month:e.substr(5,2),sort:t}),function(t){(0,i.showMessage)(t,"show",800)&&a(_(e))}))}},t.deleteVcFetch=function(e){return function(t,a){var r=e.get("vclist").filter(function(e){return e.get("selected")}).some(function(e){return e.get("enclosurecount")})?"凭证下存在附件,附件也将被删除":"确定删除吗";c.Confirm({message:r,title:"提示",buttonLabels:["取消","确定"],onSuccess:function(a){if(1===a.buttonIndex){var r=e.get("vclist"),n=e.get("vclist").filter(function(e){return e.get("selected")}).map(function(e){return e.get("vcindex")}),s=r.size===n.size;c.toast.loading(l.LOADING_TIP_TEXT,0),(0,u.default)("deletevc","POST",JSON.stringify({year:e.getIn(["vclist",0,"year"]),month:e.getIn(["vclist",0,"month"]),vcindexlist:n,action:"QUERY_VC-DELETE_VC-BATCH_DELETE"}),function(a){if((0,i.showMessage)(a)){if(t({type:d.DELETE_VC_FETCH,receivedData:a}),(0,u.default)("getperiod","GET","",function(e){(0,i.showMessage)(e)&&(c.toast.hide(),t({type:d.GET_PERIOD_FETCH,receivedData:e}))}),s){var r=e.getIn(["vclist",0,"year"])+"-"+e.getIn(["vclist",0,"month"]);t(_(r))}t(T())}})}},onFail:function(e){return alert(e)}})}};var _=t.pagingVc=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments[3];return function(s,o){var g=(0,i.jsonifyDate)(e),_=e.substring(0,7),T=o().cxpzState,f=T.get("searchContentType"),E=T.get("condition");!a&&c.toast.loading(l.LOADING_TIP_TEXT,0),(0,u.default)("pagindvc","POST",JSON.stringify(n({},g,{pageSize:20,currentPage:t+1,searchContentType:f,condition:E})),function(e){!a&&c.toast.hide(),(0,i.showMessage)(e)&&(a&&r.setState({isLoading:!1}),s({type:d.AFTER_PAGING_VC,receivedData:e,issuedate:_,currentPage:t}))})}},T=(t.selectVc=function(e){return{type:d.SELECT_VC,idx:e}},t.selectVcAll=function(){return{type:d.SELECT_VC_ALL}},t.changeVcCheckBoxDisplay=function(e){return{type:d.CHANGE_ALL_VC_CHECKBOX_DISPLAY,idx:e}},t.cancelChangeVcCheckBoxDisplay=function(){return{type:d.CANCEL_CHANGE_VC_CHECKBOX_DISPALY}});t.sortAndChangeVcId=function(){return{type:d.SORT_AND_CHANGE_VC_ID}},t.reverseVcList=function(){return{type:d.REVERSE_VC_LIST}},t.pushVouhcerToLrpzReducer=function(e){return{type:d.PUSH_VOUCHER_TO_LRPZ_REDUCER,voucher:e}},t.setFjglData=function(){return function(e,t){var a=t().cxpzState.get("issuedate");e({type:d.CHANGE_FJGL_ISSUEDATE,issuedate:a})}},t.changeData=function(e,t){return{type:d.CXPZ_CHANGE_DATA,dataType:e,value:t}},t.reviewedJvlist=function(e){return function(t,a){var r=a().cxpzState.get("vclist"),n=e.split("-"),s=[];r.forEach(function(e){e.get("selected")&&!e.get("reviewedby")&&s.push(e.get("vcindex"))}),c.toast.loading(l.LOADING_TIP_TEXT,0),(0,u.default)("reviewvc","POST",JSON.stringify({year:n[0],month:n[1],vcindexlist:s,action:"QUERY_VC-AUDIT"}),function(a){(0,i.showMessage)(a)&&(c.toast.hide(),0==a.data.success&&c.Alert(a.data.failList.join("、")),t(_(e)))})}},t.cancelReviewedJvlist=function(e){return function(t,a){var r=a().cxpzState.get("vclist"),n=e.split("-"),s=[];r.forEach(function(e){e.get("selected")&&e.get("reviewedby")&&s.push(e.get("vcindex"))}),c.toast.loading("加载中...",0),(0,u.default)("backreviewvc","POST",JSON.stringify({year:n[0],month:n[1],vcindexlist:s,action:"QUERY_VC-CANCEL_AUDIT"}),function(a){(0,i.showMessage)(a)&&(c.toast.hide(),0==a.data.success&&c.Alert(a.data.failList.join("、")),t(_(e)))})}}},1077:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.INIT_CXPZ="INIT_CXPZ",t.GET_VC_LIST_FETCH="GET_VC_LIST_FETCH",t.DELETE_VC_FETCH="DELETE_VC_FETCH",t.CHANGE_ALL_VC_CHECKBOX_DISPLAY="CHANGE_ALL_VC_CHECKBOX_DISPLAY",t.CANCEL_CHANGE_VC_CHECKBOX_DISPALY="CANCEL_CHANGE_VC_CHECKBOX_DISPALY",t.SELECT_VC_ALL="SELECT_VC_ALL",t.SELECT_VC="SELECT_VC",t.REVERSE_VC_LIST="REVERSE_VC_LIST",t.AFTER_PAGING_VC="AFTER_PAGING_VC",t.CXPZ_CHANGE_DATA="CXPZ_CHANGE_DATA",t.PUSH_VOUCHER_TO_LRPZ_REDUCER="PUSH_VOUCHER_TO_LRPZ_REDUCER",t.GET_PERIOD_FETCH="GET_PERIOD_FETCH",t.CHANGE_FJGL_ISSUEDATE="CHANGE_FJGL_ISSUEDATE"},1437:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.changeMenuData=t.getProjectDetailList=t.getProjectDetailCardList=t.getFirstProjectDetailList=t.clearXmState=t.changeDetailXmmxCommonString=void 0;var r,n=g(a(1602)),i=a(182),s=(r=i)&&r.__esModule?r:{default:r},u=a(9),o=a(13),d=g(a(10)),c=g(a(25)),l=g(a(181));function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}var _=t.changeDetailXmmxCommonString=function(e,t,a){return function(r){var i="string"==typeof t?[e+"Temp",t]:[e+"Temp"].concat(function(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}(t));"flags"===t[0]&&(i=t),r({type:n.CHANGE_XM_DETAIL_ACCOUNT_COMMON_STRING,tab:e,placeArr:i,value:a})}},T=t.clearXmState=function(){return{type:n.CLEAR_XM_STATE}},f=function(e){var t=[],a=function(e,t){return e.forEach(function(e){e.get("childList")&&e.get("childList").size?t.push({value:""+e.get("uuid")+c.TREE_JOIN_STR+e.get("name")+c.TREE_JOIN_STR+e.get("propertyCost"),label:e.get("name"),children:r(e.get("childList"))}):t.push({value:""+e.get("uuid")+c.TREE_JOIN_STR+e.get("name")+c.TREE_JOIN_STR+e.get("propertyCost"),label:e.get("name"),children:[]})})},r=function(e){var t=[];return a(e,t),t},n=e.data.result[0];if(e.data.result.length>0&&"全部"===n.name){t.push({value:""+n.uuid+c.TREE_JOIN_STR+n.name+c.TREE_JOIN_STR+n.propertyCost,label:n.name,children:[{value:c.TREE_JOIN_STR+"全部"+c.TREE_JOIN_STR+n.propertyCost,label:"全部"}]});var i=e.data.result[0].childList;(0,u.fromJS)(i).forEach(function(e){if(e.get("childList").size){var a=r(e.get("childList")),n=[{value:""+e.get("uuid")+c.TREE_JOIN_STR+e.get("name")+c.TREE_JOIN_STR+e.get("propertyCost"),label:e.get("name"),children:a}];t.push({value:""+e.get("uuid")+c.TREE_JOIN_STR+e.get("name")+c.TREE_JOIN_STR+e.get("propertyCost"),label:e.get("name"),children:n})}else t.push({value:""+e.get("uuid")+c.TREE_JOIN_STR+e.get("name")+c.TREE_JOIN_STR+e.get("propertyCost"),label:e.get("name"),children:[{value:""+e.get("uuid")+c.TREE_JOIN_STR+e.get("name")+c.TREE_JOIN_STR+e.get("propertyCost"),label:e.get("name")}]})})}else(0,u.fromJS)(e.data.result).forEach(function(e){if(e.get("childList").size){var a=r(e.get("childList")),n=[{value:""+e.get("uuid")+c.TREE_JOIN_STR+e.get("name")+c.TREE_JOIN_STR+e.get("propertyCost"),label:e.get("name"),children:a}];t.push({value:""+e.get("uuid")+c.TREE_JOIN_STR+e.get("name")+c.TREE_JOIN_STR+e.get("propertyCost"),label:e.get("name"),children:n})}else t.push({value:""+e.get("uuid")+c.TREE_JOIN_STR+e.get("name")+c.TREE_JOIN_STR+e.get("propertyCost"),label:e.get("name"),children:[{value:""+e.get("uuid")+c.TREE_JOIN_STR+e.get("name")+c.TREE_JOIN_STR+e.get("propertyCost"),label:e.get("name")}]})});return t};t.getFirstProjectDetailList=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"DETAIL_AMOUNT_TYPE_HAPPEN",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",g=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",E=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"true",p=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"",I=arguments.length>8&&void 0!==arguments[8]?arguments[8]:"",C=arguments.length>9&&void 0!==arguments[9]?arguments[9]:"",S=arguments[10],h=arguments.length>11&&void 0!==arguments[11]&&arguments[11];return function(N,y){d.toast.loading(c.LOADING_TIP_TEXT,0),(0,s.default)("getProjectDetailCategoryList","POST",JSON.stringify({year:e?e.substr(0,4):"",month:e?e.substr(5,2):"",endYear:t?t.substr(0,4):"",endMonth:t?t.substr(5,2):"",getPeriod:"true"}),function(S){if(d.toast.hide(),(0,o.showMessage)(S)){var h=function(e){var t=[],a=function(e,t){return e.forEach(function(e){e.get("childList")&&e.get("childList").size?t.push({value:""+e.get("uuid")+c.TREE_JOIN_STR+e.get("name")+c.TREE_JOIN_STR+e.get("top"),label:e.get("name"),children:r(e.get("childList"))}):t.push({value:""+e.get("uuid")+c.TREE_JOIN_STR+e.get("name")+c.TREE_JOIN_STR+e.get("top"),label:e.get("name"),children:[]})})},r=function(e){var t=[];return a(e,t),t},n=e.data.categoryList[0];if(e.data.categoryList.length>0&&"损益项目"===n.name){t.push({value:""+n.uuid+c.TREE_JOIN_STR+n.name+c.TREE_JOIN_STR+n.top,label:n.name,children:[{value:""+n.uuid+c.TREE_JOIN_STR+n.name+c.TREE_JOIN_STR+n.top,label:"损益项目"}]});var i=e.data.categoryList[0].childList;(0,u.fromJS)(i).forEach(function(e){if(e.get("childList").size){var a=r(e.get("childList")),n=[{value:""+e.get("uuid")+c.TREE_JOIN_STR+e.get("name")+c.TREE_JOIN_STR+e.get("top"),label:e.get("name"),children:a}];t.push({value:""+e.get("uuid")+c.TREE_JOIN_STR+e.get("name")+c.TREE_JOIN_STR+e.get("top"),label:e.get("name"),children:n})}else t.push({value:""+e.get("uuid")+c.TREE_JOIN_STR+e.get("name")+c.TREE_JOIN_STR+e.get("top"),label:e.get("name"),children:[{value:""+e.get("uuid")+c.TREE_JOIN_STR+e.get("name")+c.TREE_JOIN_STR+e.get("top"),label:e.get("name")}]})})}else(0,u.fromJS)(e.data.categoryList).forEach(function(e){if(e.get("childList").size){var a=r(e.get("childList")),n=[{value:""+e.get("uuid")+c.TREE_JOIN_STR+e.get("name")+c.TREE_JOIN_STR+e.get("top"),label:e.get("name"),children:a}];t.push({value:""+e.get("uuid")+c.TREE_JOIN_STR+e.get("name")+c.TREE_JOIN_STR+e.get("top"),label:e.get("name"),children:n})}else t.push({value:""+e.get("uuid")+c.TREE_JOIN_STR+e.get("name")+c.TREE_JOIN_STR+e.get("top"),label:e.get("name"),children:[{value:""+e.get("uuid")+c.TREE_JOIN_STR+e.get("name")+c.TREE_JOIN_STR+e.get("top"),label:e.get("name")}]})});return t}(S);N(_("",["flags","projectTypeTree"],(0,u.fromJS)(h)));var y=N(l.everyTableGetPeriod(S)),v=e||y;if(!S.data.categoryList.length)return N(T()),void N(_("",["flags","issuedate"],v));var m=i||S.data.categoryList[0].uuid;d.toast.loading(c.LOADING_TIP_TEXT,0),(0,s.default)("getProjectDetailCardList","POST",JSON.stringify({year:v.substr(0,4),month:v.substr(5,2),endYear:t?t.substr(0,4):"",endMonth:t?t.substr(5,2):"",cardCategoryUuid:"true"==E?m:"",cardSubUuid:"true"!=E?m:"",cardPageNum:1,getPeriod:"false"}),function(i){if(d.toast.hide(),(0,o.showMessage)(i)){N(_("",["flags","cardList"],(0,u.fromJS)(i.data.cardList)));var T=g||i.data.cardList[0].uuid,S=C||i.data.cardList[0].code+" "+i.data.cardList[0].name,h=i.data.pages;N(_("",["flags","curCardName"],S)),N(_("",["flags","cardPages"],h)),d.toast.loading(c.LOADING_TIP_TEXT,0),(0,s.default)("getProjectDetailList","POST",JSON.stringify({year:v.substr(0,4),month:v.substr(5,2),endYear:t?t.substr(0,4):"",endMonth:t?t.substr(5,2):"",getPeriod:!1,cardUuid:T,amountType:r,categoryUuid:p,propertyCost:I,pageNum:a}),function(e){if(d.toast.hide(),(0,o.showMessage)(e)){var i=e.data.result,s=i.debitSum,u=i.creditSum,c=i.total,g=i.detailList,_=i.pages,f=e.data.periodDtoJson?N(l.everyTableGetIssuedate(e.data.periodDtoJson)):"";N({type:n.GET_XMMX_PROJECT_LIST,detailList:g,debitSum:s,creditSum:u,total:c,issues:f,period:e.data.periodDtoJson,getPeriod:"true",issuedate:v,endissuedate:t,curCardUuid:T,isTop:E,categoryUuid:p,propertyCost:I,amountType:r,pageNum:a,cardPageNum:1,pages:_,typeUuid:m})}}),d.toast.loading(c.LOADING_TIP_TEXT,0),(0,s.default)("getProjectDetailRunningCategoryList","POST",JSON.stringify({year:e?e.substr(0,4):"",month:e?e.substr(5,2):"",endYear:t?t.substr(0,4):"",endMonth:t?t.substr(5,2):"",cardUuid:T,getPeriod:"false"}),function(e){if(d.toast.hide(),(0,o.showMessage)(e)){var t=f(e);N(_("",["flags","runningCategory"],(0,u.fromJS)(t)))}})}})}}),h&&S.push("xmmxb")}},t.getProjectDetailCardList=function(e,t,a,r,i){var g=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,T=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1,E=arguments.length>7&&void 0!==arguments[7]&&arguments[7],p=arguments.length>8&&void 0!==arguments[8]?arguments[8]:"",I=arguments.length>9&&void 0!==arguments[9]?arguments[9]:"请选择卡片",C=arguments.length>10&&void 0!==arguments[10]&&arguments[10];return function(S){d.toast.loading(c.LOADING_TIP_TEXT,0),(0,s.default)("getProjectDetailCardList","POST",JSON.stringify({year:e?e.substr(0,4):"",month:e?e.substr(5,2):"",endYear:t?t.substr(0,4):"",endMonth:t?t.substr(5,2):"",cardCategoryUuid:"true"==i?r:"",cardSubUuid:"true"!=i?r:"",pageNum:g,getPeriod:"false"}),function(h){if(d.toast.hide(),(0,o.showMessage)(h)){var N=(0,u.fromJS)(h.data.cardList).map(function(e){return{key:e.get("code")+" "+e.get("name"),value:""+e.get("uuid")+c.TREE_JOIN_STR+e.get("name")+c.TREE_JOIN_STR+e.get("code")}}),y=!E||C?h.data.cardList[0]?h.data.cardList[0].uuid:"":p,v=!E||C?h.data.cardList[0]?h.data.cardList[0].code+" "+h.data.cardList[0].name:"暂无卡片":I,m=h.data.pages;E||(N.size>0?d.chosen({source:N.toJS(),onSuccess:function(E){if(E){var p=E.value.split(c.TREE_JOIN_STR),I=p[2],C=p[1];v=I+" "+C,y=p[0],S(_("",["flags","cardList"],(0,u.fromJS)(h.data.cardList))),S(_("",["flags","curCardName"],v)),S(_("",["flags","cardPages"],m)),S(_("",["flags","categoryName"],"全部")),d.toast.loading(c.LOADING_TIP_TEXT,0),(0,s.default)("getProjectDetailList","POST",JSON.stringify({year:e?e.substr(0,4):"",month:e?e.substr(5,2):"",endYear:t?t.substr(0,4):"",endMonth:t?t.substr(5,2):"",getPeriod:!1,cardUuid:y,amountType:a,categoryUuid:"",propertyCost:"",pageNum:T}),function(s){if(d.toast.hide(),(0,o.showMessage)(s)){var u=s.data.result,c=u.debitSum,_=u.creditSum,f=u.total,E=u.detailList,p=u.pages,I=s.data.periodDtoJson?S(l.everyTableGetIssuedate(s.data.periodDtoJson)):"";S({type:n.GET_XMMX_PROJECT_LIST,detailList:E,debitSum:c,creditSum:_,total:f,issues:I,period:s.data.periodDtoJson,getPeriod:"true",issuedate:e,endissuedate:t,amountType:a,categoryUuid:"",propertyCost:"",typeUuid:r,isTop:i,cardPageNum:g,pageNum:T,curCardUuid:y,pages:p})}}),(0,s.default)("getProjectDetailRunningCategoryList","POST",JSON.stringify({year:e?e.substr(0,4):"",month:e?e.substr(5,2):"",endYear:t?t.substr(0,4):"",endMonth:t?t.substr(5,2):"",cardUuid:y,getPeriod:"false"}),function(e){if((0,o.showMessage)(e)){var t=f(e);S(_("",["flags","runningCategory"],(0,u.fromJS)(t)))}})}}}):d.toast.info("无可选对象"))}})}},t.getProjectDetailList=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments[3],i=arguments[4],c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",g=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"",T=arguments[7],E=arguments[8],p=arguments[9];return function(I,C){var S=C().xmmxbState.get("flags"),h=S.get("typeUuid"),N=S.get("isTop"),y=S.get("cardPageNum");!E&&d.toast.loading("加载中...",0),(0,s.default)("getProjectDetailList","POST",JSON.stringify({year:e?e.substr(0,4):"",month:e?e.substr(5,2):"",endYear:t?t.substr(0,4):"",endMonth:t?t.substr(5,2):"",getPeriod:!1,cardUuid:r,amountType:i,categoryUuid:c,propertyCost:g,pageNum:a}),function(s){if(d.toast.hide(),(0,o.showMessage)(s)){E&&p.setState({isLoading:!1});var u=s.data.result,_=u.debitSum,f=u.creditSum,C=u.total,S=u.detailList,v=u.pages,m=s.data.periodDtoJson?I(l.everyTableGetIssuedate(s.data.periodDtoJson)):"";I({type:n.GET_XMMX_PROJECT_LIST,detailList:S,debitSum:_,creditSum:f,total:C,issues:m,period:s.data.periodDtoJson,getPeriod:"true",issuedate:e,endissuedate:t,amountType:i,categoryUuid:c,propertyCost:g,typeUuid:h,isTop:N,cardPageNum:y,pageNum:a,curCardUuid:r,pages:v,shouldConcat:T})}}),c||(0,s.default)("getProjectDetailRunningCategoryList","POST",JSON.stringify({year:e?e.substr(0,4):"",month:e?e.substr(5,2):"",endYear:t?t.substr(0,4):"",endMonth:t?t.substr(5,2):"",cardUuid:r,getPeriod:"false"}),function(e){if((0,o.showMessage)(e)){var t=f(e);I(_("",["flags","runningCategory"],(0,u.fromJS)(t)))}})}},t.changeMenuData=function(e,t){return function(a){a({type:n.XMMX_MENU_DATA,value:t,dataType:e})}}},1602:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SWITCH_LOADING_MASK="SWITCH_LOADING_MASK",t.GET_ZH_DETAIL_LIST="GET_ZH_DETAIL_LIST",t.INIT_ZH_DETAIL_ACCOUNT_LIST="INIT_ZH_DETAIL_ACCOUNT_LIST",t.GET_ZH_RUNNING_CATEGORY_DETAIL="GET_ZH_RUNNING_CATEGORY_DETAIL",t.CHANGE_XM_DETAIL_ACCOUNT_COMMON_STRING="CHANGE_XM_DETAIL_ACCOUNT_COMMON_STRING",t.CHANGE_ZHMX_MORE_PERIODS="CHANGE_ZHMX_MORE_PERIODS",t.ACCOUNTCONF_DETAIL_TRIANGLE_SWITCH="ACCOUNTCONF_DETAIL_TRIANGLE_SWITCH",t.CLEAR_XM_STATE="CLEAR_XM_STATE",t.INIT_XMMXB="INIT_XMMXB",t.GET_XMMX_PROJECT_LIST="GET_XMMX_PROJECT_LIST",t.XMMX_MENU_DATA="XMMX_MENU_DATA"},1603:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,a=arguments[1];return((e={},u(e,n.INIT_XMMXB,function(){return o}),u(e,n.INIT_ZH_DETAIL_ACCOUNT_LIST,function(){return t=t.set("hideCategoryList",(0,r.fromJS)(a.hideCategoryList))}),u(e,n.GET_ZH_RUNNING_CATEGORY_DETAIL,function(){var e=[];if(a.receivedData.result.forEach(function(t){return e.push(t.uuid)}),a.accountUuid&&"全部"!==a.accountUuid){t.getIn(["flags","PageTab"]);var n=a.accountUuid.split(i.TREE_JOIN_STR);t=(t=t.setIn(["flags","accountName"],(0,r.fromJS)(n[1]))).setIn(["flags","curAccountUuid"],(0,r.fromJS)(a.accountUuid))}else t=t.setIn(["flags","accountName"],"全部").setIn(["flags","transferAccountName"],"全部").setIn(["flags","curAccountUuid"],"全部");return(t=a.defaultCategory?a.receivedData.result[0].uuid?t.setIn(["flags","defaultCategory"],a.receivedData.result[0].uuid+i.TREE_JOIN_STR+a.receivedData.result[0].name+i.TREE_JOIN_STR+a.receivedData.result[0].categoryType+i.TREE_JOIN_STR+a.receivedData.result[0].propertyCost):t.setIn(["flags","defaultCategory"],"init"):t.setIn(["flags","defaultCategory"],"")).set("runningCategory",(0,r.fromJS)(a.receivedData.result)).setIn(["flags","runningShowChild"],(0,r.fromJS)(e))}),u(e,n.CHANGE_XM_DETAIL_ACCOUNT_COMMON_STRING,function(){return a.placeArr&&(t=t.setIn(a.placeArr,a.value)),a.place&&(t=t.set(a.place,a.value)),t}),u(e,n.CHANGE_ZHMX_MORE_PERIODS,function(){return a.chooseperiods?t.set("chooseperiods",!0):t.update("chooseperiods",function(e){return!e})}),u(e,n.ACCOUNTCONF_DETAIL_TRIANGLE_SWITCH,function(){var e=t.getIn(["flags","runningShowChild"]);if(a.showChild){var r=e.splice(e.findIndex(function(e){return e===a.uuid}),1);return t.setIn(["flags","runningShowChild"],r)}var n=e.push(a.uuid);return t.setIn(["flags","runningShowChild"],n)}),u(e,n.GET_XMMX_PROJECT_LIST,function(){"true"===a.getPeriod&&(a.endissuedate&&(t=t.setIn(["flags","chooseperiods"],!0)),a.categoryUuid&&(t=t.setIn(["flags","showRunningType"],!0)),t=t.setIn(["flags","period"],(0,r.fromJS)(a.period)).set("issues",(0,r.fromJS)(a.issues)));var e=[];if(a.shouldConcat){var n=t.getIn(["flags","detailsTemp"]).toJS();e=n.concat(a.detailList)}else e=a.detailList;var i=[];return e.forEach(function(e,t){JSON.stringify(i);-1===JSON.stringify(i).indexOf(JSON.stringify(e.uuid))&&i.push({idx:t,uuid:e.uuid})}),t.setIn(["flags","detailsTemp"],(0,r.fromJS)(a.detailList)).setIn(["flags","debitSum"],a.debitSum).setIn(["flags","creditSum"],a.creditSum).setIn(["flags","total"],a.total).setIn(["flags","issuedate"],a.issuedate).setIn(["flags","endissuedate"],a.endissuedate).setIn(["flags","curCardUuid"],a.curCardUuid).setIn(["flags","isTop"],a.isTop).setIn(["flags","categoryUuid"],a.categoryUuid).setIn(["flags","propertyCost"],a.propertyCost).setIn(["flags","currentPage"],a.pageNum).setIn(["flags","cardPageNum"],a.cardPageNum).setIn(["flags","pageCount"],a.pages).setIn(["flags","amountType"],a.amountType).setIn(["flags","typeUuid"],a.typeUuid).set("ylDataList",(0,r.fromJS)(i))}),u(e,n.CLEAR_XM_STATE,function(){return t.setIn(["flags","detailsTemp"],(0,r.fromJS)([])).setIn(["flags","cardList"],(0,r.fromJS)([])).setIn(["flags","runningCategory"],o.getIn(["flags","runningCategory"])).setIn(["flags","debitSum"],"").setIn(["flags","creditSum"],"").setIn(["flags","total"],"")}),u(e,n.XMMX_MENU_DATA,function(){return t.setIn(["flags",a.dataType],a.value)}),e)[a.type]||function(){return t})()};var r=a(9),n=s(a(1602)),i=s(a(25));function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function u(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var o=(0,r.fromJS)({flags:{issuedate:"",endissuedate:"",insertOrModify:"insert",runningInsertOrModify:"insert",paymentInsertOrModify:"insert",property:"",accountType:"全部",assCategory:"",acId:"",propertyCost:"",detailsTemp:[],selectList:[],selectCategory:"",projectTypeTree:[],runningCategory:[{uuid:"",name:"全部"}],xmType:"损益项目",amountType:"DETAIL_AMOUNT_TYPE_HAPPEN",amountTypeName:"收支发生额",currentPage:1,pageCount:1,menuLeftIdx:0,lbmenuLeftIdx:0,curCardName:"选择卡片",categoryName:"全部",selectedIndex:0},ylDataList:[],period:{closedmonth:"",closedyear:"",firstmonth:"",firstyear:"",lastmonth:"",lastyear:""},issues:[]})}}]);