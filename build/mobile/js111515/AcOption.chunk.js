(this.webpackJsonpfannix=this.webpackJsonpfannix||[]).push([[29],{1330:function(e,t,a){},999:function(e,t,a){"use strict";a.r(t),a.d(t,"reducer",(function(){return y})),a.d(t,"view",(function(){return b}));a(32),a(33),a(31),a(116);var n,c=a(7),i=a(8),r=a(9),l=a(10),o=a(0),s=a.n(o),m=a(1),u=a(47),f=a(1072),g=a(1056),p=(a(1330),a(11)),d=a(2),h=a(14),E=(p.k.Label,p.k.Control,p.k.Item),b=Object(u.c)((function(e){return e}))(n=function(e){Object(l.a)(a,e);var t=Object(r.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).state={prevAcunit:""},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){"modify"===this.props.acconfigState.get("acConfigMode")?d.a.setTitle({title:"\u7f16\u8f91\u79d1\u76ee"}):"insert"===this.props.acconfigState.get("acConfigMode")&&d.a.setTitle({title:"\u65b0\u589e\u79d1\u76ee"}),d.a.setRight({show:!1}),this.setState({prevAcunit:this.props.acconfigState.getIn(["ac","acunit"])})}},{key:"render",value:function(){var e=this.props,t=e.allState,a=e.acconfigState,n=e.dispatch,c=e.history,i=e.homeState,r=this.state.prevAcunit,l=i.getIn(["permissionInfo","Config"]).getIn(["edit","permission"]),o=a.get("ac"),u=t.get("acTags"),b=o.get("acid").charAt(0),y=u.getIn([b&&b-1,"sub"])||Object(m.fromJS)([]),N=t.get("aclist"),v=a.get("fromfirts"),k=a.get("acConfigMode"),C=(o.get("acid").length,0===y.size?Object(m.fromJS)([]):y.map((function(e){return{value:"".concat(e),key:"".concat(e)}}))),O=N.some((function(e){return!e.get("acid").indexOf(o.get("acid"))&&e.get("acid")!==o.get("acid")}))||!!o.get("asscategorylist").size||!!o.get("upperid"),w=i.getIn(["data","userInfo","sobInfo","moduleInfo"]),x=!!w&&w.indexOf("NUMBER")>-1;return s.a.createElement(p.h,{className:"ac-option"},s.a.createElement(p.s,{flex:"1",uniqueKey:"ac-config-option-scroll",savePosition:!0},s.a.createElement(p.k,null,s.a.createElement(E,{label:"\u79d1\u76ee\u7f16\u7801\uff1a",className:"form-offset-up"},s.a.createElement(p.z,{textAlign:"right",value:o.get("acid"),placeholder:v?"\u586b\u5199\u6570\u5b57 (\u96504\u4e2a\u6570\u5b57)":"\u586b\u5199\u6570\u5b57 (\u96506/8/10\u4e2a\u6570\u5b57)",onChange:function(e){return n(f.f(e,t.get("aclist").toSeq()))}}),"\xa0",s.a.createElement(p.l,{type:"arrow-right",className:"ac-option-icon",size:"14"})),s.a.createElement("ul",{className:"form-tip"},s.a.createElement("li",{className:"form-tip-item"},"\u79d1\u76ee\u7f16\u7801\u652f\u6301\u6700\u957f\u56db\u7ea7\uff0c\u4e00\u7ea7\u79d1\u76ee\u5fc5\u987b\u4ee51/2/3/4/5\u5f00\u5934\u4e14\u957f\u5ea6\u5206\u522b\u4e3a4/6/8/10\u4f4d\u6570\u5b57\uff1b")),s.a.createElement(E,{label:"\u79d1\u76ee\u540d\u79f0\uff1a",className:"form-offset-up"},s.a.createElement(p.z,{textAlign:"right",value:o.get("acname"),placeholder:"\u5305\u542b\u4e2d\u6587\u6700\u957f".concat(h.c,"\u4e2a\u5b57\u7b26\uff0c\u5426\u5219\u6700\u957f").concat(h.d,"\u4e2a"),onChange:function(e){return n(f.g(e))}}),"\xa0",s.a.createElement(p.l,{type:"arrow-right",className:"ac-option-icon",size:"14"})),s.a.createElement(E,{label:"\u4e0a\u7ea7\u79d1\u76ee\uff1a",className:"form-offset-up form-offset-margin"},s.a.createElement(p.z,{textAlign:"right",className:"form-input",value:o.get("upperid")?o.get("upperinfo"):"\u65e0",disabled:!0})),s.a.createElement(E,{label:"\u4f59\u989d\u65b9\u5411\uff1a",className:"form-offset-up form-offset-margin"},s.a.createElement(p.x,{checked:"debit"===o.get("direction"),checkedChildren:"\u501f",unCheckedChildren:"\u8d37",onChange:function(){return n(f.m())}})),s.a.createElement("div",{className:"form-select"},s.a.createElement("label",{className:"form-select-text".concat(""===o.get("acid")?"-disabled":"")},"\u79d1\u76ee\u7c7b\u522b\uff1a"),O?s.a.createElement("div",{className:"form-select-just-show"},s.a.createElement("span",null,o.get("category"))):o.get("acid")?s.a.createElement(p.v,{className:"form-select-show-select",district:C,onOk:function(e){return n(f.k(e.value))}},s.a.createElement("div",{className:"form-select-show"},s.a.createElement("span",null,o.get("category")?o.get("category"):"\u8bf7\u9009\u62e9"))):""),s.a.createElement("ul",{className:"form-tip"},s.a.createElement("li",{className:"form-tip-item"},"\u79d1\u76ee\u7c7b\u522b\u5df2\u6839\u636e\u56fd\u5bb6\u5c0f\u4f01\u4e1a\u4f1a\u8ba1\u51c6\u5219\u9884\u7f6e\uff1b"),s.a.createElement("li",{className:"form-tip-item"},"\u65b0\u589e\u5b50\u79d1\u76ee\u65f6\uff0c\u5b50\u79d1\u76ee\u5c06\u81ea\u52a8\u7ee7\u627f\u4e0a\u7ea7\u79d1\u76ee\u7684\u4f59\u989d\u65b9\u5411\u3001\u7c7b\u522b\uff1b")),x?s.a.createElement(E,{label:"\u6570\u91cf\u6838\u7b97\uff1a",className:"form-offset-up form-amount form-offset-border"},s.a.createElement(p.w,{checked:"1"===o.get("acunitOpen"),onClick:function(){n(f.e(k,r))}})):"",x?s.a.createElement(E,{label:"\u8ba1\u7b97\u5355\u4f4d\uff1a",className:"form-offset-up",style:{display:"1"===o.get("acunitOpen")?"":"none"}},"1"===o.get("acunitOpen")&&""==r?s.a.createElement(p.z,{textAlign:"right",className:"form-input",value:o.get("acunit"),placeholder:"\u8bf7\u8f93\u5165\u5355\u4f4d\u540d\u79f0",onChange:function(e){return n(f.j(e))}}):"",s.a.createElement("span",{style:{display:"1"===o.get("acunitOpen")&&""==r?"":"none"}},"\xa0",s.a.createElement(p.l,{type:"arrow-right",className:"ac-option-icon",size:"14"})),s.a.createElement("span",{className:"acunitOpen-modify",style:{display:"1"===o.get("acunitOpen")&&r?"":"none"},onClick:function(){c.push("/config/modifyunit")}},s.a.createElement("span",null,o.get("acunit")),"\xa0",s.a.createElement(p.l,{type:"arrow-right",className:"ac-option-icon",size:"14"}))):"")),s.a.createElement(p.r,null,s.a.createElement(p.d,{type:"ghost",height:50},s.a.createElement(p.c,{onClick:function(){return n(f.c(c))}},s.a.createElement(p.l,{type:"cancel"}),"\u53d6\u6d88"),s.a.createElement(p.c,{disabled:!l,onClick:function(){if("1"==o.get("acunitOpen")&&!o.get("acunit"))return d.a.Alert("\u8bf7\u8f93\u5165\u8ba1\u91cf\u5355\u4f4d");if(o.get("acunit").length>h.e)return d.a.Alert("\u8ba1\u7b97\u5355\u4f4d\u4f4d\u6570\u4e0d\u80fd\u8d85\u8fc7".concat(h.e,"\u4f4d"));var e=h.c;if(/[\u4e00-\u9fa5]/g.test(o.get("acname"))||/[\u3002\uff1b\uff0c\uff1a\u201c\u201d\uff08\uff09\u3001\uff1f\u300a\u300b]/g.test(o.get("acname"))||(e=h.d),o.get("acname").length>e)return d.a.Alert("\u79d1\u76ee\u540d\u79f0\u5305\u542b\u4e2d\u6587\u53ca\u4e2d\u6587\u6807\u70b9\u5b57\u7b26\uff0c\u957f\u5ea6\u4e0d\u80fd\u8d85\u8fc7".concat(h.c,"\u4f4d\uff1b\u5426\u5219\uff0c\u957f\u5ea6\u4e0d\u80fd\u8d85\u8fc7").concat(h.d,"\u4f4d"));n(g.b(v,c))}},s.a.createElement(p.l,{type:"save"}),"\u4fdd\u5b58"))))}}]),a}(s.a.Component))||n,y={}}}]);