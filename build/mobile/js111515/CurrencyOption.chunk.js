(this.webpackJsonpfannix=this.webpackJsonpfannix||[]).push([[55],{1002:function(t,e,n){"use strict";n.r(e),n.d(e,"reducer",(function(){return h})),n.d(e,"view",(function(){return p}));n(32),n(31),n(29),n(82);var r,c=n(7),u=n(8),a=n(9),i=n(10),o=n(0),f=n.n(o),l=n(47),s=n(11),d=n(1167),g=n(2),m=n(14),E=s.k.Item,p=Object(l.c)((function(t){return t}))(r=function(t){Object(i.a)(n,t);var e=Object(a.a)(n);function n(){var t;return Object(c.a)(this,n),(t=e.call(this)).state={showFcNumber:""},t}return Object(u.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var t=this,e=this.props,n=e.currencyState,r=(e.allState,e.history),c=e.dispatch;this.state.showFcNumber;g.a.setRight({show:!1});var u=n.get("handleCurrency"),a=n.get("currency"),i=n.get("currencyModelList");"insert"===u?g.a.setTitle({title:"\u6dfb\u52a0\u5e01\u522b"}):"modify"===u&&g.a.setTitle({title:"\u7f16\u8f91\u5e01\u522b\uff1a".concat(a.get("fcNumber"))});var o=i.map((function(t,e){return{key:"".concat(t.get("fcNumber")).concat(m.m).concat(t.get("name")),value:"".concat(t.get("fcNumber")).concat(m.m).concat(t.get("name"))}}));return f.a.createElement(s.h,{className:"currency-option"},f.a.createElement(s.s,{flex:"1"},f.a.createElement(s.k,null,f.a.createElement(E,{label:"\u5e01\u522b\uff1a",className:"form-offset-up",style:{display:"insert"===u?"":"none"}},f.a.createElement(s.v,{district:o,onOk:function(e){t.setState({showFcNumber:e.value});var n=e.value.split(m.m),r=n[0],u=n[1];c(d.c(r,u))}},f.a.createElement("span",null,f.a.createElement("span",{style:{color:a.get("fcNumber")?"":"#999"}},a.get("fcNumber")?a.get("fcNumber"):"\u8bf7\u9009\u62e9\u5e01\u522b"),"\xa0",f.a.createElement(s.l,{type:"arrow-right",className:"input-icon-arrow-right"})))),f.a.createElement(E,{label:"\u6c47\u7387\uff1a",className:"form-offset-up  form-offset-margin"},f.a.createElement(s.z,{textAlign:"right",value:a.get("exchange"),placeholder:"\u8bf7\u8f93\u5165\u6c47\u7387(\u6700\u591a\u652f\u6301\u5c0f\u6570\u70b9\u540e\u56db\u4f4d)",onChange:function(t){return c(d.b(t))}}),"\xa0",f.a.createElement(s.l,{type:"arrow-right",className:"input-icon-arrow-right"})))),f.a.createElement(s.d,{type:"ghost",height:50},f.a.createElement(s.c,{onClick:function(){return c(r.goBack()&&d.a())}},f.a.createElement(s.l,{type:"cancel"}),f.a.createElement("span",null,"\u53d6\u6d88")),f.a.createElement(s.c,{onClick:function(){return c(d.m(a,u,r))}},f.a.createElement(s.l,{type:"save"}),f.a.createElement("span",null,"\u4fdd\u5b58"))))}}]),n}(f.a.Component))||r,h={}},1167:function(t,e,n){"use strict";n.d(e,"g",(function(){return f})),n.d(e,"h",(function(){return l})),n.d(e,"i",(function(){return s})),n.d(e,"p",(function(){return d})),n.d(e,"j",(function(){return g})),n.d(e,"o",(function(){return m})),n.d(e,"n",(function(){return E})),n.d(e,"k",(function(){return p})),n.d(e,"l",(function(){return h})),n.d(e,"c",(function(){return C})),n.d(e,"b",(function(){return b})),n.d(e,"a",(function(){return N})),n.d(e,"m",(function(){return y})),n.d(e,"f",(function(){return O})),n.d(e,"e",(function(){return _})),n.d(e,"d",(function(){return v}));n(55),n(31),n(219),n(77),n(29),n(65),n(82);var r=n(12),c=n(17),u=n(1056),a=n(1168),i=n(14),o=n(2),f=function(){return function(t){Object(c.g)("getFCList","GET","",(function(e){Object(r.u)(e)&&t({type:a.e,receivedData:e.data})}))}},l=function(){return function(t){o.a.toast.loading(i.p,0),Object(c.g)("getFCRelateAcList","GET","",(function(e){Object(r.u)(e)&&(o.a.toast.hide(),t({type:a.f,receivedData:e.data}))}))}},s=function(){return function(t){Object(c.g)("getModelFCList","GET","",(function(e){Object(r.u)(e)&&t({type:a.g,receivedData:e.data})}))}},d=function(){return{type:a.n}},g=function(){return{type:a.h}},m=function(t){return{type:a.m,idx:t}},E=function(){return{type:a.l}},p=function(){return{type:a.j}},h=function(t,e){return{type:a.k,fcNumber:t,exchange:e}},C=function(t,e){return{type:a.c,fcNumber:t,name:e}},b=function(t){return{type:a.b,value:t}},N=function(){return{type:a.a}},y=function(t,e,n){return function(u){var a=t.get("exchange").toString().split("."),f=[];if(t.get("fcNumber")||f.push("\u5e01\u522b\u4e0d\u80fd\u4e3a\u7a7a"),t.get("exchange")?Number(t.get("exchange"))<=0?f.push("\u6c47\u7387\u4e0d\u80fd\u5c0f\u4e8e\u7b49\u4e8e0"):a[1]&&a[1].length>i.o&&f.push("\u6c47\u7387\u53ea\u652f\u6301\u5c0f\u6570\u70b9\u540e\u56db\u4f4d"):f.push("\u6c47\u7387\u4e0d\u80fd\u4e3a\u7a7a"),f.length)return o.a.Alert(f.reduce((function(t,e){return t+","+e})));o.a.toast.loading(i.p,0),{modify:function(){Object(c.g)("modifyFC","POST",JSON.stringify({fcNumber:t.get("fcNumber"),exchange:t.get("exchange")}),(function(t){Object(r.u)(t)&&(o.a.toast.hide(),n.goBack())}))},insert:function(){Object(c.g)("insertFC","POST",JSON.stringify({fcNumber:t.get("fcNumber"),name:t.get("name"),exchange:t.get("exchange")}),(function(t){Object(r.u)(t)&&(o.a.toast.hide(),n.goBack())}))}}[e]()}},O=function(t){return function(e){var n=t.filter((function(t){return"1"!=t.get("standard")})).filter((function(t){return t.get("selected")})).map((function(t,e){return t.get("fcNumber")}));o.a.Confirm({message:"\u786e\u5b9a\u5220\u9664\u8be5\u5e01\u522b\u5417\uff1f\u5220\u9664\u540e\u53ef\u5728\u201c\u6dfb\u52a0\u5e01\u522b\u201d\u4e2d\u91cd\u65b0\u6dfb\u52a0",title:"\u63d0\u793a",buttonLabels:["\u53d6\u6d88","\u786e\u5b9a"],onSuccess:function(t){1===t.buttonIndex&&(o.a.toast.loading(i.p,0),Object(c.g)("deleteFC","POST",JSON.stringify({numberList:n}),(function(t){Object(r.u)(t)&&(o.a.toast.hide(),t.data&&t.data.length&&o.a.Alert(t.data[0].message),e(f()),e(g()))})))}})}},_=function(t){return{type:a.d,idx:t}},v=function(t){return function(e,n){var a=n().allState.get("aclist").toSeq().filter((function(t){return t.get("selected")})).map((function(t){return t.get("acid")}));o.a.toast.loading(i.p,0),Object(c.g)("relateFCList","POST",JSON.stringify({list:a}),(function(n){if(Object(r.u)(n)){if(o.a.toast.hide(),e(u.c()),e(l()),n.data&&n.data.length)if(n.data.length>1){var c=n.data.map((function(t){return t.message})).reduce((function(t,e){return t+","+e}));o.a.Alert(c)}else o.a.Alert(n.data[0].message);t.goBack()}}))}}},1168:function(t,e,n){"use strict";n.d(e,"i",(function(){return r})),n.d(e,"e",(function(){return c})),n.d(e,"f",(function(){return u})),n.d(e,"g",(function(){return a})),n.d(e,"n",(function(){return i})),n.d(e,"h",(function(){return o})),n.d(e,"m",(function(){return f})),n.d(e,"l",(function(){return l})),n.d(e,"k",(function(){return s})),n.d(e,"c",(function(){return d})),n.d(e,"b",(function(){return g})),n.d(e,"j",(function(){return m})),n.d(e,"a",(function(){return E})),n.d(e,"d",(function(){return p}));var r="INIT_CURRENCY",c="GET_FC_LIST_FETCH",u="GET_FC_RELATE_AC_LIST_FETCH",a="GET_MODEL_FC_LIST_FETCH",i="SHOW_ALL_CURRENCY_CHECKBOX",o="HIDE_ALL_CURRENCY_CHECKBOX",f="SELECT_CURRENCY_ITEM",l="SELECT_ALL_CURRENCY_CHECKBOX",s="MODIFY_CURRENCY",d="CHANGE_FC_NUMBER",g="CHANGE_EXCHANGE",m="INSERT_CURRENCY",E="CANCEL_SAVE_CURRENCY",p="CHANGE_TAB_INDEX_CURRENCY"}}]);