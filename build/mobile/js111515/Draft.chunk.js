(this.webpackJsonpfannix=this.webpackJsonpfannix||[]).push([[59],{1048:function(e,t){e.exports="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},1067:function(e,t,a){var n=a(84),r="["+a(1048)+"]",c=RegExp("^"+r+r+"*"),s=RegExp(r+r+"*$"),i=function(e){return function(t){var a=String(n(t));return 1&e&&(a=a.replace(c,"")),2&e&&(a=a.replace(s,"")),a}};e.exports={start:i(1),end:i(2),trim:i(3)}},1068:function(e,t,a){var n=a(37),r=a(1048);e.exports=function(e){return n((function(){return!!r[e]()||"\u200b\x85\u180e"!="\u200b\x85\u180e"[e]()||r[e].name!==e}))}},1091:function(e,t,a){"use strict";var n=a(39),r=a(1067).trim;n({target:"String",proto:!0,forced:a(1068)("trim")},{trim:function(){return r(this)}})},1469:function(e,t,a){},962:function(e,t,a){"use strict";a.r(t),a.d(t,"reducer",(function(){return x})),a.d(t,"view",(function(){return b}));a(31);var n,r,c=a(7),s=a(8),i=a(9),o=a(10),l=a(0),f=a.n(l),u=a(47),m=a(1),d=a(11),p=a(2),v=a(1260),g=(a(34),a(29),a(48),a(25),a(24)),h=a(1090),j=a(552),y=Object(g.immutableRenderDecorator)(n=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props,t=(e.key,e.idx,e.dispatch),a=e.draftItem,n=(e.draftKeyList,e.history);return f.a.createElement("div",{className:"model",onClick:function(){sessionStorage.setItem("lrpzHandleMode","insert"),n.push("/lrpz"),sessionStorage.removeItem("prevPage"),sessionStorage.setItem("router-from","draft"),sessionStorage.setItem("enterDraft","draft"),t(j.d(!0)),t(h.getDraftItemFetch(a.get("vckey")))}},f.a.createElement(d.l,{style:{display:"1"==a.get("locked")?"":"none"},className:"draft-locked-icon",color:"#ff943e",type:"locked",size:"50"}),f.a.createElement("div",{className:["model-info","1"==a.get("locked")?"draft-locked":""].join(" ")},f.a.createElement("span",null,"\u8bb0 ",a.get("vcindex")," \u53f7"),f.a.createElement("span",{className:"model-info-date"},a.get("vcdate").replace(/-/g,"/"))),f.a.createElement("div",{className:"model-jv-list"},a.get("jvlist").map((function(e,t){return f.a.createElement("div",{className:"model-jv",key:t},f.a.createElement("div",{className:"model-jv-info"},f.a.createElement("span",{className:"model-jv-direction"},["debit"===e.get("jvdirection")?"\u501f":"\u8d37","\uff1a",e.get("acname")].join("")),f.a.createElement(d.a,{className:"model-jv-amount",showZero:!0},e.get("jvamount"))),e.get("asslist").size?f.a.createElement("div",{className:"model-jv-ass"},e.get("asslist").map((function(e,t){return f.a.createElement("div",{key:t,className:"model-jv-ass-showtext ".concat(0===t?"model-jv-ass-showtext-tip":"")},"".concat(e.get("asscategory")+"_"+e.get("assid")+" "+e.get("assname")))}))):"",f.a.createElement("div",{className:"model-jv-abstract"},f.a.createElement("span",null,"\u6458\u8981\uff1a"),f.a.createElement("span",null,e.get("jvabstract"))))}))))}}]),a}(f.a.Component))||n,b=(a(1469),Object(u.c)((function(e){return e}))(r=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"componentDidMount",value:function(){p.a.setTitle({title:"\u8349\u7a3f\u7bb1"}),p.a.setIcon({showIcon:!1}),p.a.setRight({show:!1}),"draft"===sessionStorage.getItem("enterDraft")&&(this.props.dispatch(v.a("\u5168\u90e8")),sessionStorage.removeItem("enterDraft"))}},{key:"render",value:function(){var e=this.props,t=e.draftState,a=e.dispatch,n=e.history;p.a.setTitle({title:"\u8349\u7a3f\u7bb1"});var r=Object(m.fromJS)(["\u5168\u90e8","\u672a\u9501\u5b9a","\u5df2\u9501\u5b9a"]),c=t.getIn(["flags","selectDraftType"]),s=t.getIn(["flags","searchValue"]),i=t.get("draftList"),o=[];t.get("draftList").map((function(e,t){o.push(e.get("vckey"))}));var l=r&&r.map((function(e,t){return{key:e,value:e}}));return f.a.createElement(d.h,{className:"draft"},f.a.createElement(d.r,{className:"draft-select"},f.a.createElement(d.v,{className:"draft-select-select",district:l,onOk:function(e){a(v.a(e.value))}},f.a.createElement("div",{className:"draft-select-select"},f.a.createElement("span",{className:"draft-select-select-text"},c),f.a.createElement(d.l,{className:"draft-select-select-trangle",type:"triangle",size:"10"}))),f.a.createElement("div",{className:"draft-select-inputwrap"},f.a.createElement(d.l,{className:"draft-select-icon",type:"search"}),f.a.createElement(d.z,{className:"draft-select-input",placeholder:"\u641c\u7d22\u8349\u7a3f...",value:s,onChange:function(e){return a(v.b(e))}}))),f.a.createElement(d.s,{flex:"1",uniqueKey:"draft-scroll",savePosition:!0},i.map((function(e,t){return f.a.createElement(y,{key:t,idx:t,draftItem:e,dispatch:a,draftKeyList:o,history:n})}))))}}]),a}(f.a.Component))||r),E=(a(32),a(55),a(33),a(4)),N=a(12),O=a(1335),k=Object(m.fromJS)({flags:{selectDraftType:"\u5168\u90e8",searchValue:""},allDraftList:[],draftList:[]});var x={draftState:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,a=arguments.length>1?arguments[1]:void 0;return((e={},Object(E.a)(e,O.b,(function(){return k})),Object(E.a)(e,O.a,(function(){return t.setIn(["flags","selectDraftType"],a.selectDraftType).set("draftList",Object(m.fromJS)(a.receivedData)).set("allDraftList",Object(m.fromJS)(a.receivedData))})),Object(E.a)(e,O.c,(function(){var e=a.value;return(t=""!==e?t.set("draftList",t.get("allDraftList")).update("draftList",(function(e){return e.map((function(e){return e.set("matchStr","".concat(e.get("vcdate")," \u8bb0").concat(e.get("vcindex"),"\u53f7 ").concat(e.get("jvlist").map((function(e){return"".concat(e.get("jvabstract")," ").concat(e.get("acid"),"_").concat(e.get("acname")," ").concat(Object(N.n)(e.get("jvamount"),2,"")," ").concat(e.get("asslist").size?e.get("asslist").map((function(e){return"".concat(e.get("assid"),"_").concat(e.get("assname"))})).join("_"):"")}))," ").concat(e.get("createdby")," ").concat(e.get("closedby")))}))})).update("draftList",(function(t){return t.filter((function(t){return t.get("matchStr").indexOf(e)>-1}))})):t.set("draftList",t.get("allDraftList"))).setIn(["flags","searchValue"],e)})),e)[a.type]||function(){return t})()}}}}]);