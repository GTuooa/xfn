(this.webpackJsonpfannix=this.webpackJsonpfannix||[]).push([[25],{1320:function(e,t,i){"use strict";i.d(t,"i",(function(){return p})),i.d(t,"n",(function(){return m})),i.d(t,"f",(function(){return j})),i.d(t,"l",(function(){return l})),i.d(t,"c",(function(){return I})),i.d(t,"h",(function(){return v})),i.d(t,"m",(function(){return O})),i.d(t,"d",(function(){return T})),i.d(t,"k",(function(){return S})),i.d(t,"e",(function(){return L})),i.d(t,"j",(function(){return C})),i.d(t,"g",(function(){return D})),i.d(t,"b",(function(){return h})),i.d(t,"a",(function(){return P}));i(31),i(116);var n=i(51),r=(i(1130),i(1145)),a=i(1442),u=i(78),c=i(12),d=i(2),o=i(14),s=i(1),g=i(130),p=function(e,t,i,n,s,p){return function(m,b){if(!e)return r.b.info("\u8d26\u671f\u5f02\u5e38\uff0c\u8bf7\u5237\u65b0\u518d\u8bd5",2);b().projectYebState;d.a.toast.loading(o.p,0),Object(u.a)("getProjectMxbCardList","POST",JSON.stringify({begin:e,end:t,categoryUuid:"\u5168\u90e8"===s.get("name")?"":s.get("top")?s.get("uuid"):"",cardCategoryUuid:"\u5168\u90e8"===s.get("name")||s.get("top")?"":s.get("uuid"),currentPage:1,pageSize:"",needPeriod:"true"}),(function(r){if(Object(c.u)(r)){var p=r.data.periodDtoJson?m(g.d(r.data.periodDtoJson)):[];if(r.data.cardList.length){var b=[];r.data.cardList.map((function(e){b.push(e.uuid)})),Object(u.a)("getProjectMxbReport","POST",JSON.stringify({begin:e,end:t,currentPage:1,pageSize:o.x,direction:n.get("direction"),jrAbstract:"",cardUuidList:i.get("uuid")?"string"===typeof i.get("uuid")?[i.get("uuid")]:i.get("uuid"):b,jrTypeUuid:"",jrCategoryUuid:n.get("jrCategoryUuid")}),(function(u){d.a.toast.hide(),Object(c.u)(u)&&m({type:a.e,receivedData:r.data,reportData:u.data,issuedate:e,endissuedate:t,projectCardItem:i,currentProjectItem:s,runningJrTypeItem:n,tableName:"Income",needPeriod:"true",issues:p})})),m(y(e,t,i.get("uuid"),n))}else d.a.toast.hide(),m({type:a.e,receivedData:r.data,reportData:"",issuedate:e,endissuedate:t,projectCardItem:i,currentProjectItem:s,tableName:"Income",needPeriod:"true",issues:p})}else d.a.toast.hide()})),m(f(e,t)),p.push("projectmxb")}},m=function(e,t,i,p,m,y){return function(j,l){if(!e)return r.b.info("\u8d26\u671f\u5f02\u5e38\uff0c\u8bf7\u5237\u65b0\u518d\u8bd5",2);var I=e||"",v=t||"";l().projectYebState;d.a.toast.loading(o.p,0),Object(u.a)("getProjectTypeMxbCardList","POST",JSON.stringify({begin:I,end:v,categoryUuid:"\u5168\u90e8"===m.get("name")?"":m.get("top")?m.get("uuid"):"",cardCategoryUuid:"\u5168\u90e8"===m.get("name")||m.get("top")?"":m.get("uuid"),currentPage:1,pageSize:"",needPeriod:"true"}),(function(r){if(Object(c.u)(r)){var y=r.data.periodDtoJson?j(g.d(r.data.periodDtoJson)):[],f=Object(s.fromJS)(Object(n.a)({},p.toJS()));if(r.data.cardList.length){var l=[];r.data.cardList.map((function(e){l.push(e.uuid)})),Object(u.a)("getProjectTypeMxbReport","POST",JSON.stringify({begin:I,end:v,currentPage:1,pageSize:o.x,direction:p.get("direction"),jrAbstract:"",cardUuidList:i.get("uuid")?"string"===typeof i.get("uuid")?[i.get("uuid")]:i.get("uuid"):l,jrTypeUuid:p.get("jrJvTypeUuid"),jrCategoryUuid:"",categoryUuid:"\u5168\u90e8"===m.get("name")?"":m.get("top")?m.get("uuid"):"",cardCategoryUuid:"\u5168\u90e8"===m.get("name")||m.get("top")?"":m.get("uuid")}),(function(n){d.a.toast.hide(),Object(c.u)(n)&&j({type:a.e,receivedData:r.data,reportData:n.data,issuedate:e,endissuedate:t,projectCardItem:i,currentProjectItem:m,runningJrTypeItem:f,tableName:"Type",needPeriod:"true",issues:y})})),j(b(e,t,i.get("uuid"),f))}else d.a.toast.hide(),j({type:a.e,receivedData:r.data,reportData:"",issuedate:e,endissuedate:t,projectCardItem:i,currentProjectItem:m,tableName:"Type",needPeriod:"true",issues:y})}else d.a.toast.hide()})),j(f(e,t,!0)),y.push("projectmxb")}},y=function(e,t,i,n){return function(r,s){d.a.toast.loading(o.p,0);var g=n||s().projectMxbState.getIn(["views","currentRunningCategoryItem"]),p=s().projectMxbState.get("cardList"),m=[];p&&p.size&&p.map((function(e){m.push(e.get("uuid"))})),Object(u.a)("getProjectMxbRunningCategory","POST",JSON.stringify({begin:e||"",end:t||"",cardUuidList:i?"string"===typeof i?[i]:i:m}),(function(e){d.a.toast.hide(),Object(c.u)(e)&&r({type:a.l,receivedData:e.data,currentRunningCategoryItem:g})}))}},b=function(e,t,i,n){return function(r,s){d.a.toast.loading(o.p,0);var g=n||s().projectMxbState.getIn(["views","currentRunningTypeItem"]),p=s().projectMxbState.get("cardList"),m=[];p&&p.size&&p.map((function(e){m.push(e.get("uuid"))})),Object(u.a)("getProjectMxbType","POST",JSON.stringify({begin:e||"",end:t||"",cardUuidList:i?"string"===typeof i?[i]:i:m}),(function(e){d.a.toast.hide(),Object(c.u)(e)&&r({type:a.m,receivedData:e.data,currentRunningTypeItem:g})}))}},f=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(n){d.a.toast.loading(o.p,0),Object(u.a)("getProjectReportCategory","POST",JSON.stringify({begin:e||"",end:t||"",isType:i}),(function(e){d.a.toast.hide(),Object(c.u)(e)&&n({type:a.k,receivedData:e.data})}))}},j=function(e,t,i){arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(n,g){if(!e)return r.b.info("\u8d26\u671f\u5f02\u5e38\uff0c\u8bf7\u5237\u65b0\u518d\u8bd5",2);d.a.toast.loading(o.p,0);var p=e||"",m=t||"",y=g().projectMxbState,b=y.getIn(["views","currentProjectItem"]);Object(u.a)("getProjectReportCategory","POST",JSON.stringify({begin:p,end:m,isType:!1}),(function(r){if(Object(c.u)(r)){n({type:a.k,receivedData:r.data});var g=b,f=!1;!function e(t){return t.map((function(t){t.uuid===b.get("uuid")&&(f=!0),t.childList&&t.childList.length&&e(t.childList)}))}(r.data),f||(g=Object(s.fromJS)({uuid:"",name:"\u5168\u90e8",value:"\u5168\u90e8",top:!1})),Object(u.a)("getProjectMxbCardList","POST",JSON.stringify({begin:p,end:m,categoryUuid:g.get("top")?g.get("uuid"):"",cardCategoryUuid:g.get("top")?"":g.get("uuid"),currentPage:1,pageSize:""}),(function(r){if(Object(c.u)(r))if(r.data.cardList.length){var b={};b=r.data.cardList.some((function(e){return e.uuid===i.get("uuid")}))?i.toJS():r.data.cardList[0];var f=[];r.data.cardList.map((function(e){f.push(e.uuid)}));var j=y.getIn(["views","currentRunningCategoryItem"]),l=j,I=!1;Object(u.a)("getProjectMxbRunningCategory","POST",JSON.stringify({begin:p,end:m,cardUuidList:b.uuid?"string"===typeof b.uuid?[b.uuid]:b.uuid:f}),(function(i){if(Object(c.u)(i)){!function e(t){return t&&t.map((function(t){t.jrCategoryUuid===j.get("jrCategoryUuid")&&(I=!0),t.childList&&t.childList.length&&e(t.childList)}))}(i.data.categoryList),I||(l=Object(s.fromJS)({jrCategoryUuid:"",jrCategoryName:"\u5168\u90e8\u6d41\u6c34\u7c7b\u522b",direction:"double_credit"})),n({type:a.l,receivedData:i.data,currentRunningCategoryItem:l}),Object(u.a)("getProjectMxbReport","POST",JSON.stringify({begin:p,end:m,currentPage:1,pageSize:o.x,direction:l.get("direction"),jrAbstract:"",cardUuidList:b.uuid?"string"===typeof b.uuid?[b.uuid]:b.uuid:f,jrTypeUuid:"",jrCategoryUuid:l.get("jrCategoryUuid")}),(function(i){d.a.toast.hide(),Object(c.u)(i)&&n({type:a.h,receivedData:r.data,reportData:i.data,issuedate:e,endissuedate:t,direction:l.get("direction"),cardItem:b,currentRunningCategoryItem:l,currentProjectItem:g})}))}}))}else{d.a.toast.hide();var v=Object(s.fromJS)({jrCategoryUuid:"",jrCategoryName:"\u5168\u90e8\u6d41\u6c34\u7c7b\u522b",direction:"double_credit"});n({type:a.o}),n({type:a.d,receivedData:r.data,reportData:"",issuedate:e,endissuedate:t,cardItem:null,currentRunningCategoryItem:v})}else d.a.toast.hide()}))}}))}},l=function(e,t,i){arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(n,g){if(!e)return r.b.info("\u8d26\u671f\u5f02\u5e38\uff0c\u8bf7\u5237\u65b0\u518d\u8bd5",2);d.a.toast.loading(o.p,0);var p=e||"",m=t||"",y=g().projectMxbState,b=y.getIn(["views","currentProjectItem"]);Object(u.a)("getProjectReportCategory","POST",JSON.stringify({begin:e||"",end:t||"",isType:!0}),(function(r){if(Object(c.u)(r)){n({type:a.k,receivedData:r.data});var g=b,f=!1;!function e(t){return t&&t.map((function(t){t.uuid===b.get("uuid")&&(f=!0),t.childList&&t.childList.length&&e(t.childList)}))}(r.data),f||(g=Object(s.fromJS)({uuid:"",name:"\u5168\u90e8",value:"\u5168\u90e8",top:!1})),Object(u.a)("getProjectTypeMxbCardList","POST",JSON.stringify({begin:p,end:m,categoryUuid:g.get("top")?g.get("uuid"):"",cardCategoryUuid:g.get("top")?"":g.get("uuid"),currentPage:1,pageSize:""}),(function(r){if(Object(c.u)(r))if(r.data.cardList.length){var b={};b=r.data.cardList.some((function(e){return e.uuid===i.get("uuid")}))?i.toJS():r.data.cardList[0];var f=y.getIn(["views","currentRunningTypeItem"]),j=f,l=!1,I=[];r.data.cardList.map((function(e){I.push(e.uuid)})),Object(u.a)("getProjectMxbType","POST",JSON.stringify({begin:e||"",end:t||"",cardUuidList:b.uuid?"string"===typeof b.uuid?[b.uuid]:b.uuid:I}),(function(i){if(Object(c.u)(i)){!function e(t){return t&&t.map((function(t){t.jrJvTypeUuid===f.get("jrJvTypeUuid")&&(l=!0),t.childList&&t.childList.length&&e(t.childList)}))}(i.data.childList),l||(j=Object(s.fromJS)({jrJvTypeUuid:"",typeName:"\u5168\u90e8\u7c7b\u578b",value:"\u5168\u90e8\u7c7b\u578b",direction:"double_credit"})),n({type:a.m,receivedData:i.data,currentRunningTypeItem:j}),Object(u.a)("getProjectTypeMxbReport","POST",JSON.stringify({begin:p,end:m,currentPage:1,pageSize:o.x,direction:j.get("direction"),jrAbstract:"",cardUuidList:b.uuid?"string"===typeof b.uuid?[b.uuid]:b.uuid:I,jrTypeUuid:j.get("jrJvTypeUuid"),jrCategoryUuid:"",categoryUuid:g.get("top")?g.get("uuid"):"",cardCategoryUuid:g.get("top")?"":g.get("uuid")}),(function(i){d.a.toast.hide(),Object(c.u)(i)&&n({type:a.h,receivedData:r.data,reportData:i.data,issuedate:e,endissuedate:t,cardItem:b,direction:j.get("direction"),currentProjectItem:g,currentRunningTypeItem:j})}))}}))}else{d.a.toast.hide();var v=Object(s.fromJS)({jrJvTypeUuid:"",typeName:"\u5168\u90e8\u7c7b\u578b",value:"\u5168\u90e8\u7c7b\u578b",direction:"double_credit"});n({type:a.d,receivedData:r.data,reportData:"",issuedate:e,endissuedate:t,cardItem:null,currentRunningTypeItem:v})}else d.a.toast.hide()}))}}))}},I=function(){return function(e,t){var i=t().projectMxbState,n=i.getIn(["views","issuedate"]),p=i.getIn(["views","endissuedate"]);"Income"===i.getIn(["views","tableName"])?(e(function(e,t){return function(i,n){if(!e)return r.b.info("\u8d26\u671f\u5f02\u5e38\uff0c\u8bf7\u5237\u65b0\u518d\u8bd5",2);d.a.toast.loading(o.p,0);var g=e||"",p=t||"",m=n().projectMxbState,y=m.getIn(["views","currentProjectItem"]),b=m.getIn(["views","currentCardItem"]);Object(u.a)("getProjectReportCategory","POST",JSON.stringify({begin:g,end:p,isType:!0}),(function(n){if(Object(c.u)(n)){i({type:a.k,receivedData:n.data});var r=y,m=!1;!function e(t){return t.map((function(t){t.uuid===y.get("uuid")&&(m=!0),t.childList&&t.childList.length&&e(t.childList)}))}(n.data),m||(r=Object(s.fromJS)({uuid:"",name:"\u5168\u90e8",value:"\u5168\u90e8",top:!1})),Object(u.a)("getProjectTypeMxbCardList","POST",JSON.stringify({begin:g,end:p,categoryUuid:r.get("top")?r.get("uuid"):"",cardCategoryUuid:r.get("top")?"":r.get("uuid"),currentPage:1,pageSize:""}),(function(n){if(Object(c.u)(n))if(n.data.cardList.length){var m={};m=n.data.cardList.some((function(e){return e.uuid===b.get("uuid")}))?b.toJS():n.data.cardList[0];var y=[];n.data.cardList.map((function(e){y.push(e.uuid)}));var f=Object(s.fromJS)({jrJvTypeUuid:"",typeName:"\u5168\u90e8\u7c7b\u578b",value:"\u5168\u90e8\u7c7b\u578b",direction:"double_credit"});Object(u.a)("getProjectMxbType","POST",JSON.stringify({begin:g,end:p,cardUuidList:m.uuid?"string"===typeof m.uuid?[m.uuid]:m.uuid:y}),(function(s){Object(c.u)(s)&&(i({type:a.m,receivedData:s.data,currentRunningTypeItem:f}),Object(u.a)("getProjectTypeMxbReport","POST",JSON.stringify({begin:g,end:p,currentPage:1,pageSize:o.x,direction:f.get("direction"),jrAbstract:"",cardUuidList:m.uuid?"string"===typeof m.uuid?[m.uuid]:m.uuid:y,jrTypeUuid:"",jrCategoryUuid:"",categoryUuid:r.get("top")?r.get("uuid"):"",cardCategoryUuid:r.get("top")?"":r.get("uuid")}),(function(u){d.a.toast.hide(),Object(c.u)(u)&&i({type:a.h,receivedData:n.data,reportData:u.data,issuedate:e,endissuedate:t,cardItem:m,direction:f.get("direction"),currentProjectItem:r,currentRunningCategoryItem:f})})))}))}else{d.a.toast.hide();var j=Object(s.fromJS)({jrJvTypeUuid:"",typeName:"\u5168\u90e8\u7c7b\u578b",value:"\u5168\u90e8\u7c7b\u578b",direction:"double_credit"});i({type:a.o}),i({type:a.d,receivedData:n.data,reportData:"",issuedate:e,endissuedate:t,cardItem:null,currentRunningTypeItem:j})}else d.a.toast.hide()}))}}))}}(n,p)),e({type:a.c,value:"Type"})):(e(function(e,t){return function(i,n){d.a.toast.loading(o.p,0);var r=e||"",p=t||"",m=n().projectMxbState,y=m.getIn(["views","currentProjectItem"]),b=m.getIn(["views","currentCardItem"]);Object(u.a)("getProjectReportCategory","POST",JSON.stringify({begin:r,end:p,isType:!1}),(function(n){if(Object(c.u)(n)){i({type:a.k,receivedData:n.data});var m=y,f=!1;!function e(t){return t.map((function(t){t.uuid===y.get("uuid")&&(f=!0),t.childList&&t.childList.length&&e(t.childList)}))}(n.data),f||(m=Object(s.fromJS)({uuid:"",name:"\u5168\u90e8",value:"\u5168\u90e8",top:!1})),Object(u.a)("getProjectMxbCardList","POST",JSON.stringify({begin:r,end:p,categoryUuid:m.get("top")?m.get("uuid"):"",cardCategoryUuid:m.get("top")?"":m.get("uuid"),currentPage:1,pageSize:"",needPeriod:"true"}),(function(n){if(Object(c.u)(n)){var y=i(g.j(n)),f=(n.data.periodDtoJson&&i(g.d(n.data.periodDtoJson)),y.substr(0,4)+"-"+y.substr(5,2));if(n.data.cardList.length){var j={};j=n.data.cardList.some((function(e){return e.uuid===b.get("uuid")}))?b.toJS():n.data.cardList[0];var l=Object(s.fromJS)({jrCategoryUuid:"",jrCategoryName:"\u5168\u90e8\u6d41\u6c34\u7c7b\u522b",direction:"double_credit"}),I=[];n.data.cardList.map((function(e){I.push(e.uuid)})),Object(u.a)("getProjectMxbRunningCategory","POST",JSON.stringify({begin:e?r:f,end:t?p:"",cardUuidList:j.uuid?"string"===typeof j.uuid?[j.uuid]:j.uuid:I}),(function(s){Object(c.u)(s)&&(i({type:a.l,receivedData:s.data,currentRunningCategoryItem:l}),Object(u.a)("getProjectMxbReport","POST",JSON.stringify({begin:e?r:f,end:t?p:"",currentPage:1,pageSize:o.x,direction:l.get("direction"),jrAbstract:"",cardUuidList:j.uuid?"string"===typeof j.uuid?[j.uuid]:j.uuid:I,jrTypeUuid:"",jrCategoryUuid:""}),(function(r){d.a.toast.hide(),Object(c.u)(r)&&i({type:a.h,receivedData:n.data,reportData:r.data,issuedate:e,endissuedate:t,cardItem:j,direction:l.get("direction"),currentProjectItem:m,currentRunningCategoryItem:l})})))}))}else{d.a.toast.hide();var v=Object(s.fromJS)({jrCategoryUuid:"",jrCategoryName:"\u5168\u90e8\u6d41\u6c34\u7c7b\u522b",direction:"double_credit"});i({type:a.o}),i({type:a.d,receivedData:n.data,reportData:"",issuedate:e,endissuedate:t,cardItem:null,currentRunningCategoryItem:v})}}else d.a.toast.hide()}))}}))}}(n,p)),e({type:a.c,value:"Income"}))}},v=function(e){return function(t,i){var n=i().projectMxbState,r=n.getIn(["views","issuedate"]),s=n.getIn(["views","endissuedate"]),g=r||"",p=s||"";d.a.toast.loading(o.p,0),Object(u.a)("getProjectMxbCardList","POST",JSON.stringify({begin:g,end:p,categoryUuid:"\u5168\u90e8"===e.get("name")?"":e.get("top")?e.get("uuid"):"",cardCategoryUuid:"\u5168\u90e8"===e.get("name")||e.get("top")?"":e.get("uuid"),currentPage:1,pageSize:""}),(function(i){Object(c.u)(i)?i.data.cardList.length?(Object(u.a)("getProjectMxbReport","POST",JSON.stringify({begin:g,end:p,currentPage:1,pageSize:o.x,direction:"credit",jrAbstract:"",cardUuidList:[i.data.cardList[0].uuid],jrTypeUuid:"",jrCategoryUuid:""}),(function(n){d.a.toast.hide(),Object(c.u)(n)&&t({type:a.j,receivedData:i.data,reportData:n.data,projectItem:e,cardItem:i.data.cardList[0]})})),t(y(r,s,i.data.cardList[0].uuid))):(d.a.toast.hide(),t({type:a.j,receivedData:i.data,reportData:null,projectItem:e,cardItem:null})):d.a.toast.hide()}))}},O=function(e){return function(t,i){var n=i().projectMxbState,r=n.getIn(["views","issuedate"]),s=n.getIn(["views","endissuedate"]),g=r||"",p=s||"";d.a.toast.loading(o.p,0),Object(u.a)("getProjectTypeMxbCardList","POST",JSON.stringify({begin:g,end:p,categoryUuid:"\u5168\u90e8"===e.get("name")?"":e.get("top")?e.get("uuid"):"",cardCategoryUuid:"\u5168\u90e8"===e.get("name")||e.get("top")?"":e.get("uuid"),currentPage:1,pageSize:o.x}),(function(i){Object(c.u)(i)?i.data.cardList.length?(Object(u.a)("getProjectTypeMxbReport","POST",JSON.stringify({begin:g,end:p,currentPage:1,pageSize:o.x,direction:"credit",jrAbstract:"",cardUuidList:[i.data.cardList[0].uuid],jrTypeUuid:"",jrCategoryUuid:"",categoryUuid:"\u5168\u90e8"===e.get("name")?"":e.get("top")?e.get("uuid"):"",cardCategoryUuid:"\u5168\u90e8"===e.get("name")||e.get("top")?"":e.get("uuid")}),(function(n){d.a.toast.hide(),Object(c.u)(n)&&t({type:a.j,receivedData:i.data,reportData:n.data,projectItem:e,cardItem:i.data.cardList[0]})})),t(b(r,s,i.data.cardList[0].uuid))):(d.a.toast.hide(),t({type:a.j,receivedData:i.data,reportData:null,projectItem:e,cardItem:null})):d.a.toast.hide()}))}},T=function(e){return function(t,i){var n=i().projectMxbState,r=n.getIn(["views","issuedate"]),g=n.getIn(["views","endissuedate"]),p=n.get("cardList"),m=[];p&&p.size&&p.map((function(e){e.get("uuid")&&m.push(e.get("uuid"))}));var y=r||"",b=g||(r||""),f=n.getIn(["views","chooseDirection"]),j="double_debit"===f||"double_credit"===f?f:"double_credit";d.a.toast.loading(o.p,0);var l=n.getIn(["views","currentRunningCategoryItem"]),I=l,v=!1;Object(u.a)("getProjectMxbRunningCategory","POST",JSON.stringify({begin:y,end:b,cardUuidList:e.get("uuid")?"string"===typeof e.get("uuid")?[e.get("uuid")]:e.get("uuid"):m}),(function(i){if(Object(c.u)(i)){!function e(t){return t&&t.map((function(t){t.jrCategoryUuid===l.get("jrCategoryUuid")&&(v=!0),t.childList&&t.childList.length&&e(t.childList)}))}(i.data.categoryList),v||(I=Object(s.fromJS)({jrCategoryUuid:"",jrCategoryName:"\u5168\u90e8\u6d41\u6c34\u7c7b\u522b",direction:"double_credit"})),t({type:a.l,receivedData:i.data,currentRunningCategoryItem:I}),Object(u.a)("getProjectMxbReport","POST",JSON.stringify({begin:y,end:b,currentPage:1,pageSize:o.x,direction:I.get("direction"),jrAbstract:"",cardUuidList:e.get("uuid")?"string"===typeof e.get("uuid")?[e.get("uuid")]:e.get("uuid"):m,jrTypeUuid:"",jrCategoryUuid:I.get("jrCategoryUuid")}),(function(i){d.a.toast.hide(),Object(c.u)(i)&&t({type:a.f,receivedData:i.data,cardItem:e,chooseDirection:j,currentRunningCategoryItem:I})}))}}))}},S=function(e){return function(t,i){var n=i().projectMxbState,r=n.getIn(["views","issuedate"]),g=n.getIn(["views","endissuedate"]),p=n.get("cardList"),m=[];p&&p.size&&p.map((function(e){e.get("uuid")&&m.push(e.get("uuid"))}));var y=r||"",b=g||(r||""),f=n.getIn(["views","chooseDirection"]),j=n.getIn(["views","currentProjectItem"]),l="double_debit"===f||"double_credit"===f?f:"double_credit";d.a.toast.loading(o.p,0);var I=n.getIn(["views","currentRunningTypeItem"]),v=I,O=!1;Object(u.a)("getProjectMxbType","POST",JSON.stringify({begin:r||"",end:g||"",cardUuidList:e.get("uuid")?"string"===typeof e.get("uuid")?[e.get("uuid")]:e.get("uuid"):m}),(function(i){if(Object(c.u)(i)){!function e(t){return t&&t.map((function(t){t.jrJvTypeUuid===I.get("jrJvTypeUuid")&&(O=!0),t.childList&&t.childList.length&&e(t.childList)}))}(i.data.typeList),O||(v=Object(s.fromJS)({jrJvTypeUuid:"",typeName:"\u5168\u90e8\u7c7b\u578b",value:"\u5168\u90e8\u7c7b\u578b",direction:"double_credit"})),t({type:a.m,receivedData:i.data,currentRunningTypeItem:v}),Object(u.a)("getProjectTypeMxbReport","POST",JSON.stringify({begin:y,end:b,currentPage:1,pageSize:o.x,direction:v.get("direction"),jrAbstract:"",cardUuidList:e.get("uuid")?"string"===typeof e.get("uuid")?[e.get("uuid")]:e.get("uuid"):m,jrTypeUuid:v.get("jrJvTypeUuid"),jrCategoryUuid:"",categoryUuid:"\u5168\u90e8"===j.get("name")?"":j.get("top")?j.get("uuid"):"",cardCategoryUuid:"\u5168\u90e8"===j.get("name")||j.get("top")?"":j.get("uuid")}),(function(i){d.a.toast.hide(),Object(c.u)(i)&&t({type:a.f,receivedData:i.data,cardItem:e,chooseDirection:l,currentRunningTypeItem:v})}))}}))}},L=function(e,t){return function(i,n){var r=n().projectMxbState,s=r.getIn(["views","issuedate"]),g=r.getIn(["views","endissuedate"]),p=r.get("cardList"),m=[];p&&p.size&&p.map((function(e){m.push(e.get("uuid"))}));var y=s||"",b=g||"",f=r.getIn(["views","currentCardItem"]);r.getIn(["views","chooseDirection"]);d.a.toast.loading(o.p,0),Object(u.a)("getProjectMxbReport","POST",JSON.stringify({begin:y,end:b,currentPage:1,pageSize:o.x,direction:t.get("direction"),jrAbstract:"",cardUuidList:f.get("uuid")?"string"===typeof f.get("uuid")?[f.get("uuid")]:f.get("uuid"):m,jrTypeUuid:"",jrCategoryUuid:t.get("jrCategoryUuid")}),(function(n){d.a.toast.hide(),Object(c.u)(n)&&i({type:a.g,receivedData:n.data,selectType:e,currentItem:t})}))}},C=function(e,t){return function(i,n){var r=n().projectMxbState,s=r.getIn(["views","issuedate"]),g=r.getIn(["views","endissuedate"]),p=r.get("cardList"),m=[];p&&p.size&&p.map((function(e){m.push(e.get("uuid"))}));var y=s||"",b=g||"",f=r.getIn(["views","currentCardItem"]),j=(r.getIn(["views","chooseDirection"]),r.getIn(["views","currentProjectItem"]));d.a.toast.loading(o.p,0),Object(u.a)("getProjectTypeMxbReport","POST",JSON.stringify({begin:y,end:b,currentPage:1,pageSize:o.x,direction:t.get("direction"),jrAbstract:"",cardUuidList:f.get("uuid")?"string"===typeof f.get("uuid")?[f.get("uuid")]:f.get("uuid"):m,jrTypeUuid:t.get("jrJvTypeUuid"),jrCategoryUuid:"",categoryUuid:"\u5168\u90e8"===j.get("name")?"":j.get("top")?j.get("uuid"):"",cardCategoryUuid:"\u5168\u90e8"===j.get("name")||j.get("top")?"":j.get("uuid")}),(function(n){d.a.toast.hide(),Object(c.u)(n)&&i({type:a.g,receivedData:n.data,selectType:e,currentItem:t})}))}},D=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0;return function(e,s){!n&&d.a.toast.loading("\u52a0\u8f7d\u4e2d...",0);var g=s().projectMxbState,p=g.getIn(["views","issuedate"]),m=g.getIn(["views","endissuedate"]),y=p||"",b=m||"",f=g.get("cardList"),j=[];f&&f.size&&f.map((function(e){j.push(e.get("uuid"))}));var l=g.getIn(["views","tableName"]),I=g.getIn(["views","currentCardItem"]),v=g.getIn(["views","chooseDirection"]),O=g.getIn(["views","currentRunningCategoryItem"]),T=g.getIn(["views","currentRunningTypeItem"]),S=g.getIn(["views","currentProjectItem"]),L="Type"===l?"getProjectTypeMxbReport":"getProjectMxbReport";Object(u.a)(L,"POST",JSON.stringify({begin:y,end:b,currentPage:t,pageSize:o.x,direction:v,jrAbstract:"",cardUuidList:I.get("uuid")?"string"===typeof I.get("uuid")?[I.get("uuid")]:I.get("uuid"):j,jrTypeUuid:"Type"===l?T.get("jrTypeUuid"):"",jrCategoryUuid:"Type"===l?"":O.get("jrCategoryUuid"),categoryUuid:"\u5168\u90e8"===S.get("name")?"":S.get("top")?S.get("uuid"):"",cardCategoryUuid:"\u5168\u90e8"===S.get("name")||S.get("top")?"":S.get("uuid")}),(function(t){!n&&d.a.toast.hide(),Object(c.u)(t)&&(n&&r.setState({isLoading:!1}),e({type:a.i,receivedData:t.data,shouldConcat:i}))}))}},h=function(e){return{type:a.b,direction:e}},P=function(e){return{type:a.a,value:e}}},1442:function(e,t,i){"use strict";i.d(t,"n",(function(){return n})),i.d(t,"e",(function(){return r})),i.d(t,"l",(function(){return a})),i.d(t,"m",(function(){return u})),i.d(t,"k",(function(){return c})),i.d(t,"d",(function(){return d})),i.d(t,"h",(function(){return o})),i.d(t,"c",(function(){return s})),i.d(t,"j",(function(){return g})),i.d(t,"f",(function(){return p})),i.d(t,"g",(function(){return m})),i.d(t,"b",(function(){return y})),i.d(t,"o",(function(){return b})),i.d(t,"i",(function(){return f})),i.d(t,"a",(function(){return j}));var n="INIT_PROJECT_MXB",r="GET_PROJECTMXB_BALANCE_LIST_FROM_PROJECTYEB",a="GET_PROJECT_MXB_RUNNING_CATEGORY",u="GET_PROJECT_MXB_TYPE_FETCH",c="GET_PROJECT_MXB_CATEGORY_FETCH",d="GET_PERIOD_AND_PROJECT_MXB_BALANCE_LIST",o="GET_PROJECT_MXB_BALANCE_LIST_FROM_CHANGE_PERIOD",s="CHANGE_PROJECT_MXB_TABLE",g="GET_PROJECT_MXB_BALANCE_LIST_FROM_PROJECT",p="GET_PROJECT_MXB_BALANCE_LIST_FROM_CARD_ITEM",m="GET_PROJECT_MXB_BALANCE_LIST_FROM_CATEGORY_OR_TYPE",y="CHANGE_PROJECT_MXB_REPORT_DIRECTION",b="PROJECT_MXB_CLEAR_CATEGORY_OR_TYPE",f="GET_PROJECT_MXB_BALANCE_LIST_FROM_FILTER_OR_PAGE",j="CHANGE_PROJECT_MXB_CHOOSE_VALUE"},1443:function(e,t,i){"use strict";i.d(t,"a",(function(){return d}));i(32),i(31),i(70);var n=i(4),r=i(1),a=i(1442),u=i(14),c=Object(r.fromJS)({views:{issuedate:"",endissuedate:"",tableName:"Income",currentProjectItem:{uuid:"",name:"\u5168\u90e8",value:"\u5168\u90e8",top:!1},currentCardItem:{uuid:"",name:"\u5168\u90e8",code:""},currentRunningCategoryItem:{jrCategoryUuid:"",jrCategoryName:"\u5168\u90e8\u6d41\u6c34\u7c7b\u522b",direction:"double_credit"},currentRunningTypeItem:{jrJvTypeUuid:"",typeName:"\u5168\u90e8\u7c7b\u578b",direction:"double_credit"},chooseDirection:"double_credit",chooseValue:"ISSUE"},issues:[],projectCategoryList:[{key:"".concat(u.B,"0"),label:"\u5168\u90e8",childList:[]}],cardList:[],runningCategoryList:[{key:"",label:"",childList:[]}],runningTypeList:[{key:"",label:"",childList:[]}],QcData:[],QmData:{},currentPage:1,pages:1,detailsTemp:[]});function d(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,i=arguments.length>1?arguments[1]:void 0;return((e={},Object(n.a)(e,a.n,(function(){return c})),Object(n.a)(e,a.e,(function(){if(t=t.setIn(["views","issuedate"],i.issuedate).setIn(["views","endissuedate"],i.endissuedate).setIn(["views","currentCardItem"],i.projectCardItem).setIn(["views","currentProjectItem"],i.currentProjectItem).setIn(["views","tableName"],i.tableName).setIn(["views","chooseDirection"],i.runningJrTypeItem.get("direction")),i.receivedData.cardList){var e=[{name:"\u5168\u90e8",uuid:""}];i.receivedData.cardList&&i.receivedData.cardList.map((function(t){e.push({name:"".concat(t.name),uuid:t.uuid})})),t=t.set("cardList",Object(r.fromJS)(e))}if(t="Income"===i.tableName?t.setIn(["views","currentRunningCategoryItem"],i.runningJrTypeItem).setIn(["views","currentRunningTypeItem"],c.getIn(["views","currentRunningTypeItem"])):t.setIn(["views","currentRunningTypeItem"],i.runningJrTypeItem).setIn(["views","currentRunningCategoryItem"],c.getIn(["views","currentRunningCategoryItem"])),"true"===i.needPeriod&&(t=t.set("issues",Object(r.fromJS)(i.issues))),i.reportData){var n=i.reportData,a={incomeAmount:n.incomeAmount,expenseAmount:n.expenseAmount,realIncomeAmount:n.realIncomeAmount,realExpenseAmount:n.realExpenseAmount,balance:n.balance,direction:n.direction};t=t.set("detailsTemp",Object(r.fromJS)(i.reportData.detailList)).set("QcData",Object(r.fromJS)(i.reportData.openDetail)).set("QmData",Object(r.fromJS)(a)).set("currentPage",i.reportData.currentPage).set("pages",i.reportData.pages)}else t=t.set("detailsTemp",c.get("detailsTemp"));return t})),Object(n.a)(e,a.l,(function(){i.receivedData.categoryList.length>0&&(t=t.setIn(["views","direction"],"double_debit"));var e=[{key:"".concat(u.B,"double_credit"),label:"\u5168\u90e8\u6d41\u6c34\u7c7b\u522b",childList:[]}],n=function e(t){return t.map((function(t,i){return t.childList&&t.childList.length?{key:"".concat(t.jrCategoryUuid).concat(u.B).concat(t.direction),label:t.jrCategoryName,childList:e(t.childList)}:{key:"".concat(t.jrCategoryUuid).concat(u.B).concat(t.direction),label:t.jrCategoryName,childList:[]}}))}(i.receivedData.categoryList),a=e.concat(n);return t=t.set("runningCategoryList",Object(r.fromJS)(a)).setIn(["views","currentRunningCategoryItem"],i.currentRunningCategoryItem).setIn(["views","currentRunningTypeItem"],c.getIn(["views","currentRunningTypeItem"]))})),Object(n.a)(e,a.k,(function(){var e=[{key:"".concat(u.B,"true"),label:"\u5168\u90e8",childList:[]}],n=function e(t){return t.map((function(t,i){return t.childList&&t.childList.length?{key:"".concat(t.uuid).concat(u.B).concat(!!t.top&&t.top),label:t.name,childList:e(t.childList)}:{key:"".concat(t.uuid).concat(u.B).concat(!!t.top&&t.top),label:t.name,childList:[]}}))}(i.receivedData),a=e.concat(n);return t=t.set("projectCategoryList",Object(r.fromJS)(a))})),Object(n.a)(e,a.m,(function(){i.receivedData.childList.length>0&&(t=t.setIn(["views","direction"],"double_debit"));var e=[{key:"".concat(u.B,"double_credit").concat(u.B,"\u5168\u90e8\u7c7b\u578b"),label:"\u5168\u90e8\u7c7b\u578b",childList:[]}],n=function e(t){return t.map((function(t,i){return t.childList&&t.childList.length?{key:"".concat(t.jrJvTypeUuid).concat(u.B).concat(t.direction).concat(u.B).concat(t.mergeName),label:t.typeName,childList:e(t.childList)}:{key:"".concat(t.jrJvTypeUuid).concat(u.B).concat(t.direction).concat(u.B).concat(t.mergeName),label:t.typeName,childList:[]}}))}(i.receivedData.childList),a=e.concat(n);return t=t.set("runningTypeList",Object(r.fromJS)(a)).setIn(["views","currentRunningTypeItem"],i.currentRunningTypeItem).setIn(["views","currentRunningCategoryItem"],c.getIn(["views","currentRunningCategoryItem"]))})),Object(n.a)(e,a.d,(function(){if(i.receivedData.cardList){var e=[{name:"\u5168\u90e8",uuid:""}];i.receivedData.cardList&&i.receivedData.cardList.map((function(t){e.push({name:"".concat(t.name),uuid:t.uuid})})),t=t.set("cardList",Object(r.fromJS)(e))}if(t=t.setIn(["views","issuedate"],i.issuedate).setIn(["views","endissuedate"],i.endissuedate).setIn(["views","currentCardItem"],i.cardItem?Object(r.fromJS)(i.cardItem):c.getIn(["views","currentCardItem"])).setIn(["views","currentRunningCategoryItem"],i.currentRunningCategoryItem?i.currentRunningCategoryItem:c.getIn(["views","currentRunningCategoryItem"])).setIn(["views","currentRunningTypeItem"],i.currentRunningTypeItem?i.currentRunningTypeItem:c.getIn(["views","currentRunningTypeItem"])),"true"===i.needPeriod&&(t=t.set("issues",Object(r.fromJS)(i.issues))),i.reportData){var n=i.reportData,a={incomeAmount:n.incomeAmount,expenseAmount:n.expenseAmount,realIncomeAmount:n.realIncomeAmount,realExpenseAmount:n.realExpenseAmount,balance:n.balance,direction:n.direction};t=t.set("detailsTemp",Object(r.fromJS)(i.reportData.detailList)).set("QcData",Object(r.fromJS)(i.reportData.openDetail)).set("QmData",Object(r.fromJS)(a)).set("currentPage",i.reportData.currentPage).set("pages",i.reportData.pages)}else t=t.set("detailsTemp",c.get("detailsTemp"));return t})),Object(n.a)(e,a.h,(function(){if(i.receivedData.cardList){var e=[{name:"\u5168\u90e8",uuid:""}];i.receivedData.cardList&&i.receivedData.cardList.map((function(t){e.push({name:"".concat(t.name),uuid:t.uuid})})),t=t.set("cardList",Object(r.fromJS)(e))}if(t=t.setIn(["views","issuedate"],i.issuedate).setIn(["views","endissuedate"],i.endissuedate).setIn(["views","chooseDirection"],i.direction).setIn(["views","currentCardItem"],i.cardItem?Object(r.fromJS)(i.cardItem):c.getIn(["views","currentCardItem"])).setIn(["views","currentProjectItem"],i.currentProjectItem).setIn(["views","currentRunningCategoryItem"],i.currentRunningCategoryItem?i.currentRunningCategoryItem:c.getIn(["views","currentRunningCategoryItem"])).setIn(["views","currentRunningTypeItem"],i.currentRunningTypeItem?i.currentRunningTypeItem:c.getIn(["views","currentRunningTypeItem"])),i.reportData){var n=i.reportData,a={incomeAmount:n.incomeAmount,expenseAmount:n.expenseAmount,realIncomeAmount:n.realIncomeAmount,realExpenseAmount:n.realExpenseAmount,balance:n.balance,direction:n.direction};t=t.set("detailsTemp",Object(r.fromJS)(i.reportData.detailList)).set("QcData",Object(r.fromJS)(i.reportData.openDetail)).set("QmData",Object(r.fromJS)(a)).set("currentPage",i.reportData.currentPage).set("pages",i.reportData.pages)}else t=t.set("detailsTemp",c.get("detailsTemp"));return t})),Object(n.a)(e,a.c,(function(){return t.setIn(["views","tableName"],i.value).setIn(["views","chooseDirection"],"double_credit")})),Object(n.a)(e,a.o,(function(){var e=[{key:"".concat(u.B,"double_credit"),label:"\u5168\u90e8\u6d41\u6c34\u7c7b\u522b",childList:[]}],i=[{key:"".concat(u.B,"double_credit").concat(u.B,"\u5168\u90e8\u7c7b\u578b"),label:"\u5168\u90e8\u7c7b\u578b",childList:[]}];return t.set("runningCategoryList",Object(r.fromJS)(e)).set("runningTypeList",Object(r.fromJS)(i)).set("QcData",Object(r.fromJS)([])).set("QmData",Object(r.fromJS)({}))})),Object(n.a)(e,a.j,(function(){if(i.receivedData.cardList){var e=[{name:"\u5168\u90e8",uuid:""}];i.receivedData.cardList&&i.receivedData.cardList.map((function(t){e.push({name:"".concat(t.name),uuid:t.uuid})})),t=t.set("cardList",Object(r.fromJS)(e))}if(t=t.setIn(["views","currentCardItem"],i.cardItem?Object(r.fromJS)(i.cardItem):c.getIn(["views","currentCardItem"])).setIn(["views","currentProjectItem"],i.projectItem),i.reportData){var n=i.reportData,a={incomeAmount:n.incomeAmount,expenseAmount:n.expenseAmount,realIncomeAmount:n.realIncomeAmount,realExpenseAmount:n.realExpenseAmount,balance:n.balance,direction:n.direction};t=t.set("detailsTemp",Object(r.fromJS)(i.reportData.detailList)).set("QcData",Object(r.fromJS)(i.reportData.openDetail)).set("QmData",Object(r.fromJS)(a)).set("currentPage",i.reportData.currentPage).set("pages",i.reportData.pages)}else t=t.set("detailsTemp",c.get("detailsTemp"));return t})),Object(n.a)(e,a.i,(function(){var e=[];i.shouldConcat?e=t.get("detailsTemp").toJS().concat(i.receivedData.detailList):e=i.receivedData.detailList;var n=i.receivedData,a={incomeAmount:n.incomeAmount,expenseAmount:n.expenseAmount,realIncomeAmount:n.realIncomeAmount,realExpenseAmount:n.realExpenseAmount,balance:n.balance,direction:n.direction};return t=t.set("detailsTemp",Object(r.fromJS)(e)).set("QcData",Object(r.fromJS)(i.receivedData.openDetail)).set("QmData",Object(r.fromJS)(a)).set("currentPage",i.receivedData.currentPage).set("pages",i.receivedData.pages)})),Object(n.a)(e,a.f,(function(){if(i.receivedData){var e=i.receivedData,n={incomeAmount:e.incomeAmount,expenseAmount:e.expenseAmount,realIncomeAmount:e.realIncomeAmount,realExpenseAmount:e.realExpenseAmount,balance:e.balance,direction:e.direction};t=t.set("detailsTemp",Object(r.fromJS)(i.receivedData.detailList)).set("QcData",Object(r.fromJS)(i.receivedData.openDetail)).set("QmData",Object(r.fromJS)(n)).set("currentPage",i.receivedData.currentPage).set("pages",i.receivedData.pages)}else t=t.set("detailsTemp",c.get("detailsTemp"));return t=t.setIn(["views","currentCardItem"],i.cardItem).setIn(["views","chooseDirection"],i.chooseDirection).setIn(["views","currentRunningCategoryItem"],i.currentRunningCategoryItem?i.currentRunningCategoryItem:c.getIn(["views","currentRunningCategoryItem"])).setIn(["views","currentRunningTypeItem"],i.currentRunningTypeItem?i.currentRunningTypeItem:c.getIn(["views","currentRunningTypeItem"]))})),Object(n.a)(e,a.g,(function(){var e=i.receivedData,n={incomeAmount:e.incomeAmount,expenseAmount:e.expenseAmount,realIncomeAmount:e.realIncomeAmount,realExpenseAmount:e.realExpenseAmount,balance:e.balance,direction:e.direction};return t=t.set("detailsTemp",Object(r.fromJS)(i.receivedData.detailList)).set("QcData",Object(r.fromJS)(i.receivedData.openDetail)).set("QmData",Object(r.fromJS)(n)).set("currentPage",i.receivedData.currentPage).set("pages",i.receivedData.pages).setIn(["views","Income"===i.selectType?"currentRunningCategoryItem":"currentRunningTypeItem"],i.currentItem)})),Object(n.a)(e,a.b,(function(){return t.get("QcData")&&(t=t.updateIn(["QcData","balance"],(function(e){return-e}))),t.setIn(["views","chooseDirection"],i.direction).updateIn(["QmData","balance"],(function(e){return-e}))})),Object(n.a)(e,a.a,(function(){return t=t.setIn(["views","chooseValue"],i.value)})),e)[i.type]||function(){return t})()}}}]);