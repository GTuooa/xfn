(this.webpackJsonpfannix=this.webpackJsonpfannix||[]).push([[3],{1041:function(t,e,n){"use strict";n.d(e,"f",(function(){return f})),n.d(e,"h",(function(){return s})),n.d(e,"g",(function(){return g})),n.d(e,"e",(function(){return v})),n.d(e,"i",(function(){return l})),n.d(e,"l",(function(){return O})),n.d(e,"m",(function(){return y})),n.d(e,"d",(function(){return E})),n.d(e,"a",(function(){return b})),n.d(e,"j",(function(){return _})),n.d(e,"n",(function(){return T})),n.d(e,"c",(function(){return p})),n.d(e,"k",(function(){return S})),n.d(e,"b",(function(){return A}));n(32),n(55),n(61),n(34),n(31),n(116),n(29),n(82),n(76);var r=n(51),i=n(12),u=n(17),c=n(130),a=n(1057),o=n(2),d=n(14),f=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){o.a.toast.loading(d.p,0),Object(u.g)("pagindvc","POST",JSON.stringify({year:t?t.substr(0,4):"",month:t?t.substr(5,2):"",pageSize:20,currentPage:e+1,getPeriod:"true"}),(function(r){if(Object(i.u)(r)){o.a.toast.hide();var u=n(c.e(r)),d=t||u;r.data.jsonArray;n({type:a.a,receivedData:r,issuedate:d,currentPage:e})}}))}},s=function(t){return function(e){var n=t.substring(0,7);o.a.toast.loading(d.p,0),Object(u.g)("getvclist","POST",JSON.stringify(Object(i.q)(t)),(function(t){Object(i.u)(t)&&(o.a.toast.hide(),e({type:a.h,receivedData:t,issuedate:n}))}))}},g=function(t,e){return function(n){0!=e&&(o.a.toast.loading(d.p,0),Object(u.g)("sortvc","POST",JSON.stringify({year:t.substr(0,4),month:t.substr(5,2),sort:e}),(function(e){Object(i.u)(e,"show",800)&&n(l(t))})))}},v=function(t){return function(e,n){var r=t.get("vclist").filter((function(t){return t.get("selected")})).some((function(t){return t.get("enclosurecount")}))?"\u51ed\u8bc1\u4e0b\u5b58\u5728\u9644\u4ef6,\u9644\u4ef6\u4e5f\u5c06\u88ab\u5220\u9664":"\u786e\u5b9a\u5220\u9664\u5417";o.a.Confirm({message:r,title:"\u63d0\u793a",buttonLabels:["\u53d6\u6d88","\u786e\u5b9a"],onSuccess:function(n){if(1===n.buttonIndex){var r=t.get("vclist"),c=t.get("vclist").filter((function(t){return t.get("selected")})).map((function(t){return t.get("vcindex")})),f=r.size===c.size;o.a.toast.loading(d.p,0),Object(u.g)("deletevc","POST",JSON.stringify({year:t.getIn(["vclist",0,"year"]),month:t.getIn(["vclist",0,"month"]),vcindexlist:c,action:"QUERY_VC-DELETE_VC-BATCH_DELETE"}),(function(n){if(Object(i.u)(n)){if(e({type:a.f,receivedData:n}),Object(u.g)("getperiod","GET","",(function(t){Object(i.u)(t)&&(o.a.toast.hide(),e({type:a.g,receivedData:t}))})),f){var r="".concat(t.getIn(["vclist",0,"year"]),"-").concat(t.getIn(["vclist",0,"month"]));e(l(r))}e(b())}}))}},onFail:function(t){return alert(t)}})}},l=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],c=arguments.length>3?arguments[3]:void 0;return function(f,s){var g=Object(i.q)(t),v=t.substring(0,7),l=s().cxpzState,O=l.get("searchContentType"),y=l.get("condition");!n&&o.a.toast.loading(d.p,0),Object(u.g)("pagindvc","POST",JSON.stringify(Object(r.a)({},g,{pageSize:20,currentPage:e+1,searchContentType:O,condition:y})),(function(t){!n&&o.a.toast.hide(),Object(i.u)(t)&&(n&&c.setState({isLoading:!1}),f({type:a.a,receivedData:t,issuedate:v,currentPage:e}))}))}},O=function(t){return{type:a.l,idx:t}},y=function(){return{type:a.m}},E=function(t){return{type:a.c,idx:t}},b=function(){return{type:a.b}},_=function(t){return{type:a.j,voucher:t}},T=function(){return function(t,e){var n=e().cxpzState.get("issuedate");t({type:a.d,issuedate:n})}},p=function(t,e){return{type:a.e,dataType:t,value:e}},S=function(t){return function(e,n){var r=n().cxpzState.get("vclist"),c=t.split("-"),a=[];r.forEach((function(t){t.get("selected")&&!t.get("reviewedby")&&a.push(t.get("vcindex"))})),o.a.toast.loading(d.p,0),Object(u.g)("reviewvc","POST",JSON.stringify({year:c[0],month:c[1],vcindexlist:a,action:"QUERY_VC-AUDIT"}),(function(n){Object(i.u)(n)&&(o.a.toast.hide(),0==n.data.success&&o.a.Alert(n.data.failList.join("\u3001")),e(l(t)))}))}},A=function(t){return function(e,n){var r=n().cxpzState.get("vclist"),c=t.split("-"),a=[];r.forEach((function(t){t.get("selected")&&t.get("reviewedby")&&a.push(t.get("vcindex"))})),o.a.toast.loading("\u52a0\u8f7d\u4e2d...",0),Object(u.g)("backreviewvc","POST",JSON.stringify({year:c[0],month:c[1],vcindexlist:a,action:"QUERY_VC-CANCEL_AUDIT"}),(function(n){Object(i.u)(n)&&(o.a.toast.hide(),0==n.data.success&&o.a.Alert(n.data.failList.join("\u3001")),e(l(t)))}))}}},1057:function(t,e,n){"use strict";n.d(e,"i",(function(){return r})),n.d(e,"h",(function(){return i})),n.d(e,"f",(function(){return u})),n.d(e,"c",(function(){return c})),n.d(e,"b",(function(){return a})),n.d(e,"m",(function(){return o})),n.d(e,"l",(function(){return d})),n.d(e,"k",(function(){return f})),n.d(e,"a",(function(){return s})),n.d(e,"e",(function(){return g})),n.d(e,"j",(function(){return v})),n.d(e,"g",(function(){return l})),n.d(e,"d",(function(){return O}));var r="INIT_CXPZ",i="GET_VC_LIST_FETCH",u="DELETE_VC_FETCH",c="CHANGE_ALL_VC_CHECKBOX_DISPLAY",a="CANCEL_CHANGE_VC_CHECKBOX_DISPALY",o="SELECT_VC_ALL",d="SELECT_VC",f="REVERSE_VC_LIST",s="AFTER_PAGING_VC",g="CXPZ_CHANGE_DATA",v="PUSH_VOUCHER_TO_LRPZ_REDUCER",l="GET_PERIOD_FETCH",O="CHANGE_FJGL_ISSUEDATE"},1083:function(t,e,n){"use strict";n.d(e,"I",(function(){return r})),n.d(e,"Q",(function(){return i})),n.d(e,"p",(function(){return u})),n.d(e,"P",(function(){return c})),n.d(e,"J",(function(){return a})),n.d(e,"v",(function(){return o})),n.d(e,"w",(function(){return d})),n.d(e,"s",(function(){return f})),n.d(e,"f",(function(){return s})),n.d(e,"g",(function(){return g})),n.d(e,"h",(function(){return v})),n.d(e,"k",(function(){return l})),n.d(e,"i",(function(){return O})),n.d(e,"N",(function(){return y})),n.d(e,"F",(function(){return E})),n.d(e,"M",(function(){return b})),n.d(e,"z",(function(){return _})),n.d(e,"O",(function(){return T})),n.d(e,"d",(function(){return p})),n.d(e,"y",(function(){return S})),n.d(e,"B",(function(){return A})),n.d(e,"K",(function(){return h})),n.d(e,"L",(function(){return C})),n.d(e,"A",(function(){return j})),n.d(e,"j",(function(){return m})),n.d(e,"n",(function(){return N})),n.d(e,"b",(function(){return L})),n.d(e,"t",(function(){return D})),n.d(e,"D",(function(){return I})),n.d(e,"e",(function(){return x})),n.d(e,"x",(function(){return J})),n.d(e,"H",(function(){return P})),n.d(e,"E",(function(){return R})),n.d(e,"q",(function(){return U})),n.d(e,"C",(function(){return V})),n.d(e,"u",(function(){return G})),n.d(e,"m",(function(){return F})),n.d(e,"l",(function(){return H})),n.d(e,"o",(function(){return w})),n.d(e,"c",(function(){return k})),n.d(e,"r",(function(){return z})),n.d(e,"G",(function(){return M})),n.d(e,"a",(function(){return Y})),n.d(e,"R",(function(){return B}));var r="INIT_LRPZ",i="SET_CKPZ_IS_SHOW",u="CHANGE_SELECT_COMPONENT_DISPLAY",c="SELECT_JV",a="INSERT_JV",o="DELETE_JV",d="DELETE_JV_ALL",f="CHANGE_VC_ID",s="CHANGE_JV_ABSTRACT",g="CHANGE_JV_ACID_AND_ACNAME_AND_ASSCATEGORYLIST",v="CHANGE_JV_AMOUNT",l="CHANGE_JV_DIRECTION",O="CHANGE_JV_ASSID_AND_ASSNAME",y="PUSH_VOUCHER_TO_LRPZ_REDUCER",E="GET_LAST_VC_ID_FETCH",b="MODIFY_VCDATE",_="ENTER_JVITEM_FETCH",T="REVIEWED_JVLIST",p="CANCEL_REVIEWED_JVLIST",S="DRAFT_SAVE_FETCH",A="GET_DRAFT_ITEM_FETCH",h="LRPZ_LOCE_DRAFT",C="LRPZ_UN_LOCE_DRAFT",j="GET_AMOUNT_DATA",m="CHANGE_JV_COUNT",N="CHANGE_JV_PRICE",L="AUTO_CALCULATE",D="CLEAR_AC_UNIT_OPEN",I="GET_FJ_DATA",x="CHANGE_ENCLOSURE_LIST",J="DELETE_UPLOAD_IMG_URL",P="GET_UPLOAD",R="GET_LABEL_FETCH",U="CHANGE_TAG_NAME",V="GET_FC_LIST_DATA_FETCH",G="CLEAR_FC_LIST_DATA",F="CHANGE_JV_NUMBER",H="CHANGE_JV_EXCHANGE",w="CHANGE_JV_STANDARDAMOUNT",k="AUTO_CALCULATE_ALL",z="CHANGE_VC_ENCLOSURE_COUNT_USER",M="GET_PERIOD_FETCH",Y="AFTER_GET_UPLOAD_SIGNATURE",B="SET_LRPX_VCLIST"},1090:function(t,e,n){"use strict";n.r(e),n.d(e,"reviewedJvlist",(function(){return v})),n.d(e,"cancelReviewedJvlist",(function(){return l})),n.d(e,"modifyVcDate",(function(){return O})),n.d(e,"enterJvFetch",(function(){return y})),n.d(e,"selectJv",(function(){return b})),n.d(e,"changeSelectComponentDisplay",(function(){return _})),n.d(e,"changeVcId",(function(){return T})),n.d(e,"changeJvAbstract",(function(){return p})),n.d(e,"changeJvAcIdAndAcNameAndAssCategoryList",(function(){return S})),n.d(e,"changeJvAmount",(function(){return A})),n.d(e,"changeJvDirection",(function(){return h})),n.d(e,"insertJv",(function(){return C})),n.d(e,"deleteJv",(function(){return j})),n.d(e,"deleteJvAll",(function(){return m})),n.d(e,"changeJvAssIdAndAssName",(function(){return N})),n.d(e,"getVcFetch",(function(){return L})),n.d(e,"draftSaveFetch",(function(){return D})),n.d(e,"getDraftItemFetch",(function(){return I})),n.d(e,"lockDraft",(function(){return x})),n.d(e,"unLockDraft",(function(){return J})),n.d(e,"deleteDraft",(function(){return P})),n.d(e,"getAmountDataFetch",(function(){return R})),n.d(e,"changeJvCount",(function(){return U})),n.d(e,"changeJvPrice",(function(){return V})),n.d(e,"autoCalculate",(function(){return G})),n.d(e,"clearAcUnitOpen",(function(){return F})),n.d(e,"getUploadGetTokenFetch",(function(){return H})),n.d(e,"changeEnclosureList",(function(){return w})),n.d(e,"changeVcEnclosureCountUser",(function(){return k})),n.d(e,"deleteUploadImgUrl",(function(){return z})),n.d(e,"initLabel",(function(){return M})),n.d(e,"getLabelFetch",(function(){return Y})),n.d(e,"changeTagName",(function(){return B})),n.d(e,"uploadFiles",(function(){return q})),n.d(e,"getFCListDataFetch",(function(){return K})),n.d(e,"clearFCListData",(function(){return Z})),n.d(e,"changeJvStandardAmount",(function(){return Q})),n.d(e,"changeJvNumber",(function(){return X})),n.d(e,"changeJvExchange",(function(){return W})),n.d(e,"autoCalculateAll",(function(){return $})),n.d(e,"deletePz",(function(){return tt}));n(32),n(55),n(98),n(115),n(61),n(33),n(31),n(219),n(116),n(133),n(41),n(77),n(65),n(1091),n(76);var r=n(51),i=n(12),u=n(17),c=n(1083),a=n(1041),o=n(2),d=n(14),f=n(1260),s=n(552),g=n(1),v=function(t,e,n){return function(r,f){o.a.toast.loading(d.p,0);var s=f().homeState.getIn(["data","userInfo","username"]);Object(u.g)("reviewvc","POST",JSON.stringify({year:t,month:e,vcindexlist:[n],action:"QUERY_VC-AUDIT"}),(function(n){if(Object(i.u)(n))if(o.a.toast.hide(),n.data.success>0){r({type:c.O,reviewedby:s});var u="".concat(t,"-").concat(e);r(a.h(u))}else alert(n.data.failList[0])}))}},l=function(t,e,n){return function(r){o.a.toast.loading("\u52a0\u8f7d\u4e2d...",0),Object(u.g)("backreviewvc","POST",JSON.stringify({year:t,month:e,vcindexlist:[n],action:"QUERY_VC-CANCEL_AUDIT"}),(function(n){if(Object(i.u)(n))if(o.a.toast.hide(),n.data.success>0){r({type:c.d});var u="".concat(t,"-").concat(e);r(a.h(u))}else alert(n.data.failList[0])}))}},O=function(t,e){return function(n){var r=new i.a(t);r.valueOf().substr(0,7)===e.substr(0,7)?n({type:c.M,date:r.valueOf()}):(o.a.toast.loading(d.p,0),Object(u.g)("getlastvcindex","POST",JSON.stringify({year:r.getYear(),month:r.getMonth()}),(function(t){Object(i.u)(t)&&(o.a.toast.hide(),n({type:c.F,receivedData:t,vcdate:r}))})))}},y=function t(e,n,r,f){return function(g,v){var l=v().lrpzState,O=l.get("jvlist").filter((function(t){return t.get("acid")||t.get("jvabstract")||t.get("jvamount")})),y=[],b=v().homeState.getIn(["data","userInfo","sobInfo","sobId"]),_=v().homeState.getIn(["data","userInfo","useruuid"]),T=(new Date).getTime(),p="/annex/".concat(b,"/").concat(_,"/").concat(T);if(0==O.size)return o.a.Alert("\u51ed\u8bc1\u5206\u5f55\u4e0d\u80fd\u4e3a\u7a7a");if(O.forEach((function(t,e){var n=t.get("jvabstract").trim();if(n){if("\u7ed3\u8f6c\u672c\u671f\u635f\u76ca"===n){var r=e+1;y.push("\u7b2c"+r+'\u884c\u6458\u8981"\u7ed3\u8f6c\u672c\u671f\u635f\u76ca"\u4e3a\u7cfb\u7edf\u4fdd\u7559\u6458\u8981\u5b57\u6bb5\uff0c\u8bf7\u901a\u8fc7"\u7ed3\u8d26"\u529f\u80fd\u7ed3\u8f6c\u672c\u671f\u635f\u76ca')}else if("\u7ed3\u8f6c\u672c\u5e74\u5229\u6da6"===n){var i=e+1;y.push("\u7b2c"+i+'\u884c\u6458\u8981"\u7ed3\u8f6c\u672c\u5e74\u5229\u6da6"\u4e3a\u7cfb\u7edf\u4fdd\u7559\u6458\u8981\u5b57\u6bb5\uff0c\u8bf7\u901a\u8fc7"\u7ed3\u8d26"\u529f\u80fd\u7ed3\u8f6c\u672c\u5e74\u5229\u6da6')}else if("\u671f\u672b\u6c47\u5151\u635f\u76ca"===n){var u=e+1;y.push("\u7b2c"+u+'\u884c\u6458\u8981"\u671f\u672b\u6c47\u5151\u635f\u76ca"\u4e3a\u7cfb\u7edf\u4fdd\u7559\u6458\u8981\u5b57\u6bb5\uff0c\u8bf7\u901a\u8fc7"\u7ed3\u8d26"\u529f\u80fd\u8c03\u6574\u6c47\u5151\u635f\u76ca')}else if("\u8ba1\u63d0\u6298\u65e7\u644a\u9500\u8d39\u7528"===n){var c=e+1;y.push("\u7b2c"+c+'\u884c\u6458\u8981"\u8ba1\u63d0\u6298\u65e7\u644a\u9500\u8d39\u7528"\u4e3a\u7cfb\u7edf\u4fdd\u7559\u6458\u8981\u5b57\u6bb5\uff0c\u8bf7\u901a\u8fc7\u7cfb\u7edf\u76f8\u5173\u529f\u80fd\u751f\u6210\u6298\u65e7\u644a\u9500\u51ed\u8bc1')}}else{var a=e+1;y.push("\u7b2c"+a+"\u6761\u5206\u5f55\u5b58\u5728\u672a\u586b\u5199\u5b8c\u6574\u7684\u6458\u8981")}if(t.get("jvabstract").length>d.q){var o=e+1;y.push("\u7b2c"+o+"\u884c\u6458\u8981\u957f\u5ea6\u4e0d\u80fd\u8d85\u8fc7"+d.q+"\u4e2a\u5b57\u7b26")}if(!t.get("acid")){var f=e+1;y.push("\u7b2c"+f+"\u6761\u5206\u5f55\u5b58\u5728\u672a\u586b\u5199\u5b8c\u6574\u7684\u79d1\u76ee")}if(""===t.get("jvamount")){var s=e+1;y.push("\u7b2c"+s+"\u6761\u5206\u5f55\u5b58\u5728\u672a\u586b\u5199\u5b8c\u6574\u7684\u91d1\u989d")}if(t.get("asslist").some((function(t){return""===t.get("assid")}))){var g=e+1;y.push("\u7b2c"+g+"\u6761\u5206\u5f55\u5b58\u5728\u672a\u586b\u5199\u5b8c\u6574\u7684\u8f85\u52a9\u6838\u7b97")}if(t.get("jvamount")&&t.get("price")&&"1"==t.get("acunitOpen")&&!t.get("jvcount")){var v=e+1;y.push("\u7b2c"+v+"\u884c\u5b58\u5728\u672a\u586b\u5199\u5b8c\u6574\u7684\u6570\u91cf")}var E=l.getIn(["flags","currencyList"]).find((function(t){return"1"==t.get("standard")})),b=E?E.get("fcNumber"):void 0;if(t.get("fcNumber")==b&&t.get("standardAmount")&&t.get("jvamount")&&Number(t.get("standardAmount"))!=Number(t.get("jvamount"))){var _=e+1;y.push("\u7b2c"+_+"\u884c\u4e3a\u672c\u4f4d\u5e01\uff1a"+E.get("name")+"\uff0c\u8bf7\u8c03\u6574\u6c47\u7387\u4e3a1")}if(t.get("jvamount")&&("1"==t.get("fcStatus")||t.get("fcNumber"))&&!t.get("standardAmount")&&t.get("fcNumber")==b){var T=E?E.get("fcNumber"):"",p=E?E.get("exchange"):"";O=O.setIn([e,"fcNumber"],T).setIn([e,"exchange"],p).setIn([e,"standardAmount"],t.get("jvamount"))}})),y.length)return Object(i.u)("","","",y.reduce((function(t,e){return t+","+e})));if(l.getIn(["flags","debitTotal"])!==l.getIn(["flags","creditTotal"]))return Object(i.u)("","","","\u501f\u8d37\u4e0d\u5e73\u8861");if(!l.get("vcindex"))return Object(i.u)("","","","\u51ed\u8bc1\u53f7\u672a\u8f93\u5165");if(!l.get("vcdate"))return Object(i.u)("","","","\u65e5\u671f\u672a\u8f93\u5165");o.a.toast.loading(d.p,0);var S={vcindex:l.get("vcindex"),year:l.get("year"),month:l.get("month"),vcdate:l.get("vcdate"),enclosureCountUser:l.get("enclosureCountUser"),jvlist:O.map((function(t,e){return t.set("jvindex",(++e).toString())}))};({modify:function(){Object(u.g)("modifyvc","POST",JSON.stringify(Object.assign(S,{oldvcindex:l.get("oldvcindex"),oldyear:l.get("oldyear"),oldmonth:l.get("oldmonth"),createdtime:l.get("createdtime"),createdby:l.get("createdby"),closeby:l.get("closeby"),reviewedby:l.get("reviewedby"),enclosureList:l.get("enclosureList"),dirUrl:p,autoEncode:r})),(function(t){if(0===t.code){o.a.toast.success("\u4fee\u6539\u51ed\u8bc1\u6210\u529f"),g(E(t,e,"",""));var d=l.get("vcdate");g(a.h(d)),g(L(d,t.data.vcindex)),Object(u.g)("uploadgetfile","POST",JSON.stringify({vcindex:t.data.vcindex,year:l.get("year"),month:l.get("month")}),(function(t){Object(i.u)(t)&&g({type:c.H,receivedData:t.data})})),""!=r&&n()}15002===t.code?f.getIn(["arrange","permission"])?(n(),o.a.toast.hide()):o.a.toast.info("\u51ed\u8bc1\u53f7\u5df2\u5b58\u5728",2,(function(){return o.a.toast.hide()})):Object(i.u)(t)}))},insert:function(){Object(u.g)("insertvc","POST",JSON.stringify(Object.assign(S,{vcModelKey:l.get("vckey"),dirUrl:p,enclosureList:l.get("enclosureList"),autoEncode:r})),(function(a){if(0===a.code){o.a.toast.hide(),o.a.toast.success("\u65b0\u589e\u51ed\u8bc1\u6210\u529f");var d=Object(i.m)(),O=v().homeState.getIn(["data","userInfo","username"]),y=a.data.vcindex;e&&Object(u.g)("getlastvcindex","POST",JSON.stringify({year:l.get("year"),month:l.get("month")}),(function(t){Object(i.u)(t)&&(y=t.data)})),g(E(a,e,d,O,y)),Object(u.g)("getperiod","GET","",(function(t){if(Object(i.u)(t)&&(g({type:c.G,receivedData:t}),!0!==e)){var n=l.get("vcdate");sessionStorage.setItem("router-from","lrpz"),g(s.d(!0)),g(L(n,y))}})),Object(u.g)("uploadgetfile","POST",JSON.stringify({vcindex:y,year:l.get("year"),month:l.get("month")}),(function(t){Object(i.u)(t)&&g({type:c.H,receivedData:t.data})})),""!=r&&""!=n&&n()}else if(15002===a.code)if(f.getIn(["arrange","permission"]))n(),o.a.toast.hide();else{g(t("","",!0,f))}else Object(i.u)(a)}))}})[sessionStorage.getItem("lrpzHandleMode")]()}},E=function(t,e,n,r,i){return{type:c.z,receivedData:t,refresh:e,createdtime:n,createdby:r,NewVcIndex:i}},b=function(t){return{type:c.P,idx:t}},_=function(){return{type:c.p}},T=function(t){return{type:c.s,vcindex:t}},p=function(t,e){return{type:c.f,jvabstract:t,idx:e}},S=function(t,e,n,r,i){return{type:c.g,idx:t,acid:e,acname:r,acfullname:n,asscategorylist:i}},A=function(t,e){return{type:c.h,jvamount:t,idx:e}},h=function(t){return{type:c.k,idx:t}},C=function(t){return{type:c.J,idx:t}},j=function(t){return{type:c.v,idx:t}},m=function(){return{type:c.w}},N=function(t,e,n,r){return{type:c.i,idx:t,assid:e,assname:n,asscategory:r}},L=function(t,e){return function(n){var c=Object(i.q)(t);Object(u.g)("getvc","POST",JSON.stringify(Object(r.a)({},c,{vcindex:e})),(function(t){Object(i.u)(t)&&(sessionStorage.setItem("lrpzHandleMode","modify"),n(Object(a.j)(t.data)))}))}},D=function(){return function(t,e){var n=e().lrpzState,r=[];if(n.get("jvlist").filter((function(t){return t.get("acid")||t.get("jvabstract")||t.get("jvamount")})).map((function(t,e){if(t.get("jvabstract").length>d.q){var n=e+1;r.push("\u7b2c"+n+"\u884c\u6458\u8981\u957f\u5ea6\u4e0d\u80fd\u8d85\u8fc7"+d.q+"\u4e2a\u5b57\u7b26")}})),r.length)return Object(i.u)("","","",r.reduce((function(t,e){return t+","+e})));if(!n.get("vcindex"))return Object(i.u)("","","","\u51ed\u8bc1\u53f7\u672a\u8f93\u5165");if(!n.get("vcdate"))return Object(i.u)("","","","\u65e5\u671f\u672a\u8f93\u5165");var a={vcindex:n.get("vcindex"),year:n.get("year"),month:n.get("month"),vcdate:n.get("vcdate"),jvlist:n.get("jvlist").map((function(t,e){return t.set("jvindex",(++e).toString())})),enclosureCountUser:n.get("enclosureCountUser")};o.a.toast.loading(d.p,0),n.get("vckey")?Object(u.g)("modifydraft","POST",JSON.stringify(Object.assign(a,{createdtime:n.get("createdtime"),createdby:n.get("createdby"),closeby:n.get("closeby"),reviewedby:n.get("reviewedby"),vckey:n.get("vckey")})),(function(e){Object(i.u)(e)&&("1"==n.getIn(["flags","locked"])?o.a.toast.success("\u65b0\u589e\u8349\u7a3f\u6210\u529f"):"1"==e.data.isModify?o.a.toast.success("\u4fee\u6539\u8349\u7a3f\u6210\u529f"):o.a.toast.success("\u65b0\u589e\u8349\u7a3f\u6210\u529f"),t({type:c.y,receivedData:e.data.vckey}))})):Object(u.g)("insertdraft","POST",JSON.stringify(a),(function(e){Object(i.u)(e)&&(o.a.toast.success("\u65b0\u589e\u8349\u7a3f\u6210\u529f"),t({type:c.y,receivedData:e.data}))}))}},I=function(t){return function(e,n){n().allState;o.a.toast.loading(d.p,0),Object(u.g)("getdraft","POST",JSON.stringify({vckey:t}),(function(t){if(Object(i.u)(t)){o.a.toast.hide();var n=t.data;e({type:c.B,getDraftItem:n,judgeLocked:!1})}}))}},x=function(t){return function(e){o.a.toast.loading(d.p,0),Object(u.g)("lockdraft","POST",JSON.stringify({vcKeyList:[t]}),(function(t){Object(i.u)(t)&&(o.a.toast.hide(),e({type:c.K}))}))}},J=function(t){return function(e){o.a.toast.loading(d.p,0),Object(u.g)("unlockdraft","POST",JSON.stringify({vcKeyList:[t]}),(function(t){Object(i.u)(t)&&(o.a.toast.hide(),e({type:c.L}))}))}},P=function(t,e){return function(n){o.a.toast.loading(d.p,0),Object(u.g)("deletedraft","POST",JSON.stringify({vcKeyList:[t]}),(function(t){Object(i.u)(t)&&(o.a.toast.hide(),e.goBack(),n(f.a("\u5168\u90e8")))}))}},R=function(t,e,n,r,a,f,s){return function(g){var v=new i.q(e);o.a.toast.loading(d.p,0),Object(u.g)("getAmountData","POST",JSON.stringify({acid:t,date:e,year:v.year,month:v.month,assid:r,asscategory:a,assidTwo:f,asscategoryTwo:s}),(function(t){Object(i.u)(t)&&(o.a.toast.hide(),g({type:c.A,receivedData:t.data,idx:n}))}))}},U=function(t,e,n){return{type:c.j,jvCount:t,idx:e,unitDecimalCount:n}},V=function(t,e){return{type:c.n,jvPrice:t,idx:e}},G=function(t,e,n){return{type:c.b,idx:t,value:e,unitDecimalCount:n}},F=function(t){return{type:c.t,idx:t}},H=function(){return function(t,e){var n=e().allState.get("expire"),r=Date.parse(new Date)/1e3;console.log(n,r,n<r+300),n<r+300&&Object(u.g)("aliyunOssPolicy","GET","",(function(e){t({type:c.a,receivedData:e.data,code:e.code})}))}},w=function(t){return{type:c.e,imgArr:t}},k=function(t){return{type:c.r,value:t}},z=function(t){return{type:c.x,index:t}},M=function(){return function(t){Object(u.g)("initLabel","POST",JSON.stringify({year:"2017"}),(function(e){Object(i.u)(e)&&t(Y())}))}},Y=function(){return function(t){Object(u.g)("getFjLabelData","POST","",(function(e){Object(i.u)(e)&&t({type:c.E,receivedData:e})}))}},B=function(t,e){return{type:c.q,index:t,value:e}},q=function(t,e,n,r){return function(e,i){var a=[];a.push({fileName:n,enclosurePath:t.data.enclosurePath,size:(t.data.size/1024).toFixed(2),imageOrFile:t.data.mimeType.toString().toUpperCase().indexOf("IMAGE")>-1?"TRUE":"FALSE",label:"\u65e0\u6807\u7b7e",beDelete:!1,mimeType:t.data.mimeType}),Object(u.g)("insertEnclosure","POST",JSON.stringify({enclosureList:a}),(function(t){0===t.code&&e({type:c.e,imgArr:t.data.enclosureList}),r&&o.a.toast.hide()}))}},K=function(t){return function(e){Object(u.g)("getFCList","GET","",(function(n){Object(i.u)(n)&&e({type:c.C,receivedData:n.data,idx:t})}))}},Z=function(t){return{type:c.u,idx:t}},Q=function(t,e){return{type:c.o,idx:t,value:e}},X=function(t,e,n){return{type:c.m,idx:t,fcNumber:e,exchange:n}},W=function(t,e){return{type:c.l,idx:t,value:e}},$=function(t,e){return{type:c.c,idx:t,value:e}},tt=function(t,e,n,r){return function(c,a){var d=a().lrpzState.get("enclosureCountUser"),f=a().lrpzState.get("vcList").toJS(),v=d>0?"\u51ed\u8bc1\u4e0b\u5b58\u5728\u9644\u4ef6,\u9644\u4ef6\u4e5f\u5c06\u88ab\u5220\u9664":"\u786e\u5b9a\u5220\u9664\u5417";o.a.Confirm({message:v,title:"\u63d0\u793a",buttonLabels:["\u53d6\u6d88","\u786e\u5b9a"],onSuccess:function(a){1===a.buttonIndex&&Object(u.g)("deletevc","POST",JSON.stringify({year:t,month:e,vcindexlist:[n],action:"QUERY_VC-DELETE_VC"}),(function(t){if(Object(i.u)(t)){var e=f.findIndex((function(t,e){return t.vcindex===n}));if(e===f.length-1)r.goBack();else{var u={};!function t(e){if(!f[e+1]||f[e+1].vcindex!==n)return u=f[e+1],f[e+1];t(e+1)}(e),u?c(s.a(Object(g.fromJS)(u),Object(g.fromJS)(f))):r.goBack()}}}))},onFail:function(t){return alert(t)}})}}},1260:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return d}));n(1);var r=n(1335),i=n(17),u=n(12),c=n(14),a=n(2),o=function(t){return function(e){a.a.toast.loading(c.p,0),"\u5168\u90e8"===t?Object(i.g)("getdraftlist","POST",JSON.stringify({status:"-1"}),(function(t){Object(u.u)(t)&&(a.a.toast.hide(),e({type:r.a,receivedData:t.data,selectDraftType:"\u5168\u90e8"}))})):"\u672a\u9501\u5b9a"===t?Object(i.g)("getdraftlist","POST",JSON.stringify({status:"0"}),(function(t){Object(u.u)(t)&&(a.a.toast.hide(),e({type:r.a,receivedData:t.data,selectDraftType:"\u672a\u9501\u5b9a"}))})):Object(i.g)("getdraftlist","POST",JSON.stringify({status:"1"}),(function(t){Object(u.u)(t)&&(a.a.toast.hide(),e({type:r.a,receivedData:t.data,selectDraftType:"\u5df2\u9501\u5b9a"}))}))}},d=function(t){return{type:r.c,value:t}}},1335:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"c",(function(){return i})),n.d(e,"b",(function(){return u}));var r="GET_DRAFT_LIST_FETCH",i="SEARCH_DRAFT_ITEM",u="INIT_DRAFT"}}]);