(this.webpackJsonpfannix=this.webpackJsonpfannix||[]).push([[48],{1142:function(e,t,a){},1198:function(e,t,a){"use strict";a.d(t,"d",(function(){return s})),a.d(t,"b",(function(){return n})),a.d(t,"e",(function(){return r})),a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){return c}));var s="INIT_ASSETSYEB",n="GET_ASSETS_DETAILFETCH",r="TOGGLELOWERDETAILASSETS",i="GET_DETAIL_LIST_SINGLE",c="CHANGE_ASSETS_MXB_CURRENTPAGE"},1253:function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"c",(function(){return d})),a.d(t,"e",(function(){return b})),a.d(t,"d",(function(){return f})),a.d(t,"b",(function(){return g}));a(32);var s=a(12),n=a(17),r=a(130),i=a(1198),c=a(2),u=a(14),o=function(e,t){return function(a){a(l(e,t,"true"))}},l=function(e,t,a){return function(i){var o=e?"".concat(e.substr(0,4)).concat(e.substr(5,2)):"",l=t?"".concat(t.substr(0,4)).concat(t.substr(5,2)):o;c.a.toast.loading(u.p,0),Object(n.g)("getassetsdetailmore","POST",JSON.stringify({begin:o,end:l,getPeriod:a}),(function(t){if(Object(s.u)(t)){c.a.toast.hide();var a=i(r.e(t)),n=e||a;i(m(t.data.mainData.detailList,n,""))}}))}},d=function(e,t){return function(a){var r=e?"".concat(e.substr(0,4)).concat(e.substr(5,2)):"",i=t?"".concat(t.substr(0,4)).concat(t.substr(5,2)):r;c.a.toast.loading(u.p,0),Object(n.g)("getassetsdetailmore","POST",JSON.stringify({begin:r,end:i}),(function(n){Object(s.u)(n)&&(c.a.toast.hide(),a(m(n.data.mainData.detailList,e,t)))}))}},m=function(e,t,a){return function(s){s({type:i.b,receivedData:e,issuedate:t,endissuedate:a})}},b=function(e){return{type:i.e,serialNumber:e}},f=function(e,t,a,r,o){return function(l){var d=r?"".concat(r.substr(0,4)).concat(r.substr(5,2)):"",m=o?"".concat(o.substr(0,4)).concat(o.substr(5,2)):d;c.a.toast.loading(u.p,0),Object(n.g)("getMxList","POST",JSON.stringify({begin:d,end:m,serialNumber:e}),(function(n){Object(s.u)(n)&&l({type:i.c,serialNumber:e,serialName:t,prePage:a,issuedate:r,endissuedate:o,receivedData:n.data.mainData})}))}},g=function(e){return{type:i.a,currentPage:e}}},1311:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));a(55),a(33),a(31);var s=a(4),n=a(1),r=a(1198),i=Object(n.fromJS)({issuedate:"",endissuedate:"",currentPage:1,showedLowerAssdetalList:[],detailassetslist:[{alreadyTime:0,cardValue:0,currentDepreciation:0,serialName:"",serialNumber:"",termDepreciation:0,totalTime:0,upperNumber:""}],assetsClass:{serialName:"",serialNumber:""},classification:{serialName:"",serialNumber:""},detailMxList:{1:[],2:[],3:[],4:[],5:[]},detailMx:{}});function c(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,a=arguments.length>1?arguments[1]:void 0;return((e={},Object(s.a)(e,r.d,(function(){return i})),Object(s.a)(e,r.b,(function(){return t.set("detailassetslist",Object(n.fromJS)(a.receivedData)).set("issuedate",a.issuedate).set("endissuedate",a.endissuedate).set("showedLowerAssdetalList",Object(n.fromJS)([]))})),Object(s.a)(e,r.e,(function(){return t.get("showedLowerAssdetalList").indexOf(a.serialNumber)>-1?t.update("showedLowerAssdetalList",(function(e){return e.map((function(e){return e.indexOf(a.serialNumber)>-1?"":e})).filter((function(e){return!!e}))})):t.update("showedLowerAssdetalList",(function(e){return e.push(a.serialNumber)}))})),Object(s.a)(e,r.c,(function(){var e=a.serialNumber,s=a.serialName;return 1===e.length?t=t.setIn(["assetsClass","serialNumber"],a.serialNumber).setIn(["assetsClass","serialName"],s).setIn(["classification","serialNumber"],"").setIn(["classification","serialName"],""):3===e.length?t="index"===a.prePage?t.setIn(["assetsClass","serialNumber"],a.receivedData.cardList[0].assetsNumber).setIn(["assetsClass","serialName"],a.receivedData.cardList[0].assetsName).setIn(["classification","serialNumber"],a.serialNumber).setIn(["classification","serialName"],s):t.setIn(["classification","serialNumber"],a.serialNumber).setIn(["classification","serialName"],s):"\u5168\u90e8"===e&&(t=t.setIn(["classification","serialNumber"],"").setIn(["classification","serialName"],"")),t=t.set("detailMx",Object(n.fromJS)(a.receivedData)).set("issuedate",a.issuedate).set("endissuedate",a.endissuedate).set("currentPage",1)})),Object(s.a)(e,r.a,(function(){return t=t.set("currentPage",a.currentPage)})),e)[a.type]||function(){return t})()}},1832:function(e,t,a){},979:function(e,t,a){"use strict";a.r(t),a.d(t,"reducer",(function(){return E})),a.d(t,"view",(function(){return v}));a(32),a(55),a(115),a(33),a(31),a(56),a(116);var s,n,r=a(7),i=a(8),c=a(9),u=a(10),o=a(0),l=a.n(o),d=a(47),m=(a(1),a(2)),b=a(1253),f=a(542),g=a(11),N=a(130),p=(a(1832),a(1142),a(24)),h=Object(p.immutableRenderDecorator)(s=function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.assetsItem,a=(e.idx,e.style),s=e.hasSub,n=e.dispatch,r=e.className,i=e.issuedate,c=e.endissuedate,u=e.isExpanded,o=e.history,d=t.get("serialNumber"),m=d.length,f=(m-1)/200*10+"rem",N={background:{1:"#fff",3:"#D1C0A5"}[m],width:f};return l.a.createElement("div",{className:"assetsItem "+r,style:a},l.a.createElement("div",null,l.a.createElement("span",{className:"name",onClick:function(e){n(b.d(d,t.get("serialName"),"index",i,c)),o.push("/assetsmxb")}},"0rem"==f?"":l.a.createElement("span",{className:"ba-flag",style:N}),l.a.createElement("span",{className:"name-name"},t.get("serialNumber")+"_"+t.get("serialName"))),l.a.createElement("span",{className:"btn",onClick:function(){return 1===m?n(b.e(t.get("serialNumber"))):{}}},l.a.createElement(g.l,{type:"arrow-down",style:{visibility:s?"visible":"hidden",transform:u?"rotate(180deg)":"",marginTop:".05rem"}}))),l.a.createElement("div",{className:"assetsitem-info",onClick:function(){return 1===m?n(b.e(t.get("serialNumber"))):{}}},l.a.createElement(g.a,{showZero:!0},t.get("cardValue")),l.a.createElement(g.a,{showZero:!0},t.get("sumStarDepreciation")),l.a.createElement(g.a,{showZero:!0},t.get("currentDepreciation")),l.a.createElement(g.a,{showZero:!0},t.get("endNetWorth"))))}}]),a}(l.a.Component))||s,v=Object(d.c)((function(e){return e}))(n=function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"componentDidMount",value:function(){m.a.setTitle({title:"\u8d44\u4ea7\u4f59\u989d\u8868"}),m.a.setIcon({showIcon:!1}),"home"===sessionStorage.getItem("prevPage")&&(sessionStorage.removeItem("prevPage"),this.props.dispatch(b.a()))}},{key:"render",value:function(){var e=this.props,t=e.dispatch,a=e.allState,s=e.assetsYebState,n=e.history,r=s.get("detailassetslist").toSeq().filter((function(e){return e.get("serialNumber").length<7})),i=s.get("issuedate"),c=s.get("showedLowerAssdetalList"),u=a.get("issues"),o=s.get("endissuedate"),d=u.findIndex((function(e){return e.get("value")===i})),m=u.slice(0,d),p=r.map((function(e,t){var a=e.get("serialNumber"),s=r.getIn([t+1,"serialNumber"]);return e.set("hasSub",!!s&&0===s.indexOf(a))})),v=o||i;return t(N.i("lrb",(function(){return function(e){return e(N.a("pdfAssetsBa",{begin:"".concat(i.substr(0,4)).concat(i.substr(5,2)),end:"".concat(v.substr(0,4)).concat(v.substr(5,2))}))}}),(function(){return function(e){return e(N.a("excelAssetsBalance",{begin:"".concat(i.substr(0,4)).concat(i.substr(5,2)),end:"".concat(v.substr(0,4)).concat(v.substr(5,2))}))}}))),l.a.createElement(g.h,{className:"kmyeb"},l.a.createElement(f.f,{issuedate:i,source:u,callback:function(e){return t(b.c(e,o))},onOk:function(e){return t(b.c(e.value,o))},showSwitch:!0,endissuedate:o,nextperiods:m,onBeginOk:function(e){t(b.c(e.value,""))},onEndOk:function(e){t(b.c(i,e.value))},changeEndToBegin:function(){return t(b.c(i,""))}}),l.a.createElement(g.r,{className:"ba-title"},l.a.createElement("div",{className:"ba-title-item"},"\u8d44\u4ea7\u539f\u503c"),l.a.createElement("div",{className:"ba-title-item"},"\u7d2f\u8ba1(\u6298/\u644a)"),l.a.createElement("div",{className:"ba-title-item"},"\u672c\u671f(\u6298/\u644a)"),l.a.createElement("div",{className:"ba-title-item"},"\u671f\u672b\u51c0\u503c")),l.a.createElement(g.s,{flex:"1",uniqueKey:"Assetskmyeb-scroll",savePosition:!0},l.a.createElement("div",{className:"ba-list"},p.map((function(e,a){var s=e.get("serialNumber"),r=e.get("upperNumber")||e.get("upperAssetsNumber"),u=s.length>1?"#FEF3E3":"#fff",d=1===s.length||c.some((function(e){return r===e}))?"":"none",m=c.some((function(e){return s===e}));return l.a.createElement(h,{key:a,className:s.length>1?"upacid":"",issuedate:i,endissuedate:o,style:{backgroundColor:u,display:d},assetsItem:e,hasSub:e.get("hasSub"),isExpanded:m,dispatch:t,history:n})})))))}}]),a}(l.a.Component))||n,E={assetsYebState:a(1311).a}}}]);