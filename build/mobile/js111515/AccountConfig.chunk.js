(this.webpackJsonpfannix=this.webpackJsonpfannix||[]).push([[33],{1037:function(e,t,a){"use strict";a.d(t,"c",(function(){return n})),a.d(t,"b",(function(){return c})),a.d(t,"a",(function(){return o}));var n=[{key:"2%",value:2},{key:"3%",value:3},{key:"4%",value:4},{key:"5%",value:5},{key:"6%",value:6},{key:"9%",value:9},{key:"10%",value:10},{key:"11%",value:11},{key:"12%",value:12},{key:"13%",value:13},{key:"16%",value:16},{key:"17%",value:17}],c=[{key:"2%",value:2},{key:"3%",value:3},{key:"5%",value:5}],o={LX_SR:"\u6536\u5165",LX_ZC:"\u652f\u51fa",LX_JZCB:"\u7ed3\u8f6c\u6210\u672c",LX_CBTH:"\u6210\u672c\u9000\u56de",LX_ZZS_YKP:"\u5df2\u5f00\u53d1\u7968",LX_ZZS_WKP:"\u672a\u5f00\u53d1\u7968",LX_ZZS_YRZ:"\u5df2\u8ba4\u8bc1\u53d1\u7968",LX_ZZS_WRZ:"\u672a\u8ba4\u8bc1\u53d1\u7968",LX_TSSF_YKP:"\u5df2\u5f00\u53d1\u7968",LX_TSSF_WKP:"\u672a\u5f00\u53d1\u7968",LX_TGSF_YRZ:"\u5df2\u8ba4\u8bc1\u53d1\u7968",LX_TGSF_WRZ:"\u672a\u8ba4\u8bc1\u53d1\u7968",LX_YYSR:"\u8425\u4e1a\u6536\u5165",LX_PP:"\u9884\u6536\u6b3e",LX_ZZS:"\u589e\u503c\u7a0e",LX_YYTS:"\u9000\u552e",LX_TSSF:"\u9000\u552e\u7a0e\u8d39",LX_ARHX:"\u5e94\u6536\u6838\u9500",LX_PPHX:"\u9884\u6536\u6838\u9500",LX_TSHX:"\u9000\u552e\u6838\u9500",LX_YYZC:"\u8425\u4e1a\u652f\u51fa",LX_AP:"\u9884\u4ed8\u6b3e",LX_ADV:"\u5e94\u4ed8\u6b3e",LX_YYTG:"\u9000\u8d2d",LX_TGSF:"\u9000\u8d2d\u7a0e\u8d39",LX_APHX:"\u5e94\u4ed8\u6838\u9500",LX_ADVHX:"\u9884\u4ed8\u6838\u9500",LX_TGHX:"\u9000\u8d2d\u6838\u9500",LX_FYZC:"\u8d39\u7528\u652f\u51fa",LX_JTGZXJ:"\u8ba1\u63d0\u5de5\u8d44",LX_GZXJZC:"\u5de5\u8d44\u652f\u51fa",LX_DKGJJ:"\u4ee3\u6263\u516c\u79ef\u91d1",LX_DKSHBX:"\u4ee3\u6263\u793e\u4fdd",LX_DKSDS:"\u4ee3\u6263\u6240\u5f97\u7a0e",LX_JTSB:"\u8ba1\u63d0\u793e\u4fdd",LX_SBZC:"\u793e\u4fdd\u652f\u51fa",LX_DJSB:"\u4ee3\u7f34\u793e\u4fdd",LX_JTGJJ:"\u8ba1\u63d0\u516c\u79ef\u91d1",LX_GJJZC:"\u516c\u79ef\u91d1\u652f\u51fa",LX_DJGJJ:"\u4ee3\u7f34\u516c\u79ef\u91d1",LX_FLFZC:"\u798f\u5229\u8d39\u652f\u51fa",LX_JTQTXC:"\u8ba1\u63d0\u5176\u4ed6\u85aa\u916c",LX_QTXC:"\u5176\u4ed6\u85aa\u916c\u652f\u51fa",LX_YJSF:"\u9884\u4ea4\u7a0e\u8d39",LX_ZZSZC:"\u589e\u503c\u7a0e\u652f\u51fa",LX_YJDK:"\u9884\u4ea4\u62b5\u6263",LX_ZCSDS:"\u8f6c\u51fa\u6240\u5f97\u7a0e",LX_SDSZC:"\u6240\u5f97\u7a0e\u652f\u51fa",LX_JTSF:"\u8ba1\u63d0\u7a0e\u8d39",LX_QTSFZC:"\u5176\u4ed6\u7a0e\u8d39\u652f\u51fa",LX_YYWSR:"\u8425\u4e1a\u5916\u6536\u5165",LX_YYWZC:"\u8425\u4e1a\u5916\u652f\u51fa",LX_ZSKX:"\u6682\u6536\u6b3e\u9879",LX_ZSHX:"\u6682\u6536\u6838\u9500",LX_ZFKX:"\u6682\u4ed8\u6b3e\u9879",LX_ZFHX:"\u6682\u4ed8\u6838\u9500",LX_ZCGJ:"\u8d44\u4ea7\u8d2d\u8fdb",LX_ZCCZ:"\u8d44\u4ea7\u5904\u7f6e",LX_JZSY:"\u5904\u7f6e\u635f\u76ca",LX_QDJK:"\u53d6\u5f97\u501f\u6b3e",LX_CHLX:"\u507f\u8fd8\u5229\u606f",LX_CHBJ:"\u507f\u8fd8\u672c\u91d1",LX_DWTZ:"\u5bf9\u5916\u6295\u8d44",LX_QDSY:"\u53d6\u5f97\u6536\u76ca",LX_SHTZ:"\u6536\u56de\u6295\u8d44",LX_ZZ:"\u589e\u8d44",LX_LRFP:"\u5229\u6da6\u5206\u914d",LX_JZ:"\u51cf\u8d44",LX_JZSY_SY:"\u7ed3\u8f6c\u6536\u76ca",LX_JZSY_SS:"\u7ed3\u8f6c\u635f\u5931",LX_JZSY_ZCYZ:"\u8d44\u4ea7\u539f\u503c",LX_JZSY_ZJTX:"\u7d2f\u8ba1\u6298\u65e7\u644a\u9500",LX_JZSY_SJGZ:"\u5347\u7ea7\u6539\u9020",LX_JZSY_QLSR:"\u6e05\u7406\u6536\u5165",LX_FPRZ_CG:"\u91c7\u8d2d\u53d1\u7968\u8ba4\u8bc1",LX_FPRZ_TG:"\u9000\u8d2d\u53d1\u7968\u8ba4\u8bc1",LX_KJFP_XS:"\u9500\u552e\u5f00\u7968",LX_KJFP_TS:"\u9000\u552e\u5f00\u7968",LX_ZCWJZZS:"\u8f6c\u51fa\u672a\u4ea4\u7a0e\u8d39",LX_ZFLR:"\u652f\u4ed8\u5229\u6da6",LX_TZ_JTGL:"\u8ba1\u63d0\u80a1\u5229",LX_TZ_SRGL:"\u6536\u5165\u80a1\u5229",LX_TZ_JTLX:"\u8ba1\u63d0\u5229\u606f",LX_TZ_SRLX:"\u6536\u5165\u5229\u606f",LX_JK_JTLX:"\u8ba1\u63d0\u5229\u606f",LX_JK_ZFLX:"\u652f\u4ed8\u5229\u606f",LX_NBZZ:"\u5185\u90e8\u8f6c\u8d26",LX_NBZR:"\u5185\u90e8\u8f6c\u8d26-\u8f6c\u5165",LX_NBZC:"\u5185\u90e8\u8f6c\u8d26-\u8f6c\u51fa",LX_GRSFZC:"\u4e2a\u4eba\u7a0e\u8d39\u652f\u51fa",LX_XMGGFYFT:"\u8d39\u7528\u5206\u644a",LX_ZJTX:"\u6298\u65e7\u644a\u9500"}},1066:function(e,t,a){},1128:function(e,t,a){"use strict";a.d(t,"b",(function(){return g})),a.d(t,"a",(function(){return m}));a(61),a(70),a(1265),a(76);var n=a(4),c=a(1),o=a(78),l=a(14),i=a(12),s=(a(1037),a(2)),r=a(224),u=Object(c.fromJS)({views:{flags:"insert",fromPage:"account"},data:{beginAmount:"",openingName:"",name:"",openingBank:"",accountNumber:"",openInfo:!1,type:"general",uuid:"",acFullName:"",acId:"",assCategoryList:[],canUse:!0,needPoundage:!1,poundage:"",poundageRate:""},poundageData:{flags:"insert",categoryUuid:"",categoryName:"\u8bf7\u9009\u62e9\u5904\u7406\u7c7b\u522b",beProject:!1,contactsManagement:!1,poundageNeedCurrent:!1,poundageNeedProject:!1},regret:{regretList:[]}});function g(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return((e={},Object(n.a)(e,d.INIT_ACCOUNT_SETTING,u),Object(n.a)(e,d.ACCOUNT_SETTING_POUNDAGE,(function(){if("insert"==a.flags)return t.set("poundageData",u.get("poundageData"));var e=a.data,n=t.getIn(["poundageData","flags"]),c=!1,o=!1;return"modify"==a.flags&&(n="modify",e.beProject&&(o=t.getIn(["poundageData","poundageNeedProject"])),e.acCost.contactsManagement&&(c=t.getIn(["poundageData","poundageNeedCurrent"]))),t.setIn(["poundageData","categoryUuid"],e.uuid).setIn(["poundageData","categoryName"],e.name).setIn(["poundageData","beProject"],e.beProject).setIn(["poundageData","contactsManagement"],e.acCost.contactsManagement).setIn(["poundageData","poundageNeedCurrent"],c).setIn(["poundageData","poundageNeedProject"],o).setIn(["poundageData","flags"],n)})),Object(n.a)(e,d.CHANGE_ACCOUNT_SETTING_DATA,(function(){return"insert"==a.value&&(t=t.set("data",u.get("data")).setIn(["views","fromPage"],"account")),t.setIn(a.dataType,a.value)})),Object(n.a)(e,d.BEFOR_ADD_ACCONT_FROM_EDIT_RUNNING,(function(){return"insert"==a.value&&(t=t.set("data",u.get("data")).setIn(["views","fromPage"],"editRunning")),t.setIn(a.dataType,a.value)})),Object(n.a)(e,d.ACCOUNT_SETTING_MIDIFY,(function(){return t.set("data",a.item).setIn(["views","flags"],"modify").setIn(["views","fromPage"],"account")})),e)[a.type]||function(){return t})()}var d={ACCOUNT_SETTING_POUNDAGE:"ACCOUNT_SETTING_POUNDAGE",CHANGE_ACCOUNT_SETTING_DATA:"CHANGE_ACCOUNT_SETTING_DATA",BEFOR_ADD_ACCONT_FROM_EDIT_RUNNING:"BEFOR_ADD_ACCONT_FROM_EDIT_RUNNING",ACCOUNT_SETTING_MIDIFY:"ACCOUNT_SETTING_MIDIFY",INIT_ACCOUNT_SETTING:"INIT_ACCOUNT_SETTING"},m={getCardDetail:function(e,t){return function(a,n){s.a.toast.loading(l.p,0),Object(o.a)("getRunningDetail","GET","uuid=".concat(e),(function(e){s.a.toast.hide(),Object(i.u)(e)&&a({type:d.ACCOUNT_SETTING_POUNDAGE,data:e.data.result,flags:t})}))}},accountSettingMidify:function(e){return{type:d.ACCOUNT_SETTING_MIDIFY,item:e}},changeAccountSettingData:function(e,t){return{type:d.CHANGE_ACCOUNT_SETTING_DATA,dataType:e,value:t}},saveAccountPoundage:function(e){return function(t,a){var n=a().accountConfigState,c=n.getIn(["poundageData","flags"]),r=n.getIn(["poundageData","categoryUuid"]),u=n.getIn(["poundageData","poundageNeedCurrent"]),g=n.getIn(["poundageData","poundageNeedProject"]);s.a.toast.loading(l.p,0),Object(o.a)("".concat(c,"AccountPoundage"),"POST",JSON.stringify({categoryUuid:r,poundageNeedCurrent:u,poundageNeedProject:g}),(function(t){s.a.toast.hide(),Object(i.u)(t,"show")&&e.goBack()}))}},getAccountPoundage:function(){return function(e){Object(o.a)("getAccountPoundage","GET","",(function(t){Object(i.u)(t)&&(t.data.canUsed&&t.data.uuid?(e(m.changeAccountSettingData(["poundageData","poundageNeedProject"],t.data.poundageNeedProject)),e(m.changeAccountSettingData(["poundageData","poundageNeedCurrent"],t.data.poundageNeedCurrent)),e(m.getCardDetail(t.data.categoryUuid,"modify"))):e({type:d.ACCOUNT_SETTING_POUNDAGE,flags:"insert"}),!t.data.canUsed&&t.data.uuid&&(s.a.Alert("\u5904\u7406\u7c7b\u522b\u5931\u6548\uff0c\u8bf7\u91cd\u65b0\u9009\u62e9"),e(m.changeAccountSettingData(["poundageData","flags"],"modify"))))}))}},getRegretList:function(){return function(e){s.a.toast.loading(l.p,0),Object(o.a)("getAccountRegretList","GET","",(function(t){s.a.toast.hide(),Object(i.u)(t)&&(t.data.accountRegretList.forEach((function(e){e.key=e.name,e.value=e.uuid})),e(m.changeAccountSettingData(["regret","regretList"],Object(c.fromJS)(t.data.accountRegretList))))}))}},accountRegret:function(e,t){return function(a){s.a.toast.loading(l.p,0),Object(o.a)("accountRegret","POST",JSON.stringify(e),(function(e){s.a.toast.hide(),Object(i.u)(e,"show")&&(t.goBack(),a(r.d()))}))}}}},1265:function(e,t,a){var n=a(66),c=a(71),o=a(231),l=a(559).UNSUPPORTED_Y;n&&("g"!=/./g.flags||l)&&c.f(RegExp.prototype,"flags",{configurable:!0,get:o})},1333:function(e,t,a){},959:function(e,t,a){"use strict";a.r(t),a.d(t,"reducer",(function(){return Y})),a.d(t,"view",(function(){return R}));var n,c,o,l,i,s,r,u,g,d,m=a(7),p=a(8),f=a(9),h=a(10),y=a(0),E=a.n(y),_=a(1),C=a(11),S=a(6),N=(a(32),a(115),a(33),a(31),a(56),a(131),a(29),a(48),a(220)),v=(a(1122),a(1123)),L=a.n(v),T=a(47),X=(a(1066),a(1333),a(2)),b=a(1128),I=a(224),k=L.a.Item,A=Object(T.c)((function(e){return e}))((o=c=function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).scrollerHeight=0,n.listHeight=50,n.listHtml="",n.state={isDelete:!1,deleteList:[],isChangePoistion:!1,showIdx:-1,currentPage:1},n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){X.a.setTitle({title:"\u8d26\u6237\u8bbe\u7f6e"}),X.a.setIcon({showIcon:!1}),X.a.setRight({show:!1}),"home"===sessionStorage.getItem("prevPage")&&(sessionStorage.removeItem("prevPage"),this.props.dispatch(I.d()));var e=document.getElementsByClassName("scroll-view")[0],t=document.getElementsByClassName("list-html")[0];this.scrollViewHtml=e,this.scrollerHeight=Number(window.getComputedStyle(e).height.replace("px","")),t&&(this.listHtml=t,this.listHeight=t?Number(window.getComputedStyle(t).height.replace("px","")):50)}},{key:"closeMask",value:function(){document.getElementsByClassName("scroll-view")[0].style.overflowY="auto",this.setState({showIdx:-1})}},{key:"render",value:function(){var e=this,t=this.props,a=t.dispatch,n=t.accountConfigState,c=t.homeState,o=t.allState,l=t.history,i=this.state,s=i.isDelete,r=i.deleteList,u=i.isChangePoistion,g=i.showIdx,d=i.currentPage;console.log("AccountConfig");var m=c.getIn(["permissionInfo","Config"]).getIn(["edit","permission"]),p=(n.getIn(["views","flags"]),o.get("accountList")),f=[],h=0;p.size&&(h=p.getIn([0,"childList"]).size,f=Object(_.fromJS)([].concat(Object(N.a)(p.getIn([0,"childList"])),Object(N.a)(p.getIn([0,"disableList"])))));var y=Math.ceil(f.size/50);return E.a.createElement(C.h,{className:"account-config"},E.a.createElement(C.s,{flex:"1",className:"border-top",onScroll:function(t){t.target.scrollTop+100+e.scrollerHeight>=d*e.listHeight*50&&d<y&&e.setState({currentPage:d+1})}},f.slice(0,50*d).map((function(t,n){var c=[],o=n>0?p.getIn([0,"childList",n-1,"uuid"]):"",i=n<h-1?p.getIn([0,"childList",n+1,"uuid"]):"";return o&&c.push(E.a.createElement(k,{key:"3",value:"up"},"\u4e0a\u79fb")),i&&c.push(E.a.createElement(k,{key:"4",value:"down"},"\u4e0b\u79fb")),E.a.createElement("div",{className:0==n?"config-list-item-wrap-style list-html":"config-list-item-wrap-style",key:t.get("uuid"),onClick:function(){if(!u)if(s){var n=r.findIndex((function(e){return e===t.get("uuid")}));n>-1?(r.splice(n,1),e.setState({deleteList:r})):(r.push(t.get("uuid")),e.setState({deleteList:r}))}else a(b.a.accountSettingMidify(t)),l.push("/config/account/card/edit")}},E.a.createElement("div",{className:"config-list-item-style"},E.a.createElement("span",{className:"config-list-item-checkbox-style",style:{display:s?"":"none"}},E.a.createElement(C.e,{className:"checkbox",checked:r.indexOf(t.get("uuid"))>-1})),E.a.createElement("span",{style:{display:u&&t.get("canUse")&&(o||i)?"":"none"}},E.a.createElement(L.a,{visible:g==n,overlay:c,align:{overflow:{adjustY:0,adjustX:0},offset:[1,0]},placement:"bottomLeft",onSelect:function(n){switch(n.props.value){case"up":a(I.l(t.get("uuid"),o));break;case"down":a(I.l(t.get("uuid"),i))}e.closeMask()}},E.a.createElement("span",{style:{marginRight:".04rem"}},E.a.createElement(C.l,{onClick:function(){e.setState({showIdx:n}),document.getElementsByClassName("scroll-view")[0].style.overflowY="hidden"},type:"swap-position",color:"#5d81d1",size:"18"})))),E.a.createElement("span",{className:"config-list-item-info-style"},t.get("name")),E.a.createElement("span",{className:"config-list-item-arrow-style"},E.a.createElement(C.l,{type:"arrow-right"}))))})),E.a.createElement("div",{className:"choose-type",style:{display:-1==g?"none":"block"},onClick:function(t){t.stopPropagation(),e.closeMask()}})),E.a.createElement(C.d,null,E.a.createElement(C.c,{disabled:!m,style:{display:s||u?"none":""},onClick:function(){a(b.a.changeAccountSettingData(["views","flags"],"insert")),l.push("/config/account/card/edit")}},E.a.createElement(C.l,{type:"add-plus",size:"15"}),E.a.createElement("span",null,"\u65b0\u589e")),E.a.createElement(C.c,{disabled:!m,style:{display:s||u?"none":""},onClick:function(){e.setState({isDelete:!0})}},E.a.createElement(C.l,{type:"select",size:"15"}),E.a.createElement("span",null,"\u9009\u62e9")),E.a.createElement(C.c,{disabled:!m,style:{display:s||u?"none":""},onClick:function(){e.setState({isChangePoistion:!0})}},E.a.createElement(C.l,{type:"swap",size:"12"}),E.a.createElement("span",null,"\u8c03\u6574\u987a\u5e8f")),E.a.createElement(C.c,{disabled:!m,style:{display:s||u?"none":""},onClick:function(){X.a.actionSheet({title:"\u66f4\u591a",cancelButton:"\u53d6\u6d88",otherButtons:["\u624b\u7eed\u8d39\u8bbe\u7f6e","\u53cd\u6094\u6a21\u5f0f"],onSuccess:function(e){-1==e.buttonIndex||e.buttonIndex>=2||(0===e.buttonIndex?l.push("/config/account/poundage"):1===e.buttonIndex&&l.push("/config/account/regret"))}})}},E.a.createElement(C.l,{type:"more",size:"15"}),E.a.createElement("span",null,"\u66f4\u591a")),E.a.createElement(C.c,{disabled:!m,style:{display:s||u?"":"none"},onClick:function(){e.setState({isDelete:!1,isChangePoistion:!1,showIdx:-1})}},E.a.createElement(C.l,{type:"cancel",size:"15"}),E.a.createElement("span",null,"\u53d6\u6d88")),E.a.createElement(C.c,{disabled:!r.length||!m,style:{display:s?"":"none"},onClick:function(){a(I.b(r,(function(){return e.setState({deleteList:[]})})))}},E.a.createElement(C.l,{type:"delete",size:"15"}),E.a.createElement("span",null,"\u5220\u9664"))))}}]),a}(E.a.Component),c.displayName="AccountConfig",n=o))||n,D=(a(62),a(12)),O=C.k.Item,w=Object(T.c)((function(e){return e}))((s=i=function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"componentDidMount",value:function(){"insert"===this.props.accountConfigState.getIn(["views","flags"])?X.a.setTitle({title:"\u65b0\u589e\u8d26\u6237"}):X.a.setTitle({title:"\u4fee\u6539\u8d26\u6237"}),X.a.setIcon({showIcon:!1}),X.a.setRight({show:!1})}},{key:"render",value:function(){var e=this.props,t=e.dispatch,a=e.accountConfigState,n=e.homeState,c=e.allState,o=e.history;console.log("AccountConfigOption");n.getIn(["permissionInfo","Config"]).getIn(["edit","permission"]);var l=a.getIn(["views","flags"]),i=a.getIn(["views","fromPage"]),s="account"!==i;s&&n.getIn(["permissionInfo","LrAccount"]).getIn(["edit","permission"]);var r=a.get("data"),u=c.getIn(["views","isCheckOut"]),g=r.get("type"),d={cash:"\u73b0\u91d1",general:"\u4e00\u822c\u6237",basic:"\u57fa\u672c\u6237",Alipay:"\u652f\u4ed8\u5b9d",WeChat:"\u5fae\u4fe1",other:"\u5176\u5b83",spare:"\u5907\u7528\u91d1"}[g],m=r.get("openInfo"),p=r.get("canUse"),f=r.get("needPoundage"),h=r.get("poundage"),y=r.get("poundageRate"),_="modify"==l&&u&&r.get("beginAmount");return E.a.createElement(C.h,{className:"account-config"},E.a.createElement(C.s,{flex:"1",className:"border-top"},E.a.createElement(C.k,null,E.a.createElement(O,{label:"\u8d26\u6237\u540d\u79f0",showAsterisk:!0,className:"config-form-item-input-style"},E.a.createElement(C.E,{placeholder:"\u586b\u5199\u8d26\u6237\u540d\u79f0",value:r.get("name"),onChange:function(e){t(b.a.changeAccountSettingData(["data","name"],e))}}),"\xa0",E.a.createElement(C.l,{type:"arrow-right",size:"14"})),E.a.createElement(O,{label:"\u8d26\u6237\u7c7b\u578b",showAsterisk:!0},E.a.createElement(C.u,{disabled:_,district:[{key:"\u73b0\u91d1",value:"cash"},{key:"\u4e00\u822c\u6237",value:"general"},{key:"\u57fa\u672c\u6237",value:"basic"},{key:"\u5907\u7528\u91d1",value:"spare"},{key:"\u652f\u4ed8\u5b9d",value:"Alipay"},{key:"\u5fae\u4fe1",value:"WeChat"},{key:"\u5176\u5b83",value:"other"}],value:g,onOk:function(e){t(b.a.changeAccountSettingData(["data","type"],e.value)),["cash","spare"].includes(e.value)&&(t(b.a.changeAccountSettingData(["data","openInfo"],!1)),t(b.a.changeAccountSettingData(["data","needPoundage"],!1)))}},E.a.createElement(C.r,{onClick:function(e){if(_)return e.stopPropagation(),X.a.Alert("\u8d26\u5957\u5df2\u7ed3\u8d26\u4e14\u5b58\u5728\u671f\u521d\u503c\uff0c\u8bf7\u901a\u8fc7\u53cd\u6094\u6a21\u5f0f\u8fdb\u884c\u4fee\u6539")},className:_?"config-form-item-select-item config-form-item-disabled":"config-form-item-select-item"},d)),"\xa0",E.a.createElement(C.l,{type:"arrow-right",size:"14"})),E.a.createElement(O,{label:"\u671f\u521d\u4f59\u989d",className:"config-form-item-input-style"},E.a.createElement(C.E,{mode:"amount",negativeAllowed:!0,placeholder:u?"\u5df2\u7ed3\u8d26\uff0c\u4e0d\u53ef\u66f4\u6539":"\u586b\u5199\u671f\u521d\u4f59\u989d",disabled:u,value:r.get("beginAmount"),onChange:function(e){t(b.a.changeAccountSettingData(["data","beginAmount"],e))}}),"\xa0",E.a.createElement(C.l,{type:"arrow-right",size:"14"})),E.a.createElement(O,{label:"\u542f\u7528\u8d26\u6237\u624b\u7eed\u8d39",style:{display:["spare","cash"].includes(g)?"none":""}},E.a.createElement("span",{className:"noTextSwitchShort"},E.a.createElement(C.w,{checked:f,onClick:function(){t(b.a.changeAccountSettingData(["data","needPoundage"],!f))}}))),E.a.createElement(O,{label:"\u8d39\u7528\u6bd4\u7387",className:"poundageRate",style:{display:f?"":"none"}},E.a.createElement("span",{className:"left"}),E.a.createElement(C.E.BorderInputItem,{mode:"amount",value:y,onChange:function(e){if("-"==e||e<0)return X.a.Alert("\u8d39\u7528\u6bd4\u7387\u4e0d\u80fd\u4e3a\u8d1f");t(b.a.changeAccountSettingData(["data","poundageRate"],e))}}),"\xa0\u2030"),E.a.createElement(O,{label:"\u8d39\u7528\u4e0a\u9650",className:"config-form-item-input-style",style:{display:f?"":"none"}},E.a.createElement(C.E,{mode:"amount",placeholder:"\u8bf7\u8f93\u5165\u624b\u7eed\u8d39\u91d1\u989d\u4e0a\u9650",value:-1==h?"":h,onChange:function(e){if("-"==e)return X.a.Alert("\u8d39\u7528\u4e0a\u9650\u4e0d\u80fd\u4e3a\u8d1f");t(b.a.changeAccountSettingData(["data","poundage"],e))}}),"\xa0",E.a.createElement(C.l,{type:"arrow-right",size:"14"})),E.a.createElement(O,{label:"\u8d26\u6237\u4fe1\u606f",className:"form-offset-up",style:{display:["cash","spare"].includes(g)?"none":""}},E.a.createElement("div",{className:"noTextSwitchShort"},E.a.createElement(C.w,{checked:m,onClick:function(){t(m?b.a.changeAccountSettingData(["data","openInfo"],!1):b.a.changeAccountSettingData(["data","openInfo"],!0))}}))),E.a.createElement(O,{label:"\u8d26\u53f7",className:"config-form-item-input-style",style:{display:m?"":"none"}},E.a.createElement(C.E,{placeholder:"\u8bf7\u8f93\u5165\u8d26\u6237\u53f7\u7801",value:r.get("accountNumber"),onChange:function(e){t(b.a.changeAccountSettingData(["data","accountNumber"],e))}}),"\xa0",E.a.createElement(C.l,{type:"arrow-right",size:"14"})),E.a.createElement(O,{label:"\u5f00\u6237\u540d",className:"config-form-item-input-style",style:{display:m?"":"none"}},E.a.createElement(C.E,{placeholder:"\u8bf7\u8f93\u5165\u8d26\u6237\u7684\u5f00\u6237\u540d\u79f0",value:r.get("openingName"),onChange:function(e){t(b.a.changeAccountSettingData(["data","openingName"],e))}}),"\xa0",E.a.createElement(C.l,{type:"arrow-right",size:"14"})),E.a.createElement(O,{label:"\u5f00\u6237\u884c/\u673a\u6784",className:"config-form-item-input-style",style:{display:m?"":"none"}},E.a.createElement(C.E,{placeholder:"\u8bf7\u8f93\u5165\u5f00\u6237\u884c\u6216\u652f\u4ed8\u673a\u6784\u540d\u79f0",value:r.get("openingBank"),onChange:function(e){t(b.a.changeAccountSettingData(["data","openingBank"],e))}}),"\xa0",E.a.createElement(C.l,{type:"arrow-right",size:"14"})),E.a.createElement(O,{label:"\u542f\u7528/\u505c\u7528",style:{display:"insert"==l?"none":""}},E.a.createElement("span",{className:"noTextSwitchShort"},E.a.createElement(C.w,{checked:p,onClick:function(){t(b.a.changeAccountSettingData(["data","canUse"],!p))}}))))),E.a.createElement(C.d,null,E.a.createElement(C.c,{onClick:function(){o.goBack()}},E.a.createElement(C.l,{type:"cancel",size:"15"}),E.a.createElement("span",null,"\u53d6\u6d88")),E.a.createElement(C.c,{onClick:function(){var e=[{type:"name",value:r.get("name")}];D.g.beforeSaveCheck(e,(function(){return t(I.j(i,o))}))}},E.a.createElement(C.l,{type:"save",size:"15"}),E.a.createElement("span",null,"\u4fdd\u5b58"))))}}]),a}(E.a.Component),i.displayName="AccountConfigOption",l=s))||l,Z=(a(61),a(70),a(76),a(14),C.k.Item),P=Object(T.c)((function(e){return e}))((g=u=function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"componentDidMount",value:function(){X.a.setTitle({title:"\u624b\u7eed\u8d39\u8bbe\u7f6e"}),X.a.setIcon({showIcon:!1}),X.a.setRight({show:!1}),this.props.dispatch(b.a.getAccountPoundage()),this.props.dispatch(I.f())}},{key:"render",value:function(){var e=this.props,t=e.dispatch,a=e.accountConfigState,n=e.homeState,c=e.allState,o=e.history,l=(n.getIn(["permissionInfo","Config"]).getIn(["edit","permission"]),a.get("poundageData")),i=l.get("categoryUuid"),s=l.get("categoryName"),r=l.get("beProject"),u=l.get("poundageNeedProject"),g=l.get("contactsManagement"),d=l.get("poundageNeedCurrent"),m=c.get("oriCategory").toJS(),p=[];return m.map((function(e){"LB_FYZC"==e.categoryType&&e.childList.map((function(e){"XZ_FINANCE"==e.propertyCostList[0]&&p.push(e)}))})),function e(t){t.forEach((function(t){t.key=t.uuid,t.label=t.name,t.childList.length&&e(t.childList)}))}(p),E.a.createElement(C.h,{className:"account-config"},E.a.createElement(C.s,{flex:"1",className:"border-top"},E.a.createElement(C.k,null,E.a.createElement(Z,{label:"\u5904\u7406\u7c7b\u522b"},E.a.createElement(C.f,{district:p,value:i,onChange:function(e){t(b.a.getCardDetail(e.uuid))}},E.a.createElement(C.r,null,E.a.createElement("span",{style:{color:"\u8bf7\u9009\u62e9\u5904\u7406\u7c7b\u522b"==s?"#ccc":""}},s),E.a.createElement(C.l,{type:"arrow-right",size:"14"})))),E.a.createElement(Z,{label:"\u5173\u8054\u9879\u76ee",style:{display:r?"":"none"}},E.a.createElement("span",{className:"noTextSwitchShort"},E.a.createElement(C.w,{checked:u,onClick:function(){t(b.a.changeAccountSettingData(["poundageData","poundageNeedProject"],!u))}}))),E.a.createElement(Z,{label:"\u5173\u8054\u5f80\u6765",style:{display:g?"":"none"}},E.a.createElement("span",{className:"noTextSwitchShort"},E.a.createElement(C.w,{checked:d,onClick:function(){t(b.a.changeAccountSettingData(["poundageData","poundageNeedCurrent"],!d))}}))))),E.a.createElement(C.d,null,E.a.createElement(C.c,{onClick:function(){o.goBack()}},E.a.createElement(C.l,{type:"cancel",size:"15"}),E.a.createElement("span",null,"\u53d6\u6d88")),E.a.createElement(C.c,{onClick:function(){if(""==i)return X.a.toast.info("\u8bf7\u9009\u62e9\u5904\u7406\u7c7b\u522b");t(b.a.saveAccountPoundage(o))}},E.a.createElement(C.l,{type:"save",size:"15"}),E.a.createElement("span",null,"\u4fdd\u5b58"))))}}]),a}(E.a.Component),u.displayName="AccountPoundage",r=g))||r,j=C.k.Item,J=Object(T.c)((function(e){return e}))(d=function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={name:"",uuid:"",oriType:"",newType:"",modifyJudge:{hasJrData:!1,billAndOpenBalance:!1},showModal:!1},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){X.a.setTitle({title:"\u53cd\u6094\u6a21\u5f0f"}),X.a.setIcon({showIcon:!1}),X.a.setRight({show:!1}),this.props.dispatch(b.a.getRegretList())}},{key:"render",value:function(){var e=this,t=this.props,a=t.dispatch,n=t.accountConfigState,c=t.history,o=this.state,l=o.name,i=o.uuid,s=o.oriType,r=o.newType,u=o.modifyJudge,g=o.showModal,d=n.getIn(["regret","regretList"]).toJS(),m={cash:"\u73b0\u91d1",general:"\u4e00\u822c\u6237",basic:"\u57fa\u672c\u6237",Alipay:"\u652f\u4ed8\u5b9d",WeChat:"\u5fae\u4fe1",other:"\u5176\u5b83",spare:"\u5907\u7528\u91d1"},p=[{key:"\u73b0\u91d1",value:"cash"},{key:"\u4e00\u822c\u6237",value:"general"},{key:"\u57fa\u672c\u6237",value:"basic"},{key:"\u5907\u7528\u91d1",value:"spare"},{key:"\u652f\u4ed8\u5b9d",value:"Alipay"},{key:"\u5fae\u4fe1",value:"WeChat"},{key:"\u5176\u5b83",value:"other"}];return p.forEach((function(e,t){e.value==s&&p.splice(t,1)})),E.a.createElement(C.h,{className:"account-config"},E.a.createElement(C.s,{flex:"1",className:"border-top"},E.a.createElement(C.k,null,E.a.createElement(j,{label:"\u8d26\u6237"},E.a.createElement(C.u,{district:d,value:i,onOk:function(t){e.setState({name:t.name,uuid:t.uuid,oriType:t.type,newType:"",modifyJudge:t.modifyJudge})}},E.a.createElement(C.r,{className:"config-form-item-select-item"},l||"\u8bf7\u9009\u62e9\u8d26\u6237")),"\xa0",E.a.createElement(C.l,{type:"arrow-right",size:"14"})),E.a.createElement("div",{className:"account-regret-modal-text"},E.a.createElement("div",{className:"text"},"\u5df2\u6709\u6570\u636e\u7684\u8d26\u6237\u4fee\u6539\u8d26\u6237\u7c7b\u578b")),E.a.createElement("div",{style:{display:i?"":"none"}},E.a.createElement("div",{className:"account-regret-item"},E.a.createElement("div",null,"\u30fb\u539f\u8d26\u6237\u7c7b\u578b\uff1a ",m[s]),E.a.createElement("div",null,E.a.createElement("span",null,"\u30fb\u8be5\u8d26\u6237\u5df2\u6709\u6570\u636e\uff1a"),u.hasJrData?E.a.createElement("div",{className:"text"},"\uff081\uff09\u6d41\u6c34\u6570\u636e"):null,u.billAndOpenBalance?E.a.createElement("div",{className:"text"},"".concat(u.hasJrData," ? \uff082\uff09: \uff081\uff09"),"\u5df2\u7ed3\u8d26\u4e14\u5b58\u5728\u671f\u521d\u503c"):null)),E.a.createElement("div",{className:"account-regret-modal-text"},E.a.createElement("div",{className:"text"},"\u4ee5\u4e0a\u6570\u636e\u5c06\u8f6c\u79fb\u81f3\u4fee\u6539\u540e\u7684\u8d26\u6237\u7c7b\u578b\u4e2d"))),E.a.createElement(j,{label:"\u8d26\u6237\u7c7b\u578b",style:{display:i?"":"none"}},E.a.createElement(C.u,{district:p,value:r,onOk:function(t){e.setState({newType:t.value})}},E.a.createElement(C.r,{className:r?"":"gray"},m[r]?m[r]:"\u8d26\u6237\u7c7b\u578b")),"\xa0",E.a.createElement(C.l,{type:"arrow-right",size:"14"})))),E.a.createElement(C.p,{title:"\u4fe1\u606f\u786e\u8ba4",visible:g,footerVisible:!0,onCancel:function(){e.setState({showModal:!1})},onOk:function(){a(b.a.accountRegret({uuid:i,newType:r},c))}},E.a.createElement("div",{className:""},"\u300c".concat(l,"\u300d\u539f\u8d26\u6237\u7c7b\u578b\u300c").concat(m[s],"\u300d\u5c06\u4fee\u6539\u4e3a\u300c").concat(m[r],"\u300d.\u8c03\u6574\u6570\u636e\u5982\u4e0b\uff1a"),E.a.createElement("div",{className:"gray"},u.hasJrData?E.a.createElement("div",{className:"text"},"\u30fb\u6d41\u6c34\u6570\u636e"):null,u.billAndOpenBalance?E.a.createElement("div",{className:"text"},"\u30fb\u5df2\u7ed3\u8d26\u4e14\u5b58\u5728\u671f\u521d\u503c"):null))),E.a.createElement(C.d,null,E.a.createElement(C.c,{onClick:function(){c.goBack()}},E.a.createElement(C.l,{type:"cancel",size:"15"}),E.a.createElement("span",null,"\u53d6\u6d88")),E.a.createElement(C.c,{onClick:function(){return i?r?void e.setState({showModal:!0}):X.a.Alert("\u8bf7\u9009\u62e9\u8d26\u6237\u7c7b\u578b"):X.a.Alert("\u8bf7\u9009\u62e9\u8d26\u6237")}},E.a.createElement(C.l,{type:"confirm",size:"15"}),E.a.createElement("span",null,"\u4fe1\u606f\u786e\u8ba4"))))}}]),a}(E.a.Component))||d,G=a(111),R=function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return E.a.createElement(G.a,{history:D.p},E.a.createElement(C.h,null,E.a.createElement(S.a,{path:"/config/account/index",component:A}),E.a.createElement(S.a,{path:"/config/account/card/edit",component:w}),E.a.createElement(S.a,{path:"/config/account/poundage",component:P}),E.a.createElement(S.a,{path:"/config/account/regret",component:J})))}}]),a}(E.a.Component),Y={accountConfigState:b.b}}}]);