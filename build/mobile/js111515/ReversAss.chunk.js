(this.webpackJsonpfannix=this.webpackJsonpfannix||[]).push([[102],{1070:function(e,t,n){"use strict";n.d(t,"q",(function(){return i})),n.d(t,"r",(function(){return u})),n.d(t,"u",(function(){return l})),n.d(t,"h",(function(){return f})),n.d(t,"i",(function(){return m})),n.d(t,"c",(function(){return d})),n.d(t,"o",(function(){return g})),n.d(t,"n",(function(){return p})),n.d(t,"b",(function(){return E})),n.d(t,"a",(function(){return y})),n.d(t,"v",(function(){return v})),n.d(t,"s",(function(){return N})),n.d(t,"g",(function(){return b})),n.d(t,"l",(function(){return A})),n.d(t,"p",(function(){return C})),n.d(t,"m",(function(){return O})),n.d(t,"w",(function(){return S})),n.d(t,"t",(function(){return h})),n.d(t,"f",(function(){return I})),n.d(t,"e",(function(){return _})),n.d(t,"d",(function(){return j})),n.d(t,"j",(function(){return k})),n.d(t,"k",(function(){return w}));var a=n(12),s=n(1085),r=n(17),c=n(2),o=n(14),i=function(){return function(e){c.a.toast.loading(o.p,0),Object(r.g)("assgetAMB","GET","",(function(t){Object(a.u)(t)&&(c.a.toast.hide(),e({type:s.a,receivedData:t.data}))}))}},u=function(e,t){return function(n){c.a.Confirm({message:"\u786e\u5b9a\u5f00\u901a\u8f85\u52a9\u6838\u7b97\u7c7b\u522b[".concat(e.get(0),"]\u4e3a\u9ed8\u8ba4\u963f\u7c73\u5df4\uff1f"),title:"\u63d0\u793a",buttonLabels:["\u53d6\u6d88","\u786e\u5b9a"],onSuccess:function(n){1===n.buttonIndex&&(c.a.toast.loading(o.p,0),Object(r.g)("assrelateAMB","POST",JSON.stringify({assCategoryList:e}),(function(e){Object(a.u)(e,"show")&&t.goBack()})))},onFail:function(e){return alert(e)}})}},l=function(e){return{type:s.s,asscategory:e}},f=function(e){return{type:s.g,assid:e}},m=function(e){return{type:s.h,assname:e}},d=function(e){return{type:s.d,asscategory:e}},g=function(e){return{type:s.m,idx:e}},p=function(e){return{type:s.l,idx:e}},E=function(e,t){return{type:s.c,ass:e,idx:t}},y=function(e){return{type:s.b,tab:e}},v=function(){return{type:s.v}},N=function(){return{type:s.o}},b=function(){return{type:s.f}},A=function(e){return{type:s.j,assCategory:e}},C=function(e,t,n){return function(i){c.a.toast.loading(o.p,0),Object(r.g)("assCheck","POST",JSON.stringify({assCategory:e,assId:t,assName:n}),(function(e){if(Object(a.u)(e)){if(c.a.toast.hide(),!e.data.message.length)return Object(a.u)("","","",t+"\u4e0d\u9700\u8981\u4f7f\u7528\u53cd\u6094\u6a21\u5f0f");i({type:s.n,assId:t,assName:n,assMessage:e.data.message})}}))}},O=function(e){return{type:s.k,newAssId:e}},S=function(e){return{type:s.w,bool:e}},h=function(e,t){return function(n){c.a.toast.loading(o.p,0),Object(r.g)("assRegret","POST",JSON.stringify({assCategory:e.get("assCategory"),oldAssId:e.get("oldAssId"),assId:e.get("assId"),assName:e.get("assName")}),(function(e){Object(a.u)(e)&&(c.a.toast.hide(),n(S(!1)),t.goBack())}))}},I=function(){return function(e){e({type:s.e})}},_=function(e){return function(t){t({type:s.u,value:e})}},j=function(e){return function(t){t({type:s.t,value:e})}},k=function(e){return function(t){t({type:s.i,visible:e})}},w=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"false";return function(u){c.a.toast.loading(o.p,0),Object(r.g)("changeAssName","POST",JSON.stringify({oldName:e,newName:t,confirmModifyAnyWay:i}),(function(e){Object(a.u)(e)&&(e.data.countMoreThenRestrict?u({type:s.i,visible:!0}):(u({type:s.i,visible:!1}),u({type:s.e}),u({type:s.u,value:""}),u({type:s.t,value:""}),c.a.toast.hide(),u(S(!1)),n.goBack()))}))}}},1085:function(e,t,n){"use strict";n.d(t,"p",(function(){return a})),n.d(t,"m",(function(){return s})),n.d(t,"l",(function(){return r})),n.d(t,"g",(function(){return c})),n.d(t,"h",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"r",(function(){return f})),n.d(t,"q",(function(){return m})),n.d(t,"v",(function(){return d})),n.d(t,"o",(function(){return g})),n.d(t,"a",(function(){return p})),n.d(t,"s",(function(){return E})),n.d(t,"f",(function(){return y})),n.d(t,"j",(function(){return v})),n.d(t,"n",(function(){return N})),n.d(t,"k",(function(){return b})),n.d(t,"w",(function(){return A})),n.d(t,"e",(function(){return C})),n.d(t,"u",(function(){return O})),n.d(t,"t",(function(){return S})),n.d(t,"i",(function(){return h}));var a="INIT_ASSCONFIG",s="CHANGE_TAB_INDEX_ASSCONFIG",r="CHANGE_TAB_INDEX_AC_ASSCONFIG",c="CHANGE_ASS_ID",o="CHANGE_ASS_NAME",i="CHANGE_ASS_CATEGORY",u="BEFORE_MODIFY_ASS",l="BEFORE_INSERT_ASS",f="MODIFY_ASS_FETCH",m="INSERT_ASS_FETCH",d="SHOW_ALL_ASS_CHECKBOX",g="HIDE_ALL_ASS_CHECKBOX",p="AFTER_ASSGETAMB_GET",E="SET_ASSRELATE_AMB",y="CHANGE_ASS_DISABLE_STATE",v="CHANGE_REVERS_ASS_CATEGORY",N="CHECK_REVERS_ASS_ID_CHECK",b="CHANGE_REVERS_NEW_ASS_ID",A="SHOW_REVERS_CONFIR_MODAL",C="CHANGE_ASS_CONFIG_SHOW_TYPE",O="SET_ASS_CONFIG_OLD_NAME",S="SET_ASS_CONFIG_NEW_NAME",h="CHANGE_ASS_TYPE_CHANGE_COMFIRM_MODAL_VISIBLE"},1327:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(4),s=n(1),r=n(1085),c=Object(s.fromJS)({toolBarDisplayIndex:1,tabSelectedIndex:0,assTabSelectedIndex:0,allAssCheckBoxDisplay:!1,assConfigMode:"insert",modifyIdx:-1,ass:{assid:"",assname:"",asscategory:""},ambCount:"1",amAassCategoryList:[],showReversModal:!1,assMessage:[],reversAss:{assCategory:"",oldAssId:"",assName:"",assId:""},ifAssConfig:!0,oldName:"",newName:"",showAssTypeChangeConfirmModal:!1});function o(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,n=arguments.length>1?arguments[1]:void 0;return((e={},Object(a.a)(e,r.p,(function(){return c})),Object(a.a)(e,r.m,(function(){return t.set("tabSelectedIndex",n.idx)})),Object(a.a)(e,r.l,(function(){return t.set("assTabSelectedIndex",n.idx)})),Object(a.a)(e,r.g,(function(){return/^[A-Za-z0-9]*$/g.test(n.assid)?t.setIn(["ass","assid"],n.assid):t})),Object(a.a)(e,r.h,(function(){return t.setIn(["ass","assname"],n.assname)})),Object(a.a)(e,r.d,(function(){return t.setIn(["ass","asscategory"],n.asscategory)})),Object(a.a)(e,r.c,(function(){return t.set("assConfigMode","modify").set("ass",n.ass).setIn(["ass","oldassid"],n.ass.get("assid")).setIn(["ass","disable"],n.ass.get("disableTime")?"TRUE":"FALSE").set("modifyIdx",n.idx)})),Object(a.a)(e,r.b,(function(){return t.set("assConfigMode","insert").set("ass",c.get("ass")).setIn(["ass","asscategory"],n.tab)})),Object(a.a)(e,r.r,(function(){return t.set("FzModelDisplay",!1)})),Object(a.a)(e,r.q,(function(){return t.set("activeAssCategory",t.getIn(["ass","asscategory"])).set("ass",c.get("ass"))})),Object(a.a)(e,r.v,(function(){return t.set("toolBarDisplayIndex",2).set("allAssCheckBoxDisplay",!0)})),Object(a.a)(e,r.o,(function(){return t.set("toolBarDisplayIndex",1).set("allAssCheckBoxDisplay",!1)})),Object(a.a)(e,r.a,(function(){return t.set("amAassCategoryList",Object(s.fromJS)(n.receivedData.assCategroyList)).set("ambCount",n.receivedData.count)})),Object(a.a)(e,r.s,(function(){return t.set("amAassCategoryList",Object(s.fromJS)([n.asscategory]))})),Object(a.a)(e,r.f,(function(){return t.updateIn(["ass","disable"],(function(e){return"TRUE"===e?"FALSE":"TRUE"}))})),Object(a.a)(e,r.j,(function(){return t.set("reversAss",c.get("reversAss")).setIn(["reversAss","assCategory"],n.assCategory)})),Object(a.a)(e,r.n,(function(){return t.setIn(["reversAss","oldAssId"],n.assId).setIn(["reversAss","assName"],n.assName).setIn(["reversAss","assId"],"").set("assMessage",n.assMessage)})),Object(a.a)(e,r.k,(function(){return t.setIn(["reversAss","assId"],n.newAssId)})),Object(a.a)(e,r.w,(function(){return t.set("showReversModal",n.bool)})),Object(a.a)(e,r.e,(function(){return t.update("ifAssConfig",(function(e){return!e}))})),Object(a.a)(e,r.u,(function(){return t.set("oldName",n.value)})),Object(a.a)(e,r.t,(function(){return t.set("newName",n.value)})),Object(a.a)(e,r.i,(function(){return t.set("showAssTypeChangeConfirmModal",n.visible)})),e)[n.type]||function(){return t})()}},1331:function(e,t,n){},976:function(e,t,n){"use strict";n.r(t),n.d(t,"reducer",(function(){return O})),n.d(t,"view",(function(){return C}));n(32),n(61),n(62),n(33),n(31),n(116),n(29),n(82),n(76);var a,s,r,c=n(7),o=n(8),i=n(9),u=n(10),l=n(0),f=n.n(l),m=n(1),d=n(47),g=n(1070),p=(n(1331),n(11)),E=n(14),y=n(24),v=Object(y.immutableRenderDecorator)(a=function(e){Object(u.a)(n,e);var t=Object(i.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props,t=e.reversAss,n=e.dispatch,a=e.assMessage,s=e.showReversModal,r=e.history,c=e.oldName,o=e.newName,i=e.ifAssConfig;return f.a.createElement(p.p,{title:"\u4fe1\u606f\u786e\u8ba4",onCancel:function(){return n(g.w(!1))},visible:s,footerVisible:!1,footer:[f.a.createElement("span",{onClick:function(){return n(g.w(!1))}},"\u53d6\u6d88"),f.a.createElement("span",{onClick:function(){n(i?g.t(t,r):g.k(c,o,r))}},"\u786e\u5b9a")]},i?f.a.createElement("div",{className:"ass-reverse-confirm"},f.a.createElement("div",{className:"ass-reverse-confirm-title"},"\u4fee\u6539\u540e\u6838\u7b97\u5bf9\u8c61\u4fee\u6539\u4e3a\uff1a"),f.a.createElement("ul",{className:"ass-tip"},f.a.createElement("li",{className:"ass-tip-item"},"\u8f85\u52a9\u7c7b\u522b\uff1a",t.get("assCategory")),f.a.createElement("li",{className:"ass-tip-item"},"\u7f16\u7801\uff1a",t.get("assId")),f.a.createElement("li",{className:"ass-tip-item"},"\u540d\u79f0\uff1a",t.get("assName"))),f.a.createElement("div",{className:"ass-reverse-confirm-title ass-reverse-confirm-title2"},"\u5df2\u4f7f\u7528\u7684\u5185\u5bb9\u5c06\u7edf\u4e00\u4fee\u6539\u7f16\u7801\uff1a"),f.a.createElement("ul",{className:"ass-tip"},a.map((function(e){return f.a.createElement("li",{className:"ass-tip-item"},"vc"===e?"\u6240\u6709\u76f8\u5173\u51ed\u8bc1":e)})))):f.a.createElement("div",{className:"ass-reverse-confirm"},f.a.createElement("div",{className:"ass-reverse-confirm-title"},"\u8f85\u52a9\u7c7b\u522b\u540d\u79f0\u4fee\u6539\u4e3a\uff1a"),f.a.createElement("ul",{className:"ass-tip"},f.a.createElement("li",{className:"ass-tip-item"},"\u539f\u540d\u79f0\uff1a",c),f.a.createElement("li",{className:"ass-tip-item"},"\u65b0\u540d\u79f0\uff1a",o))))}}]),n}(f.a.Component))||a,N=Object(y.immutableRenderDecorator)(s=function(e){Object(u.a)(n,e);var t=Object(i.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props,t=e.showAssTypeChangeConfirmModal,n=e.dispatch,a=e.oldName,s=e.newName,r=e.history;return f.a.createElement(p.p,{title:"\u4fe1\u606f\u786e\u8ba4",visible:t,footerVisible:!1,onCancel:function(){return n(g.j(!1))},footer:[f.a.createElement("span",{onClick:function(){return n(g.w(!1))}},"\u53d6\u6d88"),f.a.createElement("span",{onClick:function(){n(g.k(a,s,r,"true"))}},"\u786e\u5b9a")]},f.a.createElement("div",null,"\u8be5\u7c7b\u522b\u4e0b\u7684\u8f85\u52a9\u6838\u7b97\u5bf9\u8c61\u8d85\u8fc71000\uff0c\u4fee\u6539\u9700\u8981\u7b49\u5f85\u4e00\u6bb5\u65f6\u95f4\uff0c\u662f\u5426\u786e\u5b9a\u4fee\u6539"))}}]),n}(f.a.Component))||s,b=n(12),A=p.k.Item,C=Object(d.c)((function(e){return e}))(r=function(e){Object(u.a)(n,e);var t=Object(i.a)(n);function n(){var e;return Object(c.a)(this,n),(e=t.call(this)).state={showInfo:!1},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.dispatch,a=t.assconfigState,s=t.history,r=t.allState,c=(t.homeState,this.state.showInfo),o=a.get("reversAss"),i=a.get("assMessage"),u=a.get("showReversModal"),l=r.get("assTags"),d=a.get("tabSelectedIndex"),y=(l.get(d),l.map((function(e){return{key:e,value:e}}))),C=r.get("acasslist").findKey((function(e){return e.get("asscategory")==o.get("assCategory")})),O=r.getIn(["acasslist",C]),S=O?O.get("asslist").map((function(e){return e.set("asscategory",o.get("assCategory"))})):Object(m.fromJS)([]),h=S.map((function(e,t){return{key:"".concat(e.get("assid")," ").concat(e.get("assname")),value:"".concat(e.get("assid")).concat(E.B).concat(e.get("assname"))}})),I=a.get("ifAssConfig"),_=a.get("oldName"),j=a.get("newName"),k=a.get("showAssTypeChangeConfirmModal"),w=["\u5ba2\u6237","\u4f9b\u5e94\u5546","\u804c\u5458","\u9879\u76ee","\u90e8\u95e8"],T=[];l.toJS().forEach((function(e,t){w.indexOf(e)<0&&T.push(e)}));var M=T.map((function(e){return{key:e,value:e}}));return f.a.createElement(p.h,{className:"ass-reverse"},f.a.createElement(v,{reversAss:o,dispatch:n,assMessage:i,showReversModal:u,history:s,oldName:_,newName:j,ifAssConfig:I}),f.a.createElement(N,{showAssTypeChangeConfirmModal:k,dispatch:n,oldName:_,newName:j,history:s}),f.a.createElement(p.r,{className:"ac-config-title"},f.a.createElement("div",{className:I?"select":"",onClick:function(){n(g.f())}},"\u4fee\u6539\u6838\u7b97\u5bf9\u8c61\u7f16\u7801"),f.a.createElement("div",{className:I?"":"select",onClick:function(){n(g.f())}},"\u4fee\u6539\u8f85\u52a9\u7c7b\u522b\u540d\u79f0")),f.a.createElement(p.s,{flex:"1",uniqueKey:"as-reverse-scroll",savePosition:!0},I?f.a.createElement(p.k,null,f.a.createElement(A,{label:"\u8f85\u52a9\u7c7b\u522b\uff1a",className:"form-offset-up"},f.a.createElement(p.v,{className:"info-select",district:y,onOk:function(e){return n(g.l(e.value))}},f.a.createElement("span",{className:"info-select-text"},o.get("assCategory"),f.a.createElement(p.l,{type:"arrow-right",className:"ac-reverse-icon"})))),f.a.createElement(A,{label:"\u6838\u7b97\u5bf9\u8c61\uff1a",className:"form-offset-up form-offset-margin"},o.get("assCategory")?f.a.createElement(p.v,{className:"info-select",district:h,onOk:function(e){var t=e.value.split(E.B);n(g.p(o.get("assCategory"),t[0],t[1]))}},f.a.createElement("span",{className:"info-select-text"},o.get("assName")," ",f.a.createElement(p.l,{type:"arrow-right",className:"ac-reverse-icon"}))):""),f.a.createElement("div",{className:"ass-reverse-info-tit",style:{display:o.get("oldAssId")?"":"none"}},f.a.createElement("span",null,"\u4fe1\u606f\u586b\u5199")),f.a.createElement(A,{label:"\u539f\u7f16\u7801\uff1a",className:"form-offset-up form-offset-margin",style:{display:o.get("oldAssId")?"":"none"}},f.a.createElement("span",null,o.get("oldAssId"))),f.a.createElement(A,{label:"\u65b0\u7f16\u7801\uff1a",className:"form-offset-up form-offset-margin",style:{display:o.get("oldAssId")?"":"none"}},f.a.createElement(p.z,{className:"ac-kmset-item-input",type:"text",placeholder:"\u586b\u5199\u7f16\u7801 (\u965016\u4f4d\u6570\u5b57\u5b57\u6bcd)",value:o.get("assId"),onChange:function(t){if(/^[A-Za-z0-9]*$/g.test(t)){if(t.length>E.k)return Object(b.u)("","","","\u8f85\u52a9\u6838\u7b97\u7f16\u7801\u4f4d\u6570\u4e0d\u80fd\u8d85\u8fc7".concat(E.f,"\u4f4d"));n(g.m(t)),S.some((function(e){return e.get("assid")===t}))?e.setState({showInfo:!0}):e.setState({showInfo:!1})}}}),f.a.createElement(p.l,{type:"arrow-right",className:"ac-reverse-icon"})),f.a.createElement("div",{className:"ass-reverse-info-tip",style:{display:c?"":"none"}},f.a.createElement("span",{className:"reverse-item-icon"},"\u8f85\u52a9\u7c7b\u522b\u4e0b\u8be5\u7f16\u7801\u5df2\u5b58\u5728")),f.a.createElement("div",{className:"ass-reverse-show",style:{display:o.get("oldAssId")?"":"none"}},f.a.createElement("div",null,"\u8be5\u6838\u7b97\u5bf9\u8c61\u5df2\u4f7f\u7528\u7684\u5185\u5bb9"),f.a.createElement("ul",{className:"ass-tip"},i.map((function(e){return f.a.createElement("li",{className:"ass-tip-item"},"vc"===e?"\u6709\u76f8\u5173\u7684\u51ed\u8bc1":e)})))),f.a.createElement("div",{className:"ass-reverse-bottom",style:{display:o.get("oldAssId")?"":"none"}},"\u5c06\u7edf\u4e00\u4fee\u6539\u4ee5\u4e0a\u5185\u5bb9\u7684\u6838\u7b97\u5bf9\u8c61\u7f16\u7801")):f.a.createElement(p.k,null,f.a.createElement(A,{label:"\u8f85\u52a9\u7c7b\u522b\uff1a",className:"form-offset-up"},f.a.createElement(p.v,{className:"info-select",placeholder:"\u8bf7\u9009\u62e9\u8f85\u52a9\u7c7b\u522b",extra:"\u8bf7\u9009\u62e9\u8f85\u52a9\u7c7b\u522b",district:M,onOk:function(e){return n(g.e(e.value))}},f.a.createElement("span",{className:"info-select-text"},_,f.a.createElement(p.l,{type:"arrow-right",className:"ac-reverse-icon"})))),f.a.createElement(A,{label:"\u4fee\u6539\u540e\u540d\u79f0\uff1a",className:"form-offset-up form-offset-margin"},f.a.createElement(p.z,{className:"ac-kmset-item-input",type:"text",placeholder:"\u8bf7\u8f93\u5165",value:j,onChange:function(e){if(b.g.hasChiness(e))return Object(b.u)("","","","\u540d\u79f0\u5305\u542b\u4e2d\u6587\u53ca\u4e2d\u6587\u6807\u70b9\u5b57\u7b26\uff0c\u957f\u5ea6\u4e0d\u80fd\u8d85\u8fc7".concat(E.c,"\u4f4d\uff1b\u4e0d\u5305\u542b\u4e2d\u6587\u53ca\u4e2d\u6587\u6807\u70b9\u5b57\u7b26\uff0c\u957f\u5ea6\u4e0d\u80fd\u8d85\u8fc7").concat(E.d,"\u4f4d"));n(g.d(e))}})))),I?f.a.createElement(p.d,{type:"ghost",height:50},f.a.createElement(p.c,{onClick:function(){return s.goBack()}},f.a.createElement(p.l,{type:"cancel"}),f.a.createElement("span",null,"\u53d6\u6d88")),f.a.createElement(p.c,{disabled:!o.get("oldAssId"),onClick:function(){return o.get("assId")?c?Object(b.u)("","","","\u65b0\u7f16\u7801\u5df2\u5b58\u5728\uff0c\u4e0d\u53ef\u4fee\u6539"):void n(g.w(!0)):Object(b.u)("","","","\u672a\u586b\u5199\u65b0\u7f16\u7801")}},f.a.createElement(p.l,{type:"save"}),f.a.createElement("span",null,"\u4fe1\u606f\u786e\u8ba4"))):f.a.createElement(p.d,{type:"ghost",height:50},f.a.createElement(p.c,{onClick:function(){return s.goBack()}},f.a.createElement(p.l,{type:"cancel"}),f.a.createElement("span",null,"\u53d6\u6d88")),f.a.createElement(p.c,{disabled:""===j||""===_,onClick:function(){if(T.includes(j)||w.includes(j))return Object(b.u)("","","","\u5df2\u5b58\u5728\u540c\u540d\u7684\u8f85\u52a9\u7c7b\u522b");n(g.w(!0))}},f.a.createElement(p.l,{type:"save"}),f.a.createElement("span",null,"\u4fe1\u606f\u786e\u8ba4"))))}}]),n}(f.a.Component))||r,O={assconfigState:n(1327).a}}}]);