(this.webpackJsonpfannix=this.webpackJsonpfannix||[]).push([[42],{1844:function(e,a,t){},981:function(e,a,t){"use strict";t.r(a),t.d(a,"reducer",(function(){return j})),t.d(a,"view",(function(){return E}));t(32),t(55),t(115),t(61),t(34),t(31),t(56),t(29),t(82),t(76);var s,n,c=t(7),i=t(8),r=t(9),o=t(10),m=t(0),l=t.n(m),u=t(47),d=(t(1),t(11)),g=(t(48),t(24)),b=t(1309),p=Object(g.immutableRenderDecorator)(s=function(e){Object(o.a)(t,e);var a=Object(r.a)(t);function t(){return Object(c.a)(this,t),a.apply(this,arguments)}return Object(i.a)(t,[{key:"render",value:function(){var e=this.props,a=(e.idx,e.jv),t=(e.issuedate,e.dispatch),s=e.history,n=e.jvlist,c=a.get("vcdate").replace(/-/g,".");return l.a.createElement("div",{className:"assmxb-jv",onClick:function(){return t(b.b(a.get("vcdate").slice(0,7),a.get("vcindex"),s,n))}},l.a.createElement("div",{className:"assmxb-jv-title"},l.a.createElement("span",{className:"assmxb-jv-abstract"},"".concat(c,"-").concat(a.get("jvabstract")))),l.a.createElement("div",{className:"assmxb-jv-content"},l.a.createElement("span",{className:"assmxb-vcindex"},"\u8bb0 ",a.get("vcindex")," \u53f7"),l.a.createElement("span",{className:"assmxb-jvdirection"},"credit"==a.get("jvdirection")?"\u8d37":"\u501f"),l.a.createElement(d.a,{className:"assmxb-amount",showZero:!0},a.get("jvamount")),l.a.createElement(d.a,{className:"assmxb-amount",showZero:!0},a.get("balance"))))}}]),t}(l.a.Component))||s,v=t(2),x=t(542),f=(t(1844),t(130)),E=(t(1056),Object(u.c)((function(e){return e}))(n=function(e){Object(o.a)(t,e);var a=Object(r.a)(t);function t(){return Object(c.a)(this,t),a.apply(this,arguments)}return Object(i.a)(t,[{key:"componentDidMount",value:function(){if("assYeb"===sessionStorage.getItem("previousPage")&&sessionStorage.removeItem("previousPage"),"cxpz"===sessionStorage.getItem("prevPage")){sessionStorage.removeItem("prevPage");var e=this.props,a=e.dispatch,t=e.assMxbState,s=t.get("reportassdetail"),n=t.get("assmxbAclist");a(b.a(t.get("issuedate"),t.get("endissuedate"),s.get("acid"),s.get("assid"),n.getIn([0,"asscategory"]),t.get("assidTwo"),t.get("asscategoryTwo")))}}},{key:"render",value:function(){var e=this.props,a=e.dispatch,t=e.allState,s=e.assMxbState,n=e.history;v.a.setTitle({title:"\u8f85\u52a9\u6838\u7b97\u660e\u7ec6\u8868"});var c=t.get("issues"),i=s.get("issuedate"),r=s.get("endissuedate"),o=c.findIndex((function(e){return e.get("value")===i})),m=c.slice(0,o),u=s.get("assmxbAclist"),g=s.get("asscategory"),E=s.get("assidTwo"),N=s.get("asscategoryTwo"),h=s.get("doubleAss"),j=s.get("reportassdetail"),y=j.get("jvlist"),w=j.get("openingbalance"),k=j.get("closingbalance"),O=j.get("acid"),T=j.get("acfullname"),I=j.get("assid"),S=j.get("assname"),z=u.filter((function(e){return e.get("assid")==I})).getIn([0,"disableTime"]),P=[],M=u.filter((function(e){return e.get("assid")===I}));M.size&&M.getIn([0,"acDtoList"]).forEach((function(e){P.push({key:e.get("acid")+" "+e.get("acname"),value:e.get("acid")})})),P.length&&P.push({key:"\u5168\u90e8",value:"\u5168\u90e8"});var A=i.substr(0,4)+""+i.substr(5,2),C=r?r.substr(0,4)+""+r.substr(5,2):A,D="",B=E?N:"";E&&(D=h.filter((function(e){return e.get("value")==E})).getIn([0,"key"]).split(" ")[1]);return a(f.i("mxb",(function(){return function(e){return e(f.a("pdfassmxboneexport",{begin:A,end:C,assName:S,assid:I,acid:"".concat(O||""),asscategory:g,asscategoryTwo:B,assNameTwo:D,assIdTwo:E}))}}),(function(){return function(e){return e(f.a("assmxbexcelsubone",{begin:A,end:C,acid:O||"",assid:I,assname:S,asscategory:g,asscategoryTwo:B,assNameTwo:D,assIdTwo:E}))}}),"",(function(){return function(e){return e(f.a("assmxbexcelsuball",{begin:A,end:C,asscategory:g}))}}))),l.a.createElement(d.h,{className:"assmxb"},l.a.createElement(x.f,{issuedate:i,source:c,callback:function(e){return a(b.a(e,r,O,I,g,E,N))},onOk:function(e){return a(b.a(e.value,r,O,I,g,E,N))},showSwitch:!0,endissuedate:r,nextperiods:m,onBeginOk:function(e){a(b.a(e.value,"",O,I,g,E,N))},onEndOk:function(e){a(b.a(i,e.value,O,I,g,E,N))},changeEndToBegin:function(){a(b.a(i,"",O,I,g,E,N))}}),l.a.createElement(d.r,{className:"assmxb-title"},l.a.createElement("div",{className:"assmxb-title-assinfo"},l.a.createElement("span",{className:"assmxb-title-tip"},"\u8f85\u52a9\u9879\u76ee\uff1a"),l.a.createElement("span",{className:["assmxb-title-ass",z?"lrb-item-disable":""].join(" ")},"".concat(g,"_").concat(I," ").concat(S))),l.a.createElement(d.v,{district:P,onOk:function(e){var t="\u5168\u90e8"===e.value?"":e.value;a(t?b.a(i,r,t,I,g,E,N,!0):b.a(i,r,t,I,g,E,N))}},l.a.createElement("div",{className:"assmxb-title-acinfo"},l.a.createElement("span",{className:"assmxb-title-tip"},"\u79d1\u76ee\u9009\u62e9\uff1a"),l.a.createElement("span",{className:"assmxb-title-ac"},O?"".concat(O,"_").concat(T):"\u5168\u90e8"),l.a.createElement(d.l,{className:"assmxb-title-acinfo-icon",type:"arrow-down",size:"12"})))),l.a.createElement(d.r,{className:"assmxb-main-top"},l.a.createElement("span",{className:"assmxb-main-amount-odd"},"\u671f\u521d",l.a.createElement("span",{className:"assmxb-main-amount-odd-direction"},"(\u501f\u65b9)")),l.a.createElement(d.a,{className:"assmxb-main-amount"},w)),l.a.createElement(d.s,{flex:"1",uniqueKey:"assmxb-scroll",savePosition:!0},l.a.createElement("ul",{className:"assmxb-main-list"},y.map((function(e,t){return l.a.createElement(p,{idx:t,key:t,jv:e,issuedate:i,dispatch:a,history:n,jvlist:y})})),y.size?"":l.a.createElement("div",{className:"mxb-no-vc"},"\u6682\u65e0\u51ed\u8bc1"))),l.a.createElement(d.r,{className:"assmxb-main-top"},l.a.createElement("span",{className:"assmxb-main-amount-odd"},"\u671f\u672b",l.a.createElement("span",{className:"assmxb-main-amount-odd-direction"},"(\u501f\u65b9)")),l.a.createElement(d.a,{className:"assmxb-main-amount"},k)))}}]),t}(l.a.Component))||n),N=t(1434),h=t(1074),j={assMxbState:N.a,lrpzState:h.a}}}]);