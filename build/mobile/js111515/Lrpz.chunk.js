(this.webpackJsonpfannix=this.webpackJsonpfannix||[]).push([[87],{1048:function(e,t){e.exports="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},1067:function(e,t,a){var n=a(84),c="["+a(1048)+"]",r=RegExp("^"+c+c+"*"),s=RegExp(c+c+"*$"),i=function(e){return function(t){var a=String(n(t));return 1&e&&(a=a.replace(r,"")),2&e&&(a=a.replace(s,"")),a}};e.exports={start:i(1),end:i(2),trim:i(3)}},1068:function(e,t,a){var n=a(37),c=a(1048);e.exports=function(e){return n((function(){return!!c[e]()||"\u200b\x85\u180e"!="\u200b\x85\u180e"[e]()||c[e].name!==e}))}},1074:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));a(55),a(61),a(31),a(56),a(133),a(77),a(29),a(65),a(76);var n=a(4),c=a(1),r=(a(2),a(12),a(1083)),s=a(14),i=Object(c.fromJS)({flags:{selectComponentDisplay:!1,jvSelectedIdx:0,debitTotal:"0.00",creditTotal:"0.00",showckpz:!1,vcindexList:[],vcIdx:0,locked:"",currencyList:[],currencyListArr:[]},oldvcindex:"",oldyear:"",oldmonth:"",oldvcdate:"",vcindex:"",year:"",month:"",vcdate:"",createdtime:"",modifiedtime:"",createdby:"",exchange:"",closeby:"",reviewedby:"",enclosureCountUser:"",jvlist:[{jvdirection:"debit",jvabstract:"",acid:"",acname:"",acfullname:"",jvamount:"",asslist:[],acunitOpen:"0",jvcount:"",price:"",jvunit:"",fcStatus:"0",fcNumber:"",exchange:"",standardAmount:""}],vckey:0,enclosureList:[],label:[],needDeleteUrl:[],vcList:[]});function o(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,a=arguments.length>1?arguments[1]:void 0;return((e={},Object(n.a)(e,r.I,(function(){return i.set("year",t.get("year")).set("month",t.get("month")).set("vcdate",t.get("vcdate")).set("vcindex",t.get("vcindex"))})),Object(n.a)(e,r.Q,(function(){return t.setIn(["flags","showckpz"],a.bool)})),Object(n.a)(e,r.p,(function(){return t.updateIn(["flags","selectComponentDisplay"],(function(e){return!e}))})),Object(n.a)(e,r.P,(function(){return t.setIn(["flags","jvSelectedIdx"],a.idx)})),Object(n.a)(e,r.J,(function(){var e=l(t),n=e.getIn(["flags","debitTotal"])-e.getIn(["flags","creditTotal"]);return l(t.update("jvlist",(function(e){return e.insert(a.idx+1,e.get(a.idx).update("jvdirection",(function(e){return n>0?"credit":"debit"})).set("jvamount",Math.abs(n).toFixed(2)-0||"").set("acid","").set("acname","").set("acfullname","").set("asslist",[]).set("acunitOpen","0").set("jvcount","").set("price","").set("jvunit","").set("fcStatus","0").set("fcNumber","").set("exchange","").set("standardAmount",""))})))})),Object(n.a)(e,r.v,(function(){return l(t.get("jvlist").size>1?t.deleteIn(["jvlist",a.idx]):t)})),Object(n.a)(e,r.w,(function(){return l(t.update("jvlist",(function(e){return e.clear()})))})),Object(n.a)(e,r.s,(function(){return t.set("vcindex",Number(a.vcindex))})),Object(n.a)(e,r.f,(function(){return t.setIn(["jvlist",a.idx,"jvabstract"],a.jvabstract)})),Object(n.a)(e,r.g,(function(){var e=a.asscategorylist.map((function(e){return Object(c.fromJS)({assid:"",assname:"",asscategory:e})}));return t.updateIn(["jvlist",a.idx],(function(t){return t.set("acid",a.acid).set("acfullname",a.acfullname).set("acname",a.acname).set("asslist",e)}))})),Object(n.a)(e,r.h,(function(){return(/^[-\d]\d*\.?\d{0,2}$/g.test(a.jvamount)||""===a.jvamount)&&(t=l(t=t.setIn(["jvlist",a.idx,"jvamount"],a.jvamount))),t})),Object(n.a)(e,r.k,(function(){return l(t.updateIn(["jvlist",a.idx,"jvdirection"],(function(e){return"credit"==e?"debit":"credit"})))})),Object(n.a)(e,r.i,(function(){return t.updateIn(["jvlist",a.idx,"asslist"],(function(e){return e.map((function(e){return e.get("asscategory")==a.asscategory?e.set("assid",a.assid).set("assname",a.assname):e}))}))})),Object(n.a)(e,r.N,(function(){if(!a.voucher)return t;var e=Object(c.fromJS)(a.voucher);return l(t.merge(e).set("oldvcindex",e.get("vcindex")).set("oldyear",e.get("year")).set("oldmonth",e.get("month")).set("oldvcdate",e.get("vcdate")))})),Object(n.a)(e,r.F,(function(){return t.set("month",a.vcdate.getMonth()).set("year",a.vcdate.getYear()).set("vcdate",a.vcdate.toString()).set("vcindex",a.receivedData.data)})),Object(n.a)(e,r.M,(function(){t.get("oldvcdate");var e=a.date;return t.set("vcdate",e.toString())})),Object(n.a)(e,r.z,(function(){a.data;return"modify"===sessionStorage.getItem("lrpzHandleMode")&&(t=t.setIn(["flags","showckpz"],!0)),"insert"===sessionStorage.getItem("lrpzHandleMode")&&(t=t.set("createdtime",a.createdtime).set("createdby",a.createdby)),a.refresh&&(t=l(t.set("jvlist",i.get("jvlist")).set("vcindex",a.NewVcIndex))),t.set("vckey",0).set(["flags","locked",""])})),Object(n.a)(e,r.O,(function(){return t.set("reviewedby",a.reviewedby)})),Object(n.a)(e,r.d,(function(){return t.set("reviewedby","")})),Object(n.a)(e,r.y,(function(){return t.set("vckey",a.receivedData)})),Object(n.a)(e,r.B,(function(){return l((t=a.judgeLocked?i.set("vcindex",a.receivedData+1).set("vcdate",a.vcDate.toString()).set("year",a.vcDate.getYear()).set("month",a.vcDate.getMonth()):i.set("vcindex",a.getDraftItem.vcindex).set("vcdate",a.getDraftItem.vcdate).set("year",a.getDraftItem.year).set("month",a.getDraftItem.month)).set("jvlist",Object(c.fromJS)(a.getDraftItem.jvlist)).set("vckey",a.getDraftItem.vckey).set("enclosureCountUser",a.getDraftItem.enclosureCountUser).setIn(["flags","locked"],a.getDraftItem.locked).setIn(["flags","showckpz"],!0))})),Object(n.a)(e,r.K,(function(){return t.setIn(["flags","locked"],"1")})),Object(n.a)(e,r.L,(function(){return t.setIn(["flags","locked"],"0")})),Object(n.a)(e,r.A,(function(){return(t=t.setIn(["jvlist",a.idx,"jvunit"],a.receivedData.acunit).setIn(["jvlist",a.idx,"acunitOpen"],a.receivedData.acunitOpen).setIn(["jvlist",a.idx,"jvcount"],"")).getIn(["jvlist",a.idx,"jvdirection"])||(t=t.setIn(["jvlist",a.idx,"jvdirection"],a.receivedData.direction)),t=0==a.receivedData.price?t.setIn(["jvlist",a.idx,"price"],""):t.setIn(["jvlist",a.idx,"price"],a.receivedData.price)})),Object(n.a)(e,r.j,(function(){new RegExp("^[-\\d]\\d*\\.?\\d{0,"+Number(a.unitDecimalCount)+"}$","g");return Number(a.jvCount)>1e6||Number(a.jvCount)<-1e6?alert("\u6570\u91cf\u4e0d\u80fd\u8d85\u8fc7".concat(s.r,"\u4f4d")):t.setIn(["jvlist",a.idx,"jvcount"],a.jvCount)})),Object(n.a)(e,r.n,(function(){return/^[-\d]\d*\.?\d{0,2}$/g.test(a.jvPrice)||""===a.jvPrice?(Number(a.jvPrice)<0&&(alert("\u5355\u4ef7\u4e0d\u5141\u8bb8\u4e3a\u8d1f\u6570"),a.jvPrice=-Number(a.jvPrice)),Number(a.jvPrice)>1e9||Number(a.jvPrice)<-1e9?alert("\u5355\u4ef7\u4e0d\u80fd\u8d85\u8fc7".concat(s.s,"\u4f4d")):t.setIn(["jvlist",a.idx,"price"],a.jvPrice)):t})),Object(n.a)(e,r.b,(function(){var e=t.getIn(["jvlist",a.idx,"price"]),n=t.getIn(["jvlist",a.idx,"jvcount"]),c=t.getIn(["jvlist",a.idx,"jvamount"]);if("count"==a.value||"price"==a.value)if(Number(n)&&Number(e))Number(c)<0&&n?n=-Math.abs(n):Number(c)>0&&n&&(n=Math.abs(n)),n=Number(n)%1==0?Math.floor(n):parseFloat(Number(n).toFixed(2)),e=Number(e)%1==0?Math.floor(e):parseFloat(Number(e).toFixed(2)),t=t.setIn(["jvlist",a.idx,"price"],e).setIn(["jvlist",a.idx,"jvcount"],n).setIn(["jvlist",a.idx,"jvamount"],(n*e).toFixed(2));else if(""==e&&n&&c)e=c/n,e=Number(e)%1==0?Math.floor(e):parseFloat(Number(e).toFixed(2)),t=t.setIn(["jvlist",a.idx,"price"],e);else if(""==n&&e&&c)n=parseFloat((c/e).toFixed(a.unitDecimalCount)),Number(n)%1==0&&(n=Math.floor(n)),t=t.setIn(["jvlist",a.idx,"jvcount"],n);else{if(0==n||!c)return t;e=c/n,e=Number(e)%1==0?Math.floor(e):parseFloat(Number(e).toFixed(2)),t=t.setIn(["jvlist",a.idx,"price"],e)}else if("amount"==a.value){if(!n||!c)return t;Number(c)<0&&n?n=-Math.abs(n):Number(c)>0&&n&&(n=Math.abs(n)),e=c/n,e=Number(e)%1==0?Math.floor(e):parseFloat(Number(e).toFixed(2)),t=t.setIn(["jvlist",a.idx,"price"],e).setIn(["jvlist",a.idx,"jvcount"],n)}return l(t)})),Object(n.a)(e,r.t,(function(){return t.setIn(["jvlist",a.idx,"acunitOpen"],"0")})),Object(n.a)(e,r.D,(function(){if(!a.receivedData)return t;var e=Object(c.fromJS)(a.receivedData);return l(t.merge(e).set("oldvcindex",e.get("vcindex")).set("oldyear",e.get("year")).set("oldmonth",e.get("month")).set("oldvcdate",e.get("vcdate")))})),Object(n.a)(e,r.e,(function(){var e=[];return t.get("enclosureList").map((function(t){e.push(t)})),a.imgArr.forEach((function(t){e.push(t)})),e=e.slice(0,9),t=t.set("enclosureList",Object(c.fromJS)(e)).set("enclosureCountUser",e.length)})),Object(n.a)(e,r.x,(function(){return t.get("enclosureList").map((function(e,n){n==a.index&&(t=t.deleteIn(["enclosureList",n]))})),t=t.set("enclosureCountUser",t.get("enclosureList").size)})),Object(n.a)(e,r.H,(function(){return t=t.set("enclosureList",Object(c.fromJS)(a.receivedData))})),Object(n.a)(e,r.r,(function(){return t.set("enclosureCountUser",a.value)})),Object(n.a)(e,r.E,(function(){var e=[];return a.receivedData.data.forEach((function(t,a){e.push({key:t,value:a})})),t=t.set("label",e)})),Object(n.a)(e,r.q,(function(){return t.get("enclosureList").map((function(e,n){n==a.index&&(t=t.setIn(["enclosureList",n,"label"],a.value))})),t})),Object(n.a)(e,r.C,(function(){var e=Object(c.fromJS)(a.receivedData),n=[];e.map((function(e,t){return n.push(e.get("fcNumber"))}));var r=e.filter((function(e){return"1"==e.get("standard")})),s=r.getIn([0,"fcNumber"]),i=r.getIn([0,"exchange"]);return"modify"!=a.idx&&(t=t.setIn(["jvlist",a.idx,"fcStatus"],"1").setIn(["jvlist",a.idx,"fcNumber"],s).setIn(["jvlist",a.idx,"exchange"],i).setIn(["jvlist",a.idx,"jvdirection"],"debit")),t.setIn(["flags","currencyList"],e).setIn(["flags","currencyListArr"],n)})),Object(n.a)(e,r.u,(function(){return t.setIn(["jvlist",a.idx,"fcStatus"],"0").setIn(["jvlist",a.idx,"fcNumber"],"").setIn(["jvlist",a.idx,"exchange"],"").setIn(["jvlist",a.idx,"standardAmount"],"")})),Object(n.a)(e,r.m,(function(){return t.setIn(["jvlist",a.idx,"fcNumber"],a.fcNumber).setIn(["jvlist",a.idx,"exchange"],a.exchange)})),Object(n.a)(e,r.l,(function(){return/^\d*\.?\d{0,4}$/g.test(a.value)||""===a.value?t.setIn(["jvlist",a.idx,"exchange"],a.value):t})),Object(n.a)(e,r.o,(function(){return/^[-\d]\d*\.?\d{0,2}$/g.test(a.value)||""===a.value?t.setIn(["jvlist",a.idx,"standardAmount"],a.value):t})),Object(n.a)(e,r.c,(function(){var e=t.getIn(["jvlist",a.idx,"price"]),n=t.getIn(["jvlist",a.idx,"jvcount"]),c=t.getIn(["jvlist",a.idx,"standardAmount"]),r=t.getIn(["jvlist",a.idx,"exchange"]),s=t.getIn(["jvlist",a.idx,"jvamount"]);return e&&n&&c&&r?"count"==a.value?(n=u(n,s),c=u(c,s),r=(s=(n*e).toFixed(2))/c):"price"==a.value?r=(s=(n*e).toFixed(2))/c:"standardAmount"==a.value?(n=u(n,s),e=(s=((c=u(c,s))*r).toFixed(2))/n):"exchange"==a.value?e=(s=(c*r).toFixed(2))/n:"amount"==a.value&&(n=u(n,s),c=u(c,s),s&&(e=Number(s)/n,r=Number(s)/c)):"count"==a.value||"price"==a.value?(Number(n)&&e?(n=u(n,s),s=(Number(n)*e).toFixed(2)):""==e&&n&&s||0!=n&&s?e=s/n:t=t,Number(c)&&(r=s/c)):"standardAmount"==a.value||"exchange"==a.value?(Number(c)&&r?(c=u(c,s),s=(Number(c)*r).toFixed(2)):""==r&&c&&s?(r=(r=s/c)%1==0?Math.floor(r):parseFloat(r.toFixed(4)),t=t.setIn(["jvlist",a.idx,"exchange"],r)):c&&s&&(r=s/c),Number(n)&&(e=s/n)):"amount"==a.value&&(n=u(n,s),c=u(c,s),s&&(!c&&n?e=Number(s)/n:c&&!n?r=Number(s)/c:c&&n&&(e=Number(s)/n,r=Number(s)/c))),n=Number(n)%1==0?Math.floor(n):parseFloat(Number(n).toFixed(a.unitDecimalCount)),c=Number(c)%1==0?Math.floor(c):parseFloat(Number(c).toFixed(2)),e=Number(e)%1==0?Math.floor(e):parseFloat(Number(e).toFixed(2)),r=Number(r)%1==0?Math.floor(r):parseFloat(Number(r).toFixed(4)),l(t=t.setIn(["jvlist",a.idx,"standardAmount"],0===c?"":c).setIn(["jvlist",a.idx,"exchange"],r).setIn(["jvlist",a.idx,"price"],e).setIn(["jvlist",a.idx,"jvcount"],n).setIn(["jvlist",a.idx,"jvamount"],s))})),Object(n.a)(e,r.R,(function(){return t.set("vcList",a.vcList)})),e)[a.type]||function(){return t})()}function l(e){var t=0,a=0;return e.get("jvlist").map((function(e){"credit"===e.get("jvdirection")?t+=Number(e.get("jvamount")):"debit"===e.get("jvdirection")&&(a+=Number(e.get("jvamount")))})),e=(e=e.setIn(["flags","creditTotal"],t?t.toFixed(2).toString():"0.00")).setIn(["flags","debitTotal"],a?a.toFixed(2).toString():"0.00")}function u(e,t){return Number(t)<0&&e?-Math.abs(e):Number(t)>0&&e?Math.abs(e):e}},1091:function(e,t,a){"use strict";var n=a(39),c=a(1067).trim;n({target:"String",proto:!0,forced:a(1068)("trim")},{trim:function(){return c(this)}})},1457:function(e,t,a){},941:function(e,t,a){"use strict";a.r(t),a.d(t,"reducer",(function(){return M})),a.d(t,"view",(function(){return z}));a(32),a(223),a(98),a(115),a(61),a(33),a(31),a(116),a(555),a(77),a(29),a(65),a(90),a(48),a(76);var n=a(220),c=a(7),r=a(8),s=a(9),i=a(10),o=a(0),l=a.n(o),u=a(47),d=a(1090),m=a(552),v=a(130),g=a(1260),f=a(38),p=a(11),h=(a(34),function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props,t=e.vcindex,a=e.dispatch,n=e.creditTotal,c=e.debitTotal,r=e.closedby,s=e.reviewedby,i=e.showckpz,o=e.locked,u=e.vcdate,m="draft"===sessionStorage.getItem("enterDraft");return l.a.createElement(p.r,{className:["title",m?"lrpz-locked":""].join(" ")},l.a.createElement("div",{className:"title-item title-item-left"},l.a.createElement("p",{className:["title-item-vcindex",m?"draft-vcindex":""].join(" ")},l.a.createElement("span",null,"\u8bb0 "),l.a.createElement("input",{disabled:i,style:i?{background:m?"#fff":"#DEDEDE",border:m?"0":"",color:m&&"1"==o?"#999":"#222"}:void 0,className:"vc-index",type:"tel",value:t,onChange:function(e){return a(d.changeVcId(e.target.value))}}),l.a.createElement("span",null," \u53f7")),l.a.createElement("p",{className:"draft-vcdate",style:{display:m?"block":"none"}},u.replace(/\-/g,"/"))),l.a.createElement(p.l,{style:{display:"draft"===sessionStorage.getItem("enterDraft")&&"1"===o?"":"none"},className:"locked-icon",color:"#ff943e",type:"locked",size:"50"}),l.a.createElement(p.l,{style:{display:r?"":"none"},className:"title-item-icon",color:"#DE4646",type:"the-invosing",size:"67"}),l.a.createElement(p.l,{style:{display:r?"none":s?"":"none"},className:"title-item-icon title-item-icon-yishenhe",color:"#ff943e",type:"yishenhe",size:"50"}),l.a.createElement("div",{className:"title-item title-item-right"},l.a.createElement("p",null,"\u501f\u65b9\u5408\u8ba1: ",c),l.a.createElement("p",null,"\u8d37\u65b9\u5408\u8ba1: ",n)))}}]),a}(l.a.Component)),b=(a(55),a(70),a(82),a(1)),y=a(2),j=a(14);var x,I,E=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).state={countBlur:!1,priceBlur:!1,acunitOpen:"0",standardAmountBlur:!1,exchangeBlur:!1},e}return Object(r.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.idx,n=t.jv,c=t.vcdate,r=t.acasslist,s=t.deletable,i=t.dispatch,o=t.jvListLength,u=(t.selectComponentDisplay,t.currencyList),m=t.unitDecimalCount,v=t.onAcSelectClick,g=this.state,f=g.countBlur,h=g.priceBlur,b=g.acunitOpen,x=g.standardAmountBlur,I=g.exchangeBlur,E=n.get("asslist"),N=!!E.map((function(e){return e.get("asscategory")})).size,k=n.get("jvcount");0==k&&(f||(k=""));var S=n.get("price");0==S&&(h||(S=""));var C=n.get("standardAmount");0==C&&(x||(C=""));var O=n.get("exchange");0==O&&(I||(O=""));var D=u.map((function(e,t){return{key:"".concat(e.get("fcNumber")).concat(j.m).concat(e.get("name")),value:"".concat(e.get("fcNumber")).concat(j.m).concat(e.get("name")).concat(j.m).concat(e.get("exchange"))}}));return l.a.createElement("div",{className:"jv-item"},l.a.createElement("div",{className:"jv-abstract"},l.a.createElement(p.z,{className:"jv-abstract-content",moneyKeyboardAlign:"right",type:"text",placeholder:"\u6458\u8981\u586b\u5199",value:n.get("jvabstract"),onChange:function(e){return i(d.changeJvAbstract(e,a))}}),l.a.createElement(p.l,{style:s?void 0:{color:"#ccc"},type:"close-item",className:"btn-close",onClick:function(){i(d.deleteJv(a))}})),l.a.createElement("div",{className:"jv-ac"},l.a.createElement("div",{className:"jv-ac-select".concat(n.get("acid")?"":"-placeholder"),onClick:function(){v(a,n.get("acid"),(function(t){return e.setState({acunitOpen:t})}))}},n.get("acid")?n.get("acfullname")?"".concat(n.get("acid"),"_").concat(n.get("acfullname")):n.get("acid"):"\u8bf7\u70b9\u51fb\u9009\u62e9\u79d1\u76ee")),E.map((function(e,t){var s=r.find((function(t){return t&&t.get("asscategory")===e.get("asscategory")})),o=s&&s.get("asslist").filter((function(e){return e.get("assid")&&!e.get("disableTime")})).map((function(e,t){return{key:[e.get("assid"),"_",e.get("assname")].join(""),value:[e.get("assid"),"_",e.get("assname")].join("")}})),u=s.get("asslist").filter((function(e){return e.get("assid")})).filter((function(e){return!e.get("disableTime")})),m=e.get("assid")?e.get("asscategory")+"_"+e.get("assid")+"_"+e.get("assname"):"\u8bf7\u70b9\u51fb\u9009\u62e9\u8f85\u52a9\u6838\u7b97\uff08\u7c7b\u522b\uff1a".concat(e.get("asscategory"),"\uff09");return u.size?l.a.createElement(p.v,{className:"jv-ass-margin",key:t,district:o,onOk:function(t){var r=function(e){var t=e.match(/^[A-Za-z0-9]*/);return{name:e.match(/_.*$/).toString().replace("_",""),id:t.toString()}}(t.key);if(1===n.get("asslist").size)"1"===b&&i(d.getAmountDataFetch(n.get("acid"),c,a,r.id,e.get("asscategory")));else if(2===n.get("asslist").size){var s=n.get("asslist").find((function(t){return t.get("asscategory")!==e.get("asscategory")})),o=s.get("asscategory"),l=s.get("assid");l&&"1"===b&&i(d.getAmountDataFetch(n.get("acid"),c,a,r.id,e.get("asscategory"),l,o))}i(d.changeJvAssIdAndAssName(a,r.id,r.name,e.get("asscategory")))}},l.a.createElement("div",{key:t,className:"jv-ass",style:{display:N?"":"none"}},l.a.createElement("div",{className:"jv-ass-select".concat(e.get("assid")?"":"-placeholder")},m))):l.a.createElement("div",{key:t,className:"jv-ass",style:{display:N?"":"none"}},l.a.createElement("div",{className:"jv-ass-select".concat(e.get("assid")?"":"-placeholder"),onClick:function(){var t=e.get("asscategory")+"\u4e2d\u6240\u6709\u7684\u6838\u7b97\u9879\u76ee\u4e3a\u7981\u7528\u72b6\u6001\uff0c\u60a8\u53ef\u4ee5\uff1a1\u3001\u8d26\u5957\u7ba1\u7406\u5458\u5728\u201c\u8f85\u52a9\u6838\u7b97\u8bbe\u7f6e\u201d\u9875\u9762\u4e2d\uff0c\u542f\u7528\u5df2\u6709\u7684\u6838\u7b97\u9879\u76ee\uff1b2\u3001\u5728\u5f53\u524d\u9875\u9762\uff0c\u201c\u65b0\u589e\u201d\u65b0\u7684\u6838\u7b97\u9879\u76ee";y.a.Alert(t,"\u786e\u5b9a")}},m))})),l.a.createElement("div",{className:"jv-number",style:{display:"1"==n.get("acunitOpen")?"flex":"none"}},l.a.createElement("span",{className:"jv-number-position jv-number-left jv-amount-content"},l.a.createElement(p.b,{type:"text",placeholder:"\u6570\u91cf\u586b\u5199",value:n.get("jvcount"),moneyKeyboardAlign:"left",decimalPlaces:m,onChange:function(e){return i(d.changeJvCount(e,a,m))},onFocus:function(t){e.setState({countBlur:!0})},onBlur:function(){e.setState({countBlur:!1}),"1"==n.get("fcStatus")||n.get("fcNumber")?i(d.autoCalculateAll(a,"count",m)):i(d.autoCalculate(a,"count",m))}}),l.a.createElement("span",{className:"jv-number-unit"},n.get("jvunit"))),l.a.createElement("span",{className:"jv-number-right jv-amount-content"},l.a.createElement(p.b,{type:"text",placeholder:"\u5355\u4ef7\u586b\u5199",moneyKeyboardAlign:"left",value:n.get("price"),onChange:function(e){i(d.changeJvPrice(e,a))},onFocus:function(t){e.setState({priceBlur:!0})},onBlur:function(){e.setState({priceBlur:!1}),"1"==n.get("fcStatus")||n.get("fcNumber")?i(d.autoCalculateAll(a,"price",m)):i(d.autoCalculate(a,"price",m))}}))),l.a.createElement("div",{className:"jv-currency",style:{display:"1"==n.get("fcStatus")||n.get("fcNumber")?"flex":"none"}},l.a.createElement("span",{className:"jv-currency-left jv-amount-content"},l.a.createElement(p.b,{type:"text",placeholder:"\u539f\u5e01\uff1a",moneyKeyboardAlign:"left",value:n.get("standardAmount"),onChange:function(e){return i(d.changeJvStandardAmount(a,e))},onFocus:function(t){e.setState({standardAmountBlur:!0})},onBlur:function(){e.setState({standardAmountBlur:!1}),i(d.autoCalculateAll(a,"standardAmount",m))}})),l.a.createElement("div",{className:"jv-currency-right"},l.a.createElement(p.v,{district:D,onOk:function(e){var t=e.value.split(j.m),n=t[0],c=t[2];i(d.changeJvNumber(a,n,c))&&i(d.autoCalculateAll(a,"exchange",m))}},l.a.createElement("span",{className:"jv-currency-fcNumber"},l.a.createElement("span",null,n.get("fcNumber")),l.a.createElement(p.l,{type:"triangle",size:"11",style:{color:"#CCCCCC"}}))),l.a.createElement("span",{className:"jv-currency-right-input"},l.a.createElement(p.b,{className:"jv-amount-content",type:"text",placeholder:"",moneyKeyboardAlign:"left",value:n.get("exchange"),onChange:function(e){i(d.changeJvExchange(a,e))},onFocus:function(t){e.setState({exchangeBlur:!0})},onBlur:function(){e.setState({exchangeBlur:!1}),i(d.autoCalculateAll(a,"exchange",m))}})))),l.a.createElement("div",{className:"jv-amount"},l.a.createElement("span",{className:"jv-amount-content"},l.a.createElement(p.b,{moneyKeyboardAlign:"left",placeholder:"\u91d1\u989d\u586b\u5199",value:n.get("jvamount"),onChange:function(e){return i(d.changeJvAmount(e,a))},onBlur:function(){"1"==n.get("fcStatus")||n.get("fcNumber")?i(d.autoCalculateAll(a,"amount",m)):i(d.autoCalculate(a,"amount",m))}})),l.a.createElement(p.x,{checked:"credit"===n.get("jvdirection"),checkedChildren:"\u8d37",unCheckedChildren:"\u501f",onChange:function(){return i(d.changeJvDirection(a))}}),l.a.createElement("a",{className:"jv-amount-btn jv-amount-primary",href:"javascript:;",onClick:function(){30===o&&y.a.Alert("\u5efa\u8bae\u5206\u5f55\u4e0d\u8981\u8d85\u8fc730\u6761"),60===o&&y.a.Alert("\u5f3a\u70c8\u5efa\u8bae\u5206\u5f55\u4e0d\u8981\u8d85\u8fc760\u6761"),o<90?i(d.insertJv(a)):y.a.Alert("\u7981\u6b62\u5206\u5f55\u8d85\u8fc790\u6761")}},l.a.createElement(p.l,{type:"add"}),l.a.createElement("span",null,"\u589e\u52a0\u5206\u5f55"))))}}]),a}(l.a.Component),N=a(24),k=Object(N.immutableRenderDecorator)(x=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props,t=e.idx,a=e.jv;return l.a.createElement("div",{className:"vc-jv",key:t},l.a.createElement("div",{className:"vc-jv-info"},l.a.createElement("span",{className:"vc-jv-direction"},["debit"===a.get("jvdirection")?"\u501f":"\u8d37","\uff1a",a.get("acfullname")].join("")),l.a.createElement(p.a,{className:"vc-jv-amount",showZero:!0},a.get("jvamount")?a.get("jvamount"):0)),a.get("asslist").size?l.a.createElement("div",{className:"vc-jv-ass"},a.get("asslist").map((function(e,t){return l.a.createElement("div",{key:t,className:"vc-jv-ass-showtext ".concat(0===t?"vc-jv-ass-showtext-tip":"")},"".concat(e.get("asscategory")+"_"+e.get("assid")+" "+e.get("assname")))}))):"",l.a.createElement("div",{className:"vc-jv-abstract"},l.a.createElement("span",null,"\u6458\u8981\uff1a"),l.a.createElement("span",null,a.get("jvabstract"))))}}]),a}(l.a.Component))||x,S=a(232),C=a(102),O=a(135),D=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props,t=(e.dispatch,e.aclist),a=e.value,n=e.onChange,c=e.visible,r=e.parentDisabled,s=e.onCancel,i=function(e,t){if("object"!==Object(C.a)(e))return[];var a=[{key:"\u8d44\u4ea7",label:"\u8d44\u4ea7",childList:[]},{key:"\u8d1f\u503a",label:"\u8d1f\u503a",childList:[]},{key:"\u6743\u76ca",label:"\u6743\u76ca",childList:[]},{key:"\u6210\u672c",label:"\u6210\u672c",childList:[]},{key:"\u635f\u76ca",label:"\u635f\u76ca",childList:[]}];return e.forEach((function(e){var t,n=e.acid,c={"\u6d41\u52a8\u8d44\u4ea7":"\u8d44\u4ea7","\u975e\u6d41\u52a8\u8d44\u4ea7":"\u8d44\u4ea7","\u6d41\u52a8\u8d1f\u503a":"\u8d1f\u503a","\u975e\u6d41\u52a8\u8d1f\u503a":"\u8d1f\u503a","\u6240\u6709\u8005\u6743\u76ca":"\u6743\u76ca","\u6210\u672c":"\u6210\u672c"}[e.category]||"\u635f\u76ca",r={key:n,label:n+" "+e.acname,item:e,childList:[]};4==n.length?a.forEach((function(e,t){e.key===c&&a[t].childList.push(r)})):(a.forEach((function(e,n){e.key===c&&(t=a[n].childList)})),function(e,t){for(var a=e.length-2;a!=t.key.length;)t=t.childList.find((function(t){return!e.indexOf(t.key)}));return t}(n,t.find((function(e){return!n.indexOf(e.key)}))).childList.push(r))})),a}(t.toJS()).filter((function(e){return 0!==e.childList.length}));return l.a.createElement(O.a,{visible:c,district:i,value:a,parentDisabled:r,onChange:n,onCancel:s},this.props.children)}}]),a}(l.a.Component),F=a(542),A=a(12);a(1457);var z=Object(u.c)((function(e){return e}))(I=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={autoEncode:"true",codeRepeatModal:!1,showAcSelect:!1,selestStatus:{acid:"",index:"",acunitOpen:"0"}},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){if(y.a.setIcon({showIcon:!1}),"home"===sessionStorage.getItem("prevPage")){sessionStorage.removeItem("prevPage"),sessionStorage.setItem("lrpzHandleMode","insert");var e=this.props.allState.get("period"),t=e.get("openedyear"),a=e.get("openedmonth"),n=new Date,c=n.getFullYear(),r=n.getMonth()+1,s="";if(t){var i=new Date(t,a,0),o=new Date;s=c==t&&r==a?o:i}else s=new Date;this.props.dispatch(m.c()),this.props.dispatch(m.b(s)),this.props.dispatch(m.d(!1))}sessionStorage.setItem("prevPage","cxpz");var l=this.props.homeState.getIn(["data","userInfo","sobInfo","moduleInfo"]),u=!l||l.indexOf("ENCLOSURE_GL")>-1,v="TRUE"===this.props.homeState.getIn(["data","userInfo","checkMoreFj"]);u&&v&&this.props.dispatch(d.initLabel()),this.props.dispatch(f.b.setDdConfig())}},{key:"componentWillUnmount",value:function(){sessionStorage.removeItem("router-from")}},{key:"render",value:function(){var e=this,t=this.props,a=t.history,c=t.lrpzState,r=t.allState,s=t.cxpzState,i=t.kmmxbState,o=t.assMxbState,u=t.dispatch,f=t.amountMxbState,j=t.homeState,x=t.cxAccountState,I=t.currencyMxbState,N=this.state,C=N.autoEncode,O=N.codeRepeatModal,z=N.showAcSelect,L=N.selestStatus,w=j.getIn(["permissionInfo","Pz"]),M=j.getIn(["data","userInfo","sobInfo"]),J=!!M&&M.get("moduleInfo").indexOf("RUNNING")>-1,B=w.getIn(["edit","permission"]),U=w.getIn(["review","permission"]),T=r.getIn(["systemInfo","unitDecimalCount"]),R=c.get("jvlist"),P=R.size,H=c.get("vcindex"),K=c.get("vcdate"),_=c.get("enclosureCountUser"),V=!!c.get("closedby"),$=!!c.get("reviewedby"),G=c.getIn(["flags","showckpz"]),Y=c.getIn(["flags","currencyList"]);if(G&&"cxpz"===sessionStorage.getItem("router-from")||G&&"lrpz"===sessionStorage.getItem("router-from")||G&&"mxb"===sessionStorage.getItem("router-from")||G&&"assmxb"===sessionStorage.getItem("router-from")||G&&sessionStorage.getItem("from-cxls")){y.a.setTitle({title:"\u67e5\u770b\u51ed\u8bc1"});var q=J?function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return function(c){return c(v.a("cxpzpdfexport",{year:te,month:ae,vcIndexList:[H],needA4:e,needCreatedby:t,needReviewedBy:a,reviewedBy:n}))}}:function(e,t,a){return function(n){return n(v.a("cxpzpdfexport",{year:te,month:ae,vcIndexList:[H],needA4:e,needCreatedby:t,needAss:a}))}};u(v.i("PDF-vc",q))}else"modify"===sessionStorage.getItem("lrpzHandleMode")?(y.a.setTitle({title:"\u4fee\u6539\u51ed\u8bc1"}),y.a.setRight({show:!1})):"draft"===sessionStorage.getItem("enterDraft")&&"insert"===sessionStorage.getItem("lrpzHandleMode")?(y.a.setTitle({title:"\u67e5\u770b\u8349\u7a3f"}),y.a.setRight({show:!1})):(y.a.setTitle({title:"\u5f55\u5165\u51ed\u8bc1"}),y.a.setRight({show:!1}),u(m.d(!1)));var Z=R.size>1,Q=c.get("flags").get("jvSelectedIdx"),W=r.get("acasslist"),X=r.get("aclist"),ee=R.get(Q),te=(ee.get("acid"),ee.get("acname"),r.get("cascadeDataAclist"),c.get("year")),ae=c.get("month"),ne=c.get("vckey"),ce=c.getIn(["flags","locked"]),re=(sessionStorage.getItem("lrpzHandleMode"),G?"draft"===sessionStorage.getItem("enterDraft")?l.a.createElement(p.d,{style:{backgroundColor:"#F8F8F8",display:G?"":"none"}},l.a.createElement(p.c,{key:"usage",disabled:!B,style:{display:"1"==ce?"":"none"},onClick:function(){var e="",t=r.getIn(["period","openedyear"]),a=r.getIn(["period","openedmonth"]),n=new Date,c=n.getFullYear(),s=n.getMonth()+1;if(te){var i=new Date(t,a,0),o=new Date;e=c==t&&s==a?o:i}else e=new Date;sessionStorage.setItem("router-from",""),sessionStorage.setItem("lrpzHandleMode","insert"),sessionStorage.removeItem("enterDraft"),u(m.d(!1)),u(m.b(e))}},l.a.createElement(p.l,{type:"usage"}),l.a.createElement("span",null,"\u4f7f\u7528")),l.a.createElement(p.c,{key:"lock-open",disabled:!B,style:{display:"1"==ce?"":"none"},onClick:function(){u(d.unLockDraft(ne))}},l.a.createElement(p.l,{type:"lock-open"}),l.a.createElement("span",null,"\u89e3\u9501")),l.a.createElement(p.c,{key:"usaged",disabled:!B,style:{display:"1"==ce?"none":""},onClick:function(){sessionStorage.setItem("router-from",""),sessionStorage.setItem("lrpzHandleMode","insert"),sessionStorage.removeItem("enterDraft"),u(m.d(!1))}},l.a.createElement(p.l,{type:"usage"}),l.a.createElement("span",null,"\u7528\u6389")),l.a.createElement(p.c,{key:"delete",disabled:!B,style:{display:"1"==ce?"none":""},onClick:function(){sessionStorage.removeItem("enterDraft"),u(d.deleteDraft(ne,a))}},l.a.createElement(p.l,{type:"delete"}),l.a.createElement("span",null,"\u5220\u9664")),l.a.createElement(p.c,{key:"lock-close",disabled:!B,style:{display:"1"==ce?"none":""},onClick:function(){u(d.lockDraft(ne))}},l.a.createElement(p.l,{type:"lock-close"}),l.a.createElement("span",null,"\u9501\u5b9a"))):l.a.createElement(p.d,{style:{backgroundColor:"#F8F8F8",display:G?"":"none"}},l.a.createElement(p.c,{key:"modification",disabled:!B||$,onClick:function(){u(m.d(!1)),R.some((function(e){return e.get("fcNumber")}))&&u(d.getFCListDataFetch("modify"))}},l.a.createElement(p.l,{style:V?{color:"#d9d9d9"}:void 0,type:"modification"}),l.a.createElement("span",{style:V?{color:"#d9d9d9"}:void 0},"\u4fee\u6539")),l.a.createElement(p.c,{key:"delete",disabled:!B||$,onClick:function(){u(d.deletePz(te,ae,H,a))}},l.a.createElement(p.l,{style:V?{color:"#d9d9d9"}:void 0,type:"delete"}),l.a.createElement("span",{style:V?{color:"#d9d9d9"}:void 0},"\u5220\u9664")),l.a.createElement(p.c,{key:"shenhe",disabled:!U,style:{display:$?"none":""},onClick:function(){return u(d.reviewedJvlist(te,ae,H))}},l.a.createElement(p.l,{style:V?{color:"#d9d9d9"}:void 0,type:"shenhe"}),l.a.createElement("span",{style:V?{color:"#d9d9d9"}:void 0},"\u5ba1\u6838")),l.a.createElement(p.c,{key:"chexiao",disabled:!U,style:{display:$?"":"none"},onClick:function(){return u(d.cancelReviewedJvlist(te,ae,H))}},l.a.createElement(p.l,{style:V?{color:"#d9d9d9"}:void 0,type:"chexiao"}),l.a.createElement("span",{style:V?{color:"#d9d9d9"}:void 0},"\u53cd\u5ba1\u6838")),l.a.createElement(p.c,{key:"locked",disabled:!B||$,onClick:function(){sessionStorage.setItem("lrpzHandleMode","insert"),sessionStorage.removeItem("enterDraft"),sessionStorage.removeItem("router-from");var e="",t=new Date,a="".concat(t.getFullYear()),n=t.getMonth()+1,c="".concat(n>10?n:"0"+n),s=r.getIn(["period","openedyear"]),i=r.getIn(["period","openedmonth"]);e=a==s&&c==i?new Date:new Date(s,i,0),u(m.c()),u(m.b(e)),u(m.d(!1))}},l.a.createElement(p.l,{style:V?{color:"#d9d9d9"}:void 0,type:"add-plus"}),l.a.createElement("span",{style:V?{color:"#d9d9d9"}:void 0},"\u65b0\u589e"))):l.a.createElement(p.d,{style:{backgroundColor:"#F8F8F8"}},l.a.createElement(p.c,{key:"draftBox",style:{display:"insert"==sessionStorage.getItem("lrpzHandleMode")?"":"none"},onClick:function(){a.push("/draft"),u(g.a("\u5168\u90e8"))}},l.a.createElement(p.l,{type:"draftBox"}),l.a.createElement("span",null,"\u8349\u7a3f\u7bb1")),l.a.createElement(p.c,{key:"temporary",style:{display:"insert"==sessionStorage.getItem("lrpzHandleMode")?"":"none"},onClick:function(){return u(d.draftSaveFetch())}},l.a.createElement(p.l,{type:"temporary"}),l.a.createElement("span",null,"\u6682\u5b58")),l.a.createElement(p.c,{key:"save",onClick:function(){sessionStorage.removeItem("enterDraft");u(d.enterJvFetch("",(function(){e.setState({codeRepeatModal:!0})}),"",w))}},l.a.createElement(p.l,{type:"save"}),l.a.createElement("span",null,"\u4fdd\u5b58")))),se=[],ie=sessionStorage.getItem("router-from");"cxpz"===ie?(s.get("vclist").map((function(e){return se.push(e.get("vcindex"))})),se.sort(A.c)):"mxb"===ie?(i.getIn(["ledger","detailList"]).forEach((function(e){e.get("vcindex")&&-1===se.indexOf(e.get("vcindex"))&&se.push(e.get("vcindex"))})),se.sort(A.c)):"assmxb"===ie?(o.getIn(["reportassdetail","jvlist"]).forEach((function(e){-1===se.indexOf(e.get("vcindex"))&&se.push(e.get("vcindex"))})),se.sort(A.c)):"lrpz"===ie?se.push(H):"amountmxb"===ie?(f.getIn(["ledger","jvlist"]).forEach((function(e){-1===se.indexOf(e.get("vcindex"))&&se.push(e.get("vcindex"))})),se.sort(A.c)):"currencymxb"===ie?(I.getIn(["currencyDetailList","jvList"]).forEach((function(e){-1===se.indexOf(e.get("vcindex"))&&se.push(e.get("vcindex"))})),se.sort(A.c)):"cxls"===ie&&(x.get("dataList").forEach((function(e){e.get("vcList").size&&-1===se.indexOf(e.getIn(["vcList",0,"vcIndex"]))&&se.push(e.getIn(["vcList",0,"vcIndex"]))})),se.sort(A.c));var oe=se.findIndex((function(e){return e==H})),le=oe>0?se[oe-1]:0,ue=oe<se.length-1?se[oe+1]:oe,de=this.props.homeState.getIn(["data","userInfo","sobInfo","moduleInfo"]),me=!de||de.indexOf("ENCLOSURE_GL")>-1,ve="TRUE"===this.props.homeState.getIn(["data","userInfo","checkMoreFj"]),ge=c.get("enclosureList"),fe=[];ge.map((function(e){"TRUE"==e.get("imageOrFile")&&fe.push(e.get("signedUrl"))}));var pe=c.get("label");ge.every((function(e){return"TRUE"==e.get("imageOrFile")}));var he=!0;!V&&!$||ge.size||(he=!1);var be=r.get("isloading"),ye=r.get("uploadKeyJson");return l.a.createElement(p.h,{className:"lrpz"},be?l.a.createElement("div",{className:"unloadedMask"},l.a.createElement("div",{className:"unloadedMask-tip-text"},"\u51ed\u8bc1\u5982\u679c\u6709\u9644\u4ef6\uff0c\u9700\u8981\u8f83\u957f\u7684\u65f6\u95f4\u52a0\u8f7d\uff0c\u8bf7\u8010\u5fc3\u7b49\u5f85")):"",l.a.createElement(F.e,{style:{display:G?"none":""},value:K,callback:function(e){sessionStorage.getItem("lrpzHandleMode"),u(d.modifyVcDate(e,K))},onChange:function(e){sessionStorage.getItem("lrpzHandleMode"),u(d.modifyVcDate(e,K))}}),l.a.createElement(p.r,{className:"date-header-wrap lrpz",style:{display:G&&"draft"!==sessionStorage.getItem("enterDraft")?"":"none"}},l.a.createElement("span",{className:"date-header-btn-wrap",onClick:function(){0!==oe&&le&&u(d.getVcFetch(K,le))}},l.a.createElement(p.l,{className:"header-left",type:"last",style:{visibility:0===oe?"hidden":""}})),l.a.createElement("div",{className:"thirdparty-date-select"},l.a.createElement("span",{className:"thirdparty-date-date"},K.replace(/-/g,"/"))),l.a.createElement("span",{className:"date-header-btn-wrap",onClick:function(){oe!==se.length-1&&ue&&u(d.getVcFetch(K,ue))}},l.a.createElement(p.l,{className:"header-right",type:"next",style:{visibility:oe===se.length-1?"hidden":""}}))),l.a.createElement(h,{vcindex:H,showckpz:G,closedby:V,reviewedby:$,creditTotal:c.getIn(["flags","creditTotal"]),debitTotal:c.getIn(["flags","debitTotal"]),dispatch:u,locked:ce,vcdate:K}),l.a.createElement(D,{aclist:X,visible:z,dispatch:u,value:L.acid,onChange:function(t){var a=L.index,n=t.key,c=X.find((function(e){return e.get("acid")==n})),r=c?c.get("asscategorylist"):Object(b.fromJS)({});u(d.changeJvAcIdAndAcNameAndAssCategoryList(a,n,c?c.get("acfullname"):"",c?c.get("acname"):"",r)),n&&"1"==c.get("acunitOpen")?(L.unitCallBack(c.get("acunitOpen")),c.get("asscategorylist").size||u(d.getAmountDataFetch(n,K,a))):u(d.clearAcUnitOpen(a)),n&&"1"==c.get("fcStatus")?u(d.getFCListDataFetch(a)):u(d.clearFCListData(a)),e.setState({showAcSelect:!1,selestStatus:{index:"",acid:"",unitCallBack:function(){}}})},parentDisabled:!0,onCancel:function(){e.setState({showAcSelect:!1,selestStatus:{index:"",acid:""}})}},l.a.createElement("span",null)),l.a.createElement(p.s,{ref:"lrpzScrollContainer",flex:"1",uniqueKey:"lrpz-scroll",savePosition:!0},l.a.createElement("div",{style:{display:G?"none":""},className:"jv-list"},R.map((function(t,a){return l.a.createElement(E,{idx:a,key:a,jv:t,vcdate:K,deletable:Z,dispatch:u,acasslist:W,jvListLength:P,lrpzScrollContainer:e.refs.lrpzScrollContainer,currencyList:Y,unitDecimalCount:T,onAcSelectClick:function(t,a,n){return e.setState({showAcSelect:!0,selestStatus:{index:t,acid:a,unitCallBack:n}})}})}))),l.a.createElement("div",{style:{display:G?"":"none"},className:"ckjv-list"},R.map((function(e,t){return l.a.createElement(k,{idx:t,key:t,jv:e})})),l.a.createElement("div",{className:"vc-jv vc-info-bottom vc-jv-info",style:{display:G?"":"none"}},l.a.createElement("span",null,"\u5236\u5355\u4eba: ".concat(c.get("createdby")?c.get("createdby"):"")),l.a.createElement("span",null,c.get("reviewedby")&&!J?"\u5ba1\u6838\u4eba: ".concat(c.get("reviewedby")):""))),l.a.createElement("div",{className:G?"ckjv-enclosure-count-user":"ckjv-enclosure-count-user ckjv-enclosure-count-user-input"},l.a.createElement("span",null,"\u9644\u4ef6\u6570\uff1a"),G?l.a.createElement("span",null,_&&""!==_?_:"0"," \u4e2a"):l.a.createElement("span",null,l.a.createElement(p.z,{textAlign:"right",value:_,onChange:function(e){/^\d*$/.test(e)&&e.length<=2&&u(d.changeVcEnclosureCountUser(e))}}),"\xa0",l.a.createElement(p.l,{type:"arrow-right",className:"ac-option-icon",size:"14"}))),l.a.createElement(S.a,{fromPage:"Lrpz",className:"lrpz-enclosure-wrap",dispatch:u,enCanUse:me,editPermission:B,enclosureList:ge,checkMoreFj:ve,showPzfj:he,label:pe,enclosureCountUser:_,previewImageList:fe,showckpz:G,uploadFiles:function(e){return u(d.uploadFiles.apply(d,Object(n.a)(e)))},getUploadGetTokenFetch:function(){return u(d.getUploadGetTokenFetch())},getLabelFetch:function(){return u(d.getLabelFetch())},deleteUploadImgUrl:function(e){return u(d.deleteUploadImgUrl(e))},changeTagName:function(e,t){return u(d.changeTagName(e,t))},uploadKeyJson:ye,history:a})),l.a.createElement(p.r,null,V?"":re),l.a.createElement(p.p,{title:"\u51ed\u8bc1\u53f7\uff1a".concat(H,"\u5df2\u5b58\u5728\uff0c\u60a8\u53ef\u4ee5\uff1a"),onCancel:function(){return e.setState({autoEncode:"true",codeRepeatModal:!1})},visible:O,footerVisible:!1,footer:[l.a.createElement("span",{key:"cancel",onClick:function(){return e.setState({autoEncode:"true",codeRepeatModal:!1})}},"\u53d6\u6d88"),l.a.createElement("span",{key:"sure",onClick:function(){sessionStorage.removeItem("enterDraft");u(d.enterJvFetch("",(function(){e.setState({autoEncode:"true",codeRepeatModal:!1})}),C,w))}},"\u786e\u5b9a")]},l.a.createElement("div",{className:"code-repeat-select"},l.a.createElement(p.q,{list:[{key:"true",value:"\u7cfb\u7edf\u81ea\u52a8\u7f16\u53f7"},{key:"false",value:"\u63d2\u5165\u51ed\u8bc1\u53f7"}],value:C,onChange:function(t){e.setState({autoEncode:t})}}))))}}]),a}(l.a.Component))||I,L=a(1074),w=a(225),M={lrpzState:L.a,previewEnclosureState:w.a}}}]);