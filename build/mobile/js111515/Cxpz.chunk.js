(this.webpackJsonpfannix=this.webpackJsonpfannix||[]).push([[58],{1027:function(e,t,n){var r=n(63),a=n(546),i=n(46),c=n(221),s=n(545),o=n(1032),u=function(e,t){this.stopped=e,this.result=t};(e.exports=function(e,t,n,l,d){var v,f,m,p,g,b,j,x=c(t,n,l?2:1);if(d)v=e;else{if("function"!=typeof(f=s(e)))throw TypeError("Target is not iterable");if(a(f)){for(m=0,p=i(e.length);p>m;m++)if((g=l?x(r(j=e[m])[0],j[1]):x(e[m]))&&g instanceof u)return g;return new u(!1)}v=f.call(e)}for(b=v.next;!(j=b.call(v)).done;)if("object"==typeof(g=o(v,x,j.value,l))&&g&&g instanceof u)return g;return new u(!1)}).stop=function(e){return new u(!0,e)}},1028:function(e,t,n){var r=n(169),a=n(64),i=n(67),c=n(71).f,s=n(168),o=n(1043),u=s("meta"),l=0,d=Object.isExtensible||function(){return!0},v=function(e){c(e,u,{value:{objectID:"O"+ ++l,weakData:{}}})},f=e.exports={REQUIRED:!1,fastKey:function(e,t){if(!a(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,u)){if(!d(e))return"F";if(!t)return"E";v(e)}return e[u].objectID},getWeakData:function(e,t){if(!i(e,u)){if(!d(e))return!0;if(!t)return!1;v(e)}return e[u].weakData},onFreeze:function(e){return o&&f.REQUIRED&&d(e)&&!i(e,u)&&v(e),e}};r[u]=!0},1029:function(e,t,n){"use strict";var r=n(550).charAt,a=n(132),i=n(543),c=a.set,s=a.getterFor("String Iterator");i(String,"String",(function(e){c(this,{type:"String Iterator",string:String(e),index:0})}),(function(){var e,t=s(this),n=t.string,a=t.index;return a>=n.length?{value:void 0,done:!0}:(e=r(n,a),t.index+=e.length,{value:e,done:!1})}))},1030:function(e,t,n){var r=n(45),a=n(551),i=n(166),c=n(72),s=n(44),o=s("iterator"),u=s("toStringTag"),l=i.values;for(var d in a){var v=r[d],f=v&&v.prototype;if(f){if(f[o]!==l)try{c(f,o,l)}catch(p){f[o]=l}if(f[u]||c(f,u,d),a[d])for(var m in i)if(f[m]!==i[m])try{c(f,m,i[m])}catch(p){f[m]=i[m]}}}},1032:function(e,t,n){var r=n(63);e.exports=function(e,t,n,a){try{return a?t(r(n)[0],n[1]):t(n)}catch(c){var i=e.return;throw void 0!==i&&r(i.call(e)),c}}},1035:function(e,t,n){"use strict";var r=n(1042),a=n(1044);e.exports=r("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),a)},1042:function(e,t,n){"use strict";var r=n(39),a=n(45),i=n(547),c=n(89),s=n(1028),o=n(1027),u=n(222),l=n(64),d=n(37),v=n(544),f=n(167),m=n(554);e.exports=function(e,t,n){var p=-1!==e.indexOf("Map"),g=-1!==e.indexOf("Weak"),b=p?"set":"add",j=a[e],x=j&&j.prototype,h=j,y={},I=function(e){var t=x[e];c(x,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(g&&!l(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return g&&!l(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(g&&!l(e))&&t.call(this,0===e?0:e)}:function(e,n){return t.call(this,0===e?0:e,n),this})};if(i(e,"function"!=typeof j||!(g||x.forEach&&!d((function(){(new j).entries().next()})))))h=n.getConstructor(t,e,p,b),s.REQUIRED=!0;else if(i(e,!0)){var E=new h,O=E[b](g?{}:-0,1)!=E,N=d((function(){E.has(1)})),D=v((function(e){new j(e)})),S=!g&&d((function(){for(var e=new j,t=5;t--;)e[b](t,t);return!e.has(-0)}));D||((h=t((function(t,n){u(t,h,e);var r=m(new j,t,h);return void 0!=n&&o(n,r[b],r,p),r}))).prototype=x,x.constructor=h),(N||S)&&(I("delete"),I("has"),p&&I("get")),(S||O)&&I(b),g&&x.clear&&delete x.clear}return y[e]=h,r({global:!0,forced:h!=j},y),f(h,e),g||n.setStrong(h,e,p),h}},1043:function(e,t,n){var r=n(37);e.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},1044:function(e,t,n){"use strict";var r=n(71).f,a=n(170),i=n(548),c=n(221),s=n(222),o=n(1027),u=n(543),l=n(549),d=n(66),v=n(1028).fastKey,f=n(132),m=f.set,p=f.getterFor;e.exports={getConstructor:function(e,t,n,u){var l=e((function(e,r){s(e,l,t),m(e,{type:t,index:a(null),first:void 0,last:void 0,size:0}),d||(e.size=0),void 0!=r&&o(r,e[u],e,n)})),f=p(t),g=function(e,t,n){var r,a,i=f(e),c=b(e,t);return c?c.value=n:(i.last=c={index:a=v(t,!0),key:t,value:n,previous:r=i.last,next:void 0,removed:!1},i.first||(i.first=c),r&&(r.next=c),d?i.size++:e.size++,"F"!==a&&(i.index[a]=c)),e},b=function(e,t){var n,r=f(e),a=v(t);if("F"!==a)return r.index[a];for(n=r.first;n;n=n.next)if(n.key==t)return n};return i(l.prototype,{clear:function(){for(var e=f(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,d?e.size=0:this.size=0},delete:function(e){var t=f(this),n=b(this,e);if(n){var r=n.next,a=n.previous;delete t.index[n.index],n.removed=!0,a&&(a.next=r),r&&(r.previous=a),t.first==n&&(t.first=r),t.last==n&&(t.last=a),d?t.size--:this.size--}return!!n},forEach:function(e){for(var t,n=f(this),r=c(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!b(this,e)}}),i(l.prototype,n?{get:function(e){var t=b(this,e);return t&&t.value},set:function(e,t){return g(this,0===e?0:e,t)}}:{add:function(e){return g(this,e=0===e?0:e,e)}}),d&&r(l.prototype,"size",{get:function(){return f(this).size}}),l},setStrong:function(e,t,n){var r=t+" Iterator",a=p(t),i=p(r);u(e,t,(function(e,t){m(this,{type:r,target:e,state:a(e),kind:t,last:void 0})}),(function(){for(var e=i(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),l(t)}}},1048:function(e,t){e.exports="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},1053:function(e,t,n){"use strict";var r=n(39),a=n(171),i=[].reverse,c=[1,2];r({target:"Array",proto:!0,forced:String(c)===String(c.reverse())},{reverse:function(){return a(this)&&(this.length=this.length),i.call(this)}})},1067:function(e,t,n){var r=n(84),a="["+n(1048)+"]",i=RegExp("^"+a+a+"*"),c=RegExp(a+a+"*$"),s=function(e){return function(t){var n=String(r(t));return 1&e&&(n=n.replace(i,"")),2&e&&(n=n.replace(c,"")),n}};e.exports={start:s(1),end:s(2),trim:s(3)}},1068:function(e,t,n){var r=n(37),a=n(1048);e.exports=function(e){return r((function(){return!!a[e]()||"\u200b\x85\u180e"!="\u200b\x85\u180e"[e]()||a[e].name!==e}))}},1074:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n(55),n(61),n(31),n(56),n(133),n(77),n(29),n(65),n(76);var r=n(4),a=n(1),i=(n(2),n(12),n(1083)),c=n(14),s=Object(a.fromJS)({flags:{selectComponentDisplay:!1,jvSelectedIdx:0,debitTotal:"0.00",creditTotal:"0.00",showckpz:!1,vcindexList:[],vcIdx:0,locked:"",currencyList:[],currencyListArr:[]},oldvcindex:"",oldyear:"",oldmonth:"",oldvcdate:"",vcindex:"",year:"",month:"",vcdate:"",createdtime:"",modifiedtime:"",createdby:"",exchange:"",closeby:"",reviewedby:"",enclosureCountUser:"",jvlist:[{jvdirection:"debit",jvabstract:"",acid:"",acname:"",acfullname:"",jvamount:"",asslist:[],acunitOpen:"0",jvcount:"",price:"",jvunit:"",fcStatus:"0",fcNumber:"",exchange:"",standardAmount:""}],vckey:0,enclosureList:[],label:[],needDeleteUrl:[],vcList:[]});function o(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,n=arguments.length>1?arguments[1]:void 0;return((e={},Object(r.a)(e,i.I,(function(){return s.set("year",t.get("year")).set("month",t.get("month")).set("vcdate",t.get("vcdate")).set("vcindex",t.get("vcindex"))})),Object(r.a)(e,i.Q,(function(){return t.setIn(["flags","showckpz"],n.bool)})),Object(r.a)(e,i.p,(function(){return t.updateIn(["flags","selectComponentDisplay"],(function(e){return!e}))})),Object(r.a)(e,i.P,(function(){return t.setIn(["flags","jvSelectedIdx"],n.idx)})),Object(r.a)(e,i.J,(function(){var e=u(t),r=e.getIn(["flags","debitTotal"])-e.getIn(["flags","creditTotal"]);return u(t.update("jvlist",(function(e){return e.insert(n.idx+1,e.get(n.idx).update("jvdirection",(function(e){return r>0?"credit":"debit"})).set("jvamount",Math.abs(r).toFixed(2)-0||"").set("acid","").set("acname","").set("acfullname","").set("asslist",[]).set("acunitOpen","0").set("jvcount","").set("price","").set("jvunit","").set("fcStatus","0").set("fcNumber","").set("exchange","").set("standardAmount",""))})))})),Object(r.a)(e,i.v,(function(){return u(t.get("jvlist").size>1?t.deleteIn(["jvlist",n.idx]):t)})),Object(r.a)(e,i.w,(function(){return u(t.update("jvlist",(function(e){return e.clear()})))})),Object(r.a)(e,i.s,(function(){return t.set("vcindex",Number(n.vcindex))})),Object(r.a)(e,i.f,(function(){return t.setIn(["jvlist",n.idx,"jvabstract"],n.jvabstract)})),Object(r.a)(e,i.g,(function(){var e=n.asscategorylist.map((function(e){return Object(a.fromJS)({assid:"",assname:"",asscategory:e})}));return t.updateIn(["jvlist",n.idx],(function(t){return t.set("acid",n.acid).set("acfullname",n.acfullname).set("acname",n.acname).set("asslist",e)}))})),Object(r.a)(e,i.h,(function(){return(/^[-\d]\d*\.?\d{0,2}$/g.test(n.jvamount)||""===n.jvamount)&&(t=u(t=t.setIn(["jvlist",n.idx,"jvamount"],n.jvamount))),t})),Object(r.a)(e,i.k,(function(){return u(t.updateIn(["jvlist",n.idx,"jvdirection"],(function(e){return"credit"==e?"debit":"credit"})))})),Object(r.a)(e,i.i,(function(){return t.updateIn(["jvlist",n.idx,"asslist"],(function(e){return e.map((function(e){return e.get("asscategory")==n.asscategory?e.set("assid",n.assid).set("assname",n.assname):e}))}))})),Object(r.a)(e,i.N,(function(){if(!n.voucher)return t;var e=Object(a.fromJS)(n.voucher);return u(t.merge(e).set("oldvcindex",e.get("vcindex")).set("oldyear",e.get("year")).set("oldmonth",e.get("month")).set("oldvcdate",e.get("vcdate")))})),Object(r.a)(e,i.F,(function(){return t.set("month",n.vcdate.getMonth()).set("year",n.vcdate.getYear()).set("vcdate",n.vcdate.toString()).set("vcindex",n.receivedData.data)})),Object(r.a)(e,i.M,(function(){t.get("oldvcdate");var e=n.date;return t.set("vcdate",e.toString())})),Object(r.a)(e,i.z,(function(){n.data;return"modify"===sessionStorage.getItem("lrpzHandleMode")&&(t=t.setIn(["flags","showckpz"],!0)),"insert"===sessionStorage.getItem("lrpzHandleMode")&&(t=t.set("createdtime",n.createdtime).set("createdby",n.createdby)),n.refresh&&(t=u(t.set("jvlist",s.get("jvlist")).set("vcindex",n.NewVcIndex))),t.set("vckey",0).set(["flags","locked",""])})),Object(r.a)(e,i.O,(function(){return t.set("reviewedby",n.reviewedby)})),Object(r.a)(e,i.d,(function(){return t.set("reviewedby","")})),Object(r.a)(e,i.y,(function(){return t.set("vckey",n.receivedData)})),Object(r.a)(e,i.B,(function(){return u((t=n.judgeLocked?s.set("vcindex",n.receivedData+1).set("vcdate",n.vcDate.toString()).set("year",n.vcDate.getYear()).set("month",n.vcDate.getMonth()):s.set("vcindex",n.getDraftItem.vcindex).set("vcdate",n.getDraftItem.vcdate).set("year",n.getDraftItem.year).set("month",n.getDraftItem.month)).set("jvlist",Object(a.fromJS)(n.getDraftItem.jvlist)).set("vckey",n.getDraftItem.vckey).set("enclosureCountUser",n.getDraftItem.enclosureCountUser).setIn(["flags","locked"],n.getDraftItem.locked).setIn(["flags","showckpz"],!0))})),Object(r.a)(e,i.K,(function(){return t.setIn(["flags","locked"],"1")})),Object(r.a)(e,i.L,(function(){return t.setIn(["flags","locked"],"0")})),Object(r.a)(e,i.A,(function(){return(t=t.setIn(["jvlist",n.idx,"jvunit"],n.receivedData.acunit).setIn(["jvlist",n.idx,"acunitOpen"],n.receivedData.acunitOpen).setIn(["jvlist",n.idx,"jvcount"],"")).getIn(["jvlist",n.idx,"jvdirection"])||(t=t.setIn(["jvlist",n.idx,"jvdirection"],n.receivedData.direction)),t=0==n.receivedData.price?t.setIn(["jvlist",n.idx,"price"],""):t.setIn(["jvlist",n.idx,"price"],n.receivedData.price)})),Object(r.a)(e,i.j,(function(){new RegExp("^[-\\d]\\d*\\.?\\d{0,"+Number(n.unitDecimalCount)+"}$","g");return Number(n.jvCount)>1e6||Number(n.jvCount)<-1e6?alert("\u6570\u91cf\u4e0d\u80fd\u8d85\u8fc7".concat(c.r,"\u4f4d")):t.setIn(["jvlist",n.idx,"jvcount"],n.jvCount)})),Object(r.a)(e,i.n,(function(){return/^[-\d]\d*\.?\d{0,2}$/g.test(n.jvPrice)||""===n.jvPrice?(Number(n.jvPrice)<0&&(alert("\u5355\u4ef7\u4e0d\u5141\u8bb8\u4e3a\u8d1f\u6570"),n.jvPrice=-Number(n.jvPrice)),Number(n.jvPrice)>1e9||Number(n.jvPrice)<-1e9?alert("\u5355\u4ef7\u4e0d\u80fd\u8d85\u8fc7".concat(c.s,"\u4f4d")):t.setIn(["jvlist",n.idx,"price"],n.jvPrice)):t})),Object(r.a)(e,i.b,(function(){var e=t.getIn(["jvlist",n.idx,"price"]),r=t.getIn(["jvlist",n.idx,"jvcount"]),a=t.getIn(["jvlist",n.idx,"jvamount"]);if("count"==n.value||"price"==n.value)if(Number(r)&&Number(e))Number(a)<0&&r?r=-Math.abs(r):Number(a)>0&&r&&(r=Math.abs(r)),r=Number(r)%1==0?Math.floor(r):parseFloat(Number(r).toFixed(2)),e=Number(e)%1==0?Math.floor(e):parseFloat(Number(e).toFixed(2)),t=t.setIn(["jvlist",n.idx,"price"],e).setIn(["jvlist",n.idx,"jvcount"],r).setIn(["jvlist",n.idx,"jvamount"],(r*e).toFixed(2));else if(""==e&&r&&a)e=a/r,e=Number(e)%1==0?Math.floor(e):parseFloat(Number(e).toFixed(2)),t=t.setIn(["jvlist",n.idx,"price"],e);else if(""==r&&e&&a)r=parseFloat((a/e).toFixed(n.unitDecimalCount)),Number(r)%1==0&&(r=Math.floor(r)),t=t.setIn(["jvlist",n.idx,"jvcount"],r);else{if(0==r||!a)return t;e=a/r,e=Number(e)%1==0?Math.floor(e):parseFloat(Number(e).toFixed(2)),t=t.setIn(["jvlist",n.idx,"price"],e)}else if("amount"==n.value){if(!r||!a)return t;Number(a)<0&&r?r=-Math.abs(r):Number(a)>0&&r&&(r=Math.abs(r)),e=a/r,e=Number(e)%1==0?Math.floor(e):parseFloat(Number(e).toFixed(2)),t=t.setIn(["jvlist",n.idx,"price"],e).setIn(["jvlist",n.idx,"jvcount"],r)}return u(t)})),Object(r.a)(e,i.t,(function(){return t.setIn(["jvlist",n.idx,"acunitOpen"],"0")})),Object(r.a)(e,i.D,(function(){if(!n.receivedData)return t;var e=Object(a.fromJS)(n.receivedData);return u(t.merge(e).set("oldvcindex",e.get("vcindex")).set("oldyear",e.get("year")).set("oldmonth",e.get("month")).set("oldvcdate",e.get("vcdate")))})),Object(r.a)(e,i.e,(function(){var e=[];return t.get("enclosureList").map((function(t){e.push(t)})),n.imgArr.forEach((function(t){e.push(t)})),e=e.slice(0,9),t=t.set("enclosureList",Object(a.fromJS)(e)).set("enclosureCountUser",e.length)})),Object(r.a)(e,i.x,(function(){return t.get("enclosureList").map((function(e,r){r==n.index&&(t=t.deleteIn(["enclosureList",r]))})),t=t.set("enclosureCountUser",t.get("enclosureList").size)})),Object(r.a)(e,i.H,(function(){return t=t.set("enclosureList",Object(a.fromJS)(n.receivedData))})),Object(r.a)(e,i.r,(function(){return t.set("enclosureCountUser",n.value)})),Object(r.a)(e,i.E,(function(){var e=[];return n.receivedData.data.forEach((function(t,n){e.push({key:t,value:n})})),t=t.set("label",e)})),Object(r.a)(e,i.q,(function(){return t.get("enclosureList").map((function(e,r){r==n.index&&(t=t.setIn(["enclosureList",r,"label"],n.value))})),t})),Object(r.a)(e,i.C,(function(){var e=Object(a.fromJS)(n.receivedData),r=[];e.map((function(e,t){return r.push(e.get("fcNumber"))}));var i=e.filter((function(e){return"1"==e.get("standard")})),c=i.getIn([0,"fcNumber"]),s=i.getIn([0,"exchange"]);return"modify"!=n.idx&&(t=t.setIn(["jvlist",n.idx,"fcStatus"],"1").setIn(["jvlist",n.idx,"fcNumber"],c).setIn(["jvlist",n.idx,"exchange"],s).setIn(["jvlist",n.idx,"jvdirection"],"debit")),t.setIn(["flags","currencyList"],e).setIn(["flags","currencyListArr"],r)})),Object(r.a)(e,i.u,(function(){return t.setIn(["jvlist",n.idx,"fcStatus"],"0").setIn(["jvlist",n.idx,"fcNumber"],"").setIn(["jvlist",n.idx,"exchange"],"").setIn(["jvlist",n.idx,"standardAmount"],"")})),Object(r.a)(e,i.m,(function(){return t.setIn(["jvlist",n.idx,"fcNumber"],n.fcNumber).setIn(["jvlist",n.idx,"exchange"],n.exchange)})),Object(r.a)(e,i.l,(function(){return/^\d*\.?\d{0,4}$/g.test(n.value)||""===n.value?t.setIn(["jvlist",n.idx,"exchange"],n.value):t})),Object(r.a)(e,i.o,(function(){return/^[-\d]\d*\.?\d{0,2}$/g.test(n.value)||""===n.value?t.setIn(["jvlist",n.idx,"standardAmount"],n.value):t})),Object(r.a)(e,i.c,(function(){var e=t.getIn(["jvlist",n.idx,"price"]),r=t.getIn(["jvlist",n.idx,"jvcount"]),a=t.getIn(["jvlist",n.idx,"standardAmount"]),i=t.getIn(["jvlist",n.idx,"exchange"]),c=t.getIn(["jvlist",n.idx,"jvamount"]);return e&&r&&a&&i?"count"==n.value?(r=l(r,c),a=l(a,c),i=(c=(r*e).toFixed(2))/a):"price"==n.value?i=(c=(r*e).toFixed(2))/a:"standardAmount"==n.value?(r=l(r,c),e=(c=((a=l(a,c))*i).toFixed(2))/r):"exchange"==n.value?e=(c=(a*i).toFixed(2))/r:"amount"==n.value&&(r=l(r,c),a=l(a,c),c&&(e=Number(c)/r,i=Number(c)/a)):"count"==n.value||"price"==n.value?(Number(r)&&e?(r=l(r,c),c=(Number(r)*e).toFixed(2)):""==e&&r&&c||0!=r&&c?e=c/r:t=t,Number(a)&&(i=c/a)):"standardAmount"==n.value||"exchange"==n.value?(Number(a)&&i?(a=l(a,c),c=(Number(a)*i).toFixed(2)):""==i&&a&&c?(i=(i=c/a)%1==0?Math.floor(i):parseFloat(i.toFixed(4)),t=t.setIn(["jvlist",n.idx,"exchange"],i)):a&&c&&(i=c/a),Number(r)&&(e=c/r)):"amount"==n.value&&(r=l(r,c),a=l(a,c),c&&(!a&&r?e=Number(c)/r:a&&!r?i=Number(c)/a:a&&r&&(e=Number(c)/r,i=Number(c)/a))),r=Number(r)%1==0?Math.floor(r):parseFloat(Number(r).toFixed(n.unitDecimalCount)),a=Number(a)%1==0?Math.floor(a):parseFloat(Number(a).toFixed(2)),e=Number(e)%1==0?Math.floor(e):parseFloat(Number(e).toFixed(2)),i=Number(i)%1==0?Math.floor(i):parseFloat(Number(i).toFixed(4)),u(t=t.setIn(["jvlist",n.idx,"standardAmount"],0===a?"":a).setIn(["jvlist",n.idx,"exchange"],i).setIn(["jvlist",n.idx,"price"],e).setIn(["jvlist",n.idx,"jvcount"],r).setIn(["jvlist",n.idx,"jvamount"],c))})),Object(r.a)(e,i.R,(function(){return t.set("vcList",n.vcList)})),e)[n.type]||function(){return t})()}function u(e){var t=0,n=0;return e.get("jvlist").map((function(e){"credit"===e.get("jvdirection")?t+=Number(e.get("jvamount")):"debit"===e.get("jvdirection")&&(n+=Number(e.get("jvamount")))})),e=(e=e.setIn(["flags","creditTotal"],t?t.toFixed(2).toString():"0.00")).setIn(["flags","debitTotal"],n?n.toFixed(2).toString():"0.00")}function l(e,t){return Number(t)<0&&e?-Math.abs(e):Number(t)>0&&e?Math.abs(e):e}},1091:function(e,t,n){"use strict";var r=n(39),a=n(1067).trim;r({target:"String",proto:!0,forced:n(1068)("trim")},{trim:function(){return a(this)}})},1094:function(e,t,n){var r=n(39),a=n(1103);r({target:"Array",stat:!0,forced:!n(544)((function(e){Array.from(e)}))},{from:a})},1103:function(e,t,n){"use strict";var r=n(221),a=n(68),i=n(1032),c=n(546),s=n(46),o=n(172),u=n(545);e.exports=function(e){var t,n,l,d,v,f,m=a(e),p="function"==typeof this?this:Array,g=arguments.length,b=g>1?arguments[1]:void 0,j=void 0!==b,x=u(m),h=0;if(j&&(b=r(b,g>2?arguments[2]:void 0,2)),void 0==x||p==Array&&c(x))for(n=new p(t=s(m.length));t>h;h++)f=j?b(m[h],h):m[h],o(n,h,f);else for(v=(d=x.call(m)).next,n=new p;!(l=v.call(d)).done;h++)f=j?i(d,b,[l.value,h],!0):l.value,o(n,h,f);return n.length=h,n}},1229:function(e,t,n){"use strict";n.d(t,"i",(function(){return r})),n.d(t,"d",(function(){return a})),n.d(t,"h",(function(){return i})),n.d(t,"l",(function(){return c})),n.d(t,"k",(function(){return s})),n.d(t,"f",(function(){return o})),n.d(t,"j",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"g",(function(){return v})),n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return m}));var r="INIT_CXPZ",a="CHANGE_FJGL_ISSUEDATE",i="GET_FJGL_DATA",c="SELECT_FJ_VC_ITEM",s="SELECT_FJ_ITEM",o="GET_DELETE_DATA",u="OPEN_LABEL_MODAL",l="CHANGE_CURRENT_LABEL",d="CHANGE_LABEL_VALUE",v="GET_DOWNLOAD_DATA",f="CHANGE_ALL_FJ_CHECKBOX_DISPLAY",m="CANCEL_CHANGE_FJ_CHECKBOX_DISPALY"},1268:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n(32),n(223),n(55),n(61),n(1094),n(166),n(31),n(77),n(1035),n(1029),n(76),n(1030);var r=n(4),a=n(1),i=n(1229),c=Object(a.fromJS)({allCheckboxDisplay:!1,toolBarDisplayIndex:1,lastvoucherid:"",issuedate:"",currentPage:"1",pageCount:"1",modifyvc:!1,vclist:[],totalSize:1,useSizeBySob:0,useSizeByCorp:0,needDeleteUrl:[],vcIndexArray:[],needDownLoad:[],previewSrc:"",label:[],labelValue:"\u5168\u90e8",fjLabel:[],currentLabel:"",vcIdx:"",fjIdx:"",updatePath:""});function s(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,n=arguments.length>1?arguments[1]:void 0;return((e={},Object(r.a)(e,i.i,(function(){return c})),Object(r.a)(e,i.d,(function(){return t.set("issuedate",n.issuedate)})),Object(r.a)(e,i.h,(function(){n.receivedData;var e=[];n.receivedData.labelArray.forEach((function(t,n){e.push({key:t,value:t})}));var r=[{key:"\u5168\u90e8",value:"\u5168\u90e8"}].concat(e);return t=t.update("vclist",(function(e){return e.clear().merge(Object(a.fromJS)(n.receivedData.jsonArray))})).set("totalSize",n.receivedData.totalSize).set("useSizeByCorp",n.receivedData.useSizeByCorp).set("useSizeBySob",n.receivedData.useSizeBySob).set("label",Object(a.fromJS)(r)).set("fjLabel",Object(a.fromJS)(e))})),Object(r.a)(e,i.l,(function(){var e=!t.getIn(["vclist",n.idx,"checkboxDisplay"]),r=t.getIn(["vclist",n.idx]).toJS();return r.checkboxDisplay=e,r.enclosureList.forEach((function(t){t.checkboxFjDisplay=e})),t=t.updateIn(["vclist",n.idx],(function(e){return Object(a.fromJS)(r)}))})),Object(r.a)(e,i.k,(function(){return(t=t.updateIn(["vclist",n.idx,"enclosureList",n.fjIdx,"checkboxFjDisplay"],(function(e){return!e}))).setIn(["vclist",n.idx,"checkboxDisplay"],t.getIn(["vclist",n.idx,"enclosureList"]).every((function(e){return e.get("checkboxFjDisplay")})))})),Object(r.a)(e,i.f,(function(){var e=[];t.get("vclist").map((function(t){t.get("enclosureList").map((function(t){return e.push(t)}))}));var n=[];return t.get("vclist").forEach((function(e){e.get("enclosureList").forEach((function(t){1!=t.get("checkboxFjDisplay")||n.push(e.get("vcindex"))}))})),t.set("needDeleteUrl",Object(a.fromJS)(e).filter((function(e){return 1==e.get("checkboxFjDisplay")}))).set("vcIndexArray",Array.from(new Set(n)))})),Object(r.a)(e,i.j,(function(){return t=t.set("vcIdx",n.idx).set("fjIdx",n.fjIdx)})),Object(r.a)(e,i.c,(function(){var e=t.get("vcIdx"),r=t.get("fjIdx");return t=t.setIn(["vclist",e,"enclosureList",r,"label"],n.currentLabel).set("currentLabel",n.currentLabel)})),Object(r.a)(e,i.e,(function(){return t=t.set("labelValue",n.labelValue)})),Object(r.a)(e,i.g,(function(){var e=[];t.get("vclist").map((function(t){t.get("enclosureList").map((function(t){return e.push(t)}))}));var n=[];return Object(a.fromJS)(e).filter((function(e){return 1==e.get("checkboxFjDisplay")})).map((function(e){return n.push({url:e.get("enclosurepath"),fileName:e.get("fileName")})})),t.set("needDownLoad",Object(a.fromJS)(n))})),Object(r.a)(e,i.b,(function(){return t.set("toolBarDisplayIndex",2).set("allCheckboxDisplay",!0)})),Object(r.a)(e,i.a,(function(){return t.set("toolBarDisplayIndex",1).update("vclist",(function(e){return e.map((function(e){return e.set("selected",!1)}))})).set("allCheckboxDisplay",!1)})),e)[n.type]||function(){return t})()}},1472:function(e,t,n){},963:function(e,t,n){"use strict";n.r(t),n.d(t,"reducer",(function(){return N})),n.d(t,"view",(function(){return j}));n(55),n(33),n(31),n(116);var r,a=n(7),i=n(8),c=n(9),s=n(10),o=n(0),u=n.n(o),l=n(47),d=n(1041),v=(n(1090),n(552)),f=n(130),m=(n(1056),n(2)),p=n(542),g=n(11),b=(n(34),n(29),n(48),function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var e=this.props,t=e.allCheckboxDisplay,n=e.idx,r=e.vcitem,a=e.dispatch,i=e.history,c=e.vclist,s=e.intelligentStatus,o=r.get("closedby"),l=r.get("reviewedby");return u.a.createElement("div",{className:"vc",onClick:function(){t?a(d.l(n)):(sessionStorage.setItem("lrpzHandleMode","modify"),i.push("/lrpz"),sessionStorage.setItem("router-from","cxpz"),a(v.a(r,c)))}},u.a.createElement(g.l,{style:{display:o?"":"none"},className:"cxpz-shenhe-icon ",color:"#DE4646",type:"the-invosing",size:"50"}),u.a.createElement(g.l,{style:{display:o?"none":l?"":"none"},className:"cxpz-shenhe-icon",color:"#ff943e",type:"yishenhe",size:"45"}),u.a.createElement("div",{className:"vc-info"},u.a.createElement("span",null,u.a.createElement(g.e,{style:{paddingRight:"10px",display:t?"inline-block":"none"},checked:r.get("selected")}),u.a.createElement("span",{className:"text-underline"},"\u8bb0 ",r.get("vcindex")," \u53f7"),u.a.createElement(g.l,{style:{display:r.get("enclosurecount")?"":"none",marginLeft:"10px"},color:"#858E99",type:"fujian"})),u.a.createElement("span",{className:"vc-info-date"},r.get("vcdate").replace(/-/g,"/"))),u.a.createElement("div",{className:"vc-jv-list"},r.get("jvlist").map((function(e,t){return u.a.createElement("div",{className:"vc-jv",key:t},u.a.createElement("div",{className:"vc-jv-info"},u.a.createElement("span",{className:"vc-jv-direction"},["debit"===e.get("jvdirection")?"\u501f":"\u8d37","\uff1a",e.get("acfullname")].join("")),u.a.createElement(g.a,{className:"vc-jv-amount",showZero:!0},e.get("jvamount"))),e.get("asslist").size?u.a.createElement("div",{className:"vc-jv-ass"},e.get("asslist").map((function(e,t){return u.a.createElement("div",{key:t,className:"vc-jv-ass-showtext ".concat(0===t?"vc-jv-ass-showtext-tip":"")},"".concat(e.get("asscategory")+"_"+e.get("assid")+" "+e.get("assname")))}))):"",u.a.createElement("div",{className:"vc-jv-abstract"},u.a.createElement("span",null,"\u6458\u8981\uff1a"),u.a.createElement("span",null,e.get("jvabstract"))))}))),u.a.createElement("div",{className:"vc-info vc-info-bottom"},u.a.createElement("span",null,"\u5236\u5355\u4eba: ".concat(r.get("createdby")?r.get("createdby"):"")),u.a.createElement("span",null,r.get("reviewedby")&&!s?"\u5ba1\u6838\u4eba: ".concat(r.get("reviewedby")):"")))}}]),n}(u.a.Component)),j=(n(1472),Object(l.c)((function(e){return e}))(r=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"componentDidMount",value:function(){if(m.a.setTitle({title:"\u67e5\u8be2\u51ed\u8bc1"}),m.a.setIcon({showIcon:!1}),"home"===sessionStorage.getItem("prevPage")&&(sessionStorage.removeItem("prevPage"),this.props.dispatch(d.c("searchContentType","PROPERTY_ZONGHE")),this.props.dispatch(d.c("condition","")),this.props.dispatch(d.f())),"cxpz"===sessionStorage.getItem("prevPage")){sessionStorage.removeItem("prevPage");var e=this.props,t=e.dispatch,n=e.cxpzState;t(d.i(n.get("issuedate")))}}},{key:"render",value:function(){var e=this.props,t=e.dispatch,n=e.cxpzState,r=e.allState,a=e.history,i=e.homeState.getIn(["permissionInfo","Pz"]),c=i.getIn(["edit","permission"]),s=i.getIn(["arrange","permission"]),o=n.get("allCheckboxDisplay"),l=n.get("toolBarDisplayIndex"),j=n.get("vclist"),x=n.get("issuedate"),h=n.get("currentPage"),y=n.get("pageCount"),I=n.get("vclist").some((function(e){return e.get("selected")})),E=r.get("issues"),O=(E.getIn([0,"value"]),E.getIn([E.size-1,"value"]),n.get("maxVcIndex"),n.get("vclistLength"),r.get("period"),r.getIn(["period","openedyear"])),N=r.getIn(["period","openedmonth"]),D=!!j.getIn([0,"closedby"]),S=j.filter((function(e){return e.get("selected")})).map((function(e){return e.get("vcindex")})),k=function(e,t,n){return function(r){return r(f.a("cxpzpdfexport",{year:x.substr(0,4),month:x.substr(5,2),vcIndexList:S,needA4:e,needCreatedby:t,needAss:n}))}};t(I?f.i("PDF-vc",k):f.i("excel-vc",k,(function(){return function(e){return e(f.a("excelsend",{year:x.substr(0,4),month:x.substr(5,2),exportModel:"vc",action:"QUERY_VC-BATCH_EXPORT_EXCEL"}))}})));var C=this.props.homeState.getIn(["data","userInfo","sobInfo","moduleInfo"]),L=!!C&&C.indexOf("ENCLOSURE_GL")>-1,z=!!C&&C.indexOf("RUNNING_GL")>-1,A=n.get("searchContentType"),P=n.get("condition");return u.a.createElement(g.h,{className:"cxpz"},u.a.createElement(p.f,{issuedate:x,source:E,callback:function(e){return t(d.i(e))},onOk:function(e){return t(d.i(e.value))}}),u.a.createElement("div",{className:"cxpz-flex cxpz-margin-bottom"},u.a.createElement(g.u,{className:"left",district:[{key:"\u7efc\u5408",value:"PROPERTY_ZONGHE"},{key:"\u6458\u8981",value:"PROPERTY_ABSTRACT"},{key:"\u79d1\u76ee",value:"PROPERTY_AC"},{key:"\u91d1\u989d",value:"PROPERTY_AMOUNT"},{key:"\u5236\u5355\u4eba",value:"PROPERTY_MAKER"}],value:A,canSearch:!1,onOk:function(e){t(d.c("searchContentType",e.value))}},u.a.createElement("div",{className:"cxpz-flex"},u.a.createElement("div",null,{PROPERTY_ZONGHE:"\u7efc\u5408",PROPERTY_ABSTRACT:"\u6458\u8981",PROPERTY_AC:"\u79d1\u76ee",PROPERTY_AMOUNT:"\u91d1\u989d",PROPERTY_MAKER:"\u5236\u5355\u4eba"}[A]),u.a.createElement(g.l,{type:"triangle"}))),u.a.createElement("div",{className:"search-right"},u.a.createElement(g.t,{placeholder:"\u641c\u7d22\u51ed\u8bc1",value:P,showCancelButton:!1,onChange:function(e){t(d.c("condition",e))},onSubmit:function(e){t(d.i(x))},onClear:function(){t(d.c("condition","")),t(d.i(x))}}))),u.a.createElement(g.s,{flex:"1",uniqueKey:"cxpz-scroll",savePosition:!0},u.a.createElement("div",{className:"cxpz-scroll-content"},j.map((function(e,n){return u.a.createElement(b,{allCheckboxDisplay:o,idx:n,key:n,vcitem:e,dispatch:t,history:a,vclist:j,intelligentStatus:z})}))),u.a.createElement(p.c,{classContent:"cxpz-scroll-content",callback:function(e){t(d.i(x,h,!0,e))},isGetAll:h>=y,itemSize:j.size})),u.a.createElement(g.r,null,u.a.createElement(g.d,{type:"ghost",style:{display:1===l?"":"none"}},u.a.createElement(g.c,{disabled:!c,onClick:function(){var e="",n=new Date,r=n.getFullYear(),i=n.getMonth()+1,c=x.substr(0,4),s=x.substr(5,2);if(O)if(D){var o=new Date(O,N,0);e=o<n?o:Number(O)==Number(r)&&Number(N)==Number(i)?n:new Date(O,Number(N)-1,1)}else{e=new Date(c,s,0);var u=new Date(c,s,0);e=u<n?u:Number(c)==Number(r)&&Number(s)==Number(i)?n:new Date(c,Number(s)-1,1)}else e=new Date;t(v.c()),t(v.b(e)),a.push("/lrpz"),sessionStorage.setItem("router-from","cxpz"),sessionStorage.setItem("lrpzHandleMode","insert"),t(v.d(!1))}},u.a.createElement(g.l,{type:"add-plus"}),u.a.createElement("span",null,"\u65b0\u589e")),u.a.createElement(g.c,{disabled:!s||D||0===j.size,style:{display:z?"none":""},onClick:function(){m.a.actionSheet({title:"\u9009\u62e9\u6574\u7406\u65b9\u5f0f",cancelButton:"\u53d6\u6d88",otherButtons:["\u6309\u51ed\u8bc1\u53f7\u987a\u6b21\u524d\u79fb\u8865\u9f50\u65ad\u53f7","\u6309\u51ed\u8bc1\u65e5\u671f\u91cd\u65b0\u987a\u6b21\u7f16\u53f7"],onSuccess:function(e){-1!=e.buttonIndex&&t(d.g(x,e.buttonIndex+1))}})}},u.a.createElement(g.l,{type:"settle"}),u.a.createElement("span",null,"\u6574\u7406")),u.a.createElement(g.c,{style:{display:L?"":"none"},onClick:function(){t(d.n()),a.push("/fjgl")}},u.a.createElement(g.l,{type:"fujian"}),u.a.createElement("span",null,"\u9644\u4ef6")),u.a.createElement(g.c,{disabled:0===j.size,onClick:function(){return t(d.d())}},u.a.createElement(g.l,{type:"select"}),u.a.createElement("span",null,"\u9009\u62e9"))),u.a.createElement(g.d,{type:"ghost",style:{display:2===l?"":"none"}},u.a.createElement(g.c,{onClick:function(){return t(d.m())}},u.a.createElement(g.l,{type:"choose"}),u.a.createElement("span",null,"\u5168\u9009")),u.a.createElement(g.c,{onClick:function(){return t(d.a())}},u.a.createElement(g.l,{type:"cancel"}),u.a.createElement("span",null,"\u53d6\u6d88")),u.a.createElement(g.c,{disabled:!I||D||!c||j.some((function(e){return e.get("selected")&&e.get("reviewedby")})),onClick:function(){return t(d.e(n))}},u.a.createElement(g.l,{type:"delete"}),u.a.createElement("span",null,"\u5220\u9664")),u.a.createElement(g.c,{disabled:!j.some((function(e){return e.get("selected")&&!e.get("reviewedby")}))||!c,onClick:function(){t(d.k(x))}},u.a.createElement(g.l,{type:"shenhe"}),u.a.createElement("span",null,"\u5ba1\u6838")),u.a.createElement(g.c,{disabled:!j.some((function(e){return e.get("selected")&&e.get("reviewedby")}))||!c,onClick:function(){t(d.b(x))}},u.a.createElement(g.l,{type:"chexiao"}),u.a.createElement("span",null,"\u53cd\u5ba1\u6838")))))}}]),n}(u.a.Component))||r),x=(n(32),n(223),n(1053),n(4)),h=n(1),y=(n(12),n(1057)),I=Object(h.fromJS)({allCheckboxDisplay:!1,toolBarDisplayIndex:1,lastvoucherid:"",issuedate:"",currentPage:"1",pageCount:"1",searchContentType:"PROPERTY_ZONGHE",condition:"",modifyvc:!1,vclist:[]});var E=n(1268),O=n(1074),N={cxpzState:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,n=arguments.length>1?arguments[1]:void 0;return((e={},Object(x.a)(e,y.i,(function(){return I})),Object(x.a)(e,y.h,(function(){var e=n.receivedData.data.length,r=Math.ceil(e/20);return t.set("issuedate",n.issuedate).update("vclist",(function(e){return e.clear().merge(Object(h.fromJS)(n.receivedData.data))})).set("currentPage",r).set("pageCount",r)})),Object(x.a)(e,y.f,(function(){return t.update("vclist",(function(e){return e.filter((function(e){return!e.get("selected")}))}))})),Object(x.a)(e,y.c,(function(){return t.set("toolBarDisplayIndex",2).set("allCheckboxDisplay",!0)})),Object(x.a)(e,y.b,(function(){return t.set("toolBarDisplayIndex",1).update("vclist",(function(e){return e.map((function(e){return e.set("selected",!1)}))})).set("allCheckboxDisplay",!1)})),Object(x.a)(e,y.m,(function(){return t.get("vclist").every((function(e){return e.get("selected")}))?t.update("vclist",(function(e){return e.map((function(e){return e.set("selected",!1)}))})):t.update("vclist",(function(e){return e.map((function(e){return e.set("selected",!0)}))}))})),Object(x.a)(e,y.l,(function(){return t.updateIn(["vclist",n.idx,"selected"],(function(e){return!e}))})),Object(x.a)(e,y.k,(function(){return t.update("vclist",(function(e){return e.reverse()}))})),Object(x.a)(e,y.a,(function(){return t=0!==n.currentPage?t.update("vclist",(function(e){return t.get("vclist").concat(Object(h.fromJS)(n.receivedData.data.vcList))})).set("currentPage",n.receivedData.data.currentPage).set("pageCount",n.receivedData.data.pageCount):t.update("vclist",(function(e){return e.clear().merge(Object(h.fromJS)(n.receivedData.data.vcList))})).set("currentPage",n.receivedData.data.currentPage).set("pageCount",n.receivedData.data.pageCount).set("issuedate",n.issuedate)})),Object(x.a)(e,y.e,(function(){return t.set(n.dataType,n.value)})),e)[n.type]||function(){return t})()},fjglState:E.a,lrpzState:O.a}}}]);