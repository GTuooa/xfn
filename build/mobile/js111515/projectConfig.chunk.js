(this.webpackJsonpfannix=this.webpackJsonpfannix||[]).push([[124],{1066:function(e,t,a){},1124:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));a(32),a(31),a(70);var n=a(7),i=a(8),c=a(9),r=a(10),s=a(0),l=a.n(s),o=(a(1),a(11),a(135)),u=function(e){Object(r.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,c=new Array(i),r=0;r<i;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=(e.dispatch,e.typeList),a=e.value,n=e.onChange,i=e.visible,c=e.isSelectEnd,r=e.parentDisabled,s=e.onCancel,u=function e(t){return t.map((function(t,a){return t.childList&&t.childList.length?{key:t.uuid,label:t.name,childList:e(t.childList)}:{key:t.uuid,label:t.name,childList:[]}}))},m=[];return t.size?t.getIn([0,"childList"]).size?!0!==c?(m=u(t.getIn([0,"childList"]).toJS())).unshift({key:t.getIn([0,"uuid"]),label:t.getIn([0,"name"]),childList:[]}):m=u(t.getIn([0,"childList"]).toJS()):m.unshift({key:t.getIn([0,"uuid"]),label:t.getIn([0,"name"]),childList:[]}):m=[{key:"",label:"\u5168\u90e8",childList:[]}],l.a.createElement(o.a,{visible:i,district:m,value:a,parentDisabled:r,onChange:n,onCancel:s},this.props.children)}}]),a}(l.a.Component)},1127:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));a(31),a(70);var n=a(4),i=a(1),c=a(1150),r=Object(i.fromJS)({views:{currentType:"",currentTypeName:"\u5168\u90e8",ctgyUuid:"",treeName:"\u5168\u90e8",treeUuid:"",highTypeIdx:0,insertOrModify:"insert",fromPage:"project",otherPageName:"",treeSelect:{treeTwoList:[],treeThreeList:[],selectUuid:["","",""],selectName:"",selectEndUuid:""}},data:{psiData:{code:"",name:"",selectName:"",selectUuid:"",categoryTypeList:[],typeList:[],used:!0,uuid:"",projectProperty:"XZ_LOSS",basicProductOpen:"",contractCostOpen:"",contractProfitOpen:"",engineeringSettlementOpen:""}},highTypeList:[],cardList:[],treeList:[],highTypeData:{commonFee:!1,name:"",uuid:"",beAssist:!1,beMake:!0,treeList:[]},deleteList:[],treeData:{name:"",parentName:"",parentUuid:"",uuid:""}});function s(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return((e={},Object(n.a)(e,c.i,(function(){return r})),Object(n.a)(e,c.j,(function(){return t.set(a.dataType,r.get(a.dataType)).setIn(["views","fromPage"],a.fromPage||"project")})),Object(n.a)(e,c.k,(function(){var e=a.list;return e.unshift({name:"\u5168\u90e8",uuid:""}),t.set("highTypeList",Object(i.fromJS)(e)).setIn(["views","ctgyUuid"],e[1].uuid)})),Object(n.a)(e,c.d,(function(){return t.setIn(a.dataType,a.value)})),Object(n.a)(e,c.e,(function(){return t.set(a.dataType,a.value)})),Object(n.a)(e,c.a,(function(){return t.set("cardList",Object(i.fromJS)(a.receivedData))})),Object(n.a)(e,c.h,(function(){var e=a.data.typeList.length?a.data.typeList[0].uuid:"";return t.set("cardList",Object(i.fromJS)(a.data.resultList)).set("treeList",Object(i.fromJS)(a.data.typeList)).mergeIn(["views"],Object(i.fromJS)({treeUuid:e,treeName:"\u5168\u90e8",treeSelect:r.getIn(["views","treeSelect"])}))})),Object(n.a)(e,c.f,(function(){var e=t.getIn(["highTypeData","treeList"]).toJS();return function e(t,n){return t.map((function(t,i){var c=n;(t.uuid==a.uuid||n)&&(t.checked=a.value,c=!0),t.childList.length>0&&e(t.childList,c)}))}(e,!1),t.setIn(["highTypeData","treeList"],Object(i.fromJS)(e))})),Object(n.a)(e,c.g,(function(){var e=a.data.categoryTypeList[0].subordinateName,n=a.data.categoryTypeList[0].subordinateUuid;return t.mergeIn(["data","psiData"],Object(i.fromJS)(a.data)).setIn(["views","insertOrModify"],"modify").setIn(["data","psiData","selectName"],e).setIn(["data","psiData","selectUuid"],n).setIn(["data","psiData","typeList"],Object(i.fromJS)(a.data.categoryTypeList[0].options)).setIn(["views","fromPage"],"project").set("treeList",Object(i.fromJS)(a.data.categoryTypeList[0].options))})),Object(n.a)(e,c.l,(function(){if("card"==a.dataType){t.get("cardList");t=t.update("cardList",(function(e){return e.map((function(e){return e.set("checked",!1)}))}))}else{var e=t.get("treeList").toJS();!function e(t){return t.map((function(t,a){t.checked=!1,t.childList.length>0&&e(t.childList)}))}(e),t=t.set("treeList",Object(i.fromJS)(e))}return t})),Object(n.a)(e,c.b,(function(){return t=t.set("data",r.get("data")).set("treeList",Object(i.fromJS)(a.receivedData)).setIn(["views","insertOrModify"],"insert").setIn(["views","fromPage"],a.otherPageName).setIn(["views","otherPageName"],a.otherPageName).setIn(["views","ctgyUuid"],a.ctgyUuid).set("highTypeList",Object(i.fromJS)(a.highTypeList)).setIn(["data","psiData","code"],a.code).setIn(["data","psiData","categoryTypeList",0],Object(i.fromJS)({ctgyUuid:a.ctgyUuid,subordinateUuid:""})),a.receivedData[0].childList.length<=0&&(t=t.setIn(["data","psiData","selectUuid"],a.receivedData[0].uuid).setIn(["data","psiData","selectName"],a.receivedData[0].name).setIn(["data","psiData","categoryTypeList",0,"subordinateUuid"],a.receivedData[0].uuid)),a.highTypeList.map((function(e){e.uuid==a.ctgyUuid&&"\u751f\u4ea7\u9879\u76ee"==e.name&&(t=t.setIn(["data","psiData","projectProperty"],"XZ_PRODUCE"))})),t})),Object(n.a)(e,c.c,(function(){return t.setIn(["data","psiData","code"],a.value)})),e)[a.type]||function(){return t})()}},1207:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));a(31);function n(e,t){var a=[],n=!1;return function t(i){i.map((function(i){if(!n)return i.uuid==e?(n=!0,void a.push(i)):void(i.childList.length&&(a.push(i),t(i.childList)))})),n||a.pop()}(t),a}},1208:function(e,t,a){},1209:function(e,t,a){"use strict";a.d(t,"a",(function(){return h}));a(32),a(115),a(31),a(116),a(131);var n=a(7),i=a(8),c=a(9),r=a(10),s=(a(1122),a(1123)),l=a.n(s),o=a(0),u=a.n(o),m=(a(1),a(11)),p=function(e){Object(r.a)(a,e);var t=Object(c.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).state={visible:!1},i}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=(t.dispatch,t.overlay),n=t.item,i=t.data,c=t.swapPosition,r=t.i,s=t.sortClick,o=t.iconClick,p=this.state.visible;return u.a.createElement("div",{onClick:function(){o(!0)}},u.a.createElement(l.a,{visible:p,overlay:a,align:{overflow:{adjustY:0,adjustX:0},offset:[10,0]},placement:"bottomLeft",onSelect:function(t){switch(t.props.value){case"up":s(n.get("uuid"),i.getIn([r-1,"uuid"]));break;case"down":s(n.get("uuid"),i.getIn([r+1,"uuid"]));break;default:console.log(t.props.value)}e.setState({visible:!1}),o(!1)}},u.a.createElement(m.l,{type:"swap-position",style:{display:c?"block":"none"},className:"swap-position-icon"})))}}]),a}(u.a.Component),d=(a(1208),l.a.Item),h=function(e){Object(r.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,c=new Array(i),r=0;r<i;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={showList:[],sortModal:!1},e}return Object(i.a)(a,[{key:"showListLoop",value:function(e,t){var a=this;e.map((function(e,n){e.get("childList").size>0&&(t(e.get("uuid")),a.showListLoop(e.get("childList"),t))}))}},{key:"componentDidMount",value:function(){var e=[];this.showListLoop(this.props.treeList,(function(t){return e.push(t)})),this.setState({showList:e})}},{key:"componentWillReceiveProps",value:function(e){var t=[];this.showListLoop(e.treeList,(function(e){return t.push(e)})),this.setState({showList:t})}},{key:"render",value:function(){var e=this,t=this.props,a=t.dispatch,n=t.treeList,i=t.itemClick,c=t.isSort,r=t.isAdd,s=t.addClick,l=t.isDelete,o=t.deleteClick,h=t.sortClick,g=t.mastLast,f=this.state,y=f.showList,v=f.sortModal;return u.a.createElement("div",{className:"config-tree-com"},function t(n,f){return n.map((function(v,E){var b=v.get("name"),k=v.get("uuid"),w=!!v.get("checked"),N=[];0!=E&&"\u672a\u5206\u7c7b"!=b&&N.push(u.a.createElement(d,{key:"3",value:"up"},"\u4e0a\u79fb")),E!=n.size-1&&"\u672a\u5206\u7c7b"!=n.getIn([E+1,"name"])&&N.push(u.a.createElement(d,{key:"4",value:"down"},"\u4e0b\u79fb"));var j=!(!v.get("childList")||!v.get("childList").size),O=!!j&&y.some((function(e){return e===v.get("uuid")})),C="";return 2==f&&(C=u.a.createElement("span",{className:"ac-flag",style:{width:".1rem",backgroundColor:"#D1C0A5"}})),3==f&&(C=u.a.createElement("span",{className:"ac-flag",style:{width:".2rem",backgroundColor:"#7E6B5A"}})),4==f&&(C=u.a.createElement("span",{className:"ac-flag",style:{width:".3rem",backgroundColor:"#59493f"}})),u.a.createElement("div",{key:v.get("uuid")},u.a.createElement("div",{className:"tree-com-type-list"},u.a.createElement("div",{className:"tree-com-touch-range-name",onClick:function(){if(r)f<4&&s(k,b);else if(l)o(k,b,!w);else{if(c)return;if(j&&g)return;var t=y;if(O){var a=t.findIndex((function(e){return e===v.get("uuid")}));t.splice(a,1)}else t.push(v.get("uuid"));e.setState({showList:t})}}},u.a.createElement(m.e,{checked:w,disabled:"\u5168\u90e8"==b,style:{paddingRight:"4px",display:l?"inline-block":"none"}}),u.a.createElement(m.l,{type:"add-small",className:"add-type-icon",style:{display:r?"block":"none",opacity:f<4?"1":"0"}}),"\u5168\u90e8"===b?"":0===N.length?u.a.createElement("div",{className:"swap-position-block",style:{display:c?"block":"none"}}):u.a.createElement(p,{dispatch:a,overlay:N,item:v,data:n,swapPosition:c,i:E,sortClick:h,iconClick:function(t){return e.setState({sortModal:t})}}),C,u.a.createElement("span",{className:"tree-com-high-type-name",style:{color:j&&g?"#999":""},onClick:function(e){e.stopPropagation(),i(k,b,v)}},b)),u.a.createElement("div",{className:"tree-com-touch-range-icon",style:{display:j?"":"none"}},u.a.createElement(m.l,{type:"arrow-down",style:O?{transform:"rotate(180deg)"}:"",onClick:function(){var t=y;if(O){var a=t.findIndex((function(e){return e===v.get("uuid")}));t.splice(a,1)}else t.push(v.get("uuid"));e.setState({showList:t})}}))),j&&O?t(v.get("childList"),f+1):"")}))}(n,1),u.a.createElement("div",{className:"choose-type",style:{display:v?"":"none"},onClick:function(t){t.stopPropagation(),e.setState({sortModal:!1})}}))}}]),a}(u.a.Component)},1332:function(e,t,a){},1877:function(e,t,a){},939:function(e,t,a){"use strict";a.r(t),a.d(t,"reducer",(function(){return B})),a.d(t,"view",(function(){return Z}));var n,i,c,r,s,l,o,u,m,p,d,h,g,f,y,v=a(7),E=a(8),b=a(9),k=a(10),w=a(0),N=a.n(w),j=a(11),O=a(6),C=(a(32),a(31),a(56),a(116),a(70),a(29),a(48),a(47)),S=a(1),L=(a(1877),a(1066),a(1332),a(2)),T=a(1207),I=a(12),D=a(1102),U=Object(C.c)((function(e){return e}))((c=i=function(e){Object(k.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(v.a)(this,a);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).scrollView="",e.scrollerHeight=0,e.listHeight=0,e.pageSize=50,e.throttleFn=Object(I.v)((function(t,a,n){t.target.scrollTop+100+e.scrollerHeight>=a*e.listHeight*e.pageSize&&a<n&&e.setState({currentPage:a+1})})),e.state={isEdit:!1,showTree:!1,currentPage:1},e}return Object(E.a)(a,[{key:"componentDidMount",value:function(){L.a.setTitle({title:"\u9879\u76ee\u8bbe\u7f6e"}),L.a.setIcon({showIcon:!1}),L.a.setRight({show:!1});var e=this.props.dispatch;"home"===sessionStorage.getItem("prevPage")&&(sessionStorage.removeItem("prevPage"),e(D.o()),e(D.j())),this.scrollViewHtml=document.getElementsByClassName("right-content")[0],this.scrollerHeight=Number(window.getComputedStyle(this.scrollViewHtml).height.replace("px","")),this.listHtml=document.getElementsByClassName("list-html")[0],this.listHeight=this.listHtml?Number(window.getComputedStyle(this.listHtml).height.replace("px","")):50}},{key:"render",value:function(){var e=this,t=this.props,a=t.dispatch,n=t.projectConfState,i=t.history,c=t.homeState,r=this.state,s=r.isEdit,l=r.showTree,o=r.currentPage,u=c.getIn(["permissionInfo","Config"]).getIn(["edit","permission"]),m=n.get("highTypeList"),p=n.get("cardList"),d=n.get("treeList"),h=Math.ceil(p.size/this.pageSize),g=n.get("views"),f=g.get("currentType"),y=g.get("currentTypeName"),v=g.get("ctgyUuid"),E=g.get("treeUuid"),b=g.get("treeSelect"),k=[];if(d.size){var w=d.getIn([0,"cardNumber"]);k.push({uuid:d.getIn([0,"uuid"]),name:d.getIn([0,"name"]),childList:[],cardNumber:w}),k=k.concat(d.getIn([0,"childList"]).toJS())}var O=b.get("treeTwoList"),C=b.get("treeThreeList"),L=b.get("selectUuid").toJS(),I=b.get("selectName"),U=b.get("selectEndUuid");return N.a.createElement(j.h,{className:"project-config"},N.a.createElement(j.s,{flex:"1",className:"border-top"},N.a.createElement("div",{className:"setting-wrap"},N.a.createElement("div",{className:"setting-wrap-content"},N.a.createElement("div",{className:"setting-wrap-content-left"},m.map((function(t,n){return N.a.createElement("div",{className:f==t.get("uuid")?"left-item active":"left-item",key:t.get("uuid"),onClick:function(){a(D.a(["views","currentType"],t.get("uuid"))),a(D.a(["views","currentTypeName"],t.get("name"))),a(D.j()),e.setState({currentPage:1,showTree:!1}),e.scrollViewHtml.scrollTop=0}},N.a.createElement("span",{className:"text",style:{WebkitBoxOrient:"vertical"}},t.get("name")))}))),N.a.createElement("div",{className:"setting-wrap-content-right"},N.a.createElement("div",{className:"right-item list-html",style:{display:f?"":"none"},onClick:function(){if(e.setState({showTree:!l}),!l&&U){var t=Object(T.a)(U,k),n=t[0],i=n.childList;i.length&&i.unshift({uuid:n.uuid,name:"\u5168\u90e8",oriName:n.name,childList:[]});var c=t[1]?t[1]:{uuid:"",childList:[]},r=c.childList;r.length&&r.unshift({uuid:c.uuid,name:"\u5168\u90e8",oriName:c.name,childList:[]}),a(D.a(["views","treeSelect"],b.merge(Object(S.fromJS)({treeTwoList:i,treeThreeList:r,selectUuid:[n.uuid,c.uuid,U]}))))}}},N.a.createElement("span",null,I||y),N.a.createElement(j.l,{type:"triangle",style:l?{transform:"rotate(180deg)"}:""})),N.a.createElement("div",{className:"tree-content-hidden ".concat(l?"tree-content":""),onClick:function(){return e.setState({showTree:!1})}},Object(S.fromJS)([k,O,C]).map((function(t,n){return N.a.createElement("div",{className:"tree-list ".concat(t.size?"bg-f".concat(n):""),key:"level_".concat(n)},t.map((function(t){var i=t.get("uuid"),c=t.get("name"),r=t.get("oriName"),s=t.get("childList").size,l=t.get("cardNumber");return N.a.createElement("div",{className:i==L[n]?"tree-item active":"tree-item",key:i,onClick:function(o){var u=[];s?u=(u=t.get("childList")).unshift(Object(S.fromJS)({uuid:i,name:"\u5168\u90e8",oriName:c,childList:[],cardNumber:l})):(a(D.a(["views","treeUuid"],i)),a(D.a(["views","treeName"],c)),a(D.f(f,i)),e.setState({currentPage:1,showTree:!1}),e.scrollViewHtml.scrollTop=0),0==n&&a(D.a(["views","treeSelect"],b.merge(Object(S.fromJS)({treeTwoList:u,treeThreeList:[],selectUuid:[i,L[1],L[2]]})))),1==n&&a(D.a(["views","treeSelect"],b.merge(Object(S.fromJS)({treeThreeList:u,selectUuid:[L[0],i,L[2]]})))),2==n&&a(D.a(["views","treeSelect"],b.merge(Object(S.fromJS)({selectUuid:[L[0],L[1],i]})))),s||(a(D.a(["views","treeSelect","selectName"],r||c)),a(D.a(["views","treeSelect","selectEndUuid"],i))),o.stopPropagation()}},N.a.createElement("div",{className:"overElli"},c,l?"(".concat(l,")"):null),s?N.a.createElement(j.l,{type:"arrow-right"}):null)})))}))),N.a.createElement("div",{className:"right-content",onScroll:function(t){e.throttleFn(t,o,h)}},p.slice(0,o*this.pageSize).map((function(e,t){var n=!!e.get("checked")&&e.get("checked");return N.a.createElement("div",{key:e.get("uuid"),className:"right-item",onClick:function(){a(s?D.a(["cardList",t,"checked"],!n):D.h(e.get("uuid"),i))}},N.a.createElement("span",{className:"item-checkbox",style:{display:s?"":"none"}},N.a.createElement(j.e,{checked:e.get("checked")})),N.a.createElement("span",{className:"right-item-left text",style:{WebkitBoxOrient:"vertical"}},e.get("code"),"_",e.get("name")),N.a.createElement(j.l,{type:"arrow-right"}))}))))))),N.a.createElement(j.d,{className:"border-top",disabled:!u,style:{display:s?"none":""}},N.a.createElement(j.c,{disabled:!u,onClick:function(){a(D.a(["views","insertOrModify"],"insert")),a(D.m("data")),a(D.k(v)),a(D.g()),i.push("/config/project/projectCard")}},N.a.createElement(j.l,{type:"add-plus"}),N.a.createElement("span",null,"\u65b0\u589e")),N.a.createElement(j.c,{disabled:0==p.size||!u,onClick:function(){return e.setState({isEdit:!0})}},N.a.createElement(j.l,{type:"select",size:"15"}),N.a.createElement("span",null,"\u9009\u62e9")),N.a.createElement(j.c,{onClick:function(){i.push("/config/project/projectHighType")}},N.a.createElement(j.l,{type:"home"}),N.a.createElement("span",null,"\u7c7b\u522b\u7ba1\u7406"))),N.a.createElement(j.d,{className:"border-top",style:{display:s?"":"none"}},N.a.createElement(j.c,{onClick:function(){e.setState({isEdit:!1}),a(D.r("card"))}},N.a.createElement(j.l,{type:"cancel"}),N.a.createElement("span",null,"\u53d6\u6d88")),N.a.createElement(j.c,{disabled:!p.some((function(e){return e.get("checked")}))||!u,onClick:function(){return a(D.d(p,f,E,(function(){return e.setState({isEdit:!1})})))}},N.a.createElement(j.l,{type:"delete"}),N.a.createElement("span",null,"\u5220\u9664"))))}}]),a}(N.a.Component),i.displayName="ProjectConfApp",n=c))||n,P=Object(C.c)((function(e){return e}))((l=s=function(e){Object(k.a)(a,e);var t=Object(b.a)(a);function a(){return Object(v.a)(this,a),t.apply(this,arguments)}return Object(E.a)(a,[{key:"componentDidMount",value:function(){L.a.setTitle({title:"\u7c7b\u522b\u7ba1\u7406"}),L.a.setIcon({showIcon:!1}),L.a.setRight({show:!1})}},{key:"render",value:function(){var e=this.props,t=e.dispatch,a=e.projectConfState,n=e.history,i=a.get("highTypeList");return N.a.createElement(j.h,{className:"project-config"},N.a.createElement(j.s,{flex:"1",className:"border-top"},i.map((function(e,a){if(a>0)return N.a.createElement("div",{className:"config-list-item-wrap-style",key:e.get("uuid"),onClick:function(){t(D.a(["views","highTypeIdx"],a)),n.push("/config/project/projectType")}},N.a.createElement("div",{className:"config-list-item-style"},N.a.createElement("span",{className:"config-list-item-info-style"},e.get("name")),N.a.createElement("span",{className:"config-list-item-arrow-style"},N.a.createElement(j.l,{type:"arrow-right"}))))}))),N.a.createElement(j.d,null,N.a.createElement(j.c,{onClick:function(){n.goBack()}},N.a.createElement(j.l,{type:"cancel"}),N.a.createElement("span",null,"\u8fd4\u56de"))))}}]),a}(N.a.Component),s.displayName="ProjectHighType",r=l))||r,M=(a(62),a(83),a(1209)),A=j.k.Label,z=j.k.Item,J=Object(C.c)((function(e){return e}))((m=u=function(e){Object(k.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(v.a)(this,a),(n=t.call(this,e)).state={isSort:!1,isAdd:!1,isDelete:!1},n}return Object(E.a)(a,[{key:"componentDidMount",value:function(){L.a.setTitle({title:"\u7c7b\u522b\u8bbe\u7f6e"}),L.a.setIcon({showIcon:!1}),L.a.setRight({show:!1});var e=this.props.projectConfState.getIn(["views","highTypeIdx"]),t=this.props.projectConfState.getIn(["highTypeList",e,"uuid"]);this.props.dispatch(D.i(t))}},{key:"componentWillUnmount",value:function(){var e=this.props.projectConfState,t=e.getIn(["views","currentType"]);[e.getIn(["highTypeData","uuid"])].includes(t)&&this.props.dispatch(D.j())}},{key:"render",value:function(){var e=this,t=this.props,a=t.dispatch,n=t.projectConfState,i=t.history,c=t.homeState,r=this.state,s=r.isSort,l=r.isAdd,o=r.isDelete,u=c.getIn(["permissionInfo","Config"]).getIn(["edit","permission"]),m=n.get("highTypeData"),p=m.get("commonFee"),d=m.get("beAssist"),h=m.get("beMake"),g=m.get("beIndirect"),f=m.get("beMechanical"),y=m.get("isCheckOut"),v=m.get("assistOpen"),E=m.get("makeOpen"),b=m.get("indirectOpen"),k=m.get("mechanicalOpen"),w=[];"\u751f\u4ea7\u9879\u76ee"==m.get("name")&&(d&&w.push("beAssist"),h&&w.push("beMake")),"\u65bd\u5de5\u9879\u76ee"==m.get("name")&&(g&&w.push("beIndirect"),f&&w.push("beMechanical"));var O=m.get("uuid"),C=m.get("treeList")?m.get("treeList"):[],S=function(){return e.setState({isAdd:!1,isSort:!1,isDelete:!1})};return N.a.createElement(j.h,{className:"iuManage-config project-config"},N.a.createElement(j.s,{flex:"1",className:"iuManage-type-tree border-top"},N.a.createElement(j.k,{style:{marginBottom:".1rem"}},N.a.createElement(z,{label:"\u7c7b\u522b\u540d\u79f0",showAsterisk:!0},N.a.createElement("div",null,m.get("name"))),N.a.createElement(z,{label:"\u542f\u7528\u635f\u76ca\u516c\u5171\u9879\u76ee",style:{display:"\u635f\u76ca\u9879\u76ee"==m.get("name")?"":"none"}},N.a.createElement("span",{className:"noTextSwitchShort"},N.a.createElement(j.w,{checked:p,onClick:function(){a(D.a(["highTypeData","commonFee"],!p))}}))),"\u751f\u4ea7\u9879\u76ee"==m.get("name")?N.a.createElement(j.n,{district:[{key:"\u8f85\u52a9\u751f\u4ea7\u6210\u672c",value:"beAssist"},{key:"\u5236\u9020\u8d39\u7528",value:"beMake"}],value:w,title:"\u529f\u80fd",className:"config-form-item-auto-heigth-row",onOk:function(e){var t=e.map((function(e){return e.value}));["beAssist","beMake"].map((function(e){t.includes(e)?a(D.a(["highTypeData",e],!0)):a(D.a(["highTypeData",e],!1))}))}},N.a.createElement(A,null,"\u529f\u80fd"),N.a.createElement("div",{className:"config-form-item-auto-height-row-item"},w.map((function(e,t){return N.a.createElement("span",{key:t,className:"config-form-item-type-choose-lable",style:{paddingLeft:"8px"}},{beAssist:"\u8f85\u52a9\u751f\u4ea7\u6210\u672c",beMake:"\u5236\u9020\u8d39\u7528"}[e])})),w.length?null:N.a.createElement("span",null,"\u8bf7\u9009\u62e9")),"\xa0",N.a.createElement(j.l,{type:"arrow-right",className:"ac-option-icon",size:"14"})):null,"\u65bd\u5de5\u9879\u76ee"==m.get("name")?N.a.createElement(j.n,{district:[{key:"\u95f4\u63a5\u8d39\u7528",value:"beIndirect"},{key:"\u673a\u68b0\u4f5c\u4e1a",value:"beMechanical"}],value:w,title:"\u529f\u80fd",className:"config-form-item-auto-heigth-row",onOk:function(e){var t=e.map((function(e){return e.value}));["beIndirect","beMechanical"].map((function(e){t.includes(e)?a(D.a(["highTypeData",e],!0)):a(D.a(["highTypeData",e],!1))}))}},N.a.createElement(A,null,"\u529f\u80fd"),N.a.createElement("div",{className:"config-form-item-auto-height-row-item"},w.map((function(e,t){return N.a.createElement("span",{key:t,className:"config-form-item-type-choose-lable",style:{paddingLeft:"8px"}},{beIndirect:"\u95f4\u63a5\u8d39\u7528",beMechanical:"\u673a\u68b0\u4f5c\u4e1a"}[e])})),w.length?null:N.a.createElement("span",null,"\u8bf7\u9009\u62e9")),"\xa0",N.a.createElement(j.l,{type:"arrow-right",className:"ac-option-icon",size:"14"})):null,N.a.createElement("div",{className:"config-form-sub-title",style:{display:d||h||g||f?"":"none"}},"\u671f\u521d\u503c"),N.a.createElement(z,{label:"\u8f85\u52a9\u751f\u4ea7\u6210\u672c",style:{display:d?"":"none"},className:"config-form-item-input-style"},N.a.createElement(j.E,{mode:"amount",negativeAllowed:!0,placeholder:y?"\u5df2\u7ed3\u8d26\uff0c\u4e0d\u53ef\u66f4\u6539":"\u9009\u586b",value:v,disabled:y,onChange:function(e){return a(D.a(["highTypeData","assistOpen"],e))}}),"\xa0",N.a.createElement(j.l,{type:"arrow-right",className:"ac-option-icon",size:"14"})),N.a.createElement(z,{label:"\u5236\u9020\u8d39\u7528",style:{display:h?"":"none"},className:"config-form-item-input-style"},N.a.createElement(j.E,{mode:"amount",negativeAllowed:!0,placeholder:y?"\u5df2\u7ed3\u8d26\uff0c\u4e0d\u53ef\u66f4\u6539":"\u9009\u586b",value:E,disabled:y,onChange:function(e){return a(D.a(["highTypeData","makeOpen"],e))}}),"\xa0",N.a.createElement(j.l,{type:"arrow-right",className:"ac-option-icon",size:"14"})),N.a.createElement(z,{label:"\u95f4\u63a5\u8d39\u7528",style:{display:g?"":"none"},className:"config-form-item-input-style"},N.a.createElement(j.E,{mode:"amount",negativeAllowed:!0,placeholder:y?"\u5df2\u7ed3\u8d26\uff0c\u4e0d\u53ef\u66f4\u6539":"\u9009\u586b",value:b,disabled:y,onChange:function(e){return a(D.a(["highTypeData","indirectOpen"],e))}}),"\xa0",N.a.createElement(j.l,{type:"arrow-right",className:"ac-option-icon",size:"14"})),N.a.createElement(z,{label:"\u673a\u68b0\u4f5c\u4e1a",style:{display:f?"":"none"},className:"config-form-item-input-style"},N.a.createElement(j.E,{mode:"amount",negativeAllowed:!0,placeholder:y?"\u5df2\u7ed3\u8d26\uff0c\u4e0d\u53ef\u66f4\u6539":"\u9009\u586b",value:k,disabled:y,onChange:function(e){return a(D.a(["highTypeData","mechanicalOpen"],e))}}),"\xa0",N.a.createElement(j.l,{type:"arrow-right",className:"ac-option-icon",size:"14"}))),N.a.createElement(M.a,{dispatch:a,treeList:C,itemClick:function(e,t){"\u5168\u90e8"!=t&&(a(D.l(e)),i.push("/config/project/projectTypeInsert"))},isSort:s,sortClick:function(e,t){a(D.q(O,e,t))},isAdd:l,addClick:function(e,t){a(D.m("treeData")),a(D.a(["treeData","parentUuid"],e)),a(D.a(["treeData","parentName"],t)),i.push("/config/project/projectTypeInsert")},isDelete:o,deleteClick:function(e,t,n){"\u5168\u90e8"!=t&&a(D.c(e,n))}})),N.a.createElement(j.d,{disabled:!u,style:{display:l||s||o?"none":""}},N.a.createElement(j.c,{disabled:!u,onClick:function(){e.setState({isAdd:!0,isSort:!1,isDelete:!1})}},N.a.createElement(j.l,{type:"add-plus"}),N.a.createElement("span",null,"\u65b0\u589e")),N.a.createElement(j.c,{disabled:!u,onClick:function(){e.setState({isAdd:!1,isSort:!1,isDelete:!0})}},N.a.createElement(j.l,{type:"select"}),N.a.createElement("span",null,"\u9009\u62e9")),N.a.createElement(j.c,{onClick:function(){e.setState({isAdd:!1,isSort:!0,isDelete:!1})}},N.a.createElement(j.l,{type:"swap-position-small"}),N.a.createElement("span",null,"\u8c03\u6574\u987a\u5e8f")),N.a.createElement(j.c,{disabled:!u,onClick:function(){a(D.n())}},N.a.createElement(j.l,{type:"save"}),N.a.createElement("span",null,"\u4fdd\u5b58"))),N.a.createElement(j.d,{style:{display:l||s||o?"":"none"}},N.a.createElement(j.c,{onClick:function(){e.setState({isAdd:!1,isSort:!1,isDelete:!1}),o&&a(D.r("category"))}},N.a.createElement(j.l,{type:"cancel"}),N.a.createElement("span",null,"\u53d6\u6d88")),N.a.createElement(j.c,{disabled:!u,style:{display:o?"":"none"},onClick:function(){a(D.e(O,C,S))}},N.a.createElement(j.l,{type:"delete"}),N.a.createElement("span",null,"\u5220\u9664"))))}}]),a}(N.a.Component),u.displayName="ProjectType",o=m))||o,x=a(1124),R=j.k.Item,X=Object(C.c)((function(e){return e}))((h=d=function(e){Object(k.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(v.a)(this,a),(n=t.call(this,e)).state={showTypeModal:!1},n}return Object(E.a)(a,[{key:"componentDidMount",value:function(){L.a.setTitle({title:"\u7c7b\u522b\u8bbe\u7f6e"}),L.a.setIcon({showIcon:!1}),L.a.setRight({show:!1})}},{key:"render",value:function(){var e=this,t=this.props,a=t.dispatch,n=t.projectConfState,i=t.history,c=this.state.showTypeModal,r=n.getIn(["highTypeData","uuid"]),s=n.getIn(["highTypeData","treeList"]),l=n.get("treeData");return N.a.createElement(j.h,{className:"project-config"},N.a.createElement(j.s,{flex:"1",className:"border-top"},N.a.createElement(j.k,null,N.a.createElement(R,{label:"\u7c7b\u522b\u540d\u79f0",showAsterisk:!0,className:"config-form-item-input-style"},N.a.createElement(j.E,{placeholder:"\u6700\u957f30\u4e2a\u5b57\u7b26",value:l.get("name"),onChange:function(e){a(D.a(["treeData","name"],e))}}),"\xa0",N.a.createElement(j.l,{type:"arrow-right",className:"ac-option-icon",size:"14"})),N.a.createElement(R,{label:"\u4e0a\u7ea7\u7c7b\u522b",showAsterisk:!0},N.a.createElement("div",{onClick:function(){e.setState({showTypeModal:!0})}},N.a.createElement("span",{className:"text-flow"},l.get("parentName"))),"\xa0",N.a.createElement(j.l,{type:"arrow-right",className:"ac-option-icon",size:"14"})),N.a.createElement(x.a,{visible:c,dispatch:a,typeList:s,onCancel:function(){return e.setState({showTypeModal:!1})},onChange:function(t){var n=t.key,i=t.label;a(D.a(["treeData","parentUuid"],n)),a(D.a(["treeData","parentName"],i)),e.setState({showTypeModal:!1})}},N.a.createElement("span",null)))),N.a.createElement(j.d,null,N.a.createElement(j.c,{onClick:function(){i.goBack()}},N.a.createElement(j.l,{type:"cancel"}),N.a.createElement("span",null,"\u53d6\u6d88")),N.a.createElement(j.c,{onClick:function(){a(D.p(r,l,i))}},N.a.createElement(j.l,{type:"save"}),N.a.createElement("span",null,"\u4fdd\u5b58"))))}}]),a}(N.a.Component),d.displayName="ProjectTypeInsert",p=h))||p,H=j.k.Item,_=Object(C.c)((function(e){return e}))((y=f=function(e){Object(k.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(v.a)(this,a),(n=t.call(this,e)).state={showTypeModal:!1},n}return Object(E.a)(a,[{key:"componentDidMount",value:function(){L.a.setTitle({title:"\u9879\u76ee\u5361\u7247"}),L.a.setIcon({showIcon:!1}),L.a.setRight({show:!1})}},{key:"render",value:function(){var e=this,t=this.props,a=t.dispatch,n=t.projectConfState,i=t.history,c=t.homeState,r=this.state.showTypeModal,s=n.get("highTypeList"),l=n.getIn(["views","insertOrModify"]),o=n.getIn(["views","fromPage"]),u="project"!==o,m=n.getIn(["data","psiData"]),p=m.get("used"),d=(n.getIn(["views","insertOrModify"]),n.get("treeList")),h=(n.getIn(["views","ctgyUuid"]),m.get("projectProperty")),g=m.get("basicProductOpen"),f=m.get("contractCostOpen"),y=m.get("contractProfitOpen"),v=m.get("engineeringSettlementOpen"),E=m.get("isCheckOut"),b=c.getIn(["permissionInfo","Config"]).getIn(["edit","permission"]),k=c.getIn(["data","userInfo","sobInfo","moduleInfo"]).includes("SCXM"),w=c.getIn(["data","userInfo","sobInfo","moduleInfo"]).includes("SGXM");u&&(b=c.getIn(["permissionInfo","LrAccount"]).getIn(["edit","permission"]));var O=[{key:"\u635f\u76ca\u9879\u76ee",value:"XZ_LOSS"}];return k&&O.push({key:"\u751f\u4ea7\u9879\u76ee",value:"XZ_PRODUCE"}),w&&O.push({key:"\u65bd\u5de5\u9879\u76ee",value:"XZ_CONSTRUCTION"}),N.a.createElement(j.h,{className:"project-config"},N.a.createElement(j.s,{flex:"1",className:"border-top"},N.a.createElement(j.k,null,N.a.createElement(H,{label:"\u7f16\u7801",showAsterisk:!0,className:"config-form-item-input-style"},N.a.createElement(j.E,{placeholder:"\u652f\u6301\u6570\u5b57\u548c\u82f1\u6587\u5927\u5c0f\u5199",value:m.get("code"),onChange:function(e){return I.g.inputCheck("code",e,(function(){a(D.a(["data","psiData","code"],e))}))}}),"\xa0",N.a.createElement(j.l,{type:"arrow-right",size:"14"})),N.a.createElement(H,{label:"\u540d\u79f0",showAsterisk:!0,className:"config-form-item-input-style"},N.a.createElement(j.E,{placeholder:"\u586b\u5199\u540d\u79f0",value:m.get("name"),onChange:function(e){a(D.a(["data","psiData","name"],e))}}),"\xa0",N.a.createElement(j.l,{type:"arrow-right",size:"14"})),N.a.createElement(H,{label:"\u9879\u76ee\u6027\u8d28",showAsterisk:!0},N.a.createElement(j.u,{district:O,value:h,onOk:function(e){a(D.a(["data","psiData","projectProperty"],e.value)),s.map((function(t){t.get("name")==e.key&&a(D.k(t.get("uuid")))}))}},N.a.createElement(j.r,{className:"config-form-item-select-item"},{XZ_LOSS:"\u635f\u76ca\u9879\u76ee",XZ_PRODUCE:"\u751f\u4ea7\u9879\u76ee",XZ_CONSTRUCTION:"\u65bd\u5de5\u9879\u76ee"}[h])),"\xa0",N.a.createElement(j.l,{type:"arrow-right",size:"14"})),N.a.createElement(H,{label:"\u7c7b\u522b",showAsterisk:!0,onClick:function(){e.setState({showTypeModal:!0})}},m.get("selectName"),"\xa0",N.a.createElement(j.l,{type:"arrow-right",size:"14"})),N.a.createElement(x.a,{visible:r,dispatch:a,typeList:d,isSelectEnd:!0,onCancel:function(){return e.setState({showTypeModal:!1})},onChange:function(t){var n=t.key,i=t.label;a(D.a(["data","psiData","selectName"],i)),a(D.a(["data","psiData","selectUuid"],n)),a(D.a(["data","psiData","categoryTypeList",0,"subordinateUuid"],n)),e.setState({showTypeModal:!1})}},N.a.createElement("span",null)),N.a.createElement("div",{className:"config-form-sub-title",style:{display:["XZ_PRODUCE","XZ_CONSTRUCTION"].includes(h)?"":"none"}},"\u671f\u521d\u503c"),N.a.createElement(H,{label:"\u57fa\u672c\u751f\u4ea7\u6210\u672c",style:{display:"XZ_PRODUCE"==h?"":"none"},className:"config-form-item-input-style"},N.a.createElement(j.E,{mode:"amount",negativeAllowed:!0,placeholder:E?"\u5df2\u7ed3\u8d26\uff0c\u4e0d\u53ef\u66f4\u6539":"\u9009\u586b",value:g,disabled:E,onChange:function(e){return a(D.a(["data","psiData","basicProductOpen"],e))}}),"\xa0",N.a.createElement(j.l,{type:"arrow-right",className:"ac-option-icon",size:"14"})),N.a.createElement(H,{label:"\u5408\u540c\u6210\u672c",style:{display:"XZ_CONSTRUCTION"==h?"":"none"},className:"config-form-item-input-style"},N.a.createElement(j.E,{mode:"amount",negativeAllowed:!0,placeholder:E?"\u5df2\u7ed3\u8d26\uff0c\u4e0d\u53ef\u66f4\u6539":"\u9009\u586b",value:f,disabled:E,onChange:function(e){return a(D.a(["data","psiData","contractCostOpen"],e))}}),"\xa0",N.a.createElement(j.l,{type:"arrow-right",className:"ac-option-icon",size:"14"})),N.a.createElement(H,{label:"\u5408\u540c\u6bdb\u5229",style:{display:"XZ_CONSTRUCTION"==h?"":"none"},className:"config-form-item-input-style"},N.a.createElement(j.E,{mode:"amount",negativeAllowed:!0,placeholder:E?"\u5df2\u7ed3\u8d26\uff0c\u4e0d\u53ef\u66f4\u6539":"\u9009\u586b",value:y,disabled:E,onChange:function(e){return a(D.a(["data","psiData","contractProfitOpen"],e))}}),"\xa0",N.a.createElement(j.l,{type:"arrow-right",className:"ac-option-icon",size:"14"})),N.a.createElement(H,{label:"\u5de5\u7a0b\u7ed3\u7b97",style:{display:"XZ_CONSTRUCTION"==h?"":"none"},className:"config-form-item-input-style"},N.a.createElement(j.E,{mode:"amount",negativeAllowed:!0,placeholder:E?"\u5df2\u7ed3\u8d26\uff0c\u4e0d\u53ef\u66f4\u6539":"\u9009\u586b",value:v,disabled:E,onChange:function(e){return a(D.a(["data","psiData","engineeringSettlementOpen"],e))}}),"\xa0",N.a.createElement(j.l,{type:"arrow-right",className:"ac-option-icon",size:"14"})),N.a.createElement(H,{label:"\u542f\u7528/\u505c\u7528",style:{display:"insert"==l?"none":"",marginTop:".1rem"}},N.a.createElement("span",{className:"noTextSwitchShort"},N.a.createElement(j.w,{checked:p,onClick:function(){a(D.a(["data","psiData","used"],!p))}}))))),N.a.createElement(j.d,null,N.a.createElement(j.c,{onClick:function(){i.goBack()}},N.a.createElement(j.l,{type:"cancel"}),N.a.createElement("span",null,"\u53d6\u6d88")),N.a.createElement(j.c,{disabled:!b,onClick:function(){I.g.beforeSaveCheck([{type:"name",value:m.get("name")},{type:"code",value:m.get("code")}],(function(){a(D.b(o,i))}))}},N.a.createElement(j.l,{type:"save"}),N.a.createElement("span",null,"\u4fdd\u5b58")),N.a.createElement(j.c,{disabled:!b,style:{display:"insert"!=l||u?"none":""},onClick:function(){I.g.beforeSaveCheck([{type:"name",value:m.get("name")},{type:"code",value:m.get("code")}],(function(){a(D.b(o,i,!0))}))}},N.a.createElement(j.l,{type:"new"}),N.a.createElement("span",null,"\u4fdd\u5b58\u5e76\u65b0\u589e"))))}}]),a}(N.a.Component),f.displayName="ProjectCard",g=y))||g,Z=function(e){Object(k.a)(a,e);var t=Object(b.a)(a);function a(){return Object(v.a)(this,a),t.apply(this,arguments)}return Object(E.a)(a,[{key:"render",value:function(){return N.a.createElement(j.h,{className:"project-config"},N.a.createElement(O.a,{path:"/config/project/index",component:U}),N.a.createElement(O.a,{path:"/config/project/projectHighType",component:P}),N.a.createElement(O.a,{path:"/config/project/projectType",component:J}),N.a.createElement(O.a,{path:"/config/project/projectTypeInsert",component:X}),N.a.createElement(O.a,{path:"/config/project/projectCard",component:_}))}}]),a}(N.a.Component),B={projectConfState:a(1127).a}}}]);