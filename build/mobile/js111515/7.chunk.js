(this.webpackJsonpfannix=this.webpackJsonpfannix||[]).push([[7],{1025:function(t,e,a){"use strict";a.r(e),a.d(e,"accountSaveAndNew",(function(){return p})),a.d(e,"changeLrlsData",(function(){return T})),a.d(e,"getCardDetail",(function(){return S})),a.d(e,"changeLrlsAccount",(function(){return _})),a.d(e,"saveEditRunning",(function(){return C})),a.d(e,"changeLrlsOriState",(function(){return L})),a.d(e,"getZskxPaymentList",(function(){return l})),a.d(e,"pendingStrongListBeSelect",(function(){return m})),a.d(e,"changeProjectCard",(function(){return y})),a.d(e,"getProjectCardList",(function(){return b})),a.d(e,"clearCardTemp",(function(){return A})),a.d(e,"changeHomeAccountOriDate",(function(){return h})),a.d(e,"getOriRunning",(function(){return E})),a.d(e,"changeHandleType",(function(){return I})),a.d(e,"getJkPendingStrongList",(function(){return O})),a.d(e,"getTzPendingStrongList",(function(){return j})),a.d(e,"getZbPendingStrongList",(function(){return v})),a.d(e,"getXmjzList",(function(){return N})),a.d(e,"changeLrlsAmount",(function(){return R})),a.d(e,"changeTaxRate",(function(){return Z})),a.d(e,"getCardList",(function(){return U})),a.d(e,"changeCurrentCardList",(function(){return J})),a.d(e,"autoCqzcCzAmount",(function(){return P})),a.d(e,"changeYysrStockCard",(function(){return D})),a.d(e,"getSfzcZzsList",(function(){return Y})),a.d(e,"getSfzcNotPayList",(function(){return k})),a.d(e,"getSfzcTransferAmount",(function(){return B})),a.d(e,"getSfzcNotHandleAmount",(function(){return F})),a.d(e,"xczcCalculateAmount",(function(){return X})),a.d(e,"getPaymentInfo",(function(){return G})),a.d(e,"getXczcPaymentList",(function(){return M})),a.d(e,"getYysrYyzcAmount",(function(){return H})),a.d(e,"toManageType",(function(){return w})),a.d(e,"getKjfpList",(function(){return z})),a.d(e,"getFprzList",(function(){return x})),a.d(e,"getCqzcCategoryList",(function(){return Q})),a.d(e,"getJzsyList",(function(){return W})),a.d(e,"autoJzsyAmount",(function(){return K})),a.d(e,"zjtxSelectCategory",(function(){return q})),a.d(e,"getWjzzsList",(function(){return V})),a.d(e,"getSfglCardList",(function(){return $})),a.d(e,"getSfglCategoryList",(function(){return tt})),a.d(e,"getSfglList",(function(){return et})),a.d(e,"getSfglQcCategoryList",(function(){return at})),a.d(e,"getJzcbCardList",(function(){return nt})),a.d(e,"getJzcbCategoryList",(function(){return rt})),a.d(e,"getJzcbWarehouseList",(function(){return it})),a.d(e,"getCostStockByCategory",(function(){return ot})),a.d(e,"getJzcbList",(function(){return ct})),a.d(e,"filterJzcbList",(function(){return ut})),a.d(e,"getJzcbPrice",(function(){return st})),a.d(e,"getJzcbListPrice",(function(){return dt})),a.d(e,"setJzcbPrice",(function(){return gt})),a.d(e,"changeGgfyftProjectCard",(function(){return ft})),a.d(e,"autoCalculate",(function(){return pt})),a.d(e,"getGgfyftProjectList",(function(){return Tt})),a.d(e,"getGgfyftList",(function(){return St})),a.d(e,"getProjectShareType",(function(){return _t})),a.d(e,"getXmjzProjectList",(function(){return Ct})),a.d(e,"fromYlToLr",(function(){return Lt})),a.d(e,"getUploadGetTokenFetch",(function(){return lt})),a.d(e,"uploadFiles",(function(){return mt})),a.d(e,"deleteUploadFJUrl",(function(){return yt})),a.d(e,"changeLrlsEnclosureList",(function(){return bt})),a.d(e,"getLabelFetch",(function(){return At})),a.d(e,"changeTagName",(function(){return ht})),a.d(e,"getWarehouseCardList",(function(){return Et})),a.d(e,"accountMoreCard",(function(){return It})),a.d(e,"getChdbPrice",(function(){return Ot})),a.d(e,"getChdbPriceAll",(function(){return jt})),a.d(e,"getChyePrice",(function(){return vt})),a.d(e,"getJxsezcCategory",(function(){return Nt})),a.d(e,"changeHandleCategory",(function(){return Rt})),a.d(e,"getPoundageCategory",(function(){return Zt})),a.d(e,"getPoundageCurrentList",(function(){return Ut})),a.d(e,"getPoundageProjectList",(function(){return Jt})),a.d(e,"getCostStockCategory",(function(){return Pt})),a.d(e,"getStockListByCategory",(function(){return Dt})),a.d(e,"getCurrentTree",(function(){return Yt})),a.d(e,"getCurrentListByCategory",(function(){return kt})),a.d(e,"getProjectTreeList",(function(){return Bt})),a.d(e,"getProjectListByCategory",(function(){return Ft})),a.d(e,"getChzzListPrice",(function(){return Xt})),a.d(e,"getChzzPrice",(function(){return Gt})),a.d(e,"getChzzZzdListPrice",(function(){return Mt})),a.d(e,"getChzzZzdPrice",(function(){return Ht})),a.d(e,"chzzAssemblyList",(function(){return wt})),a.d(e,"addInventoryAssist",(function(){return zt})),a.d(e,"getBatchList",(function(){return xt})),a.d(e,"getSerialListIn",(function(){return Qt})),a.d(e,"getSerialListChecked",(function(){return Wt}));a(32),a(61),a(62),a(33),a(31),a(70),a(133),a(77),a(65),a(83),a(76);var n=a(118),r=a(1),i=a(78),o=a(17),c=a(12),u=a(1334),s=a(1263),d=a(2),g=a(14),f=a(117),p=function(){return function(t,e){var a=e().allState.get("period"),n=a.get("openedyear"),r=a.get("openedmonth"),i="";if(n){var o=new Date(n,r,0),u=new Date,d=(new Date).getFullYear(),g=(new Date).getMonth()+1;i=o<u||Number(n)==Number(d)&&Number(r)==Number(g)?u:new Date(n,Number(r)-1,1)}else i=new Date;i=new c.a(i).toString(),t({type:s.n,date:i})}},T=function(t,e,a){return{type:s.u,dataType:t,value:e,set:a}},S=function(t,e){return function(a,n){var o=n().homeState.getIn(["data","userInfo","sobInfo","moduleInfo"]).includes("WAREHOUSE");Object(i.a)("getRunningDetail","GET","uuid=".concat(t),(function(t){if(Object(c.u)(t)){var n=t.data.result;delete n.parentUuid,a({type:s.B,receivedData:n,isModify:e,isOpenedWarehouse:o}),Object(u.b)(Object(r.fromJS)(n),a)}}))}},_=function(t,e){return{type:s.t,value:t,accountStatus:e}},C=function(t,e){return function(a,n){var r=n().editRunningState,i=n().allState.getIn(["taxRate","scale"]),o=n().homeState.getIn(["data","userInfo","sobInfo","moduleInfo"]).includes("WAREHOUSE");Object(u.f)(a,r,i,t,o,e)}},L=function(t){return function(e,a){e(A()),e(T(["oriTemp","oriState"],t));var n=a().editRunningState;Object(u.e)(e,n)}},l=function(){return function(t,e){var a=e().editRunningState.getIn(["oriTemp","oriDate"]),n=e().editRunningState.getIn(["oriTemp","categoryUuid"]),r=e().editRunningState.getIn(["oriTemp","currentCardList"]).toJS(),o=[];r.forEach((function(t){o.push(t.uuid)})),o.includes("")&&(o=[]),d.a.toast.loading("\u52a0\u8f7d\u4e2d...",0),Object(i.a)("getManageList","POST",JSON.stringify({oriDate:a,categoryUuidList:[n],cardUuidList:o,oriUuid:"",currentPage:""}),(function(e){d.a.toast.hide(),Object(c.u)(e)&&t({type:s.C,receivedData:e.data.pendingManageList})}))}},m=function(t,e){return{type:s.N,value:e,idx:t}},y=function(t,e,a){return{type:s.v,dataType:t,value:e,idx:a}},b=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"projectList";return function(a,n){var r=n().homeState.getIn(["data","userInfo","sobInfo","sobId"]);d.a.toast.loading(g.p,0),Object(i.a)("getProjectCardList","POST",JSON.stringify({sobId:r,categoryList:t,needCommonCard:!0,needAssist:!0,needMake:!0,needIndirect:!0,needMechanical:!0}),(function(t){d.a.toast.hide(),Object(c.u)(t)&&a({type:s.F,receivedData:t.data.result,cardType:e})}))}},A=function(){return{type:s.x}},h=function(t,e){return function(a,n){if(a(T(["oriTemp","oriDate"],t)),!e){var r=n().editRunningState;Object(u.d)(a,r)}}},E=function(t,e,a){return function(n,o){Object(i.a)("getRunningBusiness","GET","oriUuid=".concat(t),(function(t){if(Object(c.u)(t,"","","",!0)){n({type:s.M,receivedData:t.data,ylType:a});var i=o().editRunningState,d=i.getIn(["oriTemp","propertyTax"]),g=i.getIn(["oriTemp","oriState"]);"SX_ZZS"==d&&"STATE_SF_JN"==g&&n(Y()),"STATE_YYSR_ZJ"==g&&(n(nt()),n(ot("",!0)),n(Pt()),"COPY"==a&&n(rt()),t.data.jrOri.beProject&&(n(b(t.data.jrOri.projectRange)),n(Bt()))),e&&(Object(u.b)(Object(r.fromJS)(t.data.category),n,!0,a),"STATE_CHYE_TYDJ"==g&&n(Et("STATE_CHYE_TYDJ")),"STATE_CQZC_ZJTX"==g&&"COPY"==a&&n(Q("LB_ZJTX"))),!e&&["STATE_XMJZ_JZRK","STATE_XMJZ_QRSRCB"].includes(g)&&n(N())}}))}},I=function(t){return function(e,a){e(A()),e({type:s.J,value:t});var n=a().editRunningState;Object(u.c)(e,n)}},O=function(){return function(t,e){var a=e().editRunningState,n=a.getIn(["oriTemp","categoryType"]),r=a.getIn(["oriTemp","oriState"]);if(a.getIn(["oriTemp",f.a[n],"beAccrued"])&&"STATE_JK_ZFLX"==r){var o=a.getIn(["oriTemp","categoryUuid"]),u=a.getIn(["oriTemp","oriDate"]),p="";if(a.getIn(["oriTemp","usedCurrent"])){var T=a.getIn(["oriTemp","currentCardList",0,"cardUuid"]);p=T||""}d.a.toast.loading(g.p,0),Object(i.a)("getJkPendingStrongList","GET","categoryUuid=".concat(o,"&oriDate=").concat(u,"&currentCardUuid=").concat(p),(function(e){d.a.toast.hide(),Object(c.u)(e)&&t({type:s.C,receivedData:e.data.jrList})}))}}},j=function(){return function(t,e){var a=e().editRunningState,n=a.getIn(["oriTemp","categoryType"]),r=a.getIn(["oriTemp","oriState"]);if(a.getIn(["oriTemp",f.a[n],"beAccrued"])&&["STATE_TZ_SRGL","STATE_TZ_SRLX"].includes(r)){var o=a.getIn(["oriTemp","categoryUuid"]),u=a.getIn(["oriTemp","oriDate"]),p="";if(a.getIn(["oriTemp","usedCurrent"])){var T=a.getIn(["oriTemp","currentCardList",0,"cardUuid"]);p=T||""}d.a.toast.loading(g.p,0),Object(i.a)("getTzPendingStrongList","GET","categoryUuid=".concat(o,"&oriDate=").concat(u,"&currentCardUuid=").concat(p),(function(e){d.a.toast.hide(),Object(c.u)(e)&&t({type:s.C,receivedData:e.data.jrList})}))}}},v=function(){return function(t,e){var a=e().editRunningState,n=a.getIn(["oriTemp","categoryType"]),r=a.getIn(["oriTemp","oriState"]);if(a.getIn(["oriTemp",f.a[n],"beAccrued"])&&"STATE_ZB_ZFLR"==r){var o=a.getIn(["oriTemp","categoryUuid"]),u=a.getIn(["oriTemp","oriDate"]),p="";if(a.getIn(["oriTemp","usedCurrent"])){var T=a.getIn(["oriTemp","currentCardList",0,"cardUuid"]);p=T||""}d.a.toast.loading(g.p,0),Object(i.a)("getZbPendingStrongList","GET","categoryUuid=".concat(o,"&oriDate=").concat(u,"&currentCardUuid=").concat(p),(function(e){d.a.toast.hide(),Object(c.u)(e)&&t({type:s.C,receivedData:e.data.jrList})}))}}},N=function(t){return function(e,a){var n=a().editRunningState,r=n.getIn(["oriTemp","oriDate"]),o=n.getIn(["oriTemp","oriState"]),u=n.getIn(["oriTemp","projectCardList"]),d=n.getIn(["oriTemp","oriUuid"]);if(!t||"STATE_XMJZ_XMJQ"!=o){var g="";if(u){var f=u.getIn([0,"cardUuid"]);g=f||"",u.getIn([0,"projectProperty"])}Object(i.a)("getXmjzList","GET","oriDate=".concat(r,"&projectUuid=").concat(g,"&oriUuid=").concat(d||""),(function(t){if(Object(c.u)(t)){e({type:s.C,receivedData:t.data.carryoverList});var a=Object(c.l)(t.data.allHappenAmount-t.data.allStoreAmount);e(T(["oriTemp","jrAmount"],a))}}))}}},R=function(t){return{type:s.L,value:t}},Z=function(t){return{type:s.P,value:t}},U=function(t,e){return function(a,n){var r=n().homeState.getIn(["data","userInfo","sobInfo","sobId"]),o=n().editRunningState,u=o.getIn(["oriTemp","categoryType"]),d=o.getIn(["oriTemp","oriState"]),g=o.getIn(["oriTemp",f.a[u],t]);e&&(g=e);var p="",T="stockRange"==t?"getStockCardList":"getCurrentCardList";switch(u){case"LB_YYSR":p="STATE_YYSR_DJ"===d?"stockRange"==t?"4":"PREIN":"stockRange"==t?"4":"NEEDIN";break;case"LB_YYZC":p="STATE_YYZC_DJ"===d?"stockRange"==t?"5":"PREPAY":"stockRange"==t?"5":"NEEDPAY";break;case"LB_YYWSR":p="NEEDIN";break;case"LB_YYWZC":p="NEEDPAY";break;case"LB_CQZC":p="JR_HANDLE_GJ"===o.getIn(["oriTemp","handleType"])?"NEEDPAY":"NEEDIN";break;case"LB_FYZC":p="STATE_FY_DJ"==o.getIn(["oriTemp","oriState"])?"PREPAY":"NEEDPAY";break;case"LB_ZSKX":if(p="NEEDIN","STATE_ZS_TH"==d)return;break;case"LB_ZFKX":if(p="NEEDPAY","STATE_ZF_SH"==d)return;break;case"LB_CHDB":case"LB_CHYE":case"LB_CHTRXM":case"LB_XMJZ":g=[],p="0";break;case"LB_JXSEZC":g=o.getIn(["oriTemp","stockRange"]),p="5"}e&&(t="commonCardList"),Object(i.a)(T,"POST",JSON.stringify({sobId:r,property:p,categoryList:g,isUniform:"STATE_CHYE_TYDJ"==d||null,openQuantity:"STATE_CHYE_TYDJ"==d||null}),(function(e){Object(c.u)(e)&&a({type:s.z,data:e.data.result,cardType:t})}))}},J=function(t,e){return{type:s.q,value:t,cardType:e}},P=function(){return{type:s.o}},D=function(t,e,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"YYSZ",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"stockCardList";return{type:s.w,dataType:t,value:e,idx:a,categoryType:n,cardType:r}},Y=function(){return function(t,e){var a=e().editRunningState,n=a.getIn(["oriTemp","oriDate"]),r="modify"===a.getIn(["views","insertOrModify"])?a.getIn(["oriTemp","oriUuid"]):"";d.a.toast.loading("\u52a0\u8f7d\u4e2d...",0),Object(i.a)("getSfzcZzsList","GET","oriDate=".concat(n,"&oriUuid=").concat(r),(function(e){d.a.toast.hide(),Object(c.u)(e)&&t(T(["oriTemp","deductedAmount"],e.data.notHandleAmount))}))}},k=function(){return function(t,e){var a=e().editRunningState.getIn(["oriTemp","oriDate"]),n=e().editRunningState.getIn(["oriTemp","categoryUuid"]);d.a.toast.loading("\u52a0\u8f7d\u4e2d...",0),Object(i.a)("getSfzcNotPayList","GET","oriDate=".concat(a,"&categoryUuid=").concat(n),(function(e){d.a.toast.hide(),Object(c.u)(e)&&t({type:s.C,receivedData:e.data.jrList})}))}},B=function(){return function(t,e){var a=e().editRunningState.getIn(["oriTemp","oriDate"]);d.a.toast.loading("\u52a0\u8f7d\u4e2d...",0),Object(i.a)("getSfzcTransferAmount","GET","oriDate=".concat(a),(function(e){d.a.toast.hide(),Object(c.u)(e)&&t(T(["oriTemp","transferAmount"],e.data.amount))}))}},F=function(){return function(t,e){var a=e().editRunningState.getIn(["oriTemp","oriDate"]),n=e().editRunningState.getIn(["oriTemp","categoryUuid"]);d.a.toast.loading("\u52a0\u8f7d\u4e2d...",0),Object(i.a)("getSfzcNotHandleAmount","GET","oriDate=".concat(a,"&categoryUuid=").concat(n),(function(e){d.a.toast.hide(),Object(c.u)(e)&&t(T(["oriTemp","payableAmount"],e.data.payableAmount))}))}},X=function(t){return{type:s.R,propertyPay:t}},G=function(){return function(t,e){var a=e().editRunningState.getIn(["oriTemp","oriDate"]),n=e().editRunningState.getIn(["oriTemp","categoryUuid"]);d.a.toast.loading("\u52a0\u8f7d\u4e2d...",0),Object(i.a)("getPaymentInfo","GET","oriDate=".concat(a,"&categoryUuid=").concat(n),(function(e){d.a.toast.hide(),Object(c.u)(e)&&(t(T(["oriTemp","accumulationAmount"],e.data.accumulationAmount)),t(T(["oriTemp","socialSecurityAmount"],e.data.socialSecurityAmount)))}))}},M=function(){return function(t,e){var a=e().editRunningState.getIn(["oriTemp","oriDate"]),n=e().editRunningState.getIn(["oriTemp","categoryUuid"]);d.a.toast.loading("\u52a0\u8f7d\u4e2d...",0),Object(i.a)("getXczcPaymentList","GET","oriDate=".concat(a,"&categoryUuid=").concat(n),(function(e){d.a.toast.hide(),Object(c.u)(e)&&t({type:s.C,receivedData:e.data.jrList})}))}},H=function(){return function(t,e){var a=e().editRunningState.get("oriTemp"),n=a.get("oriDate"),r=a.get("categoryUuid"),o=a.get("oriState"),u=a.getIn(["currentCardList",0,"cardUuid"]),s=a.get("usedCurrent")&&u?u:"";["STATE_FY_DJ","STATE_YYSR_DJ","STATE_YYZC_DJ"].includes(o)||(d.a.toast.loading(g.p,0),Object(i.a)("getRunningAccountInfo","GET","oriDate=".concat(n,"&categoryUuid=").concat(r,"&oriState=").concat(o,"&cardUuid=").concat(s),(function(e){d.a.toast.hide(),Object(c.u)(e)&&(t(T(["oriTemp","payableAmount"],e.data.payableAmount)),t(T(["oriTemp","preAmount"],e.data.preAmount)),t(T(["oriTemp","offsetAmount"],"")))})))}},w=function(t){return function(e,a){var n=a().homeState.getIn(["data","userInfo","sobInfo","moduleInfo"]).includes("WAREHOUSE");e({type:s.B,receivedData:t,isOpenedWarehouse:n}),Object(u.b)(Object(r.fromJS)(t),e)}},z=function(){return function(t,e){var a=e().editRunningState.getIn(["oriTemp","oriDate"]),n=e().editRunningState.getIn(["oriTemp","billType"]);d.a.toast.loading("\u52a0\u8f7d\u4e2d...",0),Object(i.a)("getBusinessMakeoutList","GET","oriDate=".concat(a,"&billType=").concat(n),(function(e){d.a.toast.hide(),Object(c.u)(e)&&t({type:s.C,receivedData:e.data.result})}))}},x=function(){return function(t,e){var a=e().editRunningState.getIn(["oriTemp","oriDate"]),n=e().editRunningState.getIn(["oriTemp","billType"]);d.a.toast.loading("\u52a0\u8f7d\u4e2d...",0),Object(i.a)("getBusinessAuthList","GET","oriDate=".concat(a,"&billType=").concat(n),(function(e){d.a.toast.hide(),Object(c.u)(e)&&t({type:s.C,receivedData:e.data.result})}))}},Q=function(t){return function(e){d.a.toast.loading("\u52a0\u8f7d\u4e2d...",0),Object(i.a)("getCategoryList","POST",JSON.stringify({type:t}),(function(t){d.a.toast.hide(),Object(c.u)(t)&&e({type:s.A,receivedData:t.data.result[0].childList})}))}},W=function(){return function(t,e){var a=e().editRunningState.getIn(["oriTemp","oriDate"]),n=e().editRunningState.getIn(["oriTemp","relationCategoryUuid"]);d.a.toast.loading("\u52a0\u8f7d\u4e2d...",0),Object(i.a)("getJzsyList","GET","oriDate=".concat(a,"&categoryUuid=").concat(n),(function(e){d.a.toast.hide(),Object(c.u)(e)&&t({type:s.C,receivedData:e.data.jrList})}))}},K=function(){return{type:s.p}},q=function(t){return{type:s.S,data:t}},V=function(t){return function(e){d.a.toast.loading("\u52a0\u8f7d\u4e2d...",0),Object(i.a)("getBusinessTurnoutList","GET","oriDate=".concat(t),(function(t){d.a.toast.hide(),Object(c.u)(t)&&e({type:s.C,receivedData:t.data.jrJvVatDtoList})}))}},$=function(){return function(t,e){var a=e().editRunningState.get("oriTemp"),n=a.get("oriDate"),r=a.get("categoryUuid"),o=a.get("categoryType"),u="oriDate=".concat(n);["LB_ZSKX","LB_ZFKX"].includes(o)&&(u="oriDate=".concat(n,"&categoryUuid=").concat(r)),Object(i.a)("getSfglCardList","GET","".concat(u),(function(e){Object(c.u)(e)&&t({type:s.z,data:e.data.cardList,cardType:"contactsRange"})}))}},tt=function(){return function(t,e){var a=e().editRunningState.getIn(["oriTemp","oriDate"]);d.a.toast.loading("\u52a0\u8f7d\u4e2d...",0),Object(i.a)("getSfglCategoryList","GET","oriDate=".concat(a),(function(e){d.a.toast.hide(),Object(c.u)(e)&&t({type:s.G,data:e.data.category})}))}},et=function(){return function(t,e){var a=e().editRunningState.getIn(["oriTemp","oriDate"]),n=e().editRunningState.getIn(["oriTemp","pendingManageDto","categoryUuid"]).toJS(),r=e().editRunningState.getIn(["oriTemp","currentCardList"]).toJS(),o=[],u=[];n.forEach((function(t){o.push(t.uuid)})),r.forEach((function(t){u.push(t.uuid)})),o.includes("")&&(o=[]),u.includes("")&&(u=[]),d.a.toast.loading("\u52a0\u8f7d\u4e2d...",0),Object(i.a)("getManageList","POST",JSON.stringify({oriDate:a,categoryUuidList:o,cardUuidList:u,oriUuid:"",currentPage:""}),(function(e){d.a.toast.hide(),Object(c.u)(e)&&t({type:s.C,receivedData:e.data.pendingManageList})}))}},at=function(t,e){return function(a){d.a.toast.loading(g.p,0),Object(i.a)("getManagerCategoryList","GET","uuid=".concat(e),(function(e){d.a.toast.hide(),Object(c.u)(e)&&a(T(["oriTemp","pendingStrongList",t,"categoryList"],Object(r.fromJS)(e.data.category.childList)))}))}},nt=function(){return function(t,e){var a=e().editRunningState,n=a.getIn(["oriTemp","oriDate"]),r=a.getIn(["oriTemp","oriState"]),o=a.getIn(["oriTemp","relationCategoryUuid"]);o&&(d.a.toast.loading("\u52a0\u8f7d\u4e2d...",0),Object(i.a)("getCostStock","GET","categoryUuid=".concat(o,"&oriDate=").concat(n,"&oriState=").concat(r),(function(e){d.a.toast.hide(),Object(c.u)(e)&&t({type:s.z,cardType:"carryoverStockRange",data:e.data.cardList})})))}},rt=function(t){return function(e,a){var n=a().editRunningState,r=n.getIn(["oriTemp","oriDate"]),o=n.getIn(["oriTemp","oriState"]),u=n.getIn(["oriTemp","stockCardList"]),d=[];u.map((function(t){t.get("cardUuid")&&d.push(t.get("cardUuid"))})),"STATE_YYSR_ZJ"===o||t||(d=[]),Object(i.a)("getCostCategory","POST",JSON.stringify({oriDate:r,oriState:o,cardUuidList:d}),(function(t){Object(c.u)(t)&&e({type:s.D,data:t.data.categoryList})}))}},it=function(){return function(t,e){var a=e().editRunningState;if(e().homeState.getIn(["data","userInfo","sobInfo","moduleInfo"]).includes("WAREHOUSE")){var n=a.getIn(["oriTemp","oriDate"]),o=a.getIn(["oriTemp","oriState"]);Object(i.a)("getCostWarehouse","POST",JSON.stringify({oriDate:n,oriState:o,cardUuidList:[]}),(function(e){if(Object(c.u)(e)){var a=[];e.data.warehouseList.map((function(t){t.key="".concat(t.code," ").concat(t.name),t.value=t.uuid,a.push(t)})),t(T(["cardAllList","warehouseList"],Object(r.fromJS)(a)))}}))}}},ot=function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"carryoverStockRange";return function(n,r){var o=r().editRunningState,u=o.getIn(["oriTemp","oriDate"]),g=o.getIn(["oriTemp","oriState"]),f=o.getIn(["oriTemp","relationCategoryUuid"]);("STATE_YYSR_ZJ"!=g||f)&&(d.a.toast.loading("\u52a0\u8f7d\u4e2d...",0),Object(i.a)("getCostStockByCategory","POST",JSON.stringify({oriDate:u,oriState:g,categoryUuid:f,cardCategoryUuid:e?t:"",subordinateUuid:e?"":t}),(function(t){Object(c.u)(t)&&n({type:s.z,cardType:a,data:t.data.result})})))}},ct=function(t){return function(e,a){var n=a().editRunningState,o=n.get("oriTemp"),u=o.get("oriDate"),g=o.get("oriState"),f=o.get("relationCategoryUuid")?o.get("relationCategoryUuid"):[],p=n.getIn(["cardAllList","stockCardList"]),S=n.getIn(["cardAllList","warehouseCardList"]),_=[];p.map((function(t){t.get("cardUuid")&&_.push(t.get("cardUuid"))}));var C=[];t&&o.get("pendingStrongList").map((function(t){t.get("beSelect")&&C.push(t.get("jrJvUuid"))})),d.a.toast.loading("\u52a0\u8f7d\u4e2d...",0),Object(i.a)("getCarryoverList","POST",JSON.stringify({oriDate:u,oriState:g,cardUuidList:_,categoryUuidList:f.map((function(t){return t.get("uuid")})),storeUuidList:S.map((function(t){return t.get("uuid")}))}),(function(a){if(d.a.toast.hide(),Object(c.u)(a)){var n=a.data.carryoverList,i=0;t&&n.map((function(t){C.includes(t.jrJvUuid)&&(t.beSelect=!0,i+=Math.abs(t.amount))})),e({type:s.C,receivedData:n}),t?(e(T(["oriTemp","jrAmount"],Object(c.l)(i))),e(gt())):e(T(["oriTemp","stockCardList"],Object(r.fromJS)([])))}}))}},ut=function(){return{type:s.y}},st=function(t){return function(e,a){var n=a().editRunningState,o=n.getIn(["oriTemp","oriDate"]),u=n.getIn(["oriTemp","stockCardList",t,"warehouseCardUuid"]),s=n.getIn(["oriTemp","stockCardList",t]),g=s.get("cardUuid");g&&(d.a.toast.loading("\u52a0\u8f7d\u4e2d...",0),Object(i.a)("getChdbPrice","POST",JSON.stringify({oriDate:o,stockPriceList:[{cardUuid:g,storeUuid:u}]}),(function(a){if(d.a.toast.hide(),Object(c.u)(a)){var n=0==a.data[0].price?"":a.data[0].price,i=n>0?n:"",o="";if(s.get("isOpenedQuantity")){var u=s.get("basicUnitQuantity")?s.get("basicUnitQuantity"):1;i=Object(c.l)(n*u,4),s.get("quantity")&&(o=Object(c.l)(i*s.get("quantity")))}var g=s.toJS();g.price=i,g.unitPrice=n,g.amount=o,e(T(["oriTemp","stockCardList",t],Object(r.fromJS)(g)))}})))}},dt=function(t,e){return function(a,n){var o=n().editRunningState,u=o.getIn(["oriTemp","oriDate"]),s=o.getIn(["oriTemp","stockCardList",t,"warehouseCardUuid"]),g=(o.getIn(["oriTemp","stockCardList",t,"cardUuid"]),[]);e.forEach((function(t,e){var a=t.cardUuid,n="";0==e&&s&&(n=s),g.push({cardUuid:a,storeUuid:n,name:t.oriName})})),d.a.toast.loading("\u52a0\u8f7d\u4e2d...",0),Object(i.a)("getChdbPrice","POST",JSON.stringify({oriDate:u,stockPriceList:g}),(function(n){if(d.a.toast.hide(),Object(c.u)(n)){var i=o.getIn(["oriTemp","stockCardList"]).toJS(),u=e.length;i.forEach((function(e,a){if(a>=t&&a<=t+u-1){var r=a-t,i=n.data[r].price<=0?"":n.data[r].price;e.price=i,e.unitPrice=n.data[r].price,e.amount=""}})),a(T(["oriTemp","stockCardList"],Object(r.fromJS)(i)))}}))}},gt=function(){return function(t,e){t({type:s.O});var a=e().editRunningState,n=a.getIn(["oriTemp","oriDate"]),o=a.getIn(["oriTemp","stockCardList"]),u=[];o.forEach((function(t,e){u.push({cardUuid:t.get("cardUuid"),storeUuid:""})})),d.a.toast.loading("\u52a0\u8f7d\u4e2d...",0),Object(i.a)("getChdbPrice","POST",JSON.stringify({oriDate:n,stockPriceList:u}),(function(e){if(d.a.toast.hide(),Object(c.u)(e)){var n=a.getIn(["oriTemp","stockCardList"]).toJS();n.forEach((function(t,a){var n=0==e.data[a].price?"":e.data[a].price;t.unitPrice=n})),t(T(["oriTemp","stockCardList"],Object(r.fromJS)(n)))}}))}},ft=function(t,e,a){return{type:s.r,dataType:t,value:e,idx:a}},pt=function(){return{type:s.I}},Tt=function(){return function(t,e){var a=e().editRunningState,n=a.getIn(["oriTemp","categoryType"]),r=a.getIn(["oriTemp","oriState"]),o="listFrom=&treeFrom=";["LB_CHTRXM","LB_XMJZ"].includes(n)&&(o="listFrom=&treeFrom=&notProjectProperty=XZ_LOSS&needCommon=false&needAssist=true&needMake=true&needIndirect=true&needMechanical=true&used=true"),"LB_GGFYFT"==n&&(o={STATE_GGFYFT:"listFrom=&treeFrom=&projectProperty=XZ_LOSS&needCommon=false&needAssist=false&needMake=false&needIndirect=false&needMechanical=false&needEmptyCard=true&used=true",STATE_FZSCCB:"listFrom=&treeFrom=&projectProperty=XZ_PRODUCE&needCommon=true&needAssist=false&needMake=false&needIndirect=false&needMechanical=false&used=true",STATE_ZZFY:"listFrom=&treeFrom=&projectProperty=XZ_PRODUCE&needCommon=true&needAssist=true&needMake=false&needIndirect=false&needMechanical=false&used=true",STATE_JJFY:"listFrom=&treeFrom=&projectProperty=XZ_CONSTRUCTION&needCommon=true&needAssist=false&needMake=false&needIndirect=false&needMechanical=false&used=true",STATE_JXZY:"listFrom=&treeFrom=&projectProperty=XZ_CONSTRUCTION&needCommon=true&needAssist=false&needMake=false&needIndirect=true&needMechanical=false&used=true"}[r]),d.a.toast.loading("\u52a0\u8f7d\u4e2d...",0),Object(i.a)("getProjectListAndTree","GET",o,(function(e){d.a.toast.hide(),Object(c.u)(e)&&t({type:s.F,receivedData:e.data.resultList,cardType:"projectList"})}))}},St=function(){return function(t,e){var a=e().editRunningState,n=a.getIn(["oriTemp","oriDate"]),r=a.getIn(["oriTemp","oriState"]),o="STATE_GGFYFT"===r?a.getIn(["oriTemp","shareType"]):0;Object(i.a)("getProjectShareList","GET","oriDate=".concat(n,"&oriState=").concat(r,"&shareType=").concat(o,"&pageSize="),(function(e){Object(c.u)(e)&&t({type:s.C,receivedData:e.data.shareList})}))}},_t=function(){return function(t){Object(i.a)("getProjectShareType","GET","",(function(e){Object(c.u)(e)&&t(T(["cardAllList","projectShareType"],Object(r.fromJS)(e.data.typeList)))}))}},Ct=function(){return function(t,e){var a=e().editRunningState.getIn(["oriTemp","oriDate"]);d.a.toast.loading("\u52a0\u8f7d\u4e2d...",0),Object(i.a)("getXmjzProjectList","GET","oriDate=".concat(a,"&currentPage=0&pageSize=200"),(function(e){d.a.toast.hide(),Object(c.u)(e)&&t({type:s.F,receivedData:e.data.resultList,cardType:"projectList"})}))}},Lt=function(t){return function(e,a){var n=a().runningPreviewState.getIn(["jrOri","oriUuid"]);e(E(n,!0,t))}},lt=function(){return function(t,e){var a=e().allState.get("expire"),n=Date.parse(new Date)/1e3;console.log(a,n,a<n+300),a<n+300&&Object(o.g)("aliyunOssPolicy","GET","",(function(e){t({type:s.a,receivedData:e.data,code:e.code})}))}},mt=function(t,e,a,n){return function(e,r){var o=[];o.push({fileName:a,enclosurePath:t.data.enclosurePath,size:(t.data.size/1024).toFixed(2),imageOrFile:t.data.mimeType.toString().toUpperCase().indexOf("IMAGE")>-1?"TRUE":"FALSE",label:"\u65e0\u6807\u7b7e",beDelete:!1,mimeType:t.data.mimeType}),Object(i.a)("insertEnclosure","POST",JSON.stringify({enclosureList:o}),(function(t){0===t.code&&e({type:s.f,imgArr:t.data.enclosureList,isLast:n}),n&&d.a.toast.hide()}))}},yt=function(t,e,a){return function(e){e({type:s.i,index:t})}},bt=function(){return{type:s.k}},At=function(){return function(t){Object(i.a)("getLsLabel","POST","",(function(e){Object(c.u)(e,"","","",!0)&&t({type:s.j,receivedData:e})}))}},ht=function(t,e){return function(a){a({type:s.g,index:t,value:e})}},Et=function(t){return function(e,a){a().homeState.getIn(["data","userInfo","sobInfo","moduleInfo"]).includes("WAREHOUSE")&&Object(i.a)("getWarehouseList","GET","isUniform=".concat("STATE_CHYE_TYDJ"==t||""),(function(a){Object(c.u)(a,"","","",!0)&&e({type:s.H,receivedData:a.data.cardList,oriState:t})}))}},It=function(t,e,a){return{type:s.m,dataType:t,value:e,idx:a}},Ot=function(t,e){return function(a,n){var o=n().editRunningState,u=o.getIn(["oriTemp","oriDate"]),s=o.getIn(["oriTemp","warehouseCardList",0,"cardUuid"]),g=[];e.forEach((function(t,e){var a=t.uuid;g.push({cardUuid:a,storeUuid:s})})),d.a.toast.loading("\u52a0\u8f7d\u4e2d...",0),Object(i.a)("getChdbPrice","POST",JSON.stringify({oriDate:u,stockPriceList:g}),(function(n){if(d.a.toast.hide(),Object(c.u)(n)){0==n.data[0].price||Object(c.l)(n.data[0].price,4);var i=o.getIn(["oriTemp","stockCardList"]).toJS(),u=e.length;i.forEach((function(e,a){if(a>=t&&a<=t+u-1){var r=a-t,i=n.data[r].price<=0?"":n.data[r].price;e.price=i,e.unitPrice=n.data[r].price,e.amount=""}})),a(T(["oriTemp","stockCardList"],Object(r.fromJS)(i)))}}))}},jt=function(){return function(t,e){var a=e().editRunningState,o=a.getIn(["oriTemp","oriDate"]),u=a.getIn(["oriTemp","warehouseCardList",0,"cardUuid"]),s=a.getIn(["oriTemp","stockCardList"]);if(u){var g=[];s.forEach((function(t,e){t.get("isOpenedQuantity")&&t.get("cardUuid")&&g.push({storeUuid:u,cardUuid:t.get("cardUuid")})})),0!=g.length&&(d.a.toast.loading("\u52a0\u8f7d\u4e2d...",0),Object(i.a)("getChdbPrice","POST",JSON.stringify({oriDate:o,stockPriceList:g}),(function(e){if(d.a.toast.hide(),Object(c.u)(e)){var a=s.toJS();a.forEach((function(t,a){!!t.financialInfo&&t.financialInfo.openSerial&&(t.serialList=[],t.quantity="");var r,i=Object(n.a)(e.data);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(t.cardUuid==o.cardUuid){var u=o.price<=0?"":Object(c.l)(o.price,4),s="",d=t.quantity;u&&d&&(s=Object(c.l)(Number(u)*Number(d))),t.price=u,t.unitPrice=Object(c.l)(o.price,4),t.amount=s;break}}}catch(g){i.e(g)}finally{i.f()}})),t(T(["oriTemp","stockCardList"],Object(r.fromJS)(a)))}})))}}},vt=function(t,e,a){return function(n,o){var u=o().editRunningState,s=u.getIn(["oriTemp","oriDate"]),g=(u.getIn(["oriTemp","oriState"]),u.getIn(["oriTemp","stockCardList",e])),f=g.get("cardUuid"),p=(g.get("isUniformPrice"),g.get("isOpenedQuantity"),[]);"stock"==a?t.forEach((function(t,e){var a=t.uuid,n="";0==e&&(n=g.get("warehouseCardUuid")),p.push({cardUuid:a,storeUuid:n})})):p=[{cardUuid:f,storeUuid:g.get("warehouseCardUuid")}],d.a.toast.loading("\u52a0\u8f7d\u4e2d...",0),Object(i.a)("getChdbPrice","POST",JSON.stringify({oriDate:s,stockPriceList:p}),(function(i){if(d.a.toast.hide(),Object(c.u)(i)){var o=u.getIn(["oriTemp","stockCardList"]).toJS(),s=t.length;o.forEach((function(t,n){if(n>=e&&n<=e+s-1){var r=n-e,o=0==i.data[r].price?"":Object(c.l)(i.data[r].price,4);if(t.unitPrice=o,t.price=o<=0?"":o,"stock"!=a){var u=g.get("quantity"),d=g.get("basicUnitQuantity")?g.get("basicUnitQuantity"):1;g.getIn(["financialInfo","openSerial"])&&(t.serialList=[],t.quantity="",u=""),t.price=Object(c.l)(o*d,4),u&&(t.amount=Object(c.l)(t.price*u))}}})),n(T(["oriTemp","stockCardList"],Object(r.fromJS)(o)))}}))}},Nt=function(){return function(t,e){var a,r=e().allState.get("oriCategory").toJS(),i=[],o=Object(n.a)(r);try{for(o.s();!(a=o.n()).done;){var c=a.value;["LB_YYZC","LB_FYZC","LB_CQZC"].includes(c.categoryType)&&i.push(c)}}catch(u){o.e(u)}finally{o.f()}t({type:s.D,data:i})}},Rt=function(t){return function(e,a){a().homeState.getIn(["data","userInfo","sobInfo","enableWarehouse"]);Object(i.a)("getRunningDetail","GET","uuid=".concat(t.uuid),(function(t){if(Object(c.u)(t)){var a=t.data.result;a.beProject&&"SX_HW"!=a.propertyCarryover&&"LB_CQZC"!=a.categoryType&&e(b(t.data.result.projectRange)),"SX_HW"==a.propertyCarryover&&(e(T(["oriTemp","stockRange"],a.acBusinessExpense.stockRange)),e(U("stockRange")),e(Pt())),e({type:s.s,data:a})}}))}},Zt=function(t,e,a){return function(n){Object(i.a)("getRunningDetail","GET","uuid=".concat(t),(function(t){if(Object(c.u)(t)){var i=t.data.result;e&&i.acCost.contactsManagement&&(n(Ut(i.acCost.contactsRange)),n(T("poundageCurrentRange",Object(r.fromJS)(i.acCost.contactsRange),!0))),a&&i.beProject&&(n(Jt(i.projectRange)),n(T("poundageProjectRange",Object(r.fromJS)(i.projectRange),!0)))}}))}},Ut=function(t){return function(e,a){var n=a().homeState.getIn(["data","userInfo","sobInfo","sobId"]);Object(i.a)("getCurrentCardList","POST",JSON.stringify({sobId:n,property:"NEEDPAY",categoryList:t}),(function(t){Object(c.u)(t)&&e({type:s.z,data:t.data.result,cardType:"poundageCurrent"})}))}},Jt=function(t){return function(e,a){var n=a().homeState.getIn(["data","userInfo","sobInfo","sobId"]);Object(i.a)("getProjectCardList","POST",JSON.stringify({sobId:n,categoryList:t,needCommonCard:!0,needAssist:!0,needMake:!0,needIndirect:!0,needMechanical:!0}),(function(t){d.a.toast.hide(),Object(c.u)(t)&&e({type:s.F,receivedData:t.data.result,cardType:"poundageProjectList"})}))}},Pt=function(){return function(t,e){var a=e().editRunningState,n="";if("LB_JZCB"==a.getIn(["oriTemp","categoryType"])){var o=a.getIn(["oriTemp","oriDate"]),u=a.getIn(["oriTemp","oriState"]),s=a.getIn(["oriTemp","relationCategoryUuid"]),d=a.getIn(["oriTemp","oriUuid"]);if(d=d||"",n="oriDate=".concat(o,"&oriState=").concat(u,"&oriUuid=").concat(d),"STATE_YYSR_ZJ"==u){if(!s)return;n="oriDate=".concat(o,"&oriState=").concat(u,"&oriUuid=").concat(d,"&categoryUuid=").concat(s)}}Object(i.a)("getCostStockCategory","GET",n,(function(e){Object(c.u)(e)&&t(T("stockCategoryList",Object(r.fromJS)(e.data.typeList),!0))}))}},Dt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"commonCardList";return function(a,n){var r=n().homeState.getIn(["data","userInfo","sobInfo","sobId"]),o=n().editRunningState.getIn(["oriTemp","oriState"]);d.a.toast.loading("\u52a0\u8f7d\u4e2d...",0),Object(i.a)("getRunningStockMemberList","POST",JSON.stringify({sobId:r,property:"0",listByCategory:t.top?"true":"false",categoryUuid:t.uuid,subordinateUuid:t.uuid,isUniform:"STATE_CHYE_TYDJ"==o||null,openQuantity:"STATE_CHYE_TYDJ"==o||null}),(function(t){d.a.toast.hide(),Object(c.u)(t)&&a({type:s.z,data:t.data.resultList,cardType:e})}))}},Yt=function(){return function(t,e){var a=e().editRunningState,n=a.getIn(["oriTemp","categoryType"]),o=e().homeState.getIn(["data","userInfo","sobInfo","sobId"]),u=a.getIn(["oriTemp",f.a[n],"contactsRange"]);Object(i.a)("getCurrentTree","POST",JSON.stringify({sobId:o,categoryList:u}),(function(e){Object(c.u)(e)&&t(T("currentCategoryList",Object(r.fromJS)(e.data.typeList),!0))}))}},kt=function(t){return function(e,a){var n=a().homeState.getIn(["data","userInfo","sobInfo","sobId"]);Object(i.a)("getCurrentListByCategory","POST",JSON.stringify({sobId:n,property:"",used:!0,listByCategory:!!t.top,categoryUuid:t.uuid,subordinateUuid:t.uuid}),(function(t){Object(c.u)(t)&&e({type:s.z,data:t.data.resultList,cardType:"commonCurrentList"})}))}},Bt=function(){return function(t,e){var a=e().editRunningState,n=e().homeState.getIn(["data","userInfo","sobInfo","sobId"]),o=a.getIn(["oriTemp","categoryType"]),u=a.getIn(["oriTemp","oriState"]),s=void 0,d=void 0;"LB_CHTRXM"==o&&(d="XZ_LOSS"),"LB_GGFYFT"==o&&(s={STATE_GGFYFT:"XZ_LOSS",STATE_FZSCCB:"XZ_PRODUCE",STATE_ZZFY:"XZ_PRODUCE",STATE_JJFY:"XZ_CONSTRUCTION",STATE_JXZY:"XZ_CONSTRUCTION"}[u]),"LB_XMJZ"!=o?Object(i.a)("getProjectAllCardList","POST",JSON.stringify({sobId:n,projectProperty:s,notProjectProperty:d}),(function(e){Object(c.u)(e)&&t(T("projectCategoryList",Object(r.fromJS)(e.data.typeList),!0))})):Object(i.a)("xmjzProjectTree","GET","",(function(e){Object(c.u)(e)&&t(T("projectCategoryList",Object(r.fromJS)(e.data.typeList),!0))}))}},Ft=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"commonProjectList";return function(a,n){var r=n().homeState.getIn(["data","userInfo","sobInfo","sobId"]),o=n().editRunningState,u=o.getIn(["oriTemp","categoryType"]);if("LB_XMJZ"!=u)Object(i.a)("getProjectSubordinateCardList","POST",JSON.stringify({sobId:r,listByCategory:!!t.top,categoryUuid:t.uuid,subordinateUuid:t.uuid,projectProperty:"LB_CHTRXM"==u?"XZ_PRODUCE":void 0}),(function(t){Object(c.u)(t)&&a({type:s.F,receivedData:t.data.resultList,cardType:e})}));else{var d=o.getIn(["oriTemp","oriDate"]);Object(i.a)("xmjzProjectListByCategory","POST",JSON.stringify({oriDate:d,cardCategoryUuid:t.top?t.uuid:"",subordinateUuid:t.top?"":t.uuid}),(function(t){Object(c.u)(t)&&a({type:s.F,receivedData:t.data.result,cardType:e})}))}}},Xt=function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"stockCardList";return function(n,o){var u=o().editRunningState,s=u.getIn(["oriTemp","oriDate"]),g=u.getIn(["oriTemp",a,t,"warehouseCardUuid"]),f=[];e.forEach((function(t,e){var a=t.uuid,n="";0==e&&g&&(n=g),f.push({cardUuid:a,storeUuid:n,name:t.oriName})})),d.a.toast.loading("\u52a0\u8f7d\u4e2d...",0),Object(i.a)("getChdbPrice","POST",JSON.stringify({oriDate:s,stockPriceList:f}),(function(i){if(d.a.toast.hide(),Object(c.u)(i)){var o=u.getIn(["oriTemp",a]).toJS(),s=e.length;o.forEach((function(e,a){if(a>=t&&a<=t+s-1){var n=a-t,r=i.data[n].price<=0?"":i.data[n].price;e.price=r,e.unitPrice=i.data[n].price,e.amount=""}})),n(T(["oriTemp",a],Object(r.fromJS)(o)))}}))}},Gt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"stockCardList";return function(a,n){var o=n().editRunningState,u=o.getIn(["oriTemp","oriDate"]),s=o.getIn(["oriTemp",e,t,"warehouseCardUuid"]),g=o.getIn(["oriTemp",e,t]),f=g.get("cardUuid");f&&(d.a.toast.loading("\u52a0\u8f7d\u4e2d...",0),Object(i.a)("getChdbPrice","POST",JSON.stringify({oriDate:u,stockPriceList:[{cardUuid:f,storeUuid:s}]}),(function(n){if(d.a.toast.hide(),Object(c.u)(n)){var i=0==n.data[0].price?"":n.data[0].price,o=i<=0?"":i,u="";if(g.get("isOpenedQuantity")){var s=g.get("basicUnitQuantity")?g.get("basicUnitQuantity"):1;o=Object(c.l)(i*s,4),g.get("quantity")&&(u=Object(c.l)(o*g.get("quantity")))}var f=g.toJS();f.price=o,f.unitPrice=i,f.amount=u,a(T(["oriTemp",e,t],Object(r.fromJS)(f)))}})))}},Mt=function(t){return function(e,a){var n=a().editRunningState,o=n.getIn(["oriTemp","oriDate"]),u=[];n.getIn(["oriTemp","stockCardList",t,"childCardList"]).forEach((function(t,e){var a=t.get("cardUuid");u.push({cardUuid:a,storeUuid:""})})),d.a.toast.loading("\u52a0\u8f7d\u4e2d...",0),Object(i.a)("getChdbPrice","POST",JSON.stringify({oriDate:o,stockPriceList:u}),(function(a){if(d.a.toast.hide(),Object(c.u)(a)){var i=n.getIn(["oriTemp","stockCardList",t]).toJS();i.childCardList.forEach((function(t,e){var n=a.data[e].price<=0?"":a.data[e].price,r=t.basicUnitQuantity?t.basicUnitQuantity:1,i=Object(c.l)(Number(t.quantity)*Number(n)*Number(r));t.price=n,t.unitPrice=a.data[e].price,t.amount=i||""})),e(T(["oriTemp","stockCardList",t],Object(r.fromJS)(i)))}}))}},Ht=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"stockCardList";return function(a,n){var o=n().editRunningState,u=o.getIn(["oriTemp","oriDate"]),s=o.getIn(["oriTemp",e,t[0],"childCardList",t[1],"warehouseCardUuid"]),g=o.getIn(["oriTemp",e,t[0],"childCardList",t[1]]),f=g.get("cardUuid");f&&(d.a.toast.loading("\u52a0\u8f7d\u4e2d...",0),Object(i.a)("getChdbPrice","POST",JSON.stringify({oriDate:u,stockPriceList:[{cardUuid:f,storeUuid:s}]}),(function(n){if(d.a.toast.hide(),Object(c.u)(n)){var i=0==n.data[0].price?"":n.data[0].price,o=i,u="";if(g.get("isOpenedQuantity")){var s=g.get("basicUnitQuantity")?g.get("basicUnitQuantity"):1;o=Object(c.l)(i*s,4),g.get("quantity")&&(u=Object(c.l)(o*g.get("quantity")))}var f=g.toJS();f.price=o,f.unitPrice=i,f.amount=u,a(T(["oriTemp",e,t[0],"childCardList",t[1]],Object(r.fromJS)(f)))}})))}},wt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"commonAssemblyList";return function(a){Object(i.a)("chzzAssemblyList","GET","listByCategory=".concat(!!t.top,"&categoryUuid=").concat(t.uuid,"&currentPage=0&pageSize=200"),(function(t){if(Object(c.u)(t)){var n=[];t.data.resultList.forEach((function(t){t.oriName=t.name,t.name="".concat(t.code," ").concat(t.name),t.uuid=t.productUuid,n.push(t)})),a(T(["cardAllList",e],Object(r.fromJS)(n)))}}))}},zt=function(t,e,a){return function(n,o){d.a.toast.loading(g.p,0),Object(i.a)("assistPropertyInsert","POST",JSON.stringify(t),(function(i){if(d.a.toast.hide(),Object(c.u)(i)&&0==i.code){if(n(D("addAssist",Object(r.fromJS)({cardData:t,propertyList:i.data}),"",void 0,e)),"STATE_CHZZ_ZZD"==a)return n(wt({top:!0,uuid:""},"assemblyList"));n(U("stockRange"))}}))}},xt=function(t,e){return function(a,n){d.a.toast.loading(g.p,0),Object(i.a)("getBatchList","POST",JSON.stringify({inventoryUuid:t,canUse:!0}),(function(t){if(d.a.toast.hide(),Object(c.u)(t)&&0===t.code){var n=[],i=t.data.openShelfLife;t.data.batchList.forEach((function(t){var e=t.batch,a=t.expirationDate?t.expirationDate:"",r=i&&a?"".concat(e,"(").concat(a,")"):e;t.key=r,t.value=e,n.push(t)})),a(T(["cardAllList","batchList"],Object(r.fromJS)(n))),e&&e()}}))}},Qt=function(t,e){return function(a,n){var o=n().editRunningState,u=o.getIn(["oriTemp","oriDate"]),s=o.getIn(["oriTemp","jrIndex"]),f=o.getIn(["oriTemp","oriState"]);t.oriDate=["STATE_YYSR_ZJ"].includes(f)?void 0:u,t.jrIndex=s||void 0,d.a.toast.loading(g.p,0),Object(i.a)("getSerialListIn","POST",JSON.stringify(t),(function(t){if(d.a.toast.hide(),Object(c.u)(t)&&0===t.code){var n=[];t.data.forEach((function(t){t.key=t.serialNumber,t.value=t.serialUuid,n.push(t)})),a(T(["cardAllList","serialList"],Object(r.fromJS)(n))),e&&e()}}))}},Wt=function(t,e){return function(a,n){Object(i.a)("getSerialList","POST",JSON.stringify(t),(function(t){Object(c.u)(t)&&0===t.code&&e(Object(r.fromJS)(t.data))}))}}},1040:function(t,e,a){"use strict";(function(t){a.d(e,"c",(function(){return d})),a.d(e,"b",(function(){return g})),a.d(e,"d",(function(){return f})),a.d(e,"g",(function(){return p})),a.d(e,"i",(function(){return T})),a.d(e,"h",(function(){return S})),a.d(e,"a",(function(){return _})),a.d(e,"f",(function(){return C})),a.d(e,"e",(function(){return L})),a.d(e,"j",(function(){return l}));a(55),a(62),a(33),a(166),a(31),a(77),a(1071),a(83),a(1029),a(1030);var n=a(1),r=a(1263),i=a(12),o=a(78),c=(a(17),a(1025)),u=a(1059),s=(a(2),a(14),a(1063)),d=function(t,e,a){return function(t,e){var c=[new Promise((function(t){Object(o.a)("getIUManageListTitle","GET","",(function(e){Object(i.u)(e)&&t(e.data)}))})),new Promise((function(t){Object(o.a)("getIUManageCardLimitAndAc","GET","",(function(e){Object(i.u)(e)&&t(e.data.isCheckOut)}))})),new Promise((function(t){Object(o.a)("getInitRelaCard","GET","",(function(e){Object(i.u)(e)&&t(e.data)}))}))];Promise.all(c).then((function(e){var i=e[0],o=e[1],c=e[2];c.isCheckOut=o,i.unshift({name:"\u5168\u90e8",uuid:""}),t({type:r.c,receivedData:c,originTags:Object(n.fromJS)(i),otherPageName:a||"editRunning"}),t(Object(s.push)("/config/relative/relativeCardInsert"))}))}},g=function(t,e,a){return function(e,c){Object(o.a)("getInventoryHighTypeList","GET","",(function(c){Object(i.u)(c)&&Object(o.a)("getInitStockCard","GET","",(function(o){if(Object(i.u)(o)){var u=c.data.filter((function(e){return t.indexOf(e.uuid)>-1}));u=u.length?u:c.data,e({type:r.b,receivedData:o.data,originTags:Object(n.fromJS)(u),otherPageName:a||"editRunning"}),e(Object(s.push)("/config/inventory/inventoryInsert"))}}))})),c().homeState.getIn(["data","userInfo","sobInfo","moduleInfo"]).includes("WAREHOUSE")&&Object(o.a)("getWarehouseTree","POST",JSON.stringify({uuidList:[],inventoryUuid:""}),(function(t){Object(i.u)(t)&&e({type:r.l,data:t.data.cardList,checkedWarehouse:!1})})),Object(o.a)("inventoryAssistList","GET","",(function(t){Object(i.u)(t)&&e({type:r.h,dataType:"assistClassificationList",value:Object(n.fromJS)(t.data.assistClassificationList),short:!0})}))}},f=function(t,e,a){return function(t,n){e=e||n().editRunningState.getIn(["oriTemp","projectRange"]);var c=[function(){return new Promise((function(t){Object(o.a)("getProjectConfigHighType","GET","",(function(e){Object(i.u)(e)&&t(e.data)}))}))},function(){return new Promise((function(t){Object(o.a)("getProjectCardCode","GET","",(function(e){Object(i.u)(e)&&t(e.data.code)}))}))},function(){return new Promise((function(t){Object(o.a)("getProjectTree","GET","uuid=".concat(e.get(0)),(function(e){Object(i.u)(e)&&t(e.data)}))}))}].map((function(t){return t()}));Promise.all(c).then((function(n){var i=n[0],o=n[1],c=n[2];t({type:r.d,receivedData:c.resultList,ctgyUuid:e.get(0),code:o,highTypeList:i,otherPageName:a||"editRunning"}),t(Object(s.push)("/config/project/projectCard"))}))}},p=function(){return function(t,e){var a=e().inventoryConfState.getIn(["views","otherPageName"]);if("editRunning"==a){if("LB_CHZZ"==e().editRunningState.getIn(["oriTemp","categoryType"]))return void t(Object(c.getStockListByCategory)({top:!0,uuid:""},"stockRange"));t(Object(c.getCardList)("stockRange"))}else"searchApproval"==a&&t(Object(u.F)(null,"project",""))}},T=function(){return function(t,e){var a=e().relativeConfState.getIn(["views","otherPageName"]);"editRunning"==a?t(Object(c.getCardList)("contactsRange")):"searchApproval"==a&&t(Object(u.x)(null,"contact",""))}},S=function(){return function(t,e){var a=e().projectConfState.getIn(["views","otherPageName"]);if("editRunning"==a){var n=e().editRunningState.getIn(["oriTemp","projectRange"]);t(Object(c.getProjectCardList)(n))}else"searchApproval"==a&&t(Object(u.v)(null,"stock",""))}},_=function(t,e){return{type:r.e,dataType:t,value:e}},C=function(e,a,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return function(o,c){var u={batchType:e,inventoryUuid:a,openShelfLife:r,shelfLife:i,editPage:"editRunning"};if("MODIFY-MODIFY"==e){var s=c().editRunningState.getIn(["cardAllList","batchList"]);u.batchList=s}o(L("batch",Object(n.fromJS)(u),!0)),t.routerHistory.push("/config/inventory/batchSet")}},L=function(t,e,a){return{type:r.h,dataType:t,value:e,short:a}},l=function(t){return{type:r.Q,batch:Object(n.fromJS)(t)}}}).call(this,a(49))},1059:function(t,e,a){"use strict";a.d(e,"j",(function(){return p})),a.d(e,"l",(function(){return T})),a.d(e,"k",(function(){return S})),a.d(e,"f",(function(){return _})),a.d(e,"r",(function(){return C})),a.d(e,"q",(function(){return L})),a.d(e,"s",(function(){return l})),a.d(e,"E",(function(){return m})),a.d(e,"o",(function(){return y})),a.d(e,"e",(function(){return b})),a.d(e,"a",(function(){return A})),a.d(e,"I",(function(){return h})),a.d(e,"J",(function(){return E})),a.d(e,"d",(function(){return I})),a.d(e,"c",(function(){return O})),a.d(e,"p",(function(){return j})),a.d(e,"t",(function(){return v})),a.d(e,"u",(function(){return N})),a.d(e,"B",(function(){return R})),a.d(e,"A",(function(){return Z})),a.d(e,"g",(function(){return U})),a.d(e,"x",(function(){return J})),a.d(e,"y",(function(){return P})),a.d(e,"v",(function(){return D})),a.d(e,"w",(function(){return Y})),a.d(e,"F",(function(){return k})),a.d(e,"G",(function(){return B})),a.d(e,"H",(function(){return F})),a.d(e,"h",(function(){return X})),a.d(e,"L",(function(){return G})),a.d(e,"K",(function(){return M})),a.d(e,"m",(function(){return H})),a.d(e,"b",(function(){return w})),a.d(e,"n",(function(){return z})),a.d(e,"i",(function(){return x})),a.d(e,"z",(function(){return Q})),a.d(e,"C",(function(){return W})),a.d(e,"D",(function(){return K}));a(32),a(55),a(98),a(61),a(33),a(34),a(31),a(219),a(116),a(131),a(70),a(133),a(41),a(76);var n=a(118),r=a(51),i=a(220),o=a(1225),c=a(78),u=a(1),s=a(12),d=a(2),g=a(14),f=a(1078),p=function(t,e){return{type:o.i,place:t,value:e}},T=function(t,e){return function(a){a("string"===typeof t?{type:o.k,place:t,value:e}:{type:o.k,placeArr:t,value:e})}},S=function(t,e,a){return function(n){if(t){var r="string"===typeof e?["".concat(t),e]:["".concat(t)].concat(Object(i.a)(e));n({type:o.j,tab:t,placeArr:r,value:a})}else n({type:o.j,tab:t,place:e,value:a})}},_=function(t,e){return{type:o.e,place:t,value:e}},C=function(t,e,a,n){return function(i,u){d.a.toast.loading(g.p,0);var f=u().searchApprovalState;!0===t.refresh&&(t.searchType=f.getIn(["views","searchType"]),t.searchContent=f.getIn(["views","searchContent"]),t.dateType=f.getIn(["views","dateType"]),t.beginDate=f.getIn(["views","beginDate"]),t.endDate=f.getIn(["views","endDate"]),t.processCode=f.getIn(["views","processCode"])),delete t.refresh;var p=e||f.getIn(["views","currentPage"]);Object(c.a)("getApprovalProcessList","POST",JSON.stringify(Object(r.a)({currentPage:1,pageSize:p*g.z},t,{isAsc:!1,orderField:"ORDER_DATE_END"})),(function(e){d.a.toast.hide(),Object(s.u)(e)&&(i({type:o.a,receivedData:e.data,param:t,currentPage:p}),a&&a()),n&&n()}))}},L=function(t,e,a,n){return function(i,u){d.a.toast.loading(g.p,0);var f=u().searchApprovalState;!0===t.refresh&&(t.searchType=f.getIn(["views","searchType"]),t.searchContent=f.getIn(["views","searchContent"]),t.dateType=f.getIn(["views","dateType"]),t.beginDate=f.getIn(["views","beginDate"]),t.endDate=f.getIn(["views","endDate"]),t.accountingType=f.getIn(["views","accountingType"])),delete t.refresh;var p=e||f.getIn(["views","currentPage"]);Object(c.a)("getapprovalprocessdetaillist","POST",JSON.stringify(Object(r.a)({currentPage:1,pageSize:p*g.z},t,{isAsc:!1,orderField:"ORDER_DATE_END"})),(function(e){d.a.toast.hide(),Object(s.u)(e)&&(i({type:o.b,receivedData:e.data,param:t,currentPage:p}),a&&a()),n&&n()}))}},l=function(t){return function(e,a){a().searchApprovalState;Object(c.a)("getapprovalprocessmodellist","POST",JSON.stringify(Object(r.a)({},t)),(function(t){Object(s.u)(t)&&e({type:o.c,receivedData:t.data})}))}},m=function(t,e,a){return function(n,r){Object(c.a)("getapprovalprocessdetailinfo","GET","detailInfoId=".concat(e),(function(e){Object(s.u)(e)&&Object(c.a)("getApprovalCategoryList","GET","uuid=".concat(t),(function(t){if(0===t.code){var r=t.data,i=(r.categoryType?Object(f.a)(r.categoryType):{categoryTypeObj:""}).categoryTypeObj,c=!!i&&r[i].beZeroInventory;n({type:o.n,receivedData:e.data,categoryData:r,datailList:[]}),e.data.jrAmount>0&&n(T("beZeroInventory",c)),a&&a()}else 70001===t.code?d.a.toast.info("\u539f\u5173\u8054\u6d41\u6c34\u7c7b\u522b\u5df2\u88ab\u5220\u9664"):Object(s.u)(t)}))}))}},y=function(t,e){return function(a,n){if(!t.length)return d.a.toast.info("\u8bf7\u9009\u62e9\u6d41\u6c34");d.a.toast.loading(g.p,0),Object(c.a)("disuseapprovalprocessdetailinfo","POST",JSON.stringify({detailList:t}),(function(t){if(0===t.code){t.data.length?d.a.Alert(t.data.join(";")):d.a.toast.info("\u64cd\u4f5c\u6210\u529f");var r=n().searchApprovalState.getIn(["views","currentPageType"]);"ApprovalAll"===r?a(C({refresh:!0})):"Detail"===r&&a(L({refresh:!0})),e()}else Object(s.u)(t)}))}},b=function(t,e){return function(a,n){if(!t.length)return d.a.toast.info("\u8bf7\u9009\u62e9\u6d41\u6c34");d.a.toast.loading(g.p,0),Object(c.a)("cancelapprovalprocessdetailinfo","POST",JSON.stringify({detailList:t}),(function(t){if(d.a.toast.hide(),0===t.code){t.data.length?d.a.Alert(t.data.join(";")):d.a.toast.info("\u64cd\u4f5c\u6210\u529f");var r=n().searchApprovalState.getIn(["views","currentPageType"]);"ApprovalAll"===r?a(C({refresh:!0})):"Detail"===r&&a(L({refresh:!0})),e()}else Object(s.u)(t)}))}},A=function(t,e,a,n,r,i,o){return function(u,f){if(!t.size)return d.a.toast.info("\u8bf7\u9009\u62e9\u6d41\u6c34");if(!e)return d.a.toast.info("\u8bf7\u9009\u62e9\u6302\u8d26\u65e5\u671f");if(a&&!(n&&n.size&&n.getIn([0,"relationCategoryUuid"])))return d.a.toast.info("\u8bf7\u9009\u62e9\u5904\u7406\u7c7b\u522b");var p=f().approalAccountState;return p.get("propertyCostList").size&&!i?d.a.toast.info("\u8bf7\u9009\u62e9\u8d39\u7528\u6027\u8d28"):!p.get("usedCarryoverProject")||r&&r.size&&r.getIn([0,"cardUuid"])?(d.a.toast.loading(g.p,0),void Object(c.a)("accountingapprovalprocessdetailinfo","POST",JSON.stringify({detailList:t,date:e,beCarryover:a,propertyCost:i,relationCategoryUuid:a?n.getIn([0,"relationCategoryUuid"]):"",carryoverProjectCardList:r}),(function(t){if(d.a.toast.hide(),Object(s.u)(t)){t.data.length&&d.a.Alert(t.data.join(";")),o();var e=f().searchApprovalState.getIn(["views","currentPageType"]);"ApprovalAll"===e?u(C({refresh:!0})):"Detail"===e&&u(L({refresh:!0}))}}))):d.a.toast.info("\u8bf7\u9009\u62e9\u9879\u76ee")}},h=function(t,e,a,n,r,i,o,u){return function(f,p){if(!t.size)return d.a.toast.info("\u8bf7\u9009\u62e9\u6d41\u6c34");if(!e||!e.get("accountUuid"))return d.a.toast.info("\u8bf7\u9009\u62e9\u8d26\u6237");if(!a)return d.a.toast.info("\u8bf7\u9009\u62e9\u4ed8\u6b3e\u65e5\u671f");if(n&&!(r&&r.size&&r.getIn([0,"relationCategoryUuid"])))return d.a.toast.info("\u8bf7\u9009\u62e9\u5904\u7406\u7c7b\u522b");var T=p().approalAccountState;return T.get("propertyCostList").size&&!o?d.a.toast.info("\u8bf7\u9009\u62e9\u8d39\u7528\u6027\u8d28"):!T.get("usedCarryoverProject")||i&&i.size&&i.getIn([0,"cardUuid"])?(d.a.toast.loading(g.p,0),void Object(c.a)("payingapprovalprocessdetailinfo","POST",JSON.stringify({account:e,detailList:t,date:a,beCarryover:n,propertyCost:o,relationCategoryUuid:n?r.getIn([0,"relationCategoryUuid"]):"",carryoverProjectCardList:i}),(function(t){if(d.a.toast.hide(),Object(s.u)(t)){t.data.length&&d.a.Alert(t.data.join(";")),u();var e=p().searchApprovalState.getIn(["views","currentPageType"]);"ApprovalAll"===e?f(C({refresh:!0})):"Detail"===e&&f(L({refresh:!0}))}}))):d.a.toast.info("\u8bf7\u9009\u62e9\u9879\u76ee")}},E=function(t,e,a,n,r,i,o){return function(u,s){if(!r||!r.get("accountUuid"))return d.a.toast.info("\u8bf7\u9009\u62e9\u8d26\u6237");if(!t.size)return d.a.toast.info("\u8bf7\u9009\u62e9\u6d41\u6c34");if(!e)return d.a.toast.info("\u8bf7\u9009\u62e9\u6536\u6b3e\u65e5\u671f");var f=s().approalAccountState,p=f.get("poundageCurrentCardList"),T=f.get("poundageProjectCardList");return p.size&&!p.getIn([0,"cardUuid"])?d.a.toast.info("\u8bf7\u9009\u62e9\u5f80\u6765\u5355\u4f4d"):T.size&&!T.getIn([0,"cardUuid"])?d.a.toast.info("\u8bf7\u9009\u62e9\u9879\u76ee"):(d.a.toast.loading(g.p,0),void Object(c.a)("receiveapprovalprocessdetailinfo","POST",JSON.stringify({account:r,poundageCurrentCardList:p,poundageProjectCardList:T,detailList:t,date:e,beCover:a,amount:i,needUsedPoundage:n}),(function(t){if(d.a.toast.hide(),0===t.code){t.data.length&&d.a.Alert(t.data.join(";")),o();var e=s().searchApprovalState.getIn(["views","currentPageType"]);"ApprovalAll"===e?u(C({refresh:!0})):"Detail"===e&&u(L({refresh:!0}))}})))}},I=function(t,e,a){return function(n,r){if(!t.size)return d.a.toast.info("\u8bf7\u9009\u62e9\u6d41\u6c34");if(!e)return d.a.toast.info("\u8bf7\u9009\u62e9\u6536\u6b3e\u65e5\u671f");var i=r().approalAccountState,o=i.get("poundageCurrentCardList"),u=i.get("poundageProjectCardList"),s=i.get("handlingFeeType"),f=i.get("needUsedPoundage"),p=i.get("account");return o.size&&!o.getIn([0,"cardUuid"])?d.a.toast.info("\u8bf7\u9009\u62e9\u5f80\u6765\u5355\u4f4d"):u.size&&!u.getIn([0,"cardUuid"])?d.a.toast.info("\u8bf7\u9009\u62e9\u9879\u76ee"):(d.a.toast.loading(g.p,0),void Object(c.a)("bookkeepingapprovalprocessdetailinfo","POST",JSON.stringify({account:p,poundageCurrentCardList:o,poundageProjectCardList:u,detailList:t,date:e,needUsedPoundage:f,handlingFeeType:s}),(function(t){if(d.a.toast.hide(),0===t.code){t.data.length&&d.a.Alert(t.data.join(";")),a();var e=r().searchApprovalState.getIn(["views","currentPageType"]);"ApprovalAll"===e?n(C({refresh:!0})):"Detail"===e&&n(L({refresh:!0}))}})))}},O=function(t,e,a){return function(a,n){d.a.toast.loading(g.p,0),Object(c.a)("getapprovalprocessdetailinfo","GET","detailInfoId=".concat(t),(function(t){Object(s.u)(t)?Object(c.a)("getApprovalCategoryList","GET","uuid=".concat(t.data.jrCategoryUuid),(function(n){var r=[];if(0===n.code){var i=n.data;if("\u9884\u4ed8\u8d26\u6b3e"!==t.data.detailType&&"\u9884\u6536\u8d26\u6b3e"!==t.data.detailType||-1!==i.propertyList.indexOf("GXZT_DJGL")||(t.data.jrCategoryUuid="",t.data.categoryName="",d.a.toast.info("\u5173\u8054\u7684\u6d41\u6c34\u7c7b\u522b\u5df2\u505c\u7528\u9884\u6536/\u4ed8")),a({type:o.n,receivedData:t.data,categoryData:i,datailList:r}),f.c.indexOf(t.data.jrCategoryType)>-1)"LB_CHDB"===i.categoryType&&a(k([],"hidecategory","",(function(){})));else{var c=(t.data.jrCategoryType?Object(f.a)(t.data.jrCategoryType):{categoryTypeObj:""}).categoryTypeObj;if(i.beProject){var u=i.projectRange;a(D(u,"project","",(function(){})))}if(i[c].contactsManagement){var g=i[c].contactsRange;a(J(g,"contact","",(function(){})))}if(("SX_HW"===i.propertyCarryover||"SX_HW_FW"===i.propertyCarryover)&&("\u9500\u552e\u5b58\u8d27\u5957\u4ef6"===t.data.detailType||"\u91c7\u8d2d\u5b58\u8d27\u5957\u4ef6"===t.data.detailType)){var p=i[c].stockRange;a(k(p,"stock","",(function(){})))}!1===i.canUse&&d.a.toast.info("\u5173\u8054\u7684\u6d41\u6c34\u7c7b\u522b\u5df2\u88ab\u505c\u7528")}e&&e()}else if(70001===n.code){t.data.jrCategoryUuid="",t.data.categoryName="",t.data.beContact=!1,t.data.beProject=!1,t.data.contactList=[],t.data.projectList=[];var T={propertyCostList:[],beProject:!1,allProjectRange:[]};T[(t.data.jrCategoryType?Object(f.a)(t.data.jrCategoryType):{categoryTypeObj:""}).categoryTypeObj]={allContactsRange:[],canManagement:!1,allStockRange:[],stockRange:[],contactsManagement:!1,contactsRange:[]},a({type:o.n,receivedData:t.data,categoryData:T,datailList:r}),e&&e(),d.a.toast.info("\u539f\u5173\u8054\u6d41\u6c34\u7c7b\u522b\u5df2\u88ab\u5220\u9664\uff0c\u8bf7\u91cd\u65b0\u9009\u62e9\u7c7b\u522b")}else Object(s.u)(t);e&&e()})):d.a.toast.hide()}))}},j=function(t,e,a){return function(n,r){d.a.toast.loading(g.p,0),Object(c.a)("getapprovalprocessdetailinfo","GET","detailInfoId=".concat(t),(function(t){Object(s.u)(t)?Object(c.a)("getApprovalCategoryList","GET","uuid=".concat(t.data.jrCategoryUuid),(function(i){var c=[];if("switch"!==a){var u=r().searchApprovalState,g=u.getIn(["views","currentPageType"]);"ApprovalAll"===g?u.get("approvalList").forEach((function(t){return t.get("detailList").forEach((function(t){return c.push(t)}))})):"Detail"===g&&(c=u.get("detailList").toJS())}if(0===i.code)n({type:o.o,receivedData:t.data,categoryData:i.data,datailList:c}),e(),"PROCESS_DISUSE"!==t.data.dealState&&!1===i.data.canUse&&d.a.toast.info("\u5173\u8054\u7684\u6d41\u6c34\u7c7b\u522b\u5df2\u88ab\u505c\u7528");else if(70001===i.code){t.data.jrCategoryType="",t.data.jrCategoryUuid="",t.data.categoryName="",t.data.beContact=!1,t.data.beProject=!1,t.data.contactList=[],t.data.projectList=[];var p={propertyCostList:[],beProject:!1,allProjectRange:[]};p[(t.data.jrCategoryType?Object(f.a)(t.data.jrCategoryType):{categoryTypeObj:""}).categoryTypeObj]={allContactsRange:[],canManagement:!1,allStockRange:[],stockRange:[],contactsManagement:!1,contactsRange:[]},n({type:o.o,receivedData:t.data,categoryData:p,datailList:c}),e(),"PROCESS_DISUSE"!==t.data.dealState&&d.a.toast.info("\u539f\u5173\u8054\u6d41\u6c34\u7c7b\u522b\u5df2\u88ab\u5220\u9664")}else Object(s.u)(t)})):d.a.toast.hide()}))}},v=function(t){return function(e,a){var n=a().homeState.getIn(["data","userInfo","sobInfo","sobId"]);t||(t=a().editRunningModalState.getIn(["categoryData","projectRange"])),Object(c.a)("getProjectCardList","POST",JSON.stringify({sobId:n,categoryList:t,needCommonCard:!0,needAssist:!0,needMake:!0,needIndirect:!0,needMechanical:!0}),(function(t){Object(s.u)(t)&&e(T("poundageProjectList",Object(u.fromJS)(t.data.result)))}))}},N=function(t){return function(e,a){var n=a().homeState.getIn(["data","userInfo","sobInfo","sobId"]);if(!t){var r=a().editRunningModalState.getIn(["categoryData","categoryType"]),i=Object(f.a)(r).categoryTypeObj;t=a().editRunningModalState.getIn(["categoryData",i,"contactsRange"])}Object(c.a)("getCurrentCardList","POST",JSON.stringify({sobId:n,categoryList:t,property:"NEEDPAY"}),(function(t){Object(s.u)(t)&&e(T("poundageCurrentList",Object(u.fromJS)(t.data.result)))}))}},R=function(t){return function(e,a){d.a.toast.loading(g.p,0),Object(c.a)("getCostCategory","POST",JSON.stringify({oriDate:t,oriState:"STATE_YYSR_ZJ"}),(function(t){Object(s.u)(t)&&e(T("carryoverCategoryList",Object(u.fromJS)(t.data.categoryList))),d.a.toast.hide()}))}},Z=function(t,e){return function(e,a){var n=a().homeState.getIn(["data","userInfo","sobInfo","sobId"]);d.a.toast.loading(g.p,0),Object(c.a)("getProjectCardList","POST",JSON.stringify({sobId:n,categoryList:t,needCommonCard:!0,needAssist:!0,needMake:!0,needIndirect:!0,needMechanical:!0}),(function(t){if(d.a.toast.hide(),Object(s.u)(t)){var n=a().editRunningModalState.getIn(["editRunningModalTemp","projectList"]);if(n.size>0){var r=t.data.result.find((function(t){return t.uuid===n.getIn([0,"uuid"])}));if(r){"XZ_CONSTRUCTION"===r.projectProperty?"INDIRECT"===r.code?e(T("propertyCost","XZ_JJFY")):"MECHANICAL"===r.code?e(T("propertyCost","XZ_JXZY")):e(T("propertyCost","XZ_HTCB")):"XZ_PRODUCE"===r.projectProperty&&("ASSIST"===r.code?e(T("propertyCost","XZ_FZSCCB")):"MAKE"===r.code?e(T("propertyCost","XZ_ZZFY")):e(T("propertyCost","XZ_SCCB")));var i=n.getIn([0,"uuid"]),o=n.getIn([0,"name"]),c=n.getIn([0,"code"]);e(T("carryoverProjectCardList",Object(u.fromJS)([{cardUuid:i,name:o,code:c}]))),e(T("usedCarryoverProject",!0))}}else e(T("usedCarryoverProject",!1)),e(T("carryoverProjectCardList",Object(u.fromJS)([{}])));e(T("carryoverProjectList",Object(u.fromJS)(t.data.result)))}}))}},U=function(t,e,a,n){return function(r,i){d.a.toast.loading(g.p,0),Object(c.a)("getApprovalCategoryList","GET","uuid=".concat(t),(function(i){if(d.a.toast.hide(),Object(s.u)(i)){var c=i.data,g=Object(f.a)(e).categoryTypeObj;n=n.set("jrCategoryUuid",t).set("jrCategoryType",e).set("categoryName",a);var p=c.propertyCostList;if("XSFY"!==n.get("jrCostType")&&"GLFY"!==n.get("jrCostType")&&"CWFY"!==n.get("jrCostType")&&""!==n.get("jrCostType")||(p.length>0?1===p.length?"XZ_MANAGE"===p[0]?n=n.set("jrCostType","GLFY"):"XZ_SALE"===p[0]?n=n.set("jrCostType","XSFY"):"XZ_FINANCE"===p[0]&&(n=n.set("jrCostType","CWFY")):2===p.length&&"CWFY"===n.get("jrCostType")&&(n=n.set("jrCostType","XSFY")):n=n.set("jrCostType","")),c[g].contactsManagement){var T=c[g].contactsRange;r(J(T,"contact","",(function(){})))}else n=n.set("beContact",!1).set("contactList",Object(u.fromJS)([]));if(c.beProject){var S=c.projectRange;r(D(S,"project","",(function(){})))}else n=n.set("beProject",!1).set("projectList",Object(u.fromJS)([])).set("jrCostType","");if("SX_HW"!==c.propertyCarryover&&"SX_HW_FW"!==c.propertyCarryover||"\u9500\u552e\u5b58\u8d27\u5957\u4ef6"!==n.get("detailType")&&"\u91c7\u8d2d\u5b58\u8d27\u5957\u4ef6"!==n.get("detailType"))n=n.set("stockList",Object(u.fromJS)([]));else{var _=c[g].stockRange;r(k(_,"stock","",(function(){})))}r({type:o.f,editRunningModalTemp:n,categoryData:c})}}))}},J=function(t,e,a,n){return function(e,r){var i=r().homeState.getIn(["data","userInfo","sobInfo","sobId"]);if(!t){var o=r().editRunningModalState.get("editRunningModalTemp"),p=r().editRunningModalState.get("categoryData"),T=o.get("jrCategoryType"),_=Object(f.a)(T).categoryTypeObj;t=p.getIn([_,"contactsRange"])}a||Object(c.a)("getCurrentTree","POST",JSON.stringify({sobId:i,categoryList:t}),(function(t){Object(s.u)(t)&&e(S("","contactSourceCategoryList",Object(u.fromJS)(t.data.typeList)))}));d.a.toast.loading(g.p,0),Object(c.a)("getCurrentCardList","POST",JSON.stringify({sobId:i,categoryList:t,property:"NEEDPAY"}),(function(t){d.a.toast.hide(),Object(s.u)(t)&&(e(S("","contactSourceCardList",Object(u.fromJS)(t.data.result))),e(S("","allContactList",Object(u.fromJS)(t.data.result))),n&&n())}))}},P=function(t,e){return function(a,n){var r=n().homeState.getIn(["data","userInfo","sobInfo","sobId"]);1==e?Object(c.a)("getCurrentListByCategory","POST",JSON.stringify({sobId:r,categoryUuid:t,listByCategory:!0,property:"NEEDPAY",subordinateUuid:""}),(function(t){Object(s.u)(t)&&a(S("","contactSourceCardList",Object(u.fromJS)(t.data.resultList)))})):Object(c.a)("getCurrentListByCategory","POST",JSON.stringify({sobId:r,subordinateUuid:t,property:"NEEDPAY",listByCategory:!1,categoryUuid:""}),(function(t){Object(s.u)(t)&&a(S("","contactSourceCardList",Object(u.fromJS)(t.data.resultList)))}))}},D=function(t,e,a,n){return function(e,r){d.a.toast.loading(g.p,0);var i=r().homeState.getIn(["data","userInfo","sobInfo","sobId"]);if(!t){var o=r().editRunningModalState.get("categoryData");t=o.get("projectRange")}a||Object(c.a)("getProjectTreeList","POST",JSON.stringify({sobId:i,categoryList:t}),(function(t){Object(s.u)(t)&&e(S("","projectSourceCategoryList",Object(u.fromJS)(t.data.typeList)))})),Object(c.a)("getProjectCardList","POST",JSON.stringify({sobId:i,categoryList:t,needCommonCard:!0,needAssist:!0,needMake:!0,needIndirect:!0,needMechanical:!0}),(function(t){d.a.toast.hide(),Object(s.u)(t)&&(e(S("","projectSourceCardList",Object(u.fromJS)(t.data.result))),e(S("","allProjectList",Object(u.fromJS)(t.data.result))),n&&n())}))}},Y=function(t,e){return function(a,n){var r=n().homeState.getIn(["data","userInfo","sobInfo","sobId"]);1==e?Object(c.a)("getProjectSubordinateCardList","POST",JSON.stringify({sobId:r,categoryUuid:t,listByCategory:!0,subordinateUuid:""}),(function(t){Object(s.u)(t)&&a(S("","projectSourceCardList",Object(u.fromJS)(t.data.resultList)))})):Object(c.a)("getProjectSubordinateCardList","POST",JSON.stringify({sobId:r,subordinateUuid:t,listByCategory:!1,categoryUuid:t}),(function(t){Object(s.u)(t)&&a(S("","projectSourceCardList",Object(u.fromJS)(t.data.resultList)))}))}},k=function(t,e,a,n){return function(r,i){var p=i().homeState.getIn(["data","userInfo","sobInfo","sobId"]);if(!t){var T=i().editRunningModalState.get("editRunningModalTemp"),_=i().editRunningModalState.get("categoryData"),C=T.get("jrCategoryType"),L=Object(f.a)(C).categoryTypeObj;t=_.getIn([L,"stockRange"])}a||(Object(c.a)("getStockCategoryTree","POST",JSON.stringify({sobId:p,categoryList:t}),(function(t){Object(s.u)(t)&&r(S("","invetorySourceCategoryList",Object(u.fromJS)(t.data.typeList)))})),i().homeState.getIn(["data","userInfo","sobInfo","moduleInfo"]).indexOf("WAREHOUSE")>-1&&Object(c.a)("getWarehouseList","GET","",(function(t){Object(s.u)(t)&&r({type:o.r,receivedData:t.data.cardList})})));d.a.toast.loading(g.p,0);var l="hidecategory"==e?{sobId:p,isUniform:null,openQuantity:!1,property:"0",categoryList:[]}:{sobId:p,categoryList:t,property:"5"};Object(c.a)("getStockCardList","POST",JSON.stringify(l),(function(t){Object(s.u)(t)&&(r(S("","invetorySourceCardList",Object(u.fromJS)(t.data.result))),r(S("","allInvetoryList",Object(u.fromJS)(t.data.result))),n&&n()),d.a.toast.hide()}))}},B=function(t,e){return function(a,n){var r=n().homeState.getIn(["data","userInfo","sobInfo","sobId"]);1==e?Object(c.a)("getRunningStockMemberList","POST",JSON.stringify({sobId:r,categoryUuid:t,listByCategory:!0,subordinateUuid:"",property:"5"}),(function(t){Object(s.u)(t)&&a(S("","invetorySourceCardList",Object(u.fromJS)(t.data.resultList)))})):Object(c.a)("getRunningStockMemberList","POST",JSON.stringify({sobId:r,subordinateUuid:t,listByCategory:!1,categoryUuid:"",property:"5"}),(function(t){Object(s.u)(t)&&a(S("","invetorySourceCardList",Object(u.fromJS)(t.data.resultList)))}))}},F=function(t,e){return function(a,n){if(""===t.get("jrCategoryUuid"))return d.a.toast.info("\u6d41\u6c34\u7c7b\u522b\u5fc5\u9009");if(""===t.get("jrAmount"))return d.a.toast.info("\u91d1\u989d\u5fc5\u586b");if(["LB_ZZ"].indexOf(t.get("jrCategoryType"))>-1&&t.get("jrAmount")<0)return d.a.toast.info("\u91d1\u989d\u4ec5\u652f\u6301\u8f93\u5165\u6b63\u6570");if("bill_other"!==t.getIn(["billList",0,"billType"])&&""==t.getIn(["billList",0,"tax"]))return d.a.toast.info("\u7a0e\u989d\u5fc5\u586b");var r=(t=t.update("stockList",(function(t){return t.filter((function(t){return t.get("stockUuid")}))}))).get("stockList");return n().homeState.getIn(["data","userInfo","sobInfo","moduleInfo"]).indexOf("WAREHOUSE")>-1&&r.some((function(t){return!t.get("depotUuid")}))&&"LB_CHDB"!==t.get("jrCategoryType")?d.a.toast.info("\u4ed3\u5e93\u5fc5\u9009"):f.c.indexOf(t.get("jrCategoryType"))>-1&&r.some((function(t){return!t.get("amount")}))?d.a.toast.info("\u5b58\u8d27\u91d1\u989d\u5fc5\u586b"):(0==t.get("beProject")&&(t=t.set("projectList",Object(u.fromJS)([]))),0==t.get("beContact")&&(t=t.set("contactList",Object(u.fromJS)([]))),d.a.toast.loading(g.p,0),void Object(c.a)("modifyapprovalprocessdetailinfo","POST",JSON.stringify(t),(function(t){d.a.toast.hide(),Object(s.u)(t)&&(a(C({refresh:!0})),e())})))}},X=function(t,e){return{type:o.g,place:t,value:e}},G=function(t,e){return{type:o.q,value:t,amount:e}},M=function(t){return function(e,a){var n,r=a().editRunningModalState,i=a().allState.get("taxRate"),c=i.get("outputRate"),u=i.get("payableRate"),s=i.get("scale"),d=r.getIn(["editRunningModalTemp","jrAmount"])||0;n="general"===s?c:u;var g=(Number(d)/(1+Number(n)/100)*Number(n)/100).toFixed(2);e({type:o.h,billState:t,taxRate:n,tax:g})}},H=function(){return{type:o.m}},w=function(){return function(t,e){var a=e().editRunningModalState.getIn(["editRunningModalTemp","stockList"]).reduce((function(t,e){return(100*t+100*(e.get("amount")&&"."!==e.get("amount")?Number(e.get("amount")):0))/100}),0);t(S("editRunningModalTemp","jrAmount",a.toFixed(2)))}},z=function(t,e,a){return function(n){var r=t.toJS();r.splice(e,1),n(S("editRunningModalTemp","stockList",Object(u.fromJS)(r))),n(w()),a&&n(G(a))}},x=function(t,e){return function(a,n){var r=e;r=r.map((function(t,e){if(t.stockUuid=t.uuid,t.stockCode=t.code,t.stockName=t.cardName,t.unitPriceList&&t.unitPriceList.length){var a="",n="";t.unit.uuid===t.unitPriceList[0].unitUuid?(n=t.unit.name,a=t.unit.uuid):t.unit.unitList.map((function(e){e.uuid===t.unitPriceList[0].unitUuid&&(n=e.cardName,a=e.uuid)})),Object.assign(t,{unitPrice:t.unitPriceList[0].defaultPrice,unitUuid:a,unitName:n})}else t.unit&&!t.unit.unitList.length&&Object.assign(t,{unitUuid:t.unit.uuid,unitName:t.unit.name});return t})),a(S("editRunningModalTemp","stockList",t.concat(Object(u.fromJS)(r))))}},Q=function(t){return function(e,a){Object(c.a)("getRunningDetail","GET","uuid="+t,(function(t){if(Object(s.u)(t)){var a=t.data.result.projectRange,n=t.data.result.acCost.contactsRange;e(T("accountProjectRange",Object(u.fromJS)(a))),e(T("accountContactsRange",Object(u.fromJS)(n)))}}))}},W=function(t,e){return function(a,n){var r=n().editRunningModalState,i=r.getIn(["editRunningModalTemp","jrDate"]),o=r.getIn(["editRunningModalTemp","outputDepot","uuid"]),g=[];e.forEach((function(t,e){var a=t.uuid;g.push({cardUuid:a,storeUuid:o})})),d.a.toast.loading("\u52a0\u8f7d\u4e2d...",0),Object(c.a)("getChdbPrice","POST",JSON.stringify({oriDate:i,stockPriceList:g}),(function(n){if(d.a.toast.hide(),Object(s.u)(n)){0==n.data[0].price||Object(s.l)(n.data[0].price,4);var i=r.getIn(["editRunningModalTemp","stockList"]).toJS(),o=e.length;i.forEach((function(e,a){if(a>=t&&a<=t+o-1){var r=a-t,i=0==n.data[r].price?"":n.data[r].price;e.unitPrice=i,e.amount=""}})),a(X("stockList",Object(u.fromJS)(i)))}}))}},K=function(t,e){return function(a,r){var i=r().editRunningModalState.getIn(["editRunningModalTemp","stockList"]);if(e){var o=[];i.forEach((function(t,a){t.get("isOpenedQuantity")&&t.get("stockUuid")&&o.push({storeUuid:e,cardUuid:t.get("stockUuid")})})),0!=o.length&&(d.a.toast.loading("\u52a0\u8f7d\u4e2d...",0),Object(c.a)("getChdbPrice","POST",JSON.stringify({oriDate:t,stockPriceList:o}),(function(t){if(d.a.toast.hide(),Object(s.u)(t)){var e=i.toJS();e.forEach((function(e,a){var r,i=Object(n.a)(t.data);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(e.cardUuid==o.cardUuid){var c=0==o.price?"":Object(s.l)(o.price,4),u="",d=e.quantity;c&&d&&(u=Object(s.l)(Number(c)*Number(d))),e.price=c,e.unitPrice=c,e.amount=u;break}}}catch(g){i.e(g)}finally{i.f()}})),a(X("stockList",Object(u.fromJS)(e)))}})))}}}},1078:function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"d",(function(){return o})),a.d(e,"e",(function(){return c})),a.d(e,"f",(function(){return u})),a.d(e,"c",(function(){return s})),a.d(e,"b",(function(){return d}));a(32),a(55),a(98),a(115),a(61),a(33),a(31),a(70),a(29),a(48),a(76);var n,r=a(4);a(14),a(1),a(2);function i(t){var e,a,n="debit",r=!1,i=!1;return({LB_YYSR:function(){e="\u8425\u4e1a\u6536\u5165",a="acBusinessIncome"},LB_YYZC:function(){e="\u8425\u4e1a\u652f\u51fa",a="acBusinessExpense",n="credit"},LB_YYWSR:function(){e="\u8425\u4e1a\u5916\u6536\u5165",a="acBusinessOutIncome",r=!0,n="debit"},LB_YYWZC:function(){e="\u8425\u4e1a\u5916\u652f\u51fa",a="acBusinessOutExpense",n="credit",r=!0,n="credit"},LB_JK:function(){e="\u501f\u6b3e",a="acLoan",i=!0},LB_TZ:function(){e="\u6295\u8d44",a="acInvest",i=!0},LB_ZB:function(){e="\u8d44\u672c",a="acCapital",i=!0},LB_CQZC:function(){e="\u957f\u671f\u8d44\u4ea7",a="acAssets",n="debit"},LB_FYZC:function(){e="\u8d39\u7528\u652f\u51fa",a="acCost",n="credit"},LB_ZSKX:function(){e="\u6682\u6536\u6b3e\u9879",a="acTemporaryReceipt",r=!0},LB_ZFKX:function(){e="\u6682\u4ed8\u6b3e\u9879",a="acTemporaryPay",r=!0},LB_XCZC:function(){e="\u85aa\u916c\u652f\u51fa",a="acPayment",n="credit",i=!0},LB_SFZC:function(){e="\u7a0e\u8d39\u652f\u51fa",a="acTax",n="credit",i=!0}}[t]||function(){return""})(),{propertyShow:e,categoryTypeObj:a,direction:n,showInvoice:!1,isShowAbout:r,specialState:i}}n={TextField:"\u5355\u884c\u8f93\u5165\u6846",TextareaField:"\u591a\u884c\u8f93\u5165\u6846",MoneyField:"\u91d1\u989d",NumberField:"\u6570\u5b57\u8f93\u5165\u6846",DDDateField:"\u65e5\u671f",DDDateRangeField:"\u65e5\u671f\u533a\u95f4",TableField:"\u660e\u7ec6",DDSelectField:"\u5355\u9009\u6846"},Object(r.a)(n,"NumberField","\u6570\u5b57\u8f93\u5165\u6846"),Object(r.a)(n,"DDMultiSelectField","\u591a\u9009\u6846"),Object(r.a)(n,"DDPhotoField","\u56fe\u7247"),Object(r.a)(n,"DDAttachment","\u9644\u4ef6"),Object(r.a)(n,"InnerContactField","\u8054\u7cfb\u4eba"),Object(r.a)(n,"RelateField","\u5173\u8054\u5ba1\u6279\u5355");var o={XZ_SALE:"\u9500\u552e\u8d39\u7528",XZ_MANAGE:"\u7ba1\u7406\u8d39\u7528",XZ_FINANCE:"\u8d22\u52a1\u8d39\u7528",XZ_SCCB:"\u751f\u4ea7\u6210\u672c",XZ_FZSCCB:"\u8f85\u52a9\u751f\u4ea7\u6210\u672c",XZ_ZZFY:"\u5236\u9020\u8d39\u7528",XZ_HTCB:"\u5408\u540c\u6210\u672c",XZ_JJFY:"\u95f4\u63a5\u8d39\u7528",XZ_JXZY:"\u673a\u68b0\u4f5c\u4e1a"},c=["LB_YYSR","LB_YYWSR","LB_ZSKX"],u=["COMNCRD","ASSIST","MAKE","INDIRECT","MECHANICAL"],s=["LB_ZZ","LB_CHDB"];function d(t,e,a,n){if(t&&t.getIn([0,"childList"]).size>0){var r=["LB_YYSR","LB_YYZC","LB_FYZC","LB_XCZC","LB_YYWSR","LB_YYWZC","LB_ZSKX","LB_ZFKX"];"RECEIPT"===n.payOrReceive?(r=["LB_YYSR","LB_YYWSR"],n.isStock&&(r=["LB_YYSR"]),"LB_ZSKX"===n.jrCategoryType&&(r=["LB_ZSKX"]),n.isDJ&&(r=["LB_YYSR"])):"PAYMENT"===n.payOrReceive&&(r=["LB_YYZC","LB_FYZC","LB_XCZC","LB_YYWZC"],n.isStock&&(r=["LB_YYZC"]),"LB_ZFKX"===n.jrCategoryType&&(r=["LB_ZFKX"]),n.isDJ&&(r=["LB_YYZC","LB_FYZC"]));var i=t.getIn([0,"childList"]).filter((function(t){return r.indexOf(t.get("categoryType"))>-1})),o=i.findIndex((function(t){return"LB_YYSR"===t.get("categoryType")}));o>-1&&n.payOrReceive&&(i=n.isStock?i.updateIn([o,"childList"],(function(t){return t.filter((function(t){return"SX_HW"==t.get("propertyCarryover")||"SX_HW_FW"==t.get("propertyCarryover")}))})):n.isDJ?i.updateIn([o,"childList"],(function(t){return t.filter((function(t){return t.get("propertyList").indexOf("GXZT_DJGL")>-1}))})):i.updateIn([o,"childList"],(function(t){return t.filter((function(t){return"SX_FW"==t.get("propertyCarryover")||"SX_HW_FW"==t.get("propertyCarryover")}))})));var c=i.findIndex((function(t){return"LB_YYZC"===t.get("categoryType")}));c>-1&&n.payOrReceive&&(i=n.isStock?i.updateIn([c,"childList"],(function(t){return t.filter((function(t){return"SX_HW"==t.get("propertyCarryover")}))})):n.isDJ?i.updateIn([c,"childList"],(function(t){return t.filter((function(t){return t.get("propertyList").indexOf("GXZT_DJGL")>-1}))})):i.updateIn([c,"childList"],(function(t){return t.filter((function(t){return"SX_FW"==t.get("propertyCarryover")}))})));var u=i.findIndex((function(t){return"LB_XCZC"===t.get("categoryType")}));u>-1&&(i=i.updateIn([u,"childList"],(function(t){return t.filter((function(t){return"SX_FLF"==t.get("propertyPay")||"SX_QTXC"==t.get("propertyPay")}))})));var s=i.findIndex((function(t){return"LB_FYZC"===t.get("categoryType")}));return s>-1&&n.payOrReceive&&n.isDJ&&(i=i.updateIn([s,"childList"],(function(t){return t.filter((function(t){return t.get("propertyList").indexOf("GXZT_DJGL")>-1}))}))),i.toJS()}return[]}},1149:function(t,e,a){"use strict";a.d(e,"w",(function(){return n})),a.d(e,"j",(function(){return r})),a.d(e,"r",(function(){return i})),a.d(e,"c",(function(){return o})),a.d(e,"u",(function(){return c})),a.d(e,"t",(function(){return u})),a.d(e,"l",(function(){return s})),a.d(e,"v",(function(){return d})),a.d(e,"m",(function(){return g})),a.d(e,"n",(function(){return f})),a.d(e,"z",(function(){return p})),a.d(e,"x",(function(){return T})),a.d(e,"g",(function(){return S})),a.d(e,"a",(function(){return _})),a.d(e,"d",(function(){return C})),a.d(e,"e",(function(){return L})),a.d(e,"f",(function(){return l})),a.d(e,"A",(function(){return m})),a.d(e,"q",(function(){return y})),a.d(e,"o",(function(){return b})),a.d(e,"s",(function(){return A})),a.d(e,"B",(function(){return h})),a.d(e,"y",(function(){return E})),a.d(e,"h",(function(){return I})),a.d(e,"i",(function(){return O})),a.d(e,"p",(function(){return j})),a.d(e,"k",(function(){return v})),a.d(e,"b",(function(){return N}));var n="INIT_RELATIVE_CONF",r="CHANGE_RELATIVE_CONTENT",i="GET_RELATIVE_CARD",o="BEFORE_ADD_NEW_MANAGE_TYPE",c="GET_RELATIVE_LIST_TITLE",u="GET_RELATIVE_LIST_BY_TYPE",s="CHANGE_RELATIVE_TYPE_BOX_CHECKED",d="GET_RELATIVE_TYPE_CONTENT",g="CHANGE_RELATIVE_TYPE_CONTENT",f="CHANGE_RELATIVE_TYPE_SELECT",p="SAVE_RELATIVE_TYPE",T="INSERT_RELATIVE_TYPE",S="CHANGE_RELATIVE_CARD_CONTENT",_="BEFORE_ADD_MANAGE_TYPE_CARD",C="CHANGE_MANAGE_CARD_RELATION",L="CHANGE_MANAGE_CARD_RELATION_TYPE",l="CHANGE_RELATIVE_CARD_AC",m="SAVE_RELATIVE_TYPE_CARD",y="DELETE_RELATIVE_LIST_CARD",b="CHECK_RELATIVE_LIST_CARD_BOX",A="GET_RELATIVE_LIST_BY_SON_TYPE",h="SWITCH_CARD_STATUS",E="RELATIVE_CONFIG_ADD_CARD_SHOW_MODAL",I="CHANGE_RELATIVE_CONF_CARD_SELECT_LIST",O="CHANGE_RELATIVE_CONF_HIGHT_TYPE_BOX_STATUS",j="DELETE_RELATIVE_CONF_HGIH_TYPE",v="CHANGE_RELATIVE_DATA",N="BEFORE_ADD_MANAGE_TYPE_CARD_FROM_EDIT_RUNNING"},1150:function(t,e,a){"use strict";a.d(e,"i",(function(){return n})),a.d(e,"j",(function(){return r})),a.d(e,"k",(function(){return i})),a.d(e,"d",(function(){return o})),a.d(e,"h",(function(){return c})),a.d(e,"e",(function(){return u})),a.d(e,"f",(function(){return s})),a.d(e,"g",(function(){return d})),a.d(e,"l",(function(){return g})),a.d(e,"a",(function(){return f})),a.d(e,"b",(function(){return p})),a.d(e,"c",(function(){return T}));var n="INIT_PROJECT",r="INIT_PROJECT_DATA",i="PROJECT_HIGH_TYPE",o="CHANGE_PROJECT_DATA",c="GET_PROJECT_LIST_AND_TREE",u="CHANGE_PROJECT_TOP_DATA",s="CHECKED_PROJECT_CATEGORY",d="GET_PROJECT_CARD_ONE",g="UNCHECKED_PROJECT",f="AFTER_SUCCESS_EDIT_PROJECT_CARD",p="BEFORE_ADD_PROJECT_CARD_FROM_EDIT_RUNNING",T="BEFORE_ADD_PROJECT_CARD_GET_CODE"},1225:function(t,e,a){"use strict";a.d(e,"s",(function(){return n})),a.d(e,"p",(function(){return r})),a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return o})),a.d(e,"n",(function(){return c})),a.d(e,"o",(function(){return u})),a.d(e,"c",(function(){return s})),a.d(e,"g",(function(){return d})),a.d(e,"f",(function(){return g})),a.d(e,"e",(function(){return f})),a.d(e,"q",(function(){return p})),a.d(e,"k",(function(){return T})),a.d(e,"i",(function(){return S})),a.d(e,"h",(function(){return _})),a.d(e,"m",(function(){return C})),a.d(e,"l",(function(){return L})),a.d(e,"d",(function(){return l})),a.d(e,"r",(function(){return m})),a.d(e,"j",(function(){return y}));var n="SWITCH_LOADING_MASK",r="INIT_SEARCH_APPROVAL",i="AFTER_GET_APPROVAL_PROCESSLIST",o="AFTER_GET_APPROVAL_PROCESSLIST_DETAILLIST",c="GET_APPROVAL_PROCESS_DETAIL_INFO",u="GET_APPROVAL_PROCESS_PREVIEW_DETAIL_INFO",s="AFTER_GET_APPROVAL_PROCESS_MODEL_LIST",d="CHANGE_APPROVAL_PROCESS_DETAIL_INFO_COMMON_STRING",g="CHANGE_APPROVAL_PROCESS_DETAIL_INFO_CATEGORY",f="CHANGE_APPROVAL_PROCESS_DETAIL_INFO_BILL_COMMON_STRING",p="SEARCH_APPROVAL_CHANGE_RUNNING_TAX_RATE",T="CHANGE_SEARCH_RUNNING_CALCULATE_COMMON_STRING",S="CHANGE_SEARCH_APPROVAL_COMMON_STRING",_="CHANGE_SEARCH_APPROAL_EDIT_BILL_STATES",C="CLEAR_SEARCH_APPROVAL_TEMP",L="CHARGE_SEARCH_APPROVAL_ITEM_CHECKBOX_CHECK",l="BEFORE_INSERT_APPROVAL_CALCULATE",m="SEARCH_APPROVAL_GET_APPROVAL_WAREHOUSE_CARD_LIST",y="CHANGE_SEARCH_APPROVAL_STRING"},1263:function(t,e,a){"use strict";a.d(e,"K",(function(){return n})),a.d(e,"E",(function(){return r})),a.d(e,"n",(function(){return i})),a.d(e,"u",(function(){return o})),a.d(e,"B",(function(){return c})),a.d(e,"t",(function(){return u})),a.d(e,"C",(function(){return s})),a.d(e,"N",(function(){return d})),a.d(e,"v",(function(){return g})),a.d(e,"F",(function(){return f})),a.d(e,"x",(function(){return p})),a.d(e,"M",(function(){return T})),a.d(e,"J",(function(){return S})),a.d(e,"L",(function(){return _})),a.d(e,"P",(function(){return C})),a.d(e,"z",(function(){return L})),a.d(e,"q",(function(){return l})),a.d(e,"o",(function(){return m})),a.d(e,"w",(function(){return y})),a.d(e,"R",(function(){return b})),a.d(e,"A",(function(){return A})),a.d(e,"p",(function(){return h})),a.d(e,"S",(function(){return E})),a.d(e,"G",(function(){return I})),a.d(e,"D",(function(){return O})),a.d(e,"r",(function(){return j})),a.d(e,"I",(function(){return v})),a.d(e,"y",(function(){return N})),a.d(e,"H",(function(){return R})),a.d(e,"m",(function(){return Z})),a.d(e,"s",(function(){return U})),a.d(e,"O",(function(){return J})),a.d(e,"f",(function(){return P})),a.d(e,"i",(function(){return D})),a.d(e,"k",(function(){return Y})),a.d(e,"j",(function(){return k})),a.d(e,"g",(function(){return B})),a.d(e,"a",(function(){return F})),a.d(e,"c",(function(){return X})),a.d(e,"b",(function(){return G})),a.d(e,"e",(function(){return M})),a.d(e,"d",(function(){return H})),a.d(e,"l",(function(){return w})),a.d(e,"h",(function(){return z})),a.d(e,"Q",(function(){return x}));var n="RUNNING_INIT_FJ_LIST",r="RUNNING_GET_LS_LABEL_FETCH",i="RUNNING_ACCOUNT_SAVE_AND_NEW",o="RUNNING_CHANGE_LRLS_DATA",c="RUNNING_GET_HOMEACCOUNT_CARD_DETAIL",u="RUNNING_CHANGE_LRLS_ACCOUNT",s="RUNNING_GET_JRLIST",d="RUNNING_PENDINGSTRONGLIST_BESELECT",g="RUNNING_CHANGE_PROJECT_CARD",f="RUNNING_GET_PROJECT_CARDLIST",p="RUNNING_CLEAR_CARDTEMP",T="RUNNING_ORIRUNNING",S="RUNNING_HANDLETYPE",_="RUNNING_LRLS_AMOUNT",C="RUNNING_TAXRATE",L="RUNNING_GET_CARDLIST",l="RUNNING_CHANGE_CURRENT_CARDLIST",m="RUNNING_AUTO_CQZC_CZAMOUNT",y="RUNNING_CHANGE_YYSR_STOCKCARD",b="RUNNING_XCZC_CALCULATE_AMOUNT",A="RUNNING_GET_CQZC_CATEGORY",h="RUNNING_AUTO_JZSY_AMOUNT",E="RUNNING_ZJTX_SELECT_CATEGORY",I="RUNNING_GET_SFGL_CATEGORYLIST",O="RUNNING_GET_JZCB_CATEGORYLIST",j="RUNNING_CHANGE_GGFYFT_PROJECT_CARD",v="RUNNING_GGFYFT_AUTO_CALCULATE",N="RUNNING_FILTER_JZCBLIST",R="RUNNING_GET_WAREHOUSE",Z="RUNNING_ACCOUNT_MORE_CARD",U="RUNNING_CHANGE_HANDLECATEGORY",J="RUNNING_SET_JZCB_PRICE",P="CHANGE_EDIT_RUNNING_ENCLOSURE_LIST",D="DELETE_EDIT_RUNNING_UPLOAD_FJ_URL",Y="EDIT_RUNNING_INIT_FJ_LIST",k="EDIT_RUNNING_GET_LS_LABEL_FETCH",B="CHANGE_EDIT_RUNNING_TAG_NAME",F="AFTER_GET_UPLOAD_SIGNATURE",X="BEFORE_ADD_MANAGE_TYPE_CARD_FROM_EDIT_RUNNING",G="BEFORE_ADD_INVENTORY_CARD_FROM_EDIT_RUNNING",M="BEFOR_ADD_ACCONT_FROM_EDIT_RUNNING",H="BEFORE_ADD_PROJECT_CARD_FROM_EDIT_RUNNING",w="GET_INVENTORY_WAREHOUSE_TREE",z="CHANGE_INVENTORY_DATA",x="RUNNING_UPDATE_STOCK_BATCH"},1334:function(t,e,a){"use strict";a.d(e,"f",(function(){return p})),a.d(e,"b",(function(){return T})),a.d(e,"g",(function(){return C})),a.d(e,"h",(function(){return _})),a.d(e,"d",(function(){return L})),a.d(e,"e",(function(){return l})),a.d(e,"c",(function(){return m})),a.d(e,"a",(function(){return b}));a(32),a(31);var n=a(51),r=a(1),i=a(2),o=a(14),c=a(78),u={LB_YYSR:{STATE_YYSR_DJ:{oriDate:"",categoryUuid:"",oriState:"",amount:"",oriAbstract:"",accounts:[],currentCardList:[],usedCurrent:"",usedAccounts:!1,usedProject:!1,projectCardList:[]},STATE_YYSR_XS:{oriDate:"",categoryUuid:"",oriState:"",amount:"",currentAmount:"",offsetAmount:"",oriAbstract:"",accounts:[],currentCardList:[],usedCurrent:"",usedProject:!1,projectCardList:[],beCarryover:!1,carryoverCardList:[],stockCardList:[],billList:[],usedStock:!1,usedAccounts:!1},STATE_YYSR_TS:{oriDate:"",categoryUuid:"",oriState:"",amount:"",currentAmount:"",offsetAmount:"",oriAbstract:"",accounts:[],currentCardList:[],usedCurrent:"",usedProject:!1,projectCardList:[],beCarryover:!1,carryoverCardList:[],stockCardList:[],billList:[],usedStock:!1,usedAccounts:!1}},LB_YYZC:{STATE_YYZC_DJ:{oriDate:"",categoryUuid:"",oriState:"",amount:"",oriAbstract:"",accounts:[],currentCardList:[],usedCurrent:"",usedProject:!1,projectCardList:[],usedAccounts:!1},STATE_YYZC_GJ:{oriDate:"",categoryUuid:"",oriState:"",amount:"",currentAmount:"",offsetAmount:"",oriAbstract:"",accounts:[],currentCardList:[],usedCurrent:"",usedProject:!1,projectCardList:[],stockCardList:[],billList:[],beCarryover:!1,relationCategoryUuid:"",propertyCost:"",usedCarryoverProject:!1,carryoverProjectCardList:[],carryoverCardList:[],usedAccounts:!1},STATE_YYZC_TG:{oriDate:"",categoryUuid:"",oriState:"",amount:"",currentAmount:"",offsetAmount:"",oriAbstract:"",accounts:[],currentCardList:[],usedCurrent:"",usedProject:!1,projectCardList:[],stockCardList:[],billList:[]}},LB_FYZC:{STATE_FY_DJ:{oriDate:"",categoryUuid:"",oriState:"",amount:"",oriAbstract:"",accounts:[],currentCardList:[],usedCurrent:"",usedProject:!1,projectCardList:[],usedAccounts:!1},STATE_FY:{oriDate:"",categoryUuid:"",oriState:"",amount:"",currentAmount:"",offsetAmount:"",oriAbstract:"",propertyCost:"",accounts:[],currentCardList:[],usedCurrent:"",billList:[],usedProject:"",projectCardList:[],usedAccounts:!1}},LB_SFZC:{STATE_SF_YJZZS:{oriDate:"",categoryUuid:"",oriState:"",amount:"",oriAbstract:"",accounts:[]},STATE_SF_JN:{oriDate:"",categoryUuid:"",oriState:"",amount:"",oriAbstract:"",beReduceTax:!1,reduceAmount:"",offsetAmount:"",accounts:[],pendingStrongList:[],usedProject:!1,projectCardList:[]},STATE_SF_JT:{oriDate:"",categoryUuid:"",oriState:"",amount:"",oriAbstract:"",usedProject:!1,projectCardList:[]},STATE_SF_SFJM:{oriDate:"",categoryUuid:"",oriState:"",amount:"",oriAbstract:"",pendingStrongList:[]},STATE_SF_ZCWJZZS:{oriDate:"",categoryUuid:"",oriState:"",amount:"",oriAbstract:""}},LB_XCZC:{STATE_XC_JT:{oriDate:"",categoryUuid:"",oriState:"",amount:"",oriAbstract:"",accounts:[],usedProject:!1,projectCardList:[],propertyCost:""},STATE_XC_JN:{oriDate:"",categoryUuid:"",oriState:"",amount:"",oriAbstract:"",accounts:[],propertyCost:"",payment:{},pendingStrongList:[],usedProject:!1,projectCardList:[]},STATE_XC_FF:{oriDate:"",categoryUuid:"",oriState:"",amount:"",oriAbstract:"",accounts:[],propertyCost:"",payment:{},pendingStrongList:[],usedProject:!1,projectCardList:[]},STATE_XC_DK:{oriDate:"",categoryUuid:"",oriState:"",amount:"",oriAbstract:"",accounts:[],propertyCost:"",payment:{},pendingStrongList:[],usedProject:!1,projectCardList:[]},STATE_XC_DJ:{oriDate:"",categoryUuid:"",oriState:"",amount:"",oriAbstract:"",accounts:[],propertyCost:"",payment:{},pendingStrongList:[],usedProject:!1,projectCardList:[]}},LB_CQZC:{STATE_CQZC_YF:{oriDate:"",categoryUuid:"",handleType:"",oriState:"",amount:"",currentAmount:"",oriAbstract:"",accounts:[],currentCardList:[],usedCurrent:"",billList:[],usedProject:!1,projectCardList:[]},STATE_CQZC_YS:{oriDate:"",categoryUuid:"",handleType:"",oriState:"",amount:"",currentAmount:"",oriAbstract:"",accounts:[],currentCardList:[],usedCurrent:"",billList:[],beCleaning:!1,assets:{originalAssetsAmount:"",depreciationAmount:"",cleaningAmount:""},usedProject:"",projectCardList:[]}},LB_YYWSR:{STATE_YYWSR:{oriDate:"",categoryUuid:"",oriState:"",amount:"",currentAmount:"",oriAbstract:"",accounts:[],currentCardList:[],usedCurrent:"",usedProject:"",projectCardList:[],billList:[]}},LB_YYWZC:{STATE_YYWZC:{oriDate:"",categoryUuid:"",oriState:"",amount:"",currentAmount:"",oriAbstract:"",accounts:[],currentCardList:[],usedCurrent:"",usedProject:"",projectCardList:[],billList:[]}},LB_ZSKX:{STATE_ZS_SQ:{oriDate:"",categoryUuid:"",oriState:"",amount:"",oriAbstract:"",accounts:[{accountUuid:"",accountName:"",amount:""}],usedProject:!1,projectCardList:[{cardUuid:"",amount:""}],currentCardList:[],usedCurrent:!1},STATE_ZS_TH:{oriDate:"",categoryUuid:"",oriState:"",amount:"",oriAbstract:"",accounts:[{accountUuid:"",accountName:"",amount:""}],pendingStrongList:[]}},LB_ZFKX:{STATE_ZF_FC:{oriDate:"",categoryUuid:"",oriState:"",amount:"",oriAbstract:"",accounts:[{accountUuid:"",accountName:"",amount:""}],usedProject:!1,projectCardList:[{cardUuid:"",amount:""}],currentCardList:[],usedCurrent:!1},STATE_ZF_SH:{oriDate:"",categoryUuid:"",oriState:"",amount:"",oriAbstract:"",accounts:[{accountUuid:"",accountName:"",amount:""}],pendingStrongList:[]}},LB_JK:{STATE_JK_YS:{oriDate:"",categoryUuid:"",handleType:"",oriState:"",amount:"",oriAbstract:"",accounts:[{accountUuid:"",accountName:"",amount:""}],currentCardList:[],usedCurrent:!1},STATE_JK_YF:{oriDate:"",categoryUuid:"",handleType:"",oriState:"",amount:"",oriAbstract:"",accounts:[{accountUuid:"",accountName:"",amount:""}],currentCardList:[],usedCurrent:!1},STATE_JK_JTLX:{oriDate:"",categoryUuid:"",handleType:"",oriState:"",amount:"",oriAbstract:"",accounts:[{accountUuid:"",accountName:"",amount:""}],usedProject:"",projectCardList:[],currentCardList:[],usedCurrent:!1},STATE_JK_ZFLX:{oriDate:"",categoryUuid:"",handleType:"",oriState:"",amount:"",oriAbstract:"",accounts:[{accountUuid:"",accountName:"",amount:""}],pendingStrongList:[],usedProject:!1,projectCardList:[],currentCardList:[],usedCurrent:!1}},LB_TZ:{STATE_TZ_YF:{oriDate:"",categoryUuid:"",handleType:"",oriState:"",amount:"",oriAbstract:"",accounts:[{accountUuid:"",accountName:"",amount:""}],currentCardList:[],usedCurrent:!1},STATE_TZ_JTGL:{oriDate:"",categoryUuid:"",handleType:"",oriState:"",amount:"",oriAbstract:"",usedProject:!1,projectCardList:[],currentCardList:[],usedCurrent:!1},STATE_TZ_JTLX:{oriDate:"",categoryUuid:"",handleType:"",oriState:"",amount:"",oriAbstract:"",usedProject:!1,projectCardList:[],currentCardList:[],usedCurrent:!1},STATE_TZ_SRGL:{oriDate:"",categoryUuid:"",handleType:"",oriState:"",amount:"",oriAbstract:"",accounts:[{accountUuid:"",accountName:"",amount:""}],pendingStrongList:[],usedProject:!1,projectCardList:[],currentCardList:[],usedCurrent:!1},STATE_TZ_SRLX:{oriDate:"",categoryUuid:"",handleType:"",oriState:"",amount:"",oriAbstract:"",accounts:[{accountUuid:"",accountName:"",amount:""}],pendingStrongList:[],usedProject:!1,projectCardList:[],currentCardList:[],usedCurrent:!1},STATE_TZ_YS:{oriDate:"",categoryUuid:"",handleType:"",oriState:"",amount:"",oriAbstract:"",accounts:[{accountUuid:"",accountName:"",amount:""}],currentCardList:[],usedCurrent:!1}},LB_ZB:{STATE_ZB_ZZ:{oriDate:"",categoryUuid:"",handleType:"",oriState:"",amount:"",oriAbstract:"",accounts:[],currentCardList:[],usedCurrent:!1},STATE_ZB_LRFP:{oriDate:"",categoryUuid:"",handleType:"",oriState:"",amount:"",oriAbstract:"",currentCardList:[],usedCurrent:!1},STATE_ZB_ZFLR:{oriDate:"",categoryUuid:"",handleType:"",oriState:"",amount:"",oriAbstract:"",accounts:[],pendingStrongList:[],currentCardList:[],usedCurrent:!1},STATE_ZB_JZ:{oriDate:"",categoryUuid:"",handleType:"",oriState:"",amount:"",oriAbstract:"",accounts:[],currentCardList:[],usedCurrent:!1},STATE_ZB_ZBYJ:{oriDate:"",categoryUuid:"",handleType:"",oriState:"",amount:"",oriAbstract:"",accounts:[],currentCardList:[],usedCurrent:!1}},LB_ZZ:{STATE_ZZ:{oriDate:"",categoryUuid:"",oriState:"",amount:"",oriAbstract:"",accounts:[]}},LB_KJFP:{STATE_KJFP_XS:{oriDate:"",categoryUuid:"",oriState:"",billType:"",amount:"",oriAbstract:"",pendingStrongList:[]},STATE_KJFP_TS:{oriDate:"",categoryUuid:"",oriState:"",billType:"",amount:"",oriAbstract:"",pendingStrongList:[]}},LB_FPRZ:{STATE_FPRZ_CG:{oriDate:"",categoryUuid:"",oriState:"",billType:"",amount:"",oriAbstract:"",pendingStrongList:[]},STATE_FPRZ_TG:{oriDate:"",categoryUuid:"",oriState:"",billType:"",amount:"",oriAbstract:"",pendingStrongList:[]}},LB_JZSY:{STATE_CQZC_JZSY:{oriDate:"",categoryUuid:"",oriState:"",amount:"",oriAbstract:"",pendingStrongList:[],assets:{},usedProject:!1,projectCardList:[]}},LB_ZJTX:{STATE_CQZC_ZJTX:{oriDate:"",categoryUuid:"",oriState:"",amount:"",oriAbstract:"",propertyCost:"",usedProject:!1,projectCardList:[]}},LB_ZCWJZZS:{STATE_ZCWJZZS:{oriDate:"",categoryUuid:"",oriState:"",oriAbstract:"",handleMonth:""}},LB_SFGL:{STATE_SFGL:{oriDate:"",oriState:"",categoryUuid:"",oriAbstract:"",amount:"",moedAmount:"",pendingManageDto:{},accounts:[],currentCardList:[],usedAccounts:!1},STATE_SFGL_ML:{oriDate:"",oriState:"",categoryUuid:"",oriAbstract:"",amount:"",pendingManageDto:{},currentCardList:[]}},LB_JZCB:{STATE_YYSR_XS:{oriDate:"",oriState:"",categoryUuid:"",oriAbstract:"",stockCardList:[]},STATE_YYSR_TS:{oriDate:"",oriState:"",categoryUuid:"",oriAbstract:"",stockCardList:[]},STATE_YYSR_ZJ:{oriDate:"",oriState:"",categoryUuid:"",oriAbstract:"",stockCardList:[],usedProject:!1,projectCardList:[],propertyCost:""}},LB_GGFYFT:{STATE_GGFYFT:{oriDate:"",oriState:"",oriAbstract:"",projectCardList:[],usedProject:"",pendingStrongList:[],shareType:""},STATE_FZSCCB:{oriDate:"",oriState:"",oriAbstract:"",projectCardList:[],usedProject:"",pendingStrongList:[]},STATE_ZZFY:{oriDate:"",oriState:"",oriAbstract:"",projectCardList:[],usedProject:"",pendingStrongList:[]},STATE_JJFY:{oriDate:"",oriState:"",oriAbstract:"",projectCardList:[],usedProject:"",pendingStrongList:[]},STATE_JXZY:{oriDate:"",oriState:"",oriAbstract:"",projectCardList:[],usedProject:"",pendingStrongList:[]}},LB_CHDB:{STATE_CHDB:{categoryUuid:"",oriDate:"",oriState:"",oriAbstract:"",warehouseCardList:[],stockCardList:[]}},LB_CHYE:{STATE_CHYE:{categoryUuid:"",oriDate:"",oriState:"",oriAbstract:"",stockCardList:[]},STATE_CHYE_CK:{categoryUuid:"",oriDate:"",oriState:"",oriAbstract:"",stockCardList:[]},STATE_CHYE_CH:{categoryUuid:"",oriDate:"",oriState:"",oriAbstract:"",stockCardList:[]}},LB_JXSEZC:{STATE_JXSEZC_FS:{categoryUuid:"",relationCategoryUuid:"",oriDate:"",oriState:"",oriAbstract:"",usedStock:"",stockCardList:[],amount:"",usedProject:"",projectCardList:[],propertyCost:""}},LB_CHZZ:{STATE_CHZZ_ZZCX:{categoryUuid:"",oriDate:"",oriState:"",oriAbstract:"",stockCardList:[],stockCardOtherList:[]},STATE_CHZZ_ZZD:{categoryUuid:"",oriDate:"",oriState:"",oriAbstract:"",stockCardList:[]}},LB_CHTRXM:{STATE_CHTRXM:{categoryUuid:"",oriDate:"",oriState:"",oriAbstract:"",usedProject:"",projectCardList:[],stockCardList:[]}},LB_XMJZ:{STATE_XMJZ_JZRK:{categoryUuid:"",oriDate:"",oriState:"",oriAbstract:"",usedProject:"",projectCardList:[],stockCardList:[]},STATE_XMJZ_XMJQ:{categoryUuid:"",oriDate:"",oriState:"",oriAbstract:"",usedProject:"",projectCardList:[],stockCardList:[],amount:"",currentAmount:""},STATE_XMJZ_QRSRCB:{categoryUuid:"",oriDate:"",oriState:"",oriAbstract:"",usedProject:"",projectCardList:[],amount:"",currentAmount:""}}},s=(a(223),a(115),a(61),a(62),a(166),a(34),a(56),a(116),a(555),a(131),a(77),a(1035),a(83),a(1029),a(76),a(1030),a(220)),d=a(117),g=a(12);var f=a(1025);function p(t,e,a,r,p,T){var S=e.get("oriTemp").toJS(),_=S.categoryType,C=S.oriState,L="insert"===e.getIn(["views","insertOrModify"]),l="COPY"===e.getIn(["views","ylType"]),m=L||l?d.d[_]:d.e[_],y=e.get("enclosureList").toJS(),b={};for(var A in u[_][C])b[A]=S[A];var h=function(t,e,a,n,r,i){var c=[],u=t.get("categoryType"),f=t.get("oriState"),p=t.getIn([d.a[u],"beManagemented"]),T=t.getIn([d.a[u],"beAccrued"]);""==e.oriAbstract&&c.push("\u8bf7\u586b\u5199\u6458\u8981"),e.oriAbstract.length>o.y&&c.push("\u6458\u8981\u957f\u5ea6\u4e0d\u80fd\u8d85\u8fc7".concat(o.y,"\u4e2a\u5b57\u7b26"));var S="LB_GGFYFT"==u||e.usedProject,_=e.projectCardList,C=!1;if(S){var L=[];_.every((function(t){return L.push(t.cardUuid),t.amount<=0&&!0,"COMNCRD"!=t.code||t.propertyCost||(C=!0),t.cardUuid}))||c.push("\u6709\u672a\u9009\u62e9\u7684\u9879\u76ee\u5361\u7247")}var l=e.usedCurrent;function m(){e.stockCardList.forEach((function(t,e){var a=!1,n=!1;if(t.cardUuid){t.amount<=0&&(n=!0),!t.isOpenedQuantity&&n&&c.push("\u5b58\u8d27\u660e\u7ec6".concat(e+1,"\u672a\u586b\u5199\u91d1\u989d")),t.isOpenedQuantity&&(t.quantity<=0?a=!0:t.unitUuid||c.push("\u5b58\u8d27\u660e\u7ec6".concat(e+1,"\u672a\u9009\u62e9\u5355\u4f4d")),a&&n&&c.push("\u5b58\u8d27\u660e\u7ec6".concat(e+1,"\u6570\u91cf\u548c\u91d1\u989d\u4e0d\u80fd\u540c\u65f6\u4e3a\u7a7a"))),i&&""==t.warehouseCardUuid&&c.push("\u5b58\u8d27\u660e\u7ec6".concat(e+1,"\u672a\u9009\u62e9\u4ed3\u5e93")),t.financialInfo=t.financialInfo?t.financialInfo:{};var r=t.financialInfo.openAssist,o=t.financialInfo.openBatch,u=t.financialInfo.openShelfLife,s=t.financialInfo.openSerial,d=t.assistList?t.assistList:[];if(r)t.financialInfo.assistClassificationList.length!=d.length&&c.push("\u5b58\u8d27\u660e\u7ec6".concat(e+1,"\u5c5e\u6027\u672a\u9009\u62e9\u5b8c\u6574"));o&&(t.batch||c.push("\u5b58\u8d27\u660e\u7ec6".concat(e+1,"\u6279\u6b21\u672a\u9009\u62e9")),u&&!t.expirationDate&&c.push("\u5b58\u8d27\u660e\u7ec6".concat(e+1,"\u6279\u6b21\u672a\u9009\u62e9\u622a\u6b62\u65e5\u671f"))),s&&a&&c.push("\u5b58\u8d27\u660e\u7ec6".concat(e+1,"\u672a\u9009\u62e9\u5e8f\u5217\u53f7"))}}))}l&&!t.getIn(["currentCardList",0,"cardUuid"])&&c.push("\u8bf7\u9009\u62e9\u5f80\u6765\u5355\u4f4d");var y=!1,b=!1,A=0,h=t.get("usedAccounts"),E=t.get("accounts").toJS();if(h){var I=[];E.every((function(t){return I.push(t.accountUuid),t.amount<=0&&(b=!0),A+=Number(t.amount),t.accountUuid}))||c.push("\u6709\u672a\u9009\u62e9\u7684\u8d26\u6237"),b&&c.push("\u8d26\u6237\u6709\u672a\u586b\u5199\u7684\u91d1\u989d");var O=Object(s.a)(new Set(I));O.length<I.length&&c.push("\u6709\u91cd\u590d\u7684\u8d26\u6237"),O.length>32&&c.push("\u591a\u8d26\u6237\u4e0d\u53ef\u8d85\u8fc732\u4e2a\u8d26\u6237")}var j=!1,v=[],N=[];switch(n&&t.get("accounts").some((function(t){return t.getIn(["poundage","needPoundage"])}))&&t.get("needUsedPoundage")&&(j=!0,v=t.get("poundageCurrentCardList").toJS(),N=t.get("poundageProjectCardList").toJS()),e.needUsedPoundage=j,e.poundageCurrentCardList=v,e.poundageProjectCardList=N,u){case"LB_YYSR":var R=t.get("propertyCarryover");y=!p;var Z=Number(e.offsetAmount),U=Math.abs(Number(e.preAmount)),J=Math.abs(Number(e.payableAmount));if(p&&("STATE_YYSR_DJ"==f||e.currentAmount>0)&&(y=!0),0==Math.abs(Number(e.amount))&&c.push("\u8bf7\u586b\u5199\u91d1\u989d"),n&&"STATE_YYSR_XS"==f&&Z>U&&c.push("\u9884\u6536\u62b5\u6263\u91d1\u989d\u4e0d\u53ef\u5927\u4e8e\u9884\u6536\u6b3e"),n&&"STATE_YYSR_TS"==f&&Z>J&&c.push("\u9884\u4ed8\u62b5\u6263\u91d1\u989d\u4e0d\u53ef\u5927\u4e8e\u5e94\u6536\u6b3e"),n&&Z>e.amount&&c.push("\u9884\u6536(\u4ed8)\u62b5\u6263\u4e0d\u53ef\u5927\u4e8e\u603b\u91d1\u989d"),n&&Number(e.currentAmount)+Number(e.offsetAmount)>e.amount&&c.push("\u672c\u6b21\u6536(\u4ed8)\u6b3e\u91d1\u989d+\u9884\u6536(\u4ed8)\u62b5\u6263\u4e0d\u53ef\u5927\u4e8e\u603b\u91d1\u989d"),"STATE_YYSR_DJ"==f||"SX_HW"!=R&&!t.get("usedStock")||m(),e.stockCardList&&e.stockCardList.forEach((function(t,a){t.cardUuid||e.stockCardList.splice(a,1)})),n&&e.carryoverCardList){var P=[];e.carryoverCardList.forEach((function(t,a){var n=t.cardUuid,r=t.warehouseCardUuid?t.warehouseCardUuid:"",i=t.batch?t.batch:"",o=t.assistList?t.assistList.map((function(t){return t.propertyUuid})).sort():[],c="".concat(n,"_").concat(r,"_").concat(i,"_").concat(o.join("_"));P.includes(c)?e.carryoverCardList.splice(a,1):P.push(c)}))}n||(e.carryoverCardList=[]),h?(y=!1,"STATE_YYSR_DJ"==f&&Object(g.l)(A)!=Object(g.l)(e.amount)&&c.push("\u591a\u8d26\u6237\u91d1\u989d\u5fc5\u987b\u4e0e\u603b\u91d1\u989d\u76f8\u7b49"),"STATE_YYSR_XS"==f&&Object(g.l)(A)>Object(g.l)(e.amount)&&c.push("\u591a\u8d26\u6237\u91d1\u989d\u4e0d\u53ef\u5927\u4e8e\u603b\u91d1\u989d")):e.accounts=e.accounts.slice(0,1),"SX_HW_FW"!=R||t.get("usedStock")||(e.stockCardList=[],e.carryoverCardList=[]);break;case"LB_YYZC":var D="SX_HW"===t.get("propertyCarryover");y=!p;var Y=Number(e.offsetAmount),k=Math.abs(Number(e.preAmount)),B=Math.abs(Number(e.payableAmount));if(p&&("STATE_YYZC_DJ"==f||e.currentAmount>0)&&(y=!0),0==Math.abs(Number(e.amount))&&c.push("\u8bf7\u586b\u5199\u91d1\u989d"),n&&"STATE_YYZC_GJ"==f&&Y>k&&c.push("\u9884\u4ed8\u62b5\u6263\u91d1\u989d\u4e0d\u53ef\u5927\u4e8e\u9884\u4ed8\u6b3e"),n&&"STATE_YYZC_TG"==f&&Y>B&&c.push("\u5e94\u4ed8\u62b5\u6263\u91d1\u989d\u4e0d\u53ef\u5927\u4e8e\u5e94\u4ed8\u6b3e"),n&&Y>e.amount&&c.push("\u9884\u6536(\u4ed8)\u62b5\u6263\u4e0d\u53ef\u5927\u4e8e\u603b\u91d1\u989d"),n&&Number(e.currentAmount)+Number(e.offsetAmount)>e.amount&&c.push("\u672c\u6b21\u6536(\u4ed8)\u6b3e\u91d1\u989d+\u9884\u6536(\u4ed8)\u62b5\u6263\u4e0d\u53ef\u5927\u4e8e\u603b\u91d1\u989d"),"STATE_YYZC_DJ"!=f&&D&&(m(),e.usedStock=!0),e.stockCardList&&e.stockCardList.forEach((function(t,a){t.cardUuid||e.stockCardList.splice(a,1)})),n&&e.beCarryover){t.get("relationCategoryUuid")||c.push("\u8bf7\u9009\u62e9\u5904\u7406\u7c7b\u522b");var F=[],X=[],G=[];e.carryoverCardList.forEach((function(t,a){var n=t.cardUuid;if(F.includes(n)&&!G.includes(n)&&G.push(n),F.includes(n)||(F.push(n),X.push([])),!i&&G.includes(n)&&e.carryoverCardList.splice(a,1),i){var r=F.findIndex((function(t){return t==n}));X[r].includes(t.warehouseCardUuid)?e.carryoverCardList.splice(a,1):X[r].push(t.warehouseCardUuid)}}))}h?(y=!1,"STATE_YYZC_DJ"==f&&Object(g.l)(A)!=Object(g.l)(e.amount)&&c.push("\u591a\u8d26\u6237\u91d1\u989d\u5fc5\u987b\u4e0e\u603b\u91d1\u989d\u76f8\u7b49"),"STATE_YYZC_GJ"==f&&Object(g.l)(A)>Object(g.l)(e.amount)&&c.push("\u591a\u8d26\u6237\u91d1\u989d\u4e0d\u53ef\u5927\u4e8e\u603b\u91d1\u989d")):e.accounts=e.accounts.slice(0,1);break;case"LB_FYZC":0==Math.abs(Number(e.amount))&&c.push("\u8bf7\u586b\u5199\u91d1\u989d"),"STATE_FY_DJ"!=f&&""==e.propertyCost&&c.push("\u8bf7\u9009\u62e9\u8d39\u7528\u6027\u8d28"),y=!p,p&&("STATE_FY_DJ"!=f&&0==e.currentAmount||(y=!0)),h?(y=!1,"STATE_FY_DJ"==f&&Object(g.l)(A)!=Object(g.l)(e.amount)&&c.push("\u591a\u8d26\u6237\u91d1\u989d\u5fc5\u987b\u4e0e\u603b\u91d1\u989d\u76f8\u7b49"),"STATE_FY"==f&&Object(g.l)(A)>Object(g.l)(e.amount)&&c.push("\u591a\u8d26\u6237\u91d1\u989d\u4e0d\u53ef\u5927\u4e8e\u603b\u91d1\u989d")):e.accounts=e.accounts.slice(0,1);var M=Number(e.offsetAmount),H=Math.abs(Number(e.preAmount)),w=Math.abs(Number(e.payableAmount));n&&"STATE_FY"==f&&M>H&&c.push("\u9884\u4ed8\u62b5\u6263\u91d1\u989d\u4e0d\u53ef\u5927\u4e8e\u9884\u4ed8\u6b3e"),n&&"STATE_FY"==f&&M>w&&c.push("\u5e94\u4ed8\u62b5\u6263\u91d1\u989d\u4e0d\u53ef\u5927\u4e8e\u5e94\u4ed8\u6b3e"),n&&M>Math.abs(e.amount)&&c.push("\u9884(\u5e94)\u4ed8\u62b5\u6263\u4e0d\u53ef\u5927\u4e8e\u603b\u91d1\u989d"),n&&Number(e.currentAmount)+Number(e.offsetAmount)>Math.abs(e.amount)&&c.push("\u672c\u6b21\u6536(\u4ed8)\u6b3e\u91d1\u989d+\u9884(\u5e94)\u4ed8\u62b5\u6263\u4e0d\u53ef\u5927\u4e8e\u603b\u91d1\u989d");break;case"LB_XCZC":var z=!1;if(["STATE_XC_FF","STATE_XC_JN","STATE_XC_DK","STATE_XC_DJ"].includes(f)){var x=[];e.pendingStrongList.map((function(t){t.beSelect&&(z=!0,x.push(t))})),e.pendingStrongList=x}switch(z&&["STATE_XC_FF","STATE_XC_JN"].includes(f)||""!=e.propertyCost||c.push("\u8bf7\u9009\u62e9\u8d39\u7528\u6027\u8d28"),t.get("propertyPay")){case"SX_GZXJ":if("STATE_XC_FF"==f){y=!0;var Q=t.getIn(["payment","actualAmount"]);T&&0==Q&&(y=!1)}break;case"SX_SHBX":case"SX_ZFGJJ":if("STATE_XC_JT"==f&&0==Math.abs(Number(e.amount))&&c.push("\u8bf7\u586b\u5199\u91d1\u989d"),"STATE_XC_JN"==f){if(y=!0,"SX_SHBX"==t.get("propertyPay")&&n&&T)e.amount=t.getIn(["payment","companySocialSecurityAmount"]),t.getIn(["acPayment","beWithholdSocial"])||(e.payment=void 0);if("SX_ZFGJJ"==t.get("propertyPay")&&n&&T)e.amount=t.getIn(["payment","companyAccumulationAmount"]),t.getIn(["acPayment","beWithholding"])||(e.payment=void 0)}break;case"SX_FLF":case"SX_QTXC":y="STATE_XC_FF"==f,0==Math.abs(Number(e.amount))&&c.push("\u8bf7\u586b\u5199\u91d1\u989d");break;default:console.log("\u6821\u9a8c\u85aa\u916c\u652f\u51fa\u51fa\u9519")}break;case"LB_SFZC":var W=t.get("propertyTax");if("STATE_SF_JN"==f||"STATE_SF_SFJM"==f){var K=[];e.pendingStrongList.map((function(t){t.beSelect&&K.push(t)})),e.pendingStrongList=K}switch(W){case"SX_ZZS":if("STATE_SF_YJZZS"==f&&(y=!0,0==Math.abs(Number(e.amount))&&c.push("\u8bf7\u586b\u5199\u91d1\u989d")),"STATE_SF_ZCWJZZS"==f&&0==Math.abs(Number(e.amount))&&c.push("\u8bf7\u586b\u5199\u91d1\u989d"),"STATE_SF_JN"==f){var q=t.get("amount"),V=Number(t.get("offsetAmount")),$=Number(t.get("deductedAmount")),tt=Number(t.get("reduceAmount")),et=Number(t.get("jrAmount")),at=Number(V)+Number(q)+Number(tt);0==e.pendingStrongList.length&&c.push("\u8bf7\u9009\u62e9\u9700\u8981\u5904\u7406\u7684\u6d41\u6c34"),Math.abs(Number(e.amount))>0&&(y=!0),0==at&&c.push("\u8bf7\u586b\u5199\u91d1\u989d"),V>$&&c.push("\u9884\u4ea4\u62b5\u6263\u91d1\u989d\u4e0d\u80fd\u5927\u4e8e\u5f85\u62b5\u6263\u91d1\u989d"),at>et&&c.push("\u5904\u7406\u7a0e\u8d39\u603b\u989d\u4e0d\u53ef\u5927\u4e8e\u5f85\u6838\u9500\u91d1\u989d")}"STATE_SF_SFJM"==f&&(0==e.pendingStrongList.length&&c.push("\u8bf7\u9009\u62e9\u9700\u8981\u5904\u7406\u7684\u6d41\u6c34"),0==Math.abs(Number(e.amount))&&c.push("\u8bf7\u586b\u5199\u91d1\u989d"));break;case"SX_QTSF":case"SX_QYSDS":if("STATE_SF_JT"==f&&0==Math.abs(Number(e.amount))&&c.push("\u8bf7\u586b\u5199\u91d1\u989d"),"STATE_SF_JN"==f){var nt=Number(t.get("reduceAmount")),rt=Number(t.get("amount")),it=Number(t.get("jrAmount")),ot=rt+nt;nt>0&&T&&0==e.pendingStrongList.length&&c.push("\u8bf7\u9009\u62e9\u9700\u8981\u5904\u7406\u7684\u6d41\u6c34"),e.pendingStrongList.length&&T&&ot>it&&c.push("\u6838\u9500\u91d1\u989d\u4e0d\u53ef\u5927\u4e8e\u5f85\u652f\u4ed8\u91d1\u989d"),0==ot&&c.push("\u8bf7\u586b\u5199\u91d1\u989d"),rt>0&&(y=!0)}"STATE_SF_SFJM"==f&&(0==e.pendingStrongList.length&&c.push("\u8bf7\u9009\u62e9\u9700\u8981\u5904\u7406\u7684\u6d41\u6c34"),0==Math.abs(Number(e.amount))&&c.push("\u8bf7\u586b\u5199\u91d1\u989d"));break;case"SX_GRSF":y=!0,0==Math.abs(Number(e.amount))&&c.push("\u8bf7\u586b\u5199\u91d1\u989d");break;default:console.log("\u6821\u9a8c\u7a0e\u8d39\u652f\u51fa\u51fa\u9519")}break;case"LB_CQZC":0==Math.abs(Number(e.amount))&&c.push("\u8bf7\u586b\u5199\u91d1\u989d");var ct=t.get("currentAmount");if((Number(ct)>0||!p)&&(y=!0),!n)y=!(!t.get("isFullPayment")&&p);if(e.beCleaning){var ut=e.assets.originalAssetsAmount,st=e.assets.depreciationAmount;ut<=0&&c.push("\u8bf7\u586b\u5199\u8d44\u4ea7\u539f\u503c"),Number(st)>Number(ut)&&c.push("\u6298\u65e7\u989d\u4e0d\u80fd\u5927\u4e8e\u539f\u503c"),e.projectCardList[0].amount=e.assets.cleaningAmount}break;case"LB_YYWSR":case"LB_YYWZC":0==Math.abs(Number(e.amount))&&c.push("\u8bf7\u586b\u5199\u91d1\u989d");var dt=t.get("currentAmount");(Number(dt)>0||!p&&Number(e.amount)>0)&&(y=!0);break;case"LB_ZSKX":if(y=!0,0==Math.abs(Number(e.amount))&&c.push("\u8bf7\u586b\u5199\u91d1\u989d"),"STATE_ZS_TH"==f){var gt=[];e.pendingStrongList.map((function(t){t.beSelect&&gt.push({beSelect:!0,jrJvUuid:t.jrJvUuid,balanceUuid:t.balanceUuid})})),e.pendingStrongList=gt,0==gt.length&&c.push("\u8bf7\u9009\u62e9\u9700\u8981\u5904\u7406\u7684\u6d41\u6c34"),e.amount>t.get("jrAmount")&&c.push("\u91d1\u989d\u4e0d\u80fd\u5927\u4e8e\u6240\u6709\u672a\u5904\u7406\u91d1\u989d")}break;case"LB_ZFKX":if(y=!0,0==Math.abs(Number(e.amount))&&c.push("\u8bf7\u586b\u5199\u91d1\u989d"),"STATE_ZF_SH"==f){var ft=[];e.pendingStrongList.map((function(t){t.beSelect&&ft.push(t)})),e.pendingStrongList=ft,0==ft.length&&c.push("\u8bf7\u9009\u62e9\u9700\u8981\u5904\u7406\u7684\u6d41\u6c34"),e.amount>t.get("jrAmount")&&c.push("\u91d1\u989d\u4e0d\u80fd\u5927\u4e8e\u6240\u6709\u672a\u5904\u7406\u91d1\u989d")}break;case"LB_JK":if(e.amount<=0&&c.push("\u8bf7\u586b\u5199\u91d1\u989d"),"STATE_JK_JTLX"!=f&&(y=!0),T&&"STATE_JK_ZFLX"==f){var pt=[];S||l||e.pendingStrongList.map((function(t){t.beSelect&&pt.push(t)})),pt.length&&e.amount>t.get("jrAmount")&&c.push("\u91d1\u989d\u4e0d\u80fd\u5927\u4e8e\u6240\u6709\u672a\u5904\u7406\u91d1\u989d"),e.pendingStrongList=pt}break;case"LB_TZ":if(e.amount<=0&&c.push("\u8bf7\u586b\u5199\u91d1\u989d"),"STATE_TZ_JTGL"!=f&&"STATE_TZ_JTLX"!=f&&(y=!0),T&&("STATE_TZ_SRGL"==f||"STATE_TZ_SRLX"==f)){var Tt=[];S||l||e.pendingStrongList.map((function(t){t.beSelect&&Tt.push(t)})),Tt.length&&e.amount>t.get("jrAmount")&&c.push("\u91d1\u989d\u4e0d\u80fd\u5927\u4e8e\u6240\u6709\u672a\u5904\u7406\u91d1\u989d"),e.pendingStrongList=Tt}break;case"LB_ZB":if(e.amount<=0&&c.push("\u8bf7\u586b\u5199\u91d1\u989d"),"STATE_ZB_LRFP"!=f&&(y=!0),T&&"STATE_ZB_ZFLR"==f){var St=[];S||l||e.pendingStrongList.map((function(t){t.beSelect&&St.push(t)})),St.length&&e.amount>t.get("jrAmount")&&c.push("\u91d1\u989d\u4e0d\u80fd\u5927\u4e8e\u6240\u6709\u672a\u5904\u7406\u91d1\u989d"),e.pendingStrongList=St}break;case"LB_ZZ":var _t=t.getIn(["accounts",0,"accountUuid"]),Ct=t.getIn(["accounts",1,"accountUuid"]);if(e.amount<=0&&c.push("\u8bf7\u586b\u5199\u91d1\u989d"),_t||c.push("\u8bf7\u9009\u62e9\u8f6c\u51fa\u8d26\u6237"),Ct||c.push("\u8bf7\u9009\u62e9\u8f6c\u5165\u8d26\u6237"),_t==Ct&&c.push("\u8f6c\u51fa\u8d26\u6237\u548c\u8f6c\u5165\u8d26\u6237\u4e0d\u80fd\u76f8\u540c"),n&&j&&t.get("includesPoundage")){var Lt=t.getIn(["accounts",0,"poundageAmount"]);e.amount=Object(g.l)(Number(e.amount)-Number(Lt))}break;case"LB_SFGL":var lt=t.get("amount"),mt=t.get("moedAmount")?Number(t.get("moedAmount")):0,yt=(Number(t.get("jrAmount")),t.getIn(["pendingManageDto","isManualWriteOff"])),bt=[],At=!1,ht=0,Et=0;if(t.get("pendingStrongList").toJS().map((function(t){if(t.beSelect){var e={uuid:t.uuid,handleAmount:t.handleAmount,moedAmount:t.moedAmount};t.beOpened&&(e.beOpened=!0,e.categoryUuid=t.categoryUuid,t.beCard&&!t.categoryUuid&&(At=!0)),bt.push(e);var a=Number(t.handleAmount)?Number(t.handleAmount):0,n=Number(t.moedAmount)?Number(t.moedAmount):0;"debit"==t.direction?(ht+=Number(a),Et+=Number(n)):(ht-=Number(a),Et-=Number(n))}})),At&&c.push("\u8bf7\u9009\u62e9\u9700\u8981\u6838\u7b97\u7684\u6d41\u6c34\u7684\u7c7b\u522b"),0==bt.length&&c.push("\u8bf7\u9009\u62e9\u9700\u8981\u5904\u7406\u7684\u6d41\u6c34"),lt>0&&"STATE_SFGL"==f&&!h&&(y=!0),yt&&n){var It=Object(g.l)(Math.abs(lt)+Math.abs(mt)),Ot=Object(g.l)(Math.abs(ht)+Math.abs(Et));h&&Object(g.l)(A)!=It&&c.push("\u8d26\u6237\u91d1\u989d\u4e0e\u6536\u4ed8\u6b3e\u91d1\u989d\u4e0d\u76f8\u7b49"),It!=Ot&&c.push("\u6838\u9500\u91d1\u989d\u4e0e\u624b\u52a8\u6838\u9500\u9875\u9762\u91d1\u989d\u4e0d\u4e00\u81f4")}if(yt&&!n){var jt=Object(g.l)(Math.abs(lt));ht=Object(g.l)(Math.abs(ht)),Et=Object(g.l)(Math.abs(Et)),"STATE_SFGL"==f&&jt!=ht&&c.push("\u6536\u4ed8\u6b3e\u91d1\u989d\u4e0e\u624b\u52a8\u6838\u9500\u9875\u9762\u6838\u9500\u6536\u4ed8\u6b3e\u91d1\u989d\u4e0d\u4e00\u81f4"),"STATE_SFGL_ML"==f&&jt!=Et&&c.push("\u6536\u4ed8\u62b9\u96f6\u91d1\u989d\u4e0e\u624b\u52a8\u6838\u9500\u9875\u9762\u6838\u9500\u62b9\u96f6\u91d1\u989d\u4e0d\u4e00\u81f4")}h?y=!1:"STATE_SFGL"==f&&(e.accounts=e.accounts.slice(0,1)),e.pendingManageDto.pendingManageList=bt,e.pendingManageDto.isManualWriteOff=yt,e.amount=Math.abs(lt),e.moedAmount=Math.abs(mt);break;case"LB_JZCB":var vt=t.get("relationCategoryUuid"),Nt="STATE_YYSR_ZJ"==f;Nt&&!vt&&c.push("\u8bf7\u9009\u62e9\u5904\u7406\u7c7b\u522b");var Rt=[],Zt=[],Ut=t.get("stockCardList").toJS();Ut.every((function(t,e){if(Rt.push(t.cardUuid),t.amount=Number(t.amount),Nt&&t.isOpenedQuantity){0==t.amount&&0==t.quantity&&c.push("\u5b58\u8d27\u660e\u7ec6".concat(e+1,"\u6570\u91cf\u548c\u91d1\u989d\u4e0d\u80fd\u540c\u65f6\u4e3a0")),0!=t.amount&&0!=t.quantity&&t.amount*t.quantity<0&&c.push("\u5b58\u8d27\u660e\u7ec6".concat(e+1,"\u6570\u91cf\u548c\u91d1\u989d\u5e94\u8be5\u540c\u6b63\u8d1f")),0==t.quantity||t.unitUuid||c.push("\u5b58\u8d27\u660e\u7ec6".concat(e+1,"\u672a\u9009\u62e9\u5355\u4f4d")),t.financialInfo=t.financialInfo?t.financialInfo:{};var a=t.financialInfo.openAssist,n=t.financialInfo.openBatch,r=t.financialInfo.openShelfLife,o=t.financialInfo.openSerial,u=t.assistList?t.assistList:[];if(a)t.financialInfo.assistClassificationList.length!=u.length&&c.push("\u5b58\u8d27\u660e\u7ec6".concat(e+1,"\u5c5e\u6027\u672a\u9009\u62e9\u5b8c\u6574"));n&&(t.batch||c.push("\u5b58\u8d27\u660e\u7ec6".concat(e+1,"\u6279\u6b21\u672a\u9009\u62e9")),r&&!t.expirationDate&&c.push("\u5b58\u8d27\u660e\u7ec6".concat(e+1,"\u6279\u6b21\u672a\u9009\u62e9\u622a\u6b62\u65e5\u671f"))),o&&t.quantity<=0&&c.push("\u5b58\u8d27\u660e\u7ec6".concat(e+1,"\u672a\u9009\u62e9\u5e8f\u5217\u53f7"))}return i&&""==t.warehouseCardUuid&&c.push("\u5b58\u8d27\u660e\u7ec6".concat(e+1,"\u672a\u9009\u62e9\u4ed3\u5e93")),t.cardUuid}))||c.push("\u6709\u672a\u9009\u62e9\u7684\u5b58\u8d27\u5361\u7247"),Nt&&Ut.length>160&&c.push("\u5b58\u8d27\u884c\u6b21\u4e0d\u53ef\u8d85\u8fc7160\u884c"),!Nt&&Ut.length>80&&c.push("\u5b58\u8d27\u884c\u6b21\u4e0d\u53ef\u8d85\u8fc780\u884c"),t.get("pendingStrongList").forEach((function(t){t.get("beSelect")&&Zt.push(t.get("jrJvUuid"))})),"STATE_YYSR_ZJ"!=f&&0==Zt.length&&c.push("\u8bf7\u9009\u62e9\u9700\u8981\u5904\u7406\u7684\u6d41\u6c34"),"STATE_YYSR_ZJ"==f&&S&&(e.projectCard=e.projectCardList[0]),Nt&&(e.categoryUuid=vt),e.jrJvUuidList=Zt,e.stockCardList=Ut;break;case"LB_FPRZ":var Jt=[];e.pendingStrongList.map((function(t){t.beSelect&&Jt.push(t)})),0==Jt.length&&c.push("\u8bf7\u9009\u62e9\u9700\u8981\u5904\u7406\u7684\u6d41\u6c34"),e.amount<=0&&c.push("\u8bf7\u586b\u5199\u91d1\u989d"),e.amount>t.get("jrAmount")&&c.push("\u91d1\u989d\u4e0d\u80fd\u5927\u4e8e\u5f85\u8ba4\u8bc1\u7a0e\u989d"),"STATE_FPRZ_TG"==f&&(e.amount=-Math.abs(e.amount)),e.pendingStrongList=Jt;break;case"LB_KJFP":var Pt=[];e.pendingStrongList.map((function(t){t.beSelect&&Pt.push(t)})),0==Pt.length&&c.push("\u8bf7\u9009\u62e9\u9700\u8981\u5904\u7406\u7684\u6d41\u6c34"),e.amount<=0&&c.push("\u8bf7\u586b\u5199\u91d1\u989d"),e.amount>t.get("jrAmount")&&c.push("\u91d1\u989d\u4e0d\u80fd\u5927\u4e8e\u5f85\u5f00\u7968\u7a0e\u989d"),"STATE_KJFP_TS"==f&&(e.amount=-Math.abs(e.amount)),e.pendingStrongList=Pt;break;case"LB_ZCWJZZS":var Dt=0,Yt=0;t.get("pendingStrongList").forEach((function(t){"JR_STRONG_STAY_ZCXX"===t.get("pendingStrongType")?Dt+=t.get("taxAmount"):Yt+=t.get("taxAmount")})),0==t.get("pendingStrongList").size&&c.push("\u6ca1\u6709\u9700\u8981\u8f6c\u51fa\u7684\u6d41\u6c34"),Yt>Dt&&c.push("\u8fdb\u9879\u7a0e\u989d\u5927\u4e8e\u9500\u9879\u7a0e\u989d\uff0c\u65e0\u9700\u8f6c\u51fa\u672a\u4ea4\u589e\u503c\u7a0e");break;case"LB_JZSY":var kt=[],Bt=t.get("assets"),Ft=Bt.get("originalAssetsAmount"),Xt=Bt.get("depreciationAmount");e.pendingStrongList.map((function(t){t.beSelect&&kt.push(t)})),""==t.get("relationCategoryUuid")&&c.push("\u8bf7\u9009\u62e9\u5904\u7406\u7c7b\u522b"),0==kt.length&&c.push("\u8bf7\u9009\u62e9\u9700\u8981\u5904\u7406\u7684\u6d41\u6c34"),Ft<=0&&c.push("\u8bf7\u586b\u5199\u8d44\u4ea7\u539f\u503c"),Number(Xt)>Number(Ft)&&c.push("\u7d2f\u8ba1\u6298\u65e7\u4f59\u989d\u4e0d\u80fd\u5927\u4e8e\u8d44\u4ea7\u539f\u503c"),e.pendingStrongList=kt,e.categoryUuid=t.get("relationCategoryUuid");break;case"LB_ZJTX":""==t.get("relationCategoryUuid")&&c.push("\u8bf7\u9009\u62e9\u5904\u7406\u7c7b\u522b"),""==t.get("propertyCost")&&c.push("\u8bf7\u9009\u62e9\u8d39\u7528\u6027\u8d28"),0==Math.abs(Number(e.amount))&&c.push("\u8bf7\u586b\u5199\u91d1\u989d"),e.categoryUuid=t.get("relationCategoryUuid");break;case"LB_GGFYFT":C&&c.push("\u635f\u76ca\u516c\u5171\u8d39\u7528\u9879\u76ee\u5361\u7247\u672a\u9009\u62e9\u8d39\u7528\u6027\u8d28");var Gt=0;_.map((function(t){Gt+=Number(t.amount)})),Gt!=t.get("jrAmount")&&c.push("\u5206\u644a\u91d1\u989d\u5408\u8ba1\u4e0d\u7b49\u4e8e\u5f85\u5206\u644a\u91d1\u989d");var Mt=[],Ht=[];e.pendingStrongList.map((function(t){t.beSelect&&(t.beOpened?Ht.push(t.balanceUuid):Mt.push(t.jrJvUuid))})),0==Mt.length&&0==Ht.length&&c.push("\u8bf7\u9009\u62e9\u9700\u8981\u5904\u7406\u7684\u6d41\u6c34"),Mt.length+Ht.length+_.length>160&&c.push("\u5206\u644a\u9879\u76ee\u548c\u5f85\u5904\u7406\u6d41\u6c34\u7684\u5408\u8ba1\u4e0d\u53ef\u8d85\u8fc7160\u884c"),e.jrJvUuidList=Mt,e.balanceUuidList=Ht,e.usedProject=!0;break;case"LB_CHDB":var wt=t.getIn(["warehouseCardList",0,"cardUuid"]),zt=t.getIn(["warehouseCardList",1,"cardUuid"]),xt=[],Qt=!1,Wt=0,Kt=!1,qt=!1,Vt=t.get("stockCardList").toJS();Vt.every((function(t,e){xt.push(t.cardUuid),t.isOpenedQuantity?(t.quantity<=0&&(Qt=!0),t.isUniformPrice||(t.amount<=0&&(Kt=!0),t.price<=0&&(qt=!0))):t.amount<=0&&(Kt=!0),t.financialInfo=t.financialInfo?t.financialInfo:{};var a=t.financialInfo.openAssist,n=t.financialInfo.openBatch,r=t.financialInfo.openShelfLife,i=t.financialInfo.openSerial,o=t.assistList?t.assistList:[];a&&(t.financialInfo.assistClassificationList.length!=o.length&&c.push("\u5b58\u8d27\u660e\u7ec6".concat(e+1,"\u5c5e\u6027\u672a\u9009\u62e9\u5b8c\u6574")));return n&&(t.batch||c.push("\u5b58\u8d27\u660e\u7ec6".concat(e+1,"\u6279\u6b21\u672a\u9009\u62e9")),r&&!t.expirationDate&&c.push("\u5b58\u8d27\u660e\u7ec6".concat(e+1,"\u6279\u6b21\u672a\u9009\u62e9\u622a\u6b62\u65e5\u671f"))),i&&Qt&&c.push("\u5b58\u8d27\u660e\u7ec6".concat(e+1,"\u672a\u9009\u62e9\u5e8f\u5217\u53f7")),Wt+=Number(t.amount),t.cardUuid}));wt||c.push("\u8bf7\u9009\u62e9\u8c03\u51fa\u4ed3\u5e93"),zt||c.push("\u8bf7\u9009\u62e9\u8c03\u5165\u4ed3\u5e93"),wt==zt&&c.push("\u8c03\u51fa\u4ed3\u5e93\u548c\u8c03\u5165\u4ed3\u5e93\u4e0d\u80fd\u76f8\u540c"),Qt&&c.push("\u5b58\u8d27\u660e\u7ec6\u6709\u672a\u586b\u5199\u7684\u6570\u91cf"),qt&&c.push("\u5b58\u8d27\u660e\u7ec6\u7684\u5355\u4ef7\u5fc5\u586b\u4e14\u9700\u5927\u4e8e0"),Kt&&c.push("\u5b58\u8d27\u660e\u7ec6\u7684\u91d1\u989d\u5fc5\u586b\u4e14\u9700\u5927\u4e8e0"),Vt.length>80&&c.push("\u5b58\u8d27\u884c\u6b21\u4e0d\u53ef\u8d85\u8fc780\u884c"),e.amount=Wt;break;case"LB_CHYE":switch(f){case"STATE_CHYE":e.jrState="";break;case"STATE_CHYE_CK":e.jrState="STATE_CHYE_CK";break;case"STATE_CHYE_CH":e.jrState="STATE_CHYE_CH"}var $t=t.get("stockCardList").toJS();$t[0].isUniformPrice;$t.forEach((function(t,e){var a=!1,n=!1,r=!1;if(t.cardUuid){t.isOpenedQuantity?(0==t.amount&&0==t.quantity&&(n=!0),0!=t.amount&&0!=t.quantity&&t.amount*t.quantity<0&&(r=!0)):0==t.amount&&(a=!0),a&&c.push("\u5b58\u8d27\u660e\u7ec6".concat(e+1,"\u7684\u8c03\u6574\u91d1\u989d\u4e0d\u80fd\u4e3a0")),n&&c.push("\u5b58\u8d27\u660e\u7ec6".concat(e+1,"\u6570\u91cf\u6216\u91d1\u989d\u81f3\u5c11\u4e00\u9879\u4e0d\u4e3a0")),r&&c.push("\u5b58\u8d27\u660e\u7ec6".concat(e+1,"\u6570\u91cf\u548c\u91d1\u989d\u5e94\u8be5\u540c\u6b63\u8d1f")),t.financialInfo=t.financialInfo?t.financialInfo:{};var i=t.financialInfo.openAssist,o=t.financialInfo.openBatch,u=t.financialInfo.openShelfLife,s=(t.financialInfo.openSerial,t.assistList?t.assistList:[]);if(i)t.financialInfo.assistClassificationList.length!=s.length&&c.push("\u5b58\u8d27\u660e\u7ec6".concat(e+1,"\u5c5e\u6027\u672a\u9009\u62e9\u5b8c\u6574"));o&&(t.batch||c.push("\u5b58\u8d27\u660e\u7ec6".concat(e+1,"\u6279\u6b21\u672a\u9009\u62e9")),u&&!t.expirationDate&&c.push("\u5b58\u8d27\u660e\u7ec6".concat(e+1,"\u6279\u6b21\u672a\u9009\u62e9\u622a\u6b62\u65e5\u671f")))}else c.push("\u5b58\u8d27\u660e\u7ec6".concat(e+1,"\u672a\u9009\u62e9\u5361\u7247"))})),$t.length>160&&c.push("\u5b58\u8d27\u884c\u6b21\u4e0d\u53ef\u8d85\u8fc7160\u884c");break;case"LB_JXSEZC":if(t.get("relationCategoryUuid")||c.push("\u8bf7\u9009\u62e9\u5904\u7406\u7c7b\u522b"),t.get("usedStock")){var te=t.get("stockCardList").toJS(),ee=!1,ae=!1,ne=0;te.every((function(t,e){return 0==t.amount&&(ae=!0),i&&""==t.warehouseCardUuid&&(ee=!0),ne+=Number(t.amount),t.cardUuid}))||c.push("\u6709\u672a\u9009\u62e9\u7684\u5b58\u8d27\u5361\u7247"),ae&&c.push("\u6709\u672a\u586b\u5199\u7684\u7a0e\u989d"),ee&&c.push("\u5b58\u8d27\u660e\u7ec6\u6709\u672a\u9009\u62e9\u7684\u4ed3\u5e93"),te.length>160&&c.push("\u5b58\u8d27\u884c\u6b21\u4e0d\u53ef\u8d85\u8fc7160\u884c"),e.amount=Object(g.l)(ne)}else e.stockCardList=[];0==Math.abs(Number(e.amount))&&c.push("\u8bf7\u586b\u5199\u7a0e\u989d");break;case"LB_CHZZ":if("STATE_CHZZ_ZZCX"==f){var re=0,ie=0;e.stockCardList.forEach((function(t,a){var n=t.amount?Number(t.amount):0;if(re+=Number(n),!t.cardUuid)return e.stockCardList.splice(a,1),!1;t.amount<=0&&c.push("\u7269\u6599\u660e\u7ec6".concat(a+1,"\u672a\u586b\u5199\u91d1\u989d")),t.isOpenedQuantity&&(t.quantity<=0?c.push("\u7269\u6599\u660e\u7ec6".concat(a+1,"\u672a\u586b\u5199\u6570\u91cf")):t.unitUuid||c.push("\u7269\u6599\u660e\u7ec6".concat(a+1,"\u672a\u9009\u62e9\u5355\u4f4d"))),i&&""==t.warehouseCardUuid&&c.push("\u7269\u6599\u660e\u7ec6".concat(a+1,"\u672a\u9009\u62e9\u4ed3\u5e93")),t.financialInfo=t.financialInfo?t.financialInfo:{};var r=t.financialInfo.openAssist,o=t.financialInfo.openBatch,u=t.financialInfo.openShelfLife,s=(t.financialInfo.openSerial,t.assistList?t.assistList:[]);r&&(t.financialInfo.assistClassificationList.length!=s.length&&c.push("\u7269\u6599\u660e\u7ec6".concat(a+1,"\u5c5e\u6027\u672a\u9009\u62e9\u5b8c\u6574")));o&&(t.batch||c.push("\u7269\u6599\u660e\u7ec6".concat(a+1,"\u6279\u6b21\u672a\u9009\u62e9")),u&&!t.expirationDate&&c.push("\u7269\u6599\u660e\u7ec6".concat(a+1,"\u6279\u6b21\u672a\u9009\u62e9\u622a\u6b62\u65e5\u671f")))})),e.stockCardOtherList.forEach((function(t,a){var n=t.amount?Number(t.amount):0;if(ie+=Number(n),!t.cardUuid)return e.stockCardOtherList.splice(a,1),!1;t.amount<=0&&c.push("\u6210\u54c1\u660e\u7ec6".concat(a+1,"\u672a\u586b\u5199\u91d1\u989d")),t.isOpenedQuantity&&(t.quantity<=0?c.push("\u6210\u54c1\u660e\u7ec6".concat(a+1,"\u672a\u586b\u5199\u6570\u91cf")):t.unitUuid||c.push("\u6210\u54c1\u660e\u7ec6".concat(a+1,"\u672a\u9009\u62e9\u5355\u4f4d"))),i&&""==t.warehouseCardUuid&&c.push("\u6210\u54c1\u660e\u7ec6".concat(a+1,"\u672a\u9009\u62e9\u4ed3\u5e93")),t.financialInfo=t.financialInfo?t.financialInfo:{};var r=t.financialInfo.openAssist,o=t.financialInfo.openBatch,u=t.financialInfo.openShelfLife,s=(t.financialInfo.openSerial,t.assistList?t.assistList:[]);r&&(t.financialInfo.assistClassificationList.length!=s.length&&c.push("\u6210\u54c1\u660e\u7ec6".concat(a+1,"\u5c5e\u6027\u672a\u9009\u62e9\u5b8c\u6574")));o&&(t.batch||c.push("\u6210\u54c1\u660e\u7ec6".concat(a+1,"\u6279\u6b21\u672a\u9009\u62e9")),u&&!t.expirationDate&&c.push("\u6210\u54c1\u660e\u7ec6".concat(a+1,"\u6279\u6b21\u672a\u9009\u62e9\u622a\u6b62\u65e5\u671f")))})),Object(g.l)(re)!=Object(g.l)(ie)&&c.push("\u7269\u6599\u548c\u6210\u54c1\u7684\u5408\u8ba1\u91d1\u989d\u5fc5\u987b\u76f8\u7b49"),Object(g.l)(e.stockCardList.length+e.stockCardOtherList.length)>160&&c.push("\u6210\u54c1\u548c\u7269\u6599\u7684\u5b58\u8d27\u5408\u8ba1\u4e0d\u53ef\u8d85\u8fc7160\u884c")}if("STATE_CHZZ_ZZD"==f){var oe=0;e.stockCardList.forEach((function(t,a){if(t.cardUuid){oe++;var n=0;t.isOpenedQuantity&&(t.quantity<=0?c.push("\u7ec4\u88c5\u6210\u54c1".concat(a+1,"\u672a\u586b\u5199\u6570\u91cf")):t.unitUuid||c.push("\u7ec4\u88c5\u6210\u54c1".concat(a+1,"\u672a\u9009\u62e9\u5355\u4f4d"))),i&&""==t.warehouseCardUuid&&c.push("\u7ec4\u88c5\u6210\u54c1".concat(a+1,"\u672a\u9009\u62e9\u4ed3\u5e93")),t.financialInfo=t.financialInfo?t.financialInfo:{};var r=t.financialInfo.openAssist,o=t.financialInfo.openBatch,u=t.financialInfo.openShelfLife,s=(t.financialInfo.openSerial,t.assistList?t.assistList:[]);if(r)t.financialInfo.assistClassificationList.length!=s.length&&c.push("\u7ec4\u88c5\u6210\u54c1".concat(a+1,"\u5c5e\u6027\u672a\u9009\u62e9\u5b8c\u6574"));o&&(t.batch||c.push("\u7ec4\u88c5\u6210\u54c1".concat(a+1,"\u6279\u6b21\u672a\u9009\u62e9")),u&&!t.expirationDate&&c.push("\u7ec4\u88c5\u6210\u54c1".concat(a+1,"\u6279\u6b21\u672a\u9009\u62e9\u622a\u6b62\u65e5\u671f"))),t.childCardList.forEach((function(t,a){if(t.cardUuid){t.isOpenedQuantity&&(t.quantity<=0?c.push("\u7269\u6599\u660e\u7ec6".concat(a+1,"\u672a\u586b\u5199\u6570\u91cf")):t.unitUuid||c.push("\u7269\u6599\u660e\u7ec6".concat(a+1,"\u672a\u9009\u62e9\u5355\u4f4d"))),i&&""==t.warehouseCardUuid&&c.push("\u7269\u6599\u660e\u7ec6".concat(a+1,"\u672a\u9009\u62e9\u4ed3\u5e93")),t.amount<=0&&c.push("\u7269\u6599\u660e\u7ec6".concat(a+1,"\u672a\u586b\u5199\u91d1\u989d")),n+=Number(t.amount),t.financialInfo=t.financialInfo?t.financialInfo:{};var r=t.financialInfo.openAssist,o=t.financialInfo.openBatch,u=t.financialInfo.openShelfLife,s=(t.financialInfo.openSerial,t.assistList?t.assistList:[]);if(r)t.financialInfo.assistClassificationList.length!=s.length&&c.push("\u7269\u6599\u660e\u7ec6".concat(a+1,"\u5c5e\u6027\u672a\u9009\u62e9\u5b8c\u6574"));o&&(t.batch||c.push("\u7269\u6599\u660e\u7ec6".concat(a+1,"\u6279\u6b21\u672a\u9009\u62e9")),u&&!t.expirationDate&&c.push("\u7269\u6599\u660e\u7ec6".concat(a+1,"\u6279\u6b21\u672a\u9009\u62e9\u622a\u6b62\u65e5\u671f")))}else e.stockCardList.childCardList.splice(a,1)})),e.stockCardList[a].amount=n}else e.stockCardList.splice(a,1)})),oe+function(t){var e=[],a=[],n=[];t.map((function(t){t.childCardList.map((function(t){e.push(t)}))})),e.map((function(t,e){var r=t.cardUuid,i=t.warehouseCardUuid?t.warehouseCardUuid:"",o=t.unitUuid?t.unitUuid:"",c=t.batch?t.batch:"",u=t.warehouseCardCode;t.unitUuid=o,t.warehouseCardUuid=i,t.warehouseCardCode=u||"";var s=t.assistList?t.assistList.map((function(t){return t.propertyUuid})).sort():[],d="".concat(r,"_").concat(i,"_").concat(o,"_").concat(c,"_").concat(s.join("_"));if(t.allPropertyStr=d,r)if(a.includes(r)){var g=a.findIndex((function(t){return t==r})),f=!1;n[g].forEach((function(t){t.allPropertyStr==d&&(f=!0)})),f||n[g].push(t)}else n.push([t]),a.push(r)}));var r=[];return n.map((function(t,e){t.map((function(t){r.push(t)}))})),r.length}(e.stockCardList)>160&&c.push("\u6210\u54c1\u548c\u7269\u6599\u6c47\u603b\u7684\u5408\u8ba1\u4e0d\u53ef\u8d85\u8fc7160\u884c")}break;case"LB_CHTRXM":e.stockCardList.forEach((function(t,a){t.amount&&Number(t.amount);if(!t.cardUuid)return e.stockCardList.splice(a,1),!1;t.amount<=0&&c.push("\u5b58\u8d27\u660e\u7ec6".concat(a+1,"\u672a\u586b\u5199\u91d1\u989d")),t.isOpenedQuantity&&(t.quantity<=0||t.unitUuid||c.push("\u5b58\u8d27\u660e\u7ec6".concat(a+1,"\u672a\u9009\u62e9\u5355\u4f4d"))),i&&""==t.warehouseCardUuid&&c.push("\u5b58\u8d27\u660e\u7ec6".concat(a+1,"\u672a\u9009\u62e9\u4ed3\u5e93")),t.financialInfo=t.financialInfo?t.financialInfo:{};var n=t.financialInfo.openAssist,r=t.financialInfo.openBatch,o=t.financialInfo.openShelfLife,u=t.financialInfo.openSerial,s=t.assistList?t.assistList:[];n&&(t.financialInfo.assistClassificationList.length!=s.length&&c.push("\u5b58\u8d27\u660e\u7ec6".concat(a+1,"\u5c5e\u6027\u672a\u9009\u62e9\u5b8c\u6574")));r&&(t.batch||c.push("\u5b58\u8d27\u660e\u7ec6".concat(a+1,"\u6279\u6b21\u672a\u9009\u62e9")),o&&!t.expirationDate&&c.push("\u5b58\u8d27\u660e\u7ec6".concat(a+1,"\u6279\u6b21\u672a\u9009\u62e9\u622a\u6b62\u65e5\u671f"))),u&&t.quantity<=0&&c.push("\u5b58\u8d27\u660e\u7ec6".concat(a+1,"\u672a\u9009\u62e9\u5e8f\u5217\u53f7"))})),e.stockCardList.length>160&&c.push("\u5b58\u8d27\u884c\u6b21\u4e0d\u53ef\u8d85\u8fc7160\u884c");break;case"LB_XMJZ":var ce=!0,ue=_[0].projectProperty,se=Number(e.amount),de=Number(e.currentAmount);if("STATE_XMJZ_XMJQ"==f)if("XZ_CONSTRUCTION"==ue){var ge=Number(t.get("jrAmount"));n&&0!=ge&&Object(g.l)(se-de)!=Object(g.l)(ge)&&c.push("\u5408\u540c\u6bdb\u5229\u4e0d\u7b49\u4e8e\u5f85\u786e\u8ba4\u5408\u540c\u6bdb\u5229\uff0c\u65e0\u6cd5\u7ed3\u6e05"),n||(e.amount="",e.currentAmount="")}else Number(t.get("jrAmount"))<=0&&(ce=!1,e.stockCardList=[],Number(t.get("jrAmount"))<0&&c.push("\u9879\u76ee\u53d1\u751f\u91d1\u989d\u5c0f\u4e8e\u5df2\u5165\u5e93\u91d1\u989d"));"XZ_CONSTRUCTION"==ue&&(ce=!1,e.stockCardList=[]),ce&&e.stockCardList.forEach((function(t,a){t.amount&&Number(t.amount);if(!t.cardUuid)return e.stockCardList.splice(a,1),!1;t.amount<=0&&c.push("\u5b58\u8d27\u660e\u7ec6".concat(a+1,"\u672a\u586b\u5199\u91d1\u989d")),t.isOpenedQuantity&&(t.quantity<=0||t.unitUuid||c.push("\u5b58\u8d27\u660e\u7ec6".concat(a+1,"\u672a\u9009\u62e9\u5355\u4f4d"))),i&&""==t.warehouseCardUuid&&c.push("\u5b58\u8d27\u660e\u7ec6".concat(a+1,"\u672a\u9009\u62e9\u4ed3\u5e93")),t.financialInfo=t.financialInfo?t.financialInfo:{};var n=t.financialInfo.openAssist,r=t.financialInfo.openBatch,o=t.financialInfo.openShelfLife,u=t.financialInfo.openSerial,s=t.assistList?t.assistList:[];n&&(t.financialInfo.assistClassificationList.length!=s.length&&c.push("\u5b58\u8d27\u660e\u7ec6".concat(a+1,"\u5c5e\u6027\u672a\u9009\u62e9\u5b8c\u6574")));r&&(t.batch||c.push("\u5b58\u8d27\u660e\u7ec6".concat(a+1,"\u6279\u6b21\u672a\u9009\u62e9")),o&&!t.expirationDate&&c.push("\u5b58\u8d27\u660e\u7ec6".concat(a+1,"\u6279\u6b21\u672a\u9009\u62e9\u622a\u6b62\u65e5\u671f"))),u&&t.quantity<=0&&c.push("\u5b58\u8d27\u660e\u7ec6".concat(a+1,"\u672a\u9009\u62e9\u5e8f\u5217\u53f7"))})),ce&&e.stockCardList.length>160&&c.push("\u5b58\u8d27\u884c\u6b21\u4e0d\u53ef\u8d85\u8fc7160\u884c");var fe=[],pe=[];"STATE_XMJZ_XMJQ"==f&&(t.get("pendingStrongList").forEach((function(t){t.get("beOpened")?pe.push(t.get("balanceUuid")):fe.push(t.get("jrJvUuid"))})),e.jrJvUuidList=fe,e.balanceUuidList=pe),"STATE_XMJZ_QRSRCB"==f&&0==se&&0==de&&c.push("\u6536\u5165\u91d1\u989d\u548c\u6210\u672c\u91d1\u989d\u81f3\u5c11\u586b\u5199\u4e00\u9879")}if(y&&!t.getIn(["accounts",0,"accountUuid"])&&c.push("\u8bf7\u9009\u62e9\u8d26\u6237"),!h&&!y&&e.accounts&&e.accounts.length&&""==e.accounts[0].accountUuid&&(e.accounts=[]),e.billList&&-1==e.billList[0].taxRate){var Te=e.billList[0].tax;0==Math.abs(Number(Te))&&c.push("\u8bf7\u586b\u5199\u7a0e\u989d"),Math.abs(Number(Te))>Math.abs(Number(e.amount))&&c.push("\u7a0e\u989d\u4e0d\u80fd\u5927\u4e8e\u4ef7\u7a0e\u5408\u8ba1"),e.amount*Te<0&&c.push("\u7a0e\u989d\u548c\u91d1\u989d\u5fc5\u987b\u540c\u6b63\u8d1f")}return c}(e.get("oriTemp"),b,0,L,0,p);return h.length?i.a.toast.info(h[0]):!L&&!l&&(b.oriUuid=S.oriUuid,b.jrUuid=S.jrUuid,b.jrIndex=S.jrIndex,b.encodeType=S.encodeType,""==S.jrIndex||S.jrIndex.length>6)?i.a.toast.info("\u6d41\u6c34\u53f7\u4e0d\u80fd\u4e3a\u7a7a\u4e14\u4e0d\u80fd\u8d85\u8fc76\u4f4d"):(i.a.toast.loading(o.p,0),void Object(c.a)(m,"POST",JSON.stringify(Object(n.a)({},b,{projectCardList:b.usedProject?b.projectCardList:void 0,enclosureList:y})),(function(e){if(i.a.toast.hide(),0!==e.code)i.a.toast.fail("".concat(e.code," ").concat(e.message));else{if(!L&&e.data.encodeType){var a=[{key:"1",value:"\u7cfb\u7edf\u81ea\u52a8\u7f16\u53f7"},{key:"2",value:"\u63d2\u5165\u6d41\u6c34\u53f7"}];return"1"==e.data.encodeType&&(a=[{key:"1",value:"\u7cfb\u7edf\u81ea\u52a8\u7f16\u53f7"}]),"2"==e.data.encodeType&&(a=[{key:"2",value:"\u63d2\u5165\u6d41\u6c34\u53f7"}]),void T("2"==e.data.encodeType?"2":"1",a)}if(e.data.jrIndexList?i.a.toast.success("\u5df2\u751f\u6210\u5982\u4e0b\u6d41\u6c34\uff1a\u8bb0 ".concat(e.data.jrIndex," \u53f7").concat(e.data.jrIndexList.map((function(t,e){return"\u3001\u8bb0 ".concat(t," \u53f7")}))),2):L&&e.data.jrIndex?i.a.toast.success("\u5df2\u751f\u6210\u5982\u4e0b\u6d41\u6c34\uff1a\u8bb0 ".concat(e.data.jrIndex," \u53f7"),2):i.a.toast.success("\u4fdd\u5b58\u6210\u529f",2),r)t(f.getCardDetail(S.categoryUuid)),t(f.changeLrlsEnclosureList());else{var n=L||l?e.data.oriUuid:b.oriUuid;t(f.getOriRunning(n))}}})))}function T(t,e,a,n){var i=t.get("categoryType"),o=!!["SX_HW","SX_HW_FW"].includes(t.get("propertyCarryover")),c=t.getIn([d.a[i],"beManagemented"]),u=t.getIn([d.a[i],"beAccrued"]),s=t.getIn([d.a[i],"contactsManagement"]);if(t.get("beProject")){var p=t.get("projectRange");e(f.getProjectCardList(p)),e(f.getProjectTreeList())}else a&&e(f.changeLrlsData("projectList",Object(r.fromJS)([]),!0));switch(s&&(e(f.getCardList("contactsRange")),e(f.getCurrentTree()),a||e(f.changeLrlsData(["oriTemp","usedCurrent"],!0))),!s&&a&&e(f.changeLrlsData("currentList",Object(r.fromJS)([]),!0)),i){case"LB_YYSR":case"LB_YYZC":o&&(e(f.getCardList("stockRange")),e(f.getCostStockCategory())),!a&&c&&e(f.getYysrYyzcAmount());break;case"LB_FYZC":!a&&c&&e(f.getYysrYyzcAmount());break;case"LB_SFZC":if(a)break;var T=t.get("propertyTax");"SX_ZZS"==T&&(e(f.getSfzcZzsList()),e(f.getSfzcNotPayList())),!u||"SX_QTSF"!=T&&"SX_QYSDS"!=T||e(f.getSfzcNotPayList()),"SX_GRSF"==T&&e(f.getSfzcNotHandleAmount());break;case"LB_XCZC":var S=t.get("propertyPay"),_=t.getIn([d.a[i],"beWelfare"]);if("SX_GZXJ"==S&&u){if(a&&"MODIFY"==n)break;e(f.getPaymentInfo()),e(f.getSfzcNotHandleAmount())}if(["SX_SHBX","SX_ZFGJJ"].includes(S)){if(a&&"MODIFY"==n)break;e(f.getPaymentInfo())}if(u||_){if(a&&"MODIFY"==n)break;e(f.getXczcPaymentList())}break;case"LB_JK":a&&"COPY"==n&&e(f.getJkPendingStrongList());break;case"LB_TZ":a&&"COPY"==n&&e(f.getTzPendingStrongList());break;case"LB_ZB":a&&"COPY"==n&&e(f.getZbPendingStrongList());break;case"LB_SFGL":if(a)break;e(f.getSfglCardList()),e(f.getSfglCategoryList()),e(f.getSfglList());break;case"LB_JZCB":if(a)break;e(f.getJzcbList()),e(f.getJzcbCategoryList()),e(f.getCostStockCategory()),e(f.getCostStockByCategory("",!0)),e(f.getJzcbWarehouseList());break;case"LB_ZCWJZZS":if(a)break;var C=(new g.a).valueOf().slice(0,7);e(f.changeLrlsData(["oriTemp","handleMonth"],C)),e(f.getWjzzsList(C));break;case"LB_GGFYFT":if(e(f.getGgfyftProjectList()),e(f.getProjectTreeList()),e(f.getProjectShareType()),a)break;e(f.getGgfyftList());break;case"LB_FPRZ":if(a)break;e(f.getFprzList());break;case"LB_KJFP":if(a)break;e(f.getKjfpList());break;case"LB_JZSY":if(a)break;e(f.getCqzcCategoryList("LB_JZSY"));break;case"LB_ZJTX":if(a)break;e(f.getCqzcCategoryList("LB_ZJTX"));break;case"LB_CHDB":case"LB_CHYE":e(f.getCardList("stockRange")),e(f.getCostStockCategory());break;case"LB_JXSEZC":if(a){o&&(e(f.getCardList("stockRange")),e(f.getCostStockCategory()));break}e(f.getJxsezcCategory());break;case"LB_CHZZ":e(f.getCostStockCategory()),e(f.getStockListByCategory({top:!0,uuid:""},"stockRange"));break;case"LB_CHTRXM":e(f.getProjectTreeList()),e(f.getGgfyftProjectList()),e(f.getCardList("stockRange")),e(f.getCostStockCategory());break;case"LB_XMJZ":e(f.getProjectTreeList()),e(f.getXmjzProjectList()),e(f.getCardList("stockRange")),e(f.getCostStockCategory()),a&&e(f.getXmjzList(!0));break;default:console.log("\u65e0\u9700\u83b7\u53d6\u5361\u7247")}}function S(t,e){e.get("propertyCarryover");var a=e.get("categoryName")?e.get("categoryName"):e.get("name"),n=e.get("propertyPay"),r=e.get("propertyTax");return{STATE_YYSR_DJ:"\u6536\u5230\u9884\u6536\u6b3e",STATE_YYSR_XS:a,STATE_YYSR_TS:a,STATE_YYZC_DJ:"\u652f\u4ed8\u9884\u4ed8\u6b3e",STATE_YYZC_GJ:a,STATE_YYZC_TG:a,STATE_FY_DJ:"\u652f\u4ed8\u9884\u4ed8\u6b3e",STATE_FY:"".concat(a,"\u652f\u51fa"),STATE_XC_JT:"\u8ba1\u63d0".concat({SX_GZXJ:"\u5de5\u8d44\u85aa\u91d1",SX_SHBX:"\u793e\u4f1a\u4fdd\u9669'\u516c\u53f8'\u90e8\u5206",SX_ZFGJJ:"\u4f4f\u623f\u516c\u79ef\u91d1'\u516c\u53f8'\u90e8\u5206",SX_FLF:"\u798f\u5229\u8d39",SX_QTXC:a}[n]),STATE_XC_FF:"".concat("SX_FLF"==n?"\u652f\u4ed8":"\u53d1\u653e").concat({SX_GZXJ:"\u5de5\u8d44\u85aa\u91d1",SX_QTXC:a,SX_FLF:"\u798f\u5229\u8d39"}[n]),STATE_XC_JN:"\u7f34\u7eb3".concat({SX_SHBX:"\u793e\u4f1a\u4fdd\u9669",SX_ZFGJJ:"\u4f4f\u623f\u516c\u79ef\u91d1"}[n]),STATE_XC_YF:"\u798f\u5229\u8d39\u652f\u51fa",STATE_SF_YJZZS:"\u9884\u7f34\u589e\u503c\u7a0e",STATE_SF_JN:"".concat({SX_QYSDS:"\u7f34\u7eb3\u4f01\u4e1a\u6240\u5f97\u7a0e",SX_GRSF:"\u4ee3\u7f34\u4e2a\u4eba\u7a0e\u8d39",SX_QTSF:"\u7f34\u7eb3".concat(a),SX_ZZS:"\u7f34\u7eb3\u589e\u503c\u7a0e"}[r]),STATE_SF_JT:"\u8ba1\u63d0".concat({SX_QYSDS:"\u4f01\u4e1a\u6240\u5f97\u7a0e",SX_GRSF:"\u4e2a\u4eba\u7a0e\u8d39",SX_QTSF:"".concat(a),SX_ZZS:"\u589e\u503c\u7a0e"}[r]),STATE_SF_ZCWJZZS:"\u8f6c\u51fa\u672a\u4ea4\u589e\u503c\u7a0e",STATE_YYWSR:a,STATE_YYWZC:a,STATE_ZS_SQ:"\u6682\u6536\u6b3e",STATE_ZS_TH:"\u6682\u6536\u6b3e\u9000\u8fd8",STATE_ZF_FC:"\u6682\u4ed8\u6b3e",STATE_ZF_SH:"\u6682\u4ed8\u6b3e\u6536\u56de",STATE_CQZC_WF:"\u8d2d\u8fdb\u8d44\u4ea7\u652f\u51fa",STATE_CQZC_YF:"\u8d2d\u8fdb\u8d44\u4ea7\u652f\u51fa",STATE_CQZC_WS:"\u5904\u7f6e\u8d44\u4ea7\u6536\u5165",STATE_CQZC_YS:"\u5904\u7f6e\u8d44\u4ea7\u6536\u5165",STATE_JK_YS:"\u6536\u5230\u501f\u6b3e",STATE_JK_JTLX:"\u8ba1\u63d0\u501f\u6b3e\u5229\u606f",STATE_JK_ZFLX:"\u652f\u4ed8\u501f\u6b3e\u5229\u606f",STATE_JK_YF:"\u507f\u8fd8\u672c\u91d1\u652f\u51fa",STATE_TZ_YF:"\u5bf9\u5916\u6295\u8d44\u652f\u51fa",STATE_TZ_SRGL:"\u6536\u5230\u6295\u8d44\u6536\u76ca",STATE_TZ_JTGL:"\u8ba1\u63d0\u6295\u8d44\u6536\u76ca",STATE_TZ_JTLX:"\u8ba1\u63d0\u6295\u8d44\u6536\u76ca",STATE_TZ_SRLX:"\u6536\u5230\u6295\u8d44\u6536\u76ca",STATE_TZ_WS:"\u6536\u56de\u6295\u8d44\u6b3e",STATE_TZ_YS:"\u6536\u56de\u6295\u8d44\u6b3e",STATE_ZB_ZZ:"\u53d6\u5f97\u8d27\u5e01\u8d44\u672c",STATE_ZB_ZFLR:"\u652f\u4ed8\u5206\u914d\u5229\u6da6",STATE_ZB_LRFP:"\u8ba1\u63d0\u5206\u914d\u5229\u6da6",STATE_ZB_JZ:"\u51cf\u5c11\u6ce8\u518c\u8d44\u672c",STATE_ZB_ZBYJ:"\u8d44\u672c\u6ea2\u4ef7",STATE_ZZ:"\u5185\u90e8\u8f6c\u8d26",STATE_KJFP_XS:"\u6536\u5165\u5f00\u5177\u53d1\u7968",STATE_KJFP_TS:"\u9000\u9500\u5f00\u5177\u7ea2\u5b57\u53d1\u7968",STATE_FPRZ_CG:"\u589e\u503c\u7a0e\u4e13\u7528\u53d1\u7968\u8ba4\u8bc1",STATE_FPRZ_TG:"\u9000\u8d2d\u53d1\u7968\u8ba4\u8bc1",STATE_CQZC_JZSY:"\u957f\u671f\u8d44\u4ea7\u5904\u7f6e\u635f\u76ca",STATE_CQZC_ZJTX:"\u957f\u671f\u8d44\u4ea7\u6298\u65e7\u644a\u9500",STATE_ZCWJZZS:"\u8f6c\u51fa\u672a\u4ea4\u589e\u503c\u7a0e",STATE_SFGL:"\u6838\u9500\u8d26\u6b3e",STATE_GGFYFT:"\u516c\u5171\u8d39\u7528\u5206\u644a",STATE_FZSCCB:"\u9879\u76ee\u5206\u644a",STATE_ZZFY:"\u9879\u76ee\u5206\u644a",STATE_JJFY:"\u9879\u76ee\u5206\u644a",STATE_JXZY:"\u9879\u76ee\u5206\u644a",STATE_CHDB:"\u5b58\u8d27\u8c03\u62e8",STATE_CHYE_CK:"\u5b58\u8d27\u4f59\u989d\u8c03\u6574",STATE_CHYE_CH:"\u5b58\u8d27\u4f59\u989d\u8c03\u6574",STATE_CHYE_TYDJ:"\u5b58\u8d27\u4f59\u989d\u8c03\u6574",STATE_CHYE:"\u5b58\u8d27\u4f59\u989d\u8c03\u6574",STATE_JXSEZC_FS:"\u8fdb\u9879\u7a0e\u989d\u8f6c\u51fa",STATE_JXSEZC_TFS:"\u8fdb\u9879\u7a0e\u989d\u8f6c\u51fa",STATE_CHZZ_ZZCX:"\u5b58\u8d27\u7ec4\u88c5\u62c6\u5378",STATE_CHZZ_ZZD:"\u7ec4\u88c5\u5355\u7ec4\u88c5",STATE_CHYE_ZZD:"\u7ec4\u88c5\u5355\u7ec4\u88c5",STATE_CHTRXM:"\u5b58\u8d27\u6295\u5165\u4f7f\u7528",STATE_XMJZ_JZRK:"\u7ed3\u8f6c\u5165\u5e93\u5b58\u8d27",STATE_XMJZ_XMJQ:"\u9879\u76ee\u7ed3\u6e05",STATE_XMJZ_QRSRCB:"\u786e\u8ba4\u6536\u5165\u6210\u672c"}[t]}function _(t){var e=t.get("categoryType"),a=t.get("oriState"),n=!1;switch(e){case"LB_YYSR":case"LB_YYZC":case"LB_FYZC":n=!0;break;case"LB_CQZC":(t.get("newProjectRange")?t.get("newProjectRange"):[]).map((function(t){"\u635f\u76ca\u9879\u76ee"==t.get("name")&&(n=!0)}));break;case"LB_SFZC":var r=t.get("propertyTax"),i=t.getIn(["acTax","beAccrued"]);"SX_QTSF"!=r&&"SX_QYSDS"!=r||i&&"STATE_SF_JN"==a||(n=!0),"STATE_SF_SFJM"==a&&(n=!1);break;case"LB_XCZC":var o=t.get("propertyPay"),c=t.getIn(["acPayment","beAccrued"]);({SX_GZXJ:function(){c&&"STATE_XC_FF"==a||(n=!0),"STATE_XC_DK"==a&&(n=!1)},SX_SHBX:function(){c&&"STATE_XC_JN"==a||(n=!0),"STATE_XC_DJ"==a&&(n=!1)},SX_ZFGJJ:function(){c&&"STATE_XC_JN"==a||(n=!0),"STATE_XC_DJ"==a&&(n=!1)},SX_FLF:function(){t.getIn(["acPayment","beWelfare"])&&"STATE_XC_FF"==a||(n=!0)},SX_QTXC:function(){c&&"STATE_XC_FF"==a||(n=!0)}}[o]||function(){return null})();break;case"LB_YYWSR":case"LB_YYWZC":n=!0;break;case"LB_ZSKX":"STATE_ZS_SQ"===a&&(n=!0);break;case"LB_ZFKX":"STATE_ZF_FC"===a&&(n=!0);break;case"LB_JK":var u=t.getIn(["acLoan","beAccrued"]);("STATE_JK_JTLX"==a||!u&&"STATE_JK_ZFLX"==a)&&(n=!0);break;case"LB_TZ":var s=t.getIn(["acInvest","beAccrued"]);"STATE_TZ_JTGL"!=a&&"STATE_TZ_JTLX"!=a&&(s||"STATE_TZ_SRGL"!=a&&"STATE_TZ_SRLX"!=a)||(n=!0);break;case"LB_JZSY":case"LB_ZJTX":n=!0;break;case"LB_JZCB":"STATE_YYSR_ZJ"==a&&(n=!0);break;case"LB_JXSEZC":case"LB_CHTRXM":case"LB_XMJZ":n=!0}return n}function C(t,e){var a=t.get("oriTemp"),n=a.get("categoryType"),i=a.get("beProject"),o="",c=a.get("runningAbstract");switch(n){case"LB_YYSR":o="STATE_YYSR_XS","SX_HW_FW"==a.get("propertyCarryover")&&a.getIn(["acBusinessIncome","stockRange"]).size&&(t=t.setIn(["oriTemp","usedStock"],!0));break;case"LB_YYZC":o="STATE_YYZC_GJ";break;case"LB_FYZC":o="STATE_FY";var u="",s=a.get("propertyCostList");1==s.size&&(u=s.get(0)),t=t.setIn(["oriTemp","propertyCost"],u);break;case"LB_XCZC":var d=a.get("propertyPay");o="STATE_XC_FF","SX_SHBX"!==d&&"SX_ZFGJJ"!==d||(o="STATE_XC_JN");var g="",f=a.get("propertyCostList");1==f.size&&(g=f.get(0)),t=t.setIn(["oriTemp","propertyCost"],g);break;case"LB_SFZC":o="STATE_SF_JN";break;case"LB_CQZC":o="STATE_CQZC_YF",t=t.setIn(["oriTemp","handleType"],"JR_HANDLE_GJ");break;case"LB_YYWSR":o="STATE_YYWSR";break;case"LB_YYWZC":o="STATE_YYWZC";break;case"LB_ZSKX":o="STATE_ZS_SQ";break;case"LB_ZFKX":o="STATE_ZF_FC";break;case"LB_JK":o="STATE_JK_YS",t=t.setIn(["oriTemp","handleType"],"JR_HANDLE_QDJK");break;case"LB_TZ":o="STATE_TZ_YF",t=t.setIn(["oriTemp","handleType"],"JR_HANDLE_DWTZ");break;case"LB_ZB":o="STATE_ZB_ZZ",t=t.setIn(["oriTemp","handleType"],"JR_HANDLE_ZZ");break;case"LB_ZZ":o="STATE_ZZ";break;case"LB_KJFP":o="STATE_KJFP_XS",t=t.setIn(["oriTemp","billType"],"BILL_MAKE_OUT_TYPE_XS");break;case"LB_FPRZ":o="STATE_FPRZ_CG",t=t.setIn(["oriTemp","billType"],"BILL_AUTH_TYPE_CG");break;case"LB_JZSY":o="STATE_CQZC_JZSY";break;case"LB_ZJTX":o="STATE_CQZC_ZJTX";break;case"LB_ZCWJZZS":o="STATE_ZCWJZZS";break;case"LB_SFGL":o="STATE_SFGL";break;case"LB_JZCB":o="STATE_YYSR_XS",t=t.setIn(["oriTemp","stockCardList"],Object(r.fromJS)([]));break;case"LB_GGFYFT":o="STATE_GGFYFT";break;case"LB_CHDB":o="STATE_CHDB";break;case"LB_CHYE":o=e?"STATE_CHYE_CK":"STATE_CHYE";break;case"LB_JXSEZC":o="STATE_JXSEZC_FS";break;case"LB_CHZZ":o="STATE_CHZZ_ZZCX";break;case"LB_CHTRXM":o="STATE_CHTRXM",i=!0,t=t.setIn(["oriTemp","beProject"],!0);break;case"LB_XMJZ":o="STATE_XMJZ_JZRK",i=!0,t=t.setIn(["oriTemp","beProject"],!0);break;default:console.log("\u8bbe\u7f6e\u521d\u59cb\u503c")}return o&&(c=S(o,a)),"LB_JZCB"==n&&(c="\u9500\u552e\u5b58\u8d27\u7ed3\u8f6c\u6210\u672c"),(t=t.setIn(["oriTemp","oriState"],o).setIn(["oriTemp","oriAbstract"],c)).setIn(["oriTemp","usedProject"],!!i&&_(t.get("oriTemp")))}function L(t,e){var a=e.get("oriTemp"),n=e.getIn(["oriTemp","categoryType"]),i=e.getIn(["oriTemp","oriState"]),o=(e.getIn(["oriTemp","oriDate"]),a.getIn([d.a[n],"beAccrued"])),c=a.getIn([d.a[n],"beManagemented"]);switch(n){case"LB_ZSKX":"STATE_ZS_TH"===i&&t(f.getZskxPaymentList());break;case"LB_ZFKX":"STATE_ZF_SH"===i&&t(f.getZskxPaymentList());break;case"LB_JK":o&&"STATE_JK_ZFLX"===i&&t(f.getJkPendingStrongList());break;case"LB_TZ":!o||"STATE_TZ_SRGL"!==i&&"STATE_TZ_SRLX"!==i||t(f.getTzPendingStrongList());break;case"LB_ZB":o&&"STATE_ZB_ZFLR"===i&&t(f.getZbPendingStrongList());break;case"LB_SFZC":var u=a.get("propertyTax");"SX_ZZS"==u&&"STATE_SF_JN"==i&&t(f.getSfzcZzsList()),!o||"SX_QTSF"!=u&&"SX_QYSDS"!=u||"STATE_SF_JN"!=i||t(f.getSfzcNotPayList()),"STATE_SF_ZCWJZZS"==i&&t(f.getSfzcTransferAmount());break;case"LB_XCZC":var s=a.get("propertyPay");"STATE_XC_JN"!=i&&"STATE_XC_FF"!=i||!o||t(f.getXczcPaymentList()),"SX_GZXJ"==s&&o&&"STATE_XC_FF"==i&&(t(f.getPaymentInfo()),t(f.getSfzcNotHandleAmount())),["SX_SHBX","SX_ZFGJJ"].includes(s)&&o&&"STATE_XC_JN"==i&&t(f.getPaymentInfo());break;case"LB_YYSR":"STATE_YYSR_DJ"!=i&&c&&t(f.getYysrYyzcAmount());break;case"LB_YYZC":"STATE_YYZC_DJ"!=i&&c&&t(f.getYysrYyzcAmount());break;case"LB_FYZC":"STATE_FY_DJ"!=i&&c&&t(f.getYysrYyzcAmount());break;case"LB_KJFP":t(f.getKjfpList());break;case"LB_FPRZ":t(f.getFprzList());break;case"LB_JZSY":t(f.getJzsyList());break;case"LB_JZCB":"STATE_YYSR_ZJ"==i||(t(f.changeLrlsData(["cardAllList","stockCardList"],Object(r.fromJS)([]))),t(f.changeLrlsData(["cardAllList","warehouseCardList"],Object(r.fromJS)([]))),t(f.changeLrlsData(["oriTemp","relationCategoryUuid"],"")),t(f.getJzcbList(!0)),t(f.getCostStockByCategory("",!0)),t(f.getJzcbWarehouseList()),t(f.getCostStockCategory())),t(f.getJzcbCategoryList());break;case"LB_GGFYFT":t(f.getGgfyftList());break;case"LB_SFGL":t(f.getSfglCardList()),t(f.getSfglCategoryList());break;case"LB_XMJZ":t(f.getXmjzList())}}function l(t,e){var a=e.get("oriTemp"),n=e.getIn(["oriTemp","categoryType"]),i=e.getIn(["oriTemp","oriState"]),o=(e.getIn(["oriTemp","oriDate"]),a.getIn([d.a[n],"beAccrued"])),c=a.getIn([d.a[n],"contactsManagement"]),u=a.getIn([d.a[n],"beManagemented"]);switch(e.getIn(["oriTemp","beProject"])&&t(f.changeLrlsData(["oriTemp","usedProject"],_(a))),t(f.changeLrlsData(["oriTemp","oriAbstract"],S(i,e.get("oriTemp")))),c&&(t(f.getCardList("contactsRange")),t(f.changeLrlsData(["oriTemp","usedCurrent"],!0))),n){case"LB_ZSKX":"STATE_ZS_TH"===i&&(t(f.getZskxPaymentList()),t(f.getSfglCardList()));break;case"LB_ZFKX":"STATE_ZF_SH"===i&&(t(f.getZskxPaymentList()),t(f.getSfglCardList()));break;case"LB_JK":o&&"STATE_JK_ZFLX"===i&&(t(f.changeLrlsData(["oriTemp","usedCurrent"],!1)),t(f.getJkPendingStrongList()));break;case"LB_TZ":!o||"STATE_TZ_SRGL"!==i&&"STATE_TZ_SRLX"!==i||(t(f.changeLrlsData(["oriTemp","usedCurrent"],!1)),t(f.getTzPendingStrongList()));break;case"LB_ZB":o&&"STATE_ZB_ZFLR"===i&&(t(f.changeLrlsData(["oriTemp","usedCurrent"],!1)),t(f.getZbPendingStrongList()));break;case"LB_YYSR":u&&t(f.getYysrYyzcAmount()),"SX_HW_FW"==a.get("propertyCarryover")&&a.getIn(["acBusinessIncome","stockRange"]).size&&["STATE_YYSR_XS","STATE_YYSR_TS"].includes(i)&&t(f.changeLrlsData(["oriTemp","usedStock"],!0));break;case"LB_YYZC":case"LB_FYZC":u&&t(f.getYysrYyzcAmount());break;case"LB_SFZC":var s=a.get("propertyTax");"SX_ZZS"==s&&"STATE_SF_JN"==i&&(t(f.getSfzcZzsList()),t(f.getSfzcNotPayList())),!o||"SX_QTSF"!=s&&"SX_QYSDS"!=s||"STATE_SF_JN"!=i||t(f.getSfzcNotPayList()),"STATE_SF_ZCWJZZS"==i&&t(f.getSfzcTransferAmount());break;case"LB_XCZC":var g=a.get("propertyPay"),p=a.getIn([d.a[n],"beWelfare"]);"STATE_XC_JN"!=i&&"STATE_XC_FF"!=i||!o&&!p||t(f.getXczcPaymentList()),"SX_GZXJ"==g&&o&&"STATE_XC_FF"==i&&(t(f.getPaymentInfo()),t(f.getSfzcNotHandleAmount())),["SX_SHBX","SX_ZFGJJ"].includes(g)&&o&&"STATE_XC_JN"==i&&t(f.getPaymentInfo());break;case"LB_KJFP":var T="STATE_KJFP_XS"==i?"BILL_MAKE_OUT_TYPE_XS":"BILL_MAKE_OUT_TYPE_TS";t(f.changeLrlsData(["oriTemp","billType"],T)),t(f.getKjfpList());break;case"LB_FPRZ":var C="STATE_FPRZ_CG"==i?"BILL_AUTH_TYPE_CG":"BILL_AUTH_TYPE_TG";t(f.changeLrlsData(["oriTemp","billType"],C)),t(f.getFprzList());break;case"LB_JZCB":var L={STATE_YYSR_XS:"\u9500\u552e\u5b58\u8d27\u7ed3\u8f6c\u6210\u672c",STATE_YYSR_TS:"\u9500\u8d27\u9000\u56de\u7ed3\u8f6c\u6210\u672c",STATE_YYSR_ZJ:"\u76f4\u63a5\u7ed3\u8f6c\u6210\u672c"}[i];t(f.changeLrlsData(["oriTemp","oriAbstract"],L)),t(f.getJzcbCategoryList()),"STATE_YYSR_ZJ"!=i&&(t(f.changeLrlsData(["cardAllList","stockCardList"],Object(r.fromJS)([]))),t(f.changeLrlsData(["cardAllList","warehouseCardList"],Object(r.fromJS)([]))),t(f.changeLrlsData(["oriTemp","relationCategoryUuid"],"")),t(f.changeLrlsData(["oriTemp","stockCardList"],Object(r.fromJS)([]))),t(f.getJzcbList()),t(f.getCostStockByCategory("",!0)),t(f.getCostStockCategory()),t(f.getJzcbWarehouseList()));break;case"LB_CHYE":t(f.getCardList("stockRange")),"STATE_CHYE_CH"==i&&t(f.changeLrlsData(["oriTemp","warehouseCardList"],Object(r.fromJS)([{}]))),"STATE_CHYE_TYDJ"==i&&t(f.getWarehouseCardList("STATE_CHYE_TYDJ"));break;case"LB_CHZZ":"STATE_CHZZ_ZZD"==i&&t(f.changeLrlsData(["oriTemp","stockCardList"],Object(r.fromJS)([])));break;case"LB_GGFYFT":t(f.getGgfyftProjectList()),t(f.getProjectTreeList()),t(f.getGgfyftList());break;case"LB_XMJZ":"STATE_XMJZ_QRSRCB"==i?(t(f.changeLrlsData(["oriTemp","amount"],"")),t(f.changeLrlsData(["oriTemp","currentAmount"],""))):t(f.changeLrlsData(["oriTemp","stockCardList"],Object(r.fromJS)([{amount:""}])))}}function m(t,e){var a=e.get("oriTemp"),n=e.getIn(["oriTemp","categoryType"]),r=e.getIn(["oriTemp","oriState"]),i=(e.getIn(["oriTemp","oriDate"]),a.get("handleType")),o=a.getIn([d.a[n],"beAccrued"]);switch(e.getIn(["oriTemp","beProject"])&&t(f.changeLrlsData(["oriTemp","usedProject"],_(a))),t(f.changeLrlsData(["oriTemp","oriAbstract"],S(r,e.get("oriTemp")))),a.getIn([d.a[n],"contactsManagement"])&&t(f.changeLrlsData(["oriTemp","usedCurrent"],!0)),n){case"LB_JK":o&&"JR_HANDLE_CHLX"===i&&(t(f.getJkPendingStrongList()),t(f.changeLrlsData(["oriTemp","usedCurrent"],!1)));break;case"LB_TZ":o&&"JR_HANDLE_QDSY"===i&&(t(f.getTzPendingStrongList()),t(f.changeLrlsData(["oriTemp","usedCurrent"],!1)));break;case"LB_ZB":o&&"JR_HANDLE_LRFP"===i&&(t(f.getZbPendingStrongList()),t(f.changeLrlsData(["oriTemp","usedCurrent"],!1)));break;case"LB_CQZC":a.getIn([d.a[n],"contactsManagement"])&&(t(f.getCardList("contactsRange")),t(f.changeLrlsData(["oriTemp","usedCurrent"],!0)))}}a(70);var y=a(118);function b(t,e){var a=e.cardType;switch(e.dataType){case"card":e.value;var n=t.getIn(["oriTemp",a,e.idx,"amount"]);if("YYSZ"==e.categoryType){var i=t.getIn(["oriTemp",a,e.idx]),o=t.getIn(["oriTemp","categoryType"]),c=[],u=[];e.value.map((function(t,e){var a="",n="",r="",s="",d="",g="";if(i&&0==e&&(a=i.get("warehouseCardName"),n=i.get("warehouseCardUuid"),r=i.get("warehouseCardCode")),t.isOpenedQuantity&&(0==t.unit.unitList.length&&(s=t.unit.name,d=t.unit.uuid,t.unitPriceList&&t.unitPriceList.forEach((function(t){t.unitUuid==d&&("LB_YYSR"==o&&"2"==t.type&&(g=Number(t.defaultPrice)),"LB_YYZC"==o&&"1"==t.type&&(g=Number(t.defaultPrice)))}))),t.unit.unitList.length>0&&t.unitPriceList)){var f,p="",T=Object(y.a)(t.unitPriceList);try{for(T.s();!(f=T.n()).done;){var S=f.value;if("LB_YYSR"==o&&"2"==S.type){g=Number(S.defaultPrice),p=S.unitUuid;break}if("LB_YYZC"==o&&"1"==S.type){g=Number(S.defaultPrice),p=S.unitUuid;break}}}catch(_){T.e(_)}finally{T.f()}p&&(t.unit.unitList.push({name:t.unit.name,uuid:t.unit.uuid}),t.unit.unitList.forEach((function(t){t.uuid==p&&(s=t.name,d=t.uuid)})))}c.push({cardUuid:t.uuid,code:t.code,name:t.oriName,isOpenedQuantity:t.isOpenedQuantity,unitName:s,unitUuid:d,warehouseCardName:a||"",warehouseCardUuid:n||"",warehouseCardCode:r||"",price:g,quantity:"",amount:"",financialInfo:t.financialInfo?t.financialInfo:{},assistList:[],batch:"",batchUuid:"",expirationDate:""}),u.push({cardUuid:t.uuid,code:t.code,name:t.oriName,amount:"",warehouseCardUuid:n||""})}));var s=t.getIn(["oriTemp",a]).toJS(),d=t.getIn(["oriTemp","carryoverCardList"]).toJS();s.splice.apply(s,[e.idx,1].concat(c)),d.splice.apply(d,[e.idx,1].concat(u)),t=t.setIn(["oriTemp",a],Object(r.fromJS)(s)).setIn(["oriTemp","carryoverCardList"],Object(r.fromJS)(d))}if("JZCB"==e.categoryType){var f="STATE_YYSR_ZJ"==t.getIn(["oriTemp","oriState"]),p=t.getIn(["oriTemp",a,e.idx]),T=[];e.value.map((function(t,e){if(f){var a="",r="",i="",o="",c="",u="";p&&0==e&&(a=p.get("warehouseCardName"),r=p.get("warehouseCardUuid"),i=p.get("warehouseCardCode"),u=p.get("uniformUuid")),t.isOpenedQuantity&&t.unit&&(o=t.unit.name,c=t.unit.uuid),T.push({cardUuid:t.cardUuid,code:t.code,name:t.oriName,isOpenedQuantity:t.isOpenedQuantity,isUniformPrice:t.isUniformPrice,unitName:o,unitUuid:c,basicUnitQuantity:1,warehouseCardName:a||"",warehouseCardUuid:r||"",warehouseCardCode:i||"",uniformUuid:u||"",price:"",quantity:"",amount:"",financialInfo:t.financialInfo?t.financialInfo:{},assistList:[],batch:"",batchUuid:"",expirationDate:""})}else T.push({cardUuid:t.cardUuid,code:t.code,name:t.oriName,isOpenedQuantity:t.isOpenedQuantity,isUniformPrice:t.isUniformPrice,amount:n})}));var S=t.getIn(["oriTemp",a]).toJS();S.splice.apply(S,[e.idx,1].concat(T)),t=t.setIn(["oriTemp",a],Object(r.fromJS)(S))}if("CHDB"==e.categoryType){var _=[];e.value.map((function(t,e){var a="",n="";t.isOpenedQuantity&&(n=t.unit.uuid,a=t.unit.name),_.push({cardUuid:t.uuid,code:t.code,name:t.oriName,isOpenedQuantity:t.isOpenedQuantity,isUniformPrice:t.isUniformPrice,unitName:a,unitUuid:n,basicUnitQuantity:1,price:"",unitPrice:"",quantity:"",amount:"",financialInfo:t.financialInfo?t.financialInfo:{},assistList:[],batch:"",batchUuid:"",expirationDate:""})}));var C=t.getIn(["oriTemp",a]).toJS();C.splice.apply(C,[e.idx,1].concat(_)),t=t.setIn(["oriTemp",a],Object(r.fromJS)(C))}if("CHYE"==e.categoryType){var L=[],l=t.getIn(["oriTemp",a]).toJS(),m=t.getIn(["oriTemp",a,e.idx]);e.value.map((function(t,e){var a="",n="",r="",i="",o="";m&&0==e&&(r=m.get("warehouseCardName"),i=m.get("warehouseCardUuid"),o=m.get("warehouseCardCode")),t.isOpenedQuantity&&(n=t.unit.uuid,a=t.unit.name),L.push({cardUuid:t.uuid,code:t.code,name:t.oriName,isOpenedQuantity:t.isOpenedQuantity,isUniformPrice:t.isUniformPrice,amount:"",price:"",quantity:"",unitUuid:n,unitName:a,warehouseCardName:r,warehouseCardUuid:i,warehouseCardCode:o,financialInfo:t.financialInfo?t.financialInfo:{},assistList:[],batch:"",batchUuid:"",expirationDate:""})})),l.splice.apply(l,[e.idx,1].concat(L)),t=t.setIn(["oriTemp",a],Object(r.fromJS)(l))}if("JXSEZC"==e.categoryType){var b=[],A=t.getIn(["oriTemp",a]).toJS();e.value.map((function(t,e){b.push({cardUuid:t.uuid,code:t.code,name:t.oriName,amount:""})})),A.splice.apply(A,[e.idx,1].concat(b)),t=t.setIn(["oriTemp",a],Object(r.fromJS)(A))}if("CHZZ"==e.categoryType){var h=t.getIn(["oriTemp",a,e.idx]),E=[];e.value.map((function(t,e){var a="",n="",r="",i="",o="";h&&0==e&&(a=h.get("warehouseCardName"),n=h.get("warehouseCardUuid"),r=h.get("warehouseCardCode")),t.isOpenedQuantity&&(o=t.unit.uuid,i=t.unit.name),E.push({cardUuid:t.uuid,code:t.code,name:t.oriName,isOpenedQuantity:t.isOpenedQuantity,unitName:i,unitUuid:o,basicUnitQuantity:1,warehouseCardName:a||"",warehouseCardUuid:n||"",warehouseCardCode:r||"",price:"",quantity:"",amount:"",financialInfo:t.financialInfo?t.financialInfo:{},assistList:[],batch:"",batchUuid:"",expirationDate:""})}));var I=t.getIn(["oriTemp",a]).toJS();I.splice.apply(I,[e.idx,1].concat(E)),t=t.setIn(["oriTemp",a],Object(r.fromJS)(I))}if("CHZZ_ZZD"==e.categoryType){var O=[];e.value.map((function(t,e){var a=[];t.materialList.forEach((function(t){a.push({cardUuid:t.materialUuid,code:t.code,name:t.name,isOpenedQuantity:t.isOpenQuantity,unitName:t.unitName,unitUuid:t.unitUuid,warehouseCardName:"",warehouseCardUuid:"",warehouseCardCode:"",price:"",quantity:"",amount:"",oriQuantity:t.quantity,financialInfo:t.financialInfo?t.financialInfo:{},assistList:[],batch:"",batchUuid:"",expirationDate:""})})),O.push({cardUuid:t.uuid,code:t.code,name:t.oriName,isOpenedQuantity:!0,unitName:t.unitName,unitUuid:t.unitUuid,warehouseCardName:"",warehouseCardUuid:"",warehouseCardCode:"",price:"",quantity:"",amount:"",oriQuantity:t.quantity,childCardList:a,financialInfo:t.financialInfo?t.financialInfo:{},assistList:[],batch:"",batchUuid:"",expirationDate:""})}));var j=t.getIn(["oriTemp",a]).toJS();j.splice.apply(j,[e.idx,1].concat(O)),t=t.setIn(["oriTemp",a],Object(r.fromJS)(j))}if("CHZZ_ZZD_CHILD"==e.categoryType){var v=[];e.value.map((function(t,e){var a="",n="";t.isOpenedQuantity&&(n=t.unit.uuid,a=t.unit.name),v.push({cardUuid:t.uuid,code:t.code,name:t.oriName,isOpenedQuantity:t.isOpenedQuantity,unitName:a,unitUuid:n,warehouseCardName:"",warehouseCardUuid:"",warehouseCardCode:"",price:"",quantity:"",amount:"",financialInfo:t.financialInfo?t.financialInfo:{},assistList:[],batch:"",batchUuid:"",expirationDate:""})}));var N=t.getIn(["oriTemp","stockCardList",e.idx[0],"childCardList"]).toJS();N.splice.apply(N,[e.idx[1],1].concat(v)),t=t.setIn(["oriTemp","stockCardList",e.idx[0],"childCardList"],Object(r.fromJS)(N))}if("CHTRXM"==e.categoryType){var R=[];e.value.map((function(t,e){var a="",n="";t.isOpenedQuantity&&t.unit&&(a=t.unit.name,n=t.unit.uuid),R.push({cardUuid:t.uuid,code:t.code,name:t.oriName,isOpenedQuantity:t.isOpenedQuantity,unitName:a,unitUuid:n,basicUnitQuantity:1,warehouseCardName:"",warehouseCardUuid:"",warehouseCardCode:"",price:"",quantity:"",amount:"",financialInfo:t.financialInfo?t.financialInfo:{},assistList:[],batch:"",batchUuid:"",expirationDate:""})}));var Z=t.getIn(["oriTemp",a]).toJS();Z.splice.apply(Z,[e.idx,1].concat(R)),t=t.setIn(["oriTemp",a],Object(r.fromJS)(Z))}if("XMJZ"==e.categoryType){var U=[];e.value.map((function(t,e){var a="",n="";t.isOpenedQuantity&&t.unit&&(a=t.unit.name,n=t.unit.uuid),U.push({cardUuid:t.uuid,code:t.code,name:t.oriName,isOpenedQuantity:t.isOpenedQuantity,unitName:a,unitUuid:n,basicUnitQuantity:1,warehouseCardName:"",warehouseCardUuid:"",warehouseCardCode:"",price:"",quantity:"",amount:"",financialInfo:t.financialInfo?t.financialInfo:{},assistList:[],batch:"",batchUuid:"",expirationDate:""})}));var J=t.getIn(["oriTemp",a]).toJS();J.splice.apply(J,[e.idx,1].concat(U)),t=t.setIn(["oriTemp",a],Object(r.fromJS)(J))}break;case"warehouse":t=t.setIn(["oriTemp",a,e.idx,"warehouseCardUuid"],e.value.uuid).setIn(["oriTemp",a,e.idx,"uniformUuid"],e.value.uniformUuid).setIn(["oriTemp",a,e.idx,"warehouseCardCode"],e.value.code).setIn(["oriTemp",a,e.idx,"warehouseCardName"],e.value.name),"YYSZ"==e.categoryType&&(t=t.setIn(["oriTemp","carryoverCardList",e.idx,"warehouseCardUuid"],e.value.uuid));break;case"unit":var P=e.value.basicUnitQuantity?e.value.basicUnitQuantity:1;t=t.setIn(["oriTemp",a,e.idx,"unitUuid"],e.value.value).setIn(["oriTemp",a,e.idx,"unitName"],e.value.key).setIn(["oriTemp",a,e.idx,"basicUnitQuantity"],P);break;case"quantity":case"price":case"amount":case"afterQuantity":case"afterAmount":case"afterPrice":case"assistList":case"serialList":t=t.setIn(["oriTemp",a,e.idx,e.dataType],e.value),"YYSZ"==e.categoryType&&["assistList"].includes(e.dataType)&&(t=t.setIn(["oriTemp","carryoverCardList",e.idx,e.dataType],e.value));break;case"add":t=t.setIn(["oriTemp",a,e.idx],Object(r.fromJS)({amount:""})),"YYSZ"==e.categoryType&&(t=t.setIn(["oriTemp","carryoverCardList",e.idx],Object(r.fromJS)({amount:""})));break;case"delete":t=t.deleteIn(["oriTemp",a,e.idx]),"YYSZ"==e.categoryType&&(t=t.deleteIn(["oriTemp","carryoverCardList",e.idx]));break;case"carryoverCardList":t=t.setIn(["oriTemp","carryoverCardList",e.idx,"amount"],e.value);break;case"delete_zzd_child":t=t.deleteIn(["oriTemp",a,e.idx[0],"childCardList",e.idx[1]]);break;case"warehouse_zzd_child":t=t.setIn(["oriTemp",a,e.idx[0],"childCardList",e.idx[1],"warehouseCardUuid"],e.value.uuid).setIn(["oriTemp",a,e.idx[0],"childCardList",e.idx[1],"warehouseCardCode"],e.value.code).setIn(["oriTemp",a,e.idx[0],"childCardList",e.idx[1],"warehouseCardName"],e.value.name);break;case"bitch_zzd_child":t=t.mergeIn(["oriTemp",a,e.idx[0],"childCardList",e.idx[1]],e.value);break;case"quantity_zzd":if("break"===function(){var a,n=t.getIn(["cardAllList","assemblyList"]).toJS(),i=t.getIn(["oriTemp","stockCardList",e.idx]).toJS(),o=[],c=Object(y.a)(n);try{var u=function(){var t=a.value;if(t.uuid==i.cardUuid)return t.materialList.forEach((function(a){var n=1;a.unitList.map((function(t){a.unitUuid==t.uuid&&(n=t.basicUnitQuantity)}));var r=Object(g.l)(Number(e.value)*(Number(a.quantity)/Number(t.quantity)));a.financialInfo&&a.financialInfo.openSerial&&(r=""),o.push({cardUuid:a.materialUuid,code:a.code,name:a.name,isOpenedQuantity:a.isOpenQuantity,unitName:a.unitName,unitUuid:a.unitUuid,basicUnitQuantity:n,warehouseCardName:"",warehouseCardUuid:"",warehouseCardCode:"",price:"",quantity:r,amount:"",financialInfo:a.financialInfo?a.financialInfo:{},assistList:[],batch:"",batchUuid:"",expirationDate:""})})),"break"};for(c.s();!(a=c.n()).done;){if("break"===u())break}}catch(s){c.e(s)}finally{c.f()}return i.quantity=e.value,i.childCardList=o,t=t.setIn(["oriTemp","stockCardList",e.idx],Object(r.fromJS)(i)),"break"}())break;case"bitch":t=t.mergeIn(["oriTemp",a,e.idx],e.value),"YYSZ"==e.categoryType&&(t=t.mergeIn(["oriTemp","carryoverCardList",e.idx],e.value));break;case"addAssist":var D=e.value.getIn(["cardData","inventoryUuid"]),Y=e.value.getIn(["cardData","classificationUuid"]),k=e.value.get("propertyList");if("CHZZ_ZZD_CHILD"==a){t=t.updateIn(["oriTemp","stockCardList"],(function(t){return t.map((function(t){return t.get("cardUuid")==D&&t.getIn(["financialInfo","assistClassificationList"]).map((function(e,a){e.get("uuid")==Y&&(t=t.updateIn(["financialInfo","assistClassificationList",a,"propertyList"],(function(t){return k})))})),t=t.update("childCardList",(function(t){return t.map((function(t,e){return t.get("cardUuid")==D&&t.getIn(["financialInfo","assistClassificationList"]).map((function(e,a){e.get("uuid")==Y&&(t=t.setIn(["financialInfo","assistClassificationList",a,"propertyList"],k))})),t}))}))}))}));break}t=t.updateIn(["oriTemp",a],(function(t){return t.map((function(t){return t.get("cardUuid")==D&&t.getIn(["financialInfo","assistClassificationList"]).map((function(e,a){e.get("uuid")==Y&&(t=t.updateIn(["financialInfo","assistClassificationList",a,"propertyList"],(function(t){return k})))})),t}))}))}return t}}}]);