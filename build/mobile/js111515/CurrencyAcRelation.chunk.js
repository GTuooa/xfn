(this.webpackJsonpfannix=this.webpackJsonpfannix||[]).push([[53],{1069:function(e,t,n){},1167:function(e,t,n){"use strict";n.d(t,"g",(function(){return s})),n.d(t,"h",(function(){return f})),n.d(t,"i",(function(){return l})),n.d(t,"p",(function(){return d})),n.d(t,"j",(function(){return g})),n.d(t,"o",(function(){return m})),n.d(t,"n",(function(){return p})),n.d(t,"k",(function(){return b})),n.d(t,"l",(function(){return E})),n.d(t,"c",(function(){return h})),n.d(t,"b",(function(){return C})),n.d(t,"a",(function(){return y})),n.d(t,"m",(function(){return N})),n.d(t,"f",(function(){return O})),n.d(t,"e",(function(){return j})),n.d(t,"d",(function(){return S}));n(55),n(31),n(219),n(77),n(29),n(65),n(82);var a=n(12),c=n(17),r=n(1056),i=n(1168),u=n(14),o=n(2),s=function(){return function(e){Object(c.g)("getFCList","GET","",(function(t){Object(a.u)(t)&&e({type:i.e,receivedData:t.data})}))}},f=function(){return function(e){o.a.toast.loading(u.p,0),Object(c.g)("getFCRelateAcList","GET","",(function(t){Object(a.u)(t)&&(o.a.toast.hide(),e({type:i.f,receivedData:t.data}))}))}},l=function(){return function(e){Object(c.g)("getModelFCList","GET","",(function(t){Object(a.u)(t)&&e({type:i.g,receivedData:t.data})}))}},d=function(){return{type:i.n}},g=function(){return{type:i.h}},m=function(e){return{type:i.m,idx:e}},p=function(){return{type:i.l}},b=function(){return{type:i.j}},E=function(e,t){return{type:i.k,fcNumber:e,exchange:t}},h=function(e,t){return{type:i.c,fcNumber:e,name:t}},C=function(e){return{type:i.b,value:e}},y=function(){return{type:i.a}},N=function(e,t,n){return function(r){var i=e.get("exchange").toString().split("."),s=[];if(e.get("fcNumber")||s.push("\u5e01\u522b\u4e0d\u80fd\u4e3a\u7a7a"),e.get("exchange")?Number(e.get("exchange"))<=0?s.push("\u6c47\u7387\u4e0d\u80fd\u5c0f\u4e8e\u7b49\u4e8e0"):i[1]&&i[1].length>u.o&&s.push("\u6c47\u7387\u53ea\u652f\u6301\u5c0f\u6570\u70b9\u540e\u56db\u4f4d"):s.push("\u6c47\u7387\u4e0d\u80fd\u4e3a\u7a7a"),s.length)return o.a.Alert(s.reduce((function(e,t){return e+","+t})));o.a.toast.loading(u.p,0),{modify:function(){Object(c.g)("modifyFC","POST",JSON.stringify({fcNumber:e.get("fcNumber"),exchange:e.get("exchange")}),(function(e){Object(a.u)(e)&&(o.a.toast.hide(),n.goBack())}))},insert:function(){Object(c.g)("insertFC","POST",JSON.stringify({fcNumber:e.get("fcNumber"),name:e.get("name"),exchange:e.get("exchange")}),(function(e){Object(a.u)(e)&&(o.a.toast.hide(),n.goBack())}))}}[t]()}},O=function(e){return function(t){var n=e.filter((function(e){return"1"!=e.get("standard")})).filter((function(e){return e.get("selected")})).map((function(e,t){return e.get("fcNumber")}));o.a.Confirm({message:"\u786e\u5b9a\u5220\u9664\u8be5\u5e01\u522b\u5417\uff1f\u5220\u9664\u540e\u53ef\u5728\u201c\u6dfb\u52a0\u5e01\u522b\u201d\u4e2d\u91cd\u65b0\u6dfb\u52a0",title:"\u63d0\u793a",buttonLabels:["\u53d6\u6d88","\u786e\u5b9a"],onSuccess:function(e){1===e.buttonIndex&&(o.a.toast.loading(u.p,0),Object(c.g)("deleteFC","POST",JSON.stringify({numberList:n}),(function(e){Object(a.u)(e)&&(o.a.toast.hide(),e.data&&e.data.length&&o.a.Alert(e.data[0].message),t(s()),t(g()))})))}})}},j=function(e){return{type:i.d,idx:e}},S=function(e){return function(t,n){var i=n().allState.get("aclist").toSeq().filter((function(e){return e.get("selected")})).map((function(e){return e.get("acid")}));o.a.toast.loading(u.p,0),Object(c.g)("relateFCList","POST",JSON.stringify({list:i}),(function(n){if(Object(a.u)(n)){if(o.a.toast.hide(),t(r.c()),t(f()),n.data&&n.data.length)if(n.data.length>1){var c=n.data.map((function(e){return e.message})).reduce((function(e,t){return e+","+t}));o.a.Alert(c)}else o.a.Alert(n.data[0].message);e.goBack()}}))}}},1168:function(e,t,n){"use strict";n.d(t,"i",(function(){return a})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return r})),n.d(t,"g",(function(){return i})),n.d(t,"n",(function(){return u})),n.d(t,"h",(function(){return o})),n.d(t,"m",(function(){return s})),n.d(t,"l",(function(){return f})),n.d(t,"k",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return g})),n.d(t,"j",(function(){return m})),n.d(t,"a",(function(){return p})),n.d(t,"d",(function(){return b}));var a="INIT_CURRENCY",c="GET_FC_LIST_FETCH",r="GET_FC_RELATE_AC_LIST_FETCH",i="GET_MODEL_FC_LIST_FETCH",u="SHOW_ALL_CURRENCY_CHECKBOX",o="HIDE_ALL_CURRENCY_CHECKBOX",s="SELECT_CURRENCY_ITEM",f="SELECT_ALL_CURRENCY_CHECKBOX",l="MODIFY_CURRENCY",d="CHANGE_FC_NUMBER",g="CHANGE_EXCHANGE",m="INSERT_CURRENCY",p="CANCEL_SAVE_CURRENCY",b="CHANGE_TAB_INDEX_CURRENCY"},1206:function(e,t,n){},974:function(e,t,n){"use strict";n.r(t),n.d(t,"reducer",(function(){return O})),n.d(t,"view",(function(){return N}));n(55),n(33),n(31);var a,c,r,i=n(7),u=n(8),o=n(9),s=n(10),f=n(0),l=n.n(f),d=(n(1),n(47)),g=n(11),m=n(2),p=n(1167),b=n(1056),E=(n(34),n(24)),h=(n(1206),Object(E.immutableRenderDecorator)(a=function(e){Object(s.a)(n,e);var t=Object(o.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.tabSelectedIndex,n=e.acTags,a=(e.dispatch,e.callback);return l.a.createElement("div",{className:"tab-title"},n.map((function(e,n){return l.a.createElement("span",{className:["tab-title-item",t===n?"selected":""].join(" "),onClick:function(){return a(n)},key:n},e.get("category"))})))}}]),n}(l.a.Component))||a),C=(n(219),{4:"#fff",6:"#D1C0A5",8:"#7E6B5A",10:"#59493f"}),y=Object(E.immutableRenderDecorator)(c=function(e){Object(s.a)(n,e);var t=Object(o.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.style,n=(e.hasSub,e.isExpanded,e.ac),a=(e.currTabAcList,e.idx,e.selectable),c=(e.allAcCheckBoxDisplay,e.dispatch),r=(e.uppername,(n.get("acid").length-4)/200*10+"rem"),i={width:r,background:C[n.get("acid").length]};return l.a.createElement("div",{className:"relate-item-wrap",style:t},l.a.createElement("div",{className:n.get("asscategorylist").size?"relate-ass-item":"relate-item",onClick:function(e){e.stopPropagation(),a&&c(b.i(n.get("idx")))}},l.a.createElement(g.e,{className:"checkbox",checked:n.get("selected"),disabled:!a,checkedColor:"#fb6"}),l.a.createElement("div",{className:"ac-article"},l.a.createElement("span",{className:"ac-article-acid-acname"},"0rem"==r?"":l.a.createElement("span",{className:"ac-flag",style:i}),l.a.createElement("span",{className:"ac-info ac-underline"},n.get("acid")+n.get("acname"))),0==n.get("asscategorylist").size?"":l.a.createElement("p",{className:"ac-ass"},"\u8f85\u52a9\u6838\u7b97: ",n.get("asscategorylist").reduce((function(e,t){return e+"/"+t})))),l.a.createElement("div",{className:"ac-other"},l.a.createElement("span",{className:"ac-direction"},"debit"==n.get("direction")?"\u501f":"\u8d37","\u65b9"))))}}]),n}(l.a.Component))||c,N=(n(1069),Object(d.c)((function(e){return e}))(r=function(e){Object(s.a)(n,e);var t=Object(o.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){m.a.setTitle({title:"\u5173\u8054\u79d1\u76ee\u8bbe\u7f6e"}),m.a.setRight({show:!1});var e=this.props,t=e.dispatch,n=(e.allState,e.currencyState.get("acRelateFCList").map((function(e){return e.get("acid")})));t(b.h(n))}},{key:"render",value:function(){var e=this.props,t=e.allState,n=e.history,a=e.dispatch,c=e.acconfigState,r=e.currencyState,i=(c.get("showedLowerAcIdList"),t.get("aclist").toSeq()),u=t.get("acTags"),o=(t.get("assTags"),r.get("fcTabSelectedIndex")),s=u.getIn([o,"sub"]),f=i.map((function(e,t){return e.set("idx",t)})).filter((function(e){return s.indexOf(e.get("category"))>-1})).map((function(e){var t=e.get("acid"),n=i.getIn([e.get("idx")+1,"upperid"]);return e.set("hasSub",!!n&&n===t)}));return l.a.createElement(g.h,{className:"ac-relation"},l.a.createElement(h,{tabSelectedIndex:o,dispatch:a,acTags:u,callback:function(e){return a(p.e(e))}}),l.a.createElement(g.s,{flex:"1"},f.map((function(e,t){var n=e.get("upperid")?"#FEF3E3":"#fff";return l.a.createElement(y,{hasSub:e.get("hasSub"),style:{backgroundColor:n,display:""},key:e.get("acid"),idx:e.get("idx"),ac:e,selectable:!e.get("hasSub"),currTabAcList:f,dispatch:a})}))),l.a.createElement(g.d,{type:"ghost",height:50},l.a.createElement(g.c,{onClick:function(){return a(b.j())&n.goBack()}},l.a.createElement(g.l,{type:"cancel"}),l.a.createElement("span",null,"\u53d6\u6d88")),l.a.createElement(g.c,{onClick:function(){return a(p.d(n))}},l.a.createElement(g.l,{type:"confirm"}),l.a.createElement("span",null,"\u786e\u8ba4"))))}}]),n}(l.a.Component))||r),O={}}}]);