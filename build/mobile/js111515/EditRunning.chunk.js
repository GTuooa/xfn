(this.webpackJsonpfannix=this.webpackJsonpfannix||[]).push([[61],{1037:function(e,t,a){"use strict";a.d(t,"c",(function(){return n})),a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return l}));var n=[{key:"2%",value:2},{key:"3%",value:3},{key:"4%",value:4},{key:"5%",value:5},{key:"6%",value:6},{key:"9%",value:9},{key:"10%",value:10},{key:"11%",value:11},{key:"12%",value:12},{key:"13%",value:13},{key:"16%",value:16},{key:"17%",value:17}],r=[{key:"2%",value:2},{key:"3%",value:3},{key:"5%",value:5}],l={LX_SR:"\u6536\u5165",LX_ZC:"\u652f\u51fa",LX_JZCB:"\u7ed3\u8f6c\u6210\u672c",LX_CBTH:"\u6210\u672c\u9000\u56de",LX_ZZS_YKP:"\u5df2\u5f00\u53d1\u7968",LX_ZZS_WKP:"\u672a\u5f00\u53d1\u7968",LX_ZZS_YRZ:"\u5df2\u8ba4\u8bc1\u53d1\u7968",LX_ZZS_WRZ:"\u672a\u8ba4\u8bc1\u53d1\u7968",LX_TSSF_YKP:"\u5df2\u5f00\u53d1\u7968",LX_TSSF_WKP:"\u672a\u5f00\u53d1\u7968",LX_TGSF_YRZ:"\u5df2\u8ba4\u8bc1\u53d1\u7968",LX_TGSF_WRZ:"\u672a\u8ba4\u8bc1\u53d1\u7968",LX_YYSR:"\u8425\u4e1a\u6536\u5165",LX_PP:"\u9884\u6536\u6b3e",LX_ZZS:"\u589e\u503c\u7a0e",LX_YYTS:"\u9000\u552e",LX_TSSF:"\u9000\u552e\u7a0e\u8d39",LX_ARHX:"\u5e94\u6536\u6838\u9500",LX_PPHX:"\u9884\u6536\u6838\u9500",LX_TSHX:"\u9000\u552e\u6838\u9500",LX_YYZC:"\u8425\u4e1a\u652f\u51fa",LX_AP:"\u9884\u4ed8\u6b3e",LX_ADV:"\u5e94\u4ed8\u6b3e",LX_YYTG:"\u9000\u8d2d",LX_TGSF:"\u9000\u8d2d\u7a0e\u8d39",LX_APHX:"\u5e94\u4ed8\u6838\u9500",LX_ADVHX:"\u9884\u4ed8\u6838\u9500",LX_TGHX:"\u9000\u8d2d\u6838\u9500",LX_FYZC:"\u8d39\u7528\u652f\u51fa",LX_JTGZXJ:"\u8ba1\u63d0\u5de5\u8d44",LX_GZXJZC:"\u5de5\u8d44\u652f\u51fa",LX_DKGJJ:"\u4ee3\u6263\u516c\u79ef\u91d1",LX_DKSHBX:"\u4ee3\u6263\u793e\u4fdd",LX_DKSDS:"\u4ee3\u6263\u6240\u5f97\u7a0e",LX_JTSB:"\u8ba1\u63d0\u793e\u4fdd",LX_SBZC:"\u793e\u4fdd\u652f\u51fa",LX_DJSB:"\u4ee3\u7f34\u793e\u4fdd",LX_JTGJJ:"\u8ba1\u63d0\u516c\u79ef\u91d1",LX_GJJZC:"\u516c\u79ef\u91d1\u652f\u51fa",LX_DJGJJ:"\u4ee3\u7f34\u516c\u79ef\u91d1",LX_FLFZC:"\u798f\u5229\u8d39\u652f\u51fa",LX_JTQTXC:"\u8ba1\u63d0\u5176\u4ed6\u85aa\u916c",LX_QTXC:"\u5176\u4ed6\u85aa\u916c\u652f\u51fa",LX_YJSF:"\u9884\u4ea4\u7a0e\u8d39",LX_ZZSZC:"\u589e\u503c\u7a0e\u652f\u51fa",LX_YJDK:"\u9884\u4ea4\u62b5\u6263",LX_ZCSDS:"\u8f6c\u51fa\u6240\u5f97\u7a0e",LX_SDSZC:"\u6240\u5f97\u7a0e\u652f\u51fa",LX_JTSF:"\u8ba1\u63d0\u7a0e\u8d39",LX_QTSFZC:"\u5176\u4ed6\u7a0e\u8d39\u652f\u51fa",LX_YYWSR:"\u8425\u4e1a\u5916\u6536\u5165",LX_YYWZC:"\u8425\u4e1a\u5916\u652f\u51fa",LX_ZSKX:"\u6682\u6536\u6b3e\u9879",LX_ZSHX:"\u6682\u6536\u6838\u9500",LX_ZFKX:"\u6682\u4ed8\u6b3e\u9879",LX_ZFHX:"\u6682\u4ed8\u6838\u9500",LX_ZCGJ:"\u8d44\u4ea7\u8d2d\u8fdb",LX_ZCCZ:"\u8d44\u4ea7\u5904\u7f6e",LX_JZSY:"\u5904\u7f6e\u635f\u76ca",LX_QDJK:"\u53d6\u5f97\u501f\u6b3e",LX_CHLX:"\u507f\u8fd8\u5229\u606f",LX_CHBJ:"\u507f\u8fd8\u672c\u91d1",LX_DWTZ:"\u5bf9\u5916\u6295\u8d44",LX_QDSY:"\u53d6\u5f97\u6536\u76ca",LX_SHTZ:"\u6536\u56de\u6295\u8d44",LX_ZZ:"\u589e\u8d44",LX_LRFP:"\u5229\u6da6\u5206\u914d",LX_JZ:"\u51cf\u8d44",LX_JZSY_SY:"\u7ed3\u8f6c\u6536\u76ca",LX_JZSY_SS:"\u7ed3\u8f6c\u635f\u5931",LX_JZSY_ZCYZ:"\u8d44\u4ea7\u539f\u503c",LX_JZSY_ZJTX:"\u7d2f\u8ba1\u6298\u65e7\u644a\u9500",LX_JZSY_SJGZ:"\u5347\u7ea7\u6539\u9020",LX_JZSY_QLSR:"\u6e05\u7406\u6536\u5165",LX_FPRZ_CG:"\u91c7\u8d2d\u53d1\u7968\u8ba4\u8bc1",LX_FPRZ_TG:"\u9000\u8d2d\u53d1\u7968\u8ba4\u8bc1",LX_KJFP_XS:"\u9500\u552e\u5f00\u7968",LX_KJFP_TS:"\u9000\u552e\u5f00\u7968",LX_ZCWJZZS:"\u8f6c\u51fa\u672a\u4ea4\u7a0e\u8d39",LX_ZFLR:"\u652f\u4ed8\u5229\u6da6",LX_TZ_JTGL:"\u8ba1\u63d0\u80a1\u5229",LX_TZ_SRGL:"\u6536\u5165\u80a1\u5229",LX_TZ_JTLX:"\u8ba1\u63d0\u5229\u606f",LX_TZ_SRLX:"\u6536\u5165\u5229\u606f",LX_JK_JTLX:"\u8ba1\u63d0\u5229\u606f",LX_JK_ZFLX:"\u652f\u4ed8\u5229\u606f",LX_NBZZ:"\u5185\u90e8\u8f6c\u8d26",LX_NBZR:"\u5185\u90e8\u8f6c\u8d26-\u8f6c\u5165",LX_NBZC:"\u5185\u90e8\u8f6c\u8d26-\u8f6c\u51fa",LX_GRSFZC:"\u4e2a\u4eba\u7a0e\u8d39\u652f\u51fa",LX_XMGGFYFT:"\u8d39\u7528\u5206\u644a",LX_ZJTX:"\u6298\u65e7\u644a\u9500"}},1126:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));a(98),a(115),a(62),a(31),a(70),a(83);var n=a(4),r=a(1),l=(a(57),a(14),a(12),a(2),a(1149)),c=a(1151),s=Object(r.fromJS)({views:{acName:"",acId:"",relation:"",anotherTabName:"\u5168\u90e8",activeTapKey:"\u5168\u90e8",activeTapKeyUuid:"",sonUuid:"",sonName:"\u5168\u90e8",insertOrModify:"insert",fromPage:"relative",otherPageName:"",treeSelect:{treeTwoList:[],treeThreeList:[],selectUuid:["","",""],selectName:"",selectEndUuid:""}},tags:[],originTags:[],relativeHighTypeTemp:c.e,relativeTypeTemp:c.f,relativeCardTemp:c.d,relativeCardSelectList:[],relativeCardList:[],treeList:[],relativeTreeSelectList:[],typeTree:[],typeSelect:"",cardHighTypeSelectList:[]});function i(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,a=arguments.length>1?arguments[1]:void 0;return((e={},Object(n.a)(e,l.w,(function(){return s})),Object(n.a)(e,l.j,(function(){return t=t.setIn(["relativeHighTypeTemp",a.name],a.value)})),Object(n.a)(e,l.k,(function(){return a.short?t.set(a.dataType,a.value):t.setIn(a.dataType,a.value)})),Object(n.a)(e,l.u,(function(){return a.title.unshift({name:"\u5168\u90e8",uuid:""}),t=t.set("tags",Object(r.fromJS)(a.title)).set("originTags",Object(r.fromJS)(a.title))})),Object(n.a)(e,l.t,(function(){return t=t.set("relativeCardList",Object(r.fromJS)(a.list)).set("treeList",Object(r.fromJS)(a.tree)).set("relativeSelectList",Object(r.fromJS)([])).mergeIn(["views"],Object(r.fromJS)({activeTapKey:a.name,activeTapKeyUuid:a.uuid,sonUuid:"",sonName:"\u5168\u90e8",treeSelect:s.getIn(["views","treeSelect"])}))})),Object(n.a)(e,l.a,(function(){if(t=t.set("tags",t.get("originTags")),"modify"===a.insertOrModify){for(var e=t.get("tags").toJS(),n=a.data.categoryTypeList,l=0;l<n.length;l++)for(var s=0;s<e.length;s++)if(n[l].ctgyUuid===e[s].uuid){e[s].checked=!0,e[s].selectUuid=n[l].subordinateUuid,e[s].selectName=n[l].subordinateName,e[s].tree=n[l].options;break}t=(t=(t=t.set("tags",Object(r.fromJS)(e))).set("relativeCardTemp",Object(r.fromJS)(a.data))).setIn(["relativeCardTemp","insertOrModify"],"modify"),0===a.data.payableOpened&&(t=t.setIn(["relativeCardTemp","payableOpened"],"")),0===a.data.receivableOpened&&(t=t.setIn(["relativeCardTemp","receivableOpened"],"")),0===a.data.prepaidOpened&&(t=t.setIn(["relativeCardTemp","prepaidOpened"],"")),0===a.data.advanceOpened&&(t=t.setIn(["relativeCardTemp","advanceOpened"],""))}else t=t.set("relativeCardTemp",Object(r.fromJS)(c.d)).setIn(["relativeCardTemp","insertOrModify"],"insert").setIn(["relativeCardTemp","isCheckOut"],a.data.isCheckOut).setIn(["relativeCardTemp","advanceAcId"],a.data.defaultAc.advanceAcId).setIn(["relativeCardTemp","advanceAcName"],a.data.defaultAc.advanceAcName).setIn(["relativeCardTemp","receivableAcId"],a.data.defaultAc.receivableAcId).setIn(["relativeCardTemp","receivableAcName"],a.data.defaultAc.receivableAcName).setIn(["relativeCardTemp","payableAcId"],a.data.defaultAc.payableAcId).setIn(["relativeCardTemp","payableAcName"],a.data.defaultAc.payableAcName).setIn(["relativeCardTemp","prepaidAcId"],a.data.defaultAc.prepaidAcId).setIn(["relativeCardTemp","prepaidAcName"],a.data.defaultAc.prepaidAcName);return t=t.setIn(["views","fromPage"],a.fromPage||"relative")})),Object(n.a)(e,l.b,(function(){return t=t.set("relativeCardTemp",Object(r.fromJS)(c.d)).setIn(["relativeCardTemp","insertOrModify"],"insert").setIn(["relativeCardTemp","isCheckOut"],a.receivedData.isCheckOut).set("tags",a.originTags).setIn(["views","fromPage"],a.otherPageName).setIn(["views","otherPageName"],a.otherPageName).setIn(["relativeCardTemp","code"],a.receivedData.code)})),Object(n.a)(e,l.g,(function(){(t=t.setIn(["relativeCardTemp",a.name],a.value),"isPayUnit"!==a.name||a.value)||((t=t.setIn(["relativeCardTemp","enablePrepaidAc"],!1)).getIn(["relativeCardTemp","isReceiveUnit"])?t.get("tags").map((function(e,a){if(!e.get("isReceiveUnit")){var n=(t=t.setIn(["tags",a,"checked"],!1)).getIn(["relativeCardTemp","categoryTypeList"]).findIndex((function(t,a){return t.get("ctgyUuid")===e.get("uuid")}));n>-1&&(t=t.setIn(["relativeCardTemp","categoryTypeList"],t.getIn(["relativeCardTemp","categoryTypeList"]).delete(n)))}})):(t.get("tags").map((function(e,a){t=t.setIn(["tags",a,"checked"],!1)})),t=t.setIn(["relativeCardTemp","categoryTypeList"],Object(r.fromJS)([]))));"isReceiveUnit"!==a.name||a.value||((t=t.setIn(["relativeCardTemp","enableAdvanceAc"],!1)).getIn(["relativeCardTemp","isPayUnit"])?t.get("tags").map((function(e,a){if(!e.get("isPayUnit")){var n=(t=t.setIn(["tags",a,"checked"],!1)).getIn(["relativeCardTemp","categoryTypeList"]).findIndex((function(t,a){return t.get("ctgyUuid")===e.get("uuid")}));n>-1&&(t=t.setIn(["relativeCardTemp","categoryTypeList"],t.getIn(["relativeCardTemp","categoryTypeList"]).delete(n)))}})):(t.get("tags").map((function(e,a){t=t.setIn(["tags",a,"checked"],!1)})),t=t.setIn(["relativeCardTemp","categoryTypeList"],Object(r.fromJS)([]))));return t})),Object(n.a)(e,l.d,(function(){var e=t.get("tags"),n="";if(e.find((function(t,l){t.get("uuid")===a.tag.get("uuid")&&(e=e.setIn([l,"checked"],a.checked),t.get("selectUuid")&&(n=t.get("selectUuid")),a.checked&&(e=e.setIn([l,"tree"],Object(r.fromJS)(a.tree)),0===a.tree[0].childList.length&&(e=e.setIn([l,"selectUuid"],a.tree[0].uuid).setIn([l,"selectName"],a.tree[0].name),n=a.tree[0].uuid)))})),a.checked){var l=t.getIn(["relativeCardTemp","categoryTypeList"]).toJS();l.push({ctgyUuid:a.tag.get("uuid"),subordinateUuid:n}),t=t.setIn(["relativeCardTemp","categoryTypeList"],Object(r.fromJS)(l))}else{var c=t.getIn(["relativeCardTemp","categoryTypeList"]).findIndex((function(e,t){return e.get("ctgyUuid")===a.tag.get("uuid")}));t=t.setIn(["relativeCardTemp","categoryTypeList"],t.getIn(["relativeCardTemp","categoryTypeList"]).delete(c))}return t=t.set("tags",e)})),Object(n.a)(e,l.y,(function(){return t.get("tags").map((function(e,n){e.get("uuid")===a.uuid&&(t=t.set("typeTree",t.getIn(["tags",n,"tree"])).set("typeSelect",t.getIn(["tags",n])))})),t})),Object(n.a)(e,l.e,(function(){var e=t.get("typeSelect");return t.getIn(["relativeCardTemp","categoryTypeList"]).map((function(n,r){n.get("ctgyUuid")===e.get("uuid")&&(t=t.setIn(["relativeCardTemp","categoryTypeList",r,"subordinateUuid"],a.uuid))})),t.get("tags").map((function(n,r){n.get("uuid")===e.get("uuid")&&(t=t.setIn(["tags",r,"selectUuid"],a.uuid).setIn(["tags",r,"selectName"],a.name))})),t})),Object(n.a)(e,l.f,(function(){var e=t.getIn(["views","acId"]),n=t.getIn(["views","acName"]);return t=t.setIn(["relativeCardTemp",e],a.uuid).setIn(["relativeCardTemp",n],a.name)})),Object(n.a)(e,l.A,(function(){return t=t.set("relativeCardList",Object(r.fromJS)(a.list)).set("treeList",Object(r.fromJS)(a.treeList)),"insertAndNew"===a.flag&&(t=t.setIn(["relativeCardTemp","code"],a.code).setIn(["relativeCardTemp","name"],"").setIn(["relativeCardTemp","companyAddress"],"").setIn(["relativeCardTemp","companyTel"],"").setIn(["relativeCardTemp","financeName"],"").setIn(["relativeCardTemp","financeTel"],"").setIn(["relativeCardTemp","receivableOpened"],"").setIn(["relativeCardTemp","advanceOpened"],"").setIn(["relativeCardTemp","payableOpened"],"").setIn(["relativeCardTemp","prepaidOpened"],"")),t})),Object(n.a)(e,l.h,(function(){if("relativeCard"==a.clearType&&(t=t.set("relativeCardSelectList",Object(r.fromJS)([])).update("relativeCardList",(function(e){return e.map((function(e){return e.set("checked",!1)}))}))),"relativeHighType"==a.clearType&&(t=t.set("cardHighTypeSelectList",Object(r.fromJS)([])).update("tags",(function(e){return e.map((function(e){return e.set("checked",!1)}))}))),"relativeTree"==a.clearType){var e=t.getIn(["relativeHighTypeTemp","treeList"]).toJS();!function e(t){return t.map((function(t,a){t.checked=!1,t.childList.length>0&&e(t.childList)}))}(e),t=t.set("treeList",Object(r.fromJS)(e)).set("relativeTreeSelectList",Object(r.fromJS)([]))}return t})),Object(n.a)(e,l.o,(function(){var e=t.get("relativeCardList"),n=t.get("relativeCardSelectList").toJS();return e.find((function(e,n){e.get("uuid")===a.uuid&&(t=t.setIn(["relativeCardList",n,"checked"],a.checked))})),a.checked?(n.push({uuid:a.uuid}),t=t.set("relativeCardSelectList",Object(r.fromJS)(n))):n.find((function(e,n){e.uuid===a.uuid&&(t=t.deleteIn(["relativeCardSelectList",n]))})),t})),Object(n.a)(e,l.q,(function(){return t=t.set("relativeCardList",Object(r.fromJS)(a.data)).set("relativeCardSelectList",Object(r.fromJS)([])).set("treeList",Object(r.fromJS)(a.treeList))})),Object(n.a)(e,l.s,(function(){return t=t.set("relativeCardList",Object(r.fromJS)(a.data)).set("relativeCardSelectList",Object(r.fromJS)([])).setIn(["views","sonUuid"],a.sonUuid).setIn(["views","sonName"],a.sonName)})),Object(n.a)(e,l.c,(function(){return t=t.set("relativeHighTypeTemp",Object(r.fromJS)(c.e))})),Object(n.a)(e,l.j,(function(){return t=t.setIn(["relativeHighTypeTemp",a.name],a.value)})),Object(n.a)(e,l.r,(function(){return t=t.set("relativeHighTypeTemp",Object(r.fromJS)(a.data))})),Object(n.a)(e,l.i,(function(){var e=t.get("tags"),n=t.get("cardHighTypeSelectList").toJS();return e.map((function(e,n){e.get("uuid")===a.uuid&&(t=t.setIn(["tags",n,"checked"],a.status))})),a.status?(n.push({uuid:a.uuid}),t=t.set("cardHighTypeSelectList",Object(r.fromJS)(n))):n.find((function(e,n){e.uuid===a.uuid&&(t=t.deleteIn(["cardHighTypeSelectList",n]))})),t})),Object(n.a)(e,l.p,(function(){a.title.unshift({name:"\u5168\u90e8",uuid:""});var e=t.getIn(["views","activeTapKeyUuid"]);return a.title.map((function(e){return e.uuid})).includes(e)||(t=t.setIn(["views","activeTapKeyUuid"],"").setIn(["views","activeTapKey"],"\u5168\u90e8").setIn(["views","treeSelect"],s.getIn(["views","treeSelect"]))),t=t.set("tags",Object(r.fromJS)(a.title)).set("originTags",Object(r.fromJS)(a.title))})),Object(n.a)(e,l.x,(function(){return t=t.setIn(["relativeTypeTemp","name"],"").setIn(["relativeTypeTemp","uuid"],"").setIn(["relativeTypeTemp","parentUuid"],a.uuid).setIn(["relativeTypeTemp","parentName"],a.name)})),Object(n.a)(e,l.m,(function(){return t=t.setIn(["relativeTypeTemp",a.name],a.value)})),Object(n.a)(e,l.n,(function(){return t=t.setIn(["relativeTypeTemp","parentUuid"],a.parentUuid).setIn(["relativeTypeTemp","parentName"],a.parentName)})),Object(n.a)(e,l.z,(function(){return t=t.set("relativeCardList",Object(r.fromJS)(a.list)).setIn(["views","activeTapKey"],a.name).setIn(["views","activeTapKeyUuid"],a.activeTapKeyUuid).set("treeList",Object(r.fromJS)(a.tree))})),Object(n.a)(e,l.v,(function(){return t=t.set("relativeTypeTemp",Object(r.fromJS)(a.data))})),Object(n.a)(e,l.l,(function(){var e=t.getIn(["relativeHighTypeTemp","treeList"]).toJS();return function e(t,n){return t.map((function(t,r){var l=n;(t.uuid==a.uuid||n)&&(t.checked=a.value,l=!0),t.childList.length>0&&e(t.childList,l)}))}(e,!1),t.setIn(["relativeHighTypeTemp","treeList"],Object(r.fromJS)(e))})),Object(n.a)(e,l.B,(function(){return t=t.setIn(["relativeCardTemp","used"],a.used)})),e)[a.type]||function(){return t})()}},1127:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));a(31),a(70);var n=a(4),r=a(1),l=a(1150),c=Object(r.fromJS)({views:{currentType:"",currentTypeName:"\u5168\u90e8",ctgyUuid:"",treeName:"\u5168\u90e8",treeUuid:"",highTypeIdx:0,insertOrModify:"insert",fromPage:"project",otherPageName:"",treeSelect:{treeTwoList:[],treeThreeList:[],selectUuid:["","",""],selectName:"",selectEndUuid:""}},data:{psiData:{code:"",name:"",selectName:"",selectUuid:"",categoryTypeList:[],typeList:[],used:!0,uuid:"",projectProperty:"XZ_LOSS",basicProductOpen:"",contractCostOpen:"",contractProfitOpen:"",engineeringSettlementOpen:""}},highTypeList:[],cardList:[],treeList:[],highTypeData:{commonFee:!1,name:"",uuid:"",beAssist:!1,beMake:!0,treeList:[]},deleteList:[],treeData:{name:"",parentName:"",parentUuid:"",uuid:""}});function s(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return((e={},Object(n.a)(e,l.i,(function(){return c})),Object(n.a)(e,l.j,(function(){return t.set(a.dataType,c.get(a.dataType)).setIn(["views","fromPage"],a.fromPage||"project")})),Object(n.a)(e,l.k,(function(){var e=a.list;return e.unshift({name:"\u5168\u90e8",uuid:""}),t.set("highTypeList",Object(r.fromJS)(e)).setIn(["views","ctgyUuid"],e[1].uuid)})),Object(n.a)(e,l.d,(function(){return t.setIn(a.dataType,a.value)})),Object(n.a)(e,l.e,(function(){return t.set(a.dataType,a.value)})),Object(n.a)(e,l.a,(function(){return t.set("cardList",Object(r.fromJS)(a.receivedData))})),Object(n.a)(e,l.h,(function(){var e=a.data.typeList.length?a.data.typeList[0].uuid:"";return t.set("cardList",Object(r.fromJS)(a.data.resultList)).set("treeList",Object(r.fromJS)(a.data.typeList)).mergeIn(["views"],Object(r.fromJS)({treeUuid:e,treeName:"\u5168\u90e8",treeSelect:c.getIn(["views","treeSelect"])}))})),Object(n.a)(e,l.f,(function(){var e=t.getIn(["highTypeData","treeList"]).toJS();return function e(t,n){return t.map((function(t,r){var l=n;(t.uuid==a.uuid||n)&&(t.checked=a.value,l=!0),t.childList.length>0&&e(t.childList,l)}))}(e,!1),t.setIn(["highTypeData","treeList"],Object(r.fromJS)(e))})),Object(n.a)(e,l.g,(function(){var e=a.data.categoryTypeList[0].subordinateName,n=a.data.categoryTypeList[0].subordinateUuid;return t.mergeIn(["data","psiData"],Object(r.fromJS)(a.data)).setIn(["views","insertOrModify"],"modify").setIn(["data","psiData","selectName"],e).setIn(["data","psiData","selectUuid"],n).setIn(["data","psiData","typeList"],Object(r.fromJS)(a.data.categoryTypeList[0].options)).setIn(["views","fromPage"],"project").set("treeList",Object(r.fromJS)(a.data.categoryTypeList[0].options))})),Object(n.a)(e,l.l,(function(){if("card"==a.dataType){t.get("cardList");t=t.update("cardList",(function(e){return e.map((function(e){return e.set("checked",!1)}))}))}else{var e=t.get("treeList").toJS();!function e(t){return t.map((function(t,a){t.checked=!1,t.childList.length>0&&e(t.childList)}))}(e),t=t.set("treeList",Object(r.fromJS)(e))}return t})),Object(n.a)(e,l.b,(function(){return t=t.set("data",c.get("data")).set("treeList",Object(r.fromJS)(a.receivedData)).setIn(["views","insertOrModify"],"insert").setIn(["views","fromPage"],a.otherPageName).setIn(["views","otherPageName"],a.otherPageName).setIn(["views","ctgyUuid"],a.ctgyUuid).set("highTypeList",Object(r.fromJS)(a.highTypeList)).setIn(["data","psiData","code"],a.code).setIn(["data","psiData","categoryTypeList",0],Object(r.fromJS)({ctgyUuid:a.ctgyUuid,subordinateUuid:""})),a.receivedData[0].childList.length<=0&&(t=t.setIn(["data","psiData","selectUuid"],a.receivedData[0].uuid).setIn(["data","psiData","selectName"],a.receivedData[0].name).setIn(["data","psiData","categoryTypeList",0,"subordinateUuid"],a.receivedData[0].uuid)),a.highTypeList.map((function(e){e.uuid==a.ctgyUuid&&"\u751f\u4ea7\u9879\u76ee"==e.name&&(t=t.setIn(["data","psiData","projectProperty"],"XZ_PRODUCE"))})),t})),Object(n.a)(e,l.c,(function(){return t.setIn(["data","psiData","code"],a.value)})),e)[a.type]||function(){return t})()}},1128:function(e,t,a){"use strict";a.d(t,"b",(function(){return u})),a.d(t,"a",(function(){return p}));a(61),a(70),a(1265),a(76);var n=a(4),r=a(1),l=a(78),c=a(14),s=a(12),i=(a(1037),a(2)),o=a(224),m=Object(r.fromJS)({views:{flags:"insert",fromPage:"account"},data:{beginAmount:"",openingName:"",name:"",openingBank:"",accountNumber:"",openInfo:!1,type:"general",uuid:"",acFullName:"",acId:"",assCategoryList:[],canUse:!0,needPoundage:!1,poundage:"",poundageRate:""},poundageData:{flags:"insert",categoryUuid:"",categoryName:"\u8bf7\u9009\u62e9\u5904\u7406\u7c7b\u522b",beProject:!1,contactsManagement:!1,poundageNeedCurrent:!1,poundageNeedProject:!1},regret:{regretList:[]}});function u(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return((e={},Object(n.a)(e,d.INIT_ACCOUNT_SETTING,m),Object(n.a)(e,d.ACCOUNT_SETTING_POUNDAGE,(function(){if("insert"==a.flags)return t.set("poundageData",m.get("poundageData"));var e=a.data,n=t.getIn(["poundageData","flags"]),r=!1,l=!1;return"modify"==a.flags&&(n="modify",e.beProject&&(l=t.getIn(["poundageData","poundageNeedProject"])),e.acCost.contactsManagement&&(r=t.getIn(["poundageData","poundageNeedCurrent"]))),t.setIn(["poundageData","categoryUuid"],e.uuid).setIn(["poundageData","categoryName"],e.name).setIn(["poundageData","beProject"],e.beProject).setIn(["poundageData","contactsManagement"],e.acCost.contactsManagement).setIn(["poundageData","poundageNeedCurrent"],r).setIn(["poundageData","poundageNeedProject"],l).setIn(["poundageData","flags"],n)})),Object(n.a)(e,d.CHANGE_ACCOUNT_SETTING_DATA,(function(){return"insert"==a.value&&(t=t.set("data",m.get("data")).setIn(["views","fromPage"],"account")),t.setIn(a.dataType,a.value)})),Object(n.a)(e,d.BEFOR_ADD_ACCONT_FROM_EDIT_RUNNING,(function(){return"insert"==a.value&&(t=t.set("data",m.get("data")).setIn(["views","fromPage"],"editRunning")),t.setIn(a.dataType,a.value)})),Object(n.a)(e,d.ACCOUNT_SETTING_MIDIFY,(function(){return t.set("data",a.item).setIn(["views","flags"],"modify").setIn(["views","fromPage"],"account")})),e)[a.type]||function(){return t})()}var d={ACCOUNT_SETTING_POUNDAGE:"ACCOUNT_SETTING_POUNDAGE",CHANGE_ACCOUNT_SETTING_DATA:"CHANGE_ACCOUNT_SETTING_DATA",BEFOR_ADD_ACCONT_FROM_EDIT_RUNNING:"BEFOR_ADD_ACCONT_FROM_EDIT_RUNNING",ACCOUNT_SETTING_MIDIFY:"ACCOUNT_SETTING_MIDIFY",INIT_ACCOUNT_SETTING:"INIT_ACCOUNT_SETTING"},p={getCardDetail:function(e,t){return function(a,n){i.a.toast.loading(c.p,0),Object(l.a)("getRunningDetail","GET","uuid=".concat(e),(function(e){i.a.toast.hide(),Object(s.u)(e)&&a({type:d.ACCOUNT_SETTING_POUNDAGE,data:e.data.result,flags:t})}))}},accountSettingMidify:function(e){return{type:d.ACCOUNT_SETTING_MIDIFY,item:e}},changeAccountSettingData:function(e,t){return{type:d.CHANGE_ACCOUNT_SETTING_DATA,dataType:e,value:t}},saveAccountPoundage:function(e){return function(t,a){var n=a().accountConfigState,r=n.getIn(["poundageData","flags"]),o=n.getIn(["poundageData","categoryUuid"]),m=n.getIn(["poundageData","poundageNeedCurrent"]),u=n.getIn(["poundageData","poundageNeedProject"]);i.a.toast.loading(c.p,0),Object(l.a)("".concat(r,"AccountPoundage"),"POST",JSON.stringify({categoryUuid:o,poundageNeedCurrent:m,poundageNeedProject:u}),(function(t){i.a.toast.hide(),Object(s.u)(t,"show")&&e.goBack()}))}},getAccountPoundage:function(){return function(e){Object(l.a)("getAccountPoundage","GET","",(function(t){Object(s.u)(t)&&(t.data.canUsed&&t.data.uuid?(e(p.changeAccountSettingData(["poundageData","poundageNeedProject"],t.data.poundageNeedProject)),e(p.changeAccountSettingData(["poundageData","poundageNeedCurrent"],t.data.poundageNeedCurrent)),e(p.getCardDetail(t.data.categoryUuid,"modify"))):e({type:d.ACCOUNT_SETTING_POUNDAGE,flags:"insert"}),!t.data.canUsed&&t.data.uuid&&(i.a.Alert("\u5904\u7406\u7c7b\u522b\u5931\u6548\uff0c\u8bf7\u91cd\u65b0\u9009\u62e9"),e(p.changeAccountSettingData(["poundageData","flags"],"modify"))))}))}},getRegretList:function(){return function(e){i.a.toast.loading(c.p,0),Object(l.a)("getAccountRegretList","GET","",(function(t){i.a.toast.hide(),Object(s.u)(t)&&(t.data.accountRegretList.forEach((function(e){e.key=e.name,e.value=e.uuid})),e(p.changeAccountSettingData(["regret","regretList"],Object(r.fromJS)(t.data.accountRegretList))))}))}},accountRegret:function(e,t){return function(a){i.a.toast.loading(c.p,0),Object(l.a)("accountRegret","POST",JSON.stringify(e),(function(e){i.a.toast.hide(),Object(s.u)(e,"show")&&(t.goBack(),a(o.d()))}))}}}},1265:function(e,t,a){var n=a(66),r=a(71),l=a(231),c=a(559).UNSUPPORTED_Y;n&&("g"!=/./g.flags||c)&&r.f(RegExp.prototype,"flags",{configurable:!0,get:l})},1337:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));a(32),a(115),a(31),a(219),a(131);var n=a(7),r=a(8),l=a(9),c=a(10),s=a(0),i=a.n(s),o=a(11),m=a(12),u=a(2),d=(a(1466),function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).scrollView="",e.state={checkedList:[]},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.scrollView=document.getElementsByClassName("scroll-view")[0]}},{key:"componentWillReceiveProps",value:function(e){e.assistVisible&&this.setState({checkedList:e.oriAssistList}),e.assistVisible&&this.scrollView&&(this.scrollView.style["overflow-y"]="hidden"),!e.assistVisible&&this.scrollView&&(this.scrollView.style["overflow-y"]="auto")}},{key:"render",value:function(){var e=this,t=this.props,a=t.assistVisible,n=t.assistClassificationList,r=t.onOk,l=t.addClick,c=t.onCancel,s=this.state.checkedList,d=[];return i.a.createElement("div",{className:"edit-assist xfn-multiple ".concat(a?"xfn-multiple-animate":"xfn-multiple-none-animate"),onClick:function(){return c()}},i.a.createElement("div",{className:"xfn-multiple-popup ".concat(a?"xfn-multiple-popup-animate":"xfn-multiple-popup-none-animate"),style:{minHeight:"75%"},onClick:function(e){return e.stopPropagation()}},i.a.createElement("div",{className:"xfn-multiple-title"},i.a.createElement("div",null,i.a.createElement("span",null,"\u8bf7\u9009\u62e9\u5c5e\u6027"))),i.a.createElement("ul",{style:{padding:"0 .1rem"}},n.map((function(t,a){var n=t.get("inventoryUuid"),r=t.get("uuid"),c=t.get("name");return d.push(r),i.a.createElement("div",{key:r,className:"margin-top"},i.a.createElement("div",null,c),i.a.createElement("div",{className:"padding-top"},t.get("propertyList").map((function(t){var a=t.get("uuid"),n=t.get("name"),l=s.findIndex((function(e){return e.propertyUuid==a})),o="assist-button",m=!1;return l>-1&&(m=!0,o="assist-button assist-select"),i.a.createElement("span",{className:o,key:a,onClick:function(){if(m)s.splice(l,1);else{var t=s.findIndex((function(e){return e.classificationUuid==r}));t>-1&&s.splice(t,1),s.push({propertyUuid:a,propertyName:n,classificationUuid:r,classificationName:c})}e.setState({checkedList:s})}},n)})),i.a.createElement("span",{className:"assist-button assist-add",key:"add",onClick:function(){u.a.Prompt({title:"\u65b0\u589e".concat(c),message:"\u8bf7\u8f93\u5165\u5c5e\u6027\u540d\u79f0:",buttonLabels:["\u53d6\u6d88","\u786e\u8ba4"],onSuccess:function(e){if(1===e.buttonIndex){var t=[{type:"topestName",value:e.value}];m.g.beforeSaveCheck(t,(function(){l({inventoryUuid:n,classificationUuid:r,name:e.value})}))}}})}},i.a.createElement(o.l,{type:"add"})," \u65b0\u589e")))}))),i.a.createElement("div",{className:"xfn-multiple-select"},i.a.createElement("span",{className:"overElli"},s.reduce((function(e,t){return"".concat(e).concat(e?";":"").concat(t.propertyName)}),"")),i.a.createElement("span",{className:"xfn-multiple-button",onClick:function(){var t=s.map((function(e){return e.classificationUuid}));if(d.length!=t.length)return u.a.toast.info("\u8bf7\u9009\u62e9\u5b8c\u6574\u7684\u5c5e\u6027");r(s),e.setState({checkedList:[]})}},"\u786e\u5b9a"))))}}]),a}(i.a.Component))},1462:function(e,t,a){},1463:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return L}));a(32),a(61),a(62),a(31),a(219),a(70),a(77),a(1071),a(76);var n=a(1092),r=a.n(n),l=a(4),c=(a(1079),a(1093)),s=a(118),i=a(7),o=a(8),m=a(9),u=a(10),d=a(0),p=a.n(d),g=a(1),h=a(11),E=a(12),f=a(2),y=a(1025),b=a(1040),v=h.u.SinglePortal,L=function(t){Object(u.a)(n,t);var a=Object(m.a)(n);function n(){var e;Object(i.a)(this,n);for(var t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];return(e=a.call.apply(a,[this].concat(r))).state={visible:!1},e}return Object(o.a)(n,[{key:"render",value:function(){var t=this,a=this.props,n=a.dispatch,i=a.idx,o=a.cardData,m=a.cardDisabled,u=a.stockCardList,d=a.stockListArr,L=a.isOpenedWarehouse,S=a.warehouseList,C=a.onClick,N=a.assistClick,T=a.batchList,_=a.oriState,j=a.serialMultipleList,O=a.isModify,A=a.oriUuid,k=this.state.visible,I=function(e){return n(y.changeLrlsAmount(e))},J=function(e,t){return n(y.changeYysrStockCard(e,t,i))},Z=o,D=0;u.forEach((function(e){return D+=Number(e.get("amount"))}));var w=[],U=[],B=Z.get("isOpenedQuantity"),x=Z.get("cardUuid"),P=Z.get("warehouseCardUuid"),X=Z.get("quantity")?Number(Z.get("quantity")):0,R=Z.get("price")?Number(Z.get("price")):0,Y=Z.get("amount")?Number(Z.get("amount")):0;if(B){var M,F=Object(s.a)(d);try{for(F.s();!(M=F.n()).done;){var H=M.value;if(H.uuid==Z.get("cardUuid")){w.push({key:H.unit.name,value:H.unit.uuid}),H.unit.unitList.map((function(e){w.push({key:e.name,value:e.uuid})})),H.unitPriceList&&(U=H.unitPriceList);break}}}catch(re){F.e(re)}finally{F.f()}}var z=Z.getIn(["financialInfo","openAssist"]),G=Z.getIn(["financialInfo","openSerial"]),q=Z.getIn(["financialInfo","openBatch"]),W=Z.getIn(["financialInfo","openShelfLife"]),Q=Z.getIn(["financialInfo","shelfLife"]),K=Z.get("assistList")?Z.get("assistList"):Object(g.fromJS)([]),V=Z.get("serialList")?Z.get("serialList"):Object(g.fromJS)([]),$=K.reduce((function(e,t){return"".concat(e).concat(e?";":"").concat(t.get("propertyName"))}),""),ee=Z.get("batch")?Z.get("batch"):"",te=Z.get("batchUuid")?Z.get("batchUuid"):"",ae=Z.get("expirationDate")?Z.get("expirationDate"):"",ne=ae?"".concat(ee,"(").concat(ae,")"):ee;console.log(Z.toJS());return p.a.createElement("div",{className:"lrls-card"},p.a.createElement("div",{className:"lrls-more-card lrls-placeholder lrls-bottom"},p.a.createElement("span",null,"\u5b58\u8d27\u660e\u7ec6(",i+1,")")),p.a.createElement("div",{className:"lrls-more-card lrls-bottom"},p.a.createElement("label",null,"\u5b58\u8d27:"),p.a.createElement("div",{className:"lrls-single",onClick:function(){C()}},p.a.createElement(h.r,{className:"lrls-category lrls-padding"},Z.get("cardUuid")?p.a.createElement("span",null," ","".concat(Z.get("code")," ").concat(Z.get("name"))," "):p.a.createElement("span",{className:"lrls-placeholder"},"\u70b9\u51fb\u9009\u62e9\u5b58\u8d27\u5361\u7247"),p.a.createElement(h.l,{type:"triangle",color:m?"#999":""})))),p.a.createElement("div",{className:"lrls-more-card lrls-bottom",style:{display:z?"":"none"}},p.a.createElement("label",null,"\u5c5e\u6027:"),p.a.createElement("div",{className:"lrls-single",onClick:function(){N()}},p.a.createElement(h.r,{className:"lrls-category lrls-padding"},$?p.a.createElement("span",null," ",$," "):p.a.createElement("span",{className:"lrls-placeholder"},"\u70b9\u51fb\u9009\u62e9\u5c5e\u6027"),p.a.createElement(h.l,{type:"triangle",color:m?"#999":""})))),p.a.createElement("div",{className:"lrls-more-card lrls-bottom",style:{display:q?"":"none"}},p.a.createElement("label",null,"\u6279\u6b21:"),p.a.createElement(v,{className:"lrls-single",district:T,value:ee,icon:{type:"add-plus",onClick:function(){n(b.f("MODIFY-INSERT",x,W,Q))}},iconTwo:{type:"home",onClick:function(){n(b.f("MODIFY-MODIFY",x,W,Q))}},onOk:function(e){J("bitch",Object(g.fromJS)({batch:e.batch,batchUuid:e.batchUuid,expirationDate:e.expirationDate})),G&&(J("quantity",""),J("serialList",Object(g.fromJS)([])))}},p.a.createElement(h.r,{className:"lrls-category lrls-padding",onClick:function(){n(y.getBatchList(x))}},ne?p.a.createElement("span",null,ne):p.a.createElement("span",{className:"lrls-placeholder"},"\u70b9\u51fb\u9009\u62e9\u6279\u6b21"),p.a.createElement(h.l,{type:"triangle"})))),p.a.createElement("div",{className:"lrls-more-card lrls-bottom",style:{display:L?"":"none"}},p.a.createElement("label",null,"\u4ed3\u5e93:"),p.a.createElement(v,{className:"lrls-single",district:S.toJS(),value:Z.get("warehouseCardUuid"),onOk:function(e){J("warehouse",e),G&&(J("quantity",""),J("serialList",Object(g.fromJS)([])))}},p.a.createElement(h.r,{className:"lrls-category lrls-padding"},Z.get("warehouseCardUuid")?p.a.createElement("span",null," ",Z.get("warehouseCardCode")," ",Z.get("warehouseCardName")," "):p.a.createElement("span",{className:"lrls-placeholder"},"\u70b9\u51fb\u9009\u62e9\u4ed3\u5e93\u5361\u7247"),p.a.createElement(h.l,{type:"triangle"})))),p.a.createElement(h.r,{className:"yysr-amount lrls-bottom",style:{display:B?"":"none"}},p.a.createElement("label",null,"\u6570\u91cf:"),G?p.a.createElement("span",{className:"serial",style:{display:G?"":"none"},onClick:function(){return function(){var a=[];if(!x)return f.a.toast.info("\u8bf7\u5148\u9009\u62e9\u5b58\u8d27\u5361\u7247");var s="JR_ENTRY",i={STATE_YYSR_XS:"preOutJrOriCardUuid",STATE_YYSR_TS:"preInJrOriCardUuid",STATE_YYZC_GJ:"inJrOriCardUuid",STATE_YYZC_TG:"outJrOriCardUuid"}[_];if(["STATE_YYSR_XS","STATE_YYZC_TG"].includes(_)){s="JR_OUT";var o="STATE_YYSR_XS"==_;if(z&&0==K.size&&a.push("\u8bf7\u5148\u9009\u62e9\u5b8c\u6574\u7684\u5c5e\u6027"),q&&!ee&&a.push("\u8bf7\u5148\u9009\u62e9\u6279\u6b21"),L&&!P&&a.push("\u8bf7\u5148\u9009\u62e9\u4ed3\u5e93"),a.length)return f.a.toast.info(a[0]);(function(){var e=Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){n(y.getSerialListIn({inventoryUuid:x,warehouseUuid:P,assistList:K,batchUuid:te,oriUuid:A,isPre:o},e))}));case 2:if(!X||!O||0!=V.size){e.next=5;break}return e.next=5,new Promise((function(e){n(y.getSerialListChecked(Object(l.a)({inventoryUuid:x},i,Z.get("jrOriCardUuid")),(function(t){J("serialList",t),e()}),!0))}));case 5:t.setState({visible:!0});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}if("JR_ENTRY"==s){var m=function(t){n(b.e("serial",Object(g.fromJS)({serialList:t,type:"JR_ENTRY",afterAdd:function(e){var t=e.size;if(J("quantity",t),J("serialList",e),R>0){var a=Object(E.l)(R*Number(t));J("amount",a);var n=D-Number(Z.get("amount"))+Number(a);I(Object(E.l)(n))}}}),!0)),e.routerHistory.push("/config/inventory/serial")};if(X&&O&&0==V.size)return void n(y.getSerialListChecked(Object(l.a)({inventoryUuid:x,inType:"J"},i,Z.get("jrOriCardUuid")),(function(e){return m(e)})));m(V)}}()}},X?p.a.createElement(h.a,{decimalPlaces:4,decimalZero:!1},X):"\u70b9\u51fb\u8f93\u5165",p.a.createElement(h.l,{type:"edit"})):p.a.createElement(h.E.BorderInputItem,{mode:"number",placeholder:"\u586b\u5199\u6570\u91cf",value:Z.get("quantity"),onChange:function(e){if(/^\d*\.?\d{0,4}$/g.test(e)&&(J("quantity",e),R>0)){var t=Object(E.l)(R*Number(e));J("amount",t);var a=D-Number(Z.get("amount"))+Number(t);I(Object(E.l)(a))}else;}}),p.a.createElement(v,{className:"lrls-single",district:w,value:Z.get("unitUuid"),onOk:function(e){J("unit",e),U.map((function(t){if(e.value==t.unitUuid&&(J("price",t.defaultPrice),X>0)){var a=Object(E.l)(X*Number(t.defaultPrice));J("amount",a);var n=D-Number(Z.get("amount"))+Number(a);I(Object(E.l)(n))}}))}},p.a.createElement(h.r,{className:"lrls-account lrls-type"},Z.get("unitUuid")?p.a.createElement("span",null," ",Z.get("unitName")," "):p.a.createElement("span",{className:"lrls-placeholder"},"\u9009\u62e9\u6570\u91cf\u5355\u4f4d"),p.a.createElement(h.l,{type:"triangle"})))),p.a.createElement("div",{className:"lrls-more-card lrls-bottom",style:{display:B?"":"none"}},p.a.createElement("label",null,"\u5355\u4ef7:"),p.a.createElement(h.E.BorderInputItem,{mode:"number",placeholder:"\u8bf7\u586b\u5199\u5355\u4ef7",value:Z.get("price"),onChange:function(e){if(/^\d*\.?\d{0,4}$/g.test(e)&&(J("price",e),X>0)){var t=Object(E.l)(X*Number(e));J("amount",t);var a=D-Number(Z.get("amount"))+Number(t);I(Object(E.l)(a))}}})),p.a.createElement("div",{className:"lrls-more-card",onClick:function(){Z.get("cardUuid")||f.a.toast.info("\u8bf7\u5148\u9009\u62e9\u5b58\u8d27\u5361\u7247")}},p.a.createElement("label",null,"\u91d1\u989d:"),p.a.createElement(h.E.BorderInputItem,{mode:"amount",disabled:m||!Z.get("cardUuid"),placeholder:"\u8bf7\u586b\u5199\u91d1\u989d",value:Z.get("amount"),onChange:function(e){if(/^\d*\.?\d{0,2}$/g.test(e)){J("amount",e);var t=D-Number(Z.get("amount"))+Number(e);if(I(Object(E.l)(t)),X>0){var a=Object(E.l)(Number(e)/X,4);return void J("price",a)}}}})),p.a.createElement(h.n,{visible:k,district:j,value:V.toJS().map((function(e){return e.serialUuid})),title:"\u9009\u62e9\u5e8f\u5217\u53f7",showPreview:!0,previewTitle:"\u5df2\u9009\u62e9\u5e8f\u5217\u53f7",onOk:function(e){if(t.setState({visible:!1}),J("quantity",e.length),J("serialList",Object(g.fromJS)(e)),R>0){var a=Object(E.l)(R*Number(e.length));J("amount",a);var n=D-Number(Y)+Number(a);I(Object(E.l)(n))}},onCancel:function(){t.setState({visible:!1})}},p.a.createElement("span",null)))}}]),n}(d.Component)}).call(this,a(49))},1464:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return b}));a(32),a(31),a(219),a(70),a(77),a(1071);var n=a(1092),r=a.n(n),l=(a(1079),a(1093)),c=a(118),s=a(7),i=a(8),o=a(9),m=a(10),u=a(0),d=a.n(u),p=a(1),g=a(11),h=a(12),E=a(2),f=a(1025),y=a(1040),b=function(t){Object(m.a)(n,t);var a=Object(o.a)(n);function n(){var e;Object(s.a)(this,n);for(var t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];return(e=a.call.apply(a,[this].concat(r))).state={visible:!1},e}return Object(i.a)(n,[{key:"render",value:function(){var t=this,a=this.props,n=a.dispatch,s=a.idx,i=a.cardType,o=a.cardData,m=a.onClick,u=a.stockList,b=a.warehouseList,v=a.isOpenedWarehouse,L=a.assistClick,S=a.batchList,C=a.serialMultipleList,N=a.isModify,T=a.oriUuid,_=this.state.visible,j=function(e,t){return n(f.changeYysrStockCard(e,t,s,"CHZZ",i))},O=s,A=o,k=[],I=A.get("isOpenedQuantity"),J=A.get("cardUuid"),Z=A.get("quantity")?Number(A.get("quantity")):0,D=A.get("price")?Number(A.get("price")):0,w=(A.get("amount")&&Number(A.get("amount")),A.get("warehouseCardUuid"));if(I){var U,B=u.toJS(),x=Object(c.a)(B);try{for(x.s();!(U=x.n()).done;){var P=U.value;if(P.uuid==A.get("cardUuid")){k.push({key:P.unit.name,value:P.unit.uuid,basicUnitQuantity:P.unit.basicUnitQuantity}),P.unit.unitList.map((function(e){k.push({key:e.name,value:e.uuid,basicUnitQuantity:e.basicUnitQuantity})}));break}}}catch(V){x.e(V)}finally{x.f()}}var X=A.getIn(["financialInfo","openAssist"]),R=A.getIn(["financialInfo","openSerial"]),Y=A.getIn(["financialInfo","openBatch"]),M=A.getIn(["financialInfo","openShelfLife"]),F=A.getIn(["financialInfo","shelfLife"]),H=A.get("assistList")?A.get("assistList"):Object(p.fromJS)([]),z=A.get("serialList")?A.get("serialList"):Object(p.fromJS)([]),G=H.reduce((function(e,t){return"".concat(e).concat(e?";":"").concat(t.get("propertyName"))}),""),q=A.get("batch")?A.get("batch"):"",W=A.get("batchUuid")?A.get("batchUuid"):"",Q=A.get("expirationDate")?A.get("expirationDate"):"",K=Q?"".concat(q,"(").concat(Q,")"):q;console.log(A.toJS());return d.a.createElement("div",{className:"lrls-card"},d.a.createElement("div",{className:"lrls-more-card lrls-placeholder lrls-bottom"},d.a.createElement("span",null,"".concat("stockCardList"==i?"\u7269\u6599\u660e\u7ec6":"\u6210\u54c1\u660e\u7ec6","(").concat(O+1,")"))),d.a.createElement("div",{className:"lrls-more-card lrls-bottom"},d.a.createElement("label",null,"\u5b58\u8d27:"),d.a.createElement("div",{className:"lrls-single",onClick:function(){m()}},d.a.createElement(g.r,{className:"lrls-category lrls-padding"},A.get("cardUuid")?d.a.createElement("span",null," ","".concat(A.get("code")," ").concat(A.get("name"))," "):d.a.createElement("span",{className:"lrls-placeholder"},"\u70b9\u51fb\u9009\u62e9\u5b58\u8d27\u5361\u7247"),d.a.createElement(g.l,{type:"triangle"})))),d.a.createElement("div",{className:"lrls-more-card lrls-bottom",style:{display:X?"":"none"}},d.a.createElement("label",null,"\u5c5e\u6027:"),d.a.createElement("div",{className:"lrls-single",onClick:function(){L()}},d.a.createElement(g.r,{className:"lrls-category lrls-padding"},G?d.a.createElement("span",null," ",G," "):d.a.createElement("span",{className:"lrls-placeholder"},"\u70b9\u51fb\u9009\u62e9\u5c5e\u6027"),d.a.createElement(g.l,{type:"triangle"})))),d.a.createElement("div",{className:"lrls-more-card lrls-bottom",style:{display:Y?"":"none"}},d.a.createElement("label",null,"\u6279\u6b21:"),d.a.createElement(g.u,{className:"lrls-single",district:S,value:q,icon:{type:"add-plus",onClick:function(){n(y.f("MODIFY-INSERT",J,M,F))}},iconTwo:{type:"home",onClick:function(){n(y.f("MODIFY-MODIFY",J,M,F))}},onOk:function(e){j("bitch",Object(p.fromJS)({batch:e.batch,batchUuid:e.batchUuid,expirationDate:e.expirationDate})),R&&(j("quantity",""),j("serialList",Object(p.fromJS)([])))}},d.a.createElement(g.r,{className:"lrls-category lrls-padding",onClick:function(){n(f.getBatchList(J))}},K?d.a.createElement("span",null,K):d.a.createElement("span",{className:"lrls-placeholder"},"\u70b9\u51fb\u9009\u62e9\u6279\u6b21"),d.a.createElement(g.l,{type:"triangle"})))),d.a.createElement("div",{className:"lrls-more-card lrls-bottom",style:{display:v?"":"none"}},d.a.createElement("label",null,"\u4ed3\u5e93:"),d.a.createElement(g.u,{className:"lrls-single",district:b.toJS(),value:A.get("warehouseCardUuid"),onOk:function(e){j("warehouse",e),R&&(j("quantity",""),j("serialList",Object(p.fromJS)([]))),I&&n(f.getChzzPrice(O,i))}},d.a.createElement(g.r,{className:"lrls-category lrls-padding"},A.get("warehouseCardUuid")?d.a.createElement("span",null," ","".concat(A.get("warehouseCardCode")," ").concat(A.get("warehouseCardName"))," "):d.a.createElement("span",{className:"lrls-placeholder"},"\u70b9\u51fb\u9009\u62e9\u4ed3\u5e93\u5361\u7247"),d.a.createElement(g.l,{type:"triangle"})))),d.a.createElement(g.r,{className:"yysr-amount lrls-bottom",style:{display:I?"":"none"}},d.a.createElement("label",null,"\u6570\u91cf:"),R?d.a.createElement("span",{className:"serial",style:{display:R?"":"none"},onClick:function(){return function(){var a=[];if(!J)return E.a.toast.info("\u8bf7\u5148\u9009\u62e9\u5b58\u8d27\u5361\u7247");var c="JR_ENTRY";if("stockCardList"==i){if(c="JR_OUT",X&&0==H.size&&a.push("\u8bf7\u5148\u9009\u62e9\u5b8c\u6574\u7684\u5c5e\u6027"),Y&&!q&&a.push("\u8bf7\u5148\u9009\u62e9\u6279\u6b21"),v&&!w&&a.push("\u8bf7\u5148\u9009\u62e9\u4ed3\u5e93"),a.length)return E.a.toast.info(a[0]);(function(){var e=Object(l.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!=z.size){e.next=3;break}return e.next=3,new Promise((function(e){n(f.getSerialListIn({inventoryUuid:J,warehouseUuid:w,assistList:H,batchUuid:W,oriUuid:T},e))}));case 3:if(!Z||!N||0!=z.size){e.next=6;break}return e.next=6,new Promise((function(e){n(f.getSerialListChecked({inventoryUuid:J,outJrOriCardUuid:A.get("jrOriCardUuid")},(function(t){j("serialList",t),e()}),!0))}));case 6:t.setState({visible:!0});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}if("JR_ENTRY"==c){var s=function(t){n(y.e("serial",Object(p.fromJS)({serialList:t,type:"JR_ENTRY",afterAdd:function(e){var t=e.size;if(j("quantity",t),j("serialList",e),D>0){var a=Object(h.l)(D*Number(t));j("amount",a)}}}),!0)),e.routerHistory.push("/config/inventory/serial")};if(Z&&N&&0==z.size)return void n(f.getSerialListChecked({inventoryUuid:J,inType:"J",inJrOriCardUuid:A.get("jrOriCardUuid")},(function(e){return s(e)})));s(z)}}()}},Z?d.a.createElement(g.a,{decimalPlaces:4,decimalZero:!1},Z):"\u70b9\u51fb\u8f93\u5165",d.a.createElement(g.l,{type:"edit"})):d.a.createElement(g.E.BorderInputItem,{mode:"number",placeholder:"\u586b\u5199\u6570\u91cf",value:A.get("quantity"),onChange:function(e){if(/^\d*\.?\d{0,4}$/g.test(e)&&(j("quantity",e),D>0)){var t=Object(h.l)(D*Number(e));j("amount",t)}else;}}),d.a.createElement(g.u,{className:"lrls-single",district:k,value:A.get("unitUuid"),onOk:function(e){if(j("unit",e),A.get("unitPrice")){var t=Object(h.l)(A.get("unitPrice")*e.basicUnitQuantity);if(j("price",t),A.get("quantity")){var a=Object(h.l)(t*Number(A.get("quantity")));j("amount",a)}}}},d.a.createElement(g.r,{className:"lrls-account lrls-type"},A.get("unitUuid")?d.a.createElement("span",null," ",A.get("unitName")," "):d.a.createElement("span",{className:"lrls-placeholder"},"\u9009\u62e9\u6570\u91cf\u5355\u4f4d"),d.a.createElement(g.l,{type:"triangle"})))),d.a.createElement(g.r,{className:"lrls-more-card lrls-bottom",style:{display:I?"":"none"}},d.a.createElement("label",null,"\u5355\u4ef7\uff1a"),d.a.createElement(g.E.BorderInputItem,{mode:"number",placeholder:"\u586b\u5199\u5355\u4ef7",value:A.get("price"),onChange:function(e){if(/^\d*\.?\d{0,4}$/g.test(e)&&(j("price",e),Z>0)){var t=Object(h.l)(Z*Number(e));j("amount",t)}}})),d.a.createElement(g.r,{className:"lrls-more-card",onClick:function(){J||E.a.toast.info("\u8bf7\u5148\u9009\u62e9\u5b58\u8d27")}},d.a.createElement("label",null,"\u91d1\u989d\uff1a"),d.a.createElement(g.E.BorderInputItem,{mode:"amount",disabled:!J,placeholder:"\u586b\u5199\u91d1\u989d",value:A.get("amount"),onChange:function(e){if(/^\d*\.?\d{0,2}$/g.test(e)&&j("amount",e),I&&Z>0){var t=Object(h.l)(Number(e)/Z,4);j("price",t)}}})),d.a.createElement(g.n,{visible:_,district:C,value:z.toJS().map((function(e){return e.serialUuid})),title:"\u9009\u62e9\u5e8f\u5217\u53f7",showPreview:!0,previewTitle:"\u5df2\u9009\u62e9\u5e8f\u5217\u53f7",onOk:function(e){if(t.setState({visible:!1}),j("quantity",e.length),j("serialList",Object(p.fromJS)(e)),D>0){var a=Object(h.l)(D*Number(e.length));j("amount",a)}else;},onCancel:function(){t.setState({visible:!1})}},d.a.createElement("span",null)))}}]),n}(u.Component)}).call(this,a(49))},1465:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return v}));a(32),a(61),a(62),a(31),a(219),a(70),a(77),a(1071),a(76);var n=a(1092),r=a.n(n),l=(a(1079),a(1093)),c=a(118),s=a(7),i=a(8),o=a(9),m=a(10),u=a(0),d=a.n(u),p=a(1),g=a(11),h=a(1337),E=a(12),f=a(2),y=a(1025),b=a(1040),v=function(t){Object(m.a)(n,t);var a=Object(o.a)(n);function n(){var e;Object(s.a)(this,n);for(var t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];return(e=a.call.apply(a,[this].concat(r))).state={isAll:!0,visible:!1,categoryValue:"ALL",childIdx:[],serialVisible:!1,assistVisible:!1},e.assistClassificationList=[],e.oriAssistList=[],e.openSerial=!1,e.serialList=Object(p.fromJS)([]),e.price="",e}return Object(i.a)(n,[{key:"render",value:function(){var t=this,a=this.props,n=a.dispatch,s=a.idx,i=(a.cardType,a.cardData),o=a.onClick,m=a.stockList,u=a.warehouseList,v=a.isOpenedWarehouse,L=a.isModify,S=a.assemblyList,C=a.stockCategoryList,N=a.commonCardList,T=a.assistClick,_=a.batchList,j=a.serialMultipleList,O=a.oriUuid,A=this.state,k=A.isAll,I=A.visible,J=A.categoryValue,Z=A.childIdx,D=A.serialVisible,w=A.assistVisible,U=function(e,t,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"CHZZ_ZZD";"CHZZ_ZZD_CHILD"==r&&["quantity","price","amount","unitUuid","unitName","bitch","serialList","assistList"].includes(e)?n(y.changeLrlsData(["oriTemp","stockCardList",a[0],"childCardList",a[1],e],t)):n(y.changeYysrStockCard(e,t,a,r,"stockCardList"))},B=[{uuid:"ALL",name:"\u5168\u90e8",top:!0,childList:[]}];C.map((function(e){B.push(e.toJS())})),function e(t){t.forEach((function(t){t.key=t.uuid,t.label=t.name,t.childList.length&&e(t.childList)}))}(B);var x=k?m.toJS():N;x.map((function(e){e.name=e.key}));var P=s,X=i,R=(X.get("isOpenedQuantity"),X.get("cardUuid")),Y=X.get("quantity")?Number(X.get("quantity")):0,M=X.get("childCardList").size,F=(X.get("warehouseCardUuid"),0),H=0;X.get("childCardList").map((function(e){F+=Number(e.get("amount"))})),Y&&(H=Number(F)/Number(Y));var z=X.getIn(["financialInfo","openAssist"]),G=X.getIn(["financialInfo","openSerial"]),q=X.getIn(["financialInfo","openBatch"]),W=X.getIn(["financialInfo","openShelfLife"]),Q=X.getIn(["financialInfo","shelfLife"]),K=X.get("assistList")?X.get("assistList"):Object(p.fromJS)([]),V=X.get("serialList")?X.get("serialList"):Object(p.fromJS)([]),$=K.reduce((function(e,t){return"".concat(e).concat(e?";":"").concat(t.get("propertyName"))}),""),ee=X.get("batch")?X.get("batch"):"",te=(X.get("batchUuid")&&X.get("batchUuid"),X.get("expirationDate")?X.get("expirationDate"):""),ae=te?"".concat(ee,"(").concat(te,")"):ee;console.log(X.toJS());return d.a.createElement("div",{className:"lrls-card"},d.a.createElement(g.f,{visible:I,type:"card",multiSelect:!0,title:"\u8bf7\u9009\u62e9\u5b58\u8d27",district:B,cardList:x,value:J,onChange:function(e){t.setState({categoryValue:e.key}),"ALL"!=e.key?(t.setState({isAll:!1}),n(y.getStockListByCategory(e))):t.setState({isAll:!0})},onOk:function(e){e.length&&U("card",e,Z,"CHZZ_ZZD_CHILD")},onCancel:function(){t.setState({visible:!1})}},d.a.createElement("span",null)),d.a.createElement("div",{style:{paddingBottom:"10px"}},d.a.createElement("div",{className:"lrls-more-card lrls-placeholder lrls-bottom"},d.a.createElement("span",null,"\u7ec4\u88c5\u6210\u54c1(",P+1,")")),d.a.createElement("div",{className:"lrls-more-card lrls-bottom"},d.a.createElement("label",null,"\u5b58\u8d27:"),d.a.createElement("div",{className:"lrls-single",onClick:function(){return o()}},d.a.createElement(g.r,{className:"lrls-category lrls-padding"},X.get("cardUuid")?d.a.createElement("span",null," ","".concat(X.get("code")," ").concat(X.get("name"))," "):d.a.createElement("span",{className:"lrls-placeholder"},"\u70b9\u51fb\u9009\u62e9\u5b58\u8d27\u5361\u7247"),d.a.createElement(g.l,{type:"triangle"})))),d.a.createElement("div",{className:"lrls-more-card lrls-bottom",style:{display:z?"":"none"}},d.a.createElement("label",null,"\u5c5e\u6027:"),d.a.createElement("div",{className:"lrls-single",onClick:function(){T()}},d.a.createElement(g.r,{className:"lrls-category lrls-padding"},$?d.a.createElement("span",null," ",$," "):d.a.createElement("span",{className:"lrls-placeholder"},"\u70b9\u51fb\u9009\u62e9\u5c5e\u6027"),d.a.createElement(g.l,{type:"triangle"})))),d.a.createElement("div",{className:"lrls-more-card lrls-bottom",style:{display:q?"":"none"}},d.a.createElement("label",null,"\u6279\u6b21:"),d.a.createElement(g.u,{className:"lrls-single",district:_,value:ee,icon:{type:"add-plus",onClick:function(){n(b.f("MODIFY-INSERT",R,W,Q))}},iconTwo:{type:"home",onClick:function(){n(b.f("MODIFY-MODIFY",R,W,Q))}},onOk:function(e){U("bitch",Object(p.fromJS)({batch:e.batch,batchUuid:e.batchUuid,expirationDate:e.expirationDate}),P),G&&(U("quantity","",P),U("serialList",Object(p.fromJS)([]),P))}},d.a.createElement(g.r,{className:"lrls-category lrls-padding",onClick:function(){n(y.getBatchList(R))}},ae?d.a.createElement("span",null,ae):d.a.createElement("span",{className:"lrls-placeholder"},"\u70b9\u51fb\u9009\u62e9\u6279\u6b21"),d.a.createElement(g.l,{type:"triangle"})))),d.a.createElement("div",{className:"lrls-more-card lrls-bottom",style:{display:v?"":"none"}},d.a.createElement("label",null,"\u4ed3\u5e93:"),d.a.createElement(g.u,{className:"lrls-single",district:u.toJS(),value:X.get("warehouseCardUuid"),onOk:function(e){U("warehouse",e,P),G&&(U("quantity","",P),U("serialList",Object(p.fromJS)([]),P))}},d.a.createElement(g.r,{className:"lrls-category lrls-padding"},X.get("warehouseCardUuid")?d.a.createElement("span",null," ","".concat(X.get("warehouseCardCode")," ").concat(X.get("warehouseCardName"))," "):d.a.createElement("span",{className:"lrls-placeholder"},"\u70b9\u51fb\u9009\u62e9\u4ed3\u5e93\u5361\u7247"),d.a.createElement(g.l,{type:"triangle"})))),d.a.createElement(g.r,{className:"lrls-more-card lrls-bottom"},d.a.createElement("label",null,"\u6570\u91cf:"),d.a.createElement("div",{className:"lrls-single",onClick:function(){G?function(){var t=function(t){n(b.e("serial",Object(p.fromJS)({serialList:t,type:"JR_ENTRY",afterAdd:function(e){var t=e.size;U("serialList",e,P);var a,r=!1,l=Object(c.a)(S);try{for(l.s();!(a=l.n()).done;){var s=a.value;if(s.uuid==X.toJS().cardUuid){r=s.isAvailable;break}}}catch(i){l.e(i)}finally{l.f()}if(!r)return f.a.toast.info("\u7ec4\u88c5\u5355\u8bbe\u7f6e\u5df2\u5931\u6548\uff0c\u65e0\u6cd5\u83b7\u53d6\u7269\u6599\u8be6\u60c5"),void U("quantity",t,P);U("quantity_zzd",t,P),n(y.getChzzZzdListPrice(P))}}),!0)),e.routerHistory.push("/config/inventory/serial")};Y&&L&&0==V.size?n(y.getSerialListChecked({inventoryUuid:R,inType:"J",inJrOriCardUuid:X.get("jrOriCardUuid")},(function(e){return t(e)}))):t(V)}():function(e,t){f.a.Prompt({title:"\u6210\u54c1\u6570\u91cf",message:"".concat(L?"\u4fee\u6539\u7ec4\u88c5\u6570\u91cf":"\u8bf7\u8f93\u5165\u7ec4\u88c5\u6570\u91cf"),buttonLabels:["\u53d6\u6d88","\u786e\u8ba4"],onSuccess:function(a){if(1===a.buttonIndex)if(/^\d*\.?\d{0,2}$/g.test(a.value)&&a.value>0){var r,l=!1,s=Object(c.a)(S);try{for(s.s();!(r=s.n()).done;){var i=r.value;if(i.uuid==t.cardUuid){l=i.isAvailable;break}}}catch(o){s.e(o)}finally{s.f()}if(!l)return f.a.toast.info("\u7ec4\u88c5\u5355\u8bbe\u7f6e\u5df2\u5931\u6548\uff0c\u65e0\u6cd5\u83b7\u53d6\u7269\u6599\u8be6\u60c5"),void U("quantity",a.value,e);U("quantity_zzd",a.value,e),n(y.getChzzZzdListPrice(e))}else f.a.toast.info("\u8bf7\u8f93\u5165\u7ec4\u88c5\u6570\u91cf")}})}(P,X.toJS())}},d.a.createElement(g.r,{className:"lrls-category lrls-padding"},d.a.createElement("span",null," ","".concat(Y," ").concat(X.get("unitName"))," "),d.a.createElement(g.l,{type:"triangle"})))),d.a.createElement(g.r,{className:"lrls-more-card lrls-bottom"},d.a.createElement("label",null,"\u5355\u4ef7\uff1a"),d.a.createElement("div",{className:"lrls-single lrls-placeholder"},d.a.createElement(g.r,{className:"lrls-category lrls-padding"},d.a.createElement(g.a,{showZero:!0},H)))),d.a.createElement(g.r,{className:"lrls-more-card lrls-bottom"},d.a.createElement("label",null,"\u91d1\u989d\uff1a"),d.a.createElement("div",{className:"lrls-single lrls-placeholder"},d.a.createElement(g.r,{className:"lrls-category lrls-padding"},d.a.createElement(g.a,{showZero:!0},F))))),d.a.createElement("div",null,X.get("childCardList").map((function(e,a){var s=e.get("isOpenedQuantity"),i=e.get("cardUuid"),o=e.get("warehouseCardUuid"),h=e.get("warehouseCardCode"),S=e.get("warehouseCardName"),C=e.get("unitUuid"),N=e.get("unitName"),T=[],j=1;if(s){var A,k=m.toJS(),I=Object(c.a)(k);try{for(I.s();!(A=I.n()).done;){var J=A.value;if(J.uuid==i){T.push({key:J.unit.name,value:J.unit.uuid,basicUnitQuantity:1}),J.unit.unitList.map((function(e){T.push({key:e.name,value:e.uuid,basicUnitQuantity:e.basicUnitQuantity}),C==e.uuid&&(j=e.basicUnitQuantity)}));break}}}catch($){I.e($)}finally{I.f()}}var D=e.get("quantity")?Number(e.get("quantity")):"",w=e.get("price")?Number(e.get("price")):"",B=(e.get("amount")&&Number(e.get("amount")),e.get("unitPrice"));!B&&w&&(B=Object(E.l)(w/j));var x=e.getIn(["financialInfo","openAssist"]),X=e.getIn(["financialInfo","openSerial"]),R=e.getIn(["financialInfo","openBatch"]),Y=e.getIn(["financialInfo","openShelfLife"]),F=e.getIn(["financialInfo","shelfLife"]),H=e.get("assistList")?e.get("assistList"):Object(p.fromJS)([]),z=e.get("serialList")?e.get("serialList"):Object(p.fromJS)([]),G=H.reduce((function(e,t){return"".concat(e).concat(e?";":"").concat(t.get("propertyName"))}),""),q=e.get("batch")?e.get("batch"):"",W=e.get("batchUuid")?e.get("batchUuid"):"",Q=e.get("expirationDate")?e.get("expirationDate"):"",K=Q?"".concat(q,"(").concat(Q,")"):q,V=e.getIn(["financialInfo","assistClassificationList"]);Z[0]==P&&Z[1]==a&&(t.assistClassificationList=V||Object(p.fromJS)([]));return d.a.createElement("div",{key:a,style:{paddingBottom:M>1?"10px":"0"}},d.a.createElement("div",{className:"lrls-more-card lrls-placeholder lrls-bottom"},d.a.createElement("span",null,"\u7269\u6599\u660e\u7ec6(",a+1,")"),d.a.createElement("span",{className:"lrls-blue",style:{display:1==M?"none":""},onClick:function(){U("delete_zzd_child","",[P,a])}},"\u5220\u9664")),d.a.createElement("div",{className:"lrls-more-card lrls-bottom"},d.a.createElement("label",null,"\u5b58\u8d27:"),d.a.createElement("div",{className:"lrls-single",onClick:function(){t.setState({visible:!0,childIdx:[P,a]})}},d.a.createElement(g.r,{className:"lrls-category lrls-padding"},i?d.a.createElement("span",null," ","".concat(e.get("code")," ").concat(e.get("name"))," "):d.a.createElement("span",{className:"lrls-placeholder"},"\u70b9\u51fb\u9009\u62e9\u5b58\u8d27\u5361\u7247"),d.a.createElement(g.l,{type:"triangle"})))),d.a.createElement("div",{className:"lrls-more-card lrls-bottom",style:{display:x?"":"none"}},d.a.createElement("label",null,"\u5c5e\u6027:"),d.a.createElement("div",{className:"lrls-single",onClick:function(){t.setState({assistVisible:!0,childIdx:[P,a]}),t.oriAssistList=H?H.toJS():[],t.openSerial=X}},d.a.createElement(g.r,{className:"lrls-category lrls-padding"},G?d.a.createElement("span",null," ",G," "):d.a.createElement("span",{className:"lrls-placeholder"},"\u70b9\u51fb\u9009\u62e9\u5c5e\u6027"),d.a.createElement(g.l,{type:"triangle"})))),d.a.createElement("div",{className:"lrls-more-card lrls-bottom",style:{display:R?"":"none"}},d.a.createElement("label",null,"\u6279\u6b21:"),d.a.createElement(g.u,{className:"lrls-single",district:_,value:q,icon:{type:"add-plus",onClick:function(){n(b.f("MODIFY-INSERT",i,Y,F))}},iconTwo:{type:"home",onClick:function(){n(b.f("MODIFY-MODIFY",i,Y,F))}},onOk:function(e){U("bitch_zzd_child",Object(p.fromJS)({batch:e.batch,batchUuid:e.batchUuid,expirationDate:e.expirationDate}),[P,a]),X&&(U("quantity","",[P,a],"CHZZ_ZZD_CHILD"),U("serialList",Object(p.fromJS)([]),[P,a],"CHZZ_ZZD_CHILD"))}},d.a.createElement(g.r,{className:"lrls-category lrls-padding",onClick:function(){n(y.getBatchList(i))}},K?d.a.createElement("span",null,K):d.a.createElement("span",{className:"lrls-placeholder"},"\u70b9\u51fb\u9009\u62e9\u6279\u6b21"),d.a.createElement(g.l,{type:"triangle"})))),d.a.createElement("div",{className:"lrls-more-card lrls-bottom",style:{display:v?"":"none"}},d.a.createElement("label",null,"\u4ed3\u5e93:"),d.a.createElement(g.u,{className:"lrls-single",district:u.toJS(),value:o,onOk:function(e){U("warehouse_zzd_child",e,[P,a]),s&&(X&&(U("quantity","",[P,a],"CHZZ_ZZD_CHILD"),U("serialList",Object(p.fromJS)([]),[P,a],"CHZZ_ZZD_CHILD")),n(y.getChzzZzdPrice([P,a])))}},d.a.createElement(g.r,{className:"lrls-category lrls-padding"},o?d.a.createElement("span",null," ","".concat(h," ").concat(S)," "):d.a.createElement("span",{className:"lrls-placeholder"},"\u70b9\u51fb\u9009\u62e9\u4ed3\u5e93\u5361\u7247"),d.a.createElement(g.l,{type:"triangle"})))),d.a.createElement(g.r,{className:"yysr-amount lrls-bottom",style:{display:s?"":"none"}},d.a.createElement("label",null,"\u6570\u91cf:"),X?d.a.createElement("span",{className:"serial",style:{display:X?"":"none"},onClick:function(){return function(){var c=[];if(!i)return f.a.toast.info("\u8bf7\u5148\u9009\u62e9\u5b58\u8d27\u5361\u7247");if(x&&0==H.size&&c.push("\u8bf7\u5148\u9009\u62e9\u5b8c\u6574\u7684\u5c5e\u6027"),R&&!q&&c.push("\u8bf7\u5148\u9009\u62e9\u6279\u6b21"),v&&!o&&c.push("\u8bf7\u5148\u9009\u62e9\u4ed3\u5e93"),c.length)return f.a.toast.info(c[0]);(function(){var c=Object(l.a)(r.a.mark((function l(){return r.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(0!=z.size){r.next=3;break}return r.next=3,new Promise((function(e){n(y.getSerialListIn({inventoryUuid:i,warehouseUuid:o,assistList:H,batchUuid:W,oriUuid:O},e))}));case 3:if(t.serialList=z,t.price=w,!D||!L||0!=z.size){r.next=8;break}return r.next=8,new Promise((function(a){n(y.getSerialListChecked({inventoryUuid:i,outJrOriCardUuid:e.get("jrOriCardUuid")},(function(e){U("serialList",e),t.serialList=e,a()}),!0))}));case 8:t.setState({serialVisible:!0,childIdx:[P,a]});case 9:case"end":return r.stop()}}),l)})));return function(){return c.apply(this,arguments)}})()()}()}},D?d.a.createElement(g.a,{decimalPlaces:4,decimalZero:!1},D):"\u70b9\u51fb\u8f93\u5165",d.a.createElement(g.l,{type:"edit"})):d.a.createElement(g.E.BorderInputItem,{mode:"number",placeholder:"\u586b\u5199\u6570\u91cf",value:e.get("quantity"),onChange:function(e){if(/^\d*\.?\d{0,4}$/g.test(e)&&(U("quantity",e,[P,a],"CHZZ_ZZD_CHILD"),Number(w)>0)){var t=Object(E.l)(Number(w)*Number(e));U("amount",t,[P,a],"CHZZ_ZZD_CHILD")}else;}}),d.a.createElement(g.u,{className:"lrls-single",district:T,value:C,onOk:function(t){if(U("unitUuid",t.value,[P,a],"CHZZ_ZZD_CHILD"),U("unitName",t.key,[P,a],"CHZZ_ZZD_CHILD"),B){var n=Object(E.l)(B*t.basicUnitQuantity,4);if(U("price",n,[P,a],"CHZZ_ZZD_CHILD"),e.get("quantity")){var r=Object(E.l)(n*Number(e.get("quantity")));U("amount",r,[P,a],"CHZZ_ZZD_CHILD")}}}},d.a.createElement(g.r,{className:"lrls-account lrls-type"},C?d.a.createElement("span",null," ",N," "):d.a.createElement("span",{className:"lrls-placeholder"},"\u9009\u62e9\u6570\u91cf\u5355\u4f4d"),d.a.createElement(g.l,{type:"triangle"})))),d.a.createElement(g.r,{className:"lrls-more-card lrls-bottom",style:{display:s?"":"none"}},d.a.createElement("label",null,"\u5355\u4ef7\uff1a"),d.a.createElement(g.E.BorderInputItem,{mode:"number",placeholder:"\u586b\u5199\u5355\u4ef7",value:e.get("price"),onChange:function(e){if(/^\d*\.?\d{0,4}$/g.test(e)&&(U("price",e,[P,a],"CHZZ_ZZD_CHILD"),D>0)){var t=Object(E.l)(D*Number(e));U("amount",t,[P,a],"CHZZ_ZZD_CHILD")}}})),d.a.createElement(g.r,{className:"lrls-more-card lrls-bottom"},d.a.createElement("label",null,"\u91d1\u989d\uff1a"),d.a.createElement(g.E.BorderInputItem,{mode:"amount",disabled:!i,placeholder:"\u586b\u5199\u91d1\u989d",value:e.get("amount"),onChange:function(e){if(/^\d*\.?\d{0,2}$/g.test(e)&&U("amount",e,[P,a],"CHZZ_ZZD_CHILD"),s&&Number(D)>0){var t=Object(E.l)(Number(e)/D,4);U("price",t,[P,a],"CHZZ_ZZD_CHILD")}}})))}))),d.a.createElement("div",{className:"lrls-more-card",style:{fontWeight:"bold"}},d.a.createElement("div",null),d.a.createElement("div",{className:"lrls-blue",onClick:function(){t.setState({visible:!0,childIdx:[P,X.get("childCardList").size]})}},"+\u6dfb\u52a0\u7269\u6599\u660e\u7ec6")),d.a.createElement(g.n,{visible:D,district:j,value:this.serialList.toJS().map((function(e){return e.serialUuid})),title:"\u9009\u62e9\u5e8f\u5217\u53f7",showPreview:!0,previewTitle:"\u5df2\u9009\u62e9\u5e8f\u5217\u53f7",onOk:function(e){if(t.setState({serialVisible:!1}),U("serialList",Object(p.fromJS)(e),Z,"CHZZ_ZZD_CHILD"),U("quantity",e.length,Z,"CHZZ_ZZD_CHILD"),Number(t.price)>0){var a=Object(E.l)(Number(t.price)*Number(e.length));U("amount",a,Z,"CHZZ_ZZD_CHILD")}},onCancel:function(){t.setState({serialVisible:!1})}},d.a.createElement("span",null)),d.a.createElement(h.a,{assistVisible:w,assistClassificationList:this.assistClassificationList,oriAssistList:this.oriAssistList,onOk:function(e){U("assistList",Object(p.fromJS)(e),Z,"CHZZ_ZZD_CHILD"),t.openSerial&&(U("quantity","",Z,"CHZZ_ZZD_CHILD"),U("serialList",Object(p.fromJS)([]),Z,"CHZZ_ZZD_CHILD")),t.setState({assistVisible:!1})},addClick:function(e){n(y.addInventoryAssist(e,"CHZZ_ZZD_CHILD")),t.setState({categoryValue:"ALL",isAll:!0})}}))}}]),n}(u.Component)}).call(this,a(49))},1466:function(e,t,a){},1467:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return E}));a(32),a(62),a(31),a(219),a(70);var n=a(118),r=a(7),l=a(8),c=a(9),s=a(10),i=a(0),o=a.n(i),m=a(1),u=a(11),d=a(12),p=a(2),g=a(1025),h=a(1040),E=function(t){Object(s.a)(i,t);var a=Object(c.a)(i);function i(){var e;Object(r.a)(this,i);for(var t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];return(e=a.call.apply(a,[this].concat(n))).state={visible:!1},e}return Object(l.a)(i,[{key:"render",value:function(){var t=this,a=this.props,r=a.dispatch,l=a.idx,c=a.cardData,s=a.oriState,i=a.warehouseList,E=a.isOpenedWarehouse,f=a.onClick,y=a.stockList,b=a.assistClick,v=a.batchList,L=a.serialMultipleList,S=a.isModify,C=a.oriUuid,N=this.state.visible,T=function(e,t){return r(g.changeYysrStockCard(e,t,l,"CHYE"))},_=l,j=c,O=/^[-\d]\d*\.?\d{0,4}$/g,A=j.get("cardUuid"),k=j.get("warehouseCardUuid"),I=j.get("isOpenedQuantity"),J=(j.get("unitName"),j.get("quantity")?Number(j.get("quantity")):0),Z=j.get("price")?Number(j.get("price")):0,D=(j.get("amount")&&Number(j.get("amount")),j.get("unitPrice")?Number(j.get("unitPrice")):0),w=[];if(I){var U,B=y.toJS(),x=Object(n.a)(B);try{for(x.s();!(U=x.n()).done;){var P=U.value;if(P.uuid==j.get("cardUuid")){w.push({key:P.unit.name,value:P.unit.uuid,basicUnitQuantity:1}),P.unit.unitList.map((function(e){w.push({key:e.name,value:e.uuid,basicUnitQuantity:e.basicUnitQuantity})}));break}}}catch(V){x.e(V)}finally{x.f()}}var X=j.getIn(["financialInfo","openAssist"]),R=j.getIn(["financialInfo","openSerial"]),Y=j.getIn(["financialInfo","openBatch"]),M=j.getIn(["financialInfo","openShelfLife"]),F=j.getIn(["financialInfo","shelfLife"]),H=j.get("assistList")?j.get("assistList"):Object(m.fromJS)([]),z=j.get("serialList")?j.get("serialList"):Object(m.fromJS)([]),G=H.reduce((function(e,t){return"".concat(e).concat(e?";":"").concat(t.get("propertyName"))}),""),q=j.get("batch")?j.get("batch"):"",W=j.get("batchUuid")?j.get("batchUuid"):"",Q=j.get("expirationDate")?j.get("expirationDate"):"",K=Q?"".concat(q,"(").concat(Q,")"):q;return o.a.createElement("div",{className:"lrls-card"},o.a.createElement("div",{className:"lrls-more-card lrls-placeholder lrls-bottom"},o.a.createElement("span",null,"\u5b58\u8d27\u660e\u7ec6(",_+1,")")),o.a.createElement("div",{className:"lrls-more-card lrls-bottom"},o.a.createElement("label",null,"\u5b58\u8d27:"),o.a.createElement("div",{className:"lrls-single",onClick:function(){f()}},o.a.createElement(u.r,{className:"lrls-category lrls-padding"},j.get("cardUuid")?o.a.createElement("span",null," ","".concat(j.get("code")," ").concat(j.get("name"))," "):o.a.createElement("span",{className:"lrls-placeholder"},"\u70b9\u51fb\u9009\u62e9\u5b58\u8d27\u5361\u7247"),o.a.createElement(u.l,{type:"triangle"})))),o.a.createElement("div",{className:"lrls-more-card lrls-bottom",style:{display:X?"":"none"}},o.a.createElement("label",null,"\u5c5e\u6027:"),o.a.createElement("div",{className:"lrls-single",onClick:function(){b()}},o.a.createElement(u.r,{className:"lrls-category lrls-padding"},G?o.a.createElement("span",null," ",G," "):o.a.createElement("span",{className:"lrls-placeholder"},"\u70b9\u51fb\u9009\u62e9\u5c5e\u6027"),o.a.createElement(u.l,{type:"triangle"})))),o.a.createElement("div",{className:"lrls-more-card lrls-bottom",style:{display:Y?"":"none"}},o.a.createElement("label",null,"\u6279\u6b21:"),o.a.createElement(u.u,{className:"lrls-single",district:v,value:q,icon:{type:"add-plus",onClick:function(){r(h.f("MODIFY-INSERT",A,M,F))}},iconTwo:{type:"home",onClick:function(){r(h.f("MODIFY-MODIFY",A,M,F))}},onOk:function(e){T("bitch",Object(m.fromJS)({batch:e.batch,batchUuid:e.batchUuid,expirationDate:e.expirationDate})),R&&(T("quantity",""),T("serialList",Object(m.fromJS)([])))}},o.a.createElement(u.r,{className:"lrls-category lrls-padding",onClick:function(){r(g.getBatchList(A))}},K?o.a.createElement("span",null,K):o.a.createElement("span",{className:"lrls-placeholder"},"\u70b9\u51fb\u9009\u62e9\u6279\u6b21"),o.a.createElement(u.l,{type:"triangle"})))),o.a.createElement("div",{className:"lrls-more-card lrls-bottom",style:{display:E?"":"none"}},o.a.createElement("label",null,"\u4ed3\u5e93:"),o.a.createElement(u.u,{className:"lrls-single",district:i.toJS(),value:j.get("warehouseCardUuid")?j.get("warehouseCardUuid"):"",onOk:function(e){T("warehouse",e),j.get("cardUuid")&&"STATE_CHYE_CH"!=s&&r(g.getChyePrice([e],_)),R&&(T("quantity",""),T("serialList",Object(m.fromJS)([])))}},o.a.createElement(u.r,{className:"lrls-category lrls-padding"},j.get("warehouseCardUuid")?o.a.createElement("span",null," ","".concat(j.get("warehouseCardCode")," ").concat(j.get("warehouseCardName"))," "):o.a.createElement("span",{className:"lrls-placeholder"},"\u70b9\u51fb\u9009\u62e9\u4ed3\u5e93\u5361\u7247"),o.a.createElement(u.l,{type:"triangle"})))),o.a.createElement(u.r,{className:"yysr-amount lrls-bottom",style:{display:I?"":"none"}},o.a.createElement("label",null,"\u6570\u91cf:"),R?o.a.createElement(u.u,{className:"chey-serial",title:"\u8bf7\u9009\u62e9\u8c03\u6574\u65b9\u5411",canSearch:!1,district:[{key:"\u589e\u52a0\u5b58\u8d27",value:"JR_ENTRY"},{key:"\u51cf\u5c11\u5b58\u8d27",value:"JR_OUT"}],value:J>=0?"JR_ENTRY":"JR_OUT",onOk:function(a){!function(a){var n=[];if(!A)return p.a.toast.info("\u8bf7\u5148\u9009\u62e9\u5b58\u8d27\u5361\u7247");if("JR_OUT"==a){if(X&&0==H.size&&n.push("\u8bf7\u5148\u9009\u62e9\u5b8c\u6574\u7684\u5c5e\u6027"),Y&&!q&&n.push("\u8bf7\u5148\u9009\u62e9\u6279\u6b21"),E&&!k&&n.push("\u8bf7\u5148\u9009\u62e9\u4ed3\u5e93"),n.length)return p.a.toast.info(n[0]);if(r(g.getSerialListIn({inventoryUuid:A,warehouseUuid:k,assistList:H,batchUuid:W,oriUuid:C})),J>0)return T("quantity",""),T("serialList",Object(m.fromJS)([])),T("amount",""),void t.setState({visible:!0});if(J&&S&&0==z.size)return void r(g.getSerialListChecked({inventoryUuid:A,outJrOriCardUuid:j.get("jrOriCardUuid")},(function(e){T("serialList",e),t.setState({visible:!0})})));t.setState({visible:!0})}if("JR_ENTRY"==a){var l=function(t){r(h.e("serial",Object(m.fromJS)({serialList:t,type:"JR_ENTRY",afterAdd:function(e){var t=e.size;if(T("quantity",t),T("serialList",e),Z>0){var a=Object(d.l)(Z*Number(t));T("amount",a)}}}),!0)),e.routerHistory.push("/config/inventory/serial")};if(J<0)return T("quantity",""),T("serialList",Object(m.fromJS)([])),T("amount",""),void l(Object(m.fromJS)([]));if(J&&S&&0==z.size)return void r(g.getSerialListChecked({inventoryUuid:A,inType:"J",inJrOriCardUuid:j.get("jrOriCardUuid")},(function(e){return l(e)})));l(z)}}(a.value)}},o.a.createElement("div",{className:"serial"},J?o.a.createElement(u.a,{decimalPlaces:4,decimalZero:!1},J):"\u70b9\u51fb\u8f93\u5165",o.a.createElement(u.l,{type:"edit"}))):o.a.createElement(u.E.BorderInputItem,{mode:"number",negativeAllowed:!0,placeholder:"\u586b\u5199\u6570\u91cf",value:j.get("quantity"),onChange:function(e){if(O.test(e)||""==e){if(T("quantity",e),"-"==e)return;if(["STATE_CHYE","STATE_CHYE_CK"].includes(s)&&Z){var t=Object(d.l)(Number(e)*Z);T("amount",t)}}}}),o.a.createElement(u.u,{className:"lrls-single",district:w,value:j.get("unitUuid"),onOk:function(e){if(T("unit",e),D&&["STATE_CHYE","STATE_CHYE_CK"].includes(s)){var t=Object(d.l)(D*e.basicUnitQuantity);if(T("price",t),j.get("quantity")){var a=Object(d.l)(t*J);T("amount",a)}}}},o.a.createElement(u.r,{className:"lrls-account lrls-type"},j.get("unitUuid")?o.a.createElement("span",null," ",j.get("unitName")," "):o.a.createElement("span",{className:"lrls-placeholder"},"\u9009\u62e9\u6570\u91cf\u5355\u4f4d"),o.a.createElement(u.l,{type:"triangle"})))),o.a.createElement(u.r,{className:"lrls-more-card lrls-bottom",style:{display:I&&["STATE_CHYE","STATE_CHYE_CK"].includes(s)?"":"none"}},o.a.createElement("label",null,"\u5355\u4ef7:"),o.a.createElement(u.E.BorderInputItem,{mode:"number",negativeAllowed:!0,placeholder:"\u586b\u5199\u5355\u4ef7",value:j.get("price"),onChange:function(e){if(O.test(e)||""==e){if(T("price",e),"-"==e)return;if(J){var t=Object(d.l)(Number(e)*J);T("amount",t)}}}})),o.a.createElement(u.r,{className:"lrls-more-card"},o.a.createElement("label",null,"\u91d1\u989d\uff1a"),o.a.createElement(u.E.BorderInputItem,{mode:"amount",negativeAllowed:!0,placeholder:"\u586b\u5199\u91d1\u989d",value:j.get("amount"),onChange:function(e){if(/^[-\d]\d*\.?\d{0,2}$/g.test(e)||""==e){if(T("amount",e),"-"==e)return;if(I&&["STATE_CHYE","STATE_CHYE_CK"].includes(s)&&J){var t=Object(d.l)(Number(e)/J,4);T("price",t)}}}})),o.a.createElement(u.n,{visible:N,district:L,value:z.toJS().map((function(e){return e.serialUuid})),title:"\u9009\u62e9\u5e8f\u5217\u53f7",showPreview:!0,previewTitle:"\u5df2\u9009\u62e9\u5e8f\u5217\u53f7",onOk:function(e){if(t.setState({visible:!1}),T("quantity",-e.length),T("serialList",Object(m.fromJS)(e)),Z>0){var a=Object(d.l)(Z*Number(-e.length));T("amount",a)}else;},onCancel:function(){t.setState({visible:!1})}},o.a.createElement("span",null)))}}]),i}(i.Component)}).call(this,a(49))},1468:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return E}));a(32),a(31),a(219),a(70);var n=a(118),r=a(7),l=a(8),c=a(9),s=a(10),i=a(0),o=a.n(i),m=a(1),u=a(11),d=a(12),p=a(2),g=a(1025),h=a(1040),E=function(t){Object(s.a)(i,t);var a=Object(c.a)(i);function i(){return Object(r.a)(this,i),a.apply(this,arguments)}return Object(l.a)(i,[{key:"render",value:function(){var t=this.props,a=t.dispatch,r=t.idx,l=t.cardData,c=t.stockList,s=t.warehouseList,i=t.isOpenedWarehouse,E=t.onClick,f=t.assistClick,y=t.batchList,b=t.isModify,v=(t.oriUuid,function(e,t,n){return a(g.changeYysrStockCard(e,t,n,"XMJZ"))}),L=r,S=l,C=[],N=1,T=S.get("isOpenedQuantity"),_=S.get("cardUuid"),j=S.get("warehouseCardUuid"),O=S.get("quantity")?Number(S.get("quantity")):0,A=S.get("price")?Number(S.get("price")):0,k=(S.get("amount")&&Number(S.get("amount")),S.get("unitUuid"));if(T){var I,J=c.toJS(),Z=Object(n.a)(J);try{for(Z.s();!(I=Z.n()).done;){var D=I.value;if(D.uuid==S.get("cardUuid")){C.push({key:D.unit.name,value:D.unit.uuid,basicUnitQuantity:1}),D.unit.unitList.map((function(e){C.push({key:e.name,value:e.uuid,basicUnitQuantity:e.basicUnitQuantity}),k==e.uuid&&(N=e.basicUnitQuantity)}));break}}}catch(G){Z.e(G)}finally{Z.f()}}var w=S.get("unitPrice");!w&&A&&(w=Object(d.l)(A/N));var U=S.getIn(["financialInfo","openAssist"]),B=S.getIn(["financialInfo","openSerial"]),x=S.getIn(["financialInfo","openBatch"]),P=S.getIn(["financialInfo","openShelfLife"]),X=S.getIn(["financialInfo","shelfLife"]),R=S.get("assistList")?S.get("assistList"):Object(m.fromJS)([]),Y=S.get("serialList")?S.get("serialList"):Object(m.fromJS)([]),M=R.reduce((function(e,t){return"".concat(e).concat(e?";":"").concat(t.get("propertyName"))}),""),F=S.get("batch")?S.get("batch"):"",H=(S.get("batchUuid")&&S.get("batchUuid"),S.get("expirationDate")?S.get("expirationDate"):""),z=H?"".concat(F,"(").concat(H,")"):F;return o.a.createElement("div",{className:"lrls-card"},o.a.createElement("div",{className:"lrls-more-card lrls-placeholder lrls-bottom"},o.a.createElement("span",null,"\u5b58\u8d27\u660e\u7ec6(",L+1,")")),o.a.createElement("div",{className:"lrls-more-card lrls-bottom"},o.a.createElement("label",null,"\u5b58\u8d27:"),o.a.createElement("div",{className:"lrls-single",onClick:function(){E()}},o.a.createElement(u.r,{className:"lrls-category lrls-padding"},S.get("cardUuid")?o.a.createElement("span",null," ","".concat(S.get("code")," ").concat(S.get("name"))," "):o.a.createElement("span",{className:"lrls-placeholder"},"\u70b9\u51fb\u9009\u62e9\u5b58\u8d27\u5361\u7247"),o.a.createElement(u.l,{type:"triangle"})))),o.a.createElement("div",{className:"lrls-more-card lrls-bottom",style:{display:U?"":"none"}},o.a.createElement("label",null,"\u5c5e\u6027:"),o.a.createElement("div",{className:"lrls-single",onClick:function(){f()}},o.a.createElement(u.r,{className:"lrls-category lrls-padding"},M?o.a.createElement("span",null," ",M," "):o.a.createElement("span",{className:"lrls-placeholder"},"\u70b9\u51fb\u9009\u62e9\u5c5e\u6027"),o.a.createElement(u.l,{type:"triangle"})))),o.a.createElement("div",{className:"lrls-more-card lrls-bottom",style:{display:x?"":"none"}},o.a.createElement("label",null,"\u6279\u6b21:"),o.a.createElement(u.u,{className:"lrls-single",district:y,value:F,icon:{type:"add-plus",onClick:function(){a(h.f("MODIFY-INSERT",_,P,X))}},iconTwo:{type:"home",onClick:function(){a(h.f("MODIFY-MODIFY",_,P,X))}},onOk:function(e){v("bitch",Object(m.fromJS)({batch:e.batch,batchUuid:e.batchUuid,expirationDate:e.expirationDate}),L),B&&(v("quantity","",L),v("serialList",Object(m.fromJS)([]),L))}},o.a.createElement(u.r,{className:"lrls-category lrls-padding",onClick:function(){a(g.getBatchList(_))}},z?o.a.createElement("span",null,z):o.a.createElement("span",{className:"lrls-placeholder"},"\u70b9\u51fb\u9009\u62e9\u6279\u6b21"),o.a.createElement(u.l,{type:"triangle"})))),o.a.createElement("div",{className:"lrls-more-card lrls-bottom",style:{display:i?"":"none"}},o.a.createElement("label",null,"\u4ed3\u5e93:"),o.a.createElement(u.u,{className:"lrls-single",district:s.toJS(),value:S.get("warehouseCardUuid"),onOk:function(e){v("warehouse",e,L),B&&(v("quantity","",L),v("serialList",Object(m.fromJS)([]),L)),T&&a(g.getChzzPrice(L))}},o.a.createElement(u.r,{className:"lrls-category lrls-padding"},S.get("warehouseCardUuid")?o.a.createElement("span",null," ","".concat(S.get("warehouseCardCode")," ").concat(S.get("warehouseCardName"))," "):o.a.createElement("span",{className:"lrls-placeholder"},"\u70b9\u51fb\u9009\u62e9\u4ed3\u5e93\u5361\u7247"),o.a.createElement(u.l,{type:"triangle"})))),o.a.createElement(u.r,{className:"yysr-amount lrls-bottom",style:{display:T?"":"none"}},o.a.createElement("label",null,"\u6570\u91cf:"),B?o.a.createElement("span",{className:"serial",style:{display:B?"":"none"},onClick:function(){return function(){var t=[];if(!_)return p.a.toast.info("\u8bf7\u5148\u9009\u62e9\u5b58\u8d27\u5361\u7247");if(U&&0==R.size&&t.push("\u8bf7\u5148\u9009\u62e9\u5b8c\u6574\u7684\u5c5e\u6027"),x&&!F&&t.push("\u8bf7\u5148\u9009\u62e9\u6279\u6b21"),i&&!j&&t.push("\u8bf7\u5148\u9009\u62e9\u4ed3\u5e93"),t.length)return p.a.toast.info(t[0]);var n=function(t){a(h.e("serial",Object(m.fromJS)({serialList:t,type:"JR_ENTRY",afterAdd:function(e){var t=e.size;if(v("quantity",t,L),v("serialList",e,L),A>0){var a=Object(d.l)(A*Number(t));v("amount",a,L)}}}),!0)),e.routerHistory.push("/config/inventory/serial")};O&&b&&0==Y.size?a(g.getSerialListChecked({inventoryUuid:_,inType:"J",inJrOriCardUuid:S.get("jrOriCardUuid")},(function(e){return n(e)}))):n(Y)}()}},O?o.a.createElement(u.a,{decimalPlaces:4,decimalZero:!1},O):"\u70b9\u51fb\u8f93\u5165",o.a.createElement(u.l,{type:"edit"})):o.a.createElement(u.E.BorderInputItem,{mode:"amount",placeholder:"\u586b\u5199\u6570\u91cf",value:S.get("quantity"),onChange:function(e){if(/^\d*\.?\d{0,2}$/g.test(e)&&(v("quantity",e,L),A>0)){var t=Object(d.l)(A*Number(e));v("amount",t,L)}else;}}),o.a.createElement(u.u,{className:"lrls-single",district:C,value:S.get("unitUuid"),onOk:function(e){if(v("unit",e,L),w){var t=Object(d.l)(w*e.basicUnitQuantity);if(v("price",t,L),S.get("quantity")){var a=Object(d.l)(t*Number(S.get("quantity")));v("amount",a,L)}}}},o.a.createElement(u.r,{className:"lrls-account lrls-type"},S.get("unitUuid")?o.a.createElement("span",null," ",S.get("unitName")," "):o.a.createElement("span",{className:"lrls-placeholder"},"\u9009\u62e9\u6570\u91cf\u5355\u4f4d"),o.a.createElement(u.l,{type:"triangle"})))),o.a.createElement(u.r,{className:"lrls-more-card lrls-bottom",style:{display:T?"":"none"}},o.a.createElement("label",null,"\u5355\u4ef7\uff1a"),o.a.createElement(u.E.BorderInputItem,{mode:"amount",placeholder:"\u586b\u5199\u5355\u4ef7",value:S.get("price"),onChange:function(e){if(/^\d*\.?\d{0,2}$/g.test(e)&&(v("price",e,L),O>0)){var t=Object(d.l)(O*Number(e));v("amount",t,L)}}})),o.a.createElement(u.r,{className:"lrls-more-card lrls-bottom",onClick:function(){_||p.a.toast.info("\u8bf7\u5148\u9009\u62e9\u5b58\u8d27")}},o.a.createElement("label",null,"\u91d1\u989d\uff1a"),o.a.createElement(u.E.BorderInputItem,{mode:"amount",disabled:!_,placeholder:"\u586b\u5199\u91d1\u989d",value:S.get("amount"),onChange:function(e){if(/^\d*\.?\d{0,2}$/g.test(e)&&v("amount",e,L),T&&O>0){var t=Object(d.l)(Number(e)/O);v("price",t,L)}}})))}}]),i}(i.Component)}).call(this,a(49))},920:function(e,t,a){"use strict";a.r(t),a.d(t,"reducer",(function(){return yt})),a.d(t,"view",(function(){return ot}));var n=a(7),r=a(8),l=a(9),c=a(10),s=a(0),i=a.n(s),o=a(11),m=a(6),u=(a(32),a(61),a(62),a(33),a(31),a(116),a(70),a(83),a(76),a(220)),d=a(47),p=a(1),g=a(1063),h=a(14),E=a(1025),f=a(1040),y=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props,t=e.dispatch,a=e.accountList,n=e.accounts,r=e.accountStatus,l=a.toJS(),c=n.getIn([0,"accountUuid"]),s=n.getIn([0,"accountName"]);return"ACCOUNT_STATUS_TO"==r&&(c=n.getIn([1,"accountUuid"]),s=n.getIn([1,"accountName"])),i.a.createElement(o.u,{className:"lrls-single",district:l,value:"".concat(c).concat(h.B).concat(s),icon:{type:"account-add",onClick:function(){t(f.a(["views","flags"],"insert")),console.log("sss",Object(g.push)("/config/account/card/edit")),t(Object(g.push)("/config/account/card/edit"))}},onOk:function(e){t(E.changeLrlsAccount(e,r))}},i.a.createElement(o.r,{style:{color:s?"":"#999"},className:"lrls-account lrls-type"},i.a.createElement("span",{className:"overElli"},s||"\u70b9\u51fb\u9009\u62e9\u8d26\u6237"),i.a.createElement(o.l,{type:"triangle"})))}}]),a}(s.Component),b=(a(131),a(117)),v=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props,t=e.isModify,a=e.dispatch,n=e.oriTemp,r=e.isOpenedWarehouse,l=e.openQuantity,c=e.projectShareType,s=e.isCopy,m=n.get("oriState"),u=n.get("categoryType"),d=n.getIn([b.a[u],"beAccrued"]),g=t&&!n.get("canBeModifyCategory");s&&(g=!1);var h=[],f=[],y=!1;switch(u){case"LB_ZSKX":y=!0,h=[{key:"STATE_ZS_SQ",value:"\u6536\u53d6"},{key:"STATE_ZS_TH",value:"\u9000\u8fd8"}];break;case"LB_ZFKX":y=!0,h=[{key:"STATE_ZF_FC",value:"\u4ed8\u51fa"},{key:"STATE_ZF_SH",value:"\u6536\u56de"}];break;case"LB_JK":"JR_HANDLE_CHLX"===n.get("handleType")&&(y=!0,h=[{key:"STATE_JK_JTLX",value:"\u8ba1\u63d0\u5229\u606f",disabled:!d,message:"\u6d41\u6c34\u8bbe\u7f6e\u4e2d\u672a\u542f\u7528"},{key:"STATE_JK_ZFLX",value:"\u652f\u4ed8\u5229\u606f"}]);break;case"LB_TZ":var v=n.get("handleType"),L=n.get("propertyInvest");"JR_HANDLE_QDSY"===v&&(y=!0,h=[{key:"STATE_TZ_JTGL",value:"\u8ba1\u63d0\u80a1\u5229",disabled:!d,message:"\u6d41\u6c34\u8bbe\u7f6e\u4e2d\u672a\u542f\u7528"},{key:"STATE_TZ_SRGL",value:"\u6536\u5165\u80a1\u5229"}],"SX_ZQ"==L&&(h=[{key:"STATE_TZ_JTLX",value:"\u8ba1\u63d0\u5229\u606f",disabled:!d,message:"\u6d41\u6c34\u8bbe\u7f6e\u4e2d\u672a\u542f\u7528"},{key:"STATE_TZ_SRLX",value:"\u6536\u5165\u5229\u606f"}]));break;case"LB_ZB":"JR_HANDLE_LRFP"===n.get("handleType")&&(y=!0,h=[{key:"STATE_ZB_LRFP",value:"\u5229\u6da6\u5206\u914d",disabled:!d,message:"\u6d41\u6c34\u8bbe\u7f6e\u4e2d\u672a\u542f\u7528"},{key:"STATE_ZB_ZFLR",value:"\u652f\u4ed8\u5229\u6da6"}]);break;case"LB_YYSR":y=!0;var S=n.getIn([b.a[u],"beDeposited"]),C=n.getIn([b.a[u],"beSellOff"]);h=[{key:"STATE_YYSR_DJ",value:"\u9884\u6536",disabled:!S,message:"\u6d41\u6c34\u8bbe\u7f6e\u4e2d\u672a\u542f\u7528"},{key:"STATE_YYSR_XS",value:"\u9500\u552e"},{key:"STATE_YYSR_TS",value:"\u9000\u9500",disabled:!C,message:"\u6d41\u6c34\u8bbe\u7f6e\u4e2d\u672a\u542f\u7528"}];break;case"LB_YYZC":y=!0;var N=n.getIn([b.a[u],"beDeposited"]),T=n.getIn([b.a[u],"beSellOff"]);h=[{key:"STATE_YYZC_DJ",value:"\u9884\u4ed8",disabled:!N,message:"\u6d41\u6c34\u8bbe\u7f6e\u4e2d\u672a\u542f\u7528"},{key:"STATE_YYZC_GJ",value:"\u8d2d\u8fdb"},{key:"STATE_YYZC_TG",value:"\u9000\u8d2d",disabled:!T,message:"\u6d41\u6c34\u8bbe\u7f6e\u4e2d\u672a\u542f\u7528"}];break;case"LB_FYZC":y=!0;var _=n.getIn([b.a[u],"beDeposited"]),j=n.getIn([b.a[u],"beManagemented"]);h=[{key:"STATE_FY_DJ",value:"\u9884\u4ed8",disabled:!j||!_,message:"\u6d41\u6c34\u8bbe\u7f6e\u4e2d\u672a\u542f\u7528"},{key:"STATE_FY",value:"\u53d1\u751f"}];break;case"LB_SFZC":y=!0;var O=n.get("propertyTax"),A=n.get("acTax").get("beInAdvance");({SX_ZZS:function(){h=[{key:"STATE_SF_YJZZS",value:"\u9884\u7f34",disabled:!A,message:"\u6d41\u6c34\u8bbe\u7f6e\u4e2d\u672a\u542f\u7528"},{key:"STATE_SF_ZCWJZZS",value:"\u8f6c\u51fa\u672a\u4ea4"},{key:"STATE_SF_JN",value:"\u7f34\u7eb3"}]},SX_GRSF:function(){y=!1,h=[{key:"STATE_SF_JN",value:"\u7f34\u7eb3"}]},SX_QTSF:function(){h=[{key:"STATE_SF_JT",value:"\u8ba1\u63d0",disabled:!d,message:"\u6d41\u6c34\u8bbe\u7f6e\u4e2d\u672a\u542f\u7528"},{key:"STATE_SF_JN",value:"\u7f34\u7eb3"}]},SX_QYSDS:function(){h=[{key:"STATE_SF_JT",value:"\u8ba1\u63d0",disabled:!d,message:"\u6d41\u6c34\u8bbe\u7f6e\u4e2d\u672a\u542f\u7528"},{key:"STATE_SF_JN",value:"\u7f34\u7eb3"}]}}[O]||function(){return null})(),"STATE_SF_SFJM"==m&&(h=[{key:"STATE_SF_SFJM",value:"\u51cf\u514d"}]);break;case"LB_XCZC":y=!0,({SX_GZXJ:function(){h=[{key:"STATE_XC_JT",value:"\u8ba1\u63d0",disabled:!d,message:"\u6d41\u6c34\u8bbe\u7f6e\u4e2d\u672a\u542f\u7528"},{key:"STATE_XC_FF",value:"\u53d1\u653e"}],"STATE_XC_DK"==m&&(h=[{key:"STATE_XC_DK",value:"\u4ee3\u6263"}])},SX_SHBX:function(){h=[{key:"STATE_XC_JT",value:"\u8ba1\u63d0",disabled:!d,message:"\u6d41\u6c34\u8bbe\u7f6e\u4e2d\u672a\u542f\u7528"},{key:"STATE_XC_JN",value:"\u7f34\u7eb3"}],"STATE_XC_DJ"==m&&(h=[{key:"STATE_XC_DJ",value:"\u4ee3\u7f34"}])},SX_ZFGJJ:function(){h=[{key:"STATE_XC_JT",value:"\u8ba1\u63d0",disabled:!d,message:"\u6d41\u6c34\u8bbe\u7f6e\u4e2d\u672a\u542f\u7528"},{key:"STATE_XC_JN",value:"\u7f34\u7eb3"}],"STATE_XC_DJ"==m&&(h=[{key:"STATE_XC_DJ",value:"\u4ee3\u7f34"}])},SX_FLF:function(){var e=n.getIn([b.a[u],"beWelfare"]);h=[{key:"STATE_XC_JT",value:"\u8ba1\u63d0",disabled:!e,message:"\u6d41\u6c34\u8bbe\u7f6e\u4e2d\u672a\u542f\u7528"},{key:"STATE_XC_FF",value:"\u652f\u4ed8"}]},SX_QTXC:function(){h=[{key:"STATE_XC_JT",value:"\u8ba1\u63d0",disabled:!d,message:"\u6d41\u6c34\u8bbe\u7f6e\u4e2d\u672a\u542f\u7528"},{key:"STATE_XC_FF",value:"\u53d1\u653e"}]}}[n.get("propertyPay")]||function(){return null})();break;case"LB_KJFP":y=!0,h=[{key:"STATE_KJFP_XS",value:"\u9500\u552e\u5f00\u7968"},{key:"STATE_KJFP_TS",value:"\u9000\u552e\u5f00\u7968"}];break;case"LB_FPRZ":y=!0,h=[{key:"STATE_FPRZ_CG",value:"\u91c7\u8d2d\u53d1\u7968\u8ba4\u8bc1"},{key:"STATE_FPRZ_TG",value:"\u9000\u8d2d\u53d1\u7968\u8ba4\u8bc1"}];break;case"LB_JZCB":y=!0,h=[{key:"STATE_YYSR_XS",value:"\u9500\u552e\u7ed3\u8f6c"},{key:"STATE_YYSR_TS",value:"\u9000\u9500\u8f6c\u56de"},{key:"STATE_YYSR_ZJ",value:"\u76f4\u63a5\u7ed3\u8f6c"}];break;case"LB_CHYE":y=r,h=[{key:"STATE_CHYE_CK",value:"\u6309\u4ed3\u5e93"},{key:"STATE_CHYE_CH",value:"\u6309\u5b58\u8d27"}];break;case"LB_CHZZ":y=!0,h=[{key:"STATE_CHZZ_ZZCX",value:"\u7ec4\u88c5\u62c6\u5378"}],l&&h.push({key:"STATE_CHZZ_ZZD",value:"\u7ec4\u88c5\u5355\u7ec4\u88c5"});break;case"LB_GGFYFT":y=!0,c.map((function(e){var t=e.get("oriState"),a=e.get("typeName");"STATE_FZSCCB"==t&&(a="\u8f85\u52a9\u6210\u672c"),"STATE_GGFYFT"==t&&(a="\u635f\u76ca\u9879\u76ee"),h.push({key:t,value:a})})),h.length>3&&(f=h.splice(3,2));break;case"LB_XMJZ":y=!0;var k=n.getIn(["projectCardList",0,"projectProperty"]);h=[{key:"STATE_XMJZ_JZRK",value:"\u7ed3\u8f6c\u5165\u5e93"},{key:"STATE_XMJZ_XMJQ",value:"\u9879\u76ee\u7ed3\u6e05"}],"XZ_CONSTRUCTION"==k&&(h=[{key:"STATE_XMJZ_QRSRCB",value:"\u786e\u8ba4\u6536\u5165\u6210\u672c"},{key:"STATE_XMJZ_XMJQ",value:"\u9879\u76ee\u7ed3\u6e05"}])}var I=function(e){if(e!=m){if(s)return a(E.changeLrlsOriState(e));if(t){var r=n.getIn([b.a[u],"contactsManagement"]);a(E.changeLrlsData(["oriTemp","oriState"],e));var l=n.get("billList");return l&&0==l.size&&a(E.changeLrlsData(["oriTemp","billList"],Object(p.fromJS)([{billType:"bill_other",billState:"",taxRate:"",tax:""}]))),void(r&&a(E.getCardList("contactsRange")))}a(E.changeLrlsOriState(e))}};return y?i.a.createElement("div",null,i.a.createElement(o.q,{disabled:g,list:h,value:m,onChange:function(e){I(e)}}),f.length?i.a.createElement(o.q,{className:"radio-list-double",disabled:g,list:f,value:m,onChange:function(e){I(e)}}):null):null}}]),a}(s.Component),L=(a(55),function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).state={visible:!1},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=sessionStorage.getItem("prevPage");["home","searchrunning","runningpreview"].includes(e)&&this.setState({visible:!0})}},{key:"render",value:function(){var e=this,t=this.props,a=t.disabled,n=t.isModify,r=t.lastCategory,l=t.categoryUuid,c=t.categoryName,s=t.dispatch,m=(t.scale,t.categoryType,t.isOpenedWarehouse,t.openQuantity,this.state.visible),u=r.toJS();return n&&!a&&(u=u.filter((function(e){return["LB_YYSR","LB_YYZC","LB_FYZC","LB_YYWSR","LB_YYWZC","LB_ZSKX","LB_ZFKX"].includes(e.categoryType)}))),function e(t){t.forEach((function(t){t.key=t.uuid,t.label=t.name,t.childList.length&&e(t.childList)}))}(u),i.a.createElement(o.r,{className:"lrls-type"},i.a.createElement("label",null,"\u6d41\u6c34\u7c7b\u522b:"),i.a.createElement(o.f,{visible:m,disabled:a,district:u,value:l,onChange:function(t){if(n||s(E.changeLrlsEnclosureList()),t.canShow){var a=t.uuid;s(E.getCardDetail(a,n))}else s(E.toManageType(t));e.setState({visible:!1})},onCancel:function(){e.setState({visible:!1})}},i.a.createElement(o.r,null,i.a.createElement("span",{style:{color:"\u8bf7\u9009\u62e9\u7c7b\u522b"==c?"#ccc":""}},c),i.a.createElement(o.l,{type:"triangle",style:{color:a?"#ccc":""}}))))}}]),a}(s.Component)),S=(a(56),a(12)),C=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).state={bePersonAccumulation:!1,bePersonSocialSecurity:!1,beIncomeTax:!1},e}return Object(r.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.dispatch,n=t.oriTemp,r=t.accountList,l=t.accounts,c=t.isModify,s=this.state,m=s.bePersonAccumulation,u=s.bePersonSocialSecurity,d=s.beIncomeTax,p=n.get("categoryType"),g=n.get("oriState"),h=(n.get("usedProject"),n.get("propertyPay")),f=n.get("pendingStrongList").filter((function(e){return e.get("beSelect")})),v=n.getIn([b.a[p],"beAccrued"]),L=n.getIn(["acPayment","beWithholding"]),C=n.getIn(["acPayment","beWithholdSocial"]),N=n.getIn(["acPayment","beWithholdTax"]),T=n.get("amount"),_=n.get("payment"),j=n.getIn(["payment","actualAmount"]),O=_.get("personAccumulationAmount"),A=n.get("accumulationAmount"),k=_.get("personSocialSecurityAmount"),I=n.get("socialSecurityAmount"),J=_.get("incomeTaxAmount"),Z=n.get("payableAmount"),D=_.get("companySocialSecurityAmount"),w=_.get("companyAccumulationAmount"),U=n.get("jrAmount"),B=/^[-\d]\d*\.?\d{0,2}$/g,x=null;return({SX_GZXJ:function(){var t=null,s=null,p=null,b="\u91d1\u989d",_=!1,D=null,w=null;({STATE_XC_JT:function(){b="\u91d1\u989d",D=i.a.createElement(o.r,{className:"lrls-card"},i.a.createElement(o.r,{className:"yysr-amount"},i.a.createElement("label",null,"\u91d1\u989d\uff1a "),i.a.createElement(o.E.BorderInputItem,{mode:"amount",negativeAllowed:!0,placeholder:b,value:T,onChange:function(e){a(E.changeLrlsData(["oriTemp","amount"],e))}})))},STATE_XC_FF:function(){b=v?"\u5de5\u8d44\u85aa\u91d1":"\u91d1\u989d",_=!!v,!!v,v?(D=c?i.a.createElement("div",{className:"lrls-card"},i.a.createElement(o.r,{className:"yysr-amount lrls-home-account"},i.a.createElement("label",null,U>=0?"\u4ed8\u6b3e\u91d1\u989d\uff1a":"\u6536\u6b3e\u91d1\u989d\uff1a"),i.a.createElement(o.E.BorderInputItem,{mode:"amount",negativeAllowed:!0,placeholder:"\u586b\u5199\u91d1\u989d",value:T,onChange:function(e){a(E.changeLrlsData(["oriTemp","amount"],e))}}),i.a.createElement(y,{dispatch:a,accountList:r,accounts:l}))):i.a.createElement("div",{className:"lrls-card"},i.a.createElement(o.r,{className:"yysr-amount lrls-home-account"},i.a.createElement("label",null,U>=0?"\u4ed8\u6b3e\u91d1\u989d\uff1a":"\u6536\u6b3e\u91d1\u989d\uff1a"),i.a.createElement(o.E.BorderInputItem,{mode:"amount",negativeAllowed:!0,placeholder:"\u586b\u5199\u91d1\u989d",value:j,onChange:function(e){if(0==f.size){if(B.test(e)||""==e){if(a(E.changeLrlsData(["oriTemp","payment","actualAmount"],e)),"-"==e)return;a(E.xczcCalculateAmount(h))}}else/^\d*\.?\d{0,2}$/g.test(e)&&(a(E.changeLrlsData(["oriTemp","payment","actualAmount"],e)),a(E.xczcCalculateAmount(h)))},onFocus:function(){if(U){var e=U-O-k-J;a(E.changeLrlsData(["oriTemp","payment","actualAmount"],Math.abs(Object(S.l)(e)))),a(E.xczcCalculateAmount(h))}}}),i.a.createElement(y,{dispatch:a,accountList:r,accounts:l}))),t=!c&&L?i.a.createElement(o.r,{className:"lrls-card"},i.a.createElement(o.r,{className:"lrls-more-card"},i.a.createElement("span",null,"\u4ee3\u6263\u4e2a\u4eba\u516c\u79ef\u91d1"),i.a.createElement("div",{className:"noTextSwitch"},i.a.createElement(o.w,{checked:m||O,onClick:function(){m?(e.setState({bePersonAccumulation:!1}),a(E.changeLrlsData(["oriTemp","payment","personAccumulationAmount"],"")),a(E.xczcCalculateAmount(h))):e.setState({bePersonAccumulation:!0})}}))),i.a.createElement("div",{style:{display:m||O?"":"none"}},i.a.createElement(o.r,{className:"yysr-amount lrls-margin-top"},i.a.createElement("label",null,"\u91d1\u989d\uff1a"),i.a.createElement(o.E.BorderInputItem,{mode:"amount",placeholder:"\u586b\u5199\u4e2a\u4eba\u90e8\u5206\u91d1\u989d",value:O,onChange:function(e){a(E.changeLrlsData(["oriTemp","payment","personAccumulationAmount"],e)),a(E.xczcCalculateAmount(h))}})),i.a.createElement("div",{style:{paddingLeft:".6rem",display:A>0?"":"none"},className:"lrls-placeholder lrls-margin-top"},"\u672a\u5904\u7406\u91d1\u989d: ",i.a.createElement(o.a,{showZero:!0},A)))):null,s=!c&&C?i.a.createElement(o.r,{className:"lrls-card"},i.a.createElement(o.r,{className:"lrls-more-card"},i.a.createElement("span",null,"\u4ee3\u6263\u4e2a\u4eba\u793e\u4fdd"),i.a.createElement("div",{className:"noTextSwitch"},i.a.createElement(o.w,{checked:u||k,onClick:function(){u?(e.setState({bePersonSocialSecurity:!1}),a(E.changeLrlsData(["oriTemp","payment","personSocialSecurityAmount"],"")),a(E.xczcCalculateAmount(h))):e.setState({bePersonSocialSecurity:!0})}}))),i.a.createElement("div",{style:{display:u||k?"":"none"}},i.a.createElement(o.r,{className:"yysr-amount lrls-margin-top"},i.a.createElement("label",null,"\u91d1\u989d\uff1a"),i.a.createElement(o.E.BorderInputItem,{mode:"amount",placeholder:"\u586b\u5199\u4e2a\u4eba\u90e8\u5206\u91d1\u989d",value:k,onChange:function(e){a(E.changeLrlsData(["oriTemp","payment","personSocialSecurityAmount"],e)),a(E.xczcCalculateAmount(h))}})),i.a.createElement("div",{className:"lrls-placeholder lrls-margin-top",style:{paddingLeft:".6rem",display:I>0?"":"none"}},"\u672a\u5904\u7406\u91d1\u989d: ",i.a.createElement(o.a,{showZero:!0},I)))):null,p=!c&&N?i.a.createElement(o.r,{className:"lrls-card"},i.a.createElement(o.r,{className:"lrls-more-card"},i.a.createElement("span",null,"\u4ee3\u6263\u4e2a\u4eba\u6240\u5f97\u7a0e"),i.a.createElement("div",{className:"noTextSwitch"},i.a.createElement(o.w,{checked:d,onClick:function(){d?(e.setState({beIncomeTax:!1}),a(E.changeLrlsData(["oriTemp","payment","incomeTaxAmount"],"")),a(E.xczcCalculateAmount(h))):e.setState({beIncomeTax:!0})}}))),i.a.createElement("div",{style:{display:d||J?"":"none"}},i.a.createElement(o.r,{className:"yysr-amount lrls-margin-top"},i.a.createElement("label",null,"\u91d1\u989d\uff1a"),i.a.createElement(o.E.BorderInputItem,{mode:"amount",placeholder:"\u586b\u5199\u4e2a\u4eba\u90e8\u5206\u91d1\u989d",value:J,onChange:function(e){a(E.changeLrlsData(["oriTemp","payment","incomeTaxAmount"],e)),a(E.xczcCalculateAmount(h))}})),i.a.createElement("div",{className:"lrls-placeholder lrls-margin-top",style:{paddingLeft:".6rem",display:Z>0?"":"none"}},"\u672a\u5904\u7406\u91d1\u989d: ",i.a.createElement(o.a,{showZero:!0},Z)))):null,w=i.a.createElement(o.r,{className:"lrls-card",style:{display:(O||k||J)&&j?"":"none"}},i.a.createElement(o.r,{className:"yysr-amount lrls-home-account"},i.a.createElement("label",null,"\u5de5\u8d44\u85aa\u91d1\uff1a"),i.a.createElement(o.a,{showZero:!0,className:"amount"},T)))):D=i.a.createElement(o.r,{className:"lrls-card"},i.a.createElement(o.r,{className:"yysr-amount"},i.a.createElement("label",null," \u91d1\u989d\uff1a "),i.a.createElement(o.E.BorderInputItem,{mode:"amount",negativeAllowed:!0,placeholder:b,value:T,onChange:function(e){a(E.changeLrlsData(["oriTemp","amount"],e)),"-"!=e&&_&&a(E.xczcCalculateAmount(h))}}),i.a.createElement(y,{dispatch:a,accountList:r,accounts:l})))},STATE_XC_DK:function(){var r=Object(S.l)(Number(O)+Number(k)+Number(J)),l=n.get("hxAccumulationAmount"),c=n.get("hxSocialSecurityAmount"),g=n.get("personTaxAmount");w=i.a.createElement("div",{className:"lrls-card"},i.a.createElement(o.r,{className:"yysr-amount lrls-home-account"},i.a.createElement("label",null,"\u4ee3\u6263\u5408\u8ba1\uff1a"),i.a.createElement(o.a,{showZero:!0,className:"amount"},r))),t=L?i.a.createElement(o.r,{className:"lrls-card"},i.a.createElement(o.r,{className:"lrls-more-card"},i.a.createElement("span",null,"\u4ee3\u6263\u4e2a\u4eba\u516c\u79ef\u91d1"),i.a.createElement("div",{className:"noTextSwitch"},i.a.createElement(o.w,{checked:m||O,onClick:function(){e.setState({bePersonAccumulation:!m}),m&&a(E.changeLrlsData(["oriTemp","payment","personAccumulationAmount"],""))}}))),m||O?i.a.createElement(o.r,{className:"yysr-amount lrls-margin-top"},i.a.createElement("label",null,"\u91d1\u989d\uff1a"),i.a.createElement(o.E.BorderInputItem,{mode:"amount",placeholder:"\u586b\u5199\u4e2a\u4eba\u90e8\u5206\u91d1\u989d",value:O,onChange:function(e){a(E.changeLrlsData(["oriTemp","payment","personAccumulationAmount"],e))}})):null,l?i.a.createElement(o.r,{className:"lrls-margin-top lrls-placeholder"},"\u5176\u4e2d\u516c\u79ef\u91d1\u4ee3\u7f34\u62b5\u6263\uff1a",i.a.createElement(o.a,null,l)):null):null,s=C?i.a.createElement(o.r,{className:"lrls-card"},i.a.createElement(o.r,{className:"lrls-more-card"},i.a.createElement("span",null,"\u4ee3\u6263\u4e2a\u4eba\u793e\u4fdd"),i.a.createElement("div",{className:"noTextSwitch"},i.a.createElement(o.w,{checked:u||k,onClick:function(){e.setState({bePersonSocialSecurity:!u}),u&&a(E.changeLrlsData(["oriTemp","payment","personSocialSecurityAmount"],""))}}))),u||k?i.a.createElement(o.r,{className:"yysr-amount lrls-margin-top"},i.a.createElement("label",null,"\u91d1\u989d\uff1a"),i.a.createElement(o.E.BorderInputItem,{mode:"amount",placeholder:"\u586b\u5199\u4e2a\u4eba\u90e8\u5206\u91d1\u989d",value:k,onChange:function(e){a(E.changeLrlsData(["oriTemp","payment","personSocialSecurityAmount"],e))}})):null,c?i.a.createElement(o.r,{className:"lrls-margin-top lrls-placeholder"},"\u5176\u4e2d\u793e\u4fdd\u4ee3\u7f34\u62b5\u6263\uff1a",i.a.createElement(o.a,null,c)):null):null,p=N?i.a.createElement(o.r,{className:"lrls-card"},i.a.createElement(o.r,{className:"lrls-more-card"},i.a.createElement("span",null,"\u4ee3\u6263\u4e2a\u4eba\u6240\u5f97\u7a0e"),i.a.createElement("div",{className:"noTextSwitch"},i.a.createElement(o.w,{checked:d||J,onClick:function(){e.setState({beIncomeTax:!d}),d&&a(E.changeLrlsData(["oriTemp","payment","incomeTaxAmount"],""))}}))),d||J?i.a.createElement(o.r,{className:"yysr-amount lrls-margin-top"},i.a.createElement("label",null,"\u91d1\u989d\uff1a"),i.a.createElement(o.E.BorderInputItem,{mode:"amount",placeholder:"\u586b\u5199\u4e2a\u4eba\u90e8\u5206\u91d1\u989d",value:J,onChange:function(e){a(E.changeLrlsData(["oriTemp","payment","incomeTaxAmount"],e))}})):null,g?i.a.createElement(o.r,{className:"lrls-margin-top lrls-placeholder"},"\u5176\u4e2d\u4e2a\u7a0e\u4ee3\u7f34\u62b5\u6263\uff1a",i.a.createElement(o.a,null,g)):null):null}}[g]||function(){return null})(),x=i.a.createElement("div",null,t,s,p,D,w)},SX_SHBX:function(){var t="\u91d1\u989d",s=null,m=null,d=null;({STATE_XC_JT:function(){t="\u91d1\u989d(\u516c\u53f8\u90e8\u5206)",s=i.a.createElement(o.r,{className:"lrls-card"},i.a.createElement(o.r,{className:"yysr-amount"},i.a.createElement("label",null," \u91d1\u989d\uff1a "),i.a.createElement(o.E.BorderInputItem,{mode:"amount",negativeAllowed:!0,placeholder:t,value:T,onChange:function(e){a(E.changeLrlsData(["oriTemp","amount"],e))}})))},STATE_XC_JN:function(){v||C?(s=c?i.a.createElement("div",{className:"lrls-card"},i.a.createElement(o.r,{className:"yysr-amount lrls-home-account"},i.a.createElement("label",null,U>=0?"\u4ed8\u6b3e\u91d1\u989d\uff1a":"\u6536\u6b3e\u91d1\u989d\uff1a"),i.a.createElement(o.E.BorderInputItem,{mode:"amount",negativeAllowed:!0,placeholder:"\u586b\u5199\u91d1\u989d",value:T,onChange:function(e){a(E.changeLrlsData(["oriTemp","amount"],e))}}),i.a.createElement(y,{dispatch:a,accountList:r,accounts:l}))):i.a.createElement("div",{className:"lrls-card"},i.a.createElement(o.r,{className:"yysr-amount lrls-home-account"},i.a.createElement("label",null,"\u793e\u4fdd\u91d1\u989d: "),i.a.createElement(o.E.BorderInputItem,{mode:"amount",negativeAllowed:!0,placeholder:"\u586b\u5199\u91d1\u989d",value:D,onChange:function(e){if(0==f.size){if(B.test(e)||""==e){if(a(E.changeLrlsData(["oriTemp","payment","companySocialSecurityAmount"],e)),"-"==e)return;a(E.xczcCalculateAmount(h))}}else/^\d*\.?\d{0,2}$/g.test(e)&&(a(E.changeLrlsData(["oriTemp","payment","companySocialSecurityAmount"],e)),a(E.xczcCalculateAmount(h)))}}),C?null:i.a.createElement(y,{dispatch:a,accountList:r,accounts:l}))),m=!c&&C?i.a.createElement(o.r,{className:"lrls-card"},i.a.createElement(o.r,{className:"lrls-more-card"},i.a.createElement("span",null,"\u4ee3\u7f34\u4e2a\u4eba\u793e\u4fdd"),i.a.createElement("div",{className:"noTextSwitch"},i.a.createElement(o.w,{checked:u||k,color:"#FF8348",onClick:function(){e.setState({bePersonSocialSecurity:!u}),u&&(a(E.changeLrlsData(["oriTemp","payment","personSocialSecurityAmount"],0)),a(E.xczcCalculateAmount(h)))}}))),i.a.createElement("div",{style:{display:u||k?"":"none"}},i.a.createElement(o.r,{className:"yysr-amount lrls-margin-top"},i.a.createElement("label",null,"\u91d1\u989d\uff1a"),i.a.createElement(o.E.BorderInputItem,{mode:"amount",placeholder:"\u586b\u5199\u4e2a\u4eba\u90e8\u5206\u91d1\u989d",value:k,onChange:function(e){a(E.changeLrlsData(["oriTemp","payment","personSocialSecurityAmount"],e)),a(E.xczcCalculateAmount(h))}})),i.a.createElement("div",{className:"lrls-placeholder lrls-margin-top",style:{paddingLeft:".6rem",display:I>0?"":"none"}},"\u672a\u5904\u7406\u91d1\u989d: ",i.a.createElement(o.a,{showZero:!0},I)))):null,d=i.a.createElement("div",{className:"lrls-card",style:{display:!C||c?"none":""}},i.a.createElement(o.r,{className:"yysr-amount lrls-home-account"},i.a.createElement("label",null,j<0?"\u6536\u6b3e\u91d1\u989d\uff1a":"\u4ed8\u6b3e\u91d1\u989d\uff1a"),i.a.createElement(o.a,{showZero:!0,className:"amount"},Math.abs(j)),i.a.createElement(y,{dispatch:a,accountList:r,accounts:l})))):s=i.a.createElement(o.r,{className:"lrls-card"},i.a.createElement(o.r,{className:"yysr-amount"},i.a.createElement("label",null,"\u91d1\u989d:"),i.a.createElement(o.E.BorderInputItem,{mode:"amount",negativeAllowed:!0,placeholder:t,value:T,onChange:function(e){a(E.changeLrlsData(["oriTemp","amount"],e))}}),i.a.createElement(y,{dispatch:a,accountList:r,accounts:l})))},STATE_XC_DJ:function(){var e=n.get("hxSocialSecurityAmount");m=i.a.createElement(o.r,{className:"lrls-card"},i.a.createElement(o.r,{className:"yysr-amount"},i.a.createElement("label",null,"\u4ee3\u7f34\u91d1\u989d\uff1a"),i.a.createElement(o.E.BorderInputItem,{mode:"amount",placeholder:"\u586b\u5199\u4e2a\u4eba\u90e8\u5206\u91d1\u989d",value:k,onChange:function(e){a(E.changeLrlsData(["oriTemp","payment","personSocialSecurityAmount"],e))}}),i.a.createElement(y,{dispatch:a,accountList:r,accounts:l})),e?i.a.createElement(o.r,{className:"lrls-margin-top lrls-placeholder"},"\u5176\u4e2d\u793e\u4fdd\u4ee3\u6263\u62b5\u6263\uff1a",i.a.createElement(o.a,null,e)):null)}}[g]||function(){return null})(),x=i.a.createElement("div",null,s,m,d)},SX_ZFGJJ:function(){var t="\u91d1\u989d",s=null,u=null,d=null;({STATE_XC_JT:function(){t="\u91d1\u989d(\u516c\u53f8\u90e8\u5206)",s=i.a.createElement(o.r,{className:"lrls-card"},i.a.createElement(o.r,{className:"yysr-amount"},i.a.createElement("label",null,"\u91d1\u989d\uff1a "),i.a.createElement(o.E.BorderInputItem,{mode:"amount",negativeAllowed:!0,placeholder:t,value:T,onChange:function(e){a(E.changeLrlsData(["oriTemp","amount"],e))}})))},STATE_XC_JN:function(){v||L?(s=i.a.createElement("div",{className:"lrls-card"},i.a.createElement(o.r,{className:"yysr-amount"},i.a.createElement("label",null,"\u516c\u79ef\u91d1\u989d\uff1a "),i.a.createElement(o.E.BorderInputItem,{mode:"amount",negativeAllowed:!0,placeholder:"\u586b\u5199\u91d1\u989d",value:w,onChange:function(e){if(0==f.size){if(B.test(e)||""==e){if(a(E.changeLrlsData(["oriTemp","payment","companyAccumulationAmount"],e)),"-"==e)return;a(E.xczcCalculateAmount(h))}}else/^\d*\.?\d{0,2}$/g.test(e)&&(a(E.changeLrlsData(["oriTemp","payment","companyAccumulationAmount"],e)),a(E.xczcCalculateAmount(h)))}}),L?null:i.a.createElement(y,{dispatch:a,accountList:r,accounts:l}))),c&&(s=i.a.createElement("div",{className:"lrls-card"},i.a.createElement(o.r,{className:"yysr-amount lrls-home-account"},i.a.createElement("label",null,U>=0?"\u4ed8\u6b3e\u91d1\u989d\uff1a":"\u6536\u6b3e\u91d1\u989d\uff1a"),i.a.createElement(o.E.BorderInputItem,{mode:"amount",negativeAllowed:!0,placeholder:"\u586b\u5199\u91d1\u989d",value:T,onChange:function(e){a(E.changeLrlsData(["oriTemp","amount"],e))}}),i.a.createElement(y,{dispatch:a,accountList:r,accounts:l})))),d=i.a.createElement("div",{className:"lrls-card",style:{display:!L||c?"none":""}},i.a.createElement(o.r,{className:"yysr-amount lrls-home-account"},i.a.createElement("label",null,j<0?"\u6536\u6b3e\u91d1\u989d\uff1a":"\u4ed8\u6b3e\u91d1\u989d: "),i.a.createElement(o.a,{showZero:!0,className:"amount"},Math.abs(j)),i.a.createElement(y,{dispatch:a,accountList:r,accounts:l}))),u=!c&&L?i.a.createElement(o.r,{className:"lrls-card"},i.a.createElement(o.r,{className:"lrls-more-card"},i.a.createElement("span",null,"\u4ee3\u7f34\u4e2a\u4eba\u516c\u79ef\u91d1"),i.a.createElement("div",{className:"noTextSwitch"},i.a.createElement(o.w,{checked:m||O,onClick:function(){e.setState({bePersonAccumulation:!m}),m&&(a(E.changeLrlsData(["oriTemp","payment","personAccumulationAmount"],"")),a(E.xczcCalculateAmount(h)))}}))),i.a.createElement("div",{style:{display:m||O?"":"none"}},i.a.createElement(o.r,{className:"yysr-amount lrls-margin-top"},i.a.createElement("label",null,"\u91d1\u989d\uff1a"),i.a.createElement(o.E.BorderInputItem,{mode:"amount",placeholder:"\u586b\u5199\u4e2a\u4eba\u90e8\u5206\u91d1\u989d",value:O,onChange:function(e){a(E.changeLrlsData(["oriTemp","payment","personAccumulationAmount"],e)),a(E.xczcCalculateAmount(h))}})),i.a.createElement("div",{style:{paddingLeft:".6rem",display:A>0?"":"none"},className:"lrls-placeholder lrls-margin-top"},"\u672a\u5904\u7406\u91d1\u989d: ",i.a.createElement(o.a,{showZero:!0},A)))):null):s=i.a.createElement(o.r,{className:"lrls-card"},i.a.createElement(o.r,{className:"yysr-amount"},i.a.createElement("label",null,"\u91d1\u989d:"),i.a.createElement(o.E.BorderInputItem,{mode:"amount",negativeAllowed:!0,placeholder:t,value:T,onChange:function(e){a(E.changeLrlsData(["oriTemp","amount"],e))}}),i.a.createElement(y,{dispatch:a,accountList:r,accounts:l})))},STATE_XC_DJ:function(){var e=n.get("hxAccumulationAmount");u=i.a.createElement(o.r,{className:"lrls-card"},i.a.createElement(o.r,{className:"yysr-amount"},i.a.createElement("label",null,"\u4ee3\u7f34\u91d1\u989d\uff1a"),i.a.createElement(o.E.BorderInputItem,{mode:"amount",placeholder:"\u586b\u5199\u4e2a\u4eba\u90e8\u5206\u91d1\u989d",value:O,onChange:function(e){a(E.changeLrlsData(["oriTemp","payment","personAccumulationAmount"],e))}}),i.a.createElement(y,{dispatch:a,accountList:r,accounts:l})),e?i.a.createElement(o.r,{className:"lrls-margin-top lrls-placeholder"},"\u5176\u4e2d\u516c\u79ef\u91d1\u4ee3\u6263\u62b5\u6263\uff1a",i.a.createElement(o.a,null,e)):null)}}[g]||function(){return null})(),x=i.a.createElement("div",null,s,u,d)},SX_FLF:function(){var e="STATE_XC_FF"==g;x=i.a.createElement(o.r,{className:"lrls-card"},i.a.createElement(o.r,{className:"yysr-amount"},i.a.createElement("label",null,U>=0?"\u4ed8\u6b3e\u91d1\u989d\uff1a":"\u6536\u6b3e\u91d1\u989d\uff1a"),i.a.createElement(o.E.BorderInputItem,{mode:"amount",negativeAllowed:!0,placeholder:"\u586b\u5199\u91d1\u989d",value:T,onChange:function(e){a(E.changeLrlsData(["oriTemp","amount"],e))}}),e?i.a.createElement(y,{dispatch:a,accountList:r,accounts:l}):null))},SX_QTXC:function(){var e="STATE_XC_FF"==g;x=i.a.createElement(o.r,{className:"lrls-card"},i.a.createElement(o.r,{className:"yysr-amount"},i.a.createElement("label",null,U>=0?"\u4ed8\u6b3e\u91d1\u989d\uff1a":"\u6536\u6b3e\u91d1\u989d\uff1a"),i.a.createElement(o.E.BorderInputItem,{mode:"amount",negativeAllowed:!0,placeholder:"\u586b\u5199\u91d1\u989d",value:T,onChange:function(e){a(E.changeLrlsData(["oriTemp","amount"],e))}}),e?i.a.createElement(y,{dispatch:a,accountList:r,accounts:l}):null))}}[h]||function(){return null})(),x}}]),a}(s.Component),N=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).state={beOffsetAmount:!1},e}return Object(r.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.dispatch,n=t.oriTemp,r=t.accountList,l=t.accounts,c=t.isModify,s=this.state.beOffsetAmount,m=n.get("oriState"),u=n.get("propertyTax"),d=n.get("acTax"),p=d.get("beInAdvance"),g=d.get("beReduce"),h=n.get("beReduceTax"),f=n.get("reduceAmount"),b=n.get("amount"),v=(n.get("usedProject"),null);return({SX_ZZS:function(){var t=n.get("amount"),u=n.get("offsetAmount"),d=n.get("deductedAmount"),b=(n.get("jrAmount"),Number(u)+Number(t)+Number(f)),L=null,C=null,N=null,T=null;({STATE_SF_JN:function(){L=i.a.createElement(o.r,{className:"lrls-card"},i.a.createElement(o.r,{className:"yysr-amount"},i.a.createElement("label",null,"\u652f\u4ed8\u91d1\u989d\uff1a "),i.a.createElement(o.E.BorderInputItem,{mode:"amount",placeholder:"\u586b\u5199\u91d1\u989d",value:t,onChange:function(e){a(E.changeLrlsData(["oriTemp","amount"],e))}}),t>0?i.a.createElement(y,{dispatch:a,accountList:r,accounts:l}):null)),N=i.a.createElement(o.r,{className:"lrls-card"},i.a.createElement("div",null,"\u5904\u7406\u7a0e\u8d39\uff1a",i.a.createElement(o.a,{showZero:!0},Object(S.l)(b)))),p&&d>0&&(C=i.a.createElement(o.r,{className:"lrls-card"},i.a.createElement(o.r,{className:"lrls-more-card"},i.a.createElement("span",null,"\u9884\u4ea4\u62b5\u6263"),i.a.createElement("span",{className:"noTextSwitch"},i.a.createElement(o.w,{checked:s||u,onClick:function(){s?(e.setState({beOffsetAmount:!1}),a(E.changeLrlsData(["oriTemp","offsetAmount"],0))):e.setState({beOffsetAmount:!0})}}))),s||u?i.a.createElement(o.r,{className:"lrls-padding-top"},i.a.createElement(o.r,{className:"yysr-amount"},i.a.createElement("label",null,"\u91d1\u989d\uff1a "),i.a.createElement(o.E.BorderInputItem,{mode:"amount",placeholder:"\u586b\u5199\u91d1\u989d",value:u,onChange:function(e){a(E.changeLrlsData(["oriTemp","offsetAmount"],e))}})),i.a.createElement(o.r,{className:"lrls-padding-top lrls-placeholder"},i.a.createElement("span",null,"\u5f85\u62b5\u6263\u91d1\u989d\uff1a ",i.a.createElement(o.a,{showZero:!0},d)))):null)),!c&&g&&(T=i.a.createElement(o.r,{className:"lrls-card"},i.a.createElement(o.r,{className:"lrls-more-card"},i.a.createElement("span",null,"\u7a0e\u8d39\u51cf\u514d"),i.a.createElement("span",{className:"noTextSwitch"},i.a.createElement(o.w,{checked:h,onClick:function(){h?(a(E.changeLrlsData(["oriTemp","beReduceTax"],!1)),a(E.changeLrlsData(["oriTemp","reduceAmount"],""))):a(E.changeLrlsData(["oriTemp","beReduceTax"],!0))}}))),h?i.a.createElement(o.r,{className:"yysr-amount lrls-padding-top"},i.a.createElement("label",null,"\u91d1\u989d\uff1a "),i.a.createElement(o.E.BorderInputItem,{mode:"amount",placeholder:"\u586b\u5199\u91d1\u989d",value:f,onChange:function(e){a(E.changeLrlsData(["oriTemp","reduceAmount"],e))}})):null))},STATE_SF_YJZZS:function(){L=i.a.createElement(o.r,{className:"lrls-card"},i.a.createElement(o.r,{className:"yysr-amount"},i.a.createElement("label",null," \u91d1\u989d\uff1a "),i.a.createElement(o.E.BorderInputItem,{mode:"amount",placeholder:"\u586b\u5199\u91d1\u989d",value:t,onChange:function(e){a(E.changeLrlsData(["oriTemp","amount"],e))}}),t>0?i.a.createElement(y,{dispatch:a,accountList:r,accounts:l}):null))},STATE_SF_ZCWJZZS:function(){var e=n.get("transferAmount")?n.get("transferAmount"):"";L=i.a.createElement(o.r,{className:"lrls-card"},i.a.createElement(o.r,{className:"yysr-amount"},i.a.createElement("label",null," \u91d1\u989d\uff1a "),i.a.createElement(o.E.BorderInputItem,{mode:"amount",placeholder:"\u586b\u5199\u91d1\u989d",value:t,onChange:function(e){a(E.changeLrlsData(["oriTemp","amount"],e))}})),i.a.createElement(o.r,{className:"lrls-padding-top lrls-placeholder",style:{paddingLeft:".6rem",display:c?"none":""}},i.a.createElement("span",null,"\u5f85\u8f6c\u589e\u503c\u7a0e\uff1a ",i.a.createElement(o.a,{showZero:!0},e))))}}[m]||function(){return null})(),v=i.a.createElement("div",null,N,L,C,T)},SX_GRSF:function(){var e=n.get("payableAmount");v=i.a.createElement(o.r,{className:"lrls-card"},i.a.createElement(o.r,{className:"yysr-amount"},i.a.createElement("label",null," \u91d1\u989d\uff1a "),i.a.createElement(o.E.BorderInputItem,{mode:"amount",placeholder:"\u586b\u5199\u91d1\u989d",value:b,onChange:function(e){a(E.changeLrlsData(["oriTemp","amount"],e))}}),b>0?i.a.createElement(y,{dispatch:a,accountList:r,accounts:l}):null),i.a.createElement("div",{className:"lrls-placeholder lrls-margin-top",style:{paddingLeft:".6rem",display:e>0?"":"none"}},i.a.createElement("span",{style:{marginRight:".2rem"}},"\u672a\u5904\u7406\u91d1\u989d: ",i.a.createElement(o.a,{showZero:!0},e))))},SX_QTSF:function(){var e=!1,t=null,n=null;({STATE_SF_JT:function(){e=!1},STATE_SF_JN:function(){e=!0,!c&&g&&(t=i.a.createElement(o.r,{className:"lrls-card"},i.a.createElement(o.r,{className:"lrls-more-card"},i.a.createElement("span",null,"\u7a0e\u8d39\u51cf\u514d"),i.a.createElement("span",{className:"noTextSwitch"},i.a.createElement(o.w,{checked:h,onClick:function(){h?(a(E.changeLrlsData(["oriTemp","beReduceTax"],!1)),a(E.changeLrlsData(["oriTemp","reduceAmount"],""))):a(E.changeLrlsData(["oriTemp","beReduceTax"],!0))}}))),h?i.a.createElement(o.r,{className:"yysr-amount lrls-padding-top"},i.a.createElement("label",null,"\u91d1\u989d\uff1a "),i.a.createElement(o.E.BorderInputItem,{mode:"amount",placeholder:"\u586b\u5199\u91d1\u989d",value:f,onChange:function(e){a(E.changeLrlsData(["oriTemp","reduceAmount"],e))}})):null)),n=i.a.createElement(o.r,{className:"lrls-card",style:{display:f?"":"none"}},i.a.createElement(o.r,{className:"yysr-amount"},i.a.createElement("label",null,"\u6838\u9500\u91d1\u989d\uff1a"),i.a.createElement(o.a,{showZero:!0,className:"amount"},Number(b)+Number(f))))}}[m]||function(){return null})(),v=i.a.createElement("div",null,i.a.createElement(o.r,{className:"lrls-card"},i.a.createElement(o.r,{className:"yysr-amount"},i.a.createElement("label",null," \u91d1\u989d\uff1a "),i.a.createElement(o.E.BorderInputItem,{mode:"amount",placeholder:"\u586b\u5199\u91d1\u989d",value:b,onChange:function(e){a(E.changeLrlsData(["oriTemp","amount"],e))}}),b>0&&e?i.a.createElement(y,{dispatch:a,accountList:r,accounts:l}):null)),t,n)},SX_QYSDS:function(){var e=!1,t=null,n=null;({STATE_SF_JT:function(){e=!1},STATE_SF_JN:function(){e=!0,!c&&g&&(t=i.a.createElement(o.r,{className:"lrls-card"},i.a.createElement(o.r,{className:"lrls-more-card"},i.a.createElement("span",null,"\u7a0e\u8d39\u51cf\u514d"),i.a.createElement("span",{className:"noTextSwitch"},i.a.createElement(o.w,{checked:h,onClick:function(){h?(a(E.changeLrlsData(["oriTemp","beReduceTax"],!1)),a(E.changeLrlsData(["oriTemp","reduceAmount"],""))):a(E.changeLrlsData(["oriTemp","beReduceTax"],!0))}}))),h?i.a.createElement(o.r,{className:"yysr-amount lrls-padding-top"},i.a.createElement("label",null,"\u91d1\u989d\uff1a "),i.a.createElement(o.E.BorderInputItem,{mode:"amount",placeholder:"\u586b\u5199\u91d1\u989d",value:f,onChange:function(e){a(E.changeLrlsData(["oriTemp","reduceAmount"],e))}})):null)),n=i.a.createElement(o.r,{className:"lrls-card",style:{display:f?"":"none"}},i.a.createElement(o.r,{className:"yysr-amount"},i.a.createElement("label",null,"\u6838\u9500\u91d1\u989d\uff1a"),i.a.createElement(o.a,{showZero:!0,className:"amount"},Number(b)+Number(f))))}}[m]||function(){return null})(),v=i.a.createElement("div",null,i.a.createElement(o.r,{className:"lrls-card"},i.a.createElement(o.r,{className:"yysr-amount"},i.a.createElement("label",null," \u91d1\u989d\uff1a "),i.a.createElement(o.E.BorderInputItem,{mode:"amount",placeholder:"\u586b\u5199\u91d1\u989d",value:b,onChange:function(e){a(E.changeLrlsData(["oriTemp","amount"],e))}}),b>0&&e?i.a.createElement(y,{dispatch:a,accountList:r,accounts:l}):null)),t,n)}}[u]||function(){return null})(),"STATE_SF_SFJM"==m&&(v=i.a.createElement("div",{className:"lrls-card"},i.a.createElement(o.r,{className:"yysr-amount"},i.a.createElement("label",null,"\u51cf\u514d\u91d1\u989d\uff1a "),i.a.createElement(o.E.BorderInputItem,{mode:"amount",placeholder:"\u586b\u5199\u91d1\u989d",value:b,onChange:function(e){a(E.changeLrlsData(["oriTemp","amount"],e))}})))),v}}]),a}(s.Component),T=(a(219),a(2)),_={decimalZero:!1,decimalPlaces:4},j=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).state={isAll:!0,visible:!1,idx:-1,categoryValue:"ALL"},e}return Object(r.a)(a,[{key:"componentWillReceiveProps",value:function(e){this.props.oriState!=e.oriState&&this.setState({categoryValue:"ALL",isAll:!0})}},{key:"render",value:function(){var e=this,t=this.props,a=t.dispatch,n=t.oriState,r=t.stockCardList,l=t.stockList,c=t.isModify,s=t.isOpenedWarehouse,m=t.stockCategoryList,u=t.commonCardList,d=t.relationCategoryUuid,g=t.history,h=this.state,f=h.isAll,y=h.visible,b=h.idx,v=h.categoryValue,L=1==r.size,S=function(e,t,n){return a(E.changeYysrStockCard(e,t,n,"JZCB"))},C=r.map((function(e){return e.get("cardUuid")})),N=(l.filter((function(e){return!C.includes(e.get("cardUuid"))})),"STATE_YYSR_ZJ"==n),j=[{uuid:"ALL",name:"\u5168\u90e8",top:!0,childList:[]}];m.map((function(e){j.push(e.toJS())})),function e(t){t.forEach((function(t){t.key=t.uuid,t.label=t.name,t.childList.length&&e(t.childList)}))}(j),c&&!N&&(j=[{key:"ALL",label:"\u5168\u90e8",top:!0,childList:[]}]);var O=f?l.toJS():u;return O.map((function(e){e.name=e.key,e.uuid=e.cardUuid,["STATE_YYSR_XS","STATE_YYSR_TS"].includes(n)&&C.includes(e.cardUuid)&&(e.disabled=!0)})),i.a.createElement("div",{className:r.size?"lrls-card":""},i.a.createElement(o.f,{visible:y,type:"card",multiSelect:!0,title:"\u8bf7\u9009\u62e9\u5b58\u8d27",district:j,cardList:O,value:v,onChange:function(t){e.setState({categoryValue:t.key}),"ALL"!=t.key?(e.setState({isAll:!1}),a(E.getCostStockByCategory(t.key,t.top,"commonCardJzcbList"))):e.setState({isAll:!0})},onOk:function(e){0!=e.length&&(S("card",e,b),"STATE_YYSR_ZJ"==n&&a(E.getJzcbListPrice(b,e)),c&&a(E.filterJzcbList()))},onCancel:function(){e.setState({visible:!1})}},i.a.createElement("span",null)),r.map((function(e,t){var n=e.get("cardUuid"),r=e.get("warehouseCardUuid"),l=e.get("warehouseCardCode"),c=e.get("warehouseCardName"),m=e.get("isOpenedQuantity"),u=e.get("quantity")?Number(e.get("quantity")):0,h=e.get("price")?Number(e.get("price")):0,f=e.get("amount")?Number(e.get("amount")):0,y=e.get("unitName")?e.get("unitName"):"",b=e.getIn(["financialInfo","openAssist"]),v=e.getIn(["financialInfo","openSerial"]),C=e.getIn(["financialInfo","openBatch"]),j=(e.getIn(["financialInfo","openShelfLife"]),(e.get("assistList")?e.get("assistList"):Object(p.fromJS)([])).reduce((function(e,t){return"".concat(e).concat(e?";":"").concat(t.get("propertyName"))}),"")),O=e.get("batch")?e.get("batch"):"",A=e.get("expirationDate")?e.get("expirationDate"):"",k=A?"".concat(O,"(").concat(A,")"):O;return i.a.createElement("div",{key:t,className:"lrls-bottom-line lrls-card-bottom"},i.a.createElement("div",{className:"lrls-more-card lrls-placeholder lrls-card-bottom"},i.a.createElement("span",null,"\u5b58\u8d27\u660e\u7ec6(",t+1,")"),i.a.createElement("span",{className:"lrls-blue",style:{display:L||!N?"none":""},onClick:function(){S("delete","",t)}},"\u5220\u9664")),i.a.createElement("div",{className:"lrls-more-card",onClick:function(){if(N&&!d)return T.a.toast.info("\u8bf7\u5148\u9009\u62e9\u5904\u7406\u7c7b\u522b",2);a(E.changeLrlsData(["views","idx"],t)),g.push("/editrunning/stock")}},i.a.createElement("div",{className:"lrls-single"},i.a.createElement(o.r,{className:"lrls-more-card lrls-card-bottom"},i.a.createElement("div",{className:"lrls-single overElli lrls-padding-right"},i.a.createElement("span",null,"\u5b58\u8d27:"),i.a.createElement("span",{className:n?"":"lrls-placeholder"},n?"".concat(e.get("code")," ").concat(e.get("name")):" \u672a\u9009\u62e9")),i.a.createElement("div",{className:"lrls-single overElli lrls-padding-right",style:{display:s?"":"none"}},i.a.createElement("span",null,"\u4ed3\u5e93:"),i.a.createElement("span",{className:r?"":"lrls-placeholder"},r?"".concat(l," ").concat(c):" \u672a\u9009\u62e9"))),i.a.createElement(o.r,{className:"lrls-more-card lrls-card-bottom",style:{display:b||C?"":"none"}},b?i.a.createElement("div",{className:"lrls-single overElli lrls-padding-right"},i.a.createElement("span",null,"\u5c5e\u6027:"),i.a.createElement("span",{className:j?"":"lrls-placeholder"},j||" \u672a\u9009\u62e9")):null,C?i.a.createElement("div",{className:"lrls-single overElli lrls-padding-right"},i.a.createElement("span",null,"\u6279\u6b21:"),i.a.createElement("span",{className:k?"":"lrls-placeholder"},k||" \u672a\u9009\u62e9")):null),i.a.createElement(o.r,{className:"lrls-more-card lrls-card-bottom"},i.a.createElement("div",{style:{display:m?"":"none"},className:"lrls-padding-right lrls-one-third"},i.a.createElement("span",{className:N&&v?"sn":""},"\u6570\u91cf:"),i.a.createElement(o.a,_,u),i.a.createElement("span",null,y)),i.a.createElement("div",{style:{display:m?"":"none"},className:"lrls-single overElli lrls-padding-right"},i.a.createElement("span",null,"\u5355\u4ef7:"),i.a.createElement(o.a,_,h)),i.a.createElement("div",{className:"lrls-padding-right lrls-one-third"},i.a.createElement("span",null,"\u91d1\u989d:"),i.a.createElement(o.a,null,f)))),i.a.createElement(o.l,{type:"arrow-right"})))})),i.a.createElement("div",{className:"lrls-more-card",style:{fontWeight:"bold",display:N?"":"none"}},i.a.createElement("div",null),i.a.createElement("div",{className:"lrls-blue",onClick:function(){if(!d)return T.a.toast.info("\u8bf7\u5148\u9009\u62e9\u5904\u7406\u7c7b\u522b",2);e.setState({visible:!0,idx:r.size})}},"+\u6dfb\u52a0\u5b58\u8d27\u660e\u7ec6")))}}]),a}(s.Component),O={decimalZero:!1,decimalPlaces:4},A=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).state={isAll:!0,visible:!1,idx:-1,cardType:"stockCardList",categoryValue:"ALL"},e}return Object(r.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.dispatch,n=t.history,r=t.stockCardList,l=t.stockList,c=t.warehouseCardList,s=t.warehouseList,m=t.stockCategoryList,u=t.commonCardList,d=this.state,g=d.isAll,h=d.visible,f=d.idx,y=d.cardType,b=d.categoryValue,v=1==r.size,L=function(e,t,n){return a(E.changeYysrStockCard(e,t,n,"CHDB"))},S=(r.map((function(e){return e.get("cardUuid")})),c.get(0)),C=c.get(1),N=[{uuid:"ALL",name:"\u5168\u90e8",top:!0,childList:[]}];m.map((function(e){N.push(e.toJS())})),function e(t){t.forEach((function(t){t.key=t.uuid,t.label=t.name,t.childList.length&&e(t.childList)}))}(N);var T=g?l.toJS():u;return T.map((function(e){e.name=e.key})),i.a.createElement("div",null,i.a.createElement("div",{className:"lrls-card"},i.a.createElement("div",{className:"lrls-more-card lrls-bottom"},i.a.createElement("label",null,"\u8c03\u51fa\u4ed3\u5e93:"),i.a.createElement(o.u,{className:"lrls-single",district:s.toJS(),value:S.get("cardUuid"),onOk:function(e){a(E.changeLrlsData(["oriTemp","warehouseCardList",0,"cardUuid"],e.uuid)),a(E.changeLrlsData(["oriTemp","warehouseCardList",0,"code"],e.code)),a(E.changeLrlsData(["oriTemp","warehouseCardList",0,"name"],e.name)),a(E.getChdbPriceAll())}},i.a.createElement(o.r,{className:"lrls-category lrls-padding"},S.get("cardUuid")?i.a.createElement("span",null," ","".concat(S.get("code")," ").concat(S.get("name"))," "):i.a.createElement("span",{className:"lrls-placeholder"},"\u70b9\u51fb\u9009\u62e9\u8c03\u51fa\u4ed3\u5e93"),i.a.createElement(o.l,{type:"triangle"})))),i.a.createElement("div",{className:"lrls-more-card"},i.a.createElement("label",null,"\u8c03\u5165\u4ed3\u5e93:"),i.a.createElement(o.u,{className:"lrls-single",district:s.toJS(),value:C.get("cardUuid"),onOk:function(e){a(E.changeLrlsData(["oriTemp","warehouseCardList",1,"cardUuid"],e.uuid)),a(E.changeLrlsData(["oriTemp","warehouseCardList",1,"code"],e.code)),a(E.changeLrlsData(["oriTemp","warehouseCardList",1,"name"],e.name))}},i.a.createElement(o.r,{className:"lrls-category lrls-padding"},C.get("cardUuid")?i.a.createElement("span",null," ","".concat(C.get("code")," ").concat(C.get("name"))," "):i.a.createElement("span",{className:"lrls-placeholder"},"\u70b9\u51fb\u9009\u62e9\u8c03\u5165\u4ed3\u5e93"),i.a.createElement(o.l,{type:"triangle"}))))),i.a.createElement("div",{className:"lrls-card"},i.a.createElement(o.f,{visible:h,type:"card",multiSelect:!0,title:"\u8bf7\u9009\u62e9\u5b58\u8d27",district:N,cardList:T,value:b,onChange:function(t){e.setState({categoryValue:t.key}),"ALL"!=t.key?(e.setState({isAll:!1}),a(E.getStockListByCategory(t))):e.setState({isAll:!0})},onOk:function(e){e.length&&(L("card",e,f),a(E.getChdbPrice(f,e,y)))},onCancel:function(){e.setState({visible:!1})}},i.a.createElement("span",null)),r.map((function(e,t){var r=e.get("isOpenedQuantity"),l=e.get("cardUuid"),c=(e.get("isUniformPrice"),e.get("quantity")?Number(e.get("quantity")):0),s=e.get("price")?Number(e.get("price")):0,m=e.get("amount")?Number(e.get("amount")):0,u=e.getIn(["financialInfo","openAssist"]),d=e.getIn(["financialInfo","openSerial"]),g=e.getIn(["financialInfo","openBatch"]),h=(e.getIn(["financialInfo","openShelfLife"]),(e.get("assistList")?e.get("assistList"):Object(p.fromJS)([])).reduce((function(e,t){return"".concat(e).concat(e?";":"").concat(t.get("propertyName"))}),"")),f=e.get("batch")?e.get("batch"):"",y=e.get("expirationDate")?e.get("expirationDate"):"",b=y?"".concat(f,"(").concat(y,")"):f;return i.a.createElement("div",{key:t,className:"lrls-bottom-line lrls-card-bottom"},i.a.createElement("div",{className:"lrls-more-card lrls-placeholder lrls-card-bottom"},i.a.createElement("span",null,"\u5b58\u8d27\u660e\u7ec6(",t+1,")"),i.a.createElement("span",{className:"lrls-blue",style:{display:v?"none":""},onClick:function(){L("delete","",t)}},"\u5220\u9664")),i.a.createElement("div",{className:"lrls-more-card",onClick:function(){a(E.changeLrlsData(["views","idx"],t)),n.push("/editrunning/stock")}},i.a.createElement("div",{className:"lrls-single"},i.a.createElement(o.r,{className:"lrls-more-card lrls-card-bottom"},i.a.createElement("div",{className:"lrls-single overElli lrls-padding-right"},i.a.createElement("span",null,"\u5b58\u8d27:"),i.a.createElement("span",{className:l?"":"lrls-placeholder"},l?"".concat(e.get("code")," ").concat(e.get("name")):" \u672a\u9009\u62e9"))),i.a.createElement(o.r,{className:"lrls-more-card lrls-card-bottom",style:{display:u||g?"":"none"}},u?i.a.createElement("div",{className:"lrls-single overElli lrls-padding-right"},i.a.createElement("span",null,"\u5c5e\u6027:"),i.a.createElement("span",{className:h?"":"lrls-placeholder"},h||" \u672a\u9009\u62e9")):null,g?i.a.createElement("div",{className:"lrls-single overElli lrls-padding-right"},i.a.createElement("span",null,"\u6279\u6b21:"),i.a.createElement("span",{className:b?"":"lrls-placeholder"},b||" \u672a\u9009\u62e9")):null),i.a.createElement(o.r,{className:"lrls-more-card lrls-card-bottom"},i.a.createElement("div",{style:{display:r?"":"none"},className:"lrls-padding-right lrls-one-third"},i.a.createElement("span",{className:d?"sn":""},"\u6570\u91cf:"),i.a.createElement(o.a,O,c),i.a.createElement("span",null,e.get("unitUuid")?e.get("unitName"):null)),i.a.createElement("div",{style:{display:r?"":"none"},className:"lrls-single overElli lrls-padding-right"},i.a.createElement("span",null,"\u5355\u4ef7:"),i.a.createElement(o.a,O,s)),i.a.createElement("div",{className:"lrls-padding-right lrls-one-third"},i.a.createElement("span",null,"\u91d1\u989d:"),i.a.createElement(o.a,null,m)))),i.a.createElement(o.l,{type:"arrow-right"})))})),i.a.createElement("div",{className:"lrls-more-card",style:{fontWeight:"bold"}},i.a.createElement("div",null),i.a.createElement("div",{className:"lrls-blue",onClick:function(){e.setState({visible:!0,idx:r.size,cardType:"stockCardList"})}},"+\u6dfb\u52a0\u5b58\u8d27\u660e\u7ec6"))))}}]),a}(s.Component),k={decimalZero:!1,decimalPlaces:4},I=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).state={isAll:!0,visible:!1,idx:-1,categoryValue:"ALL"},e}return Object(r.a)(a,[{key:"componentWillReceiveProps",value:function(e){this.props.oriState!=e.oriState&&this.setState({categoryValue:"ALL",isAll:!0,visible:!1})}},{key:"render",value:function(){var e=this,t=this.props,a=t.dispatch,n=t.stockCardList,r=t.stockList,l=t.oriState,c=t.isOpenedWarehouse,s=(t.warehouseList,t.stockCategoryList),m=t.commonCardList,u=t.history,d=this.state,g=d.isAll,h=d.visible,f=d.idx,y=d.categoryValue,b=function(e,t,n){a(E.changeYysrStockCard(e,t,n,"CHYE"))},v=(n.map((function(e){return e.get("cardUuid")})),n.get(0)?n.get(0):Object(p.fromJS)({}),1==n.size),L=[{uuid:"ALL",name:"\u5168\u90e8",top:!0,childList:[]}];s.map((function(e){L.push(e.toJS())})),function e(t){t.forEach((function(t){t.key=t.uuid,t.label=t.name,t.childList.length&&e(t.childList)}))}(L);var S=g?r.toJS():m;S.map((function(e){e.name=e.key}));var C=0;return i.a.createElement("div",null,i.a.createElement("div",{className:"lrls-card"},i.a.createElement(o.f,{visible:h,type:"card",multiSelect:!0,title:"\u8bf7\u9009\u62e9\u5b58\u8d27",district:L,cardList:S,value:y,onChange:function(t){e.setState({categoryValue:t.key}),"ALL"!=t.key?(e.setState({isAll:!1}),a(E.getStockListByCategory(t))):e.setState({isAll:!0})},onOk:function(e){e.length&&(b("card",e,f),a(E.getChyePrice(e,f,"stock")))},onCancel:function(){e.setState({visible:!1})}},i.a.createElement("span",null)),n.map((function(e,t){var n=e.get("cardUuid"),r=e.get("isOpenedQuantity"),s=e.get("unitName")?e.get("unitName"):null,m=e.get("quantity")?Number(e.get("quantity")):0,d=e.get("price")?Number(e.get("price")):0,g=e.get("amount")?Number(e.get("amount")):0,h=e.get("warehouseCardUuid"),f=e.get("warehouseCardCode"),y=e.get("warehouseCardName");C+=Number(g);var L=e.getIn(["financialInfo","openAssist"]),S=e.getIn(["financialInfo","openSerial"]),N=e.getIn(["financialInfo","openBatch"]),T=(e.getIn(["financialInfo","openShelfLife"]),(e.get("assistList")?e.get("assistList"):Object(p.fromJS)([])).reduce((function(e,t){return"".concat(e).concat(e?";":"").concat(t.get("propertyName"))}),"")),_=e.get("batch")?e.get("batch"):"",j=e.get("expirationDate")?e.get("expirationDate"):"",O=j?"".concat(_,"(").concat(j,")"):_;return i.a.createElement("div",{key:t,className:"lrls-bottom-line lrls-card-bottom"},i.a.createElement("div",{className:"lrls-more-card lrls-placeholder lrls-card-bottom"},i.a.createElement("span",null,"\u5b58\u8d27\u660e\u7ec6(",t+1,")"),i.a.createElement("span",{className:"lrls-blue",style:{display:v?"none":""},onClick:function(){b("delete","",t)}},"\u5220\u9664")),i.a.createElement("div",{className:"lrls-more-card",onClick:function(){a(E.changeLrlsData(["views","idx"],t)),u.push("/editrunning/stock")}},i.a.createElement("div",{className:"lrls-single"},i.a.createElement(o.r,{className:"lrls-more-card lrls-card-bottom"},i.a.createElement("div",{className:"lrls-single overElli lrls-padding-right"},i.a.createElement("span",null,"\u5b58\u8d27:"),i.a.createElement("span",{className:n?"":"lrls-placeholder"},n?"".concat(e.get("code")," ").concat(e.get("name")):" \u672a\u9009\u62e9")),i.a.createElement("div",{className:"lrls-single overElli lrls-padding-right",style:{display:c?"":"none"}},i.a.createElement("span",null,"\u4ed3\u5e93:"),i.a.createElement("span",{className:h?"":"lrls-placeholder"},h?"".concat(f," ").concat(y):" \u672a\u9009\u62e9"))),i.a.createElement(o.r,{className:"lrls-more-card lrls-card-bottom",style:{display:L||N?"":"none"}},L?i.a.createElement("div",{className:"lrls-single overElli lrls-padding-right"},i.a.createElement("span",null,"\u5c5e\u6027:"),i.a.createElement("span",{className:T?"":"lrls-placeholder"},T||" \u672a\u9009\u62e9")):null,N?i.a.createElement("div",{className:"lrls-single overElli lrls-padding-right"},i.a.createElement("span",null,"\u6279\u6b21:"),i.a.createElement("span",{className:O?"":"lrls-placeholder"},O||" \u672a\u9009\u62e9")):null),i.a.createElement(o.r,{className:"lrls-more-card lrls-card-bottom"},i.a.createElement("div",{style:{display:r?"":"none"},className:"STATE_CHYE_CH"!=l?"lrls-padding-right lrls-one-third":"lrls-padding-right lrls-single"},i.a.createElement("span",{className:S?"sn":""},"\u6570\u91cf:"),i.a.createElement(o.a,k,m),i.a.createElement("span",null," ",s)),i.a.createElement("div",{style:{display:r&&"STATE_CHYE_CH"!=l?"":"none"},className:"lrls-single overElli lrls-padding-right"},i.a.createElement("span",null,"\u5355\u4ef7:"),i.a.createElement(o.a,k,d)),i.a.createElement("div",{className:"STATE_CHYE_CH"!=l?"lrls-padding-right lrls-one-third":"lrls-padding-right lrls-single"},i.a.createElement("span",null,"\u91d1\u989d:"),i.a.createElement(o.a,null,g)))),i.a.createElement(o.l,{type:"arrow-right"})))})),i.a.createElement("div",{className:"lrls-more-card",style:{fontWeight:"bold"}},i.a.createElement("div",null,"\u8c03\u6574\u51c0\u989d\uff1a",i.a.createElement(o.a,{showZero:!0},C)),i.a.createElement("div",{className:"lrls-blue",onClick:function(){e.setState({visible:!0,idx:n.size})}},"+\u6dfb\u52a0\u5b58\u8d27\u660e\u7ec6"))))}}]),a}(s.Component),J=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).state={isAll:!0,visible:!1,idx:-1,categoryValue:"ALL"},e}return Object(r.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.dispatch,n=t.stockCardList,r=t.stockList,l=(t.isModify,t.warehouseList),c=t.usedStock,s=t.isOpenedWarehouse,m=t.amount,u=t.stockRange,d=t.stockCategoryList,p=t.commonCardList,g=this.state,h=g.isAll,f=g.visible,y=g.idx,b=g.categoryValue,v=1==n.size,L=function(e,t,n){return a(E.changeYysrStockCard(e,t,n,"JXSEZC"))},C=0,N=[{uuid:"ALL",name:"\u5168\u90e8",top:!0,childList:[]}];d.map((function(e){u.includes(e.get("uuid"))&&N.push(e.toJS())})),function e(t){t.forEach((function(t){t.key=t.uuid,t.label=t.name,t.childList.length&&e(t.childList)}))}(N);var T=h?r.toJS():p;return T.map((function(e){e.name=e.key})),i.a.createElement("div",null,i.a.createElement("div",{className:"lrls-card"},i.a.createElement(o.r,{className:"yysr-amount",style:{display:c?"none":""}},i.a.createElement("label",null,"\u7a0e\u989d\uff1a"),i.a.createElement(o.E.BorderInputItem,{mode:"amount",negativeAllowed:!0,placeholder:"\u586b\u5199\u91d1\u989d",value:m,onChange:function(e){a(E.changeLrlsData(["oriTemp","amount"],e))}})),c?i.a.createElement(o.f,{visible:f,type:"card",multiSelect:!0,title:"\u8bf7\u9009\u62e9\u5b58\u8d27",district:N,cardList:T,value:b,onChange:function(t){e.setState({categoryValue:t.key}),"ALL"!=t.key?(e.setState({isAll:!1}),a(E.getStockListByCategory(t))):e.setState({isAll:!0})},onOk:function(e){e.length&&L("card",e,y)},onCancel:function(){e.setState({visible:!1})}},i.a.createElement("span",null)):null,c&&n.map((function(t,a){var n=t.get("amount")?Number(t.get("amount")):0;return C+=n,i.a.createElement("div",{key:a,style:{paddingBottom:v?"0":"10px"}},i.a.createElement("div",{className:"lrls-more-card lrls-placeholder lrls-bottom"},i.a.createElement("span",null,"\u5b58\u8d27\u660e\u7ec6(",a+1,")"),i.a.createElement("span",{className:"lrls-blue",style:{display:v?"none":""},onClick:function(){L("delete","",a)}},"\u5220\u9664")),i.a.createElement("div",{className:"lrls-more-card lrls-bottom"},i.a.createElement("label",null,"\u5b58\u8d27:"),i.a.createElement("div",{className:"lrls-single",onClick:function(){e.setState({visible:!0,idx:a})}},i.a.createElement(o.r,{className:"lrls-category lrls-padding"},t.get("cardUuid")?i.a.createElement("span",null," ","".concat(t.get("code")," ").concat(t.get("name"))," "):i.a.createElement("span",{className:"lrls-placeholder"},"\u70b9\u51fb\u9009\u62e9\u5b58\u8d27\u5361\u7247"),i.a.createElement(o.l,{type:"triangle"})))),i.a.createElement("div",{className:"lrls-more-card lrls-bottom",style:{display:s?"":"none"}},i.a.createElement("label",null,"\u4ed3\u5e93:"),i.a.createElement(o.u,{className:"lrls-single",district:l.toJS(),value:t.get("warehouseCardUuid"),onOk:function(e){L("warehouse",e,a)}},i.a.createElement(o.r,{className:"lrls-category lrls-padding"},t.get("warehouseCardUuid")?i.a.createElement("span",null," ","".concat(t.get("warehouseCardCode")," ").concat(t.get("warehouseCardName"))," "):i.a.createElement("span",{className:"lrls-placeholder"},"\u70b9\u51fb\u9009\u62e9\u4ed3\u5e93\u5361\u7247"),i.a.createElement(o.l,{type:"triangle"})))),i.a.createElement(o.r,{className:"lrls-more-card lrls-bottom"},i.a.createElement("label",null,"\u7a0e\u989d\uff1a"),i.a.createElement(o.E.BorderInputItem,{mode:"amount",negativeAllowed:!0,placeholder:"\u586b\u5199\u7a0e\u989d",value:t.get("amount"),onChange:function(e){L("amount",e,a)}})))})),i.a.createElement("div",{className:"lrls-more-card",style:{fontWeight:"bold",display:c?"":"none"}},n.size>1?i.a.createElement("div",null,"\u603b\u7a0e\u989d\uff1a",i.a.createElement(o.a,{showZero:!0},Object(S.l)(C))):i.a.createElement("div",null),i.a.createElement("div",{className:"lrls-blue",onClick:function(){e.setState({visible:!0,idx:n.size})}},"+\u6dfb\u52a0\u5b58\u8d27\u660e\u7ec6"))))}}]),a}(s.Component),Z={decimalZero:!1,decimalPlaces:4},D=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).state={isAll:!0,visible:!1,idx:-1,cardType:"stockCardList",categoryValue:"ALL"},e}return Object(r.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.dispatch,n=(t.oriState,t.stockCardList),r=t.stockList,l=t.isOpenedWarehouse,c=t.stockCategoryList,s=t.commonCardList,m=t.stockCardOtherList,u=t.history,d=this.state,g=d.isAll,h=d.visible,y=d.idx,b=d.cardType,v=d.categoryValue,L=1==n.size,C=1==m.size,N=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"stockCardList";a(E.changeYysrStockCard(e,t,n,"CHZZ",r))},T=n.map((function(e){return e.get("cardUuid")})),_=m.map((function(e){return e.get("cardUuid")})),j=[{uuid:"ALL",name:"\u5168\u90e8",top:!0,childList:[]}];c.map((function(e){j.push(e.toJS())})),function e(t){t.forEach((function(t){t.key=t.uuid,t.label=t.name,t.childList.length&&e(t.childList)}))}(j);var O=g?r.toJS():s;O.map((function(e){e.name=e.key,"stockCardList"==b&&_.includes(e.uuid)&&(e.disabled=!0),"stockCardOtherList"==b&&T.includes(e.uuid)&&(e.disabled=!0)}));var A=0,k=0;return i.a.createElement("div",null,i.a.createElement(o.f,{visible:h,type:"card",multiSelect:!0,title:"\u8bf7\u9009\u62e9\u5b58\u8d27",icon:{type:"inventory-add",onClick:function(){a(f.b([],u))}},district:j,cardList:O,value:v,onChange:function(t){e.setState({categoryValue:t.key}),"ALL"!=t.key?(e.setState({isAll:!1}),a(E.getStockListByCategory(t))):e.setState({isAll:!0})},onOk:function(e){e.length&&(N("card",e,y,b),a(E.getChzzListPrice(y,e,b)))},onCancel:function(){e.setState({visible:!1})}},i.a.createElement("span",null)),i.a.createElement("div",{className:"lrls-card"},n.map((function(e,t){var n=e.get("isOpenedQuantity"),r=e.get("cardUuid"),c=e.get("warehouseCardUuid"),s=e.get("warehouseCardCode"),m=e.get("warehouseCardName"),d=e.get("unitName")?e.get("unitName"):null,g=e.get("quantity")?Number(e.get("quantity")):0,h=e.get("price")?Number(e.get("price")):0,f=e.get("amount")?Number(e.get("amount")):0;A+=Number(f);var y=e.getIn(["financialInfo","openAssist"]),b=e.getIn(["financialInfo","openSerial"]),v=e.getIn(["financialInfo","openBatch"]),S=(e.getIn(["financialInfo","openShelfLife"]),(e.get("assistList")?e.get("assistList"):Object(p.fromJS)([])).reduce((function(e,t){return"".concat(e).concat(e?";":"").concat(t.get("propertyName"))}),"")),C=e.get("batch")?e.get("batch"):"",T=e.get("expirationDate")?e.get("expirationDate"):"",_=T?"".concat(C,"(").concat(T,")"):C;return i.a.createElement("div",{key:t,className:"lrls-bottom-line lrls-card-bottom"},i.a.createElement("div",{className:"lrls-more-card lrls-placeholder lrls-card-bottom"},i.a.createElement("span",null,"\u5b58\u8d27\u660e\u7ec6(",t+1,")"),i.a.createElement("span",{className:"lrls-blue",style:{display:L?"none":""},onClick:function(){N("delete","",t)}},"\u5220\u9664")),i.a.createElement("div",{className:"lrls-more-card",onClick:function(){a(E.changeLrlsData(["views","idx"],t)),a(E.changeLrlsData(["views","cardType"],"stockCardList")),u.push("/editrunning/stock")}},i.a.createElement("div",{className:"lrls-single"},i.a.createElement(o.r,{className:"lrls-more-card lrls-card-bottom"},i.a.createElement("div",{className:"lrls-single overElli lrls-padding-right"},i.a.createElement("span",null,"\u5b58\u8d27:"),i.a.createElement("span",{className:r?"":"lrls-placeholder"},r?"".concat(e.get("code")," ").concat(e.get("name")):" \u672a\u9009\u62e9")),i.a.createElement("div",{className:"lrls-single overElli lrls-padding-right",style:{display:l?"":"none"}},i.a.createElement("span",null,"\u4ed3\u5e93:"),i.a.createElement("span",{className:c?"":"lrls-placeholder"},c?"".concat(s," ").concat(m):" \u672a\u9009\u62e9"))),i.a.createElement(o.r,{className:"lrls-more-card lrls-card-bottom",style:{display:y||v?"":"none"}},y?i.a.createElement("div",{className:"lrls-single overElli lrls-padding-right"},i.a.createElement("span",null,"\u5c5e\u6027:"),i.a.createElement("span",{className:S?"":"lrls-placeholder"},S||" \u672a\u9009\u62e9")):null,v?i.a.createElement("div",{className:"lrls-single overElli lrls-padding-right"},i.a.createElement("span",null,"\u6279\u6b21:"),i.a.createElement("span",{className:_?"":"lrls-placeholder"},_||" \u672a\u9009\u62e9")):null),i.a.createElement(o.r,{className:"lrls-more-card lrls-card-bottom"},i.a.createElement("div",{style:{display:n?"":"none"},className:"lrls-padding-right lrls-one-third"},i.a.createElement("span",{className:b?"sn":""},"\u6570\u91cf:"),i.a.createElement(o.a,Z,g),i.a.createElement("span",null,d)),i.a.createElement("div",{style:{display:n?"":"none"},className:"lrls-single overElli lrls-padding-right"},i.a.createElement("span",null,"\u5355\u4ef7:"),i.a.createElement(o.a,Z,h)),i.a.createElement("div",{className:"lrls-padding-right lrls-one-third"},i.a.createElement("span",null,"\u91d1\u989d:"),i.a.createElement(o.a,null,f)))),i.a.createElement(o.l,{type:"arrow-right"})))})),i.a.createElement("div",{className:"lrls-more-card",style:{fontWeight:"bold"}},i.a.createElement("div",null,"\u603b\u91d1\u989d\uff1a",i.a.createElement(o.a,{showZero:!0},Object(S.l)(A))),i.a.createElement("div",{className:"lrls-blue",onClick:function(){e.setState({visible:!0,idx:n.size,cardType:"stockCardList"})}},"+\u6dfb\u52a0\u7269\u6599\u660e\u7ec6"))),i.a.createElement("div",{className:"lrls-card"},m.map((function(e,t){var n=e.get("isOpenedQuantity"),r=e.get("cardUuid"),c=e.get("warehouseCardUuid"),s=e.get("warehouseCardCode"),m=e.get("warehouseCardName"),d=e.get("unitName")?e.get("unitName"):null,g=e.get("quantity")?Number(e.get("quantity")):0,h=e.get("price")?Number(e.get("price")):0,f=e.get("amount")?Number(e.get("amount")):0;k+=Number(f);var y=e.getIn(["financialInfo","openAssist"]),b=e.getIn(["financialInfo","openSerial"]),v=e.getIn(["financialInfo","openBatch"]),L=(e.getIn(["financialInfo","openShelfLife"]),(e.get("assistList")?e.get("assistList"):Object(p.fromJS)([])).reduce((function(e,t){return"".concat(e).concat(e?";":"").concat(t.get("propertyName"))}),"")),S=e.get("batch")?e.get("batch"):"",T=e.get("expirationDate")?e.get("expirationDate"):"",_=T?"".concat(S,"(").concat(T,")"):S;return i.a.createElement("div",{key:t,className:"lrls-bottom-line lrls-card-bottom"},i.a.createElement("div",{className:"lrls-more-card lrls-placeholder lrls-card-bottom"},i.a.createElement("span",null,"\u6210\u54c1\u660e\u7ec6(",t+1,")"),i.a.createElement("span",{className:"lrls-blue",style:{display:C?"none":""},onClick:function(){N("delete","",t,"stockCardOtherList")}},"\u5220\u9664")),i.a.createElement("div",{className:"lrls-more-card",onClick:function(){a(E.changeLrlsData(["views","idx"],t)),a(E.changeLrlsData(["views","cardType"],"stockCardOtherList")),u.push("/editrunning/stock")}},i.a.createElement("div",{className:"lrls-single"},i.a.createElement(o.r,{className:"lrls-more-card lrls-card-bottom"},i.a.createElement("div",{className:"lrls-single overElli lrls-padding-right"},i.a.createElement("span",null,"\u5b58\u8d27:"),i.a.createElement("span",{className:r?"":"lrls-placeholder"},r?"".concat(e.get("code")," ").concat(e.get("name")):" \u672a\u9009\u62e9")),i.a.createElement("div",{className:"lrls-single overElli lrls-padding-right",style:{display:l?"":"none"}},i.a.createElement("span",null,"\u4ed3\u5e93:"),i.a.createElement("span",{className:c?"":"lrls-placeholder"},c?"".concat(s," ").concat(m):" \u672a\u9009\u62e9"))),i.a.createElement(o.r,{className:"lrls-more-card lrls-card-bottom",style:{display:y||v?"":"none"}},y?i.a.createElement("div",{className:"lrls-single overElli lrls-padding-right"},i.a.createElement("span",null,"\u5c5e\u6027:"),i.a.createElement("span",{className:L?"":"lrls-placeholder"},L||" \u672a\u9009\u62e9")):null,v?i.a.createElement("div",{className:"lrls-single overElli lrls-padding-right"},i.a.createElement("span",null,"\u6279\u6b21:"),i.a.createElement("span",{className:_?"":"lrls-placeholder"},_||" \u672a\u9009\u62e9")):null),i.a.createElement(o.r,{className:"lrls-more-card lrls-card-bottom"},i.a.createElement("div",{style:{display:n?"":"none"},className:"lrls-padding-right lrls-one-third"},i.a.createElement("span",{className:b?"sn":""},"\u6570\u91cf:"),i.a.createElement(o.a,Z,g),i.a.createElement("span",null,d)),i.a.createElement("div",{style:{display:n?"":"none"},className:"lrls-single overElli lrls-padding-right"},i.a.createElement("span",null,"\u5355\u4ef7:"),i.a.createElement(o.a,Z,h)),i.a.createElement("div",{className:"lrls-padding-right lrls-one-third"},i.a.createElement("span",null,"\u91d1\u989d:"),i.a.createElement(o.a,null,f)))),i.a.createElement(o.l,{type:"arrow-right"})))})),i.a.createElement("div",{className:"lrls-more-card",style:{fontWeight:"bold"}},i.a.createElement("div",null,"\u603b\u91d1\u989d\uff1a",i.a.createElement(o.a,{showZero:!0},Object(S.l)(k))),i.a.createElement("div",{className:"lrls-blue",onClick:function(){e.setState({visible:!0,idx:n.size,cardType:"stockCardOtherList"})}},"+\u6dfb\u52a0\u6210\u54c1\u660e\u7ec6"))))}}]),a}(s.Component);a(41),a(115),a(34),a(555);var w,U,B,x,P,X,R,Y,M,F,H,z,G,q,W,Q={decimalZero:!1,decimalPlaces:4},K=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).state={assemblyCategoryValue:"ALL",assemblyVisible:!1,assemblyIdx:-1,showList:!0},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=sessionStorage.getItem("routerPage");["routerStock"].includes(e)||this.props.dispatch(E.chzzAssemblyList({top:!0,uuid:""},"assemblyList"))}},{key:"render",value:function(){var e=this,t=this.props,a=t.dispatch,n=t.stockCardList,r=t.isOpenedWarehouse,l=t.stockCategoryList,c=t.cardAllList,s=t.history,m=this.state,u=m.assemblyVisible,d=m.assemblyCategoryValue,g=m.assemblyIdx,h=m.showList,y=(n.size,function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"CHZZ_ZZD";"CHZZ_ZZD_CHILD"==r&&["quantity","price","amount","unitUuid","unitName"].includes(e)?a(E.changeLrlsData(["oriTemp","stockCardList",n[0],"childCardList",n[1],e],t)):a(E.changeYysrStockCard(e,t,n,r,"stockCardList"))}),b=[{uuid:"ALL",name:"\u5168\u90e8",top:!0,childList:[]}];l.map((function(e){b.push(e.toJS())})),function e(t){t.forEach((function(t){t.key=t.uuid,t.label=t.name,t.childList.length&&e(t.childList)}))}(b);var v=c.get("assemblyList").toJS(),L=c.get("commonAssemblyList").toJS(),C="ALL"==d?v:L,N=0,T=function(e){var t=[],a=[],n=[];e.map((function(e){e.childCardList.map((function(e){t.push(e)}))})),t.map((function(e,t){var r=e.cardUuid,l=e.warehouseCardUuid?e.warehouseCardUuid:"",c=e.unitUuid?e.unitUuid:"",s=e.batch?e.batch:"",i=e.warehouseCardCode;e.unitUuid=c,e.warehouseCardUuid=l,e.warehouseCardCode=i||"";var o=e.assistList?e.assistList.map((function(e){return e.propertyUuid})).sort():[],m="".concat(r,"_").concat(l,"_").concat(c,"_").concat(s,"_").concat(o.join("_"));if(e.allPropertyStr=m,r)if(a.includes(r)){var u=a.findIndex((function(e){return e==r})),d=!1;n[u].forEach((function(t){if(t.allPropertyStr==m){var a=Object(S.l)(Number(t.quantity)+Number(e.quantity)),n=Object(S.l)(Number(t.amount)+Number(e.amount));t.quantity=a,t.amount=n,a&&(t.price=Object(S.l)(Number(n)/Number(a))),d=!0}})),d||n[u].push(e)}else n.push([e]),a.push(r)}));var r=[];return n.map((function(e,t){e.sort((function(e,t){return e.warehouseCardCode>t.warehouseCardCode?-1:(e.warehouseCardCode,t.warehouseCardCode,1)})).map((function(e){r.push(e)}))})),r.sort((function(e,t){return e.code>t.code?1:-1})),r}(n.toJS());return i.a.createElement("div",null,i.a.createElement(o.f,{visible:u,type:"card",multiSelect:!0,title:"\u8bf7\u9009\u62e9\u6210\u54c1",icon:{type:"inventory-add",onClick:function(){a(f.b([],s))}},district:b,cardList:C,value:d,onChange:function(t){e.setState({assemblyCategoryValue:t.key}),"ALL"!=t.key&&a(E.chzzAssemblyList(t))},onOk:function(e){e.length&&y("card",e,g)},onCancel:function(){e.setState({assemblyVisible:!1})}},i.a.createElement("span",null)),i.a.createElement("div",null,n.map((function(e,t){var n=e.get("isOpenedQuantity"),l=e.get("cardUuid"),c=e.get("warehouseCardUuid"),m=e.get("warehouseCardCode"),u=e.get("warehouseCardName"),d=e.get("unitName")?e.get("unitName"):null,g=e.get("quantity")?Number(e.get("quantity")):0,h=e.get("childCardList").size,f=e.getIn(["financialInfo","openAssist"]),b=e.getIn(["financialInfo","openSerial"]),v=e.getIn(["financialInfo","openBatch"]),L=(e.getIn(["financialInfo","openShelfLife"]),(e.get("assistList")?e.get("assistList"):Object(p.fromJS)([])).reduce((function(e,t){return"".concat(e).concat(e?";":"").concat(t.get("propertyName"))}),"")),S=e.get("batch")?e.get("batch"):"",C=e.get("expirationDate")?e.get("expirationDate"):"",T=C?"".concat(S,"(").concat(C,")"):S,_=0,j=0;return e.get("childCardList").map((function(e){_+=Number(e.get("amount"))})),g&&(j=Number(_)/Number(g)),N+=Number(_),i.a.createElement("div",{className:"lrls-card",key:t,style:{paddingBottom:0}},i.a.createElement("div",{className:"lrls-more-card lrls-bottom lrls-bottom-line"},i.a.createElement("span",{className:"lrls-bottom"},"\u7ec4\u88c5\u5355(",t+1,")"),i.a.createElement("span",{className:"lrls-blue lrls-bottom",onClick:function(){y("delete","",t)}},"\u5220\u9664")),i.a.createElement("div",{className:"lrls-more-card lrls-bottom lrls-bottom-line",onClick:function(){a(E.changeLrlsData(["views","idx"],t)),s.push("/editrunning/stock")}},i.a.createElement("div",{className:"lrls-single"},i.a.createElement(o.r,{className:"lrls-more-card lrls-card-bottom"},i.a.createElement("div",{className:"lrls-single overElli lrls-padding-right"},i.a.createElement("span",null,"\u5b58\u8d27:"),i.a.createElement("span",{className:l?"":"lrls-placeholder"},l?"".concat(e.get("code")," ").concat(e.get("name")):" \u672a\u9009\u62e9")),i.a.createElement("div",{className:"lrls-single overElli lrls-padding-right",style:{display:r?"":"none"}},i.a.createElement("span",null,"\u4ed3\u5e93:"),i.a.createElement("span",{className:c?"":"lrls-placeholder"},c?"".concat(m," ").concat(u):" \u672a\u9009\u62e9"))),i.a.createElement(o.r,{className:"lrls-more-card lrls-card-bottom",style:{display:f||v?"":"none"}},f?i.a.createElement("div",{className:"lrls-single overElli lrls-padding-right"},i.a.createElement("span",null,"\u5c5e\u6027:"),i.a.createElement("span",{className:L?"":"lrls-placeholder"},L||" \u672a\u9009\u62e9")):null,v?i.a.createElement("div",{className:"lrls-single overElli lrls-padding-right"},i.a.createElement("span",null,"\u6279\u6b21:"),i.a.createElement("span",{className:T?"":"lrls-placeholder"},T||" \u672a\u9009\u62e9")):null),i.a.createElement(o.r,{className:"lrls-more-card lrls-card-bottom"},i.a.createElement("div",{style:{display:n?"":"none"},className:"lrls-padding-right lrls-one-third"},i.a.createElement("span",{className:b?"sn":""},"\u6570\u91cf:"),i.a.createElement(o.a,Q,g),i.a.createElement("span",null,d)),i.a.createElement("div",{style:{display:n?"":"none"},className:"lrls-single overElli lrls-padding-right"},i.a.createElement("span",null,"\u5355\u4ef7:"),i.a.createElement(o.a,Q,j)),i.a.createElement("div",{className:"lrls-padding-right lrls-one-third"},i.a.createElement("span",null,"\u91d1\u989d:"),i.a.createElement(o.a,null,_)))),i.a.createElement(o.l,{type:"arrow-right"})),i.a.createElement("div",null,e.get("childCardList").map((function(e,n){var l=e.get("isOpenedQuantity"),c=e.get("cardUuid"),m=e.get("warehouseCardUuid"),u=e.get("warehouseCardCode"),d=e.get("warehouseCardName"),g=e.get("unitName")?e.get("unitName"):null,f=e.get("quantity")?Number(e.get("quantity")):"",y=e.get("price")?Number(e.get("price")):"",b=e.get("amount")?Number(e.get("amount")):"",v="lrls-bottom-line lrls-card-bottom";n+1==h&&(v="");var L=e.getIn(["financialInfo","openAssist"]),S=e.getIn(["financialInfo","openSerial"]),C=e.getIn(["financialInfo","openBatch"]),N=(e.getIn(["financialInfo","openShelfLife"]),(e.get("assistList")?e.get("assistList"):Object(p.fromJS)([])).reduce((function(e,t){return"".concat(e).concat(e?";":"").concat(t.get("propertyName"))}),"")),T=e.get("batch")?e.get("batch"):"",_=e.get("expirationDate")?e.get("expirationDate"):"",j=_?"".concat(T,"(").concat(_,")"):T;return i.a.createElement("div",{key:n,className:v},i.a.createElement("div",{className:"lrls-more-card lrls-placeholder lrls-card-bottom"},i.a.createElement("span",null,"\u7269\u6599\u660e\u7ec6(",n+1,")")),i.a.createElement("div",{className:"lrls-more-card",onClick:function(){a(E.changeLrlsData(["views","idx"],t)),s.push("/editrunning/stock")}},i.a.createElement("div",{className:"lrls-single"},i.a.createElement(o.r,{className:"lrls-more-card lrls-card-bottom"},i.a.createElement("div",{className:"lrls-single overElli lrls-padding-right"},i.a.createElement("span",null,"\u5b58\u8d27:"),i.a.createElement("span",{className:c?"":"lrls-placeholder"},c?"".concat(e.get("code")," ").concat(e.get("name")):" \u672a\u9009\u62e9")),i.a.createElement("div",{className:"lrls-single overElli lrls-padding-right",style:{display:r?"":"none"}},i.a.createElement("span",null,"\u4ed3\u5e93:"),i.a.createElement("span",{className:m?"":"lrls-placeholder"},m?"".concat(u," ").concat(d):" \u672a\u9009\u62e9"))),i.a.createElement(o.r,{className:"lrls-more-card lrls-card-bottom",style:{display:L||C?"":"none"}},L?i.a.createElement("div",{className:"lrls-single overElli lrls-padding-right"},i.a.createElement("span",null,"\u5c5e\u6027:"),i.a.createElement("span",{className:N?"":"lrls-placeholder"},N||" \u672a\u9009\u62e9")):null,C?i.a.createElement("div",{className:"lrls-single overElli lrls-padding-right"},i.a.createElement("span",null,"\u6279\u6b21:"),i.a.createElement("span",{className:j?"":"lrls-placeholder"},j||" \u672a\u9009\u62e9")):null),i.a.createElement(o.r,{className:"lrls-more-card lrls-card-bottom"},i.a.createElement("div",{style:{display:l?"":"none"},className:"lrls-padding-right lrls-one-third"},i.a.createElement("span",{className:S?"sn":""},"\u6570\u91cf:"),i.a.createElement(o.a,Q,f),i.a.createElement("span",null,g)),i.a.createElement("div",{style:{display:l?"":"none"},className:"lrls-single overElli lrls-padding-right"},i.a.createElement("span",null,"\u5355\u4ef7:"),i.a.createElement(o.a,Q,y)),i.a.createElement("div",{className:"lrls-padding-right lrls-one-third"},i.a.createElement("span",null,"\u91d1\u989d:"),i.a.createElement(o.a,null,b))))))}))))}))),i.a.createElement("div",{className:"lrls-card"},i.a.createElement("div",{className:"lrls-more-card"},i.a.createElement("span",null,"\u6dfb\u52a0\u7ec4\u88c5\u5355"),i.a.createElement("span",{className:"lrls-placeholder",onClick:function(){e.setState({assemblyVisible:!0,assemblyIdx:n.size})}},"\u70b9\u51fb\u6dfb\u52a0\u7ec4\u88c5\u5355 ",i.a.createElement(o.l,{type:"arrow-right"})))),i.a.createElement(o.r,{className:"jr-card lrls-card-bottom",style:{display:n.size?"":"none"}},i.a.createElement("div",{className:"lrls-more-card lrls-card-bottom lrls-padding-top",onClick:function(){return e.setState({showList:!h})}},i.a.createElement("div",null,"\u7269\u6599\u6c47\u603b\u5408\u8ba1\uff1a",i.a.createElement(o.a,{showZero:!0},Object(S.l)(N))),i.a.createElement("div",null,h?"\u6536\u8d77":"\u5c55\u5f00",i.a.createElement(o.l,{style:h?{transform:"rotate(180deg)"}:"",type:"arrow-down"}))),i.a.createElement("div",{style:{display:h?"":"none"}},T.map((function(e,t){var a=Object(p.fromJS)(e),n=a.getIn(["financialInfo","openAssist"]),l=a.getIn(["financialInfo","openBatch"]),c=(a.getIn(["financialInfo","openShelfLife"]),(a.get("assistList")?a.get("assistList"):Object(p.fromJS)([])).reduce((function(e,t){return"".concat(e).concat(e?";":"").concat(t.get("propertyName"))}),"")),s=a.get("batch")?a.get("batch"):"",m=a.get("expirationDate")?a.get("expirationDate"):"",u=m?"".concat(s,"(").concat(m,")"):s;return i.a.createElement("div",{key:t,className:"dashed-line"},i.a.createElement("div",{className:"jr-item"},i.a.createElement("div",null,"".concat(e.code," ").concat(e.name)),i.a.createElement("div",{style:{display:e.isOpenedQuantity?"":"none"}},i.a.createElement(o.a,Object.assign({showZero:!0},Q),e.quantity),e.unitName,"*",i.a.createElement(o.a,Object.assign({showZero:!0},Q),e.price))),i.a.createElement("div",{className:"jr-item",style:{display:n||l?"":"none"}},n?i.a.createElement("div",null,"\u5c5e\u6027:",c):null,l?i.a.createElement("div",null,"\u6279\u6b21:",u):null),i.a.createElement("div",{className:"jr-item"},i.a.createElement("div",null,r?"\u4ed3\u5e93\uff1a".concat(e.warehouseCardCode," ").concat(e.warehouseCardName):null),i.a.createElement("div",null,i.a.createElement(o.a,{className:"hx-bold"},e.amount))))})))))}}]),a}(s.Component),V=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).state={isAll:!0,visible:!1,idx:-1,categoryValue:"ALL"},e}return Object(r.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.dispatch,n=(t.oriState,t.projectCategoryList),r=t.projectList,l=t.commonProjectList,c=t.projectCardList,s=t.hasSelect,m=this.state,u=m.isAll,d=m.visible,p=m.idx,g=m.categoryValue,h=[];n&&n.map((function(e){h.push(e.toJS())})),function e(t){t.forEach((function(t){t.key=t.uuid,t.label=t.name,t.childList.length&&e(t.childList)}))}(h),h.unshift({key:"ALL",label:"\u5168\u90e8",childList:[]});var f=u?r.toJS():l.toJS(),y=c.map((function(e){return e.get("cardUuid")}));f.map((function(e){e.name=e.key,y.includes(e.uuid)&&"COMNCRD"!=e.code&&(e.disabled=!0)}));var b=1==c.size,v=function(e,t,n){return a(E.changeGgfyftProjectCard(e,t,n))};return i.a.createElement("div",{className:"lrls-card"},i.a.createElement(o.f,{className:"lrls-single",type:"card",visible:d,multiSelect:!0,title:"\u8bf7\u9009\u62e9\u9879\u76ee",district:h,cardList:f,value:g,onChange:function(t){e.setState({categoryValue:t.key}),"ALL"!=t.key?(e.setState({isAll:!1}),a(E.getProjectListByCategory(t))):e.setState({isAll:!0})},onOk:function(e){0!=e.length&&v("card",e,p)},onCancel:function(){e.setState({visible:!1})}},i.a.createElement("span",null)),c.map((function(t,a){var n=t.get("code"),r=t.get("name"),l=t.get("propertyCost"),c="".concat(n," ").concat(r);["COMNCRD","ASSIST","MAKE","INDIRECT","MECHANICAL"].includes(n)&&(c={COMNCRD:"\u635f\u76ca\u516c\u5171\u9879\u76ee",ASSIST:"\u8f85\u52a9\u751f\u4ea7\u6210\u672c",MAKE:"\u5236\u9020\u8d39\u7528",INDIRECT:"\u95f4\u63a5\u8d39\u7528",MECHANICAL:"\u673a\u68b0\u4f5c\u4e1a"}[n]);var m="\u8bf7\u9009\u62e9\u8d39\u7528\u6027\u8d28";return l&&(m={XZ_SALE:"\u9500\u552e\u8d39\u7528",XZ_MANAGE:"\u7ba1\u7406\u8d39\u7528",XZ_FINANCE:"\u8d22\u52a1\u8d39\u7528"}[l]),i.a.createElement("div",{key:a,style:{paddingBottom:b?"0":"10px"}},i.a.createElement("div",{className:"lrls-more-card lrls-placeholder lrls-bottom"},i.a.createElement("span",null,"\u9879\u76ee(",a+1,")"),i.a.createElement("span",{className:"lrls-blue",style:{display:b?"none":""},onClick:function(){v("delete","",a)}},"\u5220\u9664")),i.a.createElement("div",{className:"lrls-more-card lrls-bottom"},i.a.createElement("label",null,"\u9879\u76ee:"),i.a.createElement("div",{className:"lrls-single",onClick:function(){e.setState({visible:!0,idx:a,isAll:!0})}},i.a.createElement(o.r,{className:"lrls-category lrls-padding"},t.get("cardUuid")?i.a.createElement("span",null,c):i.a.createElement("span",{className:"lrls-placeholder"},"\u70b9\u51fb\u9009\u62e9\u9879\u76ee"),i.a.createElement(o.l,{type:"triangle"})))),i.a.createElement(o.r,{className:"lrls-more-card lrls-bottom",style:{display:"COMNCRD"==n?"":"none"}},i.a.createElement("label",null,"\u8d39\u7528\u6027\u8d28: "),i.a.createElement(o.u,{className:"lrls-single",district:[{key:"\u9500\u552e\u8d39\u7528",value:"XZ_SALE"},{key:"\u7ba1\u7406\u8d39\u7528",value:"XZ_MANAGE"},{key:"\u8d22\u52a1\u8d39\u7528",value:"XZ_FINANCE"}],value:l,onOk:function(e){v("propertyCost",e.value,a)}},i.a.createElement(o.r,{className:"lrls-padding lrls-category"},i.a.createElement("span",{className:["\u8bf7\u9009\u62e9\u8d39\u7528\u6027\u8d28"].includes(m)?"lrls-placeholder":""},m),i.a.createElement(o.l,{type:"triangle"})))),i.a.createElement(o.r,{className:"lrls-more-card lrls-bottom"},i.a.createElement("label",null,"\u5206\u644a\u91d1\u989d\uff1a"),i.a.createElement(o.E.BorderInputItem,{mode:"amount",negativeAllowed:!0,disabled:!s,placeholder:"\u586b\u5199\u5206\u644a\u91d1\u989d",value:t.get("amount"),onChange:function(e){v("amount",e,a)}})),i.a.createElement(o.r,{className:"lrls-more-card lrls-bottom"},i.a.createElement("label",null,"\u5206\u644a\u5360\u6bd4\uff1a"),i.a.createElement(o.E.BorderInputItem,{mode:"amount",disabled:!s,placeholder:"\u586b\u5199\u5360\u6bd4\u7387",value:t.get("percent"),onChange:function(e){v("percent",e,a)}}),i.a.createElement("span",{className:"lrls-margin-left"},"%")))})),i.a.createElement("div",{className:"lrls-more-card",style:{fontWeight:"bold"}},i.a.createElement("div",null),i.a.createElement("div",{className:"lrls-blue",onClick:function(){e.setState({visible:!0,idx:c.size,isAll:!0})}},"+\u6dfb\u52a0\u9879\u76ee")))}}]),a}(s.Component),$={decimalZero:!1,decimalPlaces:4},ee=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).state={isAll:!0,visible:!1,idx:-1,categoryValue:"ALL"},e}return Object(r.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.dispatch,n=t.history,r=t.stockCardList,l=t.stockList,c=t.isOpenedWarehouse,s=t.stockCategoryList,m=t.commonCardList,u=this.state,d=u.isAll,g=u.visible,h=u.idx,f=u.categoryValue,y=1==r.size,b=function(e,t,n){return a(E.changeYysrStockCard(e,t,n,"CHTRXM"))},v=[{uuid:"ALL",name:"\u5168\u90e8",top:!0,childList:[]}];s.map((function(e){v.push(e.toJS())})),function e(t){t.forEach((function(t){t.key=t.uuid,t.label=t.name,t.childList.length&&e(t.childList)}))}(v);var L=d?l.toJS():m;return L.map((function(e){e.name=e.key})),i.a.createElement("div",{className:"lrls-card"},i.a.createElement(o.f,{visible:g,type:"card",multiSelect:!0,title:"\u8bf7\u9009\u62e9\u5b58\u8d27",district:v,cardList:L,value:f,onChange:function(t){e.setState({categoryValue:t.key}),"ALL"!=t.key?(e.setState({isAll:!1}),a(E.getStockListByCategory(t))):e.setState({isAll:!0})},onOk:function(e){0!=e.length&&(b("card",e,h),a(E.getChzzListPrice(h,e)))},onCancel:function(){e.setState({visible:!1})}},i.a.createElement("span",null)),r.map((function(e,t){var r=e.get("cardUuid"),l=e.get("warehouseCardUuid"),s=e.get("warehouseCardCode"),m=e.get("warehouseCardName"),u=e.get("isOpenedQuantity"),d=e.get("quantity")?Number(e.get("quantity")):0,g=e.get("price")?Number(e.get("price")):0,h=e.get("amount")?Number(e.get("amount")):0,f=e.get("unitName")?e.get("unitName"):null,v=e.getIn(["financialInfo","openAssist"]),L=e.getIn(["financialInfo","openSerial"]),S=e.getIn(["financialInfo","openBatch"]),C=(e.getIn(["financialInfo","openShelfLife"]),(e.get("assistList")?e.get("assistList"):Object(p.fromJS)([])).reduce((function(e,t){return"".concat(e).concat(e?";":"").concat(t.get("propertyName"))}),"")),N=e.get("batch")?e.get("batch"):"",T=e.get("expirationDate")?e.get("expirationDate"):"",_=T?"".concat(N,"(").concat(T,")"):N;return i.a.createElement("div",{key:t,className:"lrls-bottom-line lrls-card-bottom"},i.a.createElement("div",{className:"lrls-more-card lrls-placeholder lrls-card-bottom"},i.a.createElement("span",null,"\u5b58\u8d27\u660e\u7ec6(",t+1,")"),i.a.createElement("span",{className:"lrls-blue",style:{display:y?"none":""},onClick:function(){b("delete","",t)}},"\u5220\u9664")),i.a.createElement("div",{className:"lrls-more-card",onClick:function(){a(E.changeLrlsData(["views","idx"],t)),n.push("/editrunning/stock")}},i.a.createElement("div",{className:"lrls-single"},i.a.createElement(o.r,{className:"lrls-more-card lrls-card-bottom"},i.a.createElement("div",{className:"lrls-single overElli lrls-padding-right"},i.a.createElement("span",null,"\u5b58\u8d27:"),i.a.createElement("span",{className:r?"":"lrls-placeholder"},r?"".concat(e.get("code")," ").concat(e.get("name")):" \u672a\u9009\u62e9")),i.a.createElement("div",{className:"lrls-single overElli lrls-padding-right",style:{display:c?"":"none"}},i.a.createElement("span",null,"\u4ed3\u5e93:"),i.a.createElement("span",{className:l?"":"lrls-placeholder"},l?"".concat(s," ").concat(m):" \u672a\u9009\u62e9"))),i.a.createElement(o.r,{className:"lrls-more-card lrls-card-bottom",style:{display:v||S?"":"none"}},v?i.a.createElement("div",{className:"lrls-single overElli lrls-padding-right"},i.a.createElement("span",null,"\u5c5e\u6027:"),i.a.createElement("span",{className:C?"":"lrls-placeholder"},C||" \u672a\u9009\u62e9")):null,S?i.a.createElement("div",{className:"lrls-single overElli lrls-padding-right"},i.a.createElement("span",null,"\u6279\u6b21:"),i.a.createElement("span",{className:_?"":"lrls-placeholder"},_||" \u672a\u9009\u62e9")):null),i.a.createElement(o.r,{className:"lrls-more-card lrls-card-bottom"},i.a.createElement("div",{style:{display:u?"":"none"},className:"lrls-padding-right lrls-one-third"},i.a.createElement("span",{className:L?"sn":""},"\u6570\u91cf:"),i.a.createElement(o.a,$,d),i.a.createElement("span",null,f)),i.a.createElement("div",{style:{display:u?"":"none"},className:"lrls-single overElli lrls-padding-right"},i.a.createElement("span",null,"\u5355\u4ef7:"),i.a.createElement(o.a,$,g)),i.a.createElement("div",{className:"lrls-padding-right lrls-one-third"},i.a.createElement("span",null,"\u91d1\u989d:"),i.a.createElement(o.a,null,h)))),i.a.createElement(o.l,{type:"arrow-right"})))})),i.a.createElement("div",{className:"lrls-more-card",style:{fontWeight:"bold"}},i.a.createElement("div",null),i.a.createElement("div",{className:"lrls-blue",onClick:function(){e.setState({visible:!0,idx:r.size})}},"+\u6dfb\u52a0\u5b58\u8d27\u660e\u7ec6")))}}]),a}(s.Component),te=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).state={isAll:!0,visible:!1,idx:-1,cardType:"stockCardList",categoryValue:"ALL"},e}return Object(r.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.dispatch,n=t.oriState,r=t.stockCardList,l=t.stockList,c=t.isModify,s=t.isOpenedWarehouse,m=t.stockCategoryList,u=t.commonCardList,d=t.jrAmount,g=t.amount,h=t.currentAmount,y=t.history,b=t.projectProperty,v=this.state,L=v.isAll,C=v.visible,N=v.idx,T=v.cardType,_=v.categoryValue,j=1==r.size,O=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"stockCardList";a(E.changeYysrStockCard(e,t,n,"XMJZ",r))},A=(r.map((function(e){return e.get("cardUuid")})),[{uuid:"ALL",name:"\u5168\u90e8",top:!0,childList:[]}]);m.map((function(e){A.push(e.toJS())})),function e(t){t.forEach((function(t){t.key=t.uuid,t.label=t.name,t.childList.length&&e(t.childList)}))}(A);var k=L?l.toJS():u;k.map((function(e){e.name=e.key}));var I=0,J=!0,Z=!1;return"STATE_XMJZ_XMJQ"==n&&d<=0&&(J=!1),"XZ_CONSTRUCTION"==b&&(J=!1,Z=!0,"STATE_XMJZ_XMJQ"==n&&0==d&&(Z=!1),"STATE_XMJZ_XMJQ"==n&&c&&(Z=!1)),i.a.createElement("div",null,i.a.createElement("div",{style:{display:J?"":"none"}},i.a.createElement(o.f,{visible:C,type:"card",multiSelect:!0,title:"\u8bf7\u9009\u62e9\u5b58\u8d27",icon:{type:"inventory-add",onClick:function(){a(f.b([],y))}},district:A,cardList:k,value:_,onChange:function(t){e.setState({categoryValue:t.key}),"ALL"!=t.key?(e.setState({isAll:!1}),a(E.getStockListByCategory(t))):e.setState({isAll:!0})},onOk:function(e){e.length&&(O("card",e,N,T),a(E.getChzzListPrice(N,e,T)))},onCancel:function(){e.setState({visible:!1})}},i.a.createElement("span",null)),i.a.createElement("div",{className:"lrls-card"},r.map((function(e,t){var n=e.get("isOpenedQuantity"),r=e.get("cardUuid"),l=e.get("quantity")?Number(e.get("quantity")):0,c=e.get("price")?Number(e.get("price")):0,m=e.get("amount")?Number(e.get("amount")):0,u=(e.get("unitUuid"),e.get("warehouseCardUuid")),d=e.get("warehouseCardCode"),g=e.get("warehouseCardName"),h=e.get("unitName")?e.get("unitName"):null;I+=Number(m);var f=e.getIn(["financialInfo","openAssist"]),b=e.getIn(["financialInfo","openSerial"]),v=e.getIn(["financialInfo","openBatch"]),L=(e.getIn(["financialInfo","openShelfLife"]),(e.get("assistList")?e.get("assistList"):Object(p.fromJS)([])).reduce((function(e,t){return"".concat(e).concat(e?";":"").concat(t.get("propertyName"))}),"")),S=e.get("batch")?e.get("batch"):"",C=e.get("expirationDate")?e.get("expirationDate"):"",N=C?"".concat(S,"(").concat(C,")"):S;return i.a.createElement("div",{key:t,className:"lrls-bottom-line lrls-card-bottom"},i.a.createElement("div",{className:"lrls-more-card lrls-placeholder lrls-card-bottom"},i.a.createElement("span",null,"\u5b58\u8d27\u660e\u7ec6(",t+1,")"),i.a.createElement("span",{className:"lrls-blue",style:{display:j?"none":""},onClick:function(){O("delete","",t)}},"\u5220\u9664")),i.a.createElement("div",{className:"lrls-more-card",onClick:function(){a(E.changeLrlsData(["views","idx"],t)),y.push("/editrunning/stock")}},i.a.createElement("div",{className:"lrls-single"},i.a.createElement(o.r,{className:"lrls-more-card lrls-card-bottom"},i.a.createElement("div",{className:"lrls-single overElli lrls-padding-right"},i.a.createElement("span",null,"\u5b58\u8d27:"),i.a.createElement("span",{className:r?"":"lrls-placeholder"},r?"".concat(e.get("code")," ").concat(e.get("name")):" \u672a\u9009\u62e9")),i.a.createElement("div",{className:"lrls-single overElli lrls-padding-right",style:{display:s?"":"none"}},i.a.createElement("span",null,"\u4ed3\u5e93:"),i.a.createElement("span",{className:u?"":"lrls-placeholder"},u?"".concat(d," ").concat(g):" \u672a\u9009\u62e9"))),i.a.createElement(o.r,{className:"lrls-more-card lrls-card-bottom",style:{display:f||v?"":"none"}},f?i.a.createElement("div",{className:"lrls-single overElli lrls-padding-right"},i.a.createElement("span",null,"\u5c5e\u6027:"),i.a.createElement("span",{className:L?"":"lrls-placeholder"},L||" \u672a\u9009\u62e9")):null,v?i.a.createElement("div",{className:"lrls-single overElli lrls-padding-right"},i.a.createElement("span",null,"\u6279\u6b21:"),i.a.createElement("span",{className:N?"":"lrls-placeholder"},N||" \u672a\u9009\u62e9")):null),i.a.createElement(o.r,{className:"lrls-more-card lrls-card-bottom"},i.a.createElement("div",{style:{display:n?"":"none"},className:"lrls-padding-right lrls-one-third"},i.a.createElement("span",{className:b?"sn":""},"\u6570\u91cf:"),i.a.createElement(o.a,null,l),i.a.createElement("span",null,h)),i.a.createElement("div",{style:{display:n?"":"none"},className:"lrls-single overElli lrls-padding-right"},i.a.createElement("span",null,"\u5355\u4ef7:"),i.a.createElement(o.a,null,c)),i.a.createElement("div",{className:"lrls-padding-right lrls-one-third"},i.a.createElement("span",null,"\u91d1\u989d:"),i.a.createElement(o.a,null,m)))),i.a.createElement(o.l,{type:"arrow-right"})))})),i.a.createElement("div",{className:"lrls-more-card",style:{fontWeight:"bold"}},i.a.createElement("div",null,"\u5165\u5e93\u91d1\u989d\uff1a",i.a.createElement(o.a,{showZero:!0},Object(S.l)(I))),i.a.createElement("div",{className:"lrls-blue",onClick:function(){e.setState({visible:!0,idx:r.size,cardType:"stockCardList"})}},"+\u6dfb\u52a0\u5b58\u8d27\u660e\u7ec6")))),i.a.createElement("div",{className:"lrls-card",style:{display:Z?"":"none"}},i.a.createElement(o.r,{className:"yysr-amount"},i.a.createElement("label",null,"\u6536\u5165\u91d1\u989d:"),i.a.createElement(o.E.BorderInputItem,{mode:"amount",negativeAllowed:!0,placeholder:"\u6536\u5165\u91d1\u989d",value:g,onChange:function(e){a(E.changeLrlsData(["oriTemp","amount"],e))}})),i.a.createElement(o.r,{className:"yysr-amount lrls-margin-top"},i.a.createElement("label",null,"\u6210\u672c\u91d1\u989d:"),i.a.createElement(o.E.BorderInputItem,{mode:"amount",negativeAllowed:!0,placeholder:"\u6210\u672c\u91d1\u989d",value:h,onChange:function(e){a(E.changeLrlsData(["oriTemp","currentAmount"],e))}})),i.a.createElement(o.r,{className:"yysr-amount lrls-margin-top"},i.a.createElement("label",null,"\u5408\u540c\u6bdb\u5229:"),i.a.createElement(o.a,{showZero:!0},Object(S.l)(g-h)))))}}]),a}(s.Component),ae=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props,t=e.dispatch,a=e.history,n=e.accountList,r=e.accounts,l=e.beManagemented,c=e.oriState,s=e.isManualWriteOff,m=e.sfglAmount,u=function(e){l&&["STATE_YYSR_XS","STATE_YYZC_GJ","STATE_FY"].includes(c)&&t(E.changeLrlsData(["oriTemp","currentAmount"],e)),"STATE_SFGL"!=c||s||t(E.changeLrlsData(["oriTemp","amount"],e))},d=r.size>2,p=0;return r.forEach((function(e){return p+=Number(e.get("amount"))})),i.a.createElement(o.r,{className:"lrls-card"},r.map((function(e,r){var l=e.get("accountUuid"),g=e.get("accountName");return i.a.createElement("div",{key:r,style:{paddingBottom:"10px"}},i.a.createElement("div",{className:"lrls-more-card lrls-placeholder lrls-bottom"},i.a.createElement("span",null,"\u8d26\u6237(",r+1,")"),i.a.createElement("span",{className:"lrls-blue",style:{display:d?"":"none"},onClick:function(){t(E.accountMoreCard("delete","",r)),u(p-Number(e.get("amount")))}},"\u5220\u9664")),i.a.createElement(o.r,{className:"lrls-more-card lrls-margin-top"},i.a.createElement("label",null,"\u91d1\u989d:"),i.a.createElement(o.E.BorderInputItem,{mode:"amount",placeholder:"\u586b\u5199\u91d1\u989d",value:e.get("amount"),onChange:function(a){t(E.accountMoreCard("amount",a,r));var n=p-Number(e.get("amount"))+Number(a);u(Object(S.l)(n))},onFocus:function(){if("STATE_SFGL"==c&&0==Number(e.get("amount"))){var a=Object(S.l)(m-p);a>0&&(t(E.accountMoreCard("amount",a,r)),s||u(Object(S.l)(m)))}}})),i.a.createElement("div",{className:"lrls-more-card lrls-margin-top"},i.a.createElement("label",null,"\u8d26\u6237:"),i.a.createElement(o.u,{className:"lrls-single",district:n.toJS(),value:l?"".concat(l).concat(h.B).concat(g):"",onOk:function(e){t(E.accountMoreCard("card",e,r))},icon:{type:"account-add",onClick:function(){t(f.a(["views","flags"],"insert")),a.push("/config/account/card/edit")}}},i.a.createElement(o.r,{className:"lrls-category lrls-padding"},l?i.a.createElement("span",null," ",g," "):i.a.createElement("span",{className:"lrls-placeholder"},"\u70b9\u51fb\u9009\u62e9\u8d26\u6237\u5361\u7247"),i.a.createElement(o.l,{type:"triangle"})))))})),i.a.createElement("div",{className:"lrls-more-card",style:{fontWeight:"bold"}},i.a.createElement("div",null,"\u603b\u91d1\u989d\uff1a",i.a.createElement(o.a,{showZero:!0},Object(S.l)(p))),i.a.createElement("div",{className:"lrls-stock-bottom"},i.a.createElement("div",{className:r.size>31?"lrls-placeholder":"lrls-blue",onClick:function(){r.size>31||t(E.accountMoreCard("add","",r.size))}},"+\u6dfb\u52a0\u8d26\u6237\u660e\u7ec6"))))}}]),a}(s.Component),ne=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props,t=e.dispatch,a=e.history,n=e.oriTemp,r=e.isModify,l=e.accounts,c=e.accountList,s=e.pendingStrongList,m=n.get("jrAmount"),u=n.get("oriState"),d=m<0?-m:m,g=n.get("amount"),h=n.get("moedAmount"),f=n.get("beMoed"),b=n.getIn(["pendingManageDto","isManualWriteOff"]),v=m>=0?"\u6536\u6b3e\u91d1\u989d":"\u4ed8\u6b3e\u91d1\u989d",L=m>=0?"\u5e94\u6536\u62b9\u96f6":"\u5e94\u4ed8\u62b9\u96f6";b&&(L=h>=0?"\u5e94\u6536\u62b9\u96f6":"\u5e94\u4ed8\u62b9\u96f6",v=n.get("allHandleAmount")>=0?"\u6536\u6b3e\u91d1\u989d":"\u4ed8\u6b3e\u91d1\u989d");var C=Object(S.l)(Math.abs(g)+Math.abs(h)),N=0!=g,T=n.get("usedAccounts"),_=1==s.filter((function(e){return e.get("beSelect")})).size;T&&(N=!1);var j=null;return r||(j=i.a.createElement("div",null,i.a.createElement("div",{className:"lrls-card"},i.a.createElement(o.r,{className:"yysr-amount"},i.a.createElement("label",null,v,":"),i.a.createElement(o.E.BorderInputItem,{mode:"amount",disabled:b||!b&&T,value:g,onChange:function(e){t(E.changeLrlsData(["oriTemp","amount"],e))},onClick:function(){b&&a.push("/editrunning/sfgl")}}),_?i.a.createElement("label",{className:"accountSwitch"},i.a.createElement(o.x,{checked:T,checkedChildren:"\u591a\u8d26\u6237",unCheckedChildren:"\u591a\u8d26\u6237",className:"threeTextSwitch",onChange:function(){t(E.changeLrlsData(["oriTemp","usedAccounts"],!T)),T?b||t(E.changeLrlsData(["oriTemp","amount"],d)):1==l.size&&t(E.accountMoreCard("add","",1))}})):null),N?i.a.createElement(o.r,{className:"yysr-amount lrls-margin-top"},i.a.createElement("label",null,"\u8d26\u6237:"),i.a.createElement(y,{dispatch:t,accountList:c,accounts:l})):null),T?i.a.createElement(ae,{dispatch:t,history:a,accountList:c,accounts:l,beManagemented:!1,oriState:u,isManualWriteOff:b,sfglAmount:b?g:Object(S.l)(d-h)}):null,i.a.createElement(o.r,{className:"lrls-card"},i.a.createElement(o.r,{className:"lrls-more-card"},i.a.createElement("span",null,L),i.a.createElement("span",{className:"noTextSwitch"},i.a.createElement(o.w,{checked:f,onClick:function(){t(E.changeLrlsData(["oriTemp","beMoed"],!f)),f&&t(E.changeLrlsData(["oriTemp","moedAmount"],""));var e=s.toJS();e.forEach((function(e){e.moedAmount=""})),t(E.changeLrlsData(["oriTemp","pendingStrongList"],Object(p.fromJS)(e)))}}))),f?i.a.createElement(o.r,{className:"lrls-padding-top"},i.a.createElement(o.r,{className:"yysr-amount"},i.a.createElement("label",null,"\u62b9\u96f6\u91d1\u989d\uff1a "),i.a.createElement(o.E.BorderInputItem,{mode:"amount",disabled:b,value:h,onChange:function(e){t(E.changeLrlsData(["oriTemp","moedAmount"],e))},onClick:function(){b&&a.push("/editrunning/sfgl")}}))):null),i.a.createElement(o.r,{className:"lrls-card"},i.a.createElement(o.r,{className:"lrls-more-card"},i.a.createElement("div",null,i.a.createElement("span",null,"\u6838\u9500\u91d1\u989d\uff1a"),i.a.createElement("span",{className:b?"text-decoration":"",onClick:function(){b&&a.push("/editrunning/sfgl")}},C?i.a.createElement(o.a,null,C):b?"\u70b9\u51fb\u8f93\u5165":null,b?i.a.createElement(o.l,{type:"edit"}):null)),i.a.createElement(o.x,{checked:b,checkedChildren:"\u624b\u52a8\u6838\u9500",unCheckedChildren:"\u81ea\u52a8\u6838\u9500",className:"fourTextSwitch",onChange:function(){t(E.changeLrlsData(["oriTemp","pendingManageDto","isManualWriteOff"],!b));var e=s.toJS(),a=0,n=0;e.forEach((function(e){if(e.moedAmount=e.moedAmount?e.moedAmount:"",e.handleAmount=e.handleAmount?e.handleAmount:e.amount,!b&&e.beSelect){var t=Number(e.handleAmount),r=Number(e.moedAmount);"debit"==e.direction?(a+=Number(t),n+=Number(r)):(a-=Number(t),n-=Number(r))}})),t(E.changeLrlsData(["oriTemp","pendingStrongList"],Object(p.fromJS)(e))),b||(t(E.changeLrlsData(["oriTemp","amount"],Object(S.l)(Math.abs(a)))),t(E.changeLrlsData(["oriTemp","allHandleAmount"],a))),t(E.changeLrlsData(["oriTemp","moedAmount"],Object(S.l)(n)))}}))))),r&&("STATE_SFGL"==u&&(j=i.a.createElement("div",null,i.a.createElement("div",{className:"lrls-card"},i.a.createElement(o.r,{className:"yysr-amount"},i.a.createElement("label",null,v,":"),b?i.a.createElement("span",{className:"text-decoration",onClick:function(){return a.push("/editrunning/sfgl")}},i.a.createElement(o.a,null,g),i.a.createElement(o.l,{type:"edit"})):i.a.createElement(o.E.BorderInputItem,{mode:"amount",disabled:T,value:g,onChange:function(e){t(E.changeLrlsData(["oriTemp","amount"],e))}}),i.a.createElement("ul",null,i.a.createElement(o.x,{checked:b,checkedChildren:"\u624b\u52a8\u6838\u9500",unCheckedChildren:"\u81ea\u52a8\u6838\u9500",className:"fourTextSwitch",onChange:function(){t(E.changeLrlsData(["oriTemp","pendingManageDto","isManualWriteOff"],!b))}})),_?i.a.createElement("label",{className:"accountSwitch"},i.a.createElement(o.x,{checked:T,checkedChildren:"\u591a\u8d26\u6237",unCheckedChildren:"\u591a\u8d26\u6237",className:"threeTextSwitch",onChange:function(){t(E.changeLrlsData(["oriTemp","usedAccounts"],!T)),T?b||t(E.changeLrlsData(["oriTemp","amount"],d)):1==l.size&&t(E.accountMoreCard("add","",1))}})):null),N?i.a.createElement(o.r,{className:"yysr-amount lrls-margin-top"},i.a.createElement("label",null,"\u8d26\u6237:"),i.a.createElement(y,{dispatch:t,accountList:c,accounts:l})):null),T?i.a.createElement(ae,{dispatch:t,history:a,accountList:c,accounts:l,beManagemented:!1,oriState:u,isManualWriteOff:b,sfglAmount:b?g:Object(S.l)(d-h)}):null)),"STATE_SFGL_ML"==u&&(j=i.a.createElement("div",{className:"lrls-card"},i.a.createElement(o.r,{className:"lrls-more-card"},b?null:i.a.createElement("label",null,L,":"),b?i.a.createElement("div",null,i.a.createElement("span",{className:"title-left"},L,":"),i.a.createElement("span",{className:"text-decoration",onClick:function(){return a.push("/editrunning/sfgl")}},i.a.createElement(o.a,null,g),i.a.createElement(o.l,{type:"edit"}))):i.a.createElement(o.E.BorderInputItem,{mode:"amount",value:g,onChange:function(e){t(E.changeLrlsData(["oriTemp","amount"],e))}}),i.a.createElement(o.x,{checked:b,checkedChildren:"\u624b\u52a8\u6838\u9500",unCheckedChildren:"\u81ea\u52a8\u6838\u9500",className:"fourTextSwitch",onChange:function(){t(E.changeLrlsData(["oriTemp","pendingManageDto","isManualWriteOff"],!b))}}))))),j}}]),a}(s.Component),re=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props,t=e.dispatch,a=e.jrTaxAmount,n=e.jrAmount,r=e.amount,l=e.pendingStrongList,c=e.isModify,s=e.inputTax,m=e.taxTotal,u=[],d=!0;l.map((function(e){e.get("beSelect")&&(u.push("1"),e.get("beOpened")&&(d=!1))}));var p=u.length>1,g=1==u.length,h=a;return p||(h=a*r/n),i.a.createElement("div",{className:"lrls-card"},i.a.createElement(o.r,{className:"lrls-more-card"},i.a.createElement("label",null,s?"\u5f00\u7968\u7a0e\u989d":"\u4ef7\u7a0e\u5408\u8ba1",":"),i.a.createElement(o.E.BorderInputItem,{mode:"amount",disabled:p,placeholder:"\u586b\u5199\u91d1\u989d",value:s?r:m,onChange:function(e){if(s)t(E.changeLrlsData(["oriTemp","amount"],e));else{var r=Object(S.l)(e*n/a);t(E.changeLrlsData(["oriTemp","amount"],r)),t(E.changeLrlsData(["oriTemp","taxTotal"],e))}}}),i.a.createElement("span",{className:"noTextSwitch",style:{marginLeft:"6px",display:!c&&g?"":"none"}},i.a.createElement(o.x,{checked:s,checkedChildren:"",unCheckedChildren:"",onChange:function(){t(E.changeLrlsData(["oriTemp","inputTax"],!s)),t(E.changeLrlsData(["oriTemp","amount"],n)),s&&t(E.changeLrlsData(["oriTemp","taxTotal"],a))}}))),i.a.createElement("div",{className:"lrls-placeholder lrls-margin-top",style:{paddingLeft:".6rem",display:d?"":"none"}},i.a.createElement("span",null,s?i.a.createElement("span",null,"\u4ef7\u7a0e\u5408\u8ba1: ",i.a.createElement(o.a,{showZero:!0},h)):i.a.createElement("span",null,"\u5f00\u7968\u7a0e\u989d: ",i.a.createElement(o.a,{showZero:!0},r))),i.a.createElement("div",null,"\u5f85\u5904\u7406\u4ef7\u7a0e\u5408\u8ba1: ",i.a.createElement(o.a,{showZero:!0},a))))}}]),a}(s.Component),le=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props,t=e.dispatch,a=e.oriTemp,n=e.accountList,r=e.accounts,l=e.isModify,c=e.pendingStrongList,s=e.stockList,m=e.stockCardList,u=e.projectCardList,d=e.projectList,g=e.hasSelect,h=e.history,f=e.isOpenedWarehouse,v=e.warehouseList,L=e.stockCategoryList,T=e.commonCardList,_=e.stockCardOtherList,O=e.projectCategoryList,k=e.commonProjectList,Z=e.cardAllList,w=a.get("categoryType"),U=(a.get("beProject"),a.get("usedProject"),a.get("oriState")),B=a.get("amount"),x=a.getIn([b.a[w],"beManagemented"]),P=a.get("isFullPayment"),X="SX_HW"==a.get("propertyCarryover"),R=null;switch(w){case"LB_YYSR":var Y=a.get("currentAmount"),M=a.get("preAmount"),F=a.get("payableAmount"),H=a.get("offsetAmount"),z=(a.get("stockStrongList")?a.get("stockStrongList"):Object(p.fromJS)([]),a.get("usedAccounts")),G=!1,q=!1,W="\u603b\u91d1\u989d:",Q=!1,$=!0;({STATE_YYSR_DJ:function(){q=!0,W="\u9884\u6536\u91d1\u989d:"},STATE_YYSR_XS:function(){q=!x,P&&l&&(q=!0),!P&&l&&($=!1),G=!(!((Q=M>0&&!z)||x&&!z)||l)},STATE_YYSR_TS:function(){q=!x,P&&l&&(q=!0),G=!(!((Q=(F&&!z)>0)||x&&!z)||l),$=!1}}[U]||function(){return null})(),R=i.a.createElement("div",{className:"lrls-card",style:{display:"",marginBottom:z?"0":"",paddingBottom:z?"0":""}},i.a.createElement(o.r,{style:{display:""},className:"yysr-amount"},i.a.createElement("label",null,W),(X||a.get("usedStock"))&&"STATE_YYSR_DJ"!=U?i.a.createElement(o.a,{showZero:!0},B):i.a.createElement(o.E.BorderInputItem,{mode:"amount",placeholder:"\u586b\u5199\u91d1\u989d",value:B,onChange:function(e){/^\d*\.?\d{0,2}$/g.test(e)&&t("STATE_YYSR_DJ"==U?E.changeLrlsData(["oriTemp","amount"],e):E.changeLrlsAmount(e))}}),i.a.createElement("label",{className:"accountSwitch",style:{display:$?"":"none"}},i.a.createElement(o.x,{checked:z,checkedChildren:"\u591a\u8d26\u6237",unCheckedChildren:"\u591a\u8d26\u6237",className:"threeTextSwitch",onChange:function(){t(E.changeLrlsData(["oriTemp","usedAccounts"],!z)),z||(1==r.size&&t(E.accountMoreCard("add","",1)),t(E.changeLrlsData(["oriTemp","offsetAmount"],"")))}}))),i.a.createElement(o.r,{className:"yysr-amount lrls-margin-top",style:{display:!z&&q?"":"none"}},i.a.createElement("label",null,"\u8d26\u6237\uff1a"),i.a.createElement(y,{dispatch:t,accountList:n,accounts:r})),G?i.a.createElement("div",{className:Q||!z?"lrls-margin-top":""},i.a.createElement(o.r,{className:"lrls-more-card",style:{display:"none"}},i.a.createElement("span",null,"\u591a\u8d26\u6237"),i.a.createElement("div",{className:"accountSwitch"},i.a.createElement(o.x,{checked:z,checkedChildren:"\u591a\u8d26\u6237",unCheckedChildren:"\u591a\u8d26\u6237",className:"threeTextSwitch",onChange:function(){t(E.changeLrlsData(["oriTemp","usedAccounts"],!z)),z||(1==r.size&&t(E.accountMoreCard("add","",1)),t(E.changeLrlsData(["oriTemp","offsetAmount"],"")))}}))),i.a.createElement(o.r,{style:{display:Q?"":"none"},className:""},i.a.createElement("div",{style:{paddingLeft:".6rem"},className:"lrls-placeholder"},i.a.createElement("span",{style:{marginRight:".2rem"}},"\u9884\u6536\u6b3e: ",i.a.createElement(o.a,{showZero:!0},M)),i.a.createElement("span",null,"\u5e94\u6536\u6b3e: ",i.a.createElement(o.a,{showZero:!0},F))),i.a.createElement(o.r,{className:"yysr-amount lrls-margin-top"},i.a.createElement("label",null,"STATE_YYSR_XS"==U?"\u9884\u6536\u62b5\u6263:":"\u5e94\u6536\u62b5\u6263:"),i.a.createElement(o.E.BorderInputItem,{mode:"amount",placeholder:"\u586b\u5199\u91d1\u989d",value:H,onChange:function(e){t(E.changeLrlsData(["oriTemp","offsetAmount"],e))}}))),i.a.createElement(o.r,{className:Q||!z?"yysr-amount lrls-margin-top":"yysr-amount",style:{display:z?"none":""}},i.a.createElement("label",null,"STATE_YYSR_XS"==U?"\u672c\u6b21\u6536\u6b3e:":"\u672c\u6b21\u4ed8\u6b3e:"),i.a.createElement(o.E.BorderInputItem,{mode:"amount",placeholder:"\u586b\u5199\u91d1\u989d",value:Y,onChange:function(e){t(E.changeLrlsData(["oriTemp","currentAmount"],e))},onFocus:function(){var e=B-H;t(E.changeLrlsData(["oriTemp","currentAmount"],e>0?e:""))}}),Y>0?i.a.createElement(y,{dispatch:t,accountList:n,accounts:r}):null)):null);break;case"LB_YYZC":var ae=a.get("currentAmount"),le=a.get("preAmount"),ce=a.get("payableAmount"),se=a.get("offsetAmount"),ie=a.get("usedAccounts"),oe=!1,me=!1,ue="\u603b\u91d1\u989d:",de=!1,pe=!0;({STATE_YYZC_DJ:function(){me=!0,ue="\u9884\u4ed8\u91d1\u989d:"},STATE_YYZC_GJ:function(){me=!x,P&&l&&(me=!0),!P&&l&&(pe=!1),oe=!(!((de=le>0&&!ie)||x&&!ie)||l)},STATE_YYZC_TG:function(){me=!x,P&&l&&(me=!0),oe=!(!x||l),de=ce>0,pe=!1}}[U]||function(){return null})(),R=i.a.createElement("div",{className:"lrls-card",style:{display:"",marginBottom:ie?"0":"",paddingBottom:ie?"0":""}},i.a.createElement(o.r,{className:"yysr-amount",style:{display:""}},i.a.createElement("label",null,ue),X&&"STATE_YYZC_DJ"!=U?i.a.createElement(o.a,{showZero:!0},B):i.a.createElement(o.E.BorderInputItem,{mode:"amount",placeholder:"\u586b\u5199\u91d1\u989d",value:B,onChange:function(e){t("STATE_YYSR_DJ"==U?E.changeLrlsData(["oriTemp","amount"],e):E.changeLrlsAmount(e))}}),i.a.createElement("label",{className:"accountSwitch",style:{display:pe?"":"none"}},i.a.createElement(o.x,{checked:ie,checkedChildren:"\u591a\u8d26\u6237",unCheckedChildren:"\u591a\u8d26\u6237",className:"threeTextSwitch",onChange:function(){t(E.changeLrlsData(["oriTemp","usedAccounts"],!ie)),ie||(1==r.size&&t(E.accountMoreCard("add","",1)),t(E.changeLrlsData(["oriTemp","offsetAmount"],"")))}}))),i.a.createElement(o.r,{className:"yysr-amount lrls-margin-top",style:{display:!ie&&me?"":"none"}},i.a.createElement("label",null,"\u8d26\u6237\uff1a"),i.a.createElement(y,{dispatch:t,accountList:n,accounts:r})),oe?i.a.createElement("div",{className:de||!ie?"lrls-margin-top":""},i.a.createElement(o.r,{className:"lrls-more-card",style:{display:"none"}},i.a.createElement("span",null,"\u591a\u8d26\u6237"),i.a.createElement("div",{className:"accountSwitch"},i.a.createElement(o.x,{checked:ie,checkedChildren:"\u591a\u8d26\u6237",unCheckedChildren:"\u591a\u8d26\u6237",className:"threeTextSwitch",onChange:function(){t(E.changeLrlsData(["oriTemp","usedAccounts"],!ie)),ie||(1==r.size&&t(E.accountMoreCard("add","",1)),t(E.changeLrlsData(["oriTemp","offsetAmount"],"")))}}))),i.a.createElement(o.r,{style:{display:de?"":"none"},className:""},i.a.createElement("div",{style:{paddingLeft:".6rem"},className:"lrls-placeholder"},i.a.createElement("span",{style:{marginRight:".2rem"}},"\u9884\u4ed8\u6b3e: ",i.a.createElement(o.a,{showZero:!0},le)),i.a.createElement("span",null,"\u5e94\u4ed8\u6b3e: ",i.a.createElement(o.a,{showZero:!0},ce))),i.a.createElement(o.r,{className:"yysr-amount margin-top-bot"},i.a.createElement("label",null,"STATE_YYZC_TG"==U?"\u5e94\u4ed8\u62b5\u6263:":"\u9884\u4ed8\u62b5\u6263:"),i.a.createElement(o.E.BorderInputItem,{mode:"amount",placeholder:"\u586b\u5199\u91d1\u989d",value:se,onChange:function(e){t(E.changeLrlsData(["oriTemp","offsetAmount"],e))}}))),i.a.createElement(o.r,{className:de||!ie?"yysr-amount lrls-margin-top":"yysr-amount",style:{display:ie?"none":""}},i.a.createElement("label",null,"STATE_YYZC_TG"==U?"\u672c\u6b21\u6536\u6b3e:":"\u672c\u6b21\u4ed8\u6b3e:"),i.a.createElement(o.E.BorderInputItem,{mode:"amount",placeholder:"\u586b\u5199\u91d1\u989d",value:ae,onChange:function(e){t(E.changeLrlsData(["oriTemp","currentAmount"],e))},onFocus:function(){var e=B-se;t(E.changeLrlsData(["oriTemp","currentAmount"],e>0?e:""))}}),ae>0?i.a.createElement(y,{dispatch:t,accountList:n,accounts:r}):null)):null);break;case"LB_FYZC":var ge=a.get("currentAmount"),he=a.get("preAmount"),Ee=a.get("payableAmount"),fe=a.get("offsetAmount"),ye=a.get("usedAccounts"),be=!0,ve=!1;"STATE_FY_DJ"==U&&(ve=!0),"STATE_FY"==U&&(ve=!x,P&&l&&(ve=!0),!P&&l&&(be=!1)),Number(B)>=0||(be=!1);var Le=!("STATE_FY"!=U||!x||ye||l),Se=!1,Ce="";B>=0&&he>0&&(Se=!0,Ce="\u9884\u4ed8\u62b5\u6263:"),B<0&&Ee>0&&(Se=!0,Ce="\u5e94\u4ed8\u62b5\u6263:"),R=i.a.createElement("div",{className:"lrls-card",style:{marginBottom:ye?"0":"",paddingBottom:ye?"0":""}},i.a.createElement(o.r,{className:"yysr-amount"},i.a.createElement("label",null,"STATE_FY_DJ"==U?"\u9884\u4ed8\u91d1\u989d:":"\u91d1\u989d: "),i.a.createElement(o.E.BorderInputItem,{mode:"amount",negativeAllowed:"STATE_FY_DJ"!=U,placeholder:"\u586b\u5199\u91d1\u989d",value:B,onChange:function(e){var a=/^[-\d]\d*\.?\d{0,2}$/g;"STATE_FY_DJ"==U&&(a=/^\d*\.?\d{0,2}$/g),(a.test(e)||""==e)&&("STATE_FY_DJ"==U?t(E.changeLrlsData(["oriTemp","amount"],e)):(t(E.changeLrlsAmount(e)),Number(e)>=0||t(E.changeLrlsData(["oriTemp","usedAccounts"],!1))))}}),i.a.createElement("label",{className:"accountSwitch",style:{display:be?"":"none"}},i.a.createElement(o.x,{checked:ye,checkedChildren:"\u591a\u8d26\u6237",unCheckedChildren:"\u591a\u8d26\u6237",className:"threeTextSwitch",onChange:function(){t(E.changeLrlsData(["oriTemp","usedAccounts"],!ye)),ye||(1==r.size&&t(E.accountMoreCard("add","",1)),t(E.changeLrlsData(["oriTemp","offsetAmount"],"")))}}))),i.a.createElement(o.r,{className:"yysr-amount lrls-margin-top",style:{display:!ye&&ve?"":"none"}},i.a.createElement("label",null,"\u8d26\u6237\uff1a"),i.a.createElement(y,{dispatch:t,accountList:n,accounts:r})),i.a.createElement(o.r,{className:!ve||!Se&&ye?"":"lrls-margin-top",style:{display:Le?"":"none"}},i.a.createElement(o.r,{style:{display:Se?"":"none"}},i.a.createElement("div",{style:{paddingLeft:".6rem"},className:"lrls-placeholder"},i.a.createElement("span",{style:{marginRight:".2rem"}},"\u9884\u4ed8\u6b3e: ",i.a.createElement(o.a,{showZero:!0},he)),i.a.createElement("span",null,"\u5e94\u4ed8\u6b3e: ",i.a.createElement(o.a,{showZero:!0},Ee))),i.a.createElement(o.r,{className:"yysr-amount margin-top-bot"},i.a.createElement("label",null,Ce),i.a.createElement(o.E.BorderInputItem,{mode:"amount",placeholder:"\u586b\u5199\u91d1\u989d",value:fe,onChange:function(e){t(E.changeLrlsData(["oriTemp","offsetAmount"],e))}}))),i.a.createElement(o.r,{className:Se||!ye?"yysr-amount lrls-margin-top":"yysr-amount",style:{display:ye?"none":""}},i.a.createElement("label",null,B<0?"\u672c\u6b21\u6536\u6b3e":"\u672c\u6b21\u4ed8\u6b3e",": "),i.a.createElement(o.E.BorderInputItem,{mode:"amount",placeholder:"\u586b\u5199\u91d1\u989d",value:ge,onChange:function(e){t(E.changeLrlsData(["oriTemp","currentAmount"],e))},onFocus:function(){var e=Math.abs(B)-fe;t(E.changeLrlsData(["oriTemp","currentAmount"],e>0?e:""))}}),ge>0?i.a.createElement(y,{dispatch:t,accountList:n,accounts:r}):null)));break;case"LB_XCZC":R=i.a.createElement(C,{isModify:l,dispatch:t,oriTemp:a,accountList:n,accounts:r});break;case"LB_SFZC":R=i.a.createElement(N,{isModify:l,dispatch:t,oriTemp:a,accountList:n,accounts:r});break;case"LB_CQZC":var Ne=a.get("beCleaning"),Te=a.get("handleType"),_e=a.get("currentAmount"),je=Number(_e)>0||!x;l&&(je=!(!P&&x));var Oe="";Oe="JR_HANDLE_GJ"==Te?B>=0?"\u672c\u6b21\u4ed8\u6b3e\uff1a":"\u672c\u6b21\u6536\u6b3e\uff1a":B>=0?"\u672c\u6b21\u6536\u6b3e\uff1a":"\u672c\u6b21\u4ed8\u6b3e\uff1a",R=i.a.createElement("div",{className:"lrls-card"},i.a.createElement(o.r,{className:"yysr-amount"},i.a.createElement("label",null,"\u91d1\u989d\uff1a"),i.a.createElement(o.E.BorderInputItem,{mode:"amount",negativeAllowed:!0,placeholder:"\u586b\u5199\u91d1\u989d",value:B,onChange:function(e){(/^[-\d]\d*\.?\d{0,2}$/g.test(e)||""==e)&&(t(E.changeLrlsAmount(e)),!l&&x&&"-"!=e&&t(E.changeLrlsData(["oriTemp","currentAmount"],Math.abs(e)))),Ne&&t(E.autoCqzcCzAmount())}})),i.a.createElement(o.r,{className:"yysr-amount lrls-margin-top",style:{display:!l&&x?"":"none"}},i.a.createElement("label",null,Oe),i.a.createElement(o.E.BorderInputItem,{mode:"amount",placeholder:"\u586b\u5199\u91d1\u989d",value:_e,onChange:function(e){t(E.changeLrlsData(["oriTemp","currentAmount"],e))}})),i.a.createElement(o.r,{className:"yysr-amount lrls-margin-top",style:{display:je?"":"none"}},i.a.createElement("label",null,"\u8d26\u6237\uff1a"),i.a.createElement(y,{dispatch:t,accountList:n,accounts:r})));break;case"LB_YYWSR":case"LB_YYWZC":var Ae=a.get("currentAmount"),ke=Number(Ae)>0||!x&&0!=Number(B);l&&(ke=!(!P&&(x||0==Number(B))));var Ie="";"LB_YYWSR"==w&&(Ie=B>=0?"\u672c\u6b21\u6536\u6b3e":"\u672c\u6b21\u4ed8\u6b3e"),"LB_YYWZC"==w&&(Ie=B>=0?"\u672c\u6b21\u4ed8\u6b3e":"\u672c\u6b21\u6536\u6b3e"),R=i.a.createElement("div",{className:"lrls-card"},i.a.createElement(o.r,{className:"yysr-amount"},i.a.createElement("label",null,"\u91d1\u989d\uff1a"),i.a.createElement(o.E.BorderInputItem,{mode:"amount",negativeAllowed:!0,placeholder:"\u586b\u5199\u91d1\u989d",value:B,onChange:function(e){t(E.changeLrlsData(["oriTemp","amount"],e)),!l&&x&&t(E.changeLrlsData(["oriTemp","currentAmount"],Math.abs(e)))}})),i.a.createElement(o.r,{className:"yysr-amount lrls-margin-top",style:{display:!l&&x?"":"none"}},i.a.createElement("label",null,Ie,"\uff1a"),i.a.createElement(o.E.BorderInputItem,{mode:"amount",placeholder:"\u586b\u5199\u91d1\u989d",value:Ae,onChange:function(e){t(E.changeLrlsData(["oriTemp","currentAmount"],e))},onFocus:function(){t(E.changeLrlsData(["oriTemp","currentAmount"],Math.abs(B)))}})),i.a.createElement(o.r,{className:"yysr-amount lrls-margin-top",style:{display:ke?"":"none"}},i.a.createElement("label",null,"\u8d26\u6237\uff1a"),i.a.createElement(y,{dispatch:t,accountList:n,accounts:r})));break;case"LB_ZSKX":case"LB_ZFKX":R=i.a.createElement("div",{className:"lrls-card"},i.a.createElement(o.r,{className:"yysr-amount"},i.a.createElement("label",null,"\u91d1\u989d:"),i.a.createElement(o.E.BorderInputItem,{mode:"amount",placeholder:"\u586b\u5199\u91d1\u989d",value:B,onChange:function(e){t(E.changeLrlsData(["oriTemp","amount"],e))}}),i.a.createElement(y,{dispatch:t,accountList:n,accounts:r})));break;case"LB_JK":R=i.a.createElement("div",{className:"lrls-card"},i.a.createElement(o.r,{className:"yysr-amount"},i.a.createElement("label",null,"\u91d1\u989d\uff1a"),i.a.createElement(o.E.BorderInputItem,{mode:"amount",placeholder:"\u586b\u5199\u91d1\u989d",value:B,onChange:function(e){t(E.changeLrlsData(["oriTemp","amount"],e))}}),"STATE_JK_JTLX"!=U?i.a.createElement(y,{dispatch:t,accountList:n,accounts:r}):null));break;case"LB_TZ":var Je="STATE_TZ_JTGL"!=U&&"STATE_TZ_JTLX"!=U;R=i.a.createElement("div",{className:"lrls-card"},i.a.createElement(o.r,{className:"yysr-amount"},i.a.createElement("label",null,"\u91d1\u989d\uff1a"),i.a.createElement(o.E.BorderInputItem,{mode:"amount",placeholder:"\u586b\u5199\u91d1\u989d",value:B,onChange:function(e){t(E.changeLrlsData(["oriTemp","amount"],e))}}),Je?i.a.createElement(y,{dispatch:t,accountList:n,accounts:r}):null));break;case"LB_ZB":R=i.a.createElement("div",{className:"lrls-card"},i.a.createElement(o.r,{className:"yysr-amount"},i.a.createElement("label",null,"\u91d1\u989d\uff1a"),i.a.createElement(o.E.BorderInputItem,{mode:"amount",placeholder:"\u586b\u5199\u91d1\u989d",value:B,onChange:function(e){t(E.changeLrlsData(["oriTemp","amount"],e))}}),"STATE_ZB_LRFP"!=U?i.a.createElement(y,{dispatch:t,accountList:n,accounts:r}):null));break;case"LB_ZZ":R=i.a.createElement("div",{className:"lrls-card"},i.a.createElement(o.r,{className:"yysr-amount"},i.a.createElement("label",null," \u91d1\u989d: "),i.a.createElement(o.E.BorderInputItem,{mode:"amount",placeholder:"\u586b\u5199\u91d1\u989d",value:B,onChange:function(e){t(E.changeLrlsData(["oriTemp","amount"],e))}})),i.a.createElement(o.r,{className:"yysr-amount lrls-home-account margin-top-bot"},i.a.createElement("label",null," \u8f6c\u51fa\u8d26\u6237: "),i.a.createElement(y,{dispatch:t,accountList:n,accounts:r,accountStatus:"ACCOUNT_STATUS_FROM"})),i.a.createElement(o.r,{className:"yysr-amount lrls-home-account"},i.a.createElement("label",null," \u8f6c\u5165\u8d26\u6237: "),i.a.createElement(y,{dispatch:t,accountList:n,accounts:r,accountStatus:"ACCOUNT_STATUS_TO"})));break;case"LB_SFGL":R=i.a.createElement(ne,{dispatch:t,history:h,oriTemp:a,isModify:l,accounts:r,accountList:n,pendingStrongList:c});break;case"LB_JZCB":var Ze=a.get("relationCategoryUuid");R=i.a.createElement(j,{history:h,dispatch:t,oriState:U,stockCardList:m,stockList:s,isModify:l,isOpenedWarehouse:f,stockCategoryList:L,commonCardList:T,relationCategoryUuid:Ze});break;case"LB_ZCWJZZS":var De=a.get("handleMonth"),we=0,Ue=0;c.forEach((function(e){"JR_STRONG_STAY_ZCXX"===e.get("pendingStrongType")?we+=e.get("taxAmount"):Ue+=e.get("taxAmount")})),R=i.a.createElement("div",{className:"lrls-card"},i.a.createElement("div",{className:"lrls-more-card lrls-jzsy"},i.a.createElement("label",null,"\u5904\u7406\u7a0e\u989d\u6708\u4efd:"),i.a.createElement("div",{className:"antd-single-picker"},i.a.createElement(o.m,{disabled:l,value:De,format:"YYYY_MM",maxDate:new Date,onChange:function(e){var a=new S.a(e).valueOf().slice(0,7);t(E.changeLrlsData(["oriTemp","handleMonth"],a)),t(E.getWjzzsList(a))}},i.a.createElement(o.r,{className:"lrls-padding lrls-category"},De?i.a.createElement("span",null," ",De," "):i.a.createElement("span",{className:"lrls-placeholder"},"\u70b9\u51fb\u9009\u62e9\u5904\u7406\u7a0e\u989d\u6708\u4efd"),i.a.createElement(o.l,{type:"triangle"}))))),i.a.createElement("div",{className:"lrls-more-card lrls-margin-top"},i.a.createElement("span",null,"\u672a\u4ea4\u7a0e\u989d\uff1a"),i.a.createElement(o.a,{showZero:!0},Number(we)-Number(Ue))));break;case"LB_JZSY":var Be=a.get("assets"),xe=Be.get("originalAssetsAmount"),Pe=Be.get("depreciationAmount");R=i.a.createElement("div",{className:"lrls-card"},i.a.createElement(o.r,null,i.a.createElement("label",{style:{marginRight:".15rem"}},B>=0?"\u51c0\u6536\u76ca\u91d1\u989d\uff1a":"\u51c0\u635f\u5931\u91d1\u989d\uff1a"),i.a.createElement(o.a,{showZero:!0},Math.abs(B))),i.a.createElement(o.r,{className:"yysr-amount margin-top-bot lrls-jzsy"},i.a.createElement("label",null,"\u8d44\u4ea7\u539f\u503c:"),i.a.createElement(o.E.BorderInputItem,{mode:"amount",placeholder:"\u8bf7\u586b\u5199\u8d44\u4ea7\u539f\u503c",value:xe,onChange:function(e){t(E.changeLrlsData(["oriTemp","assets","originalAssetsAmount"],e)),t(E.autoJzsyAmount())}})),i.a.createElement(o.r,{className:"yysr-amount lrls-jzsy"},i.a.createElement("label",null,"\u7d2f\u8ba1\u6298\u65e7\u4f59\u989d:"),i.a.createElement(o.E.BorderInputItem,{mode:"amount",placeholder:"\u8bf7\u586b\u5199\u7d2f\u8ba1\u6298\u65e7\u4f59\u989d",value:Pe,onChange:function(e){t(E.changeLrlsData(["oriTemp","assets","depreciationAmount"],e)),t(E.autoJzsyAmount())}})));break;case"LB_ZJTX":R=i.a.createElement("div",{className:"lrls-card"},i.a.createElement(o.r,{className:"yysr-amount"},i.a.createElement("label",null,"\u91d1\u989d:"),i.a.createElement(o.E.BorderInputItem,{mode:"amount",placeholder:"\u586b\u5199\u91d1\u989d",value:B,onChange:function(e){t(E.changeLrlsData(["oriTemp","amount"],e))}})));break;case"LB_GGFYFT":R=i.a.createElement(V,{projectCardList:u,projectList:d,dispatch:t,oriState:U,hasSelect:g,projectCategoryList:O,commonProjectList:k});break;case"LB_KJFP":var Xe=a.get("jrTaxAmount"),Re=a.get("jrAmount"),Ye=a.get("inputTax"),Me=a.get("taxTotal");R=i.a.createElement(re,{dispatch:t,jrTaxAmount:Xe,jrAmount:Re,amount:B,pendingStrongList:c,isModify:l,inputTax:Ye,taxTotal:Me});break;case"LB_FPRZ":var Fe=a.get("jrTaxAmount"),He=a.get("jrAmount"),ze=[],Ge=!0;c.map((function(e){e.get("beSelect")&&(ze.push("1"),e.get("beOpened")&&(Ge=!1))}));var qe=ze.length>1,We=Fe;qe||(We=Fe*B/He),R=i.a.createElement("div",{className:"lrls-card"},i.a.createElement(o.r,{className:"yysr-amount"},i.a.createElement("label",null,"\u91d1\u989d\uff1a"),i.a.createElement(o.E.BorderInputItem,{mode:"amount",disabled:qe,placeholder:"\u586b\u5199\u91d1\u989d",value:B,onChange:function(e){t(E.changeLrlsData(["oriTemp","amount"],e))}})),i.a.createElement("div",{className:"lrls-placeholder lrls-margin-top",style:{paddingLeft:".6rem",display:Ge?"":"none"}},i.a.createElement("span",{style:{marginRight:".2rem"}},"\u4ef7\u7a0e\u5408\u8ba1: ",i.a.createElement(o.a,{showZero:!0},We))));break;case"LB_CHDB":var Qe=a.get("warehouseCardList");R=i.a.createElement(A,{dispatch:t,history:h,stockCardList:m,stockList:s,isModify:l,warehouseList:v,warehouseCardList:Qe,stockCategoryList:L,commonCardList:T});break;case"LB_CHYE":R=i.a.createElement(I,{dispatch:t,history:h,stockCardList:m,stockList:s,isModify:l,oriState:U,isOpenedWarehouse:f,warehouseList:v,stockCategoryList:L,commonCardList:T});break;case"LB_JXSEZC":a.get("warehouseCardList");var Ke=a.get("usedStock"),Ve=a.get("stockRange");R=i.a.createElement(J,{dispatch:t,stockCardList:m,stockList:s,isModify:l,warehouseList:v,usedStock:Ke,amount:B,isOpenedWarehouse:f,stockRange:Ve,stockCategoryList:L,commonCardList:T});break;case"LB_CHZZ":"STATE_CHZZ_ZZCX"==U&&(R=i.a.createElement(D,{history:h,dispatch:t,oriState:U,stockCardList:m,stockCardOtherList:_,stockList:s,isOpenedWarehouse:f,stockCategoryList:L,commonCardList:T})),"STATE_CHZZ_ZZD"==U&&(R=i.a.createElement(K,{history:h,dispatch:t,stockCardList:m,isOpenedWarehouse:f,stockCategoryList:L,cardAllList:Z}));break;case"LB_CHTRXM":R=i.a.createElement(ee,{dispatch:t,stockCardList:m,stockList:s,history:h,isOpenedWarehouse:f,stockCategoryList:L,commonCardList:T});break;case"LB_XMJZ":var $e=a.get("currentAmount");R=i.a.createElement(te,{dispatch:t,stockCardList:m,stockList:s,isModify:l,isOpenedWarehouse:f,history:h,stockCategoryList:L,commonCardList:T,jrAmount:a.get("jrAmount"),oriState:U,amount:B,currentAmount:$e,projectProperty:u.getIn([0,"projectProperty"])})}return R}}]),a}(s.Component),ce=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).taxRateList=[],e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.rateOptionList.toJS().forEach((function(t){e.taxRateList.push({key:"".concat(t,"%"),value:t})})),this.taxRateList.push({key:"**%",value:-1})}},{key:"render",value:function(){var e=this.props,t=e.dispatch,a=e.categoryType,n=e.oriState,r=e.billList,l=e.amount,c=e.billStrongList,s=e.scale,m=e.payableRate,u=e.outputRate,d=e.isModify,p=e.oriBillType,g=r?r.getIn([0,"billType"]):"",h=r?r.getIn([0,"billState"]):"",f=r?r.getIn([0,"taxRate"]):"",y=r?r.getIn([0,"tax"]):"",b=-1==f,v=[],L={bill_other:"\u5176\u4ed6\u7968\u636e",bill_common:"\u53d1\u7968",bill_special:"\u589e\u503c\u7a0e\u4e13\u7528\u53d1\u7968"}[g],S=!1,C="bill_states_make_out"===h||"bill_states_auth"===h;switch(a){case"LB_YYSR":S="STATE_YYSR_DJ"!=n,v=[{key:"\u53d1\u7968",value:"bill_common"},{key:"\u5176\u4ed6\u7968\u636e",value:"bill_other"}];break;case"LB_YYZC":("general"==s||d)&&(S="STATE_YYZC_DJ"!=n,v=[{key:"\u589e\u503c\u7a0e\u4e13\u7528\u53d1\u7968",value:"bill_special"},{key:"\u5176\u4ed6\u7968\u636e",value:"bill_other"}]);break;case"LB_FYZC":("general"==s||d)&&(S="STATE_FY_DJ"!=n,v=[{key:"\u589e\u503c\u7a0e\u4e13\u7528\u53d1\u7968",value:"bill_special"},{key:"\u5176\u4ed6\u7968\u636e",value:"bill_other"}]);break;case"LB_CQZC":v=[{key:"\u53d1\u7968",value:"bill_common"},{key:"\u5176\u4ed6\u7968\u636e",value:"bill_other"}],"STATE_CQZC_YF"==n&&(v=[{key:"\u589e\u503c\u7a0e\u4e13\u7528\u53d1\u7968",value:"bill_special"},{key:"\u5176\u4ed6\u7968\u636e",value:"bill_other"}]),"general"==s&&(S=!0),"small"==s&&(S="STATE_CQZC_YS"==n,d&&"STATE_CQZC_YF"==n&&"bill_special"==p&&(S=!0));break;case"LB_YYWSR":S=!0,v=[{key:"\u53d1\u7968",value:"bill_common"},{key:"\u5176\u4ed6\u7968\u636e",value:"bill_other"}];break;case"LB_YYWZC":("general"==s||d)&&(S=!0,v=[{key:"\u589e\u503c\u7a0e\u4e13\u7528\u53d1\u7968",value:"bill_special"},{key:"\u5176\u4ed6\u7968\u636e",value:"bill_other"}])}"isEnable"==s&&(S=!1,d&&["bill_special","bill_common"].includes(p)&&(S=!0)),"small"==s&&["LB_YYZC","LB_FYZC","LB_YYWZC"].includes(a)&&["","bill_other"].includes(g)&&(S=!1,d&&"bill_special"==p&&(S=!0));var N=!!c.size;return S?i.a.createElement(o.r,{className:"lrls-card"},i.a.createElement(o.r,{className:"yysr-bill"},i.a.createElement("div",{className:"lrls-more-card"},i.a.createElement("label",null,"\u7968\u636e\u7c7b\u578b:"),i.a.createElement(o.u,{disabled:N,className:"lrls-single",district:v,value:g,onOk:function(e){t(E.changeLrlsData(["oriTemp","billList",0,"billType"],e.value)),t(E.changeTaxRate("general"==s?u:m)),"bill_common"==e.value&&t(E.changeLrlsData(["oriTemp","billList",0,"billState"],"bill_states_make_out")),"bill_special"==e.value&&t(E.changeLrlsData(["oriTemp","billList",0,"billState"],"bill_states_auth"))}},i.a.createElement(o.r,{className:"lrls-category lrls-padding"},i.a.createElement("span",null,L),i.a.createElement(o.l,{type:"triangle",style:{color:N?"#ccc":""}})))),"bill_common"==g?i.a.createElement(o.x,{checked:C,checkedChildren:"\u5df2\u5f00\u7968",unCheckedChildren:"\u672a\u5f00\u7968",className:"threeTextSwitch",onChange:function(){if(!N){var e="";({bill_states_not_make_out:function(){return e="bill_states_make_out"},bill_states_make_out:function(){return e="bill_states_not_make_out"}}[h]||function(){return null})(),t(E.changeLrlsData(["oriTemp","billList",0,"billState"],e))}}}):null,"bill_special"==g?i.a.createElement(o.x,{checked:C,checkedChildren:"\u5df2\u8ba4\u8bc1",unCheckedChildren:"\u672a\u8ba4\u8bc1",className:"threeTextSwitch",onChange:function(){if(!N){var e="";({bill_states_not_auth:function(){return e="bill_states_auth"},bill_states_auth:function(){return e="bill_states_not_auth"}}[h]||function(){return null})(),t(E.changeLrlsData(["oriTemp","billList",0,"billState"],e))}}}):null),"bill_other"!=g?i.a.createElement(o.r,null,i.a.createElement(o.r,{className:"lrls-more-card lrls-margin-top"},i.a.createElement("label",null,"\u7a0e\u7387:"),i.a.createElement(o.u,{disabled:N,className:"lrls-single",district:this.taxRateList,value:f,onOk:function(e){t(E.changeTaxRate(e.value))}},i.a.createElement(o.r,{className:"lrls-category lrls-padding"},i.a.createElement("span",null,"".concat(-1==f?"**":f,"%"),i.a.createElement("span",{className:"lrls-placeholder",style:{display:b?"none":""}},"(\u7a0e\u989d\uff1a",i.a.createElement(o.a,{showZero:!0},y)," \u4ef7\u7a0e\u5408\u8ba1: ",i.a.createElement(o.a,{showZero:!0},l),")")),i.a.createElement(o.l,{type:"triangle",style:{color:N?"#ccc":""}})))),i.a.createElement(o.r,{className:"yysr-amount lrls-margin-top",style:{display:b?"":"none"}},i.a.createElement("label",null,"\u7a0e\u989d\uff1a"),i.a.createElement(o.E.BorderInputItem,{mode:"amount",negativeAllowed:["LB_FYZC","LB_CQZC","LB_YYWSR","LB_YYWZC"].includes(a),placeholder:"\u586b\u5199\u91d1\u989d",value:y,onChange:function(e){t(E.changeLrlsData(["oriTemp","billList",0,"tax"],e))}}))):null,c.size&&"bill_special"==g?i.a.createElement(o.r,{className:"lrls-margin-top"},"\u8ba4\u8bc1\u6d41\u6c34\uff1a","".concat(c.getIn([0,"oriDate"])," ").concat(c.getIn([0,"jrIndex"])),"\u53f7"):null,c.size&&"bill_common"==g?i.a.createElement(o.r,{className:"lrls-margin-top"},"\u5f00\u7968\u6d41\u6c34\uff1a","".concat(c.getIn([0,"oriDate"])," ").concat(c.getIn([0,"jrIndex"])),"\u53f7"):null):null}}]),a}(s.Component),se=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props,t=e.dispatch,a=e.beCleaning,n=e.assets,r=(e.amount,e.beProject,e.usedProject,e.projectList),l=e.projectCardList,c=n.get("originalAssetsAmount"),s=n.get("depreciationAmount"),m=n.get("cleaningAmount"),u=l.get(0);"".concat(u.get("code")," ").concat(u.get("name")),r.filter((function(e){return 0==e.get("value").includes("COMNCRD")}));return i.a.createElement(o.r,{className:"lrls-card"},i.a.createElement(o.r,{className:"lrls-more-card"},i.a.createElement("span",null,"\u5904\u7f6e\u635f\u76ca"),i.a.createElement("div",{className:"noTextSwitch"},i.a.createElement(o.w,{checked:a,onClick:function(){t(E.changeLrlsData(["oriTemp","beCleaning"],!a)),a||t(E.autoCqzcCzAmount())}}))),a?i.a.createElement(o.r,null,i.a.createElement(o.r,null,i.a.createElement("label",{style:{marginRight:".15rem"}},m>=0?"\u51c0\u6536\u76ca\u91d1\u989d\uff1a":"\u51c0\u635f\u5931\u91d1\u989d\uff1a"),i.a.createElement(o.a,{showZero:!0},Math.abs(m))),i.a.createElement(o.r,{className:"yysr-amount margin-top-bot lrls-jzsy"},i.a.createElement("label",null,"\u8d44\u4ea7\u539f\u503c:"),i.a.createElement(o.E.BorderInputItem,{mode:"amount",placeholder:"\u8bf7\u586b\u5199\u8d44\u4ea7\u539f\u503c",value:c,onChange:function(e){t(E.changeLrlsData(["oriTemp","assets","originalAssetsAmount"],e)),t(E.autoCqzcCzAmount())}})),i.a.createElement(o.r,{className:"yysr-amount margin-top-bot lrls-jzsy"},i.a.createElement("label",null,"\u7d2f\u8ba1\u6298\u65e7\u4f59\u989d:"),i.a.createElement(o.E.BorderInputItem,{mode:"amount",placeholder:"\u8bf7\u586b\u5199\u7d2f\u8ba1\u6298\u65e7\u4f59\u989d",value:s,onChange:function(e){t(E.changeLrlsData(["oriTemp","assets","depreciationAmount"],e)),t(E.autoCqzcCzAmount())}}))):null)}}]),a}(s.Component),ie=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).state={showList:!0},e}return Object(r.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.categoryType,n=t.oriState,r=t.pendingStrongList,l=t.jrAmount,c=t.beAccrued,s=t.propertyTax,m=t.propertyPay,u=t.strongList,d=t.dispatch,p=t.projectProperty,g=t.isCopy,h=this.state.showList,f=!1,y="\u5f85\u652f\u4ed8\u91d1\u989d",b="",v="jrJvTypeName",L=null,C=r.some((function(e){return e.get("beSelect")}));switch(a){case"LB_ZSKX":"STATE_ZS_TH"===n&&(f=!0,b="\u5176\u4ed6\u5e94\u4ed8");break;case"LB_ZFKX":"STATE_ZF_SH"===n&&(f=!0,b="\u5176\u4ed6\u5e94\u6536");break;case"LB_JK":c&&"STATE_JK_ZFLX"===n&&(f=!0);break;case"LB_TZ":!c||"STATE_TZ_SRGL"!==n&&"STATE_TZ_SRLX"!==n||(f=!0,y="\u5f85\u6536\u5165\u91d1\u989d");break;case"LB_ZB":c&&"STATE_ZB_ZFLR"===n&&(f=!0);break;case"LB_SFZC":({SX_ZZS:function(){"STATE_SF_JN"===n&&(f=!0,y="\u5f85\u5904\u7406\u7a0e\u8d39"),"STATE_SF_SFJM"===n&&(f=!0,y="\u6838\u9500\u603b\u8ba1")},SX_GRSF:function(){f=!1},SX_QTSF:function(){c&&"STATE_SF_JN"===n&&(f=!0,y="\u5f85\u652f\u4ed8\u91d1\u989d"),"STATE_SF_SFJM"===n&&(f=!0,y="\u6838\u9500\u603b\u8ba1")},SX_QYSDS:function(){c&&"STATE_SF_JN"===n&&(f=!0,y="\u5f85\u652f\u4ed8\u91d1\u989d"),"STATE_SF_SFJM"===n&&(f=!0,y="\u6838\u9500\u603b\u8ba1")}}[s]||function(){return null})();break;case"LB_XCZC":({SX_GZXJ:function(){!c||"STATE_XC_FF"!==n&&"STATE_XC_DK"!=n||(f=!0,y=l>=0?"\u5f85\u5904\u7406\u4ed8\u6b3e\u91d1\u989d\uff1a":"\u5f85\u5904\u7406\u6536\u6b3e\u91d1\u989d\uff1a")},SX_SHBX:function(){!c||"STATE_XC_JN"!==n&&"STATE_XC_DJ"!=n||(f=!0,y=l>=0?"\u5f85\u5904\u7406\u4ed8\u6b3e\u91d1\u989d\uff1a":"\u5f85\u5904\u7406\u6536\u6b3e\u91d1\u989d\uff1a")},SX_ZFGJJ:function(){!c||"STATE_XC_JN"!==n&&"STATE_XC_DJ"!=n||(f=!0,y=l>=0?"\u5f85\u5904\u7406\u4ed8\u6b3e\u91d1\u989d\uff1a":"\u5f85\u5904\u7406\u6536\u6b3e\u91d1\u989d\uff1a")},SX_FLF:function(){c&&"STATE_XC_FF"===n&&(f=!0,y=l>=0?"\u5f85\u5904\u7406\u4ed8\u6b3e\u91d1\u989d\uff1a":"\u5f85\u5904\u7406\u6536\u6b3e\u91d1\u989d\uff1a")},SX_QTXC:function(){c&&"STATE_XC_FF"===n&&(f=!0,y=l>=0?"\u5f85\u5904\u7406\u4ed8\u6b3e\u91d1\u989d\uff1a":"\u5f85\u5904\u7406\u6536\u6b3e\u91d1\u989d\uff1a")}}[m]||function(){return null})();break;case"LB_KJFP":C&&(L=i.a.createElement(o.r,{className:"jr-card lrls-bottom",key:"component"},i.a.createElement("div",{className:"hx-title lrls-type"},i.a.createElement("span",null,"\u5173\u8054\u6838\u9500"),i.a.createElement("span",{className:"lrls-placeholder",onClick:function(){d(E.changeLrlsData(["views","showJrPage"],!0))}},"\u5f85\u5f00\u53d1\u7968\u7a0e\u989d\uff1a",i.a.createElement(o.a,{showZero:!0},l)," ",i.a.createElement(o.l,{type:"arrow-right"}))),r.map((function(e,t){if(e.get("beSelect")){var a=-1==e.get("taxRate")?"**":e.get("taxRate");return i.a.createElement("div",{key:t,className:"hx-top-line"},i.a.createElement("div",{className:"jr-item"},i.a.createElement("div",{className:"overElli"},e.get("categoryName")),i.a.createElement("div",null,e.get("beOpened")?"\u671f\u521d\u503c":"".concat(e.get("jrIndex"),"\u53f7"))),i.a.createElement("div",{className:"jr-item"},i.a.createElement("span",null,e.get("beOpened")?"":"\u7a0e\u7387\uff1a".concat(a,"%")),i.a.createElement("div",null,i.a.createElement(o.a,{className:"hx-bold",showZero:!0},Math.abs(e.get("notHandleAmount"))))))}}))));break;case"LB_FPRZ":C&&(L=i.a.createElement(o.r,{className:"jr-card lrls-bottom",key:"component"},i.a.createElement("div",{className:"hx-title lrls-type"},i.a.createElement("span",null,"\u5173\u8054\u6838\u9500"),i.a.createElement("span",{className:"lrls-placeholder",onClick:function(){d(E.changeLrlsData(["views","showJrPage"],!0))}},"\u5f85\u8ba4\u8bc1\u7a0e\u989d\uff1a",i.a.createElement(o.a,{showZero:!0},l)," ",i.a.createElement(o.l,{type:"arrow-right"}))),r.map((function(e,t){if(e.get("beSelect"))return i.a.createElement("div",{key:t,className:"hx-top-line"},i.a.createElement("div",{className:"jr-item"},i.a.createElement("div",{className:"overElli"},e.get("categoryName")),i.a.createElement("div",null,e.get("beOpened")?"\u671f\u521d\u503c":"".concat(e.get("jrIndex"),"\u53f7"))),i.a.createElement("div",{className:"jr-item"},i.a.createElement("span",null),i.a.createElement("div",null,i.a.createElement(o.a,{className:"hx-bold",showZero:!0},Math.abs(e.get("notHandleAmount"))))))}))));break;case"LB_JZSY":C&&(L=i.a.createElement(o.r,{className:"jr-card lrls-bottom lrls-bottom",key:"component"},i.a.createElement("div",{className:"hx-title lrls-type"},i.a.createElement("span",null,"\u5173\u8054\u6838\u9500"),i.a.createElement("span",{className:"lrls-placeholder",onClick:function(){d(E.changeLrlsData(["views","showJrPage"],!0))}},"\u5904\u7f6e\u91d1\u989d\u5408\u8ba1\uff1a",i.a.createElement(o.a,{showZero:!0},l)," ",i.a.createElement(o.l,{type:"arrow-right"}))),r.map((function(e,t){if(e.get("beSelect"))return i.a.createElement("div",{key:t,className:"hx-top-line"},i.a.createElement("div",{className:"jr-item"},i.a.createElement("div",null,e.get("jrIndex")," \u53f7"),i.a.createElement("div",{className:"overElli"},e.get("oriDate"))),i.a.createElement("div",{className:"jr-item"},i.a.createElement("div",{className:"overElli"},e.get("categoryName")),i.a.createElement("div",null,i.a.createElement(o.a,{className:"hx-bold",showZero:!0},e.get("amount")))))}))));break;case"LB_SFGL":C&&(L=i.a.createElement(o.r,{className:"jr-card lrls-bottom",key:"component"},i.a.createElement("div",{className:"hx-title lrls-type"},i.a.createElement("span",null,"\u5173\u8054\u6838\u9500"),i.a.createElement("span",{className:"lrls-placeholder",onClick:function(){d(E.changeLrlsData(["views","showJrPage"],!0))}},"\u5f85\u6838\u9500",l>=0?"\u6536":"\u4ed8","\u6b3e\u91d1\u989d\uff1a",i.a.createElement(o.a,{showZero:!0},Math.abs(Number(l)))," ",i.a.createElement(o.l,{type:"arrow-right"}))),r.map((function(e,t){if(e.get("beSelect"))return i.a.createElement("div",{key:t,className:"hx-top-line"},i.a.createElement("div",{className:"jr-item"},i.a.createElement("div",{className:"overElli"},e.get("categoryName")),e.get("beOpened")?i.a.createElement("span",null,"\u671f\u521d\u503c"):i.a.createElement("div",null,e.get("jrIndex"),"  \u53f7")),i.a.createElement("div",{className:"jr-item"},i.a.createElement("div",null,"credit"==e.get("direction")?"\u8d37\u65b9\u53d1\u751f":"\u501f\u65b9\u53d1\u751f"),i.a.createElement("div",null,i.a.createElement(o.a,{showZero:!0,className:"hx-bold"},e.get("amount")))))}))));break;case"LB_JZCB":C&&(L=i.a.createElement(o.r,{className:"jr-card lrls-bottom",key:"component"},i.a.createElement("div",{className:"hx-title lrls-type"},i.a.createElement("span",null,"\u5173\u8054\u6838\u9500"),i.a.createElement("span",{className:"lrls-placeholder",onClick:function(){d(E.changeLrlsData(["views","showJrPage"],!0))}},"STATE_YYSR_XS"===n?"\u6536\u5165\u91d1\u989d\u5408\u8ba1\uff1a":"\u9000\u9500\u91d1\u989d\u5408\u8ba1\uff1a",i.a.createElement(o.a,{showZero:!0},l)," ",i.a.createElement(o.l,{type:"arrow-right"}))),r.map((function(e,t){if(e.get("beSelect")){e.get("isOpenedQuantity");var a=e.get("unitCardName")?e.get("unitCardName"):"",n=e.get("quantity")?e.get("quantity"):0;return i.a.createElement("div",{key:t,className:"hx-top-line"},i.a.createElement("div",{className:"jr-item"},i.a.createElement("div",{className:"overElli"},e.get("categoryName")),i.a.createElement("div",null,e.get("jrIndex")," \u53f7")),i.a.createElement("div",{className:"jr-item"},i.a.createElement("div",{className:"overElli"},e.get("stockCardCode")," ",e.get("stockCardName"),n?"(\u6570\u91cf:".concat(n).concat(a,")"):null),i.a.createElement("div",null,i.a.createElement(o.a,{className:"hx-bold",showZero:!0},Math.abs(e.get("amount"))))))}}))));break;case"LB_GGFYFT":f=!0,y="\u5f85\u5206\u644a\u91d1\u989d",v="categoryName";break;case"LB_XMJZ":if((f=r.size>0)&&["STATE_XMJZ_JZRK","STATE_XMJZ_QRSRCB"].includes(n)){var N="\u5f85\u5165\u5e93\u91d1\u989d\uff1a";"STATE_XMJZ_QRSRCB"==n&&(N="\u5f85\u786e\u8ba4\u5408\u540c\u6bdb\u5229\uff1a"),L=i.a.createElement(o.r,{className:"lrls-card lrls-type",key:"component"},i.a.createElement("span",null,l?N:null,i.a.createElement(o.a,null,l)),i.a.createElement("span",{className:"lrls-placeholder",onClick:function(){d(E.changeLrlsData(["views","showJrPage"],!0))}},"\u67e5\u770b\u8be6\u60c5 ",i.a.createElement(o.l,{type:"arrow-right"})))}if(f&&"STATE_XMJZ_XMJQ"==n){var T="\u53d1\u751f\u91d1\u989d:",_="\u5df2\u5165\u5e93\u91d1\u989d:",j="\u5f85\u5165\u5e93\u91d1\u989d\uff1a",O=0,A=0,k=!1;"XZ_CONSTRUCTION"==p&&(T="\u501f\u65b9\u91d1\u989d:",_="\u8d37\u65b9\u91d1\u989d:",j="\u5f85\u786e\u8ba4\u5408\u540c\u6bdb\u5229\uff1a",k=!0),L=i.a.createElement(o.r,{className:"jr-card lrls-bottom",key:"component"},i.a.createElement("div",{className:"hx-title lrls-type"},i.a.createElement("span",null,"\u5173\u8054\u6838\u9500"),i.a.createElement("span",{className:"lrls-placeholder"},l?j:null,i.a.createElement(o.a,null,l))),r.map((function(e,t){var a=e.get("happenAmount"),n=e.get("storeAmount"),r=e.get("direction");return"XZ_CONSTRUCTION"==p&&(T="debit"==e.get("direction")?"\u5f85\u786e\u8ba4\u6536\u5165":"\u5df2\u786e\u8ba4\u6536\u5165",_="debit"==e.get("direction")?"\u5f85\u786e\u8ba4\u6210\u672c":"\u5df2\u786e\u8ba4\u6210\u672c","debit"==r&&(a&&(O+=Number(a)),n&&(A+=Number(n))),"credit"==r&&(a&&(O-=Number(a)),n&&(A-=Number(n)))),i.a.createElement("div",{key:t,className:"hx-top-line"},i.a.createElement("div",{className:"jr-item jr-line"},i.a.createElement("span",null,e.get("beOpened")?"\u671f\u521d\u503c":"".concat(e.get("jrIndex"),"\u53f7")),i.a.createElement("span",{className:"lrls-placeholder"},e.get("oriDate"))),i.a.createElement("div",{className:"jr-item"},i.a.createElement("div",{className:"overElli"},e.get("categoryName"))),i.a.createElement("div",{className:"jr-item"},i.a.createElement("span",{className:"overElli"},e.get("oriAbstract"))),i.a.createElement("div",{className:"jr-item"},i.a.createElement("div",null,a?T:null," ",i.a.createElement(o.a,{className:"hx-bold"},a)),i.a.createElement("div",null,n?_:null," ",i.a.createElement(o.a,{className:"hx-bold"},n))))})),k?i.a.createElement("div",{className:"hx-title lrls-type hx-top-line"},i.a.createElement("span",null,"\u5f85\u786e\u8ba4\u6536\u5165\u51c0\u989d ",i.a.createElement(o.a,{showZero:!0},Object(S.l)(O))),i.a.createElement("span",null,"\u5f85\u786e\u8ba4\u6210\u672c\u51c0\u989d ",i.a.createElement(o.a,{showZero:!0},Object(S.l)(A)))):null)}}!L&&f&&C&&(L=i.a.createElement(o.r,{className:"jr-card lrls-bottom",key:"component"},i.a.createElement("div",{className:"hx-title lrls-type"},i.a.createElement("span",null,"\u5173\u8054\u6838\u9500"),i.a.createElement("span",{className:"lrls-placeholder",onClick:function(){d(E.changeLrlsData(["views","showJrPage"],!0))}},y,"\uff1a",i.a.createElement(o.a,{showZero:!0},"LB_XCZC"==a?Math.abs(l):l)," ",i.a.createElement(o.l,{type:"arrow-right"}))),r.map((function(e,t){if(e.get("beSelect"))return i.a.createElement("div",{key:t,className:"hx-top-line"},i.a.createElement("div",{className:"jr-item"},i.a.createElement("div",null,e.get("beOpened")?"\u671f\u521d\u503c":"".concat(e.get("jrIndex"),"\u53f7")),i.a.createElement("div",null,e.get("oriDate"))),i.a.createElement("div",{className:"jr-item"},i.a.createElement("div",{className:"overElli"},e.get(v)?e.get(v):b),i.a.createElement("div",null,i.a.createElement(o.a,{showZero:!0,className:"hx-bold"},e.get("notHandleAmount")))))}))));var I=null;if(u.size&&!g){var J=0,Z=i.a.createElement("div",{style:{display:h?"":"none"}},u.map((function(e,t){return J+=e.get("handleAmount"),i.a.createElement("div",{key:t,className:"hx-top-line"},i.a.createElement("div",{className:"jr-item"},i.a.createElement("div",null,e.get("jrIndex"),"\u53f7"),i.a.createElement("div",null,e.get("oriDate"))),i.a.createElement("div",{className:"jr-item"},i.a.createElement("div",null,e.get("jrJvTypeName")),i.a.createElement("div",null,i.a.createElement(o.a,{className:"hx-bold"},e.get("handleAmount")))))})));I=i.a.createElement(o.r,{className:"jr-card lrls-bottom",key:"strongComponent"},i.a.createElement("div",{className:"jr-item",onClick:function(){return e.setState({showList:!h})}},i.a.createElement("div",null,"\u6838\u9500\u603b\u8ba1\uff1a",i.a.createElement(o.a,{showZero:!0},J)),i.a.createElement("div",null,h?"\u6536\u8d77":"\u5c55\u5f00",i.a.createElement(o.l,{style:h?{transform:"rotate(180deg)"}:"",type:"arrow-down"}))),Z)}var D=[];return D.push(L),D.push(I),D}}]),a}(s.Component),oe=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props,t=e.dispatch,a=e.categoryType,n=e.disabled,r=e.handleType,l=!1,c=[],s="";switch(a){case"LB_JK":l=!0,c=[{key:"\u53d6\u5f97\u501f\u6b3e",value:"JR_HANDLE_QDJK"},{key:"\u507f\u8fd8\u5229\u606f",value:"JR_HANDLE_CHLX"},{key:"\u507f\u8fd8\u672c\u91d1",value:"JR_HANDLE_CHBJ"}],s={JR_HANDLE_QDJK:"\u53d6\u5f97\u501f\u6b3e",JR_HANDLE_CHLX:"\u507f\u8fd8\u5229\u606f",JR_HANDLE_CHBJ:"\u507f\u8fd8\u672c\u91d1"}[r];break;case"LB_TZ":l=!0,c=[{key:"\u5bf9\u5916\u6295\u8d44",value:"JR_HANDLE_DWTZ"},{key:"\u53d6\u5f97\u6536\u76ca",value:"JR_HANDLE_QDSY"},{key:"\u6536\u56de\u6295\u8d44",value:"JR_HANDLE_SHTZ"}],s={JR_HANDLE_DWTZ:"\u5bf9\u5916\u6295\u8d44",JR_HANDLE_QDSY:"\u53d6\u5f97\u6536\u76ca",JR_HANDLE_SHTZ:"\u6536\u56de\u6295\u8d44"}[r];break;case"LB_ZB":l=!0,c=[{key:"\u5b9e\u6536\u8d44\u672c",value:"JR_HANDLE_ZZ"},{key:"\u8d44\u672c\u6ea2\u4ef7",value:"JR_HANDLE_ZBYJ"},{key:"\u5229\u6da6\u5206\u914d",value:"JR_HANDLE_LRFP"},{key:"\u51cf\u8d44",value:"JR_HANDLE_JZ"}],s={JR_HANDLE_ZZ:"\u5b9e\u6536\u8d44\u672c",JR_HANDLE_LRFP:"\u5229\u6da6\u5206\u914d",JR_HANDLE_JZ:"\u51cf\u8d44",JR_HANDLE_ZBYJ:"\u8d44\u672c\u6ea2\u4ef7"}[r];break;case"LB_CQZC":l=!0,c=[{key:"\u8d2d\u8fdb\u8d44\u4ea7",value:"JR_HANDLE_GJ"},{key:"\u5904\u7f6e",value:"JR_HANDLE_CZ"}],s={JR_HANDLE_GJ:"\u8d2d\u8fdb\u8d44\u4ea7",JR_HANDLE_CZ:"\u5904\u7f6e"}[r]}return l?i.a.createElement("div",{className:"lrls-more-card lrls-margin-top"},i.a.createElement("label",null,"\u5904\u7406\u7c7b\u578b:"),i.a.createElement(o.u,{className:"lrls-single",disabled:n,district:c,value:r,onOk:function(e){t(E.changeHandleType(e.value))}},i.a.createElement(o.r,{className:"lrls-padding lrls-category"},i.a.createElement("span",null,s),i.a.createElement(o.l,{type:"triangle",style:{color:n?"#ccc":""}})))):null}}]),a}(s.Component),me=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props,t=e.dispatch,a=e.categoryType,n=e.disabled,r=e.categoryList,l=e.uuid,c=e.name,s=(e.beProject,e.showJzcb),m=e.oriState,u=!1,d=null,g=r.toJS();switch(function e(t){t.forEach((function(t){t.key=t.uuid,t.label=t.name,t.childList.length&&e(t.childList)}))}(g),a){case"LB_JZSY":u=!0,d=function(e){t(E.changeLrlsData(["oriTemp","relationCategoryUuid"],e.uuid)),t(E.changeLrlsData(["oriTemp","relationCategoryName"],e.name)),t(E.changeLrlsData(["oriTemp","beProject"],e.beProject)),t(E.changeLrlsData(["oriTemp","usedProject"],e.beProject)),t(E.changeLrlsData(["oriTemp","projectRange"],Object(p.fromJS)(e.projectRange))),t(E.changeLrlsData(["oriTemp","projectCardList"],Object(p.fromJS)([{amount:""}]))),t(E.getJzsyList()),e.beProject&&(t(E.getProjectCardList(e.projectRange)),t(E.getProjectTreeList()))};break;case"LB_ZJTX":u=!0,d=function(e){t(E.zjtxSelectCategory(Object(p.fromJS)(e))),t(E.changeLrlsData(["oriTemp","projectRange"],Object(p.fromJS)(e.projectRange))),e.beProject&&(t(E.getProjectCardList(e.projectRange)),t(E.getProjectTreeList()))};break;case"LB_JZCB":u=s,d=function(e){if(t(E.changeLrlsData(["oriTemp","relationCategoryUuid"],e.uuid)),t(E.changeLrlsData(["oriTemp","relationCategoryName"],e.name)),t(E.changeLrlsData(["oriTemp","relationCategoryType"],e.categoryType)),t(E.getCostStockByCategory("",!0)),t(E.getCostStockCategory()),"STATE_YYSR_ZJ"==m){t(E.changeLrlsData(["oriTemp","beProject"],e.beProject)),t(E.changeLrlsData(["oriTemp","usedProject"],e.beProject)),t(E.changeLrlsData(["oriTemp","projectCardList"],Object(p.fromJS)([{}]))),t(E.changeLrlsData(["oriTemp","projectRange"],Object(p.fromJS)(e.projectRange))),t(E.changeLrlsData(["oriTemp","propertyCostList"],Object(p.fromJS)(e.propertyCostList))),e.beProject&&(t(E.getProjectCardList(e.projectRange)),t(E.getProjectTreeList()));var a="";e.propertyCostList&&e.propertyCostList.length>0&&(a=e.propertyCostList[0]),t(E.changeLrlsData(["oriTemp","propertyCost"],a))}else t(E.changeLrlsData(["oriTemp","usedProject"],!1))};break;case"LB_JXSEZC":u=!0,d=function(e){t(E.changeHandleCategory(e))}}return u?i.a.createElement(o.r,{className:s?"lrls-more-card":"lrls-more-card lrls-margin-top"},i.a.createElement("label",null,"\u5904\u7406\u7c7b\u522b: "),i.a.createElement("div",{className:"antd-single-picker"},i.a.createElement(o.f,{district:g,parentDisabled:!0,value:l,disabled:n,onChange:function(e){d(e)}},i.a.createElement(o.r,{className:"lrls-padding lrls-category",onClick:function(e){return 0==r.size&&["LB_JZSY","LB_ZJTX"].includes(a)?(e.stopPropagation(),T.a.toast.info("\u65e0\u5904\u7406\u7c7b\u522b\uff0c\u8bf7\u5728\u6d41\u6c34\u8bbe\u7f6e-\u957f\u671f\u8d44\u4ea7\u4e2d\u65b0\u5efa",2)):0==r.size&&s?(e.stopPropagation(),T.a.toast.info("\u65e0\u5339\u914d\u7684\u5904\u7406\u7c7b\u522b",2)):void 0}},i.a.createElement("span",{className:"\u8bf7\u9009\u62e9\u5904\u7406\u7c7b\u522b"==c?"lrls-placeholder":""},c),i.a.createElement(o.l,{type:"triangle",style:{color:n?"#ccc":""}}))))):null}}]),a}(s.Component),ue=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).costList=function(e){var t=[];return e.forEach((function(e){"XZ_SALE"==e?t.push({key:"\u9500\u552e\u8d39\u7528",value:"XZ_SALE"}):"XZ_MANAGE"==e?t.push({key:"\u7ba1\u7406\u8d39\u7528",value:"XZ_MANAGE"}):"XZ_FINANCE"==e&&t.push({key:"\u8d22\u52a1\u8d39\u7528",value:"XZ_FINANCE"})})),t},e}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props,t=e.dispatch,a=e.categoryType,n=e.oriState,r=e.propertyCostList,l=e.propertyCost,c=(e.beAccrued,e.hasSelect),s=e.isHandleCategory,m=r?this.costList(r.toJS()):[],u="\u8bf7\u9009\u62e9\u8d39\u7528\u6027\u8d28";l&&(u={XZ_SALE:"\u9500\u552e\u8d39\u7528",XZ_MANAGE:"\u7ba1\u7406\u8d39\u7528",XZ_FINANCE:"\u8d22\u52a1\u8d39\u7528",XZ_SCCB:"\u751f\u4ea7\u6210\u672c",XZ_FZSCCB:"\u8f85\u52a9\u751f\u4ea7\u6210\u672c",XZ_ZZFY:"\u5236\u9020\u8d39\u7528",XZ_HTCB:"\u5408\u540c\u6210\u672c",XZ_JJFY:"\u95f4\u63a5\u8d39\u7528",XZ_JXZY:"\u673a\u68b0\u4f5c\u4e1a"}[l]);var d=!1;switch(a){case"LB_FYZC":d=m.length>1&&"STATE_FY_DJ"!=n,s&&(d=!1);break;case"LB_XCZC":d=(!c||!["STATE_XC_FF","STATE_XC_JN"].includes(n))&&m.length>1,["STATE_XC_DK","STATE_XC_DJ"].includes(n)&&(d=!1),s&&(d=!1);break;case"LB_ZJTX":d=!!(s&&m.length>1);break;case"LB_JZCB":d=!!(s&&"STATE_YYSR_ZJ"==n&&m.length>1);break;case"LB_JXSEZC":d=m.length>1,s&&(d=!1)}return d?i.a.createElement(o.r,{className:s?"lrls-more-card lrls-margin-top lrls-bottom":"lrls-more-card lrls-margin-top"},i.a.createElement("label",null,"\u8d39\u7528\u6027\u8d28: "),i.a.createElement(o.u,{className:"lrls-single",district:m,value:l,disabled:["XZ_SCCB","XZ_FZSCCB","XZ_ZZFY","XZ_HTCB","XZ_JJFY","XZ_JXZY"].includes(l),onOk:function(e){t(E.changeLrlsData(["oriTemp","propertyCost"],e.value))}},i.a.createElement(o.r,{className:"lrls-padding lrls-category"},i.a.createElement("span",{className:["\u8bf7\u9009\u62e9\u8d39\u7528\u6027\u8d28","\u751f\u4ea7\u6210\u672c","\u8f85\u52a9\u751f\u4ea7\u6210\u672c","\u5236\u9020\u8d39\u7528","\u5408\u540c\u6210\u672c","\u95f4\u63a5\u8d39\u7528","\u673a\u68b0\u4f5c\u4e1a"].includes(u)?"lrls-placeholder":""},u),i.a.createElement(o.l,{type:"triangle"})))):null}}]),a}(s.Component),de=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props,t=e.dispatch,a=e.beCarryover,n=e.stockCardList,r=e.carryoverCardList,l=e.isOpenedWarehouse,c=e.isCopy,s=0,m=[];return i.a.createElement(o.r,{className:"lrls-card"},i.a.createElement(o.r,{className:"lrls-more-card"},i.a.createElement("span",null,"\u7ed3\u8f6c\u6210\u672c"),i.a.createElement("div",{className:"noTextSwitch"},i.a.createElement(o.w,{checked:a,onClick:function(){t(E.changeLrlsData(["oriTemp","beCarryover"],!a)),c&&!a&&t(E.changeLrlsData(["oriTemp","carryoverCardList"],n.map((function(e){return e.set("amount","")}))))}}))),i.a.createElement("div",{style:{display:a?"":"none"}},n.map((function(e,a){var n=e.get("cardUuid"),c=e.get("warehouseCardUuid")?e.get("warehouseCardUuid"):"",u=e.get("batch")?e.get("batch"):"",d=e.get("assistList")?e.get("assistList").toJS().map((function(e){return e.propertyUuid})).sort():[],g="".concat(n,"_").concat(c,"_").concat(u,"_").concat(d.join("_"));if(m.includes(g))return null;m.push(g),s++;var h=e.getIn(["financialInfo","openAssist"]),f=(e.getIn(["financialInfo","openSerial"]),e.getIn(["financialInfo","openBatch"])),y=(e.getIn(["financialInfo","openShelfLife"]),(e.get("assistList")?e.get("assistList"):Object(p.fromJS)([])).reduce((function(e,t){return"".concat(e).concat(e?";":"").concat(t.get("propertyName"))}),"")),b=e.get("expirationDate")?e.get("expirationDate"):"",v=b?"".concat(u,"(").concat(b,")"):u;return i.a.createElement("div",{key:a,className:"lrls-bottom-line lrls-margin-bottom"},i.a.createElement(o.r,{className:"lrls-more-card lrls-placeholder lrls-card-bottom"},i.a.createElement("span",null,"\u5b58\u8d27\u660e\u7ec6(",s,")\uff1a")),i.a.createElement("div",{className:"lrls-single"},i.a.createElement(o.r,{className:"lrls-more-card lrls-card-bottom"},i.a.createElement("div",{className:"lrls-single overElli lrls-padding-right"},i.a.createElement("span",null,"\u5b58\u8d27:"),i.a.createElement("span",{className:n?"":"lrls-placeholder"},n?"".concat(e.get("code")," ").concat(e.get("name")):" \u672a\u9009\u62e9")),i.a.createElement("div",{className:"lrls-single overElli lrls-padding-right",style:{display:l?"":"none"}},i.a.createElement("span",null,"\u4ed3\u5e93:"),i.a.createElement("span",{className:c?"":"lrls-placeholder"},c?"".concat(e.get("warehouseCardCode")," ").concat(e.get("warehouseCardName")):" \u672a\u9009\u62e9"))),i.a.createElement(o.r,{className:"lrls-more-card lrls-card-bottom",style:{display:h||f?"":"none"}},h?i.a.createElement("div",{className:"lrls-single overElli lrls-padding-right"},i.a.createElement("span",null,"\u5c5e\u6027\uff1a"),i.a.createElement("span",{className:y?"":"lrls-placeholder"},y||" \u672a\u9009\u62e9")):null,f?i.a.createElement("div",{className:"lrls-single overElli lrls-padding-right"},i.a.createElement("span",null,"\u6279\u6b21\uff1a"),i.a.createElement("span",{className:v?"":"lrls-placeholder"},v||" \u672a\u9009\u62e9")):null),i.a.createElement(o.r,{className:"lrls-more-card lrls-card-bottom"},i.a.createElement("label",null,"\u91d1\u989d:"),i.a.createElement(o.E.BorderInputItem,{mode:"amount",disabled:!e.get("cardUuid"),placeholder:"\u586b\u5199\u6210\u672c\u91d1\u989d",value:r.getIn([a,"amount"]),onChange:function(e){t(E.changeYysrStockCard("carryoverCardList",e,a))}}))))}))))}}]),a}(s.Component),pe={decimalZero:!1,decimalPlaces:4},ge=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).state={isAll:!0,visible:!1,idx:-1,categoryValue:"ALL"},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.props.dispatch(E.changeLrlsData("commonCardList",Object(p.fromJS)([]),!0))}},{key:"componentWillReceiveProps",value:function(e){this.props.categoryType!=e.categoryType&&this.setState({categoryValue:"ALL",isAll:!0})}},{key:"render",value:function(){var e=this,t=this.props,a=t.dispatch,n=t.stockList,r=t.stockCardList,l=t.cardDisabled,c=t.stockRange,s=(t.categoryType,t.history),m=t.propertyCarryover,u=t.usedStock,d=t.isOpenedWarehouse,g=(t.warehouseList,t.allStockRange),h=t.commonCardList,y=this.state,b=y.isAll,v=y.visible,L=y.idx,S=y.categoryValue,C=0,N=1==r.size;r.forEach((function(e){return C+=Number(e.get("amount"))}));var T=function(e,t,n){return a(E.changeYysrStockCard(e,t,n))},_=!("SX_HW_FW"!=m||!c.size),j=[{uuid:"ALL",name:"\u5168\u90e8",childList:[]}];g.map((function(e){c.includes(e.get("uuid"))&&j.push(e.toJS())})),function e(t){t.forEach((function(t){t.key=t.uuid,t.label=t.name,t.childList.length&&e(t.childList)}))}(j);var O=b?n.toJS():h;return O.map((function(e){e.name=e.key})),i.a.createElement("div",{className:c.size?"lrls-card":""},i.a.createElement(o.r,{className:"lrls-more-card",style:{display:_&&!u?"":"none"}},i.a.createElement("span",null,u?"\u5b58\u8d27\uff1a":"\u5b58\u8d27"),i.a.createElement("div",{className:"noTextSwitch"},i.a.createElement(o.w,{checked:u,onClick:function(){a(E.changeLrlsData(["oriTemp","usedStock"],!u)),0==r.size&&T("add","",0)}}))),i.a.createElement(o.f,{visible:v,type:"card",multiSelect:!0,title:"\u8bf7\u9009\u62e9\u5b58\u8d27",icon:{type:"inventory-add",onClick:function(){a(f.b(c,s))}},district:j,cardList:O,value:S,onChange:function(t){e.setState({categoryValue:t.key}),"ALL"!=t.key?(e.setState({isAll:!1}),a(E.getStockListByCategory(t))):e.setState({isAll:!0})},onOk:function(e){e.length&&T("card",e,L)},onCancel:function(){e.setState({visible:!1})}},i.a.createElement("span",null)),i.a.createElement("div",{style:{display:"SX_HW"==m||u?"":"none"}},r.map((function(e,t){var n=e.get("isOpenedQuantity"),r=e.get("cardUuid"),c=e.get("warehouseCardUuid"),m=e.get("quantity")?Number(e.get("quantity")):0,u=e.get("price")?Number(e.get("price")):0,g=e.get("amount")?Number(e.get("amount")):0,h=e.getIn(["financialInfo","openAssist"]),f=e.getIn(["financialInfo","openSerial"]),y=e.getIn(["financialInfo","openBatch"]),b=(e.getIn(["financialInfo","openShelfLife"]),(e.get("assistList")?e.get("assistList"):Object(p.fromJS)([])).reduce((function(e,t){return"".concat(e).concat(e?";":"").concat(t.get("propertyName"))}),"")),v=e.get("batch")?e.get("batch"):"",L=e.get("expirationDate")?e.get("expirationDate"):"",S=L?"".concat(v,"(").concat(L,")"):v;return i.a.createElement("div",{key:t,className:"lrls-bottom-line lrls-card-bottom"},i.a.createElement("div",{className:"lrls-more-card lrls-placeholder lrls-card-bottom"},i.a.createElement("span",null,"\u5b58\u8d27\u660e\u7ec6(",t+1,")"),i.a.createElement("span",{className:l?"lrls-placeholder":"lrls-blue",style:{display:N?"none":""},onClick:function(){var n;l||(T("delete","",t),n=C-Number(e.get("amount")),a(E.changeLrlsAmount(n)))}},"\u5220\u9664")),i.a.createElement("div",{className:"lrls-more-card",onClick:function(){a(E.changeLrlsData(["views","idx"],t)),s.push("/editrunning/stock")}},i.a.createElement("div",{className:"lrls-single"},i.a.createElement(o.r,{className:"lrls-more-card lrls-card-bottom"},i.a.createElement("div",{className:"lrls-single overElli lrls-padding-right"},i.a.createElement("span",null,"\u5b58\u8d27:"),i.a.createElement("span",{className:r?"":"lrls-placeholder"},r?"".concat(e.get("code")," ").concat(e.get("name")):" \u672a\u9009\u62e9")),i.a.createElement("div",{className:"lrls-single overElli lrls-padding-right",style:{display:d?"":"none"}},i.a.createElement("span",null,"\u4ed3\u5e93:"),i.a.createElement("span",{className:c?"":"lrls-placeholder"},c?"".concat(e.get("warehouseCardCode")," ").concat(e.get("warehouseCardName")):" \u672a\u9009\u62e9"))),i.a.createElement(o.r,{className:"lrls-more-card lrls-card-bottom",style:{display:h||y?"":"none"}},h?i.a.createElement("div",{className:"lrls-single overElli lrls-padding-right"},i.a.createElement("span",null,"\u5c5e\u6027:"),i.a.createElement("span",{className:b?"":"lrls-placeholder"},b||" \u672a\u9009\u62e9")):null,y?i.a.createElement("div",{className:"lrls-single overElli lrls-padding-right"},i.a.createElement("span",null,"\u6279\u6b21:"),i.a.createElement("span",{className:S?"":"lrls-placeholder"},S||" \u672a\u9009\u62e9")):null),i.a.createElement(o.r,{className:"lrls-more-card lrls-card-bottom"},i.a.createElement("div",{style:{display:n?"":"none"},className:"lrls-padding-right lrls-one-third"},i.a.createElement("span",{className:f?"sn":""},"\u6570\u91cf:"),i.a.createElement(o.a,pe,m),i.a.createElement("span",null,e.get("unitUuid")?e.get("unitName"):null)),i.a.createElement("div",{style:{display:n?"":"none"},className:"lrls-single overElli lrls-padding-right"},i.a.createElement("span",null,"\u5355\u4ef7:"),i.a.createElement(o.a,pe,u)),i.a.createElement("div",{className:"lrls-padding-right lrls-one-third"},i.a.createElement("span",null,"\u91d1\u989d:"),i.a.createElement(o.a,null,g)))),i.a.createElement(o.l,{type:"arrow-right"})))}))),i.a.createElement("div",{className:"lrls-more-card lrls-margin-top",style:{display:"SX_HW"==m||u?"":"none",fontWeight:"bold"}},r.size>1?i.a.createElement("div",null,"\u603b\u91d1\u989d\uff1a",i.a.createElement(o.a,{showZero:!0},C)):i.a.createElement("div",null),i.a.createElement("div",{className:"lrls-stock-bottom"},i.a.createElement("div",{className:l?"lrls-placeholder":"lrls-blue",onClick:function(){l||e.setState({visible:!0,idx:r.size})}},"+\u6dfb\u52a0\u5b58\u8d27\u660e\u7ec6"),i.a.createElement("div",{className:"noTextSwitch",style:{display:_&&u?"":"none"}},i.a.createElement(o.w,{disabled:l,checked:u,onClick:function(){a(E.changeLrlsData(["oriTemp","usedStock"],!u))}})))))}}]),a}(s.Component),he=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).state={isAll:!0,categoryValue:"ALL"},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.props.dispatch(E.changeLrlsData("commonProjectList",Object(p.fromJS)([]),!0))}},{key:"componentWillReceiveProps",value:function(e){this.props.categoryType!=e.categoryType&&this.setState({categoryValue:"ALL",isAll:!0})}},{key:"render",value:function(){var e=this,t=this.props,a=t.dispatch,n=t.isModify,r=t.categoryType,l=t.oriState,c=t.usedProject,s=t.projectCardList,m=t.projectList,u=(t.propertyPay,t.history),d=t.projectRange,p=t.projectCategoryList,g=t.commonProjectList,h=t.propertyCarryover,y=t.propertyCostList,b=t.handleType,v=t.showXmjz,L=t.relationCategoryType,S=this.state,C=S.isAll,N=S.categoryValue,T=!1,_=!1,j=!1,O=!0,A=!1,k=!0;switch(r){case"LB_YYSR":T=["STATE_YYSR_XS","STATE_YYSR_TS"].includes(l);break;case"LB_YYZC":_="SX_FW"==h,j="SX_FW"==h,T="SX_FW"==h&&["STATE_YYZC_GJ","STATE_YYZC_TG"].includes(l);break;case"LB_FYZC":T="STATE_FY_DJ"!=l,_=!0,j=!0;break;case"LB_XCZC":_=!0,j=!0,T=!0;break;case"LB_JK":T=!0,_="JR_HANDLE_CHLX"==b,j="JR_HANDLE_CHLX"==b;break;case"LB_ZJTX":T=!0,k=!1,_=!0,j=!0;break;case"LB_JZSY":k=!1;break;case"LB_JZCB":k=!1,T=!0,j="LB_FYZC"==L,_="LB_FYZC"==L;break;case"LB_JXSEZC":k=!1;break;case"LB_CHTRXM":k=!1,O=!1,_=!0,j=!0;break;case"LB_XMJZ":if(k=!1,O=!1,_=!1,A=!!n,!v)return null}var I=[{uuid:"ALL",name:"\u5168\u90e8",childList:[]}];p&&p.map((function(e){if(d.includes(e.get("uuid"))){if(["LB_CQZC","LB_JZSY"].includes(r)&&["\u751f\u4ea7\u9879\u76ee","\u65bd\u5de5\u9879\u76ee"].includes(e.get("name")))return;I.push(e.toJS())}["LB_CHTRXM","LB_XMJZ"].includes(r)&&I.push(e.toJS())})),function e(t){t.forEach((function(t){t.key=t.uuid,t.label=t.name,t.childList.length&&e(t.childList)}))}(I);var J=C?m.toJS():g.toJS();J.map((function(e){e.name=e.key})),J=J.filter((function(e){var t=!0;return!T&&e.value.includes("COMNCRD")&&(t=!1),_||!e.value.includes("ASSIST")&&!e.value.includes("MAKE")||(t=!1),j||!e.value.includes("INDIRECT")&&!e.value.includes("MECHANICAL")||(t=!1),["LB_CQZC","LB_JZSY"].includes(r)&&["XZ_PRODUCE","XZ_CONSTRUCTION"].includes(e.projectProperty)&&(t=!1),t}));var Z=s.getIn([0,"cardUuid"]),D=s.getIn([0,"code"]),w=s.getIn([0,"name"]),U=s.getIn([0,"projectProperty"]),B="".concat(D," ").concat(w);return["COMNCRD","ASSIST","MAKE","INDIRECT","MECHANICAL"].includes(D)&&(B=w),i.a.createElement(o.r,{className:v?"lrls-more-card lrls-margin-top":"lrls-card lrls-more-card",style:{height:v?"":".45rem"}},i.a.createElement("label",null,c?"\u9879\u76ee:":"\u9879\u76ee"),c?i.a.createElement(o.f,{className:"lrls-single",type:"card",disabled:A,title:"\u8bf7\u9009\u62e9\u9879\u76ee",icon:k?{type:"project-add",onClick:function(){a(f.d(u))}}:null,district:I,cardList:J,value:N,cardValue:[Z],onChange:function(t){e.setState({categoryValue:t.key}),"ALL"!=t.key?(e.setState({isAll:!1}),a(E.getProjectListByCategory(t))):e.setState({isAll:!0})},onOk:function(e){if(0!=e.length){if(a(E.changeProjectCard("card",e[0],0)),"XZ_PRODUCE"==e[0].projectProperty){var t="XZ_SCCB";"ASSIST"==e[0].code&&(t="XZ_FZSCCB"),"MAKE"==e[0].code&&(t="XZ_ZZFY"),a(E.changeLrlsData(["oriTemp","propertyCost"],t))}else if("XZ_CONSTRUCTION"==e[0].projectProperty){var n="XZ_HTCB";"INDIRECT"==e[0].code&&(n="XZ_JJFY"),"MECHANICAL"==e[0].code&&(n="XZ_JXZY"),a(E.changeLrlsData(["oriTemp","propertyCost"],n))}else c&&y&&y.size&&a(E.changeLrlsData(["oriTemp","propertyCost"],y.get(0)));"LB_XMJZ"==r&&("XZ_CONSTRUCTION"==e[0].projectProperty&&"STATE_XMJZ_JZRK"==l&&a(E.changeLrlsOriState("STATE_XMJZ_QRSRCB")),"XZ_PRODUCE"==e[0].projectProperty&&"STATE_XMJZ_QRSRCB"==l&&a(E.changeLrlsOriState("STATE_XMJZ_JZRK")),a(E.getXmjzList()))}}},i.a.createElement(o.r,{className:"lrls-category lrls-padding"},Z?i.a.createElement("span",{className:A?"lrls-placeholder":""}," ",B," "):i.a.createElement("span",{className:"lrls-placeholder"},"\u70b9\u51fb\u9009\u62e9\u9879\u76ee\u5361\u7247"),i.a.createElement(o.l,{type:"triangle",style:{color:A?"#ccc":""}}))):null,i.a.createElement("div",{className:"noTextSwitch",style:{marginLeft:"6px",display:O?"":"none"}},i.a.createElement(o.w,{checked:c,onClick:function(){if(a(E.changeLrlsData(["oriTemp","usedProject"],!c)),c&&y&&y.size&&a(E.changeLrlsData(["oriTemp","propertyCost"],y.get(0))),!c&&"XZ_PRODUCE"==U){var e="XZ_SCCB";"ASSIST"==D&&(e="XZ_FZSCCB"),"MAKE"==D&&(e="XZ_ZZFY"),a(E.changeLrlsData(["oriTemp","propertyCost"],e))}}})))}}]),a}(s.Component),Ee=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).state={isAll:!0,categoryValue:"ALL"},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.props.dispatch(E.changeLrlsData("commonCurrentList",Object(p.fromJS)([]),!0))}},{key:"componentWillReceiveProps",value:function(e){this.props.categoryType!=e.categoryType&&this.setState({categoryValue:"ALL",isAll:!0})}},{key:"render",value:function(){var e=this,t=this.props,a=t.history,n=t.dispatch,r=t.oriState,l=t.isModify,c=t.categoryType,s=t.usedCurrent,m=t.currentList,u=t.contactsRange,d=t.currentCardList,p=t.strongListSize,g=t.stockStrongListSize,h=t.oriUsedCurrent,y=t.allContactsRange,b=t.commonCurrentList,v=t.isCopy,L=t.beAccrued,S=this.state,C=S.isAll,N=S.categoryValue,T=d.get(0),_=p,j=function(e){return n(E.changeCurrentCardList(e))},O=!0,A=function(){return null};switch(v&&(_=!1),c){case"LB_YYSR":"receive",_=p||g,v&&(_=!1),j=function(e){n(E.changeCurrentCardList(e)),l||n(E.getYysrYyzcAmount())},l||(A=function(){return n(E.getYysrYyzcAmount())});break;case"LB_YYZC":"pay",j=function(e){n(E.changeCurrentCardList(e)),l||n(E.getYysrYyzcAmount())},l||(A=function(){return n(E.getYysrYyzcAmount())});break;case"LB_FYZC":j=function(e){n(E.changeCurrentCardList(e)),l||n(E.getYysrYyzcAmount())},l||(A=function(){return n(E.getYysrYyzcAmount())});break;case"LB_ZSKX":j=function(e){n(E.changeCurrentCardList(e))},"STATE_ZS_TH"===r&&(O=!1);break;case"LB_ZFKX":j=function(e){n(E.changeCurrentCardList(e))},"STATE_ZF_SH"===r&&(O=!1);break;case"LB_JK":j=function(e){n(E.changeCurrentCardList(e)),"STATE_JK_ZFLX"===r&&n(E.getJkPendingStrongList())},"STATE_JK_ZFLX"==r&&(L&&(O=!1),l&&h&&(O=!0),A=function(){return n(E.getJkPendingStrongList())});break;case"LB_TZ":j=function(e){n(E.changeCurrentCardList(e)),["STATE_TZ_SRGL","STATE_TZ_SRLX"].includes(r)&&n(E.getTzPendingStrongList())},["STATE_TZ_SRGL","STATE_TZ_SRLX"].includes(r)&&(L&&(O=!1),l&&h&&(O=!0),A=function(){return n(E.getTzPendingStrongList())});break;case"LB_ZB":j=function(e){n(E.changeCurrentCardList(e)),"STATE_ZB_ZFLR"===r&&n(E.getZbPendingStrongList())},"STATE_ZB_ZFLR"==r&&(L&&(O=!1),l&&h&&(O=!0),A=function(){return n(E.getZbPendingStrongList())});break;case"LB_SFGL":O=!1}var k=[{uuid:"ALL",name:"\u5168\u90e8",childList:[]}];y&&y.map((function(e){k.push(e.toJS())})),function e(t){t.forEach((function(t){t.key=t.uuid,t.label=t.name,t.childList.length&&e(t.childList)}))}(k);var I=C?m.toJS():b;return I.map((function(e){e.name=e.key})),i.a.createElement("div",{className:"lrls-card lrls-more-card",style:{height:".45rem",display:O?"":"none"}},i.a.createElement("label",null,s?"\u5f80\u6765\u5355\u4f4d:":"\u5f80\u6765\u5355\u4f4d"),s?i.a.createElement(o.f,{className:"lrls-single",type:"card",title:"\u8bf7\u9009\u62e9\u5f80\u6765\u5355\u4f4d",icon:{type:"current-add",onClick:function(){n(f.c(u,a))}},disabled:_,district:k,cardList:I,value:N,cardValue:[T?T.get("cardUuid"):""],onChange:function(t){e.setState({categoryValue:t.key}),"ALL"!=t.key?(e.setState({isAll:!1}),n(E.getCurrentListByCategory(t))):e.setState({isAll:!0})},onOk:function(e){0!=e.length&&j(e[0].value)}},i.a.createElement(o.r,{className:"lrls-category lrls-padding"},T?i.a.createElement("span",null," ","".concat(T.get("code")," ").concat(T.get("name"))," "):i.a.createElement("span",{className:"lrls-placeholder"},"\u70b9\u51fb\u9009\u62e9\u5f80\u6765\u5355\u4f4d"),i.a.createElement(o.l,{type:"triangle",style:{color:_?"#ccc":""}}))):null,i.a.createElement("div",{className:"noTextSwitch",style:{marginLeft:"6px",display:""}},i.a.createElement(o.w,{checked:s,disabled:_,onClick:function(){n(E.changeLrlsData(["oriTemp","usedCurrent"],!s)),A()}})))}}]),a}(s.Component),fe=(a(166),a(77),a(1035),a(1029),a(1030),function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).amountChanged=!1,e.lastAmount=0,e.funcList=[],e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=sessionStorage.getItem("routerPage");if(!["routerStock","routerSfgl","routerPoundage"].includes(e)){var t=this.props.accountPoundage;if(t.get("uuid")){var a=t.get("poundageNeedCurrent"),n=t.get("poundageNeedProject"),r=t.get("categoryUuid");(a||n)&&this.props.dispatch(E.getPoundageCategory(r,a,n))}}}},{key:"componentDidUpdate",value:function(e){var t=e.oriTemp.get("needUsedPoundage"),a=this.props.oriTemp.get("needUsedPoundage"),n=this.props.oriTemp.get("usedAccounts"),r=this.props.accounts.getIn([0,"accountUuid"]),l=!1;t!=a&&a&&(l=!0),r!=e.accounts.getIn([0,"accountUuid"])&&r&&(l=!0),(this.amountChanged||l||n)&&this.funcList.forEach((function(e){return e()}))}},{key:"array_includes",value:function(e,t){var a=new Set([].concat(Object(u.a)(e),Object(u.a)(t)));return e.length===a.size}},{key:"render",value:function(){var e=this,t=this.props,a=t.dispatch,n=t.oriTemp,r=t.accounts,l=t.accountPoundage,c=t.poundageCurrentList,s=t.poundageProjectList,m=t.contactsRange,u=t.poundageProjectRange,d=t.poundageCurrentRange,g=t.beManagemented,f=t.usedProject,y=t.usedCurrent,b=t.history,v=n.get("needUsedPoundage"),L=l.get("poundageNeedCurrent"),C=l.get("poundageNeedProject"),N=n.get("poundageCurrentCardList"),_=n.get("poundageProjectCardList"),j=n.get("projectRange")?n.get("projectRange").toJS():[],O=n.get("poundageCurrent"),A=n.get("poundageProject"),k=n.get("includesPoundage"),I=N.get(0)?N.get(0):Object(p.fromJS)({}),J=_.get(0)?_.get(0):Object(p.fromJS)({}),Z="".concat(J.get("code")," ").concat(J.get("name"));["COMNCRD","ASSIST","MAKE","INDIRECT","MECHANICAL"].includes(J.get("code"))&&(Z=J.get("name"));var D=!1,w=0,U=n.get("usedAccounts");r.forEach((function(e,t){!U&&t>0||e.getIn(["poundage","needPoundage"])&&(D=!0,w++)}));var B=!1,x=n.get("amount"),P=n.get("categoryType"),X=n.get("oriState"),R=Number(n.get("currentAmount")),Y=!1,M=0;switch(P){case"LB_YYSR":B=["STATE_YYSR_DJ","STATE_YYSR_XS"].includes(X),R&&(x=R),"STATE_YYSR_XS"==X&&g&&!R&&(B=!1,x=0);break;case"LB_YYZC":B="STATE_YYZC_TG"==X,R&&(x=R),"STATE_YYZC_TG"==X&&g&&!R&&(B=!1,x=0);break;case"LB_FYZC":x<0&&(g||(B=!0),g&&R&&(B=!0,x=R));break;case"LB_XCZC":var F=n.get("propertyPay"),H=n.get("jrAmount"),z=n.getIn(["acPayment","beAccrued"]);n.getIn(["acPayment","beWelfare"]);["STATE_XC_JN","STATE_XC_FF"].includes(X)&&(z&&"SX_GZXJ"==F&&(x=n.getIn(["payment","actualAmount"])),z&&"SX_SHBX"==F&&(x=n.getIn(["payment","companySocialSecurityAmount"])),z&&"SX_ZFGJJ"==F&&(x=n.getIn(["payment","companyAccumulationAmount"])),(H<0||x<0)&&(B=!0));break;case"LB_YYWSR":B=x>0,g&&((x=R)||(B=!1));break;case"LB_YYWZC":B=x<0,g&&((x=R)||(B=!1));break;case"LB_ZSKX":B="STATE_ZS_SQ"==X;break;case"LB_ZFKX":B="STATE_ZF_SH"==X;break;case"LB_CQZC":"JR_HANDLE_GJ"==n.get("handleType")?x<0&&(B=!0):x>0&&(B=!0),g&&((x=R)||(B=!1));break;case"LB_JK":B="STATE_JK_YS"==X;break;case"LB_TZ":B=["STATE_TZ_SRGL","STATE_TZ_SRLX","STATE_TZ_YS"].includes(X);break;case"LB_ZB":B="STATE_ZB_ZZ"==X;break;case"LB_SFGL":var G=n.getIn(["pendingManageDto","isManualWriteOff"]);if(n.get("jrAmount")>=0&&(B=!0),G)B=n.get("allHandleAmount")>=0;break;case"LB_ZZ":B=!0,Y=!0;var q=n.getIn(["accounts",0,"poundageAmount"]);M=q||0}return D&&B?(this.funcList=[],this.amountChanged=Object(S.l)(x)!=Object(S.l)(this.lastAmount),this.lastAmount=Object(S.l)(x),i.a.createElement("div",{className:"lrls-card",style:{display:D&&B?"":"none"}},i.a.createElement(o.r,{className:"lrls-more-card"},i.a.createElement("span",null,"\u8d26\u6237\u624b\u7eed\u8d39"),i.a.createElement("div",{className:"noTextSwitch",style:{display:Y?"none":""}},i.a.createElement(o.w,{checked:v,onClick:function(){a(E.changeLrlsData(["oriTemp","needUsedPoundage"],!v)),v&&(a(E.changeLrlsData(["oriTemp","poundageCurrentCardList"],Object(p.fromJS)([]))),a(E.changeLrlsData(["oriTemp","poundageProjectCardList"],Object(p.fromJS)([]))))}})),i.a.createElement("span",{className:"lrls-placeholder",style:{display:Y?"":"none"},onClick:function(){return b.push("/editrunning/poundage")}},v?"\u5df2\u542f\u7528":"\u672a\u542f\u7528"," ",i.a.createElement(o.l,{type:"arrow-right"}))),i.a.createElement("div",{style:{display:!Y&&v?"":"none"}},i.a.createElement("div",{className:"lrls-more-card margin-top-bot lrls-jzsy",style:{display:L?"":"none"}},i.a.createElement("label",null,"\u5f80\u6765\u5355\u4f4d:"),O?i.a.createElement(o.u,{className:"lrls-single",district:c.toJS(),value:I.get("cardUuid")?"".concat(I.get("cardUuid")).concat(h.B).concat(I.get("code")).concat(h.B).concat(I.get("name")):"",onOk:function(e){a(E.changeCurrentCardList(e.value,"poundageCurrent"))}},i.a.createElement(o.r,{className:"lrls-category lrls-padding"},I.get("cardUuid")?i.a.createElement("span",null," ","".concat(I.get("code")," ").concat(I.get("name"))," "):i.a.createElement("span",{className:"lrls-placeholder"},"\u70b9\u51fb\u9009\u62e9\u5f80\u6765\u5361\u7247"),i.a.createElement(o.l,{type:"triangle"}))):null,i.a.createElement("div",{className:"noTextSwitch",style:{marginLeft:"6px"}},i.a.createElement(o.w,{checked:O,onClick:function(){if(a(E.changeLrlsData(["oriTemp","poundageCurrent"],!O)),O)a(E.changeLrlsData(["oriTemp","poundageCurrentCardList"],Object(p.fromJS)([])));else{var t=Object(p.fromJS)([]),r=e.array_includes(d,m),l=n.get("currentCardList");y&&r&&l.size&&(t=l),a(E.changeLrlsData(["oriTemp","poundageCurrentCardList"],t))}}}))),i.a.createElement("div",{className:"lrls-more-card margin-top-bot lrls-jzsy",style:{display:C?"":"none"}},i.a.createElement("label",null,"\u9879\u76ee:"),A?i.a.createElement(o.u,{className:"lrls-single",district:s.toJS(),value:J.get("cardUuid")?"".concat(J.get("cardUuid")).concat(h.B).concat(J.get("code")).concat(h.B).concat(J.get("name")):"",onOk:function(e){a(E.changeProjectCard("poundageProject",e.value,0))}},i.a.createElement(o.r,{className:"lrls-category lrls-padding"},J.get("cardUuid")?i.a.createElement("span",null," ",Z," "):i.a.createElement("span",{className:"lrls-placeholder"},"\u70b9\u51fb\u9009\u62e9\u9879\u76ee\u5361\u7247"),i.a.createElement(o.l,{type:"triangle"}))):null,i.a.createElement("div",{className:"noTextSwitch",style:{marginLeft:"6px"}},i.a.createElement(o.w,{checked:A,onClick:function(){if(a(E.changeLrlsData(["oriTemp","poundageProject"],!A)),A)a(E.changeLrlsData(["oriTemp","poundageProjectCardList"],Object(p.fromJS)([])));else{var t=Object(p.fromJS)([]),r=e.array_includes(u,j),l=n.get("projectCardList");f&&r&&l.size&&l.getIn([0,"cardUuid"])&&(t=l),a(E.changeLrlsData(["oriTemp","poundageProjectCardList"],t))}}})))),i.a.createElement("div",null,v&&r.map((function(t,n){t.get("accountUuid");var r=t.get("accountName");if(!t.getIn(["poundage","needPoundage"]))return null;if(!U&&n>0)return null;var l=0,c=t.getIn(["poundage","poundage"]),s=t.getIn(["poundage","poundageRate"]);return l=Math.abs(Object(S.l)(x*s/1e3)),Y&&k&&(l=Math.abs(Object(S.l)(x/(1+Number(s/1e3))*s/1e3))),U&&(l=Object(S.l)(t.get("amount")*s/1e3)),c&&c>0&&l>c&&(l=c),U&&t.get("isManual")||e.funcList.push((function(){a(E.changeLrlsData(["oriTemp","accounts",n,"poundageAmount"],Math.abs(l)))})),Y?null:i.a.createElement("div",{key:n,style:{paddingBottom:w>1&&n!=w-1?"10px":""}},i.a.createElement(o.r,{className:"lrls-more-card lrls-bottom"},i.a.createElement("span",null,"\u8d26\u6237\u660e\u7ec6(",n+1,")\uff1a"),i.a.createElement("span",{className:"overElli",style:{flex:"1"}},"".concat(r))),i.a.createElement(o.r,{className:"lrls-more-card"},i.a.createElement("label",null,"\u652f\u51fa\u91d1\u989d:"),i.a.createElement(o.E.BorderInputItem,{mode:"amount",placeholder:"\u586b\u5199\u652f\u51fa\u91d1\u989d",value:t.get("poundageAmount"),onChange:function(e){if(c&&c>0&&e>c)T.a.toast.info("\u8f93\u5165\u91d1\u989d\u4e0d\u53ef\u5927\u4e8e\u624b\u7eed\u8d39\u4e0a\u9650");else{var r=Object(S.l)(Math.abs(x)-e);U&&(r=Object(S.l)(Math.abs(t.get("amount"))-e)),r<0?T.a.toast.info("\u8f93\u5165\u91d1\u989d\u4e0d\u53ef\u5927\u4e8e\u6536\u6b3e\u91d1\u989d"):(a(E.changeLrlsData(["oriTemp","accounts",n,"poundageAmount"],e)),a(E.changeLrlsData(["oriTemp","accounts",n,"isManual"],!0)))}}})))}))),i.a.createElement("div",{className:"hx-top-line lrls-placeholder lrls-margin-top",style:{display:v&&Y?"":"none"}},i.a.createElement("div",{className:"lrls-margin-bottom lrls-padding-top"},i.a.createElement("span",{className:"lrls-placeholder"},"\u8f6c\u51fa\u91d1\u989d\uff1a"),i.a.createElement(o.a,{showZero:!0},k?Object(S.l)(Number(x)):Object(S.l)(Number(x)+Number(M))),"\u5143",k?null:i.a.createElement("span",null,"(\u542b\u624b\u7eed\u8d39".concat(Object(S.n)(M,2),"\u5143)"))),i.a.createElement("div",null,i.a.createElement("span",{className:"lrls-placeholder"},"\u5230\u8d26\u91d1\u989d\uff1a"),i.a.createElement(o.a,{showZero:!0},k?Object(S.l)(Number(x)-Number(M)):Object(S.l)(Number(x))),"\u5143")))):null}}]),a}(s.Component)),ye=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=sessionStorage.getItem("routerPage");["routerStock"].includes(e)||this.props.dispatch(E.getJzcbCategoryList(!0))}},{key:"array_includes",value:function(e,t){var a=new Set([].concat(Object(u.a)(e),Object(u.a)(t)));return e.length===a.size}},{key:"render",value:function(){var e=this,t=this.props,a=t.dispatch,n=t.beCarryover,r=t.categoryList,l=t.relationCategoryUuid,c=t.relationCategoryName,s=t.relationObj,m=t.usedCarryoverProject,u=t.carryoverProject,d=t.carryoverProjectCardList,g=t.propertyCost,f=t.usedProject,y=t.projectCardList,b=t.projectRange,v=r.toJS();!function e(t){t.forEach((function(t){t.key=t.uuid,t.label=t.name,t.childList.length&&e(t.childList)}))}(v);var L=[],S="\u8bf7\u9009\u62e9\u8d39\u7528\u6027\u8d28",C=s.propertyCostList,N=s.beProject;C.forEach((function(e){"XZ_SALE"==e?L.push({key:"\u9500\u552e\u8d39\u7528",value:"XZ_SALE"}):"XZ_MANAGE"==e?L.push({key:"\u7ba1\u7406\u8d39\u7528",value:"XZ_MANAGE"}):"XZ_FINANCE"==e&&L.push({key:"\u8d22\u52a1\u8d39\u7528",value:"XZ_FINANCE"})})),g&&(S={XZ_SALE:"\u9500\u552e\u8d39\u7528",XZ_MANAGE:"\u7ba1\u7406\u8d39\u7528",XZ_FINANCE:"\u8d22\u52a1\u8d39\u7528",XZ_SCCB:"\u751f\u4ea7\u6210\u672c",XZ_FZSCCB:"\u8f85\u52a9\u751f\u4ea7\u6210\u672c",XZ_ZZFY:"\u5236\u9020\u8d39\u7528",XZ_HTCB:"\u5408\u540c\u6210\u672c",XZ_JJFY:"\u95f4\u63a5\u8d39\u7528",XZ_JXZY:"\u673a\u68b0\u4f5c\u4e1a"}[g]);var _=[];u.toJS().forEach((function(e){"LB_FYZC"!=s.relationCategoryType&&(e.value.includes("INDIRECT")||e.value.includes("MECHANICAL"))||_.push(e)}));var j=d.get(0)?d.get(0):Object(p.fromJS)({}),O="".concat(j.get("code")," ").concat(j.get("name"));return["COMNCRD","ASSIST","MAKE","INDIRECT","MECHANICAL"].includes(j.get("code"))&&(O=j.get("name")),i.a.createElement("div",{className:"lrls-card"},i.a.createElement(o.r,{className:"lrls-more-card"},i.a.createElement("span",null,"\u76f4\u63a5\u6210\u672c\u7ed3\u8f6c"),i.a.createElement("div",{className:"noTextSwitch"},i.a.createElement(o.w,{checked:n,onClick:function(){a(E.changeLrlsData(["oriTemp","beCarryover"],!n))}}))),i.a.createElement("div",{style:{display:n?"":"none"}},i.a.createElement(o.r,{className:"lrls-more-card lrls-margin-top"},i.a.createElement("label",null,"\u5904\u7406\u7c7b\u522b: "),i.a.createElement("div",{className:"antd-single-picker"},i.a.createElement(o.f,{district:v,parentDisabled:!0,value:l,onChange:function(t){var n={relationCategoryType:t.categoryType};if(a(E.changeLrlsData(["oriTemp","relationCategoryUuid"],t.uuid)),a(E.changeLrlsData(["oriTemp","relationCategoryName"],t.name)),a(E.changeLrlsData(["oriTemp","usedCarryoverProject"],t.beProject)),a(E.changeLrlsData(["oriTemp","carryoverProjectCardList"],Object(p.fromJS)([{}]))),t.beProject){a(E.getProjectCardList(t.projectRange,"carryoverProject"));var r=e.array_includes(t.projectRange,b.toJS());f&&r&&y.size&&y.getIn([0,"cardUuid"])&&a(E.changeLrlsData(["oriTemp","carryoverProjectCardList"],y))}var l="";t.propertyCostList&&t.propertyCostList.length>0&&(l=t.propertyCostList[0]),a(E.changeLrlsData(["oriTemp","propertyCost"],l)),n.beProject=t.beProject,n.propertyCostList=t.propertyCostList,a(E.changeLrlsData(["oriTemp","relationObj"],Object(p.fromJS)(n)))}},i.a.createElement(o.r,{className:"lrls-padding lrls-category",onClick:function(e){if(0==r.size)return e.stopPropagation(),T.a.toast.info("\u65e0\u5339\u914d\u7684\u5904\u7406\u7c7b\u522b",2)}},i.a.createElement("span",{className:l?"":"lrls-placeholder"},c||"\u8bf7\u9009\u62e9\u5904\u7406\u7c7b\u522b"),i.a.createElement(o.l,{type:"triangle"}))))),i.a.createElement(o.r,{className:"lrls-more-card lrls-margin-top",style:{display:C&&C.length>1?"":"none"}},i.a.createElement("label",null,"\u8d39\u7528\u6027\u8d28: "),i.a.createElement(o.u,{className:"lrls-single",district:L,value:g,disabled:["XZ_SCCB","XZ_FZSCCB","XZ_ZZFY","XZ_HTCB","XZ_JJFY","XZ_JXZY"].includes(g),onOk:function(e){a(E.changeLrlsData(["oriTemp","propertyCost"],e.value))}},i.a.createElement(o.r,{className:"lrls-padding lrls-category"},i.a.createElement("span",{className:"\u8bf7\u9009\u62e9\u8d39\u7528\u6027\u8d28"!=S?"":"lrls-placeholder"},S),i.a.createElement(o.l,{type:"triangle"})))),i.a.createElement("div",{className:"lrls-more-card lrls-margin-top",style:{display:N?"":"none"}},i.a.createElement("label",null,"\u9879\u76ee:"),m?i.a.createElement(o.u,{className:"lrls-single",district:_,value:j.get("cardUuid")?"".concat(j.get("cardUuid")).concat(h.B).concat(j.get("code")).concat(h.B).concat(j.get("name")):"",onOk:function(e){if(a(E.changeProjectCard("carryoverProjectCardList",e.value,0)),"XZ_CONSTRUCTION"==e.projectProperty){var t="XZ_HTCB";"INDIRECT"==e.code&&(t="XZ_JJFY"),"MECHANICAL"==e.code&&(t="XZ_JXZY"),a(E.changeLrlsData(["oriTemp","propertyCost"],t))}}},i.a.createElement(o.r,{className:"lrls-category lrls-padding"},j.get("cardUuid")?i.a.createElement("span",null," ",O," "):i.a.createElement("span",{className:"lrls-placeholder"},"\u70b9\u51fb\u9009\u62e9\u9879\u76ee\u5361\u7247"),i.a.createElement(o.l,{type:"triangle"}))):null,i.a.createElement("div",{className:"noTextSwitch",style:{marginLeft:"6px"}},i.a.createElement(o.w,{checked:m,onClick:function(){if(a(E.changeLrlsData(["oriTemp","usedCarryoverProject"],!m)),m)a(E.changeLrlsData(["oriTemp","carryoverProjectCardList"],Object(p.fromJS)([])));else{var e=Object(p.fromJS)([]);f&&y.size&&y.getIn([0,"cardUuid"])&&(e=y),a(E.changeLrlsData(["oriTemp","carryoverProjectCardList"],e))}}})))))}}]),a}(s.Component),be=a(232),ve=(a(29),a(65),a(48),Object(d.c)((function(e){return e}))(w=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).scrollerHeight=0,e.state={isSearch:!1,searchValue:"",currentPage:1},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=document.getElementsByClassName("scroll-view")[1];this.scrollerHeight=Number(window.getComputedStyle(e).height.replace("px",""))}},{key:"render",value:function(){var e=this,t=this.props,a=t.dispatch,n=t.editRunningState,r=this.state,l=r.isSearch,c=r.searchValue,s=r.currentPage,m=n.getIn(["oriTemp","pendingStrongList"]),u="modify"!==n.getIn(["views","insertOrModify"]),d=[],g=[];u&&n.getIn(["oriTemp","currentCardList"]).map((function(e){d.push(e.get("name")),g.push(e.get("uuid"))}));var h=(n.get("currentList")?n.get("currentList"):Object(p.fromJS)([])).toJS();h.forEach((function(e){e.value=e.uuid}));var f=0,y=0;m.forEach((function(e){e.get("beSelect")&&(f++,y+=e.get("notHandleAmount"))}));var b=m;l&&c&&(b=m.filter((function(e){var t=!1;return e.get("oriAbstract").toString().includes(c)&&(t=!0),e.get("notHandleAmount").toString().includes(c)&&(t=!0),t})));var v=Math.ceil(b.size/20);return i.a.createElement(o.h,{className:"edit-running"},u?i.a.createElement("div",null,i.a.createElement("div",{className:"sfgl",style:{display:l?"none":""}},i.a.createElement(o.n,{className:"sfgl-item zszf-single",district:h,value:g,onOk:function(e){var t=[];e.forEach((function(e){t.push({name:e.name,uuid:e.uuid})})),a(E.changeLrlsData(["oriTemp","currentCardList"],Object(p.fromJS)(t))),a(E.getZskxPaymentList())}},i.a.createElement(o.r,{className:"lrls-padding sfgl-name"},d.length?i.a.createElement("span",{className:"overElli"}," ",d.join("\u3001")," "):i.a.createElement("span",{className:"overElli lrls-placeholder"},"\u7b5b\u9009\u5f80\u6765\u5355\u4f4d..."),i.a.createElement(o.l,{type:"triangle"}))),i.a.createElement("div",{className:"sfgl-search",onClick:function(){return e.setState({isSearch:!0})}},i.a.createElement(o.l,{type:"search"}))),i.a.createElement("div",{className:"sfgl sfgl-search-item",style:{display:l?"":"none"}},i.a.createElement(o.l,{type:"search"}),i.a.createElement(o.E,{className:"xfn-multiple-input",placeholder:"\u641c\u7d22\u6458\u8981\u3001\u91d1\u989d...",value:c,onChange:function(t){return e.setState({searchValue:t})}}),i.a.createElement("span",{className:"xfn-multiple-cancel",onClick:function(){return e.setState({searchValue:"",isSearch:!1,currentPage:1})}},"\u53d6\u6d88"))):null,i.a.createElement(o.s,{ref:"lrlsScrollContainer",flex:"1",uniqueKey:"lrls-scroll",savePosition:!0,onScroll:function(t){t.target.scrollTop+100+e.scrollerHeight>=1660*s&&s<v&&e.setState({currentPage:s+1})}},b.slice(0,20*s).map((function(e,t){return i.a.createElement(o.r,{key:t,className:"jr-card",onClick:function(){var t=0;m.map((function(a,n){a.get("uuid")==e.get("uuid")&&(t=n)})),e.get("beSelect")?a(E.pendingStrongListBeSelect(t,!1)):a(E.pendingStrongListBeSelect(t,!0))}},i.a.createElement("div",{className:"jr-item jr-line"},i.a.createElement("span",null,i.a.createElement(o.e,{style:{paddingRight:"10px"},checked:!!e.get("beSelect")}),e.get("beOpened")?"\u671f\u521d\u503c":"".concat(e.get("jrIndex"),"\u53f7")),i.a.createElement("span",{className:"lrls-placeholder"},e.get("oriDate"))),i.a.createElement("div",{className:"jr-item"},i.a.createElement("span",{className:"overElli"},"\u6458\u8981\uff1a",e.get("oriAbstract"))),i.a.createElement("div",{className:"jr-item"},i.a.createElement("span",null,"\u5176\u4ed6\u5e94\u4ed8"),i.a.createElement(o.a,{showZero:!0,className:"hx-bold"},e.get("notHandleAmount"))))}))),i.a.createElement("div",{className:"jr-card hx-top-line",style:{display:f>0?"":"none"}},i.a.createElement("div",{className:"jr-item"},i.a.createElement("span",null,"\u5df2\u52fe\u9009\u6d41\u6c34\uff1a",f,"\u6761"),i.a.createElement("span",null,"\u5408\u8ba1\u91d1\u989d\uff1a",i.a.createElement(o.a,{showZero:!0},y)))),i.a.createElement(o.d,null,i.a.createElement(o.c,{onClick:function(){if(f>160)return T.a.Alert("\u52fe\u9009\u7684\u6838\u9500\u6d41\u6c34\u4e0d\u80fd\u8d85\u8fc7160\u6761");y=Object(S.l)(y),a(E.changeLrlsData(["views","showJrPage"],!1)),a(E.changeLrlsData(["oriTemp","amount"],y)),a(E.changeLrlsData(["oriTemp","jrAmount"],y))}},i.a.createElement(o.l,{type:"choose"}),i.a.createElement("span",null,"\u786e\u5b9a"))))}}]),a}(i.a.Component))||w),Le=Object(d.c)((function(e){return e}))(U=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).scrollerHeight=0,e.state={isSearch:!1,searchValue:"",currentPage:1},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=document.getElementsByClassName("scroll-view")[1];this.scrollerHeight=Number(window.getComputedStyle(e).height.replace("px",""))}},{key:"render",value:function(){var e=this,t=this.props,a=t.dispatch,n=t.editRunningState,r=this.state,l=r.isSearch,c=r.searchValue,s=r.currentPage,m=n.getIn(["oriTemp","pendingStrongList"]),u="modify"!==n.getIn(["views","insertOrModify"]),d=[],g=[];u&&n.getIn(["oriTemp","currentCardList"]).map((function(e){d.push(e.get("name")),g.push(e.get("uuid"))}));var h=(n.get("currentList")?n.get("currentList"):Object(p.fromJS)([])).toJS();h.forEach((function(e){e.value=e.uuid}));var f=0,y=0;m.forEach((function(e){e.get("beSelect")&&(f++,y+=e.get("notHandleAmount"))}));var b=m;l&&c&&(b=m.filter((function(e){var t=!1;return e.get("oriAbstract").toString().includes(c)&&(t=!0),e.get("notHandleAmount").toString().includes(c)&&(t=!0),t})));var v=Math.ceil(b.size/20);return i.a.createElement(o.h,{className:"edit-running"},u?i.a.createElement("div",null,i.a.createElement("div",{className:"sfgl",style:{display:l?"none":""}},i.a.createElement(o.n,{className:"sfgl-item zszf-single",district:h,value:g,onOk:function(e){var t=[];e.forEach((function(e){t.push({name:e.name,uuid:e.uuid})})),a(E.changeLrlsData(["oriTemp","currentCardList"],Object(p.fromJS)(t))),a(E.getZskxPaymentList())}},i.a.createElement(o.r,{className:"lrls-padding sfgl-name"},d.length?i.a.createElement("span",{className:"overElli"}," ",d.join("\u3001")," "):i.a.createElement("span",{className:"overElli lrls-placeholder"},"\u7b5b\u9009\u5f80\u6765\u5355\u4f4d..."),i.a.createElement(o.l,{type:"triangle"}))),i.a.createElement("div",{className:"sfgl-search",onClick:function(){return e.setState({isSearch:!0})}},i.a.createElement(o.l,{type:"search"}))),i.a.createElement("div",{className:"sfgl sfgl-search-item",style:{display:l?"":"none"}},i.a.createElement(o.l,{type:"search"}),i.a.createElement(o.E,{className:"xfn-multiple-input",placeholder:"\u641c\u7d22\u6458\u8981\u3001\u91d1\u989d...",value:c,onChange:function(t){return e.setState({searchValue:t})}}),i.a.createElement("span",{className:"xfn-multiple-cancel",onClick:function(){return e.setState({searchValue:"",isSearch:!1,currentPage:1})}},"\u53d6\u6d88"))):null,i.a.createElement(o.s,{ref:"lrlsScrollContainer",flex:"1",uniqueKey:"lrls-scroll",savePosition:!0,onScroll:function(t){t.target.scrollTop+100+e.scrollerHeight>=1660*s&&s<v&&e.setState({currentPage:s+1})}},b.slice(0,20*s).map((function(e,t){return i.a.createElement(o.r,{key:t,className:"jr-card",onClick:function(){var t=0;m.map((function(a,n){a.get("uuid")==e.get("uuid")&&(t=n)})),e.get("beSelect")?a(E.pendingStrongListBeSelect(t,!1)):a(E.pendingStrongListBeSelect(t,!0))}},i.a.createElement("div",{className:"jr-item jr-line"},i.a.createElement("span",null,i.a.createElement(o.e,{style:{paddingRight:"10px"},checked:!!e.get("beSelect")}),e.get("beOpened")?"\u671f\u521d\u503c":"".concat(e.get("jrIndex"),"\u53f7")),i.a.createElement("span",{className:"lrls-placeholder"},e.get("oriDate"))),i.a.createElement("div",{className:"jr-item"},i.a.createElement("span",{className:"overElli"},"\u6458\u8981\uff1a",e.get("oriAbstract"))),i.a.createElement("div",{className:"jr-item"},i.a.createElement("span",null,"\u5176\u4ed6\u5e94\u6536"),i.a.createElement(o.a,{showZero:!0,className:"hx-bold"},e.get("notHandleAmount"))))}))),i.a.createElement("div",{className:"jr-card hx-top-line",style:{display:f>0?"":"none"}},i.a.createElement("div",{className:"jr-item"},i.a.createElement("span",null,"\u5df2\u52fe\u9009\u6d41\u6c34\uff1a",f,"\u6761"),i.a.createElement("span",null,"\u5408\u8ba1\u91d1\u989d\uff1a",i.a.createElement(o.a,{showZero:!0},y)))),i.a.createElement(o.d,null,i.a.createElement(o.c,{onClick:function(){if(f>160)return T.a.Alert("\u52fe\u9009\u7684\u6838\u9500\u6d41\u6c34\u4e0d\u80fd\u8d85\u8fc7160\u6761");y=Object(S.l)(y),a(E.changeLrlsData(["views","showJrPage"],!1)),a(E.changeLrlsData(["oriTemp","amount"],y)),a(E.changeLrlsData(["oriTemp","jrAmount"],y))}},i.a.createElement(o.l,{type:"choose"}),i.a.createElement("span",null,"\u786e\u5b9a"))))}}]),a}(i.a.Component))||U,Se=Object(d.c)((function(e){return e}))(B=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props,t=e.dispatch,a=e.editRunningState.getIn(["oriTemp","pendingStrongList"]),n=0,r=0;return a.forEach((function(e){e.get("beSelect")&&(n++,r+=e.get("notHandleAmount"))})),i.a.createElement(o.h,{className:"edit-running"},i.a.createElement(o.s,{ref:"lrlsScrollContainer",flex:"1",uniqueKey:"lrls-scroll",savePosition:!0},a.map((function(e,a){return i.a.createElement(o.r,{key:a,className:"jr-card",onClick:function(){e.get("beSelect")?t(E.pendingStrongListBeSelect(a,!1)):t(E.pendingStrongListBeSelect(a,!0))}},i.a.createElement("div",{className:"jr-item jr-line"},i.a.createElement("span",null,i.a.createElement(o.e,{style:{paddingRight:"10px"},checked:!!e.get("beSelect")}),e.get("beOpened")?"\u671f\u521d\u503c":"".concat(e.get("jrIndex"),"\u53f7")),i.a.createElement("span",{className:"lrls-placeholder"},e.get("oriDate"))),i.a.createElement("div",{className:"jr-item"},i.a.createElement("span",{className:"overElli"},"\u6458\u8981\uff1a",e.get("oriAbstract"))),i.a.createElement("div",{className:"jr-item"},i.a.createElement("span",null,e.get("jrJvTypeName")),i.a.createElement(o.a,{showZero:!0,className:"hx-bold"},e.get("notHandleAmount"))))}))),i.a.createElement("div",{className:"jr-card hx-top-line",style:{display:n>0?"":"none"}},i.a.createElement("div",{className:"jr-item"},i.a.createElement("span",null,"\u5df2\u52fe\u9009\u6d41\u6c34\uff1a",n,"\u6761"),i.a.createElement("span",null,"\u5f85\u652f\u4ed8\u91d1\u989d\uff1a",i.a.createElement(o.a,{showZero:!0},r)))),i.a.createElement(o.d,null,i.a.createElement(o.c,{onClick:function(){if(n>160)return T.a.Alert("\u52fe\u9009\u7684\u6838\u9500\u6d41\u6c34\u4e0d\u80fd\u8d85\u8fc7160\u6761");t(E.changeLrlsData(["views","showJrPage"],!1)),t(E.changeLrlsData(["oriTemp","amount"],Object(S.l)(r))),t(E.changeLrlsData(["oriTemp","jrAmount"],Object(S.l)(r)))}},i.a.createElement(o.l,{type:"choose"}),i.a.createElement("span",null,"\u786e\u5b9a"))))}}]),a}(i.a.Component))||B,Ce=Object(d.c)((function(e){return e}))(x=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props,t=e.dispatch,a=e.editRunningState.getIn(["oriTemp","pendingStrongList"]),n=0,r=0;return a.forEach((function(e){e.get("beSelect")&&(n++,r+=e.get("notHandleAmount"))})),i.a.createElement(o.h,{className:"edit-running"},i.a.createElement(o.s,{ref:"lrlsScrollContainer",flex:"1",uniqueKey:"lrls-scroll",savePosition:!0},a.map((function(e,a){return i.a.createElement(o.r,{key:a,className:"jr-card",onClick:function(){e.get("beSelect")?t(E.pendingStrongListBeSelect(a,!1)):t(E.pendingStrongListBeSelect(a,!0))}},i.a.createElement("div",{className:"jr-item jr-line"},i.a.createElement("span",null,i.a.createElement(o.e,{style:{paddingRight:"10px"},checked:!!e.get("beSelect")}),e.get("beOpened")?"\u671f\u521d\u503c":"".concat(e.get("jrIndex"),"\u53f7")),i.a.createElement("span",{className:"lrls-placeholder"},e.get("oriDate"))),i.a.createElement("div",{className:"jr-item"},i.a.createElement("span",{className:"overElli"},"\u6458\u8981\uff1a",e.get("oriAbstract"))),i.a.createElement("div",{className:"jr-item"},i.a.createElement("span",null,e.get("jrJvTypeName")," "),i.a.createElement(o.a,{showZero:!0,className:"hx-bold"},e.get("notHandleAmount"))))}))),i.a.createElement("div",{className:"jr-card hx-top-line",style:{display:n>0?"":"none"}},i.a.createElement("div",{className:"jr-item"},i.a.createElement("span",null,"\u5df2\u52fe\u9009\u6d41\u6c34\uff1a",n,"\u6761"),i.a.createElement("span",null,"\u5f85\u6536\u5165\u91d1\u989d\uff1a",i.a.createElement(o.a,{showZero:!0},r)))),i.a.createElement(o.d,null,i.a.createElement(o.c,{onClick:function(){if(n>160)return T.a.Alert("\u52fe\u9009\u7684\u6838\u9500\u6d41\u6c34\u4e0d\u80fd\u8d85\u8fc7160\u6761");t(E.changeLrlsData(["views","showJrPage"],!1)),t(E.changeLrlsData(["oriTemp","amount"],Object(S.l)(r))),t(E.changeLrlsData(["oriTemp","jrAmount"],Object(S.l)(r)))}},i.a.createElement(o.l,{type:"choose"}),i.a.createElement("span",null,"\u786e\u5b9a"))))}}]),a}(i.a.Component))||x,Ne=Object(d.c)((function(e){return e}))(P=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props,t=e.dispatch,a=e.editRunningState.getIn(["oriTemp","pendingStrongList"]),n=0,r=0;return a.forEach((function(e){e.get("beSelect")&&(n++,r+=e.get("notHandleAmount"))})),i.a.createElement(o.h,{className:"edit-running"},i.a.createElement(o.s,{ref:"lrlsScrollContainer",flex:"1",uniqueKey:"lrls-scroll",savePosition:!0},a.map((function(e,a){return i.a.createElement(o.r,{key:a,className:"jr-card",onClick:function(){e.get("beSelect")?t(E.pendingStrongListBeSelect(a,!1)):t(E.pendingStrongListBeSelect(a,!0))}},i.a.createElement("div",{className:"jr-item jr-line"},i.a.createElement("span",null,i.a.createElement(o.e,{style:{paddingRight:"10px"},checked:!!e.get("beSelect")}),e.get("beOpened")?"\u671f\u521d\u503c":"".concat(e.get("jrIndex"),"\u53f7")),i.a.createElement("span",{className:"lrls-placeholder"},e.get("oriDate"))),i.a.createElement("div",{className:"jr-item"},i.a.createElement("span",{className:"overElli"},"\u6458\u8981\uff1a",e.get("oriAbstract"))),i.a.createElement("div",{className:"jr-item"},i.a.createElement("span",null,e.get("jrJvTypeName")),i.a.createElement(o.a,{showZero:!0,className:"hx-bold"},e.get("notHandleAmount"))))}))),i.a.createElement("div",{className:"jr-card hx-top-line",style:{display:n>0?"":"none"}},i.a.createElement("div",{className:"jr-item"},i.a.createElement("span",null,"\u5df2\u52fe\u9009\u6d41\u6c34\uff1a",n,"\u6761"),i.a.createElement("span",null,"\u5f85\u652f\u4ed8\u91d1\u989d\uff1a",i.a.createElement(o.a,{showZero:!0},r)))),i.a.createElement(o.d,null,i.a.createElement(o.c,{onClick:function(){if(n>160)return T.a.Alert("\u52fe\u9009\u7684\u6838\u9500\u6d41\u6c34\u4e0d\u80fd\u8d85\u8fc7160\u6761");r=Object(S.l)(r),t(E.changeLrlsData(["views","showJrPage"],!1)),t(E.changeLrlsData(["oriTemp","amount"],r)),t(E.changeLrlsData(["oriTemp","jrAmount"],r))}},i.a.createElement(o.l,{type:"choose"}),i.a.createElement("span",null,"\u786e\u5b9a"))))}}]),a}(i.a.Component))||P,Te=Object(d.c)((function(e){return e}))(X=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props,t=e.dispatch,a=e.editRunningState.getIn(["oriTemp","pendingStrongList"]),n=0,r=0;return a.forEach((function(e){e.get("beSelect")&&(n++,r+=e.get("notHandleAmount"))})),i.a.createElement(o.h,{className:"edit-running"},i.a.createElement(o.s,{ref:"lrlsScrollContainer",flex:"1",uniqueKey:"lrls-scroll",savePosition:!0},a.map((function(e,a){return i.a.createElement(o.r,{key:a,className:"jr-card",onClick:function(){e.get("beSelect")?t(E.pendingStrongListBeSelect(a,!1)):t(E.pendingStrongListBeSelect(a,!0))}},i.a.createElement("div",{className:"jr-item jr-line"},i.a.createElement("span",null,i.a.createElement(o.e,{style:{paddingRight:"10px"},checked:!!e.get("beSelect")}),e.get("beOpened")?"\u671f\u521d\u503c":"".concat(e.get("jrIndex")," \u53f7")),i.a.createElement("span",{className:"lrls-placeholder"},e.get("oriDate"))),i.a.createElement("div",{className:"jr-item"},i.a.createElement("span",{className:"overElli"},e.get("oriAbstract"))),i.a.createElement("div",{className:"jr-item"},i.a.createElement("span",{className:""},e.get("jrJvTypeName")),i.a.createElement(o.a,{showZero:!0,className:"hx-bold"},e.get("notHandleAmount"))))}))),i.a.createElement("div",{className:"jr-card hx-top-line",style:{display:n>0?"":"none"}},i.a.createElement("div",{className:"jr-item"},i.a.createElement("span",null,"\u5df2\u52fe\u9009\u6d41\u6c34\uff1a",n,"\u6761"),i.a.createElement("span",null,"\u5408\u8ba1\u91d1\u989d\uff1a",i.a.createElement(o.a,{showZero:!0},r)))),i.a.createElement(o.d,null,i.a.createElement(o.c,{onClick:function(){if(n>160)return T.a.Alert("\u52fe\u9009\u7684\u6838\u9500\u6d41\u6c34\u4e0d\u80fd\u8d85\u8fc7160\u6761");t(E.changeLrlsData(["views","showJrPage"],!1)),t(E.changeLrlsData(["oriTemp","jrAmount"],Object(S.l)(r))),t(E.changeLrlsData(["oriTemp","amount"],Object(S.l)(r)))}},i.a.createElement(o.l,{type:"choose"}),i.a.createElement("span",null,"\u786e\u5b9a"))))}}]),a}(i.a.Component))||X,_e=Object(d.c)((function(e){return e}))(R=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props,t=e.dispatch,a=e.editRunningState,n=a.getIn(["oriTemp","pendingStrongList"]),r=a.getIn(["oriTemp","propertyPay"]),l=0,c=0;return n.forEach((function(e){e.get("beSelect")&&(l++,c+=e.get("notHandleAmount"))})),i.a.createElement(o.h,{className:"edit-running"},i.a.createElement(o.s,{ref:"lrlsScrollContainer",flex:"1",uniqueKey:"lrls-scroll",savePosition:!0},n.map((function(e,a){return i.a.createElement(o.r,{key:a,className:"jr-card",onClick:function(){e.get("beSelect")?t(E.pendingStrongListBeSelect(a,!1)):t(E.pendingStrongListBeSelect(a,!0))}},i.a.createElement("div",{className:"jr-item jr-line"},i.a.createElement("span",null,i.a.createElement(o.e,{style:{paddingRight:"10px"},checked:!!e.get("beSelect")}),e.get("beOpened")?"\u671f\u521d\u503c":"".concat(e.get("jrIndex"),"\u53f7")),i.a.createElement("span",{className:"lrls-placeholder"},e.get("oriDate"))),i.a.createElement("div",{className:"jr-item"},i.a.createElement("span",{className:"overElli"},"\u6458\u8981\uff1a",e.get("oriAbstract"))),i.a.createElement("div",{className:"jr-item"},i.a.createElement("span",null,e.get("jrJvTypeName")),i.a.createElement(o.a,{showZero:!0,className:"hx-bold"},e.get("notHandleAmount"))))}))),i.a.createElement("div",{className:"jr-card hx-top-line",style:{display:l>0?"":"none"}},i.a.createElement("div",{className:"jr-item"},i.a.createElement("span",null,"\u5df2\u52fe\u9009\u6d41\u6c34\uff1a",l,"\u6761"),i.a.createElement("span",null,"\u5408\u8ba1\u91d1\u989d\uff1a",i.a.createElement(o.a,{showZero:!0},c)))),i.a.createElement(o.d,null,i.a.createElement(o.c,{onClick:function(){if(l>160)return T.a.Alert("\u52fe\u9009\u7684\u6838\u9500\u6d41\u6c34\u4e0d\u80fd\u8d85\u8fc7160\u6761");a.getIn(["oriTemp","amount"]),a.getIn(["oriTemp","payment","companySocialSecurityAmount"]),a.getIn(["oriTemp","payment","companyAccumulationAmount"]);t(E.changeLrlsData(["oriTemp","amount"],Object(S.l)(Math.abs(c)))),t(E.changeLrlsData(["oriTemp","payment","companySocialSecurityAmount"],Object(S.l)(Math.abs(c)))),t(E.changeLrlsData(["oriTemp","payment","companyAccumulationAmount"],Object(S.l)(Math.abs(c)))),t(E.changeLrlsData(["views","showJrPage"],!1)),t(E.changeLrlsData(["oriTemp","jrAmount"],Object(S.l)(c))),t(E.xczcCalculateAmount(r))}},i.a.createElement(o.l,{type:"choose"}),i.a.createElement("span",null,"\u786e\u5b9a"))))}}]),a}(i.a.Component))||R,je=Object(d.c)((function(e){return e}))(Y=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props,t=e.dispatch,a=e.editRunningState,n=a.getIn(["oriTemp","pendingStrongList"]),r=a.getIn(["oriTemp","inputTax"]),l=0,c=0,s=0;return n.forEach((function(e){e.get("beSelect")&&(l++,c+=Math.abs(e.get("notHandleAmount")),s+=Math.abs(e.get("oriAmount")))})),i.a.createElement(o.h,{className:"edit-running"},i.a.createElement(o.s,{ref:"lrlsScrollContainer",flex:"1",uniqueKey:"lrls-scroll",savePosition:!0},n.map((function(e,a){var n=-1==e.get("taxRate")?"**":e.get("taxRate");return i.a.createElement(o.r,{key:a,className:"jr-card",onClick:function(){e.get("beSelect")?t(E.pendingStrongListBeSelect(a,!1)):t(E.pendingStrongListBeSelect(a,!0))}},i.a.createElement("div",{className:"jr-item jr-line"},i.a.createElement("span",null,i.a.createElement(o.e,{style:{paddingRight:"10px"},checked:!!e.get("beSelect")}),e.get("beOpened")?"\u671f\u521d\u503c":"".concat(e.get("jrIndex")," \u53f7")),i.a.createElement("span",{className:"lrls-placeholder"},e.get("oriDate"))),i.a.createElement("div",{className:"jr-item"},i.a.createElement("span",{className:"overElli"},"\u6458\u8981\uff1a",e.get("oriAbstract"))),i.a.createElement("div",{className:"jr-item"},i.a.createElement("span",{className:"overElli"},e.get("categoryName")),i.a.createElement(o.a,{showZero:!0,className:"hx-bold"},Math.abs(e.get("notHandleAmount")))),e.get("beOpened")?null:i.a.createElement("div",{className:"jr-item"},i.a.createElement("span",null,"\u4ef7\u7a0e\u5408\u8ba1\uff1a",i.a.createElement(o.a,{showZero:!0},e.get("oriAmount"))),i.a.createElement("span",null,"\u7a0e\u7387\uff1a","".concat(n,"%"))))}))),i.a.createElement("div",{className:"jr-card hx-top-line",style:{display:l>0?"":"none"}},i.a.createElement("div",{className:"jr-item"},i.a.createElement("span",null,"\u5df2\u52fe\u9009\u6d41\u6c34\uff1a",l,"\u6761"),i.a.createElement("span",null,"\u5f85\u5f00\u53d1\u7968\u7a0e\u989d\uff1a",i.a.createElement(o.a,{showZero:!0},c)))),i.a.createElement(o.d,null,i.a.createElement(o.c,{onClick:function(){if(l>160)return T.a.Alert("\u52fe\u9009\u7684\u6838\u9500\u6d41\u6c34\u4e0d\u80fd\u8d85\u8fc7160\u6761");t(E.changeLrlsData(["views","showJrPage"],!1)),t(E.changeLrlsData(["oriTemp","amount"],Object(S.l)(c))),t(E.changeLrlsData(["oriTemp","jrAmount"],Object(S.l)(c))),t(E.changeLrlsData(["oriTemp","jrTaxAmount"],Object(S.l)(s))),1==l?0==r&&t(E.changeLrlsData(["oriTemp","taxTotal"],Object(S.l)(s))):t(E.changeLrlsData(["oriTemp","inputTax"],!0))}},i.a.createElement(o.l,{type:"choose"}),i.a.createElement("span",null,"\u786e\u5b9a"))))}}]),a}(i.a.Component))||Y,Oe=Object(d.c)((function(e){return e}))(M=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props,t=e.dispatch,a=e.editRunningState.getIn(["oriTemp","pendingStrongList"]),n=0,r=0,l=0;return a.forEach((function(e){e.get("beSelect")&&(n++,r+=Math.abs(e.get("notHandleAmount")),l+=Math.abs(e.get("oriAmount")))})),i.a.createElement(o.h,{className:"edit-running"},i.a.createElement(o.s,{ref:"lrlsScrollContainer",flex:"1",uniqueKey:"lrls-scroll",savePosition:!0},a.map((function(e,a){return i.a.createElement(o.r,{key:a,className:"jr-card",onClick:function(){e.get("beSelect")?t(E.pendingStrongListBeSelect(a,!1)):t(E.pendingStrongListBeSelect(a,!0))}},i.a.createElement("div",{className:"jr-item jr-line"},i.a.createElement("span",null,i.a.createElement(o.e,{style:{paddingRight:"10px"},checked:!!e.get("beSelect")}),e.get("beOpened")?"\u671f\u521d\u503c":"".concat(e.get("jrIndex"),"\u53f7")),i.a.createElement("span",{className:"lrls-placeholder"},e.get("oriDate"))),i.a.createElement("div",{className:"jr-item"},i.a.createElement("span",{className:"overElli"},e.get("categoryName")),i.a.createElement(o.a,{showZero:!0,className:"hx-bold"},Math.abs(e.get("notHandleAmount")))),i.a.createElement("div",{className:"jr-item"},i.a.createElement("span",{className:"overElli"},"\u6458\u8981\uff1a",e.get("oriAbstract"))))}))),i.a.createElement("div",{className:"jr-card hx-top-line",style:{display:n>0?"":"none"}},i.a.createElement("div",{className:"jr-item"},i.a.createElement("span",null,"\u5df2\u52fe\u9009\u6d41\u6c34\uff1a",n,"\u6761"),i.a.createElement("span",null,"\u5f85\u8ba4\u8bc1\u7a0e\u989d\uff1a",i.a.createElement(o.a,{showZero:!0},r)))),i.a.createElement(o.d,null,i.a.createElement(o.c,{onClick:function(){if(n>160)return T.a.Alert("\u52fe\u9009\u7684\u6838\u9500\u6d41\u6c34\u4e0d\u80fd\u8d85\u8fc7160\u6761");t(E.changeLrlsData(["views","showJrPage"],!1)),t(E.changeLrlsData(["oriTemp","amount"],Object(S.l)(r))),t(E.changeLrlsData(["oriTemp","jrAmount"],Object(S.l)(r))),t(E.changeLrlsData(["oriTemp","jrTaxAmount"],Object(S.l)(l)))}},i.a.createElement(o.l,{type:"choose"}),i.a.createElement("span",null,"\u786e\u5b9a"))))}}]),a}(i.a.Component))||M,Ae=Object(d.c)((function(e){return e}))(F=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props,t=e.dispatch,a=e.editRunningState.getIn(["oriTemp","pendingStrongList"]),n=0,r=0;return a.forEach((function(e){e.get("beSelect")&&(n++,r+=e.get("amount"))})),i.a.createElement(o.h,{className:"edit-running"},i.a.createElement(o.s,{ref:"lrlsScrollContainer",flex:"1",uniqueKey:"lrls-scroll",savePosition:!0},a.map((function(e,a){return i.a.createElement(o.r,{key:a,className:"jr-card",onClick:function(){e.get("beSelect")?t(E.pendingStrongListBeSelect(a,!1)):t(E.pendingStrongListBeSelect(a,!0))}},i.a.createElement("div",{className:"jr-item jr-line"},i.a.createElement("span",null,i.a.createElement(o.e,{style:{paddingRight:"10px"},checked:!!e.get("beSelect")}),e.get("beOpened")?"\u671f\u521d\u503c":"".concat(e.get("jrIndex"),"\u53f7")),i.a.createElement("span",{className:"lrls-placeholder"},e.get("oriDate"))),i.a.createElement("div",{className:"jr-item"},i.a.createElement("span",{className:"overElli"},"\u6458\u8981\uff1a",e.get("oriAbstract"))),i.a.createElement("div",{className:"jr-item"},i.a.createElement("span",null,e.get("categoryName")),i.a.createElement(o.a,{showZero:!0,className:"hx-bold"},e.get("amount"))))}))),i.a.createElement("div",{className:"jr-card hx-top-line",style:{display:n>0?"":"none"}},i.a.createElement("div",{className:"jr-item"},i.a.createElement("span",null,"\u5df2\u52fe\u9009\u6d41\u6c34\uff1a",n,"\u6761"),i.a.createElement("span",null,"\u5904\u7f6e\u6536\u5165\u91d1\u989d\uff1a",i.a.createElement(o.a,{showZero:!0},r)))),i.a.createElement(o.d,null,i.a.createElement(o.c,{onClick:function(){if(n>160)return T.a.Alert("\u52fe\u9009\u7684\u6838\u9500\u6d41\u6c34\u4e0d\u80fd\u8d85\u8fc7160\u6761");t(E.changeLrlsData(["views","showJrPage"],!1)),t(E.changeLrlsData(["oriTemp","assets","cleaningAmount"],Object(S.l)(r))),t(E.changeLrlsData(["oriTemp","jrAmount"],Object(S.l)(r))),t(E.autoJzsyAmount())}},i.a.createElement(o.l,{type:"choose"}),i.a.createElement("span",null,"\u786e\u5b9a"))))}}]),a}(i.a.Component))||F,ke=Object(d.c)((function(e){return e}))(H=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props,t=e.dispatch,a=e.editRunningState.getIn(["oriTemp","pendingStrongList"]);return i.a.createElement(o.h,{className:"edit-running"},i.a.createElement(o.s,{ref:"lrlsScrollContainer",flex:"1",uniqueKey:"lrls-scroll",savePosition:!0},a.map((function(e,t){return i.a.createElement(o.r,{key:t,className:"jr-card"},i.a.createElement("div",{className:"jr-item jr-line"},i.a.createElement("span",null,e.get("beOpened")?"\u671f\u521d\u503c":"".concat(e.get("jrIndex"),"\u53f7")),i.a.createElement("span",{className:"lrls-placeholder"},e.get("oriDate"))),i.a.createElement("div",{className:"jr-item"},i.a.createElement("span",{className:"overElli"},e.get("categoryName")),i.a.createElement(o.a,{showZero:!0},e.get("taxAmount"))),i.a.createElement("div",{className:"jr-item"},i.a.createElement("span",{className:"overElli"},"\u6458\u8981\uff1a",e.get("oriAbstract"))),i.a.createElement("div",{className:"jr-item"},i.a.createElement("span",{className:""},"JR_STRONG_STAY_ZCXX"===e.get("pendingStrongType")?"\u9500\u9879\u7a0e":"\u8fdb\u9879\u7a0e"),i.a.createElement("div",null,i.a.createElement("span",null,"\u4ef7\u7a0e\u5408\u8ba1\uff1a",i.a.createElement(o.a,{showZero:!0},e.get("oriAmount"))))))}))),i.a.createElement(o.d,null,i.a.createElement(o.c,{onClick:function(){t(E.changeLrlsData(["views","showJrPage"],!1))}},i.a.createElement(o.l,{type:"choose"}),i.a.createElement("span",null,"\u786e\u5b9a"))))}}]),a}(i.a.Component))||H,Ie=Object(d.c)((function(e){return e}))(z=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).scrollerHeight=0,e.listHeight=107,e.state={visible:!1,disabled:!0,idx:0,isSearch:!1,searchValue:"",currentPage:1},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=document.getElementsByClassName("scroll-view")[1];this.scrollerHeight=Number(window.getComputedStyle(e).height.replace("px",""));var t=document.getElementsByClassName("jr-card")[0];this.listHeight=t?Number(window.getComputedStyle(t).height.replace("px","")):107}},{key:"render",value:function(){var e=this,t=this.props,a=t.dispatch,n=t.editRunningState,r=this.state,l=r.visible,c=r.disabled,s=r.idx,m=r.isSearch,u=r.searchValue,d=r.currentPage,g=n.getIn(["oriTemp","pendingStrongList"]),h=g.getIn([s,"categoryList"])?g.getIn([s,"categoryList"]):Object(p.fromJS)([]),f=g.getIn([s,"categoryUuid"])?g.getIn([s,"categoryUuid"]):"",y="modify"!==n.getIn(["views","insertOrModify"]),b=n.get("categoryList").toJS(),v=n.getIn(["oriTemp","usedAccounts"]),L=[],C=[],N=[],_=[];y&&(!function e(t){t.forEach((function(t){t.key=t.uuid,t.label=t.name,t.childList.length&&(e(t.childList),t.childList.unshift({key:t.uuid,label:"\u5168\u90e8",uuid:t.uuid,name:t.name,childList:[]}))}))}(b),n.getIn(["oriTemp","pendingManageDto","categoryUuid"]).map((function(e){L.push(e.get("name")),C.push({key:e.get("uuid"),label:e.get("name")})})),n.getIn(["oriTemp","currentCardList"]).map((function(e){N.push(e.get("name")),_.push(e.get("uuid"))})));var j=(n.get("currentList")?n.get("currentList"):Object(p.fromJS)([])).toJS();j.forEach((function(e){e.value=e.uuid}));var O=0,A=0,k=!1;g.forEach((function(e){e.get("beSelect")&&(O++,"debit"==e.get("direction")?A+=Number(e.get("amount")):A-=Number(e.get("amount")),e.get("beSelect")&&!e.get("categoryUuid")&&(k=!0))}));var I=A>=0?"\u5f85\u6838\u9500\u6536\u6b3e\u91d1\u989d\uff1a":"\u5f85\u6838\u9500\u4ed8\u6b3e\u91d1\u989d\uff1a",J=g;m&&u&&(J=g.filter((function(e){var t=!1;return e.get("oriAbstract").toString().includes(u)&&(t=!0),e.get("amount").toString().includes(u)&&(t=!0),t})));var Z=Math.ceil(J.size/50);return i.a.createElement(o.h,{className:"edit-running"},y?i.a.createElement("div",null,i.a.createElement("div",{className:"sfgl",style:{display:m?"none":""}},i.a.createElement(o.f,{className:"sfgl-item",multiSelect:!0,district:b,value:C,onOk:function(e){var t=[];e.forEach((function(e){t.push({uuid:e.uuid,name:e.name})})),a(E.changeLrlsData(["oriTemp","pendingManageDto","categoryUuid"],Object(p.fromJS)(t))),a(E.getSfglList())}},i.a.createElement(o.r,{className:"lrls-padding sfgl-name"},L.length?i.a.createElement("span",{className:"overElli"}," ",L.join("\u3001")," "):i.a.createElement("span",{className:"overElli lrls-placeholder"},"\u7b5b\u9009\u6d41\u6c34\u7c7b\u522b..."),i.a.createElement(o.l,{type:"triangle"}))),i.a.createElement(o.n,{className:"sfgl-item lrls-single",district:j,value:_,onOk:function(e){var t=[];e.forEach((function(e){t.push({name:e.name,uuid:e.uuid})})),a(E.changeLrlsData(["oriTemp","currentCardList"],Object(p.fromJS)(t))),a(E.getSfglList())}},i.a.createElement(o.r,{className:"lrls-padding sfgl-name"},N.length?i.a.createElement("span",{className:"overElli"}," ",N.join("\u3001")," "):i.a.createElement("span",{className:"overElli lrls-placeholder"},"\u7b5b\u9009\u5f80\u6765\u5355\u4f4d..."),i.a.createElement(o.l,{type:"triangle"}))),i.a.createElement("div",{className:"sfgl-search",onClick:function(){return e.setState({isSearch:!0})}},i.a.createElement(o.l,{type:"search"}))),i.a.createElement("div",{className:"sfgl sfgl-search-item",style:{display:m?"":"none"}},i.a.createElement(o.l,{type:"search"}),i.a.createElement(o.E,{className:"xfn-multiple-input",placeholder:"\u641c\u7d22\u6458\u8981\u3001\u91d1\u989d...",value:u,onChange:function(t){return e.setState({searchValue:t})}}),i.a.createElement("span",{className:"xfn-multiple-cancel",onClick:function(){return e.setState({searchValue:"",isSearch:!1,currentPage:1})}},"\u53d6\u6d88"))):null,i.a.createElement(o.s,{ref:"lrlsScrollContainer",flex:"1",uniqueKey:"lrls-scroll",onScroll:function(t){t.target.scrollTop+100+e.scrollerHeight>=d*e.listHeight*50&&d<Z&&e.setState({currentPage:d+1})}},i.a.createElement(o.D,{visible:l,district:h.toJS(),value:f,disabled:c,onChange:function(t){a(E.changeLrlsData(["oriTemp","pendingStrongList",s,"categoryUuid"],t.uuid)),a(E.changeLrlsData(["oriTemp","pendingStrongList",s,"categoryName"],t.name)),e.setState({visible:!1})},onCancel:function(){return e.setState({visible:!1})}},i.a.createElement("div",null)),J.slice(0,50*d).map((function(t,n){var r=t.get("beOpened"),l=t.get("beCard");return i.a.createElement(o.r,{key:n,className:"jr-card"},i.a.createElement("div",{className:"jr-item jr-line",onClick:function(){var n=0;g.map((function(e,a){e.get("uuid")==t.get("uuid")&&(n=a)})),t.get("beSelect")?a(E.pendingStrongListBeSelect(n,!1)):(a(E.pendingStrongListBeSelect(n,!0)),l&&(t.get("categoryList")||a(E.getSfglQcCategoryList(n,t.get("uuid"))),e.setState({visible:!0,disabled:!1,idx:n})))}},i.a.createElement("span",null,i.a.createElement(o.e,{style:{paddingRight:"10px"},checked:!!t.get("beSelect")}),r?"\u671f\u521d\u503c":"".concat(t.get("jrIndex"),"\u53f7")),i.a.createElement("span",{className:"lrls-placeholder"},t.get("oriDate"))),i.a.createElement("div",{className:"jr-item"},l?i.a.createElement(o.r,{className:t.get("beSelect")?"overElli":"overElli lrls-placeholder",onClick:function(){var a=0;g.map((function(e,n){e.get("uuid")==t.get("uuid")&&(a=n)})),t.get("beSelect")&&e.setState({visible:!0,disabled:!1,idx:a})}},t.get("categoryName")?t.get("categoryName"):"\u70b9\u51fb\u9009\u62e9\u7c7b\u522b"):i.a.createElement("div",{className:"overElli"},t.get("categoryName")),i.a.createElement("span",null)),i.a.createElement("div",{className:"jr-item"},i.a.createElement("span",{className:"overElli"},t.get("oriAbstract"))),i.a.createElement("div",{className:"jr-item"},i.a.createElement("span",{className:""},"credit"==t.get("direction")?"\u8d37\u65b9\u53d1\u751f":"\u501f\u65b9\u53d1\u751f"),i.a.createElement(o.a,{showZero:!0,className:"hx-bold"},t.get("amount"))))}))),i.a.createElement("div",{className:"jr-card hx-top-line",style:{display:O>0?"":"none"}},i.a.createElement("div",{className:"jr-item"},i.a.createElement("span",null,"\u5df2\u52fe\u9009\u6d41\u6c34\uff1a",O,"\u6761"),i.a.createElement("span",null,I,i.a.createElement(o.a,{showZero:!0},Math.abs(Number(A)))))),i.a.createElement(o.d,null,i.a.createElement(o.c,{onClick:function(){return k?T.a.Alert("\u8bf7\u9009\u62e9\u9700\u8981\u6838\u7b97\u7684\u6d41\u6c34\u7684\u7c7b\u522b"):O>160?T.a.Alert("\u52fe\u9009\u7684\u6838\u9500\u6d41\u6c34\u4e0d\u80fd\u8d85\u8fc7160\u6761"):(a(E.changeLrlsData(["views","showJrPage"],!1)),a(E.changeLrlsData(["oriTemp","amount"],Object(S.l)(Math.abs(A)))),a(E.changeLrlsData(["oriTemp","jrAmount"],Object(S.l)(A))),a(E.changeLrlsData(["oriTemp","allHandleAmount"],Object(S.l)(A))),void a(E.changeLrlsData(["oriTemp","usedAccounts"],!!v&&1==O)))}},i.a.createElement(o.l,{type:"confirm"}),i.a.createElement("span",null,"\u786e\u5b9a"))))}}]),a}(i.a.Component))||z,Je=function e(t){t.forEach((function(t){t.key=t.uuid,t.label=t.name,t.childList.length&&(e(t.childList),t.childList.unshift({key:t.uuid,label:"\u5168\u90e8",uuid:t.uuid,name:t.name,childList:[]}))}))},Ze=Object(d.c)((function(e){return e}))(G=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).scrollerHeight=0,e.listHeight=0,e.state={isSearch:!1,searchValue:"",currentPage:1,isAll:!0,categoryValue:"ALL"},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=document.getElementsByClassName("scroll-view")[1];this.scrollerHeight=Number(window.getComputedStyle(e).height.replace("px",""));var t=document.getElementsByClassName("jr-card")[0];this.listHeight=t?Number(window.getComputedStyle(t).height.replace("px","")):82}},{key:"render",value:function(){var e=this,t=this.props,a=t.dispatch,n=t.editRunningState,r=this.state,l=r.isSearch,c=r.searchValue,s=r.currentPage,m=r.isAll,u=r.categoryValue,d=n.getIn(["oriTemp","pendingStrongList"]),g=n.getIn(["oriTemp","oriState"]),h="STATE_YYSR_XS"===g?"\u6536\u5165\u91d1\u989d\u5408\u8ba1\uff1a":"\u9000\u9500\u91d1\u989d\u5408\u8ba1\uff1a",f="insert"==n.getIn(["views","insertOrModify"]),y=n.get("categoryList").toJS(),b=n.getIn(["cardAllList","warehouseList"]).toJS(),v=n.get("stockCategoryList"),L=n.get("stockList"),C=n.get("commonCardList").toJS(),N=n.getIn(["cardAllList","stockCardList"]).map((function(e){return"".concat(e.get("code")," ").concat(e.get("name"))})),T=[],_=[],j=[],O=[],A=[{uuid:"ALL",name:"\u5168\u90e8",top:!0,childList:[]}],k=m?L.toJS():C;if(f){Je(y);var I=n.getIn(["oriTemp","relationCategoryUuid"]);I&&I.map((function(e){T.push(e.get("name")),_.push({key:e.get("uuid"),label:e.get("name")})})),n.getIn(["cardAllList","warehouseCardList"]).map((function(e){j.push(e.get("name")),O.push(e.get("uuid"))})),v.map((function(e){A.push(e.toJS())})),A.forEach((function(e){e.key=e.uuid,e.label=e.name,e.childList.length&&Je(e.childList)})),k.map((function(e){e.name=e.key,e.uuid=e.cardUuid}))}var J=0,Z=0;d.forEach((function(e){e.get("beSelect")&&(J++,Z+=Math.abs(e.get("amount")))}));var D=d;l&&c&&(D=d.filter((function(e){var t=!1;return e.get("oriAbstract").toString().includes(c)&&(t=!0),e.get("amount").toString().includes(c)&&(t=!0),t})));var w=Math.ceil(D.size/50);return i.a.createElement(o.h,{className:"edit-running"},f?i.a.createElement("div",null,i.a.createElement("div",{className:"sfgl",style:{display:l?"none":""}},i.a.createElement(o.f,{className:"sfgl-item",multiSelect:!0,district:y,value:_,onOk:function(e){var t=[];e.forEach((function(e){t.push({uuid:e.uuid,name:e.name})})),a(E.changeLrlsData(["oriTemp","relationCategoryUuid"],Object(p.fromJS)(t))),a(E.getJzcbList(!0))}},i.a.createElement(o.r,{className:"lrls-padding sfgl-name"},T.length?i.a.createElement("span",{className:"overElli"}," ",T.join("\u3001")," "):i.a.createElement("span",{className:"overElli lrls-placeholder"},"\u7b5b\u9009\u6d41\u6c34\u7c7b\u522b..."),i.a.createElement(o.l,{type:"triangle"}))),i.a.createElement(o.f,{className:"sfgl-item left-line",type:"card",multiSelect:!0,title:"\u8bf7\u9009\u62e9\u5b58\u8d27",district:A,cardList:k,value:u,onChange:function(t){e.setState({categoryValue:t.key}),"ALL"!=t.key?(e.setState({isAll:!1}),a(E.getCostStockByCategory(t.key,t.top,"commonCardJzcbList"))):e.setState({isAll:!0})},onOk:function(e){a(E.changeLrlsData(["cardAllList","stockCardList"],Object(p.fromJS)(e.map((function(e){return{cardUuid:e.uuid,code:e.code,name:e.oriName}}))))),a(E.getJzcbList(!0))},onCancel:function(){e.setState({visible:!1})}},i.a.createElement(o.r,{className:"lrls-padding sfgl-name"},N.size?i.a.createElement("span",{className:"overElli"}," ",N.join("\u3001")," "):i.a.createElement("span",{className:"overElli lrls-placeholder"},"\u7b5b\u9009\u5361\u7247..."),i.a.createElement(o.l,{type:"triangle"}))),i.a.createElement(o.n,{className:"sfgl-item left-line",district:b,value:O,onOk:function(e){var t=[];e.forEach((function(e){t.push({name:e.name,uuid:e.uuid})})),a(E.changeLrlsData(["cardAllList","warehouseCardList"],Object(p.fromJS)(t))),a(E.getJzcbList(!0))}},i.a.createElement(o.r,{className:"lrls-padding sfgl-name"},j.length?i.a.createElement("span",{className:"overElli"}," ",j.join("\u3001")," "):i.a.createElement("span",{className:"overElli lrls-placeholder"},"\u7b5b\u9009\u4ed3\u5e93..."),i.a.createElement(o.l,{type:"triangle"}))),i.a.createElement("div",{className:"sfgl-search left-line",onClick:function(){return e.setState({isSearch:!0})}},i.a.createElement(o.l,{type:"search"}))),i.a.createElement("div",{className:"sfgl sfgl-search-item",style:{display:l?"":"none"}},i.a.createElement(o.l,{type:"search"}),i.a.createElement(o.E,{className:"xfn-multiple-input",placeholder:"\u641c\u7d22\u6458\u8981\u3001\u91d1\u989d...",value:c,onChange:function(t){return e.setState({searchValue:t})}}),i.a.createElement("span",{className:"xfn-multiple-cancel",onClick:function(){return e.setState({searchValue:"",isSearch:!1,currentPage:1})}},"\u53d6\u6d88"))):null,i.a.createElement(o.s,{ref:"lrlsScrollContainer",flex:"1",uniqueKey:"lrls-scroll",savePosition:!0,onScroll:function(t){t.target.scrollTop+100+e.scrollerHeight>=s*e.listHeight*50&&s<w&&e.setState({currentPage:s+1})}},D.slice(0,50*s).map((function(e,t){e.get("isOpenedQuantity");var n=e.get("unitCardName")?e.get("unitCardName"):"",r=e.get("quantity")?e.get("quantity"):0,l=(e.get("assistList")?e.get("assistList"):Object(p.fromJS)([])).reduce((function(e,t){return"".concat(e).concat(e?";":"").concat(t.get("propertyName"))}),""),c=e.get("batch")?e.get("batch"):"",s=e.get("expirationDate")?e.get("expirationDate"):"",m=s?"".concat(c,"(").concat(s,")"):c,u=e.get("storeCardName")?e.get("storeCardName"):"";return i.a.createElement(o.r,{key:t,className:"jr-card",onClick:function(){var t=d.findIndex((function(t){return t.get("jrJvUuid")==e.get("jrJvUuid")}));e.get("beSelect")?a(E.pendingStrongListBeSelect(t,!1)):a(E.pendingStrongListBeSelect(t,!0))}},i.a.createElement("div",{className:"jr-item jr-line"},i.a.createElement("span",null,i.a.createElement(o.e,{style:{paddingRight:"10px"},checked:!!e.get("beSelect"),onChange:function(){}}),e.get("beOpened")?"\u671f\u521d\u503c":"".concat(e.get("jrIndex"),"\u53f7")),i.a.createElement("span",{className:"lrls-placeholder"},e.get("oriDate"))),i.a.createElement("div",{className:"jr-item"},i.a.createElement("span",{className:"overElli"},"\u6458\u8981\uff1a",e.get("oriAbstract"))),i.a.createElement("div",{className:"jr-item"},i.a.createElement("span",null,"".concat(e.get("stockCardCode")," ").concat(e.get("stockCardName"))," ",r?"(\u6570\u91cf:".concat(r).concat(n,")"):null),i.a.createElement(o.a,{showZero:!0,className:"hx-bold"},Math.abs(e.get("amount")))),u?i.a.createElement("div",{className:"jr-item"},i.a.createElement("span",null,"\u4ed3\u5e93: ".concat(u))):null,l||m?i.a.createElement("div",{className:"jr-item"},i.a.createElement("span",null,"\u5c5e\u6027: ".concat(l," ").concat(m))):null)}))),i.a.createElement("div",{className:"jr-card hx-top-line",style:{display:J>0?"":"none"}},i.a.createElement("div",{className:"jr-item"},i.a.createElement("span",null,"\u5df2\u52fe\u9009\u6d41\u6c34\uff1a",J,"\u6761"),i.a.createElement("span",null,h,i.a.createElement(o.a,{showZero:!0},Z)))),i.a.createElement(o.d,null,i.a.createElement(o.c,{onClick:function(){a(E.changeLrlsData(["views","showJrPage"],!1)),a(E.changeLrlsData(["oriTemp","jrAmount"],Object(S.l)(Z))),["STATE_YYSR_XS","STATE_YYSR_TS"].includes(g)&&a(E.setJzcbPrice())}},i.a.createElement(o.l,{type:"choose"}),i.a.createElement("span",null,"\u786e\u5b9a"))))}}]),a}(i.a.Component))||G,De=Object(d.c)((function(e){return e}))(q=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).scrollerHeight=0,e.listHeight=107,e.pageSize=20,e.throttleFn=Object(S.v)((function(t,a,n){t.target.scrollTop+100+e.scrollerHeight>=a*e.listHeight*e.pageSize&&a<n&&e.setState({currentPage:a+1})})),e.state={currentPage:1},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=document.getElementsByClassName("scroll-view")[1];this.scrollerHeight=Number(window.getComputedStyle(e).height.replace("px",""));var t=document.getElementsByClassName("jr-card")[0];this.listHeight=t?Number(window.getComputedStyle(t).height.replace("px","")):107}},{key:"render",value:function(){var e=this,t=this.props,a=t.dispatch,n=t.editRunningState,r=this.state.currentPage,l=n.getIn(["oriTemp","pendingStrongList"]),c=n.getIn(["oriTemp","oriState"]),s=n.getIn(["oriTemp","shareType"]),m="modify"===n.getIn(["views","insertOrModify"]),u=0,d=0,p=!1;l.forEach((function(e){e.get("beSelect")&&(u++,d+=e.get("notHandleAmount"),p=!0)}));var g=Math.ceil(l.size/this.pageSize);return i.a.createElement(o.h,{className:"edit-running"},"STATE_GGFYFT"==c?i.a.createElement(o.r,{className:"lrls-category hx-top-line ggfyft"},i.a.createElement("span",{className:"0"===s?"item active":"item",onClick:function(){m||(a(E.changeLrlsData(["oriTemp","shareType"],"0")),a(E.getGgfyftList()))}},i.a.createElement("span",{className:m?"lrls-placeholder":""},"\u5206\u644a\u652f\u51fa")),i.a.createElement("span",{className:"1"===s?"item active":"item",onClick:function(){m||(a(E.changeLrlsData(["oriTemp","shareType"],"1")),a(E.getGgfyftList()))}},i.a.createElement("span",{className:m?"lrls-placeholder":""},"\u5206\u644a\u6536\u5165"))):null,i.a.createElement(o.s,{ref:"lrlsScrollContainer",flex:"1",uniqueKey:"lrls-scroll",savePosition:!0,onScroll:function(t){e.throttleFn(t,r,g)}},l.slice(0,r*this.pageSize).map((function(e,t){var n=!1;return p&&d*e.get("notHandleAmount")<0&&(n=!0),i.a.createElement(o.r,{key:t,className:"jr-card",onClick:function(){n||(e.get("beSelect")?a(E.pendingStrongListBeSelect(t,!1)):a(E.pendingStrongListBeSelect(t,!0)))}},i.a.createElement("div",{className:"jr-item jr-line"},i.a.createElement("span",null,i.a.createElement(o.e,{style:{paddingRight:"10px"},checked:!!e.get("beSelect"),onChange:function(){},disabled:n}),e.get("beOpened")?"\u671f\u521d\u503c":"".concat(e.get("jrIndex"),"\u53f7")),i.a.createElement("span",{className:"lrls-placeholder"},e.get("oriDate"))),i.a.createElement("div",{className:"jr-item"},i.a.createElement("span",{className:"overElli"},e.get("categoryName"))),i.a.createElement("div",{className:"jr-item"},i.a.createElement("span",{className:"overElli"},"\u6458\u8981\uff1a",e.get("oriAbstract"))),i.a.createElement("div",{className:"jr-item"},i.a.createElement("span",null,e.get("jrJvTypeName")),i.a.createElement(o.a,{showZero:!0,className:"hx-bold"},e.get("notHandleAmount"))))}))),i.a.createElement("div",{className:"jr-card hx-top-line",style:{display:u>0?"":"none"}},i.a.createElement("div",{className:"jr-item"},i.a.createElement("span",null,"\u5df2\u52fe\u9009\u6d41\u6c34\uff1a",u,"\u6761"),i.a.createElement("span",null,"\u5408\u8ba1\u91d1\u989d\uff1a",i.a.createElement(o.a,{showZero:!0},d)))),i.a.createElement(o.d,null,i.a.createElement(o.c,{onClick:function(){if(u>160)return T.a.Alert("\u52fe\u9009\u7684\u6838\u9500\u6d41\u6c34\u4e0d\u80fd\u8d85\u8fc7160\u6761");a(E.changeLrlsData(["views","showJrPage"],!1)),a(E.changeLrlsData(["oriTemp","jrAmount"],Object(S.l)(d))),a(E.autoCalculate())}},i.a.createElement(o.l,{type:"choose"}),i.a.createElement("span",null,"\u786e\u5b9a"))))}}]),a}(i.a.Component))||q,we=Object(d.c)((function(e){return e}))(W=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props,t=e.dispatch,a=e.editRunningState,n=a.getIn(["oriTemp","pendingStrongList"]),r=a.getIn(["oriTemp","projectCardList",0,"projectProperty"]),l=0,c=0,s="\u53d1\u751f\u91d1\u989d:",m="\u5df2\u5165\u5e93\u91d1\u989d:";return i.a.createElement(o.h,{className:"edit-running"},i.a.createElement(o.s,{ref:"lrlsScrollContainer",flex:"1",uniqueKey:"lrls-scroll",savePosition:!0},n.map((function(e,t){var a=e.get("happenAmount"),n=e.get("storeAmount"),u=e.get("direction");return"XZ_CONSTRUCTION"==r?(s="debit"==u?"\u5f85\u786e\u8ba4\u6536\u5165":"\u5df2\u786e\u8ba4\u6536\u5165",m="debit"==u?"\u5f85\u786e\u8ba4\u6210\u672c":"\u5df2\u786e\u8ba4\u6210\u672c","debit"==u&&(a&&(l+=Number(a)),n&&(c+=Number(n))),"credit"==u&&(a&&(l-=Number(a)),n&&(c-=Number(n)))):(a&&(l+=Number(a)),n&&(c+=Number(n))),i.a.createElement(o.r,{key:t,className:"jr-card"},i.a.createElement("div",{className:"jr-item jr-line"},i.a.createElement("span",null,e.get("beOpened")?"\u671f\u521d\u503c":"".concat(e.get("jrIndex"),"\u53f7")),i.a.createElement("span",{className:"lrls-placeholder"},e.get("oriDate"))),i.a.createElement("div",{className:"jr-item"},i.a.createElement("span",{className:"overElli"},e.get("categoryName"))),i.a.createElement("div",{className:"jr-item"},i.a.createElement("span",{className:"overElli"},"\u6458\u8981\uff1a",e.get("oriAbstract"))),i.a.createElement("div",{className:"jr-item"},i.a.createElement("div",null,a?s:null," ",i.a.createElement(o.a,{className:"hx-bold"},a)),i.a.createElement("div",null,n?m:null," ",i.a.createElement(o.a,{className:"hx-bold"},n))))}))),i.a.createElement("div",{className:"jr-card hx-top-line"},i.a.createElement("div",{className:"jr-item"},i.a.createElement("span",null,"XZ_CONSTRUCTION"==r?"\u5f85\u786e\u8ba4\u6536\u5165\u51c0\u989d":s," ",i.a.createElement(o.a,{showZero:!0},Object(S.l)(l))),i.a.createElement("span",null,"XZ_CONSTRUCTION"==r?"\u5f85\u786e\u8ba4\u6210\u672c\u51c0\u989d":m," ",i.a.createElement(o.a,{showZero:!0},Object(S.l)(c))))),i.a.createElement(o.d,null,i.a.createElement(o.c,{onClick:function(){t(E.changeLrlsData(["views","showJrPage"],!1))}},i.a.createElement(o.l,{type:"choose"}),i.a.createElement("span",null,"\u786e\u5b9a"))))}}]),a}(i.a.Component))||W,Ue=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props,t=e.categoryType,a=e.isModify,n=null;return({LB_XCZC:function(){n=i.a.createElement(_e,null)},LB_SFZC:function(){n=i.a.createElement(Te,null)},LB_ZSKX:function(){n=i.a.createElement(ve,null)},LB_ZFKX:function(){n=i.a.createElement(Le,null)},LB_JK:function(){n=i.a.createElement(Se,null)},LB_TZ:function(){n=i.a.createElement(Ce,null)},LB_ZB:function(){n=i.a.createElement(Ne,null)},LB_SFGL:function(){n=i.a.createElement(Ie,null)},LB_JZCB:function(){n=i.a.createElement(Ze,null)},LB_KJFP:function(){n=i.a.createElement(je,null)},LB_FPRZ:function(){n=i.a.createElement(Oe,null)},LB_ZCWJZZS:function(){n=i.a.createElement(ke,null)},LB_GGFYFT:function(){n=i.a.createElement(De,null)},LB_JZSY:function(){n=i.a.createElement(Ae,null)},LB_XMJZ:function(){n=i.a.createElement(we,null)}}[t]||function(){return null})(),i.a.createElement("div",{className:"xfn-tree xfn-tree-animate"},i.a.createElement("div",{className:"xfn-tree-popup"},i.a.createElement("div",{className:"jr-title",style:{display:!a&&["LB_SFGL","LB_ZSKX","LB_ZFKX","LB_JZCB"].includes(t)?"none":""}},i.a.createElement("span",null,"LB_XMJZ"==t?"\u67e5\u770b\u8be6\u60c5":"\u9009\u62e9\u6838\u9500\u6d41\u6c34")),n))}}]),a}(s.Component);a(1462);var Be,xe,Pe,Xe,Re=a(542),Ye=a(224),Me=a(1334),Fe=a(38),He=Object(d.c)((function(e){return e}))(Be=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).state={codeRepeatModal:!1,autoEncode:"",encodeList:[]},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){T.a.setTitle({title:"\u5f55\u5165\u6d41\u6c34"}),T.a.setIcon({showIcon:!1}),T.a.setRight({show:!1}),this.props.dispatch(Fe.b.setDdConfig()),sessionStorage.removeItem("routerPage");var e=document.getElementsByClassName("scroll-view")[0];var t=Object(S.v)((function(e){e.target.scrollHeight<=e.target.clientHeight&&(e.target.scrollTop=0)}));e.addEventListener("scroll",(function(e){t(e)}),!1);var a=sessionStorage.getItem("ylToLr");if(["MODIFY","COPY"].includes(a)){sessionStorage.removeItem("ylToLr"),sessionStorage.setItem("prevPage","editrunning"),this.props.dispatch(E.fromYlToLr(a));var n=this.props.homeState.getIn(["data","userInfo","sobInfo","moduleInfo"]),r=!n||n.indexOf("ENCLOSURE_RUN")>-1,l="TRUE"===this.props.homeState.getIn(["data","userInfo","checkMoreFj"]);return r&&l&&this.props.dispatch(E.getLabelFetch()),void(n.includes("WAREHOUSE")&&this.props.dispatch(E.getWarehouseCardList()))}var c=sessionStorage.getItem("prevPage");if(["home","searchrunning","runningpreview"].includes(c)){sessionStorage.removeItem("prevPage"),this.props.dispatch(E.accountSaveAndNew()),this.props.dispatch(Ye.f()),this.props.dispatch(E.changeLrlsEnclosureList());var s=this.props.homeState.getIn(["data","userInfo","sobInfo","moduleInfo"]),i=!s||s.indexOf("ENCLOSURE_RUN")>-1,o="TRUE"===this.props.homeState.getIn(["data","userInfo","checkMoreFj"]);i&&o&&this.props.dispatch(E.getLabelFetch()),s.includes("WAREHOUSE")&&this.props.dispatch(E.getWarehouseCardList())}}},{key:"componentDidUpdate",value:function(e){if(this.props.editRunningState.getIn(["oriTemp","oriState"])!=e.editRunningState.getIn(["oriTemp","oriState"])){var t=document.getElementsByName("running-textarea")[0];t.focus(),t.blur()}}},{key:"render",value:function(){var e=this,t=this.props,a=t.dispatch,n=t.history,r=t.editRunningState,l=t.homeState,c=t.allState,s=this.state,m=s.codeRepeatModal,d=s.autoEncode,g=s.encodeList,f=l.getIn(["permissionInfo","LrAccount"]).getIn(["edit","permission"]),y=c.get("oriCategory"),C=c.get("accountList"),N=[];C.size&&C.getIn([0,"childList"]).forEach((function(e,t){var a=e.toJS();a.key=a.name,a.value="".concat(a.uuid).concat(h.B).concat(a.name),N.push(a)}));var _=Object(p.fromJS)(N),j=r.getIn(["views","insertOrModify"]),O="COPY"==r.getIn(["views","ylType"]),A="modify"===j,k=r.getIn(["views","showJrPage"]),I=r.get("commonCardList").toJS(),J=r.get("commonCurrentList").toJS(),Z=r.get("cardAllList"),D=r.get("oriTemp"),w=D.get("oriDate"),U=D.get("jrIndex"),B=D.get("oriState"),x=D.get("categoryType"),P=D.get("categoryUuid"),X=D.get("categoryName"),R=D.get("oriAbstract"),Y=D.get("amount"),M=D.get("accounts"),F=D.get("jrAmount"),H=D.get("propertyCarryover"),z="SX_HW"==H,G=D.get("handleType"),q=D.get("usedAccounts"),W=D.getIn([b.a[x],"beAccrued"]),Q=D.getIn([b.a[x],"beWelfare"]),K=D.get("propertyTax"),V=D.get("propertyPay"),$=D.get("beProject"),ee=D.get("usedProject"),te=r.get("projectCategoryList"),ne=r.get("commonProjectList"),re=D.get("projectRange")?D.get("projectRange"):Object(p.fromJS)([]),pe=D.get("projectCardList")?D.get("projectCardList"):Object(p.fromJS)([]),ve=r.get("projectList")?r.get("projectList"):Object(p.fromJS)([]),Le=!!$&&Object(Me.h)(D);A&&D.get("oriUsedProject")&&(Le=!0,"LB_JZCB"==x&&["STATE_YYSR_XS","STATE_YYSR_TS"].includes(B)&&(Le=!1),["LB_GGFYFT","LB_SFGL"].includes(x)&&(Le=!1));var Se=D.get("usedCurrent"),Ce=r.get("currentList")?r.get("currentList"):Object(p.fromJS)([]),Ne=D.getIn([b.a[x],"beManagemented"]),Te=D.getIn([b.a[x],"contactsRange"]),_e=(D.getIn([b.a[x],"allContactsRange"]),r.get("currentCategoryList")),je=D.get("currentCardList")?D.get("currentCardList"):Object(p.fromJS)([]),Oe=D.getIn([b.a[x],"contactsManagement"]),Ae=D.get("oriUsedCurrent");A&&Ae&&(Oe=!0);var ke=c.getIn(["taxRate","scale"]),Ie=c.getIn(["taxRate","payableRate"]),Je=c.getIn(["taxRate","outputRate"]),Ze=c.getIn(["taxRate","rateOptionList"]),De=D.get("billList"),we=D.get("billStrongList")?D.get("billStrongList"):Object(p.fromJS)([]),Be=D.get("beCleaning"),xe=D.get("assets"),Pe=D.get("carryoverStrongList")?D.get("carryoverStrongList"):Object(p.fromJS)([]),Xe=D.get("propertyCostList"),Ye=D.get("propertyCost"),Fe=r.get("stockList"),He=D.get("stockCardList"),ze=D.get("stockCardOtherList"),Ge=D.getIn([b.a[x],"stockRange"]),qe=(D.getIn([b.a[x],"allStockRange"]),r.get("stockCategoryList")),We=!(!z&&"SX_HW_FW"!=H||!["STATE_YYSR_XS","STATE_YYSR_TS","STATE_YYZC_GJ","STATE_YYZC_TG"].includes(B)),Qe=D.get("usedStock"),Ke=l.getIn(["data","userInfo","sobInfo","moduleInfo"]).includes("WAREHOUSE"),Ve="STATE_CHYE_TYDJ"==B?r.get("warehouseListTydj"):r.get("warehouseList"),$e=l.getIn(["data","userInfo","sobInfo","moduleInfo"]).includes("QUANTITY"),et=D.get("beCarryover"),tt=D.get("carryoverCardList"),at=D.get("stockStrongList")?D.get("stockStrongList"):Object(p.fromJS)([]),nt=r.get("categoryList"),rt=D.get("uuid"),lt=D.get("name");"LB_SFGL"==x&&(rt=D.getIn(["pendingManageDto","categoryUuid"]),lt=D.getIn(["pendingManageDto","categoryName"])),["LB_JZCB","LB_JXSEZC","LB_JZSY","LB_ZJTX"].includes(x)&&(rt=D.get("relationCategoryUuid"),lt=D.get("relationCategoryName"));var ct=D.get("pendingStrongList")?D.get("pendingStrongList"):Object(p.fromJS)([]),st=D.get("strongList")?D.get("strongList"):Object(p.fromJS)([]),it=ct.some((function(e){return e.get("beSelect")})),ot=function(e,t,a,n,r,l,c,s){var i=!1;switch(e){case"LB_ZSKX":"STATE_ZS_TH"===t&&(i=!0);break;case"LB_ZFKX":"STATE_ZF_SH"===t&&(i=!0);break;case"LB_JK":!a||"STATE_JK_ZFLX"!==t||c||s||(i=!0);break;case"LB_TZ":a&&["STATE_TZ_SRGL","STATE_TZ_SRLX"].includes(t)&&!c&&!s&&(i=!0);break;case"LB_ZB":!a||"STATE_ZB_ZFLR"!==t||c||s||(i=!0);break;case"LB_SFZC":({SX_ZZS:function(){"STATE_SF_JN"!==t&&"STATE_SF_SFJM"!==t||(i=!0)},SX_GRSF:function(){i=!1},SX_QTSF:function(){(a&&"STATE_SF_JN"===t||"STATE_SF_SFJM"===t)&&(i=!0)},SX_QYSDS:function(){(a&&"STATE_SF_JN"===t||"STATE_SF_SFJM"===t)&&(i=!0)}}[n]||function(){return null})();break;case"LB_XCZC":({SX_GZXJ:function(){!a||"STATE_XC_FF"!==t&&"STATE_XC_DK"!==t||(i=!0)},SX_SHBX:function(){a&&"STATE_XC_JN"===t&&(i=!0)},SX_ZFGJJ:function(){a&&"STATE_XC_JN"===t&&(i=!0)},SX_FLF:function(){l&&"STATE_XC_FF"===t&&(i=!0)},SX_QTXC:function(){a&&"STATE_XC_FF"===t&&(i=!0)}}[r]||function(){return null})();break;case"LB_KJFP":case"LB_FPRZ":case"LB_JZSY":case"LB_SFGL":case"LB_JZCB":case"LB_GGFYFT":i=!0}return{showJr:i}}(x,B,W,K,V,Q,ee,Se),mt=0,ut=0,dt=0,pt=0;"LB_ZCWJZZS"==x&&ct.size&&ct.forEach((function(e){"JR_STRONG_STAY_ZCXX"===e.get("pendingStrongType")?(mt++,dt+=e.get("taxAmount")):(ut++,pt+=e.get("taxAmount"))}));var gt=l.getIn(["data","userInfo","sobInfo","moduleInfo"]),ht=!gt||gt.indexOf("ENCLOSURE_RUN")>-1,Et="TRUE"===l.getIn(["data","userInfo","checkMoreFj"]),ft=r.get("label"),yt=r.get("enclosureList"),bt=c.get("uploadKeyJson"),vt=[];yt.map((function(e){"TRUE"===e.get("imageOrFile")&&vt.push(e.get("signedUrl"))}));var Lt=function(t,a){e.setState({codeRepeatModal:!0,autoEncode:t,encodeList:a})},St=c.get("accountPoundage"),Ct=r.get("poundageCurrentList"),Nt=r.get("poundageProjectList"),Tt=r.get("poundageCurrentRange").toJS(),_t=r.get("poundageProjectRange").toJS(),jt=D.getIn([b.a[x],"beZeroInventory"]),Ot=D.get("usedCarryoverProject"),At=D.get("carryoverProjectCardList");return i.a.createElement(o.h,{className:"edit-running"},i.a.createElement(Re.e,{value:w,onChange:function(e){a(E.changeHomeAccountOriDate(new S.a(e).valueOf(),A))},callback:function(e){a(E.changeHomeAccountOriDate(e,A))}}),i.a.createElement(o.s,{flex:"1"},A&&!O?i.a.createElement(o.r,{className:"lrls-row lrls-more-card"},i.a.createElement("label",null,"\u6d41\u6c34\u53f7\uff1a"),i.a.createElement(o.E.BorderInputItem,{placeholder:"\u586b\u5199\u6d41\u6c34\u53f7",value:U,onChange:function(e){(/^\d*$/g.test(e)||""==e)&&a(E.changeLrlsData(["oriTemp","jrIndex"],e))}}),i.a.createElement("span",{className:"lrls-margin-left"},"\u53f7")):null,i.a.createElement("div",{className:"lrls-card"},i.a.createElement(L,{scale:ke,isModify:A,disabled:A&&!D.get("canBeModifyCategory"),dispatch:a,lastCategory:y,categoryUuid:P,categoryName:X,categoryType:x,isOpenedWarehouse:Ke,openQuantity:$e}),i.a.createElement(oe,{disabled:A,dispatch:a,categoryType:x,handleType:G}),i.a.createElement(me,{disabled:A,dispatch:a,categoryType:x,categoryList:nt,beProject:$,uuid:rt,name:lt}),i.a.createElement(ue,{dispatch:a,categoryType:x,oriState:B,propertyCostList:Xe,propertyCost:Ye,hasSelect:it}),"LB_XMJZ"==x?i.a.createElement(he,{usedProject:ee,projectCardList:pe,projectList:ve,dispatch:a,categoryType:x,oriState:B,propertyPay:V,history:n,projectRange:re,projectCategoryList:te,commonProjectList:ne,propertyCarryover:H,propertyCostList:Xe,isModify:A,handleType:G,showXmjz:!0}):null,i.a.createElement(v,{isModify:A,dispatch:a,oriTemp:D,isOpenedWarehouse:Ke,openQuantity:$e,projectShareType:Z.get("projectShareType"),isCopy:O})),i.a.createElement(o.r,{className:"lrls-card"},i.a.createElement("div",{className:"lrls-bottom",style:{display:"STATE_YYSR_ZJ"==B?"":"none"}},i.a.createElement(me,{disabled:A,dispatch:a,categoryType:x,categoryList:nt,beProject:$,uuid:rt,name:lt,showJzcb:!0,oriState:B})),i.a.createElement(ue,{dispatch:a,categoryType:x,oriState:B,propertyCostList:Xe,propertyCost:Ye,hasSelect:it,isHandleCategory:!0}),i.a.createElement("div",{className:"lrls-line"},i.a.createElement("label",null,"\u6458\u8981\uff1a"),i.a.createElement(o.B,{name:"running-textarea",placeholder:"\u6458\u8981\u586b\u5199",value:R,onChange:function(e){a(E.changeLrlsData(["oriTemp","oriAbstract"],e))},onFocus:function(){var e=document.getElementsByName("running-textarea")[0];e.setSelectionRange&&e.setSelectionRange(R.length,R.length)}}))),Oe?i.a.createElement(Ee,{history:n,dispatch:a,currentList:Ce,currentCardList:je,contactsRange:Te,categoryType:x,oriState:B,isModify:A,strongListSize:st.size,stockStrongListSize:at.size,usedCurrent:Se,beAccrued:W,oriUsedCurrent:Ae,allContactsRange:_e,commonCurrentList:J,isCopy:O}):null,Le?i.a.createElement(he,{usedProject:ee,projectCardList:pe,projectList:ve,dispatch:a,categoryType:x,oriState:B,propertyPay:V,history:n,projectRange:re,projectCategoryList:te,commonProjectList:ne,propertyCarryover:H,propertyCostList:Xe,isModify:A,handleType:G,relationCategoryType:D.get("relationCategoryType")}):null,We?i.a.createElement(ge,{dispatch:a,stockList:Fe,stockCardList:He,stockRange:Ge,history:n,categoryType:x,cardDisabled:A&&et,propertyCarryover:H,usedStock:Qe,isOpenedWarehouse:Ke,warehouseList:Ve,allStockRange:qe,commonCardList:I}):null,i.a.createElement(le,{history:n,isModify:A,dispatch:a,oriTemp:D,accountList:_,accounts:M,pendingStrongList:ct,stockList:Fe,stockCardList:He,projectCardList:pe,projectList:ve,hasSelect:it,isOpenedWarehouse:Ke,warehouseList:Ve,stockCategoryList:qe,commonCardList:I,stockCardOtherList:ze,projectCategoryList:te,commonProjectList:ne,cardAllList:Z}),q&&["LB_YYSR","LB_YYZC","LB_FYZC"].includes(x)?i.a.createElement(ae,{dispatch:a,history:n,accountList:_,accounts:M,beManagemented:Ne,oriState:B}):null,!A&&St.get("uuid")&&St.get("canUsed")?i.a.createElement(fe,{dispatch:a,oriTemp:D,accounts:M,accountPoundage:St,poundageCurrentList:Ct,poundageProjectList:Nt,contactsRange:Te?Te.toJS():[],poundageCurrentRange:Tt,poundageProjectRange:_t,beManagemented:Ne,usedProject:ee,usedCurrent:Se,categoryType:x,history:n}):null,"isEnable"!=ke||A?i.a.createElement(ce,{dispatch:a,categoryType:x,oriState:B,billList:De,amount:Y,scale:ke,payableRate:Ie,outputRate:Je,billStrongList:we,isModify:A,oriBillType:D.get("oriBillType"),rateOptionList:Ze}):null,A||"JR_HANDLE_CZ"!=G?null:i.a.createElement(se,{dispatch:a,amount:Y,beCleaning:Be,assets:xe,beProject:$,usedProject:ee,projectCardList:pe,projectList:ve}),A&&Pe.size?i.a.createElement(o.r,{className:"lrls-row"},"\u7ed3\u8f6c\u6d41\u6c34\uff1a","".concat(Pe.getIn([0,"oriDate"])," ").concat(Pe.getIn([0,"jrIndex"])),"\u53f7"):null,A&&at.size?i.a.createElement(o.r,{className:"lrls-row"},"\u7ed3\u8f6c\u6210\u672c\u6d41\u6c34\uff1a","".concat(at.getIn([0,"oriDate"])," ").concat(at.getIn([0,"jrIndex"])),"\u53f7"):null,!z&&!Qe||"STATE_YYSR_XS"!=B&&"STATE_YYSR_TS"!=B||A?null:i.a.createElement(de,{dispatch:a,stockCardList:He,carryoverCardList:tt,beCarryover:et,isOpenedWarehouse:Ke,isCopy:O}),jt&&z&&"STATE_YYZC_GJ"==B&&!A?i.a.createElement(ye,{dispatch:a,beCarryover:et,categoryList:nt,usedCarryoverProject:Ot,carryoverProjectCardList:At,relationCategoryUuid:D.get("relationCategoryUuid"),relationCategoryName:D.get("relationCategoryName"),relationObj:D.get("relationObj").toJS(),carryoverProject:r.get("carryoverProject"),propertyCost:Ye,usedProject:ee,projectCardList:pe,projectRange:re}):null,i.a.createElement(ie,{categoryType:x,oriState:B,pendingStrongList:ct,jrAmount:F,beAccrued:W||Q,propertyTax:K,propertyPay:V,strongList:st,dispatch:a,projectProperty:pe.getIn([0,"projectProperty"]),isCopy:O}),i.a.createElement(o.r,{className:"lrls-card lrls-type",style:{display:it||!ct.size&&"STATE_GGFYFT"!==B||!ot.showJr?"none":""}},i.a.createElement("span",null,"\u5173\u8054\u6838\u9500"),i.a.createElement("span",{className:"lrls-placeholder",onClick:function(){a(E.changeLrlsData(["views","showJrPage"],!0))}},"\u9009\u62e9\u6838\u9500\u6d41\u6c34 ",i.a.createElement(o.l,{type:"arrow-right"}))),i.a.createElement(o.r,{className:"ylls-card yysr-carryover lrls-button-wrap",style:{display:"LB_ZCWJZZS"==x&&ct.size?"":"none"}},i.a.createElement("div",null,i.a.createElement("div",null,"\u9500\u9879\u7a0e-\u6d41\u6c34\u6570\uff1a",mt,"\u6761\uff1b\u5408\u8ba1\u7a0e\u989d\uff1a",i.a.createElement(o.a,{showZero:!0},dt)),i.a.createElement("div",null,"\u8fdb\u9879\u7a0e-\u6d41\u6c34\u6570\uff1a",ut,"\u6761\uff1b\u5408\u8ba1\u7a0e\u989d\uff1a",i.a.createElement(o.a,{showZero:!0},pt))),i.a.createElement(o.r,null,i.a.createElement("span",{className:"lrls-button",onClick:function(){a(E.changeLrlsData(["views","showJrPage"],!0))}},"\u67e5\u770b"))),i.a.createElement(be.a,{formPage:"EditRunning",className:"",dispatch:a,enCanUse:ht,editPermission:f,enclosureList:yt,showPzfj:!1,checkMoreFj:Et,label:ft.toJS(),previewImageList:vt,showckpz:!1,uploadFiles:function(e){a(E.uploadFiles.apply(E,Object(u.a)(e)))},getUploadGetTokenFetch:function(){a(E.getUploadGetTokenFetch())},getLabelFetch:function(){return a(E.getLabelFetch())},deleteUploadImgUrl:function(e){return a(E.deleteUploadFJUrl(e))},changeTagName:function(e,t){return a(E.changeTagName(e,t))},uploadKeyJson:bt,history:n})),k?i.a.createElement(Ue,{categoryType:x,isModify:A}):null,i.a.createElement(o.p,{title:"\u6d41\u6c34\u53f7\uff1a".concat(U,"\u53f7\u5df2\u5b58\u5728\uff0c\u60a8\u53ef\u4ee5\uff1a"),onCancel:function(){return e.setState({autoEncode:"true",codeRepeatModal:!1})},visible:m,footerVisible:!1,footer:[i.a.createElement("span",{key:"cancel",onClick:function(){return e.setState({autoEncode:"true",codeRepeatModal:!1})}},"\u53d6\u6d88"),i.a.createElement("span",{key:"sure",onClick:function(){e.setState({codeRepeatModal:!1}),a(E.changeLrlsData(["oriTemp","encodeType"],d)),a(E.saveEditRunning(!1))}},"\u786e\u5b9a")]},i.a.createElement("div",{className:"code-repeat-select"},i.a.createElement(o.q,{list:g,value:d,onChange:function(t){e.setState({autoEncode:t})}}))),i.a.createElement(o.d,{style:{borderTop:"1px solid #D8D8D8"}},i.a.createElement(o.c,{disabled:!f,onClick:function(){"LB_HOME"!=x?a(E.saveEditRunning(!1,Lt)):T.a.Alert("\u8bf7\u9009\u62e9\u7c7b\u522b")}},i.a.createElement(o.l,{type:"save"}),i.a.createElement("span",null,"\u4fdd\u5b58")),i.a.createElement(o.c,{disabled:!f,onClick:function(){"LB_HOME"!=x?a(E.saveEditRunning(!0,Lt)):T.a.Alert("\u8bf7\u9009\u62e9\u7c7b\u522b")}},i.a.createElement(o.l,{type:"new"}),i.a.createElement("span",null,"\u4fdd\u5b58\u5e76\u65b0\u589e"))))}}]),a}(i.a.Component))||Be,ze=Object(d.c)((function(e){return e}))(xe=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).scrollerHeight=0,e.listHeight=154,e.totalAmount=0,e.moedAmount=0,e.state={currentPage:1},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){T.a.setTitle({title:"\u624b\u52a8\u6838\u9500"}),T.a.setIcon({showIcon:!1}),T.a.setRight({show:!1}),sessionStorage.setItem("routerPage","routerSfgl");var e=document.getElementsByClassName("scroll-view")[0];this.scrollerHeight=Number(window.getComputedStyle(e).height.replace("px",""));var t=document.getElementsByClassName("jr-card")[0];this.listHeight=t?Number(window.getComputedStyle(t).height.replace("px","")):154}},{key:"componentWillUnmount",value:function(){this.props.dispatch(E.changeLrlsData(["oriTemp","amount"],Object(S.l)(Math.abs(this.totalAmount)))),this.props.dispatch(E.changeLrlsData(["oriTemp","allHandleAmount"],this.totalAmount)),this.props.dispatch(E.changeLrlsData(["oriTemp","moedAmount"],Object(S.l)(this.moedAmount)))}},{key:"render",value:function(){var e=this,t=this.props,a=t.dispatch,n=t.history,r=t.editRunningState,l=this.state.currentPage,c=r.getIn(["oriTemp","pendingStrongList"]),s="modify"===r.getIn(["views","insertOrModify"]),m=r.get("oriTemp"),u=r.getIn(["oriTemp","oriDate"]),d=m.get("oriState"),p=m.get("beMoed"),g=0,h=0,f=0,y=0,b=c.filter((function(e){if(e.get("beSelect")){var t=Number(e.get("handleAmount"))?Number(e.get("handleAmount")):0,a=Number(e.get("moedAmount"))?Number(e.get("moedAmount")):0;return"debit"==e.get("direction")?(h+=Number(e.get("amount")),f+=Number(t),y+=Number(a)):(g+=Number(e.get("amount")),f-=Number(t),y-=Number(a)),!0}}));g=Object(S.l)(g),h=Object(S.l)(h),f=Object(S.l)(f),y=Object(S.l)(y),this.totalAmount=f,this.moedAmount=y,s&&"STATE_SFGL_ML"==d&&(this.totalAmount=y);var v=f>=0?"\u6838\u9500\u6536\u6b3e\u91d1\u989d\uff1a":"\u6838\u9500\u4ed8\u6b3e\u91d1\u989d\uff1a",L=y>=0?"\u6838\u9500\u6536\u6b3e\u62b9\u96f6\uff1a":"\u6838\u9500\u4ed8\u6b3e\u62b9\u96f6\uff1a",C=Math.ceil(b.size/50);return i.a.createElement(o.h,{className:"edit-running"},i.a.createElement(Re.e,{value:u,onChange:function(e){},callback:function(e){}}),i.a.createElement(o.s,{ref:"lrlsScrollContainer",flex:"1",uniqueKey:"lrls-scroll",onScroll:function(t){t.target.scrollTop+100+e.scrollerHeight>=l*e.listHeight*50&&l<C&&e.setState({currentPage:l+1})}},b.slice(0,50*l).map((function(e,t){var n=e.get("beOpened"),r=(e.get("beCard"),Number(e.get("handleAmount"))?Number(e.get("handleAmount")):0),l=Number(e.get("moedAmount"))?Number(e.get("moedAmount")):0,s=e.get("amount"),m=/^\d*\.?\d{0,2}$/g,u="\u8bf7\u8f93\u5165\u6b63\u6570";s<0&&(m=/^-\d*\.?\d{0,2}$/g,u="\u8bf7\u8f93\u5165\u8d1f\u6570");var g=c.findIndex((function(t){return t.get("uuid")==e.get("uuid")}));return i.a.createElement(o.r,{key:t,className:"jr-card lrls-bottom"},i.a.createElement("div",{className:"jr-item jr-line"},i.a.createElement("span",null,n?"\u671f\u521d\u503c":"".concat(e.get("jrIndex"),"\u53f7")),i.a.createElement("span",{className:"lrls-placeholder"},e.get("oriDate"))),i.a.createElement("div",{className:"jr-item"},i.a.createElement("div",{className:"overElli"},e.get("categoryName")),i.a.createElement("span",null)),i.a.createElement("div",{className:"jr-item"},i.a.createElement("span",{className:"overElli"},e.get("oriAbstract"))),i.a.createElement("div",{className:"jr-item lrls-bottom-line"},i.a.createElement("span",{className:""},"credit"==e.get("direction")?"\u8d37\u65b9\u53d1\u751f":"\u501f\u65b9\u53d1\u751f"),i.a.createElement(o.a,{showZero:!0,className:"hx-bold"},e.get("amount"))),i.a.createElement(o.r,{className:"lrls-more-card"},i.a.createElement(o.r,{className:"lrls-more-card sfgl-input sfgl-input-left",style:{display:"STATE_SFGL_ML"==d?"none":""}},i.a.createElement("label",null,"\u6838\u9500\u91d1\u989d\uff1a "),i.a.createElement(o.E.BorderInputItem,{mode:"amount",value:e.get("handleAmount"),onChange:function(e){return m.test(e)||""==e?"-"!=e&&Math.abs(l)+Math.abs(e)>Math.abs(s)?T.a.toast.info("\u91d1\u989d\u4e0d\u80fd\u5927\u4e8e\u5f85\u5904\u7406\u91d1\u989d"):void a(E.changeLrlsData(["oriTemp","pendingStrongList",g,"handleAmount"],e)):T.a.toast.info(u)}})),i.a.createElement(o.r,{className:"lrls-more-card sfgl-input sfgl-input-right",style:{display:"STATE_SFGL_ML"==d||p?"":"none"}},i.a.createElement("label",null,"\u62b9\u96f6\u91d1\u989d\uff1a "),i.a.createElement(o.E.BorderInputItem,{mode:"amount",value:e.get("moedAmount"),onChange:function(e){return m.test(e)||""==e?"-"!=e&&Math.abs(r)+Math.abs(e)>Math.abs(s)?T.a.toast.info("\u91d1\u989d\u4e0d\u80fd\u5927\u4e8e\u5f85\u5904\u7406\u91d1\u989d"):void a(E.changeLrlsData(["oriTemp","pendingStrongList",g,"moedAmount"],e)):T.a.toast.info(u)}}))))}))),i.a.createElement("div",{className:"jr-card hx-top-line"},i.a.createElement("div",{className:"jr-item"},i.a.createElement("span",{className:"jr-item-item"},"\u501f\u65b9\u5408\u8ba1\uff1a",i.a.createElement(o.a,{showZero:!0},h)),s?null:i.a.createElement("span",{className:"jr-item-item"},v,i.a.createElement(o.a,{showZero:!0},Math.abs(f)))),i.a.createElement("div",{className:"jr-item"},i.a.createElement("span",{className:"jr-item-item"},"\u8d37\u65b9\u5408\u8ba1\uff1a",i.a.createElement(o.a,{showZero:!0},g)),s&&"STATE_SFGL"==d?i.a.createElement("span",{className:"jr-item-item"},v,i.a.createElement(o.a,{showZero:!0},Math.abs(f))):null,s&&"STATE_SFGL_ML"==d?i.a.createElement("span",{className:"jr-item-item"},L,i.a.createElement(o.a,{showZero:!0},Math.abs(y))):null,!s&&p?i.a.createElement("span",{className:"jr-item-item"},L,i.a.createElement(o.a,{showZero:!0},Math.abs(y))):null)),i.a.createElement(o.d,null,i.a.createElement(o.c,{onClick:function(){n.goBack()}},i.a.createElement(o.l,{type:"confirm"}),i.a.createElement("span",null,"\u786e\u5b9a"))))}}]),a}(i.a.Component))||xe,Ge=(a(1071),a(1092)),qe=a.n(Ge),We=(a(1079),a(1093)),Qe=a(118),Ke=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).state={visible:!1},e}return Object(r.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.dispatch,n=t.idx,r=t.cardData,l=t.onClick,c=t.stockListArr,s=t.warehouseCardUuid,m=t.assistClick,u=t.batchList,d=t.serialMultipleList,g=t.isModify,h=t.oriUuid,y=this.state.visible,b=function(e,t){return a(E.changeYysrStockCard(e,t,n,"CHDB"))},v=n,L=r,C=L.get("isOpenedQuantity"),N=L.get("cardUuid"),_=L.get("isUniformPrice"),j=L.get("quantity")?Number(L.get("quantity")):0,O=L.get("price")?Number(L.get("price")):0,A=(L.get("amount")&&Number(L.get("amount")),[]);if(C){var k,I=Object(Qe.a)(c);try{for(I.s();!(k=I.n()).done;){var J=k.value;if(J.uuid==L.get("cardUuid")){A.push({key:J.unit.name,value:J.unit.uuid}),J.unit.unitList.map((function(e){A.push({key:e.name,value:e.uuid})}));break}}}catch(H){I.e(H)}finally{I.f()}}var Z=L.getIn(["financialInfo","openAssist"]),D=L.getIn(["financialInfo","openSerial"]),w=L.getIn(["financialInfo","openBatch"]),U=L.getIn(["financialInfo","openShelfLife"]),B=L.getIn(["financialInfo","shelfLife"]),x=L.get("assistList")?L.get("assistList"):Object(p.fromJS)([]),P=L.get("serialList")?L.get("serialList"):Object(p.fromJS)([]),X=x.reduce((function(e,t){return"".concat(e).concat(e?";":"").concat(t.get("propertyName"))}),""),R=L.get("batch")?L.get("batch"):"",Y=L.get("batchUuid")?L.get("batchUuid"):"",M=L.get("expirationDate")?L.get("expirationDate"):"",F=M?"".concat(R,"(").concat(M,")"):R;console.log(L.toJS());return i.a.createElement("div",{className:"lrls-card"},i.a.createElement("div",{className:"lrls-more-card lrls-placeholder lrls-bottom"},i.a.createElement("span",null,"\u5b58\u8d27\u660e\u7ec6(",v+1,")")),i.a.createElement("div",{className:"lrls-more-card lrls-bottom"},i.a.createElement("label",null,"\u5b58\u8d27:"),i.a.createElement("div",{className:"lrls-single",onClick:function(){l()}},i.a.createElement(o.r,{className:"lrls-category lrls-padding"},L.get("cardUuid")?i.a.createElement("span",null," ","".concat(L.get("code")," ").concat(L.get("name"))," "):i.a.createElement("span",{className:"lrls-placeholder"},"\u70b9\u51fb\u9009\u62e9\u5b58\u8d27\u5361\u7247"),i.a.createElement(o.l,{type:"triangle"})))),i.a.createElement("div",{className:"lrls-more-card lrls-bottom",style:{display:Z?"":"none"}},i.a.createElement("label",null,"\u5c5e\u6027:"),i.a.createElement("div",{className:"lrls-single",onClick:function(){m()}},i.a.createElement(o.r,{className:"lrls-category lrls-padding"},X?i.a.createElement("span",null," ",X," "):i.a.createElement("span",{className:"lrls-placeholder"},"\u70b9\u51fb\u9009\u62e9\u5c5e\u6027"),i.a.createElement(o.l,{type:"triangle"})))),i.a.createElement("div",{className:"lrls-more-card lrls-bottom",style:{display:w?"":"none"}},i.a.createElement("label",null,"\u6279\u6b21:"),i.a.createElement(o.u,{className:"lrls-single",district:u,value:R,icon:{type:"add-plus",onClick:function(){a(f.f("MODIFY-INSERT",N,U,B))}},iconTwo:{type:"home",onClick:function(){a(f.f("MODIFY-MODIFY",N,U,B))}},onOk:function(e){b("bitch",Object(p.fromJS)({batch:e.batch,batchUuid:e.batchUuid,expirationDate:e.expirationDate})),D&&(b("quantity",""),b("serialList",Object(p.fromJS)([])))}},i.a.createElement(o.r,{className:"lrls-category lrls-padding",onClick:function(){a(E.getBatchList(N))}},F?i.a.createElement("span",null,F):i.a.createElement("span",{className:"lrls-placeholder"},"\u70b9\u51fb\u9009\u62e9\u6279\u6b21"),i.a.createElement(o.l,{type:"triangle"})))),i.a.createElement(o.r,{className:"yysr-amount lrls-bottom",style:{display:C?"":"none"}},i.a.createElement("label",null,"\u6570\u91cf:"),D?i.a.createElement("span",{className:"serial",style:{display:D?"":"none",flex:1,textAlign:"left"},onClick:function(){return function(){var t=[];return N?(Z&&0==x.size&&t.push("\u8bf7\u5148\u9009\u62e9\u5b8c\u6574\u7684\u5c5e\u6027"),w&&!R&&t.push("\u8bf7\u5148\u9009\u62e9\u6279\u6b21"),s||t.push("\u8bf7\u5148\u9009\u62e9\u8c03\u51fa\u4ed3\u5e93"),t.length?T.a.toast.info(t[0]):void function(){var t=Object(We.a)(qe.a.mark((function t(){return qe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(e){a(E.getSerialListIn({inventoryUuid:N,warehouseUuid:s,assistList:x,batchUuid:Y,oriUuid:h},e))}));case 2:if(!j||!g||0!=P.size){t.next=5;break}return t.next=5,new Promise((function(e){a(E.getSerialListChecked({inventoryUuid:N,outJrOriCardUuid:L.get("jrOriCardUuid")},(function(t){b("serialList",t),e()}),!0))}));case 5:e.setState({visible:!0});case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()):T.a.toast.info("\u8bf7\u5148\u9009\u62e9\u5b58\u8d27\u5361\u7247")}()}},j?i.a.createElement(o.a,{decimalPlaces:4,decimalZero:!1},j):"\u70b9\u51fb\u8f93\u5165",i.a.createElement(o.l,{type:"edit"})):i.a.createElement(o.E.BorderInputItem,{mode:"number",placeholder:"\u586b\u5199\u6570\u91cf",value:L.get("quantity"),onChange:function(e){if(/^\d*\.?\d{0,4}$/g.test(e)&&(b("quantity",e),O>0)){var t=Object(S.l)(O*Number(e));b("amount",t)}else;}}),i.a.createElement(o.u,{className:"lrls-single",district:A,value:L.get("unitUuid"),onOk:function(e){if(b("unit",e),L.get("unitPrice")){var t=e.basicUnitQuantity?e.basicUnitQuantity:1,a=Object(S.l)(L.get("unitPrice")*Number(t));if(b("price",a),L.get("quantity")){var n=Object(S.l)(a*Number(L.get("quantity")));b("amount",n)}}}},i.a.createElement(o.r,{className:"lrls-account lrls-type"},L.get("unitUuid")?i.a.createElement("span",null," ",L.get("unitName")," "):i.a.createElement("span",{className:"lrls-placeholder"},"\u9009\u62e9\u6570\u91cf\u5355\u4f4d"),i.a.createElement(o.l,{type:"triangle"})))),i.a.createElement(o.r,{className:"lrls-more-card lrls-bottom",style:{display:C?"":"none"}},i.a.createElement("label",null,"\u5355\u4ef7\uff1a"),i.a.createElement(o.E.BorderInputItem,{mode:"number",placeholder:"\u586b\u5199\u5355\u4ef7",value:L.get("price"),onChange:function(e){if(/^\d*\.?\d{0,4}$/g.test(e)&&(b("price",e),j>0)){var t=Object(S.l)(j*Number(e));b("amount",t)}}}),i.a.createElement("span",{className:"lrls-margin-left",style:{display:L.get("unitPrice")?"":"none"}},_?"\u7edf\u4e00\u5355\u4ef7\uff1a":"\u53c2\u8003\u5355\u4ef7\uff1a",i.a.createElement(o.a,null,L.get("unitPrice")))),i.a.createElement(o.r,{className:"lrls-more-card lrls-bottom"},i.a.createElement("label",null,"\u91d1\u989d\uff1a"),i.a.createElement(o.E.BorderInputItem,{mode:"amount",placeholder:"\u586b\u5199\u6210\u672c\u91d1\u989d",value:L.get("amount"),onChange:function(e){if(/^\d*\.?\d{0,2}$/g.test(e)&&b("amount",e),C&&j>0){var t=Object(S.l)(Number(e)/j,4);b("price",t)}else;}})),i.a.createElement(o.n,{visible:y,district:d,value:P.toJS().map((function(e){return e.serialUuid})),title:"\u9009\u62e9\u5e8f\u5217\u53f7",showPreview:!0,previewTitle:"\u5df2\u9009\u62e9\u5e8f\u5217\u53f7",onOk:function(t){if(e.setState({visible:!1}),b("quantity",t.length),b("serialList",Object(p.fromJS)(t)),O>0){var a=Object(S.l)(O*Number(t.length));b("amount",a)}else;},onCancel:function(){e.setState({visible:!1})}},i.a.createElement("span",null)))}}]),a}(s.Component),Ve=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).state={visible:!1},e}return Object(r.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.dispatch,n=t.oriState,r=t.idx,l=t.cardData,c=t.stockList,s=t.warehouseList,m=t.pendingStrongList,u=t.isOpenedWarehouse,d=t.onClick,g=t.assistClick,h=t.batchList,y=t.serialMultipleList,b=t.isModify,v=t.oriUuid,L=this.state.visible,C="STATE_YYSR_ZJ"==n,N=function(e,t,n){return a(E.changeYysrStockCard(e,t,n,"JZCB"))},_=r,j=l,O=[],A=j.get("cardUuid"),k=j.get("warehouseCardUuid"),I=j.get("isOpenedQuantity"),J=j.get("isUniformPrice"),Z=j.get("quantity")?Number(j.get("quantity")):0,D=j.get("price")?Number(j.get("price")):0,w=(j.get("amount")&&Number(j.get("amount")),j.get("unitName")?j.get("unitName"):"");if(C&&I){var U,B=c.toJS(),x=Object(Qe.a)(B);try{for(x.s();!(U=x.n()).done;){var P=U.value;if(P.cardUuid==j.get("cardUuid")){O.push({key:P.unit.name,value:P.unit.uuid,basicUnitQuantity:P.unit.basicUnitQuantity}),P.unit.unitList.map((function(e){O.push({key:e.name,value:e.uuid,basicUnitQuantity:e.basicUnitQuantity})}));break}}}catch(ae){x.e(ae)}finally{x.f()}}var X=!0;m.forEach((function(e){e.get("beSelect")&&e.get("stockCardUuid")==j.get("cardUuid")&&(X=!1)}));var R=0;if(C||(R=j.get("unitPrice")?j.get("unitPrice"):0),C){X=!1;var Y=j.get("unitUuid"),M=1;O.forEach((function(e){e.value==Y&&(M=e.basicUnitQuantity)})),R=Object(S.l)(j.get("unitPrice")*M)}var F=j.getIn(["financialInfo","openAssist"]),H=j.getIn(["financialInfo","openSerial"]),z=j.getIn(["financialInfo","openBatch"]),G=j.getIn(["financialInfo","openShelfLife"]),q=j.getIn(["financialInfo","shelfLife"]),W=j.get("assistList")?j.get("assistList"):Object(p.fromJS)([]),Q=j.get("serialList")?j.get("serialList"):Object(p.fromJS)([]),K=W.reduce((function(e,t){return"".concat(e).concat(e?";":"").concat(t.get("propertyName"))}),""),V=j.get("batch")?j.get("batch"):"",$=j.get("batchUuid")?j.get("batchUuid"):"",ee=j.get("expirationDate")?j.get("expirationDate"):"",te=ee?"".concat(V,"(").concat(ee,")"):V;return i.a.createElement("div",{className:"lrls-card"},i.a.createElement("div",{className:"lrls-more-card lrls-placeholder lrls-bottom"},i.a.createElement("span",null,"\u5b58\u8d27\u660e\u7ec6(",_+1,")")),i.a.createElement("div",{className:"lrls-more-card lrls-bottom"},i.a.createElement("label",null,"\u5b58\u8d27:"),i.a.createElement("div",{className:"lrls-single",onClick:function(){C&&d()}},i.a.createElement(o.r,{className:"lrls-category lrls-padding"},j.get("cardUuid")?i.a.createElement("span",null," ","".concat(j.get("code")," ").concat(j.get("name"))," "):i.a.createElement("span",{className:"lrls-placeholder"},"\u70b9\u51fb\u9009\u62e9\u5b58\u8d27\u5361\u7247"),i.a.createElement(o.l,{type:"triangle"})))),i.a.createElement("div",{className:"lrls-more-card lrls-bottom",style:{display:F?"":"none"}},i.a.createElement("label",null,"\u5c5e\u6027:"),i.a.createElement("div",{className:"lrls-single",onClick:function(){C&&g()}},i.a.createElement(o.r,{className:"lrls-category lrls-padding"},K?i.a.createElement("span",null," ",K," "):i.a.createElement("span",{className:"lrls-placeholder"},"\u70b9\u51fb\u9009\u62e9\u5c5e\u6027"),i.a.createElement(o.l,{type:"triangle"})))),i.a.createElement("div",{className:"lrls-more-card lrls-bottom",style:{display:z?"":"none"}},i.a.createElement("label",null,"\u6279\u6b21:"),i.a.createElement(o.u,{className:"lrls-single",district:h,value:V,disabled:!C,icon:{type:"add-plus",onClick:function(){a(f.f("MODIFY-INSERT",A,G,q))}},iconTwo:{type:"home",onClick:function(){a(f.f("MODIFY-MODIFY",A,G,q))}},onOk:function(e){N("bitch",Object(p.fromJS)({batch:e.batch,batchUuid:e.batchUuid,expirationDate:e.expirationDate}),_),H&&(N("quantity","",_),N("serialList",Object(p.fromJS)([]),_))}},i.a.createElement(o.r,{className:"lrls-category lrls-padding",onClick:function(){a(E.getBatchList(A))}},te?i.a.createElement("span",null,te):i.a.createElement("span",{className:"lrls-placeholder"},"\u70b9\u51fb\u9009\u62e9\u6279\u6b21"),i.a.createElement(o.l,{type:"triangle"})))),i.a.createElement("div",{className:"lrls-more-card lrls-bottom",style:{display:u?"":"none"}},i.a.createElement("label",null,"\u4ed3\u5e93:"),i.a.createElement(o.u,{className:"lrls-single",district:s.toJS(),value:j.get("warehouseCardUuid"),onOk:function(e){N("warehouse",e,_),H&&(N("quantity","",_),N("serialList",Object(p.fromJS)([]),_)),"STATE_YYSR_ZJ"==n&&I&&a(E.getJzcbPrice(_))},disabled:!C},i.a.createElement(o.r,{className:"lrls-category lrls-padding"},j.get("warehouseCardUuid")?i.a.createElement("span",null," ","".concat(j.get("warehouseCardCode")," ").concat(j.get("warehouseCardName"))," "):i.a.createElement("span",{className:"lrls-placeholder"},"\u70b9\u51fb\u9009\u62e9\u4ed3\u5e93\u5361\u7247"),i.a.createElement(o.l,{type:"triangle"})))),i.a.createElement(o.r,{className:"yysr-amount lrls-bottom",style:{display:I?"":"none"}},i.a.createElement("label",null,"\u6570\u91cf:"),C&&H?i.a.createElement("span",{className:"serial",onClick:function(){return function(){var t=[];return A?(F&&0==W.size&&t.push("\u8bf7\u5148\u9009\u62e9\u5b8c\u6574\u7684\u5c5e\u6027"),z&&!V&&t.push("\u8bf7\u5148\u9009\u62e9\u6279\u6b21"),u&&!k&&t.push("\u8bf7\u5148\u9009\u62e9\u4ed3\u5e93"),t.length?T.a.toast.info(t[0]):void function(){var t=Object(We.a)(qe.a.mark((function t(){return qe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(e){a(E.getSerialListIn({inventoryUuid:A,warehouseUuid:k,assistList:W,batchUuid:$,oriUuid:v,isPre:!1},e))}));case 2:if(!Z||!b||0!=Q.size){t.next=5;break}return t.next=5,new Promise((function(e){a(E.getSerialListChecked({inventoryUuid:A,outJrOriCardUuid:j.get("jrOriCardUuid")},(function(t){N("serialList",t,_),e()})))}));case 5:e.setState({visible:!0});case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()):T.a.toast.info("\u8bf7\u5148\u9009\u62e9\u5b58\u8d27\u5361\u7247")}()}},Z?i.a.createElement(o.a,{decimalPlaces:4,decimalZero:!1},Z):"\u70b9\u51fb\u8f93\u5165",i.a.createElement(o.l,{type:"edit"})):null,C&&!H?i.a.createElement(o.E.BorderInputItem,{mode:"number",negativeAllowed:!0,placeholder:"\u586b\u5199\u6570\u91cf",value:j.get("quantity"),onChange:function(e){if((/^[-\d]\d*\.?\d{0,4}$/g.test(e)||""==e)&&(N("quantity",e,_),D>0&&"-"!=e)){var t=Object(S.l)(D*Number(e));N("amount",t,_)}else;}}):null,C?i.a.createElement(o.u,{className:"lrls-single",district:O,value:j.get("unitUuid"),onOk:function(e){if(N("unit",e,_),j.get("unitPrice")){var t=Object(S.l)(j.get("unitPrice")*e.basicUnitQuantity,4);if(N("price",t,_),j.get("quantity")){var a=Object(S.l)(t*Number(j.get("quantity")));N("amount",a,_)}}}},i.a.createElement(o.r,{className:"lrls-account lrls-type"},j.get("unitUuid")?i.a.createElement("span",null," ",j.get("unitName")," "):i.a.createElement("span",{className:"lrls-placeholder"},"\u9009\u62e9\u6570\u91cf\u5355\u4f4d"),i.a.createElement(o.l,{type:"triangle"}))):null,C?null:i.a.createElement("span",null,i.a.createElement(o.a,{showZero:!0},Z),w)),i.a.createElement(o.r,{className:"lrls-more-card lrls-bottom",style:{display:I?"":"none"}},i.a.createElement("label",null,"\u5355\u4ef7\uff1a"),i.a.createElement(o.E.BorderInputItem,{mode:"number",disabled:X,placeholder:"\u586b\u5199\u5355\u4ef7",value:j.get("price"),onChange:function(e){if(/^\d*\.?\d{0,4}$/g.test(e)&&(N("price",e,_),Z>0)){var t=Object(S.l)(Z*Number(e));N("amount",t,_)}}}),i.a.createElement("span",{className:"lrls-margin-left",style:{display:R?"":"none"}},J?"\u7edf\u4e00\u5355\u4ef7\uff1a":"\u53c2\u8003\u5355\u4ef7\uff1a",i.a.createElement(o.a,null,R))),i.a.createElement(o.r,{className:"lrls-more-card",onClick:function(){X&&T.a.toast.info("\u8bf7\u5148\u52fe\u9009\u5904\u7406\u6d41\u6c34")}},i.a.createElement("label",null,"\u91d1\u989d\uff1a"),i.a.createElement(o.E.BorderInputItem,{mode:"amount",negativeAllowed:C,disabled:X,placeholder:"\u586b\u5199\u91d1\u989d",value:j.get("amount"),onChange:function(e){var t=/^\d*\.?\d{0,2}$/g;if(C&&(t=/^[-\d]\d*\.?\d{0,2}$/g),(t.test(e)||""==e)&&N("amount",e,_),I&&Z>0&&"-"!=e){var a=Object(S.l)(Number(e)/Z,4);N("price",a,_)}else;}})),i.a.createElement(o.n,{visible:L,district:y,value:Q.toJS().map((function(e){return e.serialUuid})),title:"\u9009\u62e9\u5e8f\u5217\u53f7",showPreview:!0,previewTitle:"\u5df2\u9009\u62e9\u5e8f\u5217\u53f7",onOk:function(t){if(e.setState({visible:!1}),N("quantity",t.length,_),N("serialList",Object(p.fromJS)(t),_),D>0){var a=Object(S.l)(D*Number(t.length));N("amount",a,_)}else;},onCancel:function(){e.setState({visible:!1})}},i.a.createElement("span",null)))}}]),a}(s.Component),$e=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).state={visible:!1},e}return Object(r.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.dispatch,n=t.idx,r=t.cardData,l=t.stockList,c=t.warehouseList,s=t.isOpenedWarehouse,m=t.onClick,u=t.assistClick,d=t.batchList,g=t.serialMultipleList,h=t.isModify,y=t.oriUuid,b=this.state.visible,v=function(e,t,n){return a(E.changeYysrStockCard(e,t,n,"CHTRXM"))},L=n,C=r,N=[],_=C.get("cardUuid"),j=C.get("warehouseCardUuid"),O=C.get("isOpenedQuantity"),A=C.get("quantity")?Number(C.get("quantity")):0,k=C.get("price")?Number(C.get("price")):0,I=(C.get("amount")&&Number(C.get("amount")),!C.get("cardUuid"));C.get("unitPrice")&&Number(C.get("unitPrice"));if(O){var J,Z=l.toJS(),D=Object(Qe.a)(Z);try{for(D.s();!(J=D.n()).done;){var w=J.value;if(w.uuid==C.get("cardUuid")){N.push({key:w.unit.name,value:w.unit.uuid,basicUnitQuantity:w.unit.basicUnitQuantity}),w.unit.unitList.map((function(e){N.push({key:e.name,value:e.uuid,basicUnitQuantity:e.basicUnitQuantity})}));break}}}catch(q){D.e(q)}finally{D.f()}}var U=C.getIn(["financialInfo","openAssist"]),B=C.getIn(["financialInfo","openSerial"]),x=C.getIn(["financialInfo","openBatch"]),P=C.getIn(["financialInfo","openShelfLife"]),X=C.getIn(["financialInfo","shelfLife"]),R=C.get("assistList")?C.get("assistList"):Object(p.fromJS)([]),Y=C.get("serialList")?C.get("serialList"):Object(p.fromJS)([]),M=R.reduce((function(e,t){return"".concat(e).concat(e?";":"").concat(t.get("propertyName"))}),""),F=C.get("batch")?C.get("batch"):"",H=C.get("batchUuid")?C.get("batchUuid"):"",z=C.get("expirationDate")?C.get("expirationDate"):"",G=z?"".concat(F,"(").concat(z,")"):F;return i.a.createElement("div",{className:"lrls-card"},i.a.createElement("div",{className:"lrls-more-card lrls-placeholder lrls-bottom"},i.a.createElement("span",null,"\u5b58\u8d27\u660e\u7ec6(",L+1,")")),i.a.createElement("div",{className:"lrls-more-card lrls-bottom"},i.a.createElement("label",null,"\u5b58\u8d27:"),i.a.createElement("div",{className:"lrls-single",onClick:function(){m()}},i.a.createElement(o.r,{className:"lrls-category lrls-padding"},C.get("cardUuid")?i.a.createElement("span",null," ","".concat(C.get("code")," ").concat(C.get("name"))," "):i.a.createElement("span",{className:"lrls-placeholder"},"\u70b9\u51fb\u9009\u62e9\u5b58\u8d27\u5361\u7247"),i.a.createElement(o.l,{type:"triangle"})))),i.a.createElement("div",{className:"lrls-more-card lrls-bottom",style:{display:U?"":"none"}},i.a.createElement("label",null,"\u5c5e\u6027:"),i.a.createElement("div",{className:"lrls-single",onClick:function(){u()}},i.a.createElement(o.r,{className:"lrls-category lrls-padding"},M?i.a.createElement("span",null," ",M," "):i.a.createElement("span",{className:"lrls-placeholder"},"\u70b9\u51fb\u9009\u62e9\u5c5e\u6027"),i.a.createElement(o.l,{type:"triangle"})))),i.a.createElement("div",{className:"lrls-more-card lrls-bottom",style:{display:x?"":"none"}},i.a.createElement("label",null,"\u6279\u6b21:"),i.a.createElement(o.u,{className:"lrls-single",district:d,value:F,icon:{type:"add-plus",onClick:function(){a(f.f("MODIFY-INSERT",_,P,X))}},iconTwo:{type:"home",onClick:function(){a(f.f("MODIFY-MODIFY",_,P,X))}},onOk:function(e){v("bitch",Object(p.fromJS)({batch:e.batch,batchUuid:e.batchUuid,expirationDate:e.expirationDate}),L),B&&(v("quantity","",L),v("serialList",Object(p.fromJS)([]),L))}},i.a.createElement(o.r,{className:"lrls-category lrls-padding",onClick:function(){a(E.getBatchList(_))}},G?i.a.createElement("span",null,G):i.a.createElement("span",{className:"lrls-placeholder"},"\u70b9\u51fb\u9009\u62e9\u6279\u6b21"),i.a.createElement(o.l,{type:"triangle"})))),i.a.createElement("div",{className:"lrls-more-card lrls-bottom",style:{display:s?"":"none"}},i.a.createElement("label",null,"\u4ed3\u5e93:"),i.a.createElement(o.u,{className:"lrls-single",district:c.toJS(),value:C.get("warehouseCardUuid"),onOk:function(e){v("warehouse",e,L),B&&(v("quantity","",L),v("serialList",Object(p.fromJS)([]),L)),O&&a(E.getChzzPrice(L))}},i.a.createElement(o.r,{className:"lrls-category lrls-padding"},C.get("warehouseCardUuid")?i.a.createElement("span",null," ","".concat(C.get("warehouseCardCode")," ").concat(C.get("warehouseCardName"))," "):i.a.createElement("span",{className:"lrls-placeholder"},"\u70b9\u51fb\u9009\u62e9\u4ed3\u5e93\u5361\u7247"),i.a.createElement(o.l,{type:"triangle"})))),i.a.createElement(o.r,{className:"yysr-amount lrls-bottom",style:{display:O?"":"none"}},i.a.createElement("label",null,"\u6570\u91cf:"),B?i.a.createElement("span",{className:"serial",style:{display:B?"":"none"},onClick:function(){return function(){var t=[];return _?(U&&0==R.size&&t.push("\u8bf7\u5148\u9009\u62e9\u5b8c\u6574\u7684\u5c5e\u6027"),x&&!F&&t.push("\u8bf7\u5148\u9009\u62e9\u6279\u6b21"),s&&!j&&t.push("\u8bf7\u5148\u9009\u62e9\u4ed3\u5e93"),t.length?T.a.toast.info(t[0]):void function(){var t=Object(We.a)(qe.a.mark((function t(){return qe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(e){a(E.getSerialListIn({inventoryUuid:_,warehouseUuid:j,assistList:R,batchUuid:H,oriUuid:y},e))}));case 2:if(!A||!h||0!=Y.size){t.next=5;break}return t.next=5,new Promise((function(e){a(E.getSerialListChecked({inventoryUuid:_,outJrOriCardUuid:C.get("jrOriCardUuid")},(function(t){v("serialList",t,L),e()}),!0))}));case 5:e.setState({visible:!0});case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()):T.a.toast.info("\u8bf7\u5148\u9009\u62e9\u5b58\u8d27\u5361\u7247")}()}},A?i.a.createElement(o.a,{decimalPlaces:4,decimalZero:!1},A):"\u70b9\u51fb\u8f93\u5165",i.a.createElement(o.l,{type:"edit"})):i.a.createElement(o.E.BorderInputItem,{mode:"number",placeholder:"\u586b\u5199\u6570\u91cf",value:C.get("quantity"),onChange:function(e){if(/^\d*\.?\d{0,4}$/g.test(e)&&(v("quantity",e,L),k>0)){var t=Object(S.l)(k*Number(e));v("amount",t,L)}else;}}),i.a.createElement(o.u,{className:"lrls-single",district:N,value:C.get("unitUuid"),onOk:function(e){if(v("unit",e,L),C.get("unitPrice")){var t=e.basicUnitQuantity?e.basicUnitQuantity:1,a=Object(S.l)(C.get("unitPrice")*Number(t));if(v("price",a,L),C.get("quantity")){var n=Object(S.l)(a*Number(C.get("quantity")));v("amount",n,L)}}}},i.a.createElement(o.r,{className:"lrls-account lrls-type"},C.get("unitUuid")?i.a.createElement("span",null," ",C.get("unitName")," "):i.a.createElement("span",{className:"lrls-placeholder"},"\u9009\u62e9\u6570\u91cf\u5355\u4f4d"),i.a.createElement(o.l,{type:"triangle"})))),i.a.createElement(o.r,{className:"lrls-more-card lrls-bottom",style:{display:O?"":"none"}},i.a.createElement("label",null,"\u5355\u4ef7\uff1a"),i.a.createElement(o.E.BorderInputItem,{mode:"number",disabled:I,placeholder:"\u586b\u5199\u5355\u4ef7",value:C.get("price"),onChange:function(e){if(/^\d*\.?\d{0,4}$/g.test(e)&&(v("price",e,L),A>0)){var t=Object(S.l)(A*Number(e));v("amount",t,L)}}})),i.a.createElement(o.r,{className:"lrls-more-card lrls-bottom",onClick:function(){I&&T.a.toast.info("\u8bf7\u5148\u9009\u62e9\u5b58\u8d27\u5361\u7247")}},i.a.createElement("label",null,"\u91d1\u989d\uff1a"),i.a.createElement(o.E.BorderInputItem,{mode:"amount",disabled:I,placeholder:"\u586b\u5199\u91d1\u989d",value:C.get("amount"),onChange:function(e){if(v("amount",e,L),O&&A>0){var t=Object(S.l)(Number(e)/A,4);v("price",t,L)}else;}})),i.a.createElement(o.n,{visible:b,district:g,value:Y.toJS().map((function(e){return e.serialUuid})),title:"\u9009\u62e9\u5e8f\u5217\u53f7",showPreview:!0,previewTitle:"\u5df2\u9009\u62e9\u5e8f\u5217\u53f7",onOk:function(t){if(e.setState({visible:!1}),v("quantity",t.length,L),v("serialList",Object(p.fromJS)(t),L),k>0){var a=Object(S.l)(k*Number(t.length));v("amount",a,L)}else;},onCancel:function(){e.setState({visible:!1})}},i.a.createElement("span",null)))}}]),a}(s.Component),et=a(1463),tt=a(1464),at=a(1465),nt=a(1467),rt=a(1468),lt=a(1337),ct=function(e,t,a,n){var r=[],l=[];return a.forEach((function(t,a){a!=n&&t.get("cardUuid")==e&&t.get("serialList")&&t.get("serialList").map((function(e){r.push(e.get("serialUuid"))}))})),t.forEach((function(e){var t=e.serialUuid;r.includes(t)||l.push(e)})),l},st=Object(d.c)((function(e){return e}))(Pe=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).state={isAll:!0,visible:!1,categoryValue:"ALL",assistVisible:!1},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){T.a.setTitle({title:"\u5b58\u8d27\u660e\u7ec6"}),T.a.setIcon({showIcon:!1}),T.a.setRight({show:!1}),sessionStorage.setItem("routerPage","routerStock")}},{key:"render",value:function(){var e=this,t=this.props,a=t.dispatch,n=t.history,r=t.homeState,l=t.editRunningState,c=this.state,s=c.isAll,m=c.visible,u=c.categoryValue,d=c.assistVisible,g=r.getIn(["data","userInfo","sobInfo","moduleInfo"]).includes("WAREHOUSE"),h=l.get("views"),y=h.get("idx"),v="modify"===h.get("insertOrModify"),L=l.get("oriTemp"),S=L.get("categoryType"),C=L.get("oriUuid"),N=L.get("oriState"),T=L.get("stockCardList"),_=L.getIn([b.a[S],"stockRange"]);_=_||[];var j=L.get("pendingStrongList")?L.get("pendingStrongList"):Object(p.fromJS)([]),O=l.get("stockList"),A=l.get("commonCardList").toJS(),k=l.get("stockCategoryList"),I=l.get("cardAllList"),J=I.get("batchList").toJS(),Z=I.get("serialList").toJS(),D="STATE_CHYE_TYDJ"==N?l.get("warehouseListTydj"):l.get("warehouseList"),w=[{uuid:"ALL",name:"\u5168\u90e8",childList:[]}],U=s?O.toJS():A,B=null,x=null,P=null,X=!1,R=T.size,Y=[],M=[],F=!1;switch(S){case"LB_YYSR":case"LB_YYZC":k.map((function(e){_.includes(e.get("uuid"))&&w.push(e.toJS())})),U.map((function(e){e.name=e.key})),X=!0,B=function(e,t){return a(E.changeYysrStockCard(e,t,y))},x=function(e){return a(E.getStockListByCategory(e))};var H=L.get("beCarryover"),z=!(!v||!H),G=T.get(y)?T.get(y):Object(p.fromJS)({});Y=(Y=G.getIn(["financialInfo","assistClassificationList"]))||Object(p.fromJS)([]),M=G.get("assistList")?G.get("assistList").toJS():[],F=G.getIn(["financialInfo","openSerial"]),P=i.a.createElement(et.a,{idx:y,cardData:G,dispatch:a,oriState:N,cardDisabled:z,stockCardList:T,stockListArr:U,warehouseList:D,isOpenedWarehouse:g,onClick:function(){z||e.setState({visible:!0})},assistClick:function(){z||e.setState({assistVisible:!0})},batchList:J,serialMultipleList:ct(G.get("cardUuid"),Z,T,y),isModify:v,oriUuid:C});break;case"LB_CHDB":T.map((function(e){return e.get("cardUuid")}));w=[{uuid:"ALL",name:"\u5168\u90e8",top:!0,childList:[]}],k.map((function(e){w.push(e.toJS())})),U.map((function(e){e.name=e.key}));x=function(e){return a(E.getStockListByCategory(e))},B=function(e,t,n){!function(e,t,n){a(E.changeYysrStockCard(e,t,n,"CHDB"))}("card",t,n),a(E.getChdbPrice(n,t,"stockCardList"))};var q=T.get(y)?T.get(y):Object(p.fromJS)({}),W=L.get("warehouseCardList"),Q=(W.get(0)?W.get(0):Object(p.fromJS)({})).get("cardUuid");Y=(Y=q.getIn(["financialInfo","assistClassificationList"]))||Object(p.fromJS)([]),M=q.get("assistList")?q.get("assistList").toJS():[],F=q.getIn(["financialInfo","openSerial"]),P=i.a.createElement(Ke,{idx:y,cardData:q,dispatch:a,warehouseCardUuid:Q,onClick:function(){e.setState({visible:!0})},stockListArr:U,assistClick:function(){e.setState({assistVisible:!0})},batchList:J,serialMultipleList:ct(q.get("cardUuid"),Z,T,y),isModify:v,oriUuid:C});break;case"LB_JZCB":var K=T.map((function(e){return e.get("cardUuid")})),V="STATE_YYSR_ZJ"==N;w=[{uuid:"ALL",name:"\u5168\u90e8",top:!0,childList:[]}],k.map((function(e){w.push(e.toJS())})),v&&!V&&(w=[{key:"ALL",label:"\u5168\u90e8",top:!0,childList:[]}]),U.map((function(e){e.name=e.key,e.uuid=e.cardUuid,["STATE_YYSR_XS","STATE_YYSR_TS"].includes(N)&&K.includes(e.cardUuid)&&(e.disabled=!0)})),x=function(e){return a(E.getCostStockByCategory(e.key,e.top,"commonCardJzcbList"))},B=function(e,t,n){a(E.changeYysrStockCard("card",t,n,"JZCB")),"STATE_YYSR_ZJ"==N&&a(E.getJzcbListPrice(n,t)),v&&a(E.filterJzcbList())};var $=T.get(y)?T.get(y):Object(p.fromJS)({});V&&(Y=(Y=$.getIn(["financialInfo","assistClassificationList"]))||Object(p.fromJS)([]),M=$.get("assistList")?$.get("assistList").toJS():[],F=$.getIn(["financialInfo","openSerial"])),P=i.a.createElement(Ve,{idx:y,cardData:$,dispatch:a,oriState:N,stockList:O,warehouseList:D,pendingStrongList:j,isOpenedWarehouse:g,onClick:function(){e.setState({visible:!0})},assistClick:function(){e.setState({assistVisible:!0})},batchList:J,serialMultipleList:ct($.get("cardUuid"),Z,T,y),isModify:v,oriUuid:C});break;case"LB_CHTRXM":w=[{uuid:"ALL",name:"\u5168\u90e8",top:!0,childList:[]}],k.map((function(e){w.push(e.toJS())})),U.map((function(e){e.name=e.key})),x=function(e){return a(E.getStockListByCategory(e))},B=function(e,t,n){a(E.changeYysrStockCard("card",t,n,"CHTRXM")),a(E.getChzzListPrice(n,t))};var ee=T.get(y)?T.get(y):Object(p.fromJS)({});Y=(Y=ee.getIn(["financialInfo","assistClassificationList"]))||Object(p.fromJS)([]),M=ee.get("assistList")?ee.get("assistList").toJS():[],F=ee.getIn(["financialInfo","openSerial"]),P=i.a.createElement($e,{idx:y,cardData:ee,dispatch:a,stockList:O,warehouseList:D,isOpenedWarehouse:g,onClick:function(){e.setState({visible:!0})},assistClick:function(){e.setState({assistVisible:!0})},batchList:J,serialMultipleList:ct(ee.get("cardUuid"),Z,T,y),isModify:v,oriUuid:C});break;case"LB_CHZZ":if(X=!0,"STATE_CHZZ_ZZCX"==N){w=[{uuid:"ALL",name:"\u5168\u90e8",top:!0,childList:[]}],k.map((function(e){w.push(e.toJS())}));var te=h.get("cardType"),ae=L.get("stockCardOtherList"),ne=T.map((function(e){return e.get("cardUuid")})),re=ae.map((function(e){return e.get("cardUuid")}));U.map((function(e){e.name=e.key,"stockCardList"==te&&re.includes(e.uuid)&&(e.disabled=!0),"stockCardOtherList"==te&&ne.includes(e.uuid)&&(e.disabled=!0)})),x=function(e){return a(E.getStockListByCategory(e))},B=function(e,t,n){a(E.changeYysrStockCard("card",t,n,"CHZZ",te)),a(E.getChzzListPrice(n,t,te))};var le=T.get(y)?T.get(y):Object(p.fromJS)({});"stockCardOtherList"==te&&(le=ae.get(y)?ae.get(y):Object(p.fromJS)({}),R=ae.size),Y=(Y=le.getIn(["financialInfo","assistClassificationList"]))||Object(p.fromJS)([]),M=le.get("assistList")?le.get("assistList").toJS():[],F=le.getIn(["financialInfo","openSerial"]),P=i.a.createElement(tt.a,{idx:y,cardData:le,cardType:te,dispatch:a,stockList:O,warehouseList:D,isOpenedWarehouse:g,onClick:function(){e.setState({visible:!0})},assistClick:function(){e.setState({assistVisible:!0})},batchList:J,serialMultipleList:ct(le.get("cardUuid"),Z,"stockCardList"==te?T:ae,y),isModify:v,oriUuid:C})}if("STATE_CHZZ_ZZD"==N){w=[{uuid:"ALL",name:"\u5168\u90e8",top:!0,childList:[]}],k.map((function(e){w.push(e.toJS())})),x=function(e){return a(E.chzzAssemblyList(e))},B=function(e,t,n){a(E.changeYysrStockCard("card",t,n,"CHZZ_ZZD"))};var ce=T.get(y)?T.get(y):Object(p.fromJS)({}),se=I.get("assemblyList").toJS(),ie=I.get("commonAssemblyList").toJS();U=s?se:ie,Y=(Y=ce.getIn(["financialInfo","assistClassificationList"]))||Object(p.fromJS)([]),M=ce.get("assistList")?ce.get("assistList").toJS():[],F=ce.getIn(["financialInfo","openSerial"]),P=i.a.createElement(at.a,{idx:y,isModify:v,cardData:ce,dispatch:a,stockList:O,commonCardList:A,stockCategoryList:k,assemblyList:se,warehouseList:D,isOpenedWarehouse:g,onClick:function(){e.setState({visible:!0})},assistClick:function(){e.setState({assistVisible:!0})},batchList:J,serialMultipleList:Z,oriUuid:C})}break;case"LB_CHYE":L.get("warehouseCardList"),T.map((function(e){return e.get("cardUuid")}));w=[{uuid:"ALL",name:"\u5168\u90e8",top:!0,childList:[]}],k.map((function(e){w.push(e.toJS())})),U.map((function(e){e.name=e.key})),x=function(e){return a(E.getStockListByCategory(e))},B=function(e,t,n){a(E.changeYysrStockCard("card",t,n,"CHYE")),"STATE_CHYE_CH"!=N&&a(E.getChyePrice(t,n,"stock"))};var oe=T.get(y)?T.get(y):Object(p.fromJS)({});Y=(Y=oe.getIn(["financialInfo","assistClassificationList"]))||Object(p.fromJS)([]),M=oe.get("assistList")?oe.get("assistList").toJS():[],F=oe.getIn(["financialInfo","openSerial"]),P=i.a.createElement(nt.a,{idx:y,cardData:oe,dispatch:a,oriState:N,stockList:O,warehouseList:D,isOpenedWarehouse:g,onClick:function(){e.setState({visible:!0})},assistClick:function(){e.setState({assistVisible:!0})},batchList:J,serialMultipleList:ct(oe.get("cardUuid"),Z,T,y),isModify:v,oriUuid:C});break;case"LB_XMJZ":w=[{uuid:"ALL",name:"\u5168\u90e8",top:!0,childList:[]}],k.map((function(e){w.push(e.toJS())})),X=!0,U.map((function(e){e.name=e.key})),x=function(e){return a(E.getStockListByCategory(e))},B=function(e,t,n){a(E.changeYysrStockCard("card",t,n,"XMJZ")),a(E.getChzzListPrice(n,t))};var me=T.get(y)?T.get(y):Object(p.fromJS)({});Y=(Y=me.getIn(["financialInfo","assistClassificationList"]))||Object(p.fromJS)([]),M=me.get("assistList")?me.get("assistList").toJS():[],F=me.getIn(["financialInfo","openSerial"]),P=i.a.createElement(rt.a,{idx:y,cardData:me,dispatch:a,stockList:O,warehouseList:D,isOpenedWarehouse:g,onClick:function(){e.setState({visible:!0})},assistClick:function(){e.setState({assistVisible:!0})},batchList:J,serialMultipleList:ct(me.get("cardUuid"),Z,T,y),isModify:v,oriUuid:C})}!function e(t){t.forEach((function(t){t.key=t.uuid,t.label=t.name,t.childList.length&&e(t.childList)}))}(w);var ue=y-1,de=y+1;return i.a.createElement(o.h,{className:"edit-running"},i.a.createElement(o.f,{visible:m,type:"card",title:"\u8bf7\u9009\u62e9\u5b58\u8d27",icon:{type:"inventory-add",onClick:function(){X&&a(f.b(_,n))}},district:w,cardList:U,value:u,onChange:function(t){if(e.setState({categoryValue:t.key}),"ALL"==t.key)return e.setState({isAll:!0});e.setState({isAll:!1}),x(t)},onOk:function(e){e.length&&B("card",e,y)},onCancel:function(){e.setState({visible:!1})}},i.a.createElement("span",null)),i.a.createElement(o.s,{ref:"lrlsScrollContainer",flex:"1",uniqueKey:"lrls-scroll"},P),i.a.createElement(lt.a,{assistVisible:d,assistClassificationList:Y,oriAssistList:M,onOk:function(t){var n="stockCardList";"STATE_CHZZ_ZZCX"==N&&(n=h.get("cardType")),a(E.changeYysrStockCard("assistList",Object(p.fromJS)(t),y,void 0,n)),F&&(a(E.changeYysrStockCard("quantity","",y,void 0,n)),a(E.changeYysrStockCard("serialList",Object(p.fromJS)([]),y,void 0,n))),e.setState({assistVisible:!1})},addClick:function(t){var n="stockCardList";"STATE_CHZZ_ZZCX"==N&&(n=h.get("cardType")),a(E.addInventoryAssist(t,n,N)),e.setState({categoryValue:"ALL",isAll:!0})},onCancel:function(){e.setState({assistVisible:!1})}}),i.a.createElement(o.d,null,i.a.createElement(o.c,{disabled:ue<=-1,onClick:function(){a(E.changeLrlsData(["views","idx"],ue))}},i.a.createElement(o.l,{type:"arrow-right",style:{transform:"rotate(180deg)"}}),i.a.createElement("span",null,"\u4e0a\u4e00\u660e\u7ec6")),i.a.createElement(o.c,{onClick:function(){n.goBack()}},i.a.createElement(o.l,{type:"confirm"}),i.a.createElement("span",null,"\u786e\u5b9a")),i.a.createElement(o.c,{disabled:de==R,onClick:function(){return a(E.changeLrlsData(["views","idx"],de))}},i.a.createElement("span",null,"\u4e0b\u4e00\u660e\u7ec6"),i.a.createElement(o.l,{type:"arrow-right"}))))}}]),a}(i.a.Component))||Pe,it=Object(d.c)((function(e){return e}))(Xe=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"componentDidMount",value:function(){T.a.setTitle({title:"\u8d26\u6237\u624b\u7eed\u8d39"}),T.a.setIcon({showIcon:!1}),T.a.setRight({show:!1}),sessionStorage.setItem("routerPage","routerPoundage")}},{key:"render",value:function(){var e=this.props,t=e.dispatch,a=e.history,n=e.editRunningState,r=e.allState.get("accountPoundage"),l=r.get("poundageNeedCurrent"),c=r.get("poundageNeedProject"),s=n.get("poundageCurrentList"),m=n.get("poundageProjectList"),u=n.get("oriTemp"),d=u.get("needUsedPoundage"),g=u.get("poundageCurrentCardList"),f=u.get("poundageProjectCardList"),y=(u.get("projectRange")&&u.get("projectRange").toJS(),u.get("poundageCurrent")),b=u.get("poundageProject"),v=(u.get("usedCurrent"),u.get("includesPoundage")),L=g.get(0)?g.get(0):Object(p.fromJS)({}),C=f.get(0)?f.get(0):Object(p.fromJS)({}),N="".concat(C.get("code")," ").concat(C.get("name"));["COMNCRD","ASSIST","MAKE","INDIRECT","MECHANICAL"].includes(C.get("code"))&&(N=C.get("name"));var _=u.getIn(["accounts",0,"poundage","poundage"]),j=u.getIn(["accounts",0,"poundage","poundageRate"]),O=u.getIn(["accounts",0,"poundageAmount"]),A=u.getIn(["accounts",0,"isManual"]),k=u.get("amount"),I=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v,n=arguments.length>2?arguments[2]:void 0,r=0,l=!1;if(A&&(r=O,Object(S.l)(Math.abs(k)-O)<0&&(l=!0)),!A||l||e){if(r=Math.abs(Object(S.l)(k*j/1e3)),a&&(r=Math.abs(Object(S.l)(k/(1+Number(j/1e3))*j/1e3))),_&&_>0&&r>_&&(r=_),n)return r;t(E.changeLrlsData(["oriTemp","accounts",0,"poundageAmount"],Math.abs(r))),t(E.changeLrlsData(["oriTemp","accounts",0,"isManual"],!1))}},J=I(!0,!1,!0),Z=I(!0,!0,!0);return A&&(v?Z=O:J=O),i.a.createElement(o.h,{className:"edit-running"},i.a.createElement(o.s,{ref:"lrlsScrollContainer",flex:"1",uniqueKey:"lrls-scroll"},i.a.createElement("div",{className:"lrls-card"},i.a.createElement(o.r,{className:"lrls-more-card"},i.a.createElement("span",null,"\u8d26\u6237\u624b\u7eed\u8d39"),i.a.createElement("div",{className:"noTextSwitch"},i.a.createElement(o.w,{checked:d,onClick:function(){t(E.changeLrlsData(["oriTemp","needUsedPoundage"],!d)),d?(t(E.changeLrlsData(["oriTemp","includesPoundage"],!1)),t(E.changeLrlsData(["oriTemp","poundageCurrentCardList"],Object(p.fromJS)([]))),t(E.changeLrlsData(["oriTemp","poundageProjectCardList"],Object(p.fromJS)([])))):I()}}))),i.a.createElement("div",{className:"lrls-more-card lrls-margin-top",style:{display:d&&l?"":"none"}},i.a.createElement("label",null,"\u5f80\u6765\u5355\u4f4d:"),y?i.a.createElement(o.u,{className:"lrls-single",district:s.toJS(),value:L.get("cardUuid")?"".concat(L.get("cardUuid")).concat(h.B).concat(L.get("code")).concat(h.B).concat(L.get("name")):"",onOk:function(e){t(E.changeCurrentCardList(e.value,"poundageCurrent"))}},i.a.createElement(o.r,{className:"lrls-category lrls-padding"},L.get("cardUuid")?i.a.createElement("span",null," ","".concat(L.get("code")," ").concat(L.get("name"))," "):i.a.createElement("span",{className:"lrls-placeholder"},"\u70b9\u51fb\u9009\u62e9\u5f80\u6765\u5361\u7247"),i.a.createElement(o.l,{type:"triangle"}))):null,i.a.createElement("div",{className:"noTextSwitch",style:{marginLeft:"6px"}},i.a.createElement(o.w,{checked:y,onClick:function(){t(E.changeLrlsData(["oriTemp","poundageCurrent"],!y)),t(E.changeLrlsData(["oriTemp","poundageCurrentCardList"],Object(p.fromJS)([])))}}))),i.a.createElement("div",{className:"lrls-more-card lrls-margin-top",style:{display:d&&c?"":"none"}},i.a.createElement("label",null,"\u9879\u76ee:"),b?i.a.createElement(o.u,{className:"lrls-single",district:m.toJS(),value:C.get("cardUuid")?"".concat(C.get("cardUuid")).concat(h.B).concat(C.get("code")).concat(h.B).concat(C.get("name")):"",onOk:function(e){t(E.changeProjectCard("poundageProject",e.value,0))}},i.a.createElement(o.r,{className:"lrls-category lrls-padding"},C.get("cardUuid")?i.a.createElement("span",null," ",N," "):i.a.createElement("span",{className:"lrls-placeholder"},"\u70b9\u51fb\u9009\u62e9\u9879\u76ee\u5361\u7247"),i.a.createElement(o.l,{type:"triangle"}))):null,i.a.createElement("div",{className:"noTextSwitch",style:{marginLeft:"6px"}},i.a.createElement(o.w,{checked:b,onClick:function(){t(E.changeLrlsData(["oriTemp","poundageProject"],!b)),t(E.changeLrlsData(["oriTemp","poundageProjectCardList"],Object(p.fromJS)([])))}})))),i.a.createElement("div",{className:"lrls-card",style:{display:d?"":"none"}},i.a.createElement(o.r,{className:"lrls-more-card lrls-bottom"},i.a.createElement("label",null,"\u624b\u7eed\u8d39:"),i.a.createElement(o.E.BorderInputItem,{mode:"amount",placeholder:"\u586b\u5199\u91d1\u989d",value:O,onChange:function(e){_&&_>0&&e>_?T.a.toast.info("\u8f93\u5165\u91d1\u989d\u4e0d\u53ef\u5927\u4e8e\u624b\u7eed\u8d39\u4e0a\u9650"):Object(S.l)(Math.abs(k)-e)<0?T.a.toast.info("\u624b\u7eed\u8d39\u4e0d\u53ef\u5927\u4e8e\u8f6c\u51fa\u91d1\u989d"):(t(E.changeLrlsData(["oriTemp","accounts",0,"poundageAmount"],e)),t(E.changeLrlsData(["oriTemp","accounts",0,"isManual"],!0)))}})),i.a.createElement("div",{className:"lrls-more-card"},i.a.createElement("div",{className:"lrls-poundage",style:{borderColor:v?"":"#FF8348"},onClick:function(){t(E.changeLrlsData(["oriTemp","includesPoundage"],!1)),I(!0,!1)}},i.a.createElement("div",{className:"lrls-margin-bottom"},i.a.createElement("span",{className:"lrls-placeholder lrls-margin-bottom"},"\u8f6c\u51fa\u91d1\u989d:"),i.a.createElement(o.a,{showZero:!0},Object(S.l)(Number(k)+Number(J)))),i.a.createElement("div",null,i.a.createElement("span",{className:"lrls-placeholder"},"\u5230\u8d26\u91d1\u989d:"),i.a.createElement(o.a,{showZero:!0},Object(S.l)(Number(k)))),i.a.createElement("div",{style:{display:v?"none":""}},i.a.createElement("div",{className:"triangle"}),i.a.createElement(o.l,{type:"tick"}))),i.a.createElement("div",{className:"lrls-poundage lrls-margin-left",style:{borderColor:v?"#FF8348":""},onClick:function(){t(E.changeLrlsData(["oriTemp","includesPoundage"],!0)),I(!0,!0)}},i.a.createElement("div",{className:"lrls-margin-bottom"},i.a.createElement("span",{className:"lrls-placeholder"},"\u8f6c\u51fa\u91d1\u989d:"),i.a.createElement(o.a,{showZero:!0},Object(S.l)(Number(k)))),i.a.createElement("div",null,i.a.createElement("span",{className:"lrls-placeholder"},"\u5230\u8d26\u91d1\u989d:"),i.a.createElement(o.a,{showZero:!0},Object(S.l)(Number(k)-Number(Z)))),i.a.createElement("div",{style:{display:v?"":"none"}},i.a.createElement("div",{className:"triangle"}),i.a.createElement(o.l,{type:"tick"})))))),i.a.createElement(o.d,null,i.a.createElement(o.c,{onClick:function(){a.goBack()}},i.a.createElement(o.l,{type:"confirm"}),i.a.createElement("span",null,"\u786e\u5b9a"))))}}]),a}(i.a.Component))||Xe,ot=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return i.a.createElement(o.h,null,i.a.createElement(m.a,{path:"/editrunning/index",component:He}),i.a.createElement(m.a,{path:"/editrunning/sfgl",component:ze}),i.a.createElement(m.a,{path:"/editrunning/stock",component:st}),i.a.createElement(m.a,{path:"/editrunning/poundage",component:it}))}}]),a}(i.a.Component),mt=(a(82),a(4)),ut=a(1263),dt=Object(p.fromJS)({views:{insertOrModify:"insert",showJrPage:!1,idx:0,ylType:""},categoryTemp:{},oriTemp:{categoryType:"LB_HOME",oriDate:"",oriState:"",oriAbstract:"",categoryName:"\u8bf7\u9009\u62e9\u7c7b\u522b",categoryUuid:"",usedAccounts:!1,accounts:[{accountUuid:"",accountName:"",amount:""}],amount:"",currentAmount:"",jrAmount:"",jrTaxAmount:"",pendingStrongList:[],usedProject:!1,beCarryover:!1,usedCurrent:!1,projectCardList:[{amount:""}],currentCardList:[],stockCardList:[{amount:""}],carryoverCardList:[{amount:""}],payment:{actualAmount:"",companyAccumulationAmount:"",personAccumulationAmount:"",companySocialSecurityAmount:"",personSocialSecurityAmount:"",incomeTaxAmount:""},assets:{originalAssetsAmount:"",depreciationAmount:"",cleaningAmount:""},billList:[{billType:"bill_other",billState:"",taxRate:"",tax:""}],accumulationAmount:"",socialSecurityAmount:"",preAmount:"",payableAmount:"",offsetAmount:"",moedAmount:"",pendingManageDto:{categoryUuid:[],categoryName:"\u4e0d\u9650\u5236\u6d41\u6c34\u7c7b\u522b",isManualWriteOff:!1},deductedAmount:"",reduceAmount:"",beReduceTax:!1,relationCategoryUuid:"",relationCategoryName:"\u8bf7\u9009\u62e9\u5904\u7406\u7c7b\u522b",usedStock:!1,warehouseCardList:[{cardUuid:"",code:"",name:"",warehouseStatus:"WAREHOUSE_STATUS_FROM"},{cardUuid:"",code:"",name:"",warehouseStatus:"WAREHOUSE_STATUS_TO"}],needUsedPoundage:!1,poundageCurrent:!1,poundageProject:!1,includesPoundage:!1,poundageCurrentCardList:[],poundageProjectCardList:[],stockCardOtherList:[{amount:""}],usedCarryoverProject:!1,carryoverProjectCardList:[],beMoed:!1,relationObj:{propertyCostList:[]},inputTax:!0,taxTotal:"",shareType:"0"},projectList:[],currentList:[],stockList:[],warehouseList:[],categoryList:[{uuid:"",childList:[]}],warehouseListTydj:[],carryoverProject:[],poundageCurrentList:[],poundageProjectList:[],poundageCurrentRange:[],poundageProjectRange:[],enclosureList:[],label:[],commonCardList:[],stockCategoryList:[],currentCategoryList:[],commonCurrentList:[],projectCategoryList:[],commonProjectList:[],cardAllList:{assemblyList:[],commonAssemblyList:[],warehouseList:[],stockCardList:[],warehouseCardList:[],projectShareType:[],batchList:[],serialList:[]}});var pt=a(1126),gt=a(1226),ht=a(1127),Et=a(1128),ft=a(225),yt={editRunningState:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dt,a=arguments.length>1?arguments[1]:void 0;return((e={},Object(mt.a)(e,ut.K,(function(){return t.set("enclosureList",Object(p.fromJS)([]))})),Object(mt.a)(e,ut.E,(function(){var e=[];return a.receivedData.data.map((function(t){e.push({label:t,value:t})})),t=t.set("label",Object(p.fromJS)(e)).set("tagModal",!0)})),Object(mt.a)(e,ut.n,(function(){return t.set("oriTemp",dt.get("oriTemp")).set("views",dt.get("views")).setIn(["oriTemp","oriDate"],a.date)})),Object(mt.a)(e,ut.u,(function(){return a.set?t.set(a.dataType,a.value):t.setIn(a.dataType,a.value)})),Object(mt.a)(e,ut.B,(function(){var e=Object(p.fromJS)(a.receivedData);if(t=t.setIn(["views","ylType"],""),a.isModify){var n=t.get("oriTemp"),r=t.getIn(["oriTemp","billList"]);r&&0==r.size&&(r=Object(p.fromJS)([{billType:"bill_other",billState:"",taxRate:"",tax:""}]));var l=t.getIn(["oriTemp","accounts"]);l&&0==l.size&&(l=Object(p.fromJS)([{accountUuid:"",accountName:""}]));var c=t.getIn(["oriTemp","amount"]);"LB_FYZC"!=e.getIn(["category","categoryType"])&&(c=Math.abs(c));var s=function(e,t){var a=new Set([].concat(Object(u.a)(e),Object(u.a)(t)));return e.length===a.size},i=Object(p.fromJS)([]),o=e.get("categoryType"),m=n.get("categoryType"),d=e.getIn([b.a[o],"contactsManagement"]),g=n.get("usedCurrent");if(d&&g)s(e.getIn([b.a[o],"contactsRange"]).toJS(),n.getIn([b.a[m],"contactsRange"]).toJS())&&(i=n.get("currentCardList"));var h=Object(p.fromJS)([{amount:""}]),E=e.get("beProject"),f=n.get("usedProject");if(E&&f)s(e.get("projectRange").toJS(),n.get("projectRange").toJS())&&(h=n.get("projectCardList"));return t=t.set("categoryTemp",e).setIn(["views","insertOrModify"],"modify").mergeIn(["oriTemp"],e).mergeIn(["oriTemp"],Object(p.fromJS)({amount:c,billList:r,accounts:l,projectCardList:h,currentCardList:i,usedCurrent:!1,oriUsedProject:!1,oriUsedCurrent:!1,categoryUuid:e.get("uuid"),categoryName:e.get("name"),stockCardList:[{amount:""}]})),Object(Me.g)(t,a.isOpenedWarehouse)}return t=t.set("categoryTemp",e).set("oriTemp",e).mergeIn(["oriTemp"],dt.get("oriTemp")).setIn(["oriTemp","categoryUuid"],e.get("uuid")).setIn(["oriTemp","categoryName"],e.get("name")).setIn(["oriTemp","categoryType"],e.get("categoryType")).setIn(["oriTemp","oriDate"],t.getIn(["oriTemp","oriDate"])).setIn(["views","insertOrModify"],"insert").set("cardAllList",dt.get("cardAllList")),Object(Me.g)(t,a.isOpenedWarehouse)})),Object(mt.a)(e,ut.x,(function(){var e=t.getIn(["oriTemp","oriDate"]),a=t.getIn(["oriTemp","categoryUuid"]),n=t.getIn(["oriTemp","categoryName"]),r=t.getIn(["oriTemp","categoryType"]),l=t.getIn(["oriTemp","handleType"]),c=t.getIn(["oriTemp","propertyCost"]),s=t.getIn(["oriTemp","propertyCostList"]);if(c&&["XZ_SCCB","XZ_FZSCCB","XZ_ZZFY","XZ_HTCB","XZ_JJFY","XZ_JXZY"].includes(c)&&s&&s.size&&(c="",1==s.size&&s.get(0)),"LB_XMJZ"==r)return t;var i="modify"==t.getIn(["views","insertOrModify"]),o=Object(p.fromJS)([{amount:""}]),m="";return["LB_YYSR","LB_YYZC"].includes(r)&&i&&(o=t.getIn(["oriTemp","stockCardList"]),m=t.getIn(["oriTemp","amount"])),t.set("oriTemp",t.get("categoryTemp")).mergeIn(["oriTemp"],dt.get("oriTemp")).mergeIn(["oriTemp"],Object(p.fromJS)({categoryUuid:a,categoryName:n,categoryType:r,oriDate:e,handleType:l,propertyCost:c,stockCardList:o,amount:m}))})),Object(mt.a)(e,ut.t,(function(){var e=a.value.value.split(h.B),n={needPoundage:a.value.needPoundage,poundage:a.value.poundage,poundageRate:a.value.poundageRate};return"ACCOUNT_STATUS_TO"==a.accountStatus?t=t.setIn(["oriTemp","accounts",1,"accountStatus"],"ACCOUNT_STATUS_TO").setIn(["oriTemp","accounts",1,"accountName"],e[1]).setIn(["oriTemp","accounts",1,"accountUuid"],e[0]).setIn(["oriTemp","accounts",1,"poundage"],Object(p.fromJS)(n)):(t=t.setIn(["oriTemp","accounts",0,"accountName"],e[1]).setIn(["oriTemp","accounts",0,"accountUuid"],e[0]).setIn(["oriTemp","accounts",0,"poundage"],Object(p.fromJS)(n)),"ACCOUNT_STATUS_FROM"==a.accountStatus&&(t=t.setIn(["oriTemp","accounts",0,"accountStatus"],"ACCOUNT_STATUS_FROM"))),t})),Object(mt.a)(e,ut.C,(function(){return t.setIn(["oriTemp","pendingStrongList"],Object(p.fromJS)(a.receivedData)).setIn(["oriTemp","jrAmount"],0)})),Object(mt.a)(e,ut.N,(function(){return t.setIn(["oriTemp","pendingStrongList",a.idx,"beSelect"],a.value)})),Object(mt.a)(e,ut.v,(function(){switch(a.dataType){case"card":var e=a.value.value.split(h.B),n=t.getIn(["oriTemp","projectCardList",a.idx,"amount"]);t=t.setIn(["oriTemp","projectCardList",a.idx],Object(p.fromJS)({cardUuid:e[0],code:e[1],name:e[2],projectProperty:a.value.projectProperty,amount:n}));break;case"amount":t=t.setIn(["oriTemp","projectCardList",a.idx,"amount"],a.value);break;case"add":t=t.setIn(["oriTemp","projectCardList",a.idx],Object(p.fromJS)({amount:""}));break;case"delete":t=t.deleteIn(["oriTemp","projectCardList",a.idx]);break;case"poundageProject":var r=a.value.split(h.B);t=t.setIn(["oriTemp","poundageProjectCardList",a.idx],Object(p.fromJS)({cardUuid:r[0],code:r[1],name:r[2]}));break;case"carryoverProjectCardList":var l=a.value.split(h.B);t=t.setIn(["oriTemp","carryoverProjectCardList",a.idx],Object(p.fromJS)({cardUuid:l[0],code:l[1],name:l[2]}))}return t})),Object(mt.a)(e,ut.F,(function(){var e,n=[],r=null;return a.receivedData.forEach((function(t,a){t.key="".concat(t.code," ").concat(t.name),t.oriName=t.name,t.value="".concat(t.uuid).concat(h.B).concat(t.code).concat(h.B).concat(t.name),n.push(t),"\u9879\u76ee\u516c\u5171\u8d39\u7528"==t.name&&(t.key=t.name,e=t,r=a),["COMNCRD","ASSIST","MAKE","INDIRECT","MECHANICAL"].includes(t.code)&&(t.key=t.name)})),null!=r&&(n.unshift(e),n.splice(r+1,1)),t.set(a.cardType,Object(p.fromJS)(n))})),Object(mt.a)(e,ut.M,(function(){var e=Object(p.fromJS)(a.receivedData);t=t.setIn(["views","insertOrModify"],"modify").setIn(["views","showJrPage"],!1).set("oriTemp",dt.get("oriTemp")).mergeIn(["oriTemp"],Object(p.fromJS)(a.receivedData.jrOri)).mergeIn(["oriTemp"],Object(p.fromJS)(a.receivedData.category)).set("enclosureList",Object(p.fromJS)(a.receivedData.jrOri.enclosureList)).setIn(["views","ylType"],a.ylType),"COPY"==a.ylType&&("STATE_XC_DJ"==(t=t.setIn(["views","ylType"],"COPY").setIn(["oriTemp","oriDate"],(new S.a).valueOf()).setIn(["views","insertOrModify"],"insert").set("categoryTemp",e.get("category"))).getIn(["oriTemp","oriState"])&&(t=t.setIn(["oriTemp","oriState"],"STATE_XC_JN")),"STATE_XC_JN"==t.getIn(["oriTemp","oriState"])&&("SX_SHBX"==t.getIn(["oriTemp","propertyPay"])&&(t=t.setIn(["oriTemp","payment","companySocialSecurityAmount"],e.getIn(["jrOri","amount"])).setIn(["oriTemp","payment","personSocialSecurityAmount"],0).setIn(["oriTemp","payment","actualAmount"],e.getIn(["jrOri","amount"]))),"SX_ZFGJJ"==t.getIn(["oriTemp","propertyPay"])&&(t=t.setIn(["oriTemp","payment","companyAccumulationAmount"],e.getIn(["jrOri","amount"])).setIn(["oriTemp","payment","personAccumulationAmount"],0).setIn(["oriTemp","payment","actualAmount"],e.getIn(["jrOri","amount"])))),"SX_GZXJ"==t.getIn(["oriTemp","propertyPay"])&&"STATE_XC_FF"==t.getIn(["oriTemp","oriState"])&&(t=t.setIn(["oriTemp","payment","actualAmount"],e.getIn(["jrOri","amount"]))));var n=t.getIn(["oriTemp","billList"]),r=n&&n.size?n.getIn([0,"billType"]):"",l=0,c=e.getIn(["jrOri","pendingStrongList"]);c.size&&(c=c.update((function(e){return e.map((function(e){var t=Number(e.get("notHandleAmount"))+Number(e.get("handleAmount"));return l+=t,e.set("notHandleAmount",t)}))})));var s=t.getIn(["oriTemp","categoryType"]);["LB_GGFYFT","LB_CHTRXM"].includes(s)||e.getIn(["jrOri","usedProject"])||(t=t.setIn(["oriTemp","projectCardList"],Object(p.fromJS)([{amount:""}]))),e.getIn(["jrOri","usedProject"])&&(t=t.setIn(["oriTemp","oriUsedProject"],!0)),e.getIn(["jrOri","usedCurrent"])&&(t=t.setIn(["oriTemp","oriUsedCurrent"],!0));var i=Math.abs(e.getIn(["jrOri","amount"]))==Math.abs(e.getIn(["jrOri","currentAmount"])),o=t.getIn(["oriTemp","oriState"]);if(({STATE_CQZC_JZSY:function(){s="LB_JZSY";var e=t.getIn(["oriTemp","relationCategoryUuid"]),a=t.getIn(["oriTemp","categoryUuid"]);t=(t=t.setIn(["oriTemp","categoryUuid"],e)).setIn(["oriTemp","relationCategoryUuid"],a)},STATE_CQZC_ZJTX:function(){s="LB_ZJTX";var e=t.getIn(["oriTemp","relationCategoryUuid"]),a=t.getIn(["oriTemp","categoryUuid"]);t=(t=t.setIn(["oriTemp","categoryUuid"],e)).setIn(["oriTemp","relationCategoryUuid"],a)},STATE_ZCWJZZS:function(){t=t.setIn(["oriTemp","handleMonth"],c.getIn([0,"oriDate"]).substr(0,7))}}[o]||function(){return null})(),"LB_SFGL"==s){l=0;var m=0;c=e.getIn(["jrOri","pendingManageDto","pendingManageList"]).update((function(e){return e.map((function(e){return"debit"==e.get("direction")?l+=Number(e.get("amount")):l-=Number(e.get("amount")),"STATE_SFGL_ML"==o&&("debit"==(e=e.set("moedAmount",e.get("handleAmount")).set("handleAmount","")).get("direction")?m+=Number(e.get("moedAmount")):m-=Number(e.get("moedAmount"))),e.set("beSelect",!0)}))})),"STATE_SFGL_ML"==o&&(t=t.setIn(["oriTemp","moedAmount"],Object(S.l)(m)))}if("LB_JZCB"==s){l=0,c=e.getIn(["jrOri","stockWeakList"]).update((function(e){return e.map((function(e){return l+=Math.abs(Number(e.get("amount"))),e.set("beSelect",!0)}))}));var u=[],d=[];e.getIn(["jrOri","stockCardList"]).map((function(e){var t=e.toJS();t.key="".concat(t.code," ").concat(t.name),t.value=t.cardUuid,t.oriName=t.name,d.includes(t.cardUuid)||(d.push(t.cardUuid),u.push(t))}));var g=!1,h=!1;"STATE_YYSR_ZJ"==o&&(g=t.getIn(["oriTemp","usedProject"]),h=e.getIn(["jrOri","beProject"]),t=t.setIn(["oriTemp","projectRange"],Object(p.fromJS)(a.receivedData.jrOri.projectRange)).setIn(["oriTemp","relationCategoryType"],Object(p.fromJS)(a.receivedData.jrOri.relationCategoryType))),t=t.set("stockList",Object(p.fromJS)(u)).setIn(["oriTemp","beProject"],h).setIn(["oriTemp","usedProject"],g).setIn(["oriTemp","propertyCostList"],Object(p.fromJS)(a.receivedData.jrOri.propertyCostList))}if("LB_GGFYFT"==s&&(l=0,c=e.getIn(["jrOri","pendingProjectShareList"]).update((function(e){return e.map((function(e){return l+=Number(e.get("amount")),e.set("beSelect",!0).set("notHandleAmount",e.get("amount"))}))})),t=t.setIn(["oriTemp","usedProject"],!1)),["LB_KJFP","LB_FPRZ"].includes(s)){var E=0;c.forEach((function(e){E=+Math.abs(e.get("oriAmount"))}));var f=t.getIn(["oriTemp","amount"]);t=t.setIn(["oriTemp","jrTaxAmount"],E).setIn(["oriTemp","amount"],Math.abs(f))}if("LB_CHDB"==s){var y=[];e.getIn(["jrOri","warehouseCardList"]).map((function(e){"WAREHOUSE_STATUS_FROM"==e.get("warehouseStatus")&&(y[0]=e),"WAREHOUSE_STATUS_TO"==e.get("warehouseStatus")&&(y[1]=e)})),t=t.setIn(["oriTemp","warehouseCardList"],Object(p.fromJS)(y))}if("LB_CHYE"==s){var b=t.getIn(["oriTemp","jrState"]),v=b||"STATE_CHYE";t=t.setIn(["oriTemp","oriState"],v)}if(["STATE_JXSEZC_FS","STATE_JXSEZC_TFS"].includes(o)){s="LB_JXSEZC";var L=[],C=e.getIn(["category","propertyCostList"]);"LB_YYZC"==e.getIn(["category","relationCategoryType"])&&(L=e.getIn(["category","acBusinessExpense","stockRange"]),"SX_HW"==e.getIn(["category","propertyCarryover"])&&(t=t.setIn(["oriTemp","beProject"],!1))),"LB_CQZC"==e.getIn(["category","relationCategoryType"])&&(t=t.setIn(["oriTemp","beProject"],!1),C=Object(p.fromJS)([])),t=t.setIn(["oriTemp","stockRange"],L).setIn(["oriTemp","propertyCostList"],C)}if("LB_XCZC"==s&&"STATE_XC_DK"==o){var N=t.getIn(["oriTemp","payment","personAccumulationAmount"]),T=t.getIn(["oriTemp","payment","personSocialSecurityAmount"]),_=t.getIn(["oriTemp","payment","incomeTaxAmount"]);N&&(t=t.setIn(["oriTemp","acPayment","beWithholding"],!0)),T&&(t=t.setIn(["oriTemp","acPayment","beWithholdSocial"],!0)),_&&(t=t.setIn(["oriTemp","acPayment","beWithholdTax"],!0))}if("LB_CHTRXM"==s&&(t=t.setIn(["oriTemp","usedProject"],!0).setIn(["oriTemp","beProject"],!0).setIn(["oriTemp","oriState"],"STATE_CHTRXM")),"LB_XMJZ"==s&&"STATE_XMJZ_XMJQ"==o){var j=e.getIn(["jrOri","allHappenAmount"]),O=e.getIn(["jrOri","allStoreAmount"]);l=Object(S.l)(j-O)}return t.setIn(["oriTemp","pendingStrongList"],c).setIn(["oriTemp","jrAmount"],l).setIn(["oriTemp","isFullPayment"],i).setIn(["oriTemp","categoryType"],s).setIn(["oriTemp","oriBillType"],r)})),Object(mt.a)(e,ut.J,(function(){var e="";return{JR_HANDLE_QDJK:function(){e="STATE_JK_YS"},JR_HANDLE_CHLX:function(){e="STATE_JK_ZFLX"},JR_HANDLE_CHBJ:function(){e="STATE_JK_YF"},JR_HANDLE_DWTZ:function(){e="STATE_TZ_YF"},JR_HANDLE_QDSY:function(){var a=t.getIn(["oriTemp","propertyInvest"]);e="SX_ZQ"==a?"STATE_TZ_SRLX":"STATE_TZ_SRGL"},JR_HANDLE_SHTZ:function(){e="STATE_TZ_YS"},JR_HANDLE_ZZ:function(){e="STATE_ZB_ZZ"},JR_HANDLE_LRFP:function(){e="STATE_ZB_ZFLR"},JR_HANDLE_JZ:function(){e="STATE_ZB_JZ"},JR_HANDLE_ZBYJ:function(){e="STATE_ZB_ZBYJ"},JR_HANDLE_GJ:function(){e="STATE_CQZC_YF"},JR_HANDLE_CZ:function(){e="STATE_CQZC_YS"}}[a.value](),t.setIn(["oriTemp","handleType"],a.value).setIn(["oriTemp","oriState"],e)})),Object(mt.a)(e,ut.L,(function(){var e=t.getIn(["oriTemp","billList",0,"taxRate"]),n=a.value,r="";return r=-1==e?n:100==e?n/2:n-n/(1+e/100),t.setIn(["oriTemp","amount"],n).setIn(["oriTemp","billList",0,"tax"],Object(S.l)(r))})),Object(mt.a)(e,ut.P,(function(){var e=t.getIn(["oriTemp","amount"]),n=a.value,r="";return r=-1==n?"":100==n?e/2:e-e/(1+n/100),t.setIn(["oriTemp","billList",0,"taxRate"],n).setIn(["oriTemp","billList",0,"tax"],r?Object(S.l)(r):"")})),Object(mt.a)(e,ut.z,(function(){var e=[];return a.data.forEach((function(t){var n="".concat(t.uuid).concat(h.B).concat(t.code).concat(h.B).concat(t.name);["carryoverStockRange","commonCardJzcbList"].includes(a.cardType)&&(n="".concat(t.cardUuid).concat(h.B).concat(t.code).concat(h.B).concat(t.name)),t.key="".concat(t.code," ").concat(t.name),t.value=n,t.oriName=t.name,e.push(t)})),"contactsRange"===a.cardType&&(t=t.set("currentList",Object(p.fromJS)(e))),["stockRange","carryoverStockRange"].includes(a.cardType)&&(t=t.set("stockList",Object(p.fromJS)(e))),"poundageCurrent"==a.cardType&&(t=t.set("poundageCurrentList",Object(p.fromJS)(e))),["commonCardList","commonCardJzcbList"].includes(a.cardType)&&(t=t.set("commonCardList",Object(p.fromJS)(e))),"commonCurrentList"==a.cardType&&(t=t.set("commonCurrentList",Object(p.fromJS)(e))),t})),Object(mt.a)(e,ut.q,(function(){var e=a.value.split(h.B),n={};return n.cardUuid=e[0],n.code=e[1],n.name=e[2],"poundageCurrent"==a.cardType?t.setIn(["oriTemp","poundageCurrentCardList",0],Object(p.fromJS)(n)):t.setIn(["oriTemp","currentCardList",0],Object(p.fromJS)(n))})),Object(mt.a)(e,ut.o,(function(){var e=t.getIn(["oriTemp","assets","originalAssetsAmount"]),a=t.getIn(["oriTemp","assets","depreciationAmount"]),n=t.getIn(["oriTemp","amount"]),r=t.getIn(["oriTemp","billList",0,"tax"]),l=0;return l="bill_common"===t.getIn(["oriTemp","billList",0,"billType"])?Number(a)+Number(n)-Number(e)-Number(r):Number(a)+Number(n)-Number(e),t.setIn(["oriTemp","assets","cleaningAmount"],l)})),Object(mt.a)(e,ut.w,(function(){return Object(Me.a)(t,a)})),Object(mt.a)(e,ut.R,(function(){var e=t.getIn(["oriTemp","payment","companyAccumulationAmount"]),n=t.getIn(["oriTemp","payment","personAccumulationAmount"]),r=t.getIn(["oriTemp","payment","companySocialSecurityAmount"]),l=t.getIn(["oriTemp","payment","personSocialSecurityAmount"]),c=t.getIn(["oriTemp","payment","incomeTaxAmount"]),s=t.getIn(["oriTemp","jrAmount"]),i=t.getIn(["oriTemp","payment","actualAmount"]);switch(a.propertyPay){case"SX_GZXJ":if("modify"===t.getIn(["views","insertOrModify"]))return t;var o=Object(S.l)(Number(i)+Number(n)+Number(l)+Number(c));t=t.setIn(["oriTemp","amount"],o);break;case"SX_ZFGJJ":i=s<0?Object(S.l)(-Math.abs(Number(n))+Number(e)):Object(S.l)(Number(n)+Number(e)),t=t.setIn(["oriTemp","payment","actualAmount"],i);break;case"SX_SHBX":i=s<0?Object(S.l)(-Math.abs(Number(r))+Number(l)):Object(S.l)(Number(r)+Number(l)),t=t.setIn(["oriTemp","payment","actualAmount"],i);break;default:i=0}return t})),Object(mt.a)(e,ut.A,(function(){return t.set("categoryList",Object(p.fromJS)(a.receivedData)).setIn(["oriTemp","uuid"],"").setIn(["oriTemp","name"],"\u8bf7\u9009\u62e9\u5904\u7406\u7c7b\u522b")})),Object(mt.a)(e,ut.p,(function(){var e=t.getIn(["oriTemp","assets"]),a=e.get("originalAssetsAmount"),n=e.get("depreciationAmount"),r=e.get("cleaningAmount"),l=Number(n)+Number(r)-Number(a);return t.setIn(["oriTemp","amount"],l)})),Object(mt.a)(e,ut.S,(function(){var e="",n=a.data.get("propertyCostList");return 1==n.size&&(e=n.get(0)),t.setIn(["oriTemp","relationCategoryUuid"],a.data.get("uuid")).setIn(["oriTemp","relationCategoryName"],a.data.get("name")).setIn(["oriTemp","beProject"],a.data.get("beProject")).setIn(["oriTemp","usedProject"],a.data.get("beProject")).setIn(["oriTemp","propertyCost"],e).setIn(["oriTemp","propertyCostList"],n).setIn(["oriTemp","projectCardList"],Object(p.fromJS)([{amount:""}]))})),Object(mt.a)(e,ut.G,(function(){return t.set("categoryList",Object(p.fromJS)(a.data.childList?a.data.childList:[])).setIn(["oriTemp","pendingManageDto"],dt.getIn(["oriTemp","pendingManageDto"]))})),Object(mt.a)(e,ut.D,(function(){return"COPY"==t.getIn(["views","ylType"])?t.set("categoryList",Object(p.fromJS)(a.data)):t.set("categoryList",Object(p.fromJS)(a.data)).setIn(["oriTemp","relationCategoryUuid"],"").setIn(["oriTemp","relationCategoryName"],"\u8bf7\u9009\u62e9\u5904\u7406\u7c7b\u522b")})),Object(mt.a)(e,ut.r,(function(){var e=t.getIn(["oriTemp","jrAmount"]);switch(a.dataType){case"card":var n=[],r=t.getIn(["oriTemp","projectCardList",a.idx]);a.value.map((function(e,t){var a="",l="";0==t&&r&&(a=(a=r.get("amount"))||"",l=(l=r.get("percent"))||""),n.push({cardUuid:e.uuid,code:e.code,name:e.oriName,amount:a,percent:l,propertyCost:""})}));var l=t.getIn(["oriTemp","projectCardList"]).toJS();l.splice.apply(l,[a.idx,1].concat(n)),t=t.setIn(["oriTemp","projectCardList"],Object(p.fromJS)(l));break;case"amount":var c=100*Object(S.l)(a.value/e,4);"-"==a.value&&(c=0),t=t.setIn(["oriTemp","projectCardList",a.idx,"amount"],a.value).setIn(["oriTemp","projectCardList",a.idx,"percent"],c);break;case"percent":var s=Object(S.l)(a.value*e/100);t=t.setIn(["oriTemp","projectCardList",a.idx,"amount"],s).setIn(["oriTemp","projectCardList",a.idx,"percent"],a.value);break;case"add":t=t.setIn(["oriTemp","projectCardList",a.idx],Object(p.fromJS)({amount:"",percent:""}));break;case"delete":t=t.deleteIn(["oriTemp","projectCardList",a.idx]);break;case"propertyCost":t=t.setIn(["oriTemp","projectCardList",a.idx,"propertyCost"],a.value)}return t})),Object(mt.a)(e,ut.I,(function(){var e=t.getIn(["oriTemp","jrAmount"]);return t.updateIn(["oriTemp","projectCardList"],(function(t){return t.map((function(t){var a=t.get("percent"),n=Object(S.l)(e*a/100)?Object(S.l)(e*a/100):"";return t.set("amount",n)}))}))})),Object(mt.a)(e,ut.y,(function(){var e=t.getIn(["oriTemp","stockCardList"]),a=t.getIn(["oriTemp","stockWeakList"]),n=e.map((function(e){return e.get("cardUuid")})),r=a.filter((function(e){return n.includes(e.get("stockCardUuid"))}));return t.setIn(["oriTemp","pendingStrongList"],r)})),Object(mt.a)(e,ut.f,(function(){var e=t.get("enclosureList").toJS();return a.imgArr.forEach((function(t){e.push(t)})),t=t.set("enclosureList",Object(p.fromJS)(e))})),Object(mt.a)(e,ut.i,(function(){return t.get("enclosureList").map((function(e,n){n==a.index&&(t=t.deleteIn(["enclosureList",n]))})),t=t.set("enclosureCountUser",t.get("enclosureList").size)})),Object(mt.a)(e,ut.k,(function(){return t=t.set("enclosureList",Object(p.fromJS)([]))})),Object(mt.a)(e,ut.j,(function(){var e=[];return a.receivedData.data.map((function(t){e.push({key:t,value:t})})),t=t.set("label",Object(p.fromJS)(e))})),Object(mt.a)(e,ut.g,(function(){return t.get("enclosureList").map((function(e,n){n==a.index&&(t=t.setIn(["enclosureList",n,"label"],a.value))})),t})),Object(mt.a)(e,ut.m,(function(){switch(a.dataType){case"card":var e=a.value.value.split(h.B),n={needPoundage:a.value.needPoundage,poundage:a.value.poundage,poundageRate:a.value.poundageRate},r=t.getIn(["oriTemp","accounts",a.idx,"amount"]);t=t.setIn(["oriTemp","accounts",a.idx],Object(p.fromJS)({accountUuid:e[0],accountName:e[1],amount:r,poundage:n}));break;case"amount":t=t.setIn(["oriTemp","accounts",a.idx,"amount"],a.value).setIn(["oriTemp","accounts",a.idx,"isManual"],!1);break;case"add":t=t.setIn(["oriTemp","accounts",a.idx],Object(p.fromJS)({amount:""}));break;case"delete":t=t.deleteIn(["oriTemp","accounts",a.idx])}return t})),Object(mt.a)(e,ut.H,(function(){return a.receivedData.forEach((function(e,t){e.key="".concat(e.code," ").concat(e.name),e.value=e.uuid})),"STATE_CHYE_TYDJ"==a.oriState?t.set("warehouseListTydj",Object(p.fromJS)(a.receivedData)):t.set("warehouseList",Object(p.fromJS)(a.receivedData))})),Object(mt.a)(e,ut.s,(function(){var e=a.data,n=e.beProject,r=e.beProject,l=!1,c="",s=[];return"SX_HW"==e.propertyCarryover&&(n=!1,r=!1,l=!0),"LB_CQZC"==e.categoryType&&(n=!1,r=!1),"LB_CQZC"!=e.categoryType&&e.propertyCostList&&e.propertyCostList.length&&(c=e.propertyCostList[0],s=e.propertyCostList),t.setIn(["oriTemp","relationCategoryUuid"],e.uuid).setIn(["oriTemp","relationCategoryUuid"],e.uuid).setIn(["oriTemp","relationCategoryName"],e.name).setIn(["oriTemp","beProject"],n).setIn(["oriTemp","usedProject"],r).setIn(["oriTemp","projectCardList"],Object(p.fromJS)([{amount:""}])).setIn(["oriTemp","usedStock"],l).setIn(["oriTemp","stockCardList"],Object(p.fromJS)([{amount:""}])).setIn(["oriTemp","propertyCost"],c).setIn(["oriTemp","propertyCostList"],Object(p.fromJS)(s)).set("categoryTemp",Object(p.fromJS)({usedStock:l,beProject:n,propertyCarryover:e.propertyCarryover,propertyCostList:e.propertyCostList}))})),Object(mt.a)(e,ut.O,(function(){var e=t.getIn(["oriTemp","pendingStrongList"]),a=[],n=[];return e.forEach((function(e){if(e.get("beSelect")){var t=Number(e.get("quantityAmount")),r=Number(e.get("number")),l=Number(e.get("quantity")),c=0,s=0,i=e.get("stockCardUuid"),o=e.get("storeCardUuid")?e.get("storeCardUuid"):"",m=e.get("batch")?e.get("batch"):"",u=e.get("assistList")?e.get("assistList").toJS().map((function(e){return e.propertyUuid})).sort():[],d="".concat(i,"_").concat(o,"_").concat(m,"_").concat(u.join("_"));if(n.includes(d)){var p=n.findIndex((function(e){return e==d}));t+=Number(a[p].totalQuantityAmount),r+=Number(a[p].totalNumber),l+=Number(a[p].totalNumber),t*r>0&&(s=Object(S.l)(t/r),c=Object(S.l)(l*Number(s))),a[p].price=s||"",a[p].amount=c||"",a[p].quantity=l,a[p].totalQuantityAmount=t,a[p].totalNumber=r,a[p].totalQuantity=l}else n.push(d),t*r>0&&(s=Object(S.l)(t/r),c=Object(S.l)(l*Number(s))),a.push({cardUuid:e.get("stockCardUuid"),code:e.get("stockCardCode"),name:e.get("stockCardName"),isOpenedQuantity:e.get("isOpenedQuantity"),unitName:e.get("unitCardName"),unitUuid:e.get("unitCardUuid"),price:s||"",amount:c||"",quantity:l,totalQuantityAmount:t,totalNumber:r,totalQuantity:l,warehouseCardCode:"",warehouseCardUuid:e.get("storeCardUuid"),warehouseCardName:e.get("storeCardName"),financialInfo:{openAssist:!!e.get("assistList").size,openSerial:!1,openBatch:!!m},assistList:e.get("assistList"),batch:e.get("batch"),batchUuid:e.get("batchUuid"),expirationDate:e.get("expirationDate")})}})),t.setIn(["oriTemp","stockCardList"],Object(p.fromJS)(a).sortBy((function(e){return e.get("code")})))})),Object(mt.a)(e,ut.Q,(function(){var e=t.getIn(["oriTemp","oriState"]);return t=t.updateIn(["oriTemp","stockCardList"],(function(t){return t.map((function(t){return t.get("cardUuid")==a.batch.get("cardUuid")&&t.get("batchUuid")==a.batch.get("batchUuid")&&(t=t.merge(a.batch)),"STATE_CHZZ_ZZD"==e&&(t=t.updateIn(["childCardList"],(function(e){return e.map((function(e){return e.get("cardUuid")==a.batch.get("cardUuid")&&e.get("batchUuid")==a.batch.get("batchUuid")&&(e=e.merge(a.batch)),e}))}))),t}))})),"STATE_CHZZ_ZZCX"==e&&(t=t.updateIn(["oriTemp","stockCardOtherList"],(function(e){return e.map((function(e){return e.get("cardUuid")==a.batch.get("cardUuid")&&e.get("batchUuid")==a.batch.get("batchUuid")&&(e=e.merge(a.batch)),e}))}))),"insert"==t.getIn(["views","insertOrModify"])&&["STATE_YYSR_XS","STATE_YYSR_TS"].includes(e)&&(t=t.updateIn(["oriTemp","carryoverCardList"],(function(e){return e.map((function(e){return e.get("cardUuid")==a.batch.get("cardUuid")&&e.get("batchUuid")==a.batch.get("batchUuid")&&(e=e.merge(a.batch)),e}))}))),t})),e)[a.type]||function(){return t})()},relativeConfState:pt.a,inventoryConfState:gt.a,projectConfState:ht.a,accountConfigState:Et.b,previewEnclosureState:ft.a}}}]);