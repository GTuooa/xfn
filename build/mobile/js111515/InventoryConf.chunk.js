(this.webpackJsonpfannix=this.webpackJsonpfannix||[]).push([[76,13],{1046:function(e,t,n){"use strict";n.d(t,"J",(function(){return f})),n.d(t,"e",(function(){return p})),n.d(t,"A",(function(){return g})),n.d(t,"z",(function(){return y})),n.d(t,"b",(function(){return h})),n.d(t,"i",(function(){return v})),n.d(t,"j",(function(){return b})),n.d(t,"g",(function(){return E})),n.d(t,"a",(function(){return S})),n.d(t,"h",(function(){return O})),n.d(t,"M",(function(){return L})),n.d(t,"d",(function(){return C})),n.d(t,"L",(function(){return N})),n.d(t,"f",(function(){return I})),n.d(t,"n",(function(){return j})),n.d(t,"v",(function(){return T})),n.d(t,"o",(function(){return k})),n.d(t,"Q",(function(){return U})),n.d(t,"c",(function(){return w})),n.d(t,"r",(function(){return P})),n.d(t,"w",(function(){return A})),n.d(t,"H",(function(){return x})),n.d(t,"k",(function(){return D})),n.d(t,"l",(function(){return J})),n.d(t,"P",(function(){return M})),n.d(t,"B",(function(){return B})),n.d(t,"q",(function(){return R})),n.d(t,"t",(function(){return Q})),n.d(t,"S",(function(){return F})),n.d(t,"C",(function(){return z})),n.d(t,"G",(function(){return H})),n.d(t,"p",(function(){return G})),n.d(t,"R",(function(){return V})),n.d(t,"m",(function(){return Y})),n.d(t,"E",(function(){return q})),n.d(t,"F",(function(){return K})),n.d(t,"I",(function(){return W})),n.d(t,"N",(function(){return X})),n.d(t,"x",(function(){return Z})),n.d(t,"O",(function(){return $})),n.d(t,"y",(function(){return ee})),n.d(t,"K",(function(){return te})),n.d(t,"u",(function(){return ne})),n.d(t,"D",(function(){return ae})),n.d(t,"s",(function(){return ie}));n(32),n(55),n(61),n(62),n(31),n(219),n(70),n(77),n(1071),n(29),n(83),n(1062),n(82),n(76);var a=n(1092),i=n.n(a),r=(n(1079),n(1093)),c=n(12),o=n(1),s=n(1264),l=n(57),u=n(2),d=n(14),m=n(1040),f=(n(1055),function(){return function(e){u.a.toast.loading(d.p,0),Object(l.a)("getInventorySettingCardList","GET","listFrom=",(function(t){Object(c.u)(t)?Object(l.a)("getInventoryHighTypeList","GET","",(function(n){u.a.toast.hide(),Object(c.u)(n)&&e({type:s.H,title:n.data,cardList:t.data.resultList})})):u.a.toast.hide()}))}}),p=function(e){return function(t,n){!function(e,t,n){var a=t().inventoryConfState.getIn(["views","anotherName"]);n.get("name")===a?(u.a.toast.loading(d.p,0),Object(l.a)("getInventorySettingCardList","GET","listFrom=",(function(t){u.a.toast.hide(),Object(c.u)(t)&&e({type:s.d,name:n.get("name"),uuid:n.get("uuid"),cardList:t.data.resultList})}))):(u.a.toast.loading(d.p,0),Object(l.a)("getInventorySettingCardList","GET","listFrom=".concat(n.get("uuid")),(function(t){u.a.toast.hide(),Object(c.u)(t)&&Object(l.a)("getInventorySettingCardTypeList","GET","ctgyUuid=".concat(n.get("uuid")),(function(a){Object(c.u)(a)&&e({type:s.d,treelist:a.data.resultList,name:n.get("name"),uuid:n.get("uuid"),cardList:t.data.resultList})}))})))}(t,n,e)}},g=function(e){return function(t){t(Y("inventoryHighTypeTemp",e.set("treeList",Object(o.fromJS)([])),!0)),u.a.toast.loading(d.p,0),Object(l.a)("getInventorySettingCardTypeList","GET","ctgyUuid=".concat(e.get("uuid")),(function(e){u.a.toast.hide(),Object(c.u)(e)&&t(Y(["inventoryHighTypeTemp","treeList"],Object(o.fromJS)(e.data.resultList)))}))}},y=function(e,t,n){return function(a){u.a.toast.loading(d.p,0),Object(l.a)("getInventorySettingCardListByType","GET","ctgyUuid=".concat(e,"&&subordinateUuid=").concat(t),(function(e){u.a.toast.hide(),Object(c.u)(e)&&a({type:s.K,list:e.data.resultList,uuid:t,name:n})}))}},h=function(e,t){return function(n,a){u.a.toast.loading(d.p,0),Object(l.a)("getIUManageCardLimitAndAc","GET","",(function(i){u.a.toast.hide(),Object(c.u)(i)&&(Object(l.a)("getInitStockCard","GET","",(function(e){Object(c.u)(e)&&n(v("code",e.data.code))})),n({type:s.b,data:i.data,fromPage:t})),e(),a().homeState.getIn(["data","userInfo","sobInfo","moduleInfo"]).includes("WAREHOUSE")&&n(_())}))}},v=function(e,t){return function(n){n({type:s.i,name:e,value:t})}},b=function(e,t){return function(n){n({type:s.j,name:e,value:t})}},E=function(e,t){return function(n){t?Object(l.a)("getInventorySettingCardTypeList","GET","ctgyUuid=".concat(e.get("uuid")),(function(a){Object(c.u)(a)&&n({type:s.g,list:a.data.resultList,item:e,value:t})})):n({type:s.g,list:[],item:e,value:t})}},S=function(e){return{type:s.G,item:e}},O=function(e,t){return function(n){n({type:s.h,uuid:e,name:t})}},L=function(e,t,n){return function(e,a){var i=a().inventoryConfState,r=a().homeState.getIn(["data","userInfo","sobInfo","moduleInfo"]).includes("WAREHOUSE"),o=i.get("inventoryCardTemp").toJS(),f=i.getIn(["views","activeTabKeyUuid"]),p=i.getIn(["views","insertOrModify"]),g=i.getIn(["views","selectTypeId"]);if(0==o.isOpenedQuantity&&(o.unit={},o.openedQuantity=""),r){var y=o.openList,h=[];!function e(t){t.map((function(t){t.childList.length?e(t.childList):h.push(t)}))}(y),o.openList=h}var v=[],b=[];if(o.isOpenedQuantity&&""==o.unit.name&&b.push("\u8bf7\u9009\u62e9\u8ba1\u91cf\u5355\u4f4d"),o.isOpenedQuantity){var E=i.get("purchasePriceList").toJS(),S=i.get("salePriceList").toJS();E.forEach((function(e,t){Math.abs(e.defaultPrice)>0&&""==e.name&&b.push("\u9ed8\u8ba4\u91c7\u8d2d\u4ef7".concat(t+1,"\u8bf7\u9009\u62e9\u8ba1\u91cf\u5355\u4f4d")),v.push(e)})),S.forEach((function(e,t){Math.abs(e.defaultPrice)>0&&""==e.name&&b.push("\u9ed8\u8ba4\u91c7\u8d2d\u4ef7".concat(t+1,"\u8bf7\u9009\u62e9\u8ba1\u91cf\u5355\u4f4d")),v.push(e)}))}if(["OPEN","INVALID_DELETE","INVALID"].includes(o.assemblyState)&&(o.assemblyState="OPEN"),o.openList.length){var O=o.financialInfo,L=o.financialInfo.openAssist,C=o.financialInfo.openBatch,N=o.financialInfo.openShelfLife,I=(o.financialInfo.openSerial,O.assistClassificationList.map((function(e){return e.uuid})));o.isOpenedQuantity;o.openList.forEach((function(e){e.openedQuantity&&e.openedQuantity,e.openedAmount&&e.openedAmount;L&&(e.assistList=e.assistList.filter((function(e){return I.includes(e.classificationUuid)})),I.length!=e.assistList.length&&b.push("\u671f\u521d\u4e2d\u6709\u5c5e\u6027\u672a\u9009\u62e9\u5b8c\u6574")),C&&(e.batch||b.push("\u671f\u521d\u4e2d\u6709\u6279\u6b21\u672a\u9009\u62e9"),N&&!e.expirationDate&&b.push("\u671f\u521d\u4e2d\u6709\u6279\u6b21\u672a\u9009\u62e9\u622a\u6b62\u65e5\u671f"))}))}if(b.length)return u.a.toast.info(b[0]);o.unitPriceList=v;var j=function(){if("insert"===p){u.a.toast.loading(d.p,0);var i=a().inventoryConfState.getIn(["views","fromPage"]);Object(l.a)("addInventorySettingCard","POST",JSON.stringify({psiData:o,insertFrom:f,treeFrom:g,needAutoIncrementCode:"insert"!==t,action:{editRunning:"SAVE_JR-QUICK_MANAGER-SAVE_STOCK",payment:"SAVE_JR-QUICK_MANAGER-SAVE_STOCK",inventory:"MANAGER-STOCK_SETTING-CUD_CARD",searchApproval:"QUERY_PROCESS-QUICK_MANAGER-SAVE_STOCK",editApproval:"INITIATE_PROCESS-QUICK_MANAGER-SAVE_STOCK"}[i]}),(function(r){if(u.a.toast.hide(),Object(c.u)(r)){if(e({type:s.J,list:r.data.resultList,flag:t,autoIncrementCode:r.data.autoIncrementCode}),"inventory"!==i&&"editApproval"!==i&&e(m.g()),"editApproval"===i)a().editApprovalState.getIn(["modelInfo","callback"])(o);"insert"===t?u.a.toast.info("\u4fdd\u5b58\u6210\u529f",2,n()):u.a.toast.info("\u4fdd\u5b58\u6210\u529f"),e(H())}}))}else u.a.toast.loading(d.p,0),Object(l.a)("editInventorySettingCard","POST",JSON.stringify({psiData:o,modifyFrom:f,treeFrom:g}),(function(t){u.a.toast.hide(),Object(c.u)(t)&&(e({type:s.J,list:t.data.resultList}),u.a.toast.info("\u4fee\u6539\u6210\u529f",2,n()),e(H()))}))};Object(l.a)("adjustInventorySettingCardTitleSame","POST",JSON.stringify({psiData:{name:o.name,uuid:o.uuid}}),(function(e){Object(c.u)(e)&&(e.data.repeat?u.a.Confirm({message:"\u5361\u7247\u540d\u79f0\u4e0e[\u7f16\u7801\uff1a".concat(e.data.card.code,"]\u5361\u7247\u91cd\u590d\uff0c\u786e\u5b9a\u4fdd\u5b58\u5417\uff1f"),title:"\u540d\u79f0\u91cd\u590d",buttonLabels:["\u53d6\u6d88","\u786e\u5b9a"],onSuccess:function(e){1==e.buttonIndex&&j()},onFail:function(e){}}):j())}))}},C=function(e,t){return function(n,a){var m=a().homeState.getIn(["data","userInfo","sobInfo","moduleInfo"]).includes("WAREHOUSE");function f(){return(f=Object(r.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){Object(l.a)("getBatchList","POST",JSON.stringify({inventoryUuid:t,canUse:!0,needPage:!1}),(function(t){Object(c.u)(t)&&0===t.code&&(n(Y(["inventoryCardTemp","financialInfo","batchList"],Object(o.fromJS)(t.data.batchList))),e())}))}));case 2:n(ee({inventoryUuid:t,needPage:!1}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}u.a.toast.loading(d.p,0),Object(l.a)("getInventorySettingOneCard","GET","uuid=".concat(e.get("uuid")),(function(e){u.a.toast.hide(),Object(c.u)(e)&&(n({type:s.c,data:e.data,isOpenedWarehouse:m}),t(),"INVALID_DELETE"==e.data.assemblyState&&u.a.toast.info("\u7ec4\u88c5\u5355\u7684\u90e8\u5206\u7269\u6599\u5df2\u88ab\u5220\u9664\uff0c\u5efa\u8bae\u91cd\u65b0\u8bbe\u7f6e\u5e76\u4fdd\u5b58\u8be5\u5b58\u8d27"),e.data.financialInfo&&e.data.financialInfo.openBatch&&function(e){f.apply(this,arguments)}(e.data.uuid))})),n(H()),m&&n(_())}},N=function(e,t){return function(e){e({type:s.m,used:t})}},I=function(e,t){return function(n){n({type:s.f,status:e,uuid:t})}},j=function(e,t){return function(n){n({type:s.n,status:e,uuid:t})}},T=function(e){return function(t,n){var a=n().inventoryConfState.getIn(["views","activeTabKeyUuid"]),o=n().inventoryConfState.getIn(["views","selectTypeId"]),m=n().inventoryConfState.getIn(["views","cardSelectList"]).toJS();function f(){return(f=Object(r.a)(i.a.mark((function n(){var r;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=!1,n.next=3,new Promise((function(e){Object(l.a)("checkBeforeDelete","POST",JSON.stringify({deleteList:m}),(function(t){if(Object(c.u)(t))if(t.data.inMaterialList.length){var n="".concat(t.data.inMaterialList.reduce((function(e,t){return"".concat(e).concat(e?";":"").concat(t.code," ").concat(t.name)}),"")," \u5c5e\u4e8e\u5176\u4ed6\u5b58\u8d27\u7684\u7ec4\u88c5\u7269\u6599\uff0c\u5220\u9664\u540e\u5c06\u5bfc\u81f4\u7ec4\u88c5\u5355\u5931\u6548\u3002\u7ee7\u7eed\u5220\u9664\u5417\uff1f");u.a.Confirm({title:"\u786e\u5b9a\u5220\u9664\u4e48",message:n,buttonLabels:["\u53d6\u6d88","\u786e\u5b9a"],onSuccess:function(t){1==t.buttonIndex&&(r=!0,e())},onFail:function(e){}})}else r=!0,e()}))}));case 3:r&&(u.a.toast.loading(d.p,0),Object(l.a)("deleteInventorySettingCardList","POST",JSON.stringify({deleteList:m,deleteFrom:a,treeFrom:o}),(function(n){u.a.toast.hide(),Object(c.u)(n)&&(t({type:s.v,list:n.data.resultList,treeList:n.data.typeList}),""===n.data.error?(u.a.toast.info("\u5220\u9664\u6210\u529f"),e()):u.a.toast.info(n.data.error))})));case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}0!==m.length?function(){f.apply(this,arguments)}():u.a.toast.info("\u8bf7\u9009\u62e9\u8981\u5220\u9664\u7684\u5361\u7247")}},k=function(e,t){return function(n){n({type:s.o,name:e,value:t})}},U=function(){return function(e,t){var n=t().inventoryConfState.get("inventoryHighTypeTemp").toJS();u.a.toast.loading(d.p,0),Object(l.a)("insertInventoryHighType","POST",JSON.stringify({psiData:n}),(function(t){u.a.toast.hide(),Object(c.u)(t)&&0===t.code&&(e({type:s.x,title:t.data}),u.a.toast.info("\u4fdd\u5b58\u6210\u529f",2))}))}},w=function(){return{type:s.E}},P=function(e){return{type:s.k,clearType:e}},A=function(e){return function(t,n){var a=n().inventoryConfState,i=a.get("highTypeSelectList"),r=a.getIn(["views","activeTabKeyUuid"]);0!==i.size?(u.a.toast.loading(d.p,0),Object(l.a)("deleteInventorySettingHighTypeList","POST",JSON.stringify({deleteList:i}),(function(n){(u.a.toast.hide(),Object(c.u)(n))&&(0===n.code&&(t({type:s.w,title:n.data.resultList}),u.a.toast.info("\u5220\u9664\u6210\u529f"),e(),i.map((function(e){return e.get("uuid")})).includes(r)&&t(p(Object(o.fromJS)({uuid:"",name:"\u5168\u90e8"})))))}))):u.a.toast.info("\u8bf7\u9009\u62e9\u9700\u8981\u5220\u9664\u7684\u7c7b\u522b")}},x=function(e,t){return function(n){n({type:s.D,uuid:e,name:t})}},D=function(e,t){return function(n){n({type:s.l,name:e,value:t})}},J=function(e,t){return{type:s.L,parentName:t,parentUuid:e}},M=function(e){return function(t,n){var a=n().inventoryConfState.get("inventoryTypeTemp").toJS();a.ctgyUuid=n().inventoryConfState.getIn(["inventoryHighTypeTemp","uuid"]);var i=function(){u.a.toast.loading(d.p,0),Object(l.a)("addInventorySettingCardType","POST",JSON.stringify({psiData:a}),(function(n){u.a.toast.hide(),Object(c.u)(n)&&(t(Y(["inventoryHighTypeTemp","treeList"],Object(o.fromJS)(n.data.resultList))),u.a.toast.info("\u4fdd\u5b58\u6210\u529f",2,e()))}))};Object(l.a)("adjustInventorySettingTypeTitleSame","POST",JSON.stringify({psiData:{parentUuid:a.parentUuid,name:a.name,uuid:a.uuid}}),(function(e){Object(c.u)(e)&&(e.data.repeat?u.a.Confirm({message:"\u786e\u5b9a\u4fdd\u5b58\u5417",title:"\u5361\u7247\u7c7b\u522b\u540d\u79f0\u4e0e\u5df2\u6709\u5361\u7247\u7c7b\u522b\u540d\u79f0\u91cd\u590d\uff0c\u786e\u5b9a\u4fdd\u5b58\u5417\uff1f",buttonLabels:["\u53d6\u6d88","\u786e\u5b9a"],onSuccess:function(e){i()},onFail:function(e){}}):i())}))}},B=function(e){return function(t){u.a.toast.loading(d.p,0),Object(l.a)("getInventorySettingOneCardType","GET","uuid=".concat(e),(function(n){u.a.toast.hide(),Object(c.u)(n)&&t({type:s.y,uuid:e,data:n.data})}))}},R=function(e,t){return function(n,a){n({type:s.q,uuid:e,value:t})}},Q=function(e,t){return function(n,a){var i=[];if(function e(t){return t.map((function(t){t.get("checked")&&i.push(t.get("uuid")),t.get("childList").size>0&&e(t.get("childList"))}))}(e),0!==i.size){var r=a().inventoryConfState.getIn(["inventoryHighTypeTemp","uuid"]);u.a.toast.loading(d.p,0),Object(l.a)("deleteInventorySettingOneCardType","POST",JSON.stringify({ctgyUuid:r,deleteList:i}),(function(e){u.a.toast.hide(),Object(c.u)(e)&&(n({type:s.u,data:e.data.resultList}),u.a.toast.info("\u5220\u9664\u6210\u529f"),t())}))}else u.a.toast.info("\u8bf7\u9009\u62e9\u8981\u5220\u9664\u7684\u7c7b\u522b")}},F=function(e,t){return function(n,a){var i=a().inventoryConfState.getIn(["inventoryHighTypeTemp","uuid"]);u.a.toast.loading(d.p,0),Object(l.a)("swapInventorySettingTypePosition","POST",JSON.stringify({psiData:{selectedSubordinateUuid:e,swappedSubordinateUuid:t,categoryUuid:i}}),(function(e){u.a.toast.hide(),Object(c.u)(e)&&n({type:s.p,list:e.data.resultList})}))}},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(n){Object(l.a)("getWarehouseTree","POST",JSON.stringify({uuidList:e,inventoryUuid:t}),(function(e){Object(c.u)(e)&&n({type:s.B,data:e.data.cardList})}))}},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(n){Object(l.a)("getOpenWarehouseTree","POST",JSON.stringify({warehouseUuidList:e,inventoryUuid:t}),(function(e){Object(c.u)(e)&&n({type:s.z,data:e.data.openList})}))}},H=function(){return function(e){Object(l.a)("getUnit","GET","",(function(t){Object(c.u)(t)&&e({type:s.A,data:t.data})}))}},G=function(e,t,n,a,i){return{type:s.s,dataType:e,uuidList:t,value:n,selfValue:a,idx:i}},V=function(e){return{type:s.I,uuid:e}},Y=function(e,t,n){return{type:s.r,dataType:e,value:t,short:n}},q=function(){return function(e,t){var n=t().homeState.getIn(["data","userInfo","sobInfo","sobId"]);Object(l.a)("getStockCategoryTree","POST",JSON.stringify({categoryList:[],sobId:n}),(function(t){var n=t.data.typeList;!function e(t){t.forEach((function(t){t.key=t.uuid,t.label=t.name,t.childList.length&&e(t.childList)}))}(n),n.unshift({key:"ALL",label:"\u5168\u90e8",top:!0,uuid:"",childList:[]}),e(Y("stockCategoryTree",Object(o.fromJS)(n),!0))}))}},K=function(e){return function(t,n){var a=n().homeState.getIn(["data","userInfo","sobInfo","sobId"]);Object(l.a)("getRunningStockMemberList","POST",JSON.stringify({sobId:a,property:"0",openQuantity:!0,listByCategory:!!e.top,categoryUuid:e.uuid,subordinateUuid:e.uuid}),(function(e){Object(c.u)(e)&&(e.data.resultList.forEach((function(e){e.oriName=e.name,e.name="".concat(e.code," ").concat(e.name)})),t(Y("stockList",Object(o.fromJS)(e.data.resultList),!0)))}))}},W=function(){return function(e){Object(l.a)("inventoryAssistList","GET","",(function(t){Object(c.u)(t)&&e(Y("assistClassificationList",Object(o.fromJS)(t.data.assistClassificationList),!0))}))}},X=function(e){return function(t,n){var a=n().inventoryConfState.get("assist").toJS(),i=a.type,r={},s="";({assistClassInsert:function(){s="assistClassInsert",r={name:a.classificationName}},assistClassModify:function(){s="assistClassModify",r={uuid:a.classificationUuid,name:a.classificationName}},assistPropertyInsert:function(){s="assistPropertyInsert",r={name:a.name,classificationUuid:a.classificationUuid}},assistPropertyModify:function(){s="assistPropertyModify",r={name:a.name,uuid:a.uuid,classificationUuid:a.classificationUuid}}})[i](),u.a.toast.loading(d.p,0),Object(l.a)(s,"POST",JSON.stringify(r),(function(n){u.a.toast.hide(),Object(c.u)(n)&&0===n.code&&(["assistPropertyInsert","assistPropertyModify"].includes(i)&&t(Y(["assist","propertyList"],Object(o.fromJS)(n.data))),t(W()),u.a.toast.info("\u4fdd\u5b58\u6210\u529f",2,e()))}))}},Z=function(e){return function(t,n){var a=n().inventoryConfState.get("assist").toJS(),i=a.type,r="",s="";({assistClassDelete:function(){s="assistClassDelete",r=a.classificationUuid},assistPropertyDelete:function(){s="assistPropertyDelete",r=a.uuid}})[i](),u.a.toast.loading(d.p,0),Object(l.a)(s,"GET","uuid=".concat(r),(function(n){u.a.toast.hide(),Object(c.u)(n)&&0===n.code&&(["assistPropertyDelete"].includes(i)&&t(Y(["assist","propertyList"],Object(o.fromJS)(n.data))),t(W()),u.a.toast.info("\u4fdd\u5b58\u6210\u529f",2,e()))}))}},$=function(e){return function(t,n){var a=n().inventoryConfState.get("batch").toJS(),s=a.batchType,f=a.editPage,p={},g="";function y(){return(y=Object(r.a)(i.a.mark((function n(){var r;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r="MODIFY-INSERT"==s,"MODIFY-MODIFY"!=s){n.next=4;break}return n.next=4,new Promise((function(e){Object(l.a)("batchCheckUsed","GET","inventoryUuid=".concat(a.inventoryUuid,"&batchUuid=").concat(a.batchUuid),(function(t){if(Object(c.u)(t))if(t.data.used){u.a.Confirm({title:"\u63d0\u793a",message:"\u539f\u6279\u6b21\u5728\u671f\u521d\u503c\u6216\u6d41\u6c34\u4e2d\u5df2\u88ab\u4f7f\u7528\uff0c\u4fee\u6539\u540e\u6240\u6709\u4fe1\u606f\u5c06\u540c\u6b65\u4fee\u6539\u3002\u786e\u8ba4\u66f4\u65b0\u8be5\u6279\u6b21\u7684\u4fe1\u606f\u5417\uff1f",buttonLabels:["\u53d6\u6d88","\u786e\u5b9a"],onSuccess:function(t){1==t.buttonIndex&&(r=!0,e())},onFail:function(e){}})}else r=!0,e()}))}));case 4:r&&(u.a.toast.loading(d.p,0),Object(l.a)(g,"POST",JSON.stringify(p),(function(n){u.a.toast.hide(),Object(c.u)(n)&&0===n.code&&("inventory"==a.editPage&&(t(Y(["inventoryCardTemp","financialInfo","batchList"],Object(o.fromJS)(n.data.batchList))),u.a.toast.info("\u4fdd\u5b58\u6210\u529f",2,e())),"inventoryBatchList"==a.editPage&&(t(Y(["batch","allBatchList"],Object(o.fromJS)(n.data.batchList))),u.a.toast.info("\u4fdd\u5b58\u6210\u529f",2,e())),"editRunning"==a.editPage&&("MODIFY-MODIFY"==s&&t(m.j({batch:n.data.batch,batchUuid:n.data.batchUuid,expirationDate:n.data.expirationDate,cardUuid:n.data.inventoryUuid})),e()))})));case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}"MODIFY-INSERT"==s&&(g="batchInsert",p={inventoryUuid:a.inventoryUuid,batch:a.batch,productionDate:a.productionDate,expirationDate:a.expirationDate,needPage:!1,canUse:"inventory"==f||void 0}),"MODIFY-MODIFY"==s&&(g="batchModify",p={inventoryUuid:a.inventoryUuid,batch:a.batch,batchUuid:a.batchUuid,productionDate:a.productionDate,expirationDate:a.expirationDate,needPage:!1,canUse:"inventory"==f||void 0}),function(){y.apply(this,arguments)}()}},ee=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"allBatchList";return function(n,a){Object(l.a)("getBatchList","POST",JSON.stringify(e),(function(e){Object(c.u)(e,"","","",!0)&&0===e.code&&("allBatchList"==t&&n(Y(["batch","allBatchList"],Object(o.fromJS)(e.data.batchList))),"batchList"==t&&n(Y(["inventoryCardTemp","financialInfo","batchList"],Object(o.fromJS)(e.data.batchList))))}))}},te=function(e){return function(t,n){u.a.toast.loading(d.p,0),Object(l.a)("modifyBatchStatus","POST",JSON.stringify(e),(function(e){u.a.toast.hide(),Object(c.u)(e)&&0===e.code&&t(Y(["batch","allBatchList"],Object(o.fromJS)(e.data.batchList)))}))}},ne=function(e){return function(t,n){u.a.toast.loading(d.p,0),Object(l.a)("deleteBatchList","POST",JSON.stringify(e),(function(n){if(u.a.toast.hide(),Object(c.u)(n)&&0===n.code){if(t(Y(["batch","allBatchList"],Object(o.fromJS)(n.data.batchList))),n.data.usedList&&n.data.usedList.length){var a=n.data.usedList.reduce((function(e,t){return"".concat(e).concat(e?";":"").concat(t.batch)}),"");u.a.toast.info("\u6279\u6b21".concat(a,"\u5df2\u88ab\u671f\u521d\u503c/\u6d41\u6c34\u4f7f\u7528\uff0c\u65e0\u6cd5\u5220\u9664"),2)}t(ee({inventoryUuid:e.inventoryUuid,canUse:!0,needPage:!1},"batchList"))}}))}},ae=function(e,t){return function(n,a){u.a.toast.loading(d.p,0),Object(l.a)("getSerialList","POST",JSON.stringify({inventoryUuid:e,inUuid:t,inType:"O"}),(function(e){u.a.toast.hide(),Object(c.u)(e)&&0===e.code&&n(Y(["serial","serialList"],Object(o.fromJS)(e.data)))}))}},ie=function(e){return{type:s.F,openType:e}}},1055:function(e,t,n){"use strict";n.r(t),n.d(t,"getApprovalList",(function(){return y})),n.d(t,"getModelInfo",(function(){return h})),n.d(t,"getCategorySubList",(function(){return v})),n.d(t,"getApprovalCurrentList",(function(){return b})),n.d(t,"getApprovalCurrentCard",(function(){return E})),n.d(t,"getApprovalStockList",(function(){return S})),n.d(t,"getApprovalStockCard",(function(){return O})),n.d(t,"getApprovalProjectList",(function(){return L})),n.d(t,"getApprovalProjectCard",(function(){return C})),n.d(t,"changeModelString",(function(){return N})),n.d(t,"saveApprovalItem",(function(){return I})),n.d(t,"getUploadGetTokenFetch",(function(){return j})),n.d(t,"uploadFiles",(function(){return T})),n.d(t,"getSpaceInfo",(function(){return k})),n.d(t,"initModel",(function(){return U})),n.d(t,"getCustomSpaceAndPreview",(function(){return w})),n.d(t,"getApprovalProcessModelList",(function(){return P})),n.d(t,"getRelationList",(function(){return A})),n.d(t,"changeApprovalOutString",(function(){return x})),n.d(t,"beforeAddManageTypeCard",(function(){return D})),n.d(t,"updateInstanceModel",(function(){return J})),n.d(t,"updateInstanceModelBeforeSave",(function(){return M})),n.d(t,"beforeInsertProjectCard",(function(){return B}));n(32),n(98),n(115),n(61),n(33),n(31),n(131),n(70),n(133),n(77),n(65);var a=n(4),i=n(51),r=n(102),c=n(1),o=n(1224),s=n(78),l=n(17),u=n(57),d=n(12),m=n(2),f=n(14),p=n(1101),g=n(1102),y=function(e,t){return function(e,t){Object(s.a)("getApprovalList","GET","",(function(t){Object(d.u)(t)&&e({type:o.h,data:t.data})}))}},h=function(e,t){return function(t,n){m.a.toast.loading("\u52a0\u8f7d\u4e2d...",0),Object(s.a)("getModelInfo","GET","modelCode=".concat(e),(function(e){m.a.toast.hide(),Object(d.u)(e)&&t({type:o.i,data:e.data})}))}},v=function(e,t){return function(n,a){Object(s.a)("getCategorySubList","GET","uuid=".concat(e,"&jrCategoryProperty=").concat(t),(function(e){Object(d.u)(e)&&n({type:o.e,name:"categoryList",value:Object(c.fromJS)([e.data])})}))}},b=function(e,t,n,a){return function(i,r){var s=r().editApprovalState.get("modelInfo"),l=s.get("jrCategoryId"),m=s.get("jrCategoryProperty");Object(u.a)("getApprovalCurrentList","POST",JSON.stringify({categoryList:e,inCardList:t,outCardList:n,subCategoryList:a,jrCategoryUuid:l,jrCategoryProperty:m}),(function(e){Object(d.u)(e)&&i({type:o.e,name:"currentCardTree",value:Object(c.fromJS)(e.data)})}))}},E=function(e,t,n,a,i,r){return function(s,l){var m=l().editApprovalState.get("modelInfo"),f=m.get("jrCategoryId"),p=m.get("jrCategoryProperty");Object(u.a)("getApprovalCurrentCard","POST",JSON.stringify({categoryList:n,inCardList:a,outCardList:i,subCategoryList:r,categoryUuid:"ALL"!==e?e:"",isTopCategory:t,jrCategoryUuid:f,jrCategoryProperty:p}),(function(e){Object(d.u)(e)&&s({type:o.e,name:"currentCardList",value:Object(c.fromJS)(e.data)})}))}},S=function(e,t,n,a){return function(i,r){var s=r().editApprovalState.get("modelInfo"),l=s.get("jrCategoryId"),m=s.get("jrCategoryProperty");Object(u.a)("getApprovalStockList","POST",JSON.stringify({categoryList:e,inCardList:t,outCardList:n,subCategoryList:a,jrCategoryUuid:l,jrCategoryProperty:m}),(function(e){Object(d.u)(e)&&i({type:o.e,name:"stockCardTree",value:Object(c.fromJS)(e.data)})}))}},O=function(e,t,n,a,i,r){return function(s,l){var m=l().editApprovalState.get("modelInfo"),f=m.get("jrCategoryId"),p=m.get("jrCategoryProperty");Object(u.a)("getApprovalStockCard","POST",JSON.stringify({categoryList:n,inCardList:a,outCardList:i,subCategoryList:r,categoryUuid:"ALL"!==e?e:"",isTopCategory:t,jrCategoryUuid:f,jrCategoryProperty:p}),(function(e){Object(d.u)(e)&&s({type:o.e,name:"stockCardList",value:Object(c.fromJS)(e.data)})}))}},L=function(e,t,n,a){return function(i,r){var s=r().editApprovalState.get("modelInfo"),l=s.get("jrCategoryId"),m=s.get("jrCategoryProperty");Object(u.a)("getApprovalProjectList","POST",JSON.stringify({categoryList:e,inCardList:t,outCardList:n,subCategoryList:a,jrCategoryUuid:l,jrCategoryProperty:m}),(function(e){Object(d.u)(e)&&i({type:o.e,name:"projectCardTree",value:Object(c.fromJS)(e.data)})}))}},C=function(e,t,n,a,i,r){return function(s,l){var m=l().editApprovalState.get("modelInfo"),f=m.get("jrCategoryId"),p=m.get("jrCategoryProperty");Object(u.a)("getApprovalProjectCard","POST",JSON.stringify({categoryList:n,inCardList:a,outCardList:i,subCategoryList:r,categoryUuid:"ALL"!==e?e:"",isTopCategory:t,jrCategoryUuid:f,jrCategoryProperty:p}),(function(e){Object(d.u)(e)&&s({type:o.e,name:"projectCardList",value:Object(c.fromJS)(e.data)})}))}},N=function(e,t){return{type:o.g,place:e,value:t}},I=function(e){return function(t,n){var a=n().editApprovalState,i=a.get("componentList").toJS(),c=a.get("modelInfo").toJS(),o=c.modelCode,s=a.get("departmentId"),l=i.findIndex((function(e){return"BM"===e.jrComponentType})),d=(i.findIndex((function(e){return"DDPhotoField"===e.componentType})),i.find((function(e){return"MX"===e.jrComponentType}))),f=d.detailList[0].findIndex((function(e){return"CH"===e.jrComponentType})),p=(i.find((function(e){return"XM"===e.jrComponentType})),i.find((function(e){return"WLDW"===e.jrComponentType})),i.map((function(e){return{label:e.label,value:"object"===Object(r.a)(e.value)?JSON.stringify(e.value):e.value,detailValueList:(e.detailList||[]).map((function(e){return e.map((function(e){return{label:e.label,value:e.value,componentType:e.componentType,jrComponentType:e.jrComponentType}}))})),componentType:e.componentType,jrComponentType:e.jrComponentType}})));l>-1&&(s=a.getIn(["views","departmentId"]),p.splice(l,1)),m.a.toast.loading("\u52a0\u8f7d\u4e2d...",0),Object(u.a)("saveApprovalItem","POST",JSON.stringify({valueList:p,modelInfo:c,departmentId:s}),(function(n){m.a.toast.hide(),0===n.code?(m.a.toast.success("\u6210\u529f"),e&&e()):900501===n.code?m.a.Confirm({title:"\u63d0\u793a",message:"\u8be5\u5ba1\u6279\u7684\u9009\u9879\u8d85\u8fc7\u9489\u9489\u6a21\u7248\u8303\u56f4\uff0c\u662f\u5426\u66f4\u65b0\u6a21\u7248?",buttonLabels:["\u53d6\u6d88","\u786e\u8ba4"],onSuccess:function(n){if(1===n.buttonIndex){var a=[],r=[],c=[],s={XM:c,WLDW:r};["XM","WLDW"].forEach((function(e){var t=i.find((function(t){return t.jrComponentType===e})),n=i.findIndex((function(t){return t.jrComponentType===e})),a=i.find((function(e){return"MX"===e.jrComponentType})).detailList;if(n>-1)t.code&&s[e].push({code:t.code,name:t.name});else a.map((function(t){var n=t.findIndex((function(t){return t.jrComponentType===e}));n>-1&&t[n].code&&t[n].code&&s[e].push({code:t[n].code,name:t[n].name})}))}));f>-1&&(a=d.detailList.map((function(e){var t=e.find((function(e){return"MX_AMOUNT"===e.jrComponentType})),n=e.find((function(e){return"CH"===e.jrComponentType}));return{code:n.code,name:n.name,unit:t.unit||""}}))),t(M(o,r,c,a,e))}}}):m.a.toast.info(n.message)}))}},j=function(){return function(e,t){Object(l.g)("aliyunOssPolicy","GET","",(function(t){e({type:o.a,receivedData:t.data,code:t.code})}))}},T=function(e,t,n,a,i,r){return function(e,a){var l=[];l.push({fileName:i,enclosurePath:n.data.enclosurePath,size:(n.data.size/1024).toFixed(2),imageOrFile:n.data.mimeType.toString().toUpperCase().indexOf("IMAGE")>-1?"TRUE":"FALSE",label:"\u65e0\u6807\u7b7e",beDelete:!1,mimeType:n.data.mimeType}),Object(s.a)("insertEnclosure","POST",JSON.stringify({enclosureList:l}),(function(n){0===n.code&&e({type:o.f,placeArr:t,value:Object(c.fromJS)(n.data.enclosureList)}),r&&m.a.toast.hide()}))}},k=function(e){return function(t){Object(s.a)("getSpaceInfo","GET","",(function(n){if(Object(d.u)(n)){var a=n.data.processSpaceId;t({type:o.e,name:"spaceId",value:a}),m.a.uploadAttachment({image:{multiple:!0,compress:!1,max:9,spaceId:a},space:{corpId:sessionStorage.getItem("corpId"),spaceId:a,isCopy:1,max:9},file:{spaceId:a,max:1},types:["photo","camera","file","space"],onSuccess:function(t){var n=t.data.map((function(e){return Object(i.a)({},e,{type:t.type})}));e&&e(n)}})}}))}},U=function(e){return function(t){t({type:o.j}),e&&t(h(e))}},w=function(e){return function(t){Object(s.a)("getCustomSpace","POST",JSON.stringify({fileId:e.get("fileId"),spaceId:e.get("spaceId"),type:"download"}),(function(t){Object(d.u)(t)&&m.a.preview({corpId:sessionStorage.getItem("corpId"),spaceId:e.get("spaceId"),fileId:e.get("fileId"),fileName:e.get("fileName"),fileSize:e.get("fileSize"),fileType:e.get("fileType"),onSuccess:function(e){},onFail:function(e){console.log(e)}})}))}},P=function(e){return function(t,n){n().searchApprovalState;Object(s.a)("getapprovalprocessmodellist","POST",JSON.stringify(Object(i.a)({},e)),(function(e){Object(d.u)(e)&&t({type:o.e,name:"processModelList",value:Object(c.fromJS)(e.data)})}))}},A=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0;return function(c,l){!n&&m.a.toast.loading(f.p,0);var u=l().editApprovalState;delete e.refresh;var p=t||u.getIn(["views","currentPage"]);Object(s.a)("getRelationList","POST",JSON.stringify(Object(i.a)({currentPage:p,pageSize:f.l},e)),(function(t){!n&&m.a.toast.hide(),Object(d.u)(t)&&(n&&a.setState({isLoading:!1}),c({type:o.b,receivedData:t.data,param:e,currentPage:p,shouldConcat:n}),r&&r())}))}},x=function(e,t){return function(n){return n({type:o.e,name:e,value:t})}},D=function(e,t){return function(n){n(p.v()),m.a.toast.loading(f.p,0),Object(s.a)("getIUManageCardLimitAndAc","GET","",(function(e){Object(d.u)(e)&&(Object(s.a)("getInitRelaCard","GET","",(function(e){Object(d.u)(e)&&n(p.g("code",e.data.code))})),n({type:o.c,data:e.data,insertOrModify:t,fromPage:"editApproval"})),m.a.toast.hide()})),e()}},J=function(e,t,n,i){return function(r,o){m.a.toast.loading(f.p,0),Object(s.a)("updateInstanceModel","POST",JSON.stringify(Object(a.a)({modelCode:e},t+"List",[n])),(function(e){if(m.a.toast.hide(),Object(d.u)(e)){m.a.toast.info("\u4fdd\u5b58\u6210\u529f");var n=o().editApprovalState.get("componentList"),a=n.find((function(e){return"MX"===e.get("jrComponentType")})).get("detailList"),s=n.findIndex((function(e){return"MX"===e.get("jrComponentType")})),l={contactCard:"WLDW",projectCard:"XM",stockCard:"CH"}[t],u={contactCard:e.data.contactSelectValueScope,projectCard:e.data.projectSelectValueScope,stockCard:e.data.stockSelectValueScope}[t],f=(n.find((function(e){return e.get("jrComponentType")===l})),n.findIndex((function(e){return e.get("jrComponentType")===l})));if(f>-1)r(N(["componentList",f,"selectValueScope"],Object(c.fromJS)(u)));else{var p=a.map((function(e){var t=e.findIndex((function(e){return e.get("jrComponentType")===l}));return e.setIn([t,"selectValueScope"],Object(c.fromJS)(u))}));r(N(["componentList",s,"detailList"],Object(c.fromJS)(p)))}i()}}))}},M=function(e,t,n,a,i){return function(r,c){m.a.toast.loading(f.p,0),Object(s.a)("updateInstanceModel","POST",JSON.stringify({modelCode:e,contactCardList:t,projectCardList:n,stockCardList:a}),(function(e){m.a.toast.hide(),Object(d.u)(e)&&r(I(i))}))}},B=function(){return function(e){e(g.a(["views","insertOrModify"],"insert")),Object(s.a)("getProjectConfigHighType","GET","",(function(t){Object(d.u)(t)&&(e({type:o.k,list:t.data}),e(g.m("data","editApproval")),e(g.k(t.data[1].uuid)),e(g.g()))}))}}},1062:function(e,t,n){n(39)({target:"String",proto:!0},{repeat:n(553)})},1066:function(e,t,n){},1101:function(e,t,n){"use strict";n.d(t,"v",(function(){return u})),n.d(t,"t",(function(){return d})),n.d(t,"b",(function(){return m})),n.d(t,"g",(function(){return f})),n.d(t,"e",(function(){return p})),n.d(t,"a",(function(){return g})),n.d(t,"f",(function(){return y})),n.d(t,"A",(function(){return h})),n.d(t,"r",(function(){return v})),n.d(t,"n",(function(){return b})),n.d(t,"m",(function(){return E})),n.d(t,"q",(function(){return S})),n.d(t,"u",(function(){return O})),n.d(t,"c",(function(){return L})),n.d(t,"i",(function(){return C})),n.d(t,"y",(function(){return N})),n.d(t,"s",(function(){return I})),n.d(t,"d",(function(){return j})),n.d(t,"p",(function(){return T})),n.d(t,"x",(function(){return k})),n.d(t,"j",(function(){return U})),n.d(t,"k",(function(){return w})),n.d(t,"z",(function(){return P})),n.d(t,"w",(function(){return A})),n.d(t,"l",(function(){return x})),n.d(t,"o",(function(){return D})),n.d(t,"C",(function(){return J})),n.d(t,"B",(function(){return M})),n.d(t,"h",(function(){return B}));n(32),n(62),n(31),n(70),n(29),n(83),n(1062),n(82);var a=n(12),i=n(1),r=n(1149),c=n(57),o=n(2),s=n(14),l=n(1040),u=(n(1055),function(){return function(e){Object(c.a)("getIUManageListTitle","GET","",(function(t){Object(a.u)(t)&&e({type:r.u,title:t.data})}))}}),d=function(e){return function(t,n){var i=e.get("name"),l=e.get("uuid"),u=n().relativeConfState.getIn(["views","anotherTabName"]);i===u?(o.a.toast.loading(s.p,0),Object(c.a)("getIUmanageListAll","GET","listFrom=",(function(e){o.a.toast.hide(),Object(a.u)(e)&&t({type:r.t,list:e.data.resultList,name:i,tree:[],uuid:""})}))):(o.a.toast.loading(s.p,0),Object(c.a)("getIUmanageListAll","GET","listFrom=".concat(l),(function(e){Object(a.u)(e)&&Object(c.a)("getIUManageTreeByType","GET","ctgyUuid=".concat(l),(function(n){o.a.toast.hide(),Object(a.u)(n)&&t({type:r.t,list:e.data.resultList,name:i,tree:n.data.resultList,uuid:l})}))})))}},m=function(e,t){return function(n){o.a.toast.loading(s.p,0),Object(c.a)("getIUManageCardLimitAndAc","GET","",(function(e){Object(a.u)(e)&&(Object(c.a)("getInitRelaCard","GET","",(function(e){Object(a.u)(e)&&n(f("code",e.data.code))})),n({type:r.a,data:e.data,insertOrModify:t})),o.a.toast.hide()})),e()}},f=function(e,t){return{type:r.g,name:e,value:t}},p=function(e,t){return function(n){t?Object(c.a)("getIUManageTreeByType","GET","ctgyUuid=".concat(e.get("uuid")),(function(i){Object(a.u)(i)&&n({type:r.d,tag:e,checked:t,tree:i.data.resultList})})):n({type:r.d,tag:e,checked:t,tree:[]})}},g=function(e){return{type:r.y,uuid:e}},y=function(e,t){return{type:r.e,uuid:e,name:t}},h=function(e,t,n){return function(i,u){o.a.toast.loading(s.p,0);var d=u().relativeConfState.get("relativeCardTemp").toJS(),m=u().relativeConfState.getIn(["relativeCardTemp","insertOrModify"]),f=u().relativeConfState.getIn(["views","activeTapKeyUuid"]),p=u().relativeConfState.getIn(["views","sonUuid"]),g=function(){if("insert"===m){Object(c.a)("saveIUManageCard","POST",JSON.stringify({psiData:d,insertFrom:f,treeFrom:p,needAutoIncrementCode:"insert"!==n,action:{editRunning:"SAVE_JR-QUICK_MANAGER-SAVE_CONTACT",relative:"MANAGER-CONTACT_SETTING-CUD_CONTACT_CARD",searchApproval:"QUERY_PROCESS-QUICK_MANAGER-SAVE_CONTACT",editApproval:"INITIATE_PROCESS-QUICK_MANAGER-SAVE_CONTACT"}[e]}),(function(c){if(Object(a.u)(c)){if(i({type:r.A,list:c.data.resultList,treeList:c.data.typeList,flag:n,code:c.data.autoIncrementCode}),"relative"!==e&&"editApproval"!==e&&i(l.i()),"editApproval"===e)u().editApprovalState.getIn(["modelInfo","callback"])(d);"insert"===n?o.a.toast.info("\u4fdd\u5b58\u6210\u529f",2,t()):o.a.toast.info("\u4fdd\u5b58\u6210\u529f")}}))}else Object(c.a)("editIUManageCard","POST",JSON.stringify({psiData:d,modifyFrom:f,treeFrom:p}),(function(e){Object(a.u)(e)&&(i({type:r.A,list:e.data.resultList,treeList:e.data.typeList}),o.a.toast.success("\u4fdd\u5b58\u6210\u529f",2,t()))}))};Object(c.a)("adjustIUmanageCardTitleSame","POST",JSON.stringify({psiData:{name:d.name,uuid:d.uuid}}),(function(e){Object(a.u)(e)&&(e.data.repeat?o.a.Confirm({message:"\u5361\u7247\u540d\u79f0\u4e0e[\u7f16\u7801\uff1a".concat(e.data.card.code,"]\u5361\u7247\u91cd\u590d\uff0c\u786e\u5b9a\u4fdd\u5b58\u5417\uff1f"),title:"\u540d\u79f0\u91cd\u590d",buttonLabels:["\u53d6\u6d88","\u786e\u5b9a"],onSuccess:function(e){1===e.buttonIndex&&g()},onFail:function(e){}}):g()),o.a.toast.hide()}))}},v=function(e,t){return function(n){o.a.toast.loading(s.p,0),Object(c.a)("getIUManageOneCardInfo","GET","uuid=".concat(e),(function(e){Object(a.u)(e)&&(n({type:r.a,data:e.data,insertOrModify:"modify"}),t())})),o.a.toast.hide()}},b=function(e){return{type:r.h,clearType:e}},E=function(e,t){return{type:r.o,checked:e,uuid:t}},S=function(e){return function(t,n){var i=n().relativeConfState.get("relativeCardSelectList").toJS();if(0!==i.length){n().relativeConfState.getIn(["views","activeTapKey"]);var l=n().relativeConfState.getIn(["views","activeTapKeyUuid"]),u=n().relativeConfState.getIn(["views","sonUuid"]);o.a.toast.loading(s.p,0),Object(c.a)("deleteIUManageListCard","POST",JSON.stringify({deleteList:i,deleteFrom:l,treeFrom:u}),(function(n){o.a.toast.hide(),Object(a.u)(n)&&(t({type:r.q,data:n.data.resultList,treeList:n.data.typeList}),""===n.data.error?o.a.toast.info("\u5220\u9664\u6210\u529f",2,e):o.a.toast.info(n.data.error))}))}else o.a.toast.info("\u8bf7\u9009\u62e9\u9700\u8981\u5220\u9664\u7684\u5361\u7247")}},O=function(e,t,n){return function(i){Object(c.a)("getIUmanageListBySontype","GET","ctgyUuid=".concat(e,"&&subordinateUuid=").concat(t),(function(e){Object(a.u)(e)&&i({type:r.s,data:e.data.resultList,sonUuid:t,sonName:n})}))}},L=function(){return{type:r.c}},C=function(e,t){return{type:r.j,name:e,value:t}},N=function(){return function(e,t){o.a.toast.loading(s.p,0);var n=t().relativeConfState.get("relativeHighTypeTemp").toJS();Object(c.a)("saveIUManageHighType","POST",JSON.stringify({psiData:n}),(function(t){o.a.toast.hide(),Object(a.u)(t)&&0===t.code&&(e(u()),o.a.toast.info("\u4fdd\u5b58\u6210\u529f",2))}))}},I=function(e,t){return function(n){n(B("relativeHighTypeTemp",e.set("treeList",Object(i.fromJS)([])),!0)),o.a.toast.loading(s.p,0),Object(c.a)("getIUManageTreeByType","GET","ctgyUuid=".concat(e.get("uuid")),(function(e){o.a.toast.hide(),Object(a.u)(e)&&(n(B(["relativeHighTypeTemp","treeList"],Object(i.fromJS)(e.data.resultList))),t&&t())}))}},j=function(e,t){return{type:r.i,status:e,uuid:t}},T=function(e){return function(t,n){var s=n().relativeConfState,l=s.get("cardHighTypeSelectList"),u=s.getIn(["views","activeTapKeyUuid"]);0!==l.size?Object(c.a)("deleteIUManageSettingHighTypeList","POST",JSON.stringify({deleteList:l}),(function(n){Object(a.u)(n)&&(0===n.code&&(t({type:r.p,title:n.data.resultList}),o.a.toast.info("\u5220\u9664\u6210\u529f",2,e),l.map((function(e){return e.get("uuid")})).includes(u)&&t(d(Object(i.fromJS)({uuid:"",name:"\u5168\u90e8"})))))})):o.a.toast.info("\u8bf7\u9009\u62e9\u9700\u8981\u5220\u9664\u7684\u7c7b\u522b")}},k=function(e,t){return{type:r.x,uuid:e,name:t}},U=function(e,t){return{type:r.m,name:e,value:t}},w=function(e,t){return{type:r.n,parentName:t,parentUuid:e}},P=function(e){return function(t,n){var r=n().relativeConfState,l=r.get("relativeTypeTemp"),u=r.getIn(["relativeHighTypeTemp","uuid"]);l=l.set("currentUnitCtgyUuid",u);var d=function(){o.a.toast.loading(s.p,0),Object(c.a)("saveIUManageType","POST",JSON.stringify({psiData:l}),(function(n){Object(a.u)(n)&&Object(c.a)("getIUmanageListAll","GET","listFrom=".concat(u),(function(r){o.a.toast.hide(),Object(a.u)(r)&&(t(B(["relativeHighTypeTemp","treeList"],Object(i.fromJS)(n.data.resultList))),o.a.toast.info("\u4fdd\u5b58\u6210\u529f",2,e))}))}))};Object(c.a)("adjustIUmanageTypeTitleSame","POST",JSON.stringify({psiData:{parentUuid:l.get("parentUuid"),name:l.get("name"),uuid:l.get("uuid")}}),(function(e){Object(a.u)(e)&&(e.data.repeat?o.a.Confirm({message:"\u540d\u79f0\u91cd\u590d",title:"\u5361\u7247\u7c7b\u522b\u540d\u79f0\u4e0e\u5df2\u6709\u5361\u7247\u7c7b\u522b\u540d\u79f0\u91cd\u590d\uff0c\u786e\u5b9a\u4fdd\u5b58\u5417\uff1f",buttonLabels:["\u53d6\u6d88","\u786e\u5b9a"],onSuccess:function(e){d()},onFail:function(e){}}):d())}))}},A=function(e){return function(t){o.a.toast.loading(s.p,0),Object(c.a)("getIUManagetTreeSingleType","GET","uuid=".concat(e),(function(n){o.a.toast.hide(),Object(a.u)(n)&&t({type:r.v,uuid:e,data:n.data})}))}},x=function(e,t){return{type:r.l,uuid:e,value:t}},D=function(e,t){return function(n,r){var l=r().relativeConfState.getIn(["relativeHighTypeTemp","uuid"]),u=[];!function e(t){return t.map((function(t){t.get("checked")&&u.push(t.get("uuid")),t.get("childList").size>0&&e(t.get("childList"))}))}(e),0!==u.size?(o.a.toast.loading(s.p,0),Object(c.a)("deleteIUManageTreeList","POST",JSON.stringify({currentUnitCtgyUuid:l,deleteList:u}),(function(e){o.a.toast.hide(),Object(a.u)(e)&&(n(B(["relativeHighTypeTemp","treeList"],Object(i.fromJS)(e.data.resultList))),o.a.toast.info("\u5220\u9664\u6210\u529f",2,t))}))):o.a.toast.info("\u8bf7\u9009\u62e9\u8981\u5220\u9664\u7684\u7c7b\u522b")}},J=function(e,t){return function(n,r){var l=r().relativeConfState.getIn(["relativeHighTypeTemp","uuid"]);o.a.toast.loading(s.p,0),Object(c.a)("swapIUmanageTypePosition","POST",JSON.stringify({psiData:{selectedSubordinateUuid:e,swappedSubordinateUuid:t,categoryUuid:l}}),(function(e){Object(a.u)(e)&&(o.a.toast.hide(),n(B(["relativeHighTypeTemp","treeList"],Object(i.fromJS)(e.data.resultList))))}))}},M=function(e,t){return{type:r.B,uuid:e,used:t}},B=function(e,t,n){return{type:r.k,dataType:e,value:t,short:n}}},1102:function(e,t,n){"use strict";n.d(t,"o",(function(){return d})),n.d(t,"a",(function(){return m})),n.d(t,"j",(function(){return p})),n.d(t,"h",(function(){return g})),n.d(t,"f",(function(){return y})),n.d(t,"d",(function(){return h})),n.d(t,"i",(function(){return v})),n.d(t,"n",(function(){return b})),n.d(t,"c",(function(){return E})),n.d(t,"e",(function(){return S})),n.d(t,"q",(function(){return O})),n.d(t,"l",(function(){return L})),n.d(t,"p",(function(){return C})),n.d(t,"m",(function(){return I})),n.d(t,"b",(function(){return j})),n.d(t,"k",(function(){return k})),n.d(t,"r",(function(){return U})),n.d(t,"g",(function(){return w}));n(32),n(55),n(166),n(31),n(70),n(77),n(1071),n(1029),n(1062),n(1030);var a=n(51),i=n(12),r=n(1),c=n(1150),o=n(57),s=n(2),l=n(14),u=n(1040),d=(n(1055),function(){return function(e){Object(o.a)("getProjectConfigHighType","GET","",(function(t){Object(i.u)(t)&&e({type:c.k,list:t.data})}))}}),m=function(e,t){return{type:c.d,dataType:e,value:t}},f=function(e,t){return{type:c.e,dataType:e,value:t}},p=function(){return function(e,t){var n=t().projectConfState.getIn(["views","currentType"]);Object(o.a)("getProjectListAndTree","GET","listFrom=".concat(n,"&treeFrom=''"),(function(t){Object(i.u)(t)&&e({type:c.h,data:t.data})}))}},g=function(e,t){return function(n){s.a.toast.loading(l.p,0),Object(o.a)("getProjectCardOne","GET","uuid=".concat(e),(function(e){s.a.toast.hide(),Object(i.u)(e)&&(n({type:c.g,data:e.data}),t.push("/config/project/projectCard"))}))}},y=function(e,t){return function(n){s.a.toast.loading(l.p,0),Object(o.a)("getProjectCardByType","GET","ctgyUuid=".concat(e,"&subordinateUuid=").concat(t),(function(e){s.a.toast.hide(),Object(i.u)(e)&&n(f("cardList",Object(r.fromJS)(e.data.resultList)))}))}},h=function(e,t,n,a){return function(c){var u=e.filter((function(e){return e.get("checked")})).map((function(e){return{uuid:e.get("uuid")}}));s.a.toast.loading(l.p,0),Object(o.a)("deleteProjectCard","POST",JSON.stringify({deleteFrom:t,treeFrom:n,deleteList:u}),(function(e){s.a.toast.hide(),Object(i.u)(e)&&(e.data.error?s.a.toast.info(e.data.error):s.a.toast.success("\u5220\u9664\u6210\u529f"),c(f("cardList",Object(r.fromJS)(e.data.resultList))),c(f("treeList",Object(r.fromJS)(e.data.typeList))),a())}))}},v=function(e){return function(t){var n=new Promise((function(t){Object(o.a)("getProjectConfigHighTypeOne","GET","uuid=".concat(e),(function(e){Object(i.u)(e)&&t(e.data)}))})),a=new Promise((function(t){Object(o.a)("getProjectListAndTree","GET","listFrom=".concat(e,"&treeFrom=''"),(function(e){Object(i.u)(e)&&t(e.data.typeList)}))}));Promise.all([n,a]).then((function(e){var n=e[0];n.treeList=e[1],t(f("highTypeData",Object(r.fromJS)(n)))}))}},b=function(){return function(e,t){var n=t().projectConfState.get("highTypeData").toJS();s.a.toast.loading(l.p,0),Object(o.a)("modifyProjectConfigHighType","POST",JSON.stringify({psiData:n}),(function(e){s.a.toast.hide(),Object(i.u)(e)&&(s.a.toast.info(e.message),0==e.code&&s.a.toast.success("\u4fdd\u5b58\u6210\u529f"))}))}},E=function(e,t){return{type:c.f,uuid:e,value:t}},S=function(e,t,n){return function(a,c){var u=[];if(function e(t){return t.map((function(t){t.get("checked")&&u.push(t.get("uuid")),t.get("childList").size>0&&e(t.get("childList"))}))}(t),0==u.length)return s.a.toast.info("\u8bf7\u9009\u62e9\u9700\u8981\u5220\u9664\u7684\u7c7b\u522b");s.a.toast.loading(l.p,0),Object(o.a)("deleteProjectType","POST",JSON.stringify({ctgyUuid:e,deleteList:u}),(function(e){s.a.toast.hide(),Object(i.u)(e)&&(s.a.toast.info(e.message),0==e.code&&(a(m(["highTypeData","treeList"],Object(r.fromJS)(e.data.resultList))),n()))}))}},O=function(e,t,n){return function(a){s.a.toast.loading(l.p,0),Object(o.a)("swapProjectTypePosition","POST",JSON.stringify({psiData:{categoryUuid:e,selectedSubordinateUuid:t,swappedSubordinateUuid:n}}),(function(e){s.a.toast.hide(),Object(i.u)(e)&&(s.a.toast.info(e.message),0==e.code&&a(f("treeList",Object(r.fromJS)(e.data.resultList))))}))}},L=function(e){return function(t){s.a.toast.loading(l.p,0),Object(o.a)("getProjectTreeOne","GET","uuid=".concat(e),(function(e){s.a.toast.hide(),Object(i.u)(e)&&t(f("treeData",Object(r.fromJS)(e.data)))}))}},C=function(e,t,n){return function(a){var r=t.get("name");return 0==r.length?s.a.toast.info("\u8bf7\u586b\u5199\u7c7b\u522b\u540d\u79f0"):r.length>30?s.a.toast.info("\u7c7b\u522b\u540d\u79f0\u6700\u591a30\u4e2a\u5b57\u7b26"):"\u5168\u90e8"==r?s.a.toast.info("\u7c7b\u522b\u540d\u79f0\u4e0d\u80fd\u4e3a\u5168\u90e8"):(s.a.toast.loading(l.p,0),void Object(o.a)("adjustProjectTypeNameSame","POST",JSON.stringify({psiData:t.toJS()}),(function(r){s.a.toast.hide(),Object(i.u)(r)&&(r.data.repeat?s.a.Confirm({message:"\u5361\u7247\u7c7b\u522b\u540d\u79f0\u4e0e\u5df2\u6709\u5361\u7247\u7c7b\u522b\u540d\u79f0\u91cd\u590d\uff0c\u786e\u5b9a\u4fdd\u5b58\u5417\uff1f",title:"\u540d\u79f0\u91cd\u590d",buttonLabels:["\u53d6\u6d88","\u786e\u5b9a"],onSuccess:function(i){1===i.buttonIndex&&a(N(e,t,n))},onFail:function(e){return alert(e)}}):a(N(e,t,n)))})))}},N=function(e,t,n){return function(c){s.a.toast.loading(l.p,0),Object(o.a)("insertProjectTreeOne","POST",JSON.stringify({psiData:Object(a.a)({ctgyUuid:e},t.toJS())}),(function(e){s.a.toast.hide(),Object(i.u)(e)&&(s.a.toast.info(e.message),0==e.code&&(n.goBack(),c(f("treeList",Object(r.fromJS)(e.data.resultList)))))}))}},I=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"project";return{type:c.j,dataType:e,fromPage:t}},j=function(e,t,n){return function(a,r){var c=r().projectConfState.getIn(["data","psiData"]);if(""==c.get("selectUuid"))return s.a.toast.info("\u8bf7\u9009\u62e9\u7c7b\u522b");s.a.toast.loading(l.p,0),Object(o.a)("adjustProjectCardNameSame","POST",JSON.stringify({psiData:{name:c.get("name"),uuid:c.get("uuid")}}),(function(r){s.a.toast.hide(),Object(i.u)(r)&&(r.data.repeat?s.a.Confirm({message:"\u5361\u7247\u540d\u79f0\u4e0e[\u7f16\u7801\uff1a".concat(r.data.card.code,"]\u5361\u7247\u91cd\u590d\uff0c\u786e\u5b9a\u4fdd\u5b58\u5417\uff1f"),title:"\u540d\u79f0\u91cd\u590d",buttonLabels:["\u53d6\u6d88","\u786e\u5b9a"],onSuccess:function(i){1===i.buttonIndex&&a(T(e,t,n))},onFail:function(e){return alert(e)}}):a(T(e,t,n)))}))}},T=function(e,t,n){return function(a,r){var d=r().projectConfState,f=d.getIn(["data","psiData"]),p="insert"==d.getIn(["views","insertOrModify"]);console.log("fromPage",e);var g=p?{insertFrom:d.getIn(["views","currentType"]),needAutoIncrementCode:!!n,treeFrom:d.getIn(["views","treeUuid"]),psiData:f.toJS(),action:{editRunning:"SAVE_JR-QUICK_MANAGER-SAVE_PROJECT",project:"MANAGER-PROJECT_SETTING-CUD_CARD",searchApproval:"QUERY_PROCESS-QUICK_MANAGER-SAVE_PROJECT",editApproval:"INITIATE_PROCESS-QUICK_MANAGER-SAVE_PROJECT"}[e]}:{modifyFrom:d.getIn(["views","currentType"]),treeFrom:d.getIn(["views","treeUuid"]),psiData:f.toJS()};s.a.toast.loading(l.p,0),Object(o.a)("".concat(p?"insertProjectCard":"editProjectCard"),"POST",JSON.stringify(g),(function(o){if(s.a.toast.hide(),Object(i.u)(o,"editApproval"===e?"":"show"))if(n)a(m(["data","psiData","name"],"")),a(m(["data","psiData","code"],o.data.autoIncrementCode)),a({type:c.a,receivedData:o.data.resultList});else{if("editApproval"===e)r().editApprovalState.getIn(["modelInfo","callback"])(f.toJS());a("project"!==e&&"editApproval"!==e?u.h():{type:c.a,receivedData:o.data.resultList}),t.goBack()}}))}},k=function(e){return function(t){s.a.toast.loading(l.p,0),Object(o.a)("getProjectTree","GET","uuid=".concat(e),(function(n){if(s.a.toast.hide(),Object(i.u)(n)){t(f("treeList",Object(r.fromJS)(n.data.resultList)));var a=n.data.resultList[0];0==a.childList.length?(t(m(["data","psiData","selectName"],a.name)),t(m(["data","psiData","selectUuid"],a.uuid)),t(m(["data","psiData","categoryTypeList",0],Object(r.fromJS)({ctgyUuid:e,subordinateUuid:a.uuid})))):(t(m(["data","psiData","selectName"],"")),t(m(["data","psiData","selectUuid"],"")),t(m(["data","psiData","categoryTypeList",0],Object(r.fromJS)({ctgyUuid:e,subordinateUuid:""}))))}}))}},U=function(e){return{type:c.l,dataType:e}},w=function(){return function(e){Object(o.a)("getProjectCardCode","GET","",(function(t){Object(i.u)(t)&&e({type:c.c,value:t.data.code})}))}}},1124:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));n(32),n(31),n(70);var a=n(7),i=n(8),r=n(9),c=n(10),o=n(0),s=n.n(o),l=(n(1),n(11),n(135)),u=function(e){Object(c.a)(n,e);var t=Object(r.a)(n);function n(){var e;Object(a.a)(this,n);for(var i=arguments.length,r=new Array(i),c=0;c<i;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(i.a)(n,[{key:"render",value:function(){var e=this.props,t=(e.dispatch,e.typeList),n=e.value,a=e.onChange,i=e.visible,r=e.isSelectEnd,c=e.parentDisabled,o=e.onCancel,u=function e(t){return t.map((function(t,n){return t.childList&&t.childList.length?{key:t.uuid,label:t.name,childList:e(t.childList)}:{key:t.uuid,label:t.name,childList:[]}}))},d=[];return t.size?t.getIn([0,"childList"]).size?!0!==r?(d=u(t.getIn([0,"childList"]).toJS())).unshift({key:t.getIn([0,"uuid"]),label:t.getIn([0,"name"]),childList:[]}):d=u(t.getIn([0,"childList"]).toJS()):d.unshift({key:t.getIn([0,"uuid"]),label:t.getIn([0,"name"]),childList:[]}):d=[{key:"",label:"\u5168\u90e8",childList:[]}],s.a.createElement(l.a,{visible:i,district:d,value:n,parentDisabled:c,onChange:a,onCancel:o},this.props.children)}}]),n}(s.a.Component)},1207:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n(31);function a(e,t){var n=[],a=!1;return function t(i){i.map((function(i){if(!a)return i.uuid==e?(a=!0,void n.push(i)):void(i.childList.length&&(n.push(i),t(i.childList)))})),a||n.pop()}(t),n}},1208:function(e,t,n){},1209:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));n(32),n(115),n(31),n(116),n(131);var a=n(7),i=n(8),r=n(9),c=n(10),o=(n(1122),n(1123)),s=n.n(o),l=n(0),u=n.n(l),d=(n(1),n(11)),m=function(e){Object(c.a)(n,e);var t=Object(r.a)(n);function n(e){var i;return Object(a.a)(this,n),(i=t.call(this,e)).state={visible:!1},i}return Object(i.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=(t.dispatch,t.overlay),a=t.item,i=t.data,r=t.swapPosition,c=t.i,o=t.sortClick,l=t.iconClick,m=this.state.visible;return u.a.createElement("div",{onClick:function(){l(!0)}},u.a.createElement(s.a,{visible:m,overlay:n,align:{overflow:{adjustY:0,adjustX:0},offset:[10,0]},placement:"bottomLeft",onSelect:function(t){switch(t.props.value){case"up":o(a.get("uuid"),i.getIn([c-1,"uuid"]));break;case"down":o(a.get("uuid"),i.getIn([c+1,"uuid"]));break;default:console.log(t.props.value)}e.setState({visible:!1}),l(!1)}},u.a.createElement(d.l,{type:"swap-position",style:{display:r?"block":"none"},className:"swap-position-icon"})))}}]),n}(u.a.Component),f=(n(1208),s.a.Item),p=function(e){Object(c.a)(n,e);var t=Object(r.a)(n);function n(){var e;Object(a.a)(this,n);for(var i=arguments.length,r=new Array(i),c=0;c<i;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={showList:[],sortModal:!1},e}return Object(i.a)(n,[{key:"showListLoop",value:function(e,t){var n=this;e.map((function(e,a){e.get("childList").size>0&&(t(e.get("uuid")),n.showListLoop(e.get("childList"),t))}))}},{key:"componentDidMount",value:function(){var e=[];this.showListLoop(this.props.treeList,(function(t){return e.push(t)})),this.setState({showList:e})}},{key:"componentWillReceiveProps",value:function(e){var t=[];this.showListLoop(e.treeList,(function(e){return t.push(e)})),this.setState({showList:t})}},{key:"render",value:function(){var e=this,t=this.props,n=t.dispatch,a=t.treeList,i=t.itemClick,r=t.isSort,c=t.isAdd,o=t.addClick,s=t.isDelete,l=t.deleteClick,p=t.sortClick,g=t.mastLast,y=this.state,h=y.showList,v=y.sortModal;return u.a.createElement("div",{className:"config-tree-com"},function t(a,y){return a.map((function(v,b){var E=v.get("name"),S=v.get("uuid"),O=!!v.get("checked"),L=[];0!=b&&"\u672a\u5206\u7c7b"!=E&&L.push(u.a.createElement(f,{key:"3",value:"up"},"\u4e0a\u79fb")),b!=a.size-1&&"\u672a\u5206\u7c7b"!=a.getIn([b+1,"name"])&&L.push(u.a.createElement(f,{key:"4",value:"down"},"\u4e0b\u79fb"));var C=!(!v.get("childList")||!v.get("childList").size),N=!!C&&h.some((function(e){return e===v.get("uuid")})),I="";return 2==y&&(I=u.a.createElement("span",{className:"ac-flag",style:{width:".1rem",backgroundColor:"#D1C0A5"}})),3==y&&(I=u.a.createElement("span",{className:"ac-flag",style:{width:".2rem",backgroundColor:"#7E6B5A"}})),4==y&&(I=u.a.createElement("span",{className:"ac-flag",style:{width:".3rem",backgroundColor:"#59493f"}})),u.a.createElement("div",{key:v.get("uuid")},u.a.createElement("div",{className:"tree-com-type-list"},u.a.createElement("div",{className:"tree-com-touch-range-name",onClick:function(){if(c)y<4&&o(S,E);else if(s)l(S,E,!O);else{if(r)return;if(C&&g)return;var t=h;if(N){var n=t.findIndex((function(e){return e===v.get("uuid")}));t.splice(n,1)}else t.push(v.get("uuid"));e.setState({showList:t})}}},u.a.createElement(d.e,{checked:O,disabled:"\u5168\u90e8"==E,style:{paddingRight:"4px",display:s?"inline-block":"none"}}),u.a.createElement(d.l,{type:"add-small",className:"add-type-icon",style:{display:c?"block":"none",opacity:y<4?"1":"0"}}),"\u5168\u90e8"===E?"":0===L.length?u.a.createElement("div",{className:"swap-position-block",style:{display:r?"block":"none"}}):u.a.createElement(m,{dispatch:n,overlay:L,item:v,data:a,swapPosition:r,i:b,sortClick:p,iconClick:function(t){return e.setState({sortModal:t})}}),I,u.a.createElement("span",{className:"tree-com-high-type-name",style:{color:C&&g?"#999":""},onClick:function(e){e.stopPropagation(),i(S,E,v)}},E)),u.a.createElement("div",{className:"tree-com-touch-range-icon",style:{display:C?"":"none"}},u.a.createElement(d.l,{type:"arrow-down",style:N?{transform:"rotate(180deg)"}:"",onClick:function(){var t=h;if(N){var n=t.findIndex((function(e){return e===v.get("uuid")}));t.splice(n,1)}else t.push(v.get("uuid"));e.setState({showList:t})}}))),C&&N?t(v.get("childList"),y+1):"")}))}(a,1),u.a.createElement("div",{className:"choose-type",style:{display:v?"":"none"},onClick:function(t){t.stopPropagation(),e.setState({sortModal:!1})}}))}}]),n}(u.a.Component)},1224:function(e,t,n){"use strict";n.d(t,"h",(function(){return a})),n.d(t,"i",(function(){return i})),n.d(t,"e",(function(){return r})),n.d(t,"d",(function(){return c})),n.d(t,"g",(function(){return o})),n.d(t,"a",(function(){return s})),n.d(t,"j",(function(){return l})),n.d(t,"f",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return m})),n.d(t,"k",(function(){return f}));var a="GET_APPROVAL_LIST",i="GET_APPROVAL_MODEL_INFO",r="CHANGE_APPROVAL_STATUS",c="CHANGE_APPROVAL_MODAL_STATUS",o="CHANGE_MODEL_STRING",s="AFTER_APPROVAL_GET_UPLOAD_SIGNATURE",l="INIT_EDIT_APPROVAL_STATE",u="CHANGE_MODEL_ENCLOSURE_STRING",d="AFTER_GET_EDIT_APPROVAL_PROCESSLIST",m="BEFORE_ADD_MANAGE_TYPE_CARD",f="PROJECT_HIGH_TYPE"},1873:function(e,t,n){},1874:function(e,t,n){"use strict";var a=n(39),i=n(1875).start;a({target:"String",proto:!0,forced:n(1876)},{padStart:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},1875:function(e,t,n){var a=n(46),i=n(553),r=n(84),c=Math.ceil,o=function(e){return function(t,n,o){var s,l,u=String(r(t)),d=u.length,m=void 0===o?" ":String(o),f=a(n);return f<=d||""==m?u:(s=f-d,(l=i.call(m,c(s/m.length))).length>s&&(l=l.slice(0,s)),e?u+l:l+u)}};e.exports={start:o(!1),end:o(!0)}},1876:function(e,t,n){var a=n(557);e.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(a)},925:function(e,t,n){"use strict";n.r(t),n.d(t,"reducer",(function(){return Ye})),n.d(t,"view",(function(){return Ve}));var a,i,r,c,o,s,l,u,d,m,f,p,g,y,h,v,b,E,S,O,L=n(7),C=n(8),N=n(9),I=n(10),j=n(0),T=n.n(j),k=n(1),U=n(11),w=n(6),P=(n(32),n(31),n(56),n(70),n(29),n(48),n(47)),A=(n(1873),n(2)),x=n(1207),D=n(12),J=n(1046),M=n(130),B=Object(P.c)((function(e){return e}))((r=i=function(e){Object(I.a)(n,e);var t=Object(N.a)(n);function n(e){var a;return Object(L.a)(this,n),(a=t.call(this,e)).scrollerHeight=0,a.listHeight=50,a.listHtml="",a.pageSize=50,a.throttleFn=Object(D.v)((function(e,t,n){e.target.scrollTop+100+a.scrollerHeight>=t*a.listHeight*a.pageSize&&t<n&&a.setState({currentPage:t+1})})),a.state={showTree:!1,showCheckBox:!1,currentPage:1,searchValue:""},a}return Object(C.a)(n,[{key:"componentDidMount",value:function(){A.a.setTitle({title:"\u5b58\u8d27\u8bbe\u7f6e"}),A.a.setRight({show:!1}),A.a.setIcon({showIcon:!1}),"home"===sessionStorage.getItem("prevPage")&&(sessionStorage.removeItem("prevPage"),this.props.dispatch(J.J()),this.props.dispatch(J.I()));var e=document.getElementsByClassName("right-content")[0];this.scrollViewHtml=e,this.scrollerHeight=Number(window.getComputedStyle(e).height.replace("px",""))}},{key:"componentDidUpdate",value:function(){if(!this.listHtml){var e=document.getElementsByClassName("list-html")[0];e&&(this.listHtml=e,this.listHeight=e?Number(window.getComputedStyle(e).height.replace("px","")):50)}}},{key:"render",value:function(){var e=this,t=this.props,n=t.dispatch,a=t.history,i=t.homeState,r=t.inventoryConfState,c=this.state,o=c.showTree,s=c.showCheckBox,l=c.currentPage,u=(c.searchValue,r.getIn(["views","activeTabKey"])),d=r.getIn(["views","activeTabKeyUuid"]),m=r.get("typeList"),f=r.get("cardList"),p=r.get("highTypeList"),g=i.getIn(["permissionInfo","Config"]).getIn(["edit","permission"]);n(M.i("config-inventory",(function(){return M.a("sendInventoryExcel",{})}),(function(){return M.a("exportInventoryExcel",{})})));var y=Math.ceil(f.size/this.pageSize),h=r.getIn(["views","treeSelect"]),v=[];if(m.size){var b=m.get(0);v.push({uuid:b.get("uuid"),name:b.get("name"),childList:[],cardNumber:b.get("cardNumber")}),v=v.concat(m.getIn([0,"childList"]).toJS())}var E=h.get("treeTwoList"),S=h.get("treeThreeList"),O=h.get("selectUuid").toJS(),L=h.get("selectName"),C=h.get("selectEndUuid");return T.a.createElement(U.h,{className:"inventory-config"},T.a.createElement(U.s,{flex:"1",className:"border-top"},T.a.createElement("div",{className:"setting-wrap"},T.a.createElement("div",{className:"setting-wrap-content"},T.a.createElement("div",{className:"setting-wrap-content-left"},p.map((function(t,a){return T.a.createElement("div",{className:u===t.get("name")?"left-item active":"left-item",key:t.get("uuid"),onClick:function(){n(J.e(t)),e.setState({currentPage:1,showTree:!1}),e.scrollViewHtml.scrollTop=0}},T.a.createElement("span",{className:"text",style:{WebkitBoxOrient:"vertical"}},t.get("name")))}))),T.a.createElement("div",{className:"setting-wrap-content-right"},T.a.createElement("div",{className:"right-item list-html",style:{display:d?"":"none"},onClick:function(){if(e.setState({showTree:!o}),!o&&C){var t=Object(x.a)(C,v),a=t[0],i=a.childList;i.length&&i.unshift({uuid:a.uuid,name:"\u5168\u90e8",oriName:a.name,childList:[]});var r=t[1]?t[1]:{uuid:"",childList:[]},c=r.childList;c.length&&c.unshift({uuid:r.uuid,name:"\u5168\u90e8",oriName:r.name,childList:[]}),n(J.m(["views","treeSelect"],h.merge(Object(k.fromJS)({treeTwoList:i,treeThreeList:c,selectUuid:[a.uuid,r.uuid,C]}))))}}},T.a.createElement("span",null,L||u),T.a.createElement(U.l,{type:"triangle",style:o?{transform:"rotate(180deg)"}:""})),T.a.createElement("div",{className:"tree-content-hidden ".concat(o?"tree-content":""),onClick:function(){return e.setState({showTree:!1})}},Object(k.fromJS)([v,E,S]).map((function(t,a){return T.a.createElement("div",{className:"tree-list ".concat(t.size?"bg-f".concat(a):""),key:"level_".concat(a)},t.map((function(t){var i=t.get("uuid"),r=t.get("name"),c=t.get("oriName"),o=t.get("childList").size,s=t.get("cardNumber");return T.a.createElement("div",{className:i==O[a]?"tree-item active":"tree-item",key:i,onClick:function(l){var u=[];o?u=(u=t.get("childList")).unshift(Object(k.fromJS)({uuid:i,name:"\u5168\u90e8",oriName:r,cardNumber:s,childList:[]})):(n(J.z(d,i,r)),e.setState({currentPage:1,showTree:!1}),e.scrollViewHtml.scrollTop=0),0==a&&n(J.m(["views","treeSelect"],h.merge(Object(k.fromJS)({treeTwoList:u,treeThreeList:[],selectUuid:[i,O[1],O[2]]})))),1==a&&n(J.m(["views","treeSelect"],h.merge(Object(k.fromJS)({treeThreeList:u,selectUuid:[O[0],i,O[2]]})))),2==a&&n(J.m(["views","treeSelect"],h.merge(Object(k.fromJS)({selectUuid:[O[0],O[1],i]})))),o||(n(J.m(["views","treeSelect","selectName"],c||r)),n(J.m(["views","treeSelect","selectEndUuid"],i))),l.stopPropagation()}},T.a.createElement("div",{className:"overElli"},r,s?"(".concat(s,")"):null),o?T.a.createElement(U.l,{type:"arrow-right"}):null)})))}))),T.a.createElement("div",{className:"right-content",onScroll:function(t){e.throttleFn(t,l,y)}},f.slice(0,l*this.pageSize).map((function(e,t){return T.a.createElement("div",{key:e.get("uuid"),className:"right-item",onClick:function(){if(s)n(J.f(!e.get("checked"),e.get("uuid")));else{n(J.d(e,(function(){return a.push("/config/inventory/inventoryInsert")})))}}},T.a.createElement("span",{className:"item-checkbox",style:{display:s?"":"none"}},T.a.createElement(U.e,{checked:e.get("checked")})),T.a.createElement("span",{className:"right-item-left text",style:{WebkitBoxOrient:"vertical"}},e.get("code"),"_",e.get("name")),T.a.createElement(U.l,{type:"arrow-right"}))}))))))),T.a.createElement(U.d,{className:"border-top",style:{display:s?"none":"flex"}},T.a.createElement(U.c,{disabled:!g,onClick:function(){n(J.b((function(){a.push("/config/inventory/inventoryInsert")})))}},T.a.createElement(U.l,{type:"add-plus"}),T.a.createElement("span",null,"\u65b0\u589e")),T.a.createElement(U.c,{disabled:!g,onClick:function(){return e.setState({showCheckBox:!0})}},T.a.createElement(U.l,{type:"select"}),T.a.createElement("span",null,"\u9009\u62e9")),T.a.createElement(U.c,{onClick:function(){a.push("/config/inventory/inventoryHighType")}},T.a.createElement(U.l,{type:"home"}),T.a.createElement("span",null,"\u7c7b\u522b\u7ba1\u7406"))),T.a.createElement(U.d,{className:"border-top",style:{display:s?"flex":"none"}},T.a.createElement(U.c,{onClick:function(){n(J.r("cardList")),e.setState({showCheckBox:!1})}},T.a.createElement(U.l,{type:"cancel"}),T.a.createElement("span",null,"\u53d6\u6d88")),T.a.createElement(U.c,{onClick:function(){n(J.v((function(){return e.setState({showCheckBox:!1})})))}},T.a.createElement(U.l,{type:"delete"}),T.a.createElement("span",null,"\u5220\u9664"))))}}]),n}(T.a.Component),i.displayName="InventoryConf",a=r))||a,R=(n(62),n(33),n(83),n(1066),n(1124)),Q=(n(34),n(116),U.k.Item),F=(U.k.Label,function(e){Object(I.a)(n,e);var t=Object(N.a)(n);function n(){var e;Object(L.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={visible:!1,categoryValue:"UNIFORM"},e}return Object(C.a)(n,[{key:"componentDidMount",value:function(){this.props.assistClassificationList.some((function(e){return!e.get("isUniform")}))&&this.setState({categoryValue:"UN-UNIFORM"})}},{key:"render",value:function(){var e=this,t=this.props,n=t.history,a=t.dispatch,i=t.openAssist,r=t.assistClassificationList,c=this.state,o=c.visible,s=c.categoryValue,l="UNIFORM"==s,u=[{uuid:"UNIFORM",name:"\u5168\u90e8\u5c5e\u6027\u7edf\u4e00\u5355\u4ef7"}],d=["UNIFORM"],m=["\u5168\u90e8\u5c5e\u6027\u7edf\u4e00\u5355\u4ef7"];return"UN-UNIFORM"==s&&(u=[],d=[],m=[]),T.a.createElement("div",{className:"form-item-wrap"},T.a.createElement(Q,{label:"\u8f85\u52a9\u5c5e\u6027",className:"margin-top"},T.a.createElement("div",{onClick:function(){return n.push("/config/inventory/assist")}},T.a.createElement("span",{className:"gray"},i?"\u5df2\u5f00\u542f":"\u672a\u5f00\u542f")),"\xa0",T.a.createElement(U.l,{type:"arrow-right",className:"ac-option-icon",size:"14"})),T.a.createElement("div",{className:"gray assist-item",style:{display:i?"":"none"}},r.map((function(e){var t=e.get("propertyList").map((function(e){return e.get("name")}));return"UN-UNIFORM"==s&&(u.push({uuid:e.get("uuid"),name:"\u4e0d\u540c".concat(e.get("name"),"\u4e0d\u540c\u5355\u4ef7")}),e.get("isUniform")||(d.push(e.get("uuid")),m.push("\u4e0d\u540c".concat(e.get("name"))))),T.a.createElement("div",{key:e.get("uuid")},e.get("name"),": ",t.join("\uff1b"))}))),T.a.createElement(Q,{label:"\u5355\u4ef7\u6a21\u5f0f",style:{display:i?"":"none"}},T.a.createElement("div",{className:"config-form-item-auto-height-row-item overElli",onClick:function(){return e.setState({visible:!0})}},T.a.createElement("span",{className:"config-form-item-type-choose-lable",style:{paddingLeft:"8px"}},l?"\u5168\u90e8\u5c5e\u6027\u7edf\u4e00\u5355\u4ef7":"".concat(m.length?"\u6309".concat(m.join("\u3001"),"\u4e0d\u540c\u5355\u4ef7"):""))),"\xa0",T.a.createElement(U.l,{type:"arrow-right",className:"ac-option-icon",size:"14"})),T.a.createElement(U.f,{visible:o,type:"card",multiSelect:"UN-UNIFORM"==s,title:"\u8bf7\u9009\u62e9\u5355\u4ef7\u6a21\u5f0f",district:[{key:"UNIFORM",label:"\u5168\u90e8\u5c5e\u6027\u7edf\u4e00\u5355\u4ef7",disabled:"",childList:[]},{key:"UN-UNIFORM",label:"\u4e0d\u540c\u5c5e\u6027\u4e0d\u540c\u5355\u4ef7",disabled:"",childList:[]}],cardList:u,value:s,cardValue:d,onChange:function(t){if(e.setState({categoryValue:t.key}),"UNIFORM"==t.key){var n=r.map((function(e){return e.set("isUniform",!0)}));a(J.m(["inventoryCardTemp","financialInfo","assistClassificationList"],Object(k.fromJS)(n)))}},onOk:function(t){var n=[];if(0==t.length||"UNIFORM"==t[0].uuid)n=r.map((function(e){return e.set("isUniform",!0)})),e.setState({categoryValue:"UNIFORM"});else{var i=t.map((function(e){return e.uuid}));n=r.map((function(e){return e=e.set("isUniform",!0),i.includes(e.get("uuid"))&&(e=e.set("isUniform",!1)),e}))}a(J.m(["inventoryCardTemp","financialInfo","assistClassificationList"],Object(k.fromJS)(n)))},onCancel:function(){e.setState({visible:!1})}},T.a.createElement("span",null)))}}]),n}(T.a.Component)),_=U.k.Item,z=(U.k.Label,function(e){Object(I.a)(n,e);var t=Object(N.a)(n);function n(){return Object(L.a)(this,n),t.apply(this,arguments)}return Object(C.a)(n,[{key:"render",value:function(){var e=this.props,t=e.history,n=e.dispatch,a=e.financialInfo,i=(e.isModify,a.get("openBatch")),r=a.get("isBatchUniform"),c=a.get("openShelfLife"),o=a.get("shelfLife");return T.a.createElement("div",{className:"form-item-wrap"},T.a.createElement(_,{label:"\u542f\u7528\u6279\u6b21",className:"margin-top"},T.a.createElement("div",{onClick:function(){return t.push("/config/inventory/batch")}},T.a.createElement("span",{className:"gray"},i?"\u5df2\u5f00\u542f":"\u672a\u5f00\u542f")),"\xa0",T.a.createElement(U.l,{type:"arrow-right",className:"ac-option-icon",size:"14"})),T.a.createElement("div",{className:"gray assist-item",style:{display:i&&c?"":"none"}},"\u5df2\u5f00\u542f\u4fdd\u8d28\u671f\u7ba1\u7406\uff1a\u4fdd\u8d28\u671f(",o,"\u5929)"),T.a.createElement(_,{label:"\u6279\u6b21\u7ba1\u7406",style:{display:i?"":"none"},onClick:function(){return t.push("/config/inventory/batchList")}},T.a.createElement(U.r,{className:"config-form-item-select-item gray"},"\u70b9\u51fb\u7ba1\u7406\u6279\u6b21\u53f7"),"\xa0",T.a.createElement(U.l,{type:"arrow-right",size:"14"})),T.a.createElement(_,{label:"\u5355\u4ef7\u6a21\u5f0f",style:{display:i?"":"none"}},T.a.createElement(U.u,{district:[{key:"\u5168\u90e8\u6279\u6b21\u7edf\u4e00\u5355\u4ef7",value:!0},{key:"\u4e0d\u540c\u6279\u6b21\u4e0d\u540c\u5355\u4ef7",value:!1}],value:r,onOk:function(e){n(J.m(["inventoryCardTemp","financialInfo","isBatchUniform"],e.value))}},T.a.createElement(U.r,{className:"config-form-item-select-item"},r?"\u4e0d\u540c\u6279\u6b21\u7edf\u4e00\u5355\u4ef7":"\u4e0d\u540c\u6279\u6b21\u4e0d\u540c\u5355\u4ef7")),"\xa0",T.a.createElement(U.l,{type:"arrow-right",size:"14"})))}}]),n}(T.a.Component)),H=(n(219),U.k.Item),G=(U.k.Label,function(e){Object(I.a)(n,e);var t=Object(N.a)(n);function n(){return Object(L.a)(this,n),t.apply(this,arguments)}return Object(C.a)(n,[{key:"render",value:function(){var e=this.props,t=e.history,n=(e.dispatch,e.inventoryCardTemp),a=e.purchasePriceList,i=e.salePriceList,r=n.get("isOpenedQuantity"),c=n.get("unit"),o=(c.get("isStandard"),c.get("fullName")),s=n.getIn(["financialInfo","openSerial"]);return T.a.createElement("div",{className:"form-item-wrap"},T.a.createElement(H,{label:"\u542f\u7528\u6570\u91cf\u6838\u7b97"},T.a.createElement("div",{onClick:function(){return t.push("/config/inventory/quantity")}},T.a.createElement("span",{className:"gray"},r?"\u5df2\u5f00\u542f":"\u672a\u5f00\u542f")),"\xa0",T.a.createElement(U.l,{type:"arrow-right",className:"ac-option-icon",size:"14"})),T.a.createElement("div",{className:"gray assist-item",style:{display:r?"":"none"}},T.a.createElement("div",null,"\u8ba1\u91cf\u5355\u4f4d\uff1a",o),T.a.createElement("div",null,s?"\u542f\u7528\u5e8f\u5217\u53f7":null),T.a.createElement("div",null,T.a.createElement("span",null,"\u9ed8\u8ba4\u91c7\u8d2d\u4ef7\uff1a"),T.a.createElement("span",null,a.reduce((function(e,t){return"".concat(e||"").concat(e?";":"").concat(Object(D.n)(t.get("defaultPrice"),2,""),"\u5143/").concat(t.get("name"))}),""))),T.a.createElement("div",null,T.a.createElement("span",null,"\u9ed8\u8ba4\u9500\u552e\u4ef7\uff1a"),T.a.createElement("span",null,i.reduce((function(e,t){return"".concat(e||"").concat(e?";":"").concat(Object(D.n)(t.get("defaultPrice"),2,""),"\u5143/").concat(t.get("name"))}),"")))))}}]),n}(T.a.Component)),V=U.k.Label,Y=U.k.Item,q=Object(P.c)((function(e){return e}))((s=o=function(e){Object(I.a)(n,e);var t=Object(N.a)(n);function n(e){var a;return Object(L.a)(this,n),(a=t.call(this,e)).state={showTypeModal:!1},a}return Object(C.a)(n,[{key:"componentDidMount",value:function(){A.a.setTitle({title:"\u5b58\u8d27\u5361\u7247"}),A.a.setRight({show:!1}),A.a.setIcon({showIcon:!1})}},{key:"render",value:function(){var e=this,t=this.props,n=t.dispatch,a=t.history,i=t.homeState,r=t.inventoryConfState,c=this.state.showTypeModal,o=r.get("highTypeList"),s=r.getIn(["views","insertOrModify"]),l=r.getIn(["views","fromPage"]),u="inventory"!==l,d={display:u?"none":""},m=r.get("inventoryCardTemp"),f=m.get("code"),p=m.get("name"),g=m.get("inventoryNature"),y=m.get("inventoryNatureName"),h=m.get("opened"),v=m.get("remark"),b=m.get("isAppliedSale"),E=m.get("isAppliedPurchase"),S=m.get("categoryTypeList"),O=m.get("isCheckOut"),L=m.get("used"),C=m.get("uuid"),N=r.get("typeList"),I=i.getIn(["data","userInfo","sobInfo","moduleInfo"]).includes("QUANTITY"),j=i.getIn(["data","userInfo","moduleInfo","PSI"]),w=m.get("isOpenedQuantity"),P=i.getIn(["data","userInfo","sobInfo","moduleInfo"]).includes("WAREHOUSE"),x=m.get("openedQuantity"),M=m.get("unit").get("fullName"),B=r.get("purchasePriceList"),Q=r.get("salePriceList"),_=m.get("warehousePriceMode"),H=m.get("assemblyState"),q=m.get("assemblySheet"),K=i.getIn(["data","userInfo","sobInfo","moduleInfo"]),W=(!!K&&K.indexOf("GL"),i.getIn(["data","userInfo","sobInfo","newJr"])),X=K.includes("ASSIST"),Z=K.includes("BATCH"),$=(K.includes("SHELF_LIFE"),K.includes("SERIAL")),ee=m.getIn(["financialInfo","openAssist"]),te=m.getIn(["financialInfo","assistClassificationList"]),ne=m.getIn(["financialInfo","openBatch"]),ae=m.getIn(["financialInfo","openSerial"]),ie=!P&&!(ee||ne),re=!P&&!(ee||ne||ae),ce=i.getIn(["permissionInfo","Config"]).getIn(["edit","permission"]);u&&(ce=i.getIn(["permissionInfo","LrAccount"]).getIn(["edit","permission"]));console.log(m.toJS());var oe=function(e,t){var a=[{type:"code",value:f},{type:"name",value:p},{type:"remark",value:v},{type:"opened",value:h}];D.g.beforeSaveCheck(a,(function(){return function(e,t){if(""!==g){var a=!0;if(o.map((function(e,t){e.get("checked")&&(a=!1)})),a)A.a.Alert("\u6240\u5c5e\u5206\u7c7b\u5fc5\u9009\u4e00\u9879");else{var i=!1;S.map((function(e,t){""!==e.get("ctgyUuid")&&""!==e.get("subordinateUuid")||(i=!0)})),i?A.a.Alert("\u7c7b\u522b\u9700\u8981\u586b\u5199\u5b8c\u6574"):n(J.M(l,e,t))}}else A.a.Alert("\u5b58\u8d27\u6027\u8d28\u5fc5\u9009")}(e,t)}))},se=[],le=[];return o.map((function(e){(E&&e.get("isAppliedPurchase")||b&&e.get("isAppliedSale"))&&se.push({key:e.get("name"),value:e.get("uuid")}),e.get("checked")&&le.push(e.toJS())})),T.a.createElement(U.h,{className:"inventory-config"},T.a.createElement(U.s,{flex:"1",className:"border-top"},T.a.createElement(U.k,null,T.a.createElement(Y,{label:"\u7f16\u7801",showAsterisk:!0,className:"config-form-item-input-style"},T.a.createElement(U.E,{placeholder:"\u652f\u6301\u6570\u5b57\u5927\u5c0f\u5199\u548c\u82f1\u6587",value:f,onChange:function(e){return D.g.inputCheck("code",e,(function(){n(J.i("code",e))}))}}),"\xa0",T.a.createElement(U.l,{type:"arrow-right",className:"ac-option-icon",size:"14"})),T.a.createElement(Y,{label:"\u540d\u79f0",showAsterisk:!0,className:"config-form-item-input-style"},T.a.createElement(U.E,{placeholder:"\u6700\u957f32\u4e2a\u4e2d\u6587\u5b57\u7b26\u621664\u4e2a\u82f1\u6587\u5b57\u7b26",value:p,onChange:function(e){return n(J.i("name",e))}}),"\xa0",T.a.createElement(U.l,{type:"arrow-right",className:"ac-option-icon",size:"14"})),T.a.createElement(Y,{label:"\u5b58\u8d27\u6027\u8d28",showAsterisk:!0},T.a.createElement(U.u,{district:[{key:"\u5e93\u5b58\u5546\u54c1",value:5},{key:"\u539f\u6750\u6599",value:6}],value:g,onOk:function(e){n(J.j("inventoryNature",e))}},T.a.createElement(U.r,{className:y?"config-form-item-select-item":"config-form-item-select-item config-form-item-select-item-holder"},y||"\u8bf7\u9009\u62e9")),"\xa0",T.a.createElement(U.l,{type:"arrow-right",size:"14"})),T.a.createElement(U.n,{district:se,value:le.map((function(e){return e.uuid})),title:"\u6240\u5c5e\u5206\u7c7b",className:"config-form-item-auto-heigth-row",onOk:function(e){var t=e.map((function(e){return e.value}));o.map((function(e){t.includes(e.get("uuid"))?n(J.g(e,!0)):n(J.g(e,!1))}))}},T.a.createElement(V,{showAsterisk:!0},"\u6240\u5c5e\u5206\u7c7b"),T.a.createElement("div",{className:"config-form-item-auto-height-row-item"},le.map((function(e,t){return T.a.createElement("span",{key:t,className:"config-form-item-type-choose-lable",style:{paddingLeft:"8px"}},e.name)}))),"\xa0",T.a.createElement(U.l,{type:"arrow-right",className:"ac-option-icon",size:"14"})),o.map((function(t,a){if(t.get("checked"))return T.a.createElement(Y,{label:"".concat(t.get("name"),"\u7c7b\u522b"),showAsterisk:!0,key:a,onClick:function(){n(J.a(t)),e.setState({showTypeModal:!0})}},T.a.createElement(U.r,{className:"config-form-item-select-item"},T.a.createElement("span",{className:"text-flow"},t.get("selectName"))),"\xa0",T.a.createElement(U.l,{type:"arrow-right",className:"ac-option-icon",size:"14"}))})),T.a.createElement(R.a,{visible:c,dispatch:n,typeList:N,isSelectEnd:!0,onCancel:function(){return e.setState({showTypeModal:!1})},onChange:function(t){var a=t.key,i=t.label;n(J.h(a,i)),e.setState({showTypeModal:!1})}},T.a.createElement("span",null)),T.a.createElement(Y,{label:"\u5907\u6ce8",className:"config-form-item-input-style"},T.a.createElement(U.E,{placeholder:"\u8bf7\u8f93\u5165\u5907\u6ce8",value:v,onChange:function(e){return n(J.i("remark",e))}}),"\xa0",T.a.createElement(U.l,{type:"arrow-right",className:"ac-option-icon",size:"14"})),T.a.createElement("div",{className:"config-form-sub-title",style:d},"\u8d22\u52a1\u4fe1\u606f"),W&&I?T.a.createElement(G,{history:a,dispatch:n,inventoryCardTemp:m,purchasePriceList:B,salePriceList:Q,moduleSerial:$}):null,T.a.createElement(Y,{label:"\u4ed3\u5e93\u6838\u7b97",className:"margin-top",style:{display:P?"":"none"}},T.a.createElement("div",{onClick:function(){return A.a.toast.info("\u8d26\u5957\u5df2\u542f\u7528\u4ed3\u5e93\u6838\u7b97")}},T.a.createElement("span",{className:"gray"},"\u5df2\u5f00\u542f")),"\xa0",T.a.createElement(U.l,{type:"arrow-right",className:"ac-option-icon",size:"14"})),T.a.createElement(Y,{label:"\u5355\u4ef7\u6a21\u5f0f",showAsterisk:!0,style:{display:w&&P?"":"none"}},T.a.createElement(U.u,{district:[{key:"\u5168\u90e8\u4ed3\u5e93\u540c\u4e00\u5355\u4ef7",value:"U"},{key:"\u4e00\u7ea7\u4ed3\u5e93\u4e0d\u540c\u5355\u4ef7",value:"T"},{key:"\u4e0d\u540c\u4ed3\u5e93\u4e0d\u540c\u5355\u4ef7",value:"E"}],value:_,onOk:function(e){n(J.i("warehousePriceMode",e.value))}},T.a.createElement(U.r,{className:"config-form-item-select-item"},_?{U:"\u5168\u90e8\u4ed3\u5e93\u540c\u4e00\u5355\u4ef7",T:"\u4e00\u7ea7\u4ed3\u5e93\u4e0d\u540c\u5355\u4ef7",E:"\u4e0d\u540c\u4ed3\u5e93\u4e0d\u540c\u5355\u4ef7"}[_]:"\u8bf7\u9009\u62e9\u5355\u4ef7\u6a21\u5f0f")),"\xa0",T.a.createElement(U.l,{type:"arrow-right",size:"14"})),X&&w?T.a.createElement(F,{history:a,dispatch:n,openAssist:ee,assistClassificationList:te}):null,Z&&w?T.a.createElement(z,{history:a,dispatch:n,financialInfo:m.get("financialInfo"),isModify:"modify"==s}):null,T.a.createElement(Y,{label:P||w?"\u671f\u521d\u4f59\u989d":"\u671f\u521d\u503c",className:"config-form-item-input-style margin-top",style:d},T.a.createElement("div",{className:"inventory-opened",style:{display:ie?"none":""},onClick:function(){!w||P?a.push("/config/inventory/inventoryOpened"):a.push("/config/inventory/quantityOnly")}},T.a.createElement(U.a,{decimalPlaces:2},h)),ie?T.a.createElement(U.E,{mode:"amount",negativeAllowed:!0,placeholder:O?"\u5df2\u7ed3\u8d26\uff0c\u4e0d\u53ef\u66f4\u6539":"\u9009\u586b",value:h,disabled:O,onChange:function(e){ae&&n(J.m(["inventoryCardTemp","openList",0,"openedAmount"],e)),n(J.i("opened",e))}}):null,"\xa0",T.a.createElement(U.l,{type:"arrow-right",className:"ac-option-icon",size:"14"})),T.a.createElement(Y,{label:"\u671f\u521d\u6570\u91cf",style:{display:!u&&w?"":"none"},className:"config-form-item-input-style"},T.a.createElement("div",{className:"inventory-opened",style:{display:re?"none":""},onClick:function(){if(P)a.push("/config/inventory/inventoryOpened");else if(ee||ne)a.push("/config/inventory/quantityOnly");else{var e=r.getIn(["views","usedOpenSerial"]),t=m.getIn(["openList",0,"serialList"]);t=t||Object(k.fromJS)([]);var i=m.getIn(["openList",0,"openedQuantity"]);if((i=i||"")&&0==t.size&&e){n(J.m("serial",Object(k.fromJS)({serialList:t,type:"OPENLIST_SERIAL",idx:0}),!0));var c=r.getIn(["inventoryCardTemp","uuid"]),o=m.getIn(["openList",0,"openUuid"]);o=o||"",n(J.D(c,o))}else n(J.m("serial",Object(k.fromJS)({serialList:t,type:"OPENLIST_SERIAL",idx:0}),!0));a.push("/config/inventory/serial")}}},T.a.createElement(U.a,{decimalPlaces:4,decimalZero:!1},x)),re?T.a.createElement(U.E,{mode:"number",negativeAllowed:!0,placeholder:O?"\u5df2\u7ed3\u8d26\uff0c\u4e0d\u53ef\u66f4\u6539":"\u9009\u586b",value:x,disabled:O,onChange:function(e){return n(J.i("openedQuantity",e))}}):null,"\xa0",T.a.createElement(U.l,{type:"arrow-right",className:"ac-option-icon",size:"14"})),T.a.createElement(Y,{label:"\u542f\u7528\u7ec4\u88c5",style:{display:W&&I&&j&&w?"":"none",marginTop:".1rem"}},T.a.createElement("span",{className:"noTextSwitch",style:{opacity:["INVALID","INVALID_DELETE"].includes(H)?".4":""}},["INVALID","INVALID_DELETE"].includes(H)?T.a.createElement(U.x,{checked:!0,checkedChildren:"\u5931\u6548",unCheckedChildren:"",onChange:function(){}}):T.a.createElement(U.w,{checked:"OPEN"==H,onClick:function(){if("OPEN"==H&&(q.get("materialList").size?A.a.Confirm({message:"\u5173\u95ed\u7ec4\u88c5\u540e\uff0c\u7ec4\u88c5\u5355\u8bbe\u7f6e\u5185\u5bb9\u5c06\u88ab\u6e05\u7a7a",title:"\u63d0\u793a",buttonLabels:["\u53d6\u6d88","\u786e\u5b9a"],onSuccess:function(e){1==e.buttonIndex&&(n(J.i("assemblyState","CLOSE")),n(J.i("assemblySheet",Object(k.fromJS)({unitUuid:"",unitName:"",quantity:"",materialList:[]}))))},onFail:function(e){}}):n(J.i("assemblyState","CLOSE"))),["CLOSE","DISABLE"].includes(H)){if(!w)return A.a.toast.info("\u672a\u5f00\u542f\u6570\u91cf\u6838\u7b97,\u65e0\u6cd5\u542f\u7528\u7ec4\u88c5");if(!M)return A.a.toast.info("\u8bf7\u5148\u9009\u62e9\u8ba1\u91cf\u5355\u4f4d");n(J.i("assemblyState","OPEN"))}}}))),T.a.createElement(Y,{label:"\u7ec4\u88c5\u5355\u8bbe\u7f6e",style:{display:["OPEN","INVALID_DELETE","INVALID"].includes(H)&&j?"":"none"}},T.a.createElement("span",{className:"gray",onClick:function(){a.push("/config/inventory/assembly")}},"insert"===s?"\u70b9\u51fb\u8bbe\u7f6e\u7ec4\u88c5\u5355":"\u70b9\u51fb\u4fee\u6539\u7ec4\u88c5\u5355"),T.a.createElement(U.l,{type:"arrow-right",className:"ac-option-icon",size:"14"})),T.a.createElement(Y,{label:"\u542f\u7528/\u505c\u7528",style:{display:"insert"===s?"none":"",marginTop:".1rem"}},T.a.createElement("span",{className:"noTextSwitch"},T.a.createElement(U.w,{checked:L,onClick:function(){n(J.L(C,!L))}}))))),T.a.createElement(U.d,null,T.a.createElement(U.c,{onClick:function(){return a.goBack()}},T.a.createElement(U.l,{type:"cancel"}),T.a.createElement("span",null,"\u53d6\u6d88")),T.a.createElement(U.c,{disabled:!ce,onClick:function(){oe("insert",(function(){return a.goBack()}))}},T.a.createElement(U.l,{type:"save"}),T.a.createElement("span",null,"\u4fdd\u5b58")),T.a.createElement(U.c,{disabled:!ce,onClick:function(){return oe("insertAndNew")},style:u?{display:"none"}:{display:"insert"===s?"":"none"}},T.a.createElement(U.l,{type:"new"}),"\u4fdd\u5b58\u5e76\u65b0\u589e")))}}]),n}(T.a.Component),o.displayName="InventoryInsert",c=s))||c,K=Object(P.c)((function(e){return e}))((d=u=function(e){Object(I.a)(n,e);var t=Object(N.a)(n);function n(e){var a;return Object(L.a)(this,n),(a=t.call(this,e)).state={showCheckBox:!1},a}return Object(C.a)(n,[{key:"componentDidMount",value:function(){A.a.setTitle({title:"\u7c7b\u522b\u7ba1\u7406"}),A.a.setRight({show:!1}),A.a.setIcon({showIcon:!1})}},{key:"render",value:function(){var e=this,t=this.props,n=t.dispatch,a=t.history,i=t.inventoryConfState,r=t.homeState,c=this.state.showCheckBox,o=i.get("highTypeList").delete(0),s=r.getIn(["permissionInfo","Config"]).getIn(["edit","permission"]);return console.log(o.toJS()),T.a.createElement(U.h,{className:"inventory-config"},T.a.createElement(U.s,{flex:"1",className:"border-top"},o.map((function(e,t){return T.a.createElement("div",{className:"config-list-item-wrap-style",key:e.get("uuid"),onClick:function(){c?n(J.n(!e.get("checked"),e.get("uuid"))):(n(J.A(e)),a.push("/config/inventory/inventoryType"))}},T.a.createElement("div",{className:"config-list-item-style"},T.a.createElement("span",{className:"config-list-item-checkbox-style",style:{display:c?"":"none"}},T.a.createElement(U.e,{checked:e.get("checked")})),T.a.createElement("span",{className:"config-list-item-info-style"},e.get("name")),T.a.createElement("span",{className:"config-list-item-arrow-style"},T.a.createElement(U.l,{type:"arrow-right"}))))}))),T.a.createElement(U.d,{style:{display:c?"none":"flex"}},T.a.createElement(U.c,{disabled:!s,onClick:function(){n(J.c()),A.a.Prompt({title:"\u65b0\u589e\u4e3b\u7c7b\u522b",message:"\u8bf7\u8f93\u5165\u7c7b\u522b\u540d\u79f0:",buttonLabels:["\u53d6\u6d88","\u786e\u8ba4"],onSuccess:function(e){if(1===e.buttonIndex){var t=[{type:"topestName",value:e.value}];D.g.beforeSaveCheck(t,(function(){n(J.o("name",e.value)),n(J.Q(e.value))}))}}})}},T.a.createElement(U.l,{type:"add-plus"}),T.a.createElement("span",null,"\u65b0\u589e")),T.a.createElement(U.c,{disabled:!s,onClick:function(){return e.setState({showCheckBox:!0})}},T.a.createElement(U.l,{type:"select"}),T.a.createElement("span",null,"\u9009\u62e9"))),T.a.createElement(U.d,{style:{display:c?"flex":"none"}},T.a.createElement(U.c,{onClick:function(){n(J.r("highTypeList")),e.setState({showCheckBox:!1})}},T.a.createElement(U.l,{type:"cancel"}),T.a.createElement("span",null,"\u53d6\u6d88")),T.a.createElement(U.c,{disabled:!s,onClick:function(){n(J.w((function(){return e.setState({showCheckBox:!1})})))}},T.a.createElement(U.l,{type:"select"}),T.a.createElement("span",null,"\u5220\u9664"))))}}]),n}(T.a.Component),u.displayName="InventoryHighType",l=d))||l,W=n(1209),X=U.k.Item,Z=Object(P.c)((function(e){return e}))((p=f=function(e){Object(I.a)(n,e);var t=Object(N.a)(n);function n(e){var a;return Object(L.a)(this,n),(a=t.call(this,e)).state={showCheckBox:!1,swapPosition:!1,addType:!1},a}return Object(C.a)(n,[{key:"componentDidMount",value:function(){A.a.setTitle({title:"\u7c7b\u522b\u7ba1\u7406"}),A.a.setRight({show:!1}),A.a.setIcon({showIcon:!1})}},{key:"componentWillUnmount",value:function(){var e=this.props.inventoryConfState,t=e.getIn(["views","activeTabKeyUuid"]),n=e.getIn(["inventoryHighTypeTemp","uuid"]),a=e.getIn(["inventoryHighTypeTemp","name"]);t==n&&this.props.dispatch(J.e(Object(k.fromJS)({uuid:n,name:a})))}},{key:"render",value:function(){var e=this,t=this.props,n=t.dispatch,a=t.history,i=t.inventoryConfState,r=this.state,c=r.showCheckBox,o=r.swapPosition,s=r.addType,l=i.get("inventoryHighTypeTemp"),u=l.get("treeList"),d=l.get("name");return T.a.createElement(U.h,{className:"inventory-config"},T.a.createElement(U.s,{flex:"1",className:"border-top"},T.a.createElement(U.k,{style:{marginBottom:".1rem"}},T.a.createElement(X,{label:"\u4e3b\u7c7b\u522b\u540d\u79f0",showAsterisk:!0,className:"config-form-item-input-style"},T.a.createElement("div",{onClick:function(){A.a.Prompt({title:"\u4fee\u6539\u4e3b\u7c7b\u522b\u540d\u79f0",message:"\u8bf7\u8f93\u5165\u7c7b\u522b\u540d\u79f0:",buttonLabels:["\u53d6\u6d88","\u786e\u8ba4"],onSuccess:function(e){if(1===e.buttonIndex){var t=[{type:"topestName",value:e.value}];D.g.beforeSaveCheck(t,(function(){n(J.o("name",e.value)),n(J.Q(e.value))}))}}})}},d,"\xa0",T.a.createElement(U.l,{type:"arrow-right",size:"14"})))),T.a.createElement(W.a,{dispatch:n,treeList:u,itemClick:function(e,t){"\u5168\u90e8"!=t&&(n(J.B(e)),a.push("/config/inventory/inventoryTypeInsert"))},isSort:o,sortClick:function(e,t){n(J.S(e,t))},isAdd:s,addClick:function(e,t){n(J.H(e,t)),a.push("/config/inventory/inventoryTypeInsert")},isDelete:c,deleteClick:function(e,t,a){"\u5168\u90e8"!=t&&n(J.q(e,a))}})),T.a.createElement(U.d,{style:{display:c||o||s?"none":"flex"}},T.a.createElement(U.c,{onClick:function(){e.setState({addType:!0})}},T.a.createElement(U.l,{type:"add-plus"}),T.a.createElement("span",null,"\u65b0\u589e")),T.a.createElement(U.c,{onClick:function(){return e.setState({showCheckBox:!0})}},T.a.createElement(U.l,{type:"select"}),T.a.createElement("span",null,"\u9009\u62e9")),T.a.createElement(U.c,{onClick:function(){return e.setState({swapPosition:!0})}},T.a.createElement(U.l,{type:"swap-position-small"}),T.a.createElement("span",null,"\u8c03\u6574\u987a\u5e8f"))),T.a.createElement(U.d,{style:{display:c?"flex":"none"}},T.a.createElement(U.c,{onClick:function(){n(J.r("treeList")),e.setState({showCheckBox:!1})}},T.a.createElement(U.l,{type:"cancel"}),T.a.createElement("span",null,"\u53d6\u6d88")),T.a.createElement(U.c,{onClick:function(){n(J.t(u,(function(){return e.setState({showCheckBox:!1})})))}},T.a.createElement(U.l,{type:"select"}),T.a.createElement("span",null,"\u5220\u9664"))),T.a.createElement(U.d,{style:{display:o?"flex":"none"}},T.a.createElement(U.c,{onClick:function(){return e.setState({swapPosition:!1})}},T.a.createElement(U.l,{type:"cancel"}),T.a.createElement("span",null,"\u53d6\u6d88"))),T.a.createElement(U.d,{style:{display:s?"flex":"none"}},T.a.createElement(U.c,{onClick:function(){e.setState({addType:!1})}},T.a.createElement(U.l,{type:"cancel"}),T.a.createElement("span",null,"\u53d6\u6d88"))))}}]),n}(T.a.Component),f.displayName="InventoryType",m=p))||m,$=(U.k.Label,U.k.Control,U.k.Item),ee=Object(P.c)((function(e){return e}))((h=y=function(e){Object(I.a)(n,e);var t=Object(N.a)(n);function n(e){var a;return Object(L.a)(this,n),(a=t.call(this,e)).state={showTypeModal:!1},a}return Object(C.a)(n,[{key:"componentDidMount",value:function(){A.a.setTitle({title:"\u5b50\u7c7b\u522b\u8bbe\u7f6e"}),A.a.setRight({show:!1}),A.a.setIcon({showIcon:!1})}},{key:"render",value:function(){var e=this,t=this.props,n=t.dispatch,a=t.history,i=t.inventoryConfState,r=this.state.showTypeModal,c=i.get("inventoryTypeTemp"),o=c.get("name"),s=(c.get("parentUuid"),c.get("parentName")),l=i.get("typeList");return T.a.createElement(U.h,{className:"inventory-config"},T.a.createElement(U.s,{flex:"1",className:"border-top"},T.a.createElement(U.k,null,T.a.createElement($,{label:"\u7c7b\u522b\u540d\u79f0",showAsterisk:!0,className:"config-form-item-input-style"},T.a.createElement(U.E,{placeholder:"\u6700\u957f30\u4e2a\u5b57\u7b26",value:o,onChange:function(e){return n(J.k("name",e))}}),"\xa0",T.a.createElement(U.l,{type:"arrow-right",className:"ac-option-icon",size:"14"})),T.a.createElement($,{label:"\u4e0a\u7ea7\u7c7b\u522b",showAsterisk:!0},T.a.createElement("div",{onClick:function(){e.setState({showTypeModal:!0})}},T.a.createElement("span",{className:"text-flow"},s)),"\xa0",T.a.createElement(U.l,{type:"arrow-right",className:"ac-option-icon",size:"14"})),T.a.createElement(R.a,{visible:r,dispatch:n,typeList:l,parentDisabled:!1,onCancel:function(){return e.setState({showTypeModal:!1})},onChange:function(t){var a=t.key,i=t.label;n(J.l(a,i)),e.setState({showTypeModal:!1})}},T.a.createElement("span",null)))),T.a.createElement(U.d,null,T.a.createElement(U.c,{onClick:function(){return a.goBack()}},T.a.createElement(U.l,{type:"cancel"}),T.a.createElement("span",null,"\u53d6\u6d88")),T.a.createElement(U.c,{onClick:function(){var e=[{type:"name",value:o,limitLength:30}];if("\u5168\u90e8"==o)return A.a.toast.info("\u7c7b\u522b\u540d\u79f0\u4e0d\u80fd\u4e3a\u5168\u90e8");var t=function(){return a.goBack()};D.g.beforeSaveCheck(e,(function(){return n(J.P(t))}))}},T.a.createElement(U.l,{type:"select"}),T.a.createElement("span",null,"\u4fdd\u5b58"))))}}]),n}(T.a.Component),y.displayName="InventoryTypeInsert",g=h))||g,te=(n(61),n(76),n(220)),ne=n(24),ae=Object(ne.immutableRenderDecorator)(v=function(e){Object(I.a)(n,e);var t=Object(N.a)(n);function n(){return Object(L.a)(this,n),t.apply(this,arguments)}return Object(C.a)(n,[{key:"render",value:function(){var e=this.props,t=e.leve,n=e.idx,a=e.hasSub,i=e.isExpanded,r=e.item,c=e.dispatch,o=e.isOpenedQuantity,s=e.parentUuidList,l=e.openAssist,u=e.openSerial,d=e.openBatch,m=e.openShelfLife,f=e.assistClick,p=e.serialClick,g=r.get("warehouseUuid"),y=r.get("warehouseCode"),h=r.get("warehouseName"),v=r.get("isEnd"),b=r.get("openedQuantity"),E=r.get("openedAmount"),S=!(a||v&&(l||d)),O=!(a||u||v&&(l||d)),L=s.slice(-2),C=L[0]==L[1],N=v&&u&&!(l||d),I={1:function(){return""},2:function(){return T.a.createElement("span",{className:"ac-flag",style:{width:".1rem",backgroundColor:"#D1C0A5"}})},3:function(){return T.a.createElement("span",{className:"ac-flag",style:{width:".2rem",backgroundColor:"#7E6B5A"}})},4:function(){return T.a.createElement("span",{className:"ac-flag",style:{width:".3rem",backgroundColor:"#59493f"}})},5:function(){return""}}[t](),j=null;if(C){var w=r.get("assistList")?r.get("assistList"):Object(k.fromJS)([]),P=r.get("batch")?r.get("batch"):"",A=r.get("expirationDate")?r.get("expirationDate"):"",x="";l&&(x=w.reduce((function(e,t){return"".concat(e).concat(e?";":"").concat(t.get("propertyName"))}),x)),d&&P&&(x="".concat(x).concat(x?";":"").concat(P)),m&&A&&(x="".concat(x,"(").concat(A,")")),j=T.a.createElement("div",{className:"open"},T.a.createElement("div",{className:"left",onClick:function(){c(J.p("openedDelete",s,b,E,n))}},T.a.createElement(U.l,{type:"delete-plus"})),T.a.createElement("div",{className:"right"},T.a.createElement("div",{className:"top underline blue",style:{display:l||d?"":"none"},onClick:function(){return f()}},x||"\u70b9\u51fb\u9009\u62e9"),T.a.createElement("div",{className:"bottom"},T.a.createElement("div",{className:"underline blue",style:{display:u?"":"none"},onClick:function(){return p()}},b?T.a.createElement(U.a,{decimalPlaces:4,decimalZero:!1},b):"\u70b9\u51fb\u8f93\u5165",T.a.createElement(U.l,{type:"edit"})),T.a.createElement("div",{style:{display:u?"none":""}},T.a.createElement(U.E.BorderInputItem,{mode:"number",negativeAllowed:!0,textAlign:"right",value:b,onChange:function(e){var t=Number(e)?Number(e):0,a=Number(b)?Number(b):0;c(J.p("openedQuantity",s,Object(D.l)(t-a,4),e,n))}})),T.a.createElement("div",null,T.a.createElement(U.E.BorderInputItem,{mode:"amount",negativeAllowed:!0,textAlign:"right",value:E,onChange:function(e){var t=Number(e)?Number(e):0,a=Number(E)?Number(E):0;c(J.p("openedAmount",s,Object(D.l)(t-a),e,n))}})))))}return C||(j=T.a.createElement("div",{className:"inventory-opened-item"},T.a.createElement("div",{className:"flex-four overElli"},I,T.a.createElement("div",{className:"inventory-warehouse inventory-warehouse-sub overElli"},T.a.createElement("span",{className:"name overElli"}," ".concat(y," ").concat(h)),T.a.createElement("div",{onClick:function(){c(v?J.p("openedAdd",s):J.R(g))}},T.a.createElement(U.l,{type:v?"add-plus":"arrow-down",style:{display:a||v&&(l||d)?"":"none",transform:i&&!v?"rotate(180deg)":""}})))),o?T.a.createElement("div",{className:"inventory-title-item flex-three"},O?null:N?T.a.createElement("span",{className:"underline blue",onClick:function(){return p()}},b?T.a.createElement(U.a,{decimalPlaces:4,decimalZero:!1},b):"\u70b9\u51fb\u8f93\u5165",T.a.createElement(U.l,{type:"edit"})):T.a.createElement(U.a,{showZero:!0,decimalPlaces:4,decimalZero:!1},Number(b)),O?T.a.createElement(U.E.BorderInputItem,{mode:"number",negativeAllowed:!0,textAlign:"right",value:b,onChange:function(e){var t=Number(e)?Number(e):0,a=Number(b)?Number(b):0;c(J.p("openedQuantity",s,Object(D.l)(t-a,4),e,n))}}):null):null,T.a.createElement("div",{className:"inventory-title-item flex-three"},S?null:T.a.createElement(U.a,{showZero:!0},Number(E)),S?T.a.createElement(U.E.BorderInputItem,{mode:"amount",negativeAllowed:!0,textAlign:"right",value:E,onChange:function(e){var t=Number(e)?Number(e):0,a=Number(E)?Number(E):0;c(J.p("openedAmount",s,Object(D.l)(t-a),e,n))}}):null))),j}}]),n}(T.a.Component))||v,ie=(n(115),n(131),Object(ne.immutableRenderDecorator)(b=function(e){Object(I.a)(n,e);var t=Object(N.a)(n);function n(){var e;Object(L.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={checkedList:[],batchValue:{batchUuid:"",batch:"",productionDate:"",expirationDate:""}},e}return Object(C.a)(n,[{key:"componentWillReceiveProps",value:function(e){e.show&&this.setState({checkedList:e.oriAssistList,batchValue:e.oriBatch})}},{key:"render",value:function(){var e=this,t=this.props,n=t.show,a=t.assistList,i=t.batchList,r=t.openAssist,c=t.openBatch,o=t.onOk,s=t.addClick,l=t.modifyClick,u=(t.oriBatch,t.oriAssistList,this.state),d=u.checkedList,m=u.batchValue,f=[];return T.a.createElement("div",{className:"xfn-multiple ".concat(n?"xfn-multiple-animate":"xfn-multiple-none-animate")},T.a.createElement("div",{className:"xfn-multiple-popup ".concat(n?"xfn-multiple-popup-animate":"xfn-multiple-popup-none-animate"),style:{minHeight:"75%"}},T.a.createElement("div",{className:"xfn-multiple-title"},T.a.createElement("div",null,T.a.createElement("span",null,"\u8bf7\u9009\u62e9\u5c5e\u6027"))),T.a.createElement("ul",{style:{padding:"0 .1rem"}},r&&a.map((function(t,n){var a=t.get("uuid"),i=t.get("name");return f.push(a),T.a.createElement("div",{key:a,className:"margin-top"},T.a.createElement("div",null,t.get("name")),T.a.createElement("div",{className:"padding-top"},t.get("propertyList").map((function(t){var n=t.get("uuid"),r=t.get("name"),c=d.findIndex((function(e){return e.propertyUuid==n})),o="assist-button",s=!1;return c>-1&&(s=!0,o="assist-button assist-select"),T.a.createElement("span",{className:o,key:n,onClick:function(){if(s)d.splice(c,1);else{var t=d.findIndex((function(e){return e.classificationUuid==a}));t>-1&&d.splice(t,1),d.push({propertyUuid:n,propertyName:r,classificationUuid:a,classificationName:i})}e.setState({checkedList:d})}},r)}))))})),T.a.createElement("div",{className:"margin-top",style:{display:c?"":"none"}},T.a.createElement("div",null,"\u6279\u6b21"),T.a.createElement(U.u,{className:"padding-top",district:i,title:"\u8bf7\u9009\u62e9\u6279\u6b21",value:m.batch,maxHeight:"100%",icon:{type:"add-plus",onClick:function(){s()}},iconTwo:{type:"piliangjizhang",onClick:function(){l()}},onOk:function(t){e.setState({batchValue:{batch:t.value,productionDate:t.productionDate,expirationDate:t.expirationDate,batchUuid:t.batchUuid,keyStr:t.key}})}},T.a.createElement("div",{className:"inventory-warehouse-sub"},T.a.createElement("span",{className:m.batch?"":"gray"},m.batch?m.keyStr:"\u8bf7\u9009\u62e9/\u65b0\u589e\u6279\u6b21\u53f7"),"\xa0",T.a.createElement(U.l,{type:"arrow-right",size:"14"}))))),T.a.createElement("div",{className:"xfn-multiple-select"},T.a.createElement("span",null),T.a.createElement("span",{className:"xfn-multiple-button",onClick:function(){if(r){var t=[],n=[];if(d.forEach((function(e,a){f.includes(e.classificationUuid)?t.push(e.classificationUuid):n.push(a)})),n.length&&n.map((function(e){d.splice(e,1)})),f.length!=t.length)return A.a.toast.info("\u8bf7\u9009\u62e9\u5b8c\u6574\u7684\u5c5e\u6027")}if(c&&!m.batch)return A.a.toast.info("\u8bf7\u9009\u62e9\u6279\u6b21");o(d,m),e.setState({checkedList:[],batchValue:{batchUuid:"",batch:"",productionDate:"",expirationDate:""}})}},"\u786e\u5b9a"))))}}]),n}(T.a.Component))||b),re=Object(P.c)((function(e){return e}))(E=function(e){Object(I.a)(n,e);var t=Object(N.a)(n);function n(){var e;Object(L.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).batchList=[],e.state={show:!1,idx:"",openUuidList:[],oriBatch:[],oriAssistList:[]},e}return Object(C.a)(n,[{key:"componentDidMount",value:function(){var e=this;A.a.setTitle({title:"\u671f\u521d\u4f59\u989d"}),A.a.setRight({show:!1}),A.a.setIcon({showIcon:!1}),this.props.inventoryConfState.getIn(["inventoryCardTemp","financialInfo","batchList"]).forEach((function(t){var n=t.get("batch"),a=t.get("productionDate")?t.get("productionDate"):"",i=t.get("expirationDate")?t.get("expirationDate"):"",r=i?"".concat(n,"(").concat(i,")"):n;e.batchList.push({key:r,value:t.get("batch"),batchUuid:t.get("batchUuid")?t.get("batchUuid"):"",productionDate:a,expirationDate:i})}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.dispatch,a=t.history,i=t.inventoryConfState,r=this.state,c=r.show,o=r.idx,s=r.openUuidList,l=r.oriBatch,u=r.oriAssistList,d=i.getIn(["views","insertOrModify"]),m=i.getIn(["views","usedOpenSerial"]),f=i.getIn(["views","usedOpenBatch"]),p=i.get("warehouseTree").toJS(),g=i.get("inventoryCardTemp"),y=g.get("isOpenedQuantity"),h=g.get("openList"),v=(g.get("opened"),g.get("openedQuantity"),g.get("unit")),b=i.getIn(["inventoryCardTemp","uuid"]),E=g.get("financialInfo"),S=E.get("openAssist"),O=E.get("openSerial"),L=E.get("openBatch"),C=E.get("openShelfLife"),N=E.get("assistClassificationList"),I=i.get("showChildList"),j=[];return function e(t){t.forEach((function(t){!t.isEnd&&t.childList.length?e(t.childList):j.push({key:t.warehouseUuid,label:t.warehouseName})}))}(h.toJS()),T.a.createElement(U.h,{className:"inventory-config"},T.a.createElement("div",{className:"inventory-opened-title"},T.a.createElement(U.f,{className:"flex-four",multiSelect:!0,value:j,district:p,onOk:function(e){var t=e.map((function(e){return e.uuid})),a="";"modify"==d&&(a=g.get("uuid")),n(J.C(t,a))}},T.a.createElement(U.r,null,T.a.createElement("span",null,"\u4ed3\u5e93"),T.a.createElement(U.l,{type:"triangle"}))),y?T.a.createElement("div",{className:"inventory-title-item flex-three overElli"},"\u6570\u91cf(",v.get("name"),")"):null,T.a.createElement("div",{className:"inventory-title-item flex-three"},"\u671f\u521d\u4f59\u989d(\u5143)")),T.a.createElement(U.s,{flex:"1",className:"border-top"},function t(i,r,c){var o=[];return i&&i.forEach((function(i,s){var l=I.includes(i.get("warehouseUuid")),u=i.get("childList").size,d=i.get("isEnd"),f=Object(te.a)(c);if(f.push(i.get("warehouseUuid")),u)o.push(T.a.createElement("div",{key:i.get("warehouseUuid")},T.a.createElement(ae,{leve:r,idx:s,hasSub:!0,isExpanded:l,item:i,dispatch:n,isOpenedQuantity:y,parentUuidList:f,openAssist:S,openSerial:O,openBatch:L,openShelfLife:C}),l||d?t(i.get("childList"),r+1,f):""));else{var p=i.get("assistList")?i.get("assistList"):Object(k.fromJS)([]),g=i.get("batch")?i.get("batch"):"",h=i.get("batchUuid")?i.get("batchUuid"):"",v=i.get("productionDate")?i.get("productionDate"):"",E=i.get("expirationDate")?i.get("expirationDate"):"";o.push(T.a.createElement(ae,{leve:r,idx:s,hasSub:!1,key:"".concat(i.get("warehouseUuid"),"_").concat(s),item:i,dispatch:n,isOpenedQuantity:y,parentUuidList:f,openAssist:S,openSerial:O,openBatch:L,openShelfLife:C,assistClick:function(){return e.setState({show:!0,idx:s,openUuidList:f,oriAssistList:p.toJS(),oriBatch:{batch:g,batchUuid:h,productionDate:v,expirationDate:E,keyStr:E?"".concat(g,"(").concat(E,")"):g}})},serialClick:function(){var e=i.get("openedQuantity")?i.get("openedQuantity"):0,t=i.get("serialList")?i.get("serialList"):Object(k.fromJS)([]),r=i.get("openUuid");e&&0==t.size&&m?(n(J.m("serial",Object(k.fromJS)({serialList:[],type:"OPENTREE",idx:s,openUuidList:f,oldValue:e}),!0)),n(J.D(b,r))):n(J.m("serial",Object(k.fromJS)({serialList:t,type:"OPENTREE",idx:s,openUuidList:f,oldValue:e}),!0)),a.push("/config/inventory/serial")}}))}})),o}(h,1,[])),T.a.createElement(ie,{show:c,history:a,insertOrModify:d,inventoryUuid:b,openAssist:S,openBatch:L,assistList:N,batchList:this.batchList,oriBatch:l,oriAssistList:u,onOk:function(t,a){a.assistList=t,n(J.p("openedAssist",s,a,"",o)),e.setState({show:!1})},addClick:function(){var e=E.get("batchList"),t=E.get("shelfLife"),r={batchList:e,openShelfLife:C,shelfLife:t,editPage:"inventory"};"insert"==d?r.batchType="INSERT-INSERT":(r.batchType=f?"MODIFY-INSERT":"INSERT-INSERT",r.inventoryUuid=b),n(J.m("batch",i.get("batch").merge(Object(k.fromJS)(r)),!0)),a.push("/config/inventory/batchSet")},modifyClick:function(){var e=E.get("batchList"),t=E.get("shelfLife"),r={batchList:e,openShelfLife:C,shelfLife:t,editPage:"inventory"};"insert"==d?r.batchType="INSERT-MODIFY":(r.batchType=f?"MODIFY-MODIFY":"INSERT-MODIFY",r.inventoryUuid=b),n(J.m("batch",i.get("batch").merge(Object(k.fromJS)(r)),!0)),a.push("/config/inventory/batchSet")}}),T.a.createElement(U.d,null,T.a.createElement(U.c,{onClick:function(){a.goBack()}},T.a.createElement(U.l,{type:"choose"}),T.a.createElement("span",null,"\u786e\u5b9a"))))}}]),n}(T.a.Component))||E,ce=Object(P.c)((function(e){return e}))(S=function(e){Object(I.a)(n,e);var t=Object(N.a)(n);function n(){var e;Object(L.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).batchList=[],e.state={show:!1,idx:"",oriBatch:[],oriAssistList:[]},e}return Object(C.a)(n,[{key:"componentDidMount",value:function(){var e=this;A.a.setTitle({title:"\u671f\u521d\u4f59\u989d"}),A.a.setRight({show:!1}),A.a.setIcon({showIcon:!1}),this.props.inventoryConfState.getIn(["inventoryCardTemp","financialInfo","batchList"]).forEach((function(t){var n=t.get("batch"),a=t.get("expirationDate")?t.get("expirationDate"):"",i=a?"".concat(n,"(").concat(a,")"):n;e.batchList.push({key:i,value:t.get("batch"),batchUuid:t.get("batchUuid")?t.get("batchUuid"):"",expirationDate:a})}))}},{key:"componentWillUnmount",value:function(){var e=0,t=0;this.props.inventoryConfState.getIn(["inventoryCardTemp","openList"]).forEach((function(n){n.get("openedQuantity")&&n.get("openedQuantity"),n.get("openedAmount")&&n.get("openedAmount");e+=Number(n.get("openedAmount")),t+=Number(n.get("openedQuantity"))})),this.props.dispatch(J.m(["inventoryCardTemp","opened"],Object(D.l)(e,2))),this.props.dispatch(J.m(["inventoryCardTemp","openedQuantity"],Object(D.l)(t,4)))}},{key:"render",value:function(){var e=this,t=this.props,n=t.dispatch,a=t.history,i=t.inventoryConfState,r=this.state,c=r.show,o=r.idx,s=r.oriBatch,l=r.oriAssistList,u=i.getIn(["views","insertOrModify"]),d=i.getIn(["views","usedOpenSerial"]),m=i.getIn(["views","usedOpenBatch"]),f=i.get("inventoryCardTemp"),p=(f.get("isOpenedQuantity"),i.getIn(["inventoryCardTemp","uuid"])),g=(f.get("opened"),f.get("openedQuantity"),f.get("unit")),y=f.get("openList"),h=f.get("financialInfo"),v=h.get("openAssist"),b=h.get("openSerial"),E=h.get("openBatch"),S=h.get("openShelfLife"),O=h.get("shelfLife"),L=h.get("assistClassificationList");return console.log(h.toJS()),T.a.createElement(U.h,{className:"inventory-config"},T.a.createElement("div",{className:"inventory-opened-title"},T.a.createElement(U.r,{onClick:function(){n(J.m(["inventoryCardTemp","openList"],y.push(Object(k.fromJS)({}))))}},T.a.createElement("span",null,"\u671f\u521d\u9009\u9879 "),T.a.createElement(U.l,{type:"add-plus"})),T.a.createElement("div",{className:"inventory-title-item"},"\u6570\u91cf(",g.get("name"),")"),T.a.createElement("div",{className:"open-right"},"\u671f\u521d\u4f59\u989d(\u5143)")),T.a.createElement(U.s,{flex:"1",className:"border-top"},y.map((function(t,i){var r=t.get("openedQuantity")?t.get("openedQuantity"):"",c=t.get("openedAmount")?t.get("openedAmount"):"",o=t.get("assistList")?t.get("assistList"):Object(k.fromJS)([]),s=t.get("batch")?t.get("batch"):"",l=t.get("batchUuid")?t.get("batchUuid"):"",u=t.get("serialList")?t.get("serialList"):Object(k.fromJS)([]),m=t.get("expirationDate")?t.get("expirationDate"):"",f=t.get("openUuid")?t.get("openUuid"):"",g="";return v&&(g=o.reduce((function(e,t){return"".concat(e).concat(e?";":"").concat(t.get("propertyName"))}),g)),E&&s&&(g="".concat(g).concat(g?";":"").concat(s)),S&&m&&(g="".concat(g,"(").concat(m,")")),T.a.createElement("div",{key:i,className:"open"},T.a.createElement("div",{className:"left",onClick:function(){n(J.m(["inventoryCardTemp","openList"],y.delete(i)))}},T.a.createElement(U.l,{type:"delete-plus"})),T.a.createElement("div",{className:"right"},T.a.createElement("div",{className:"top underline blue",style:{display:v||E?"":"none"},onClick:function(){return e.setState({show:!0,idx:i,oriAssistList:o.toJS(),oriBatch:{batch:s,batchUuid:l,expirationDate:m,keyStr:m?"".concat(s,"(").concat(m,")"):s}})}},g||"\u70b9\u51fb\u9009\u62e9"),T.a.createElement("div",{className:"bottom"},T.a.createElement("div",{className:"underline blue",style:{display:b?"":"none"},onClick:function(){r&&0==u.size&&d?(n(J.m("serial",Object(k.fromJS)({serialList:u,type:"OPENLIST",idx:i}),!0)),n(J.D(p,f))):n(J.m("serial",Object(k.fromJS)({serialList:u,type:"OPENLIST",idx:i}),!0)),a.push("/config/inventory/serial")}},r?T.a.createElement(U.a,{decimalPlaces:4,decimalZero:!1},r):"\u70b9\u51fb\u8f93\u5165"),T.a.createElement("div",{style:{display:b?"none":""}},T.a.createElement(U.E.BorderInputItem,{mode:"number",negativeAllowed:!0,textAlign:"right",value:r,onChange:function(e){n(J.m(["inventoryCardTemp","openList",i,"openedQuantity"],e))}})),T.a.createElement("div",null,T.a.createElement(U.E.BorderInputItem,{mode:"amount",negativeAllowed:!0,textAlign:"right",value:c,onChange:function(e){n(J.m(["inventoryCardTemp","openList",i,"openedAmount"],e))}})))))}))),T.a.createElement(ie,{show:c,history:a,insertOrModify:u,inventoryUuid:p,openAssist:v,openBatch:E,assistList:L,batchList:this.batchList,oriBatch:s,oriAssistList:l,onOk:function(t,a){n(J.m(["inventoryCardTemp","openList",o,"assistList"],Object(k.fromJS)(t))),n(J.m(["inventoryCardTemp","openList",o,"batchUuid"],a.batchUuid)),n(J.m(["inventoryCardTemp","openList",o,"batch"],a.batch)),n(J.m(["inventoryCardTemp","openList",o,"expirationDate"],a.expirationDate)),e.setState({show:!1})},addClick:function(){var e={batchList:h.get("batchList"),openShelfLife:S,shelfLife:O,editPage:"inventory"};"insert"==u?e.batchType="INSERT-INSERT":(e.batchType=m?"MODIFY-INSERT":"INSERT-INSERT",e.inventoryUuid=p),n(J.m("batch",i.get("batch").merge(Object(k.fromJS)(e)),!0)),a.push("/config/inventory/batchSet")},modifyClick:function(){var e={batchList:h.get("batchList"),openShelfLife:S,shelfLife:O,editPage:"inventory"};"insert"==u?e.batchType="INSERT-MODIFY":(e.batchType=m?"MODIFY-MODIFY":"INSERT-MODIFY",e.inventoryUuid=p),n(J.m("batch",i.get("batch").merge(Object(k.fromJS)(e)),!0)),a.push("/config/inventory/batchSet")}}),T.a.createElement(U.d,null,T.a.createElement(U.c,{onClick:function(){a.goBack()}},T.a.createElement(U.l,{type:"choose"}),T.a.createElement("span",null,"\u786e\u5b9a"))))}}]),n}(T.a.Component))||S,oe=(n(55),n(118)),se=(n(555),n(14));function le(e){var t=[],n=e.name,a=e.unitList?e.unitList:[],i=e.isStandard;if(""==n&&t.push("\u8bf7\u586b\u5199\u540d\u79f0"),n.length>se.e&&t.push("\u540d\u79f0\u957f\u5ea6\u4e0d\u80fd\u8d85\u8fc7".concat(se.e,"\u4e2a\u5b57\u7b26")),0==e.basicUnitQuantity&&t.push("\u8bf7\u586b\u5199\u586b\u5199\u6570\u91cf\u5173\u7cfb"),e.unitList.length){var r=[],c=[];if(a.forEach((function(e,n){var a=e.name,o=e.basicUnitQuantity;if(""==a&&t.push("\u591a\u5355\u4f4d".concat(n+1,"\u672a\u586b\u5199\u540d\u79f0")),a.length>se.f&&t.push("\u591a\u5355\u4f4d".concat(n+1,"\u540d\u79f0\u957f\u5ea6\u4e0d\u80fd\u8d85\u8fc7").concat(se.f,"\u4e2a\u5b57\u7b26")),o<=1&&t.push("\u591a\u5355\u4f4d".concat(n+1,"\u6570\u91cf\u5173\u7cfb\u5fc5\u987b\u5927\u4e8e1")),!i&&e.isStandard){var s=e.basicUnitUuid;r.includes(s)&&!c.includes(s)&&c.push(s),r.push(e.basicUnitUuid)}})),t.length)return t;c.forEach((function(e,n){var i=[];a.forEach((function(t,n){t.basicUnitUuid==e&&i.push({idx:n+1,oriBasicUnitQuantity:Number(t.oriBasicUnitQuantity),basicUnitQuantity:Number(t.basicUnitQuantity)})})),i.sort((function(e,t){return Number(e.oriBasicUnitQuantity)-Number(t.oriBasicUnitQuantity)}));var r=i[0].oriBasicUnitQuantity,c=i[0].basicUnitQuantity,o=i[0].idx;i.shift(),i.forEach((function(e){var n=Number(e.oriBasicUnitQuantity)/Number(r);Number(e.basicUnitQuantity)!=c*n&&t.push("\u591a\u5355\u4f4d".concat(o,"\u4e0e\u591a\u5355\u4f4d").concat(e.idx,"\u6570\u91cf\u5173\u7cfb\u9519\u8bef"))}))}))}return t}U.k.Label;var ue,de,me,fe,pe,ge,ye,he,ve,be,Ee=U.k.Item,Se=function(e,t,n){var a={basicUnitQuantity:"",basicUnitUuid:""};if(e){var i,r=Object(oe.a)(n);try{for(r.s();!(i=r.n()).done;){var c=i.value;if(c.uuid==t){a=c;break}}}catch(o){r.e(o)}finally{r.f()}}return a},Oe=Object(P.c)((function(e){return e}))(O=function(e){Object(I.a)(n,e);var t=Object(N.a)(n);function n(){var e;Object(L.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={basicUnitQuantity:1,oriBasicUnitQuantity:1,basicUnitUuid:"",isStandard:!0,uuid:"",name:"",unitList:[]},e}return Object(C.a)(n,[{key:"componentDidMount",value:function(){A.a.setTitle({title:"\u8ba1\u91cf\u5355\u4f4d"}),A.a.setRight({show:!1}),A.a.setIcon({showIcon:!1});var e=this.props.inventoryConfState.getIn(["inventoryCardTemp","unit"]),t=this.props.inventoryConfState.get("standardList").toJS(),n=e.get("unitList")?e.get("unitList").toJS():[];n.forEach((function(e){if(e.isStandard){var n=Se(!0,e.uuid,t);e.basicUnitUuid=n.basicUnitUuid,e.oriBasicUnitQuantity=n.basicUnitQuantity}}));var a=1,i="";if(e.get("isStandard")){var r=Se(!0,e.get("uuid"),t);i=r.basicUnitUuid,a=r.basicUnitQuantity}this.setState({isStandard:e.get("isStandard"),uuid:e.get("uuid"),name:e.get("name"),unitList:n,oriBasicUnitQuantity:a,basicUnitUuid:i})}},{key:"render",value:function(){var e=this,t=this.props,n=t.dispatch,a=t.history,i=t.inventoryConfState,r=this.state,c=r.basicUnitQuantity,o=r.oriBasicUnitQuantity,s=r.basicUnitUuid,l=r.uuid,u=r.isStandard,d=r.name,m=r.unitList,f=i.get("unitList"),p=i.get("standardList").toJS(),g=1==m.length,y=f.toJS().filter((function(e){return 0==e.unitList.length}));y.unshift({key:"\u8f93\u5165\u65b0\u5355\u4f4d",value:"INPUT"});var h=[];u&&m.length?(h=p.filter((function(e){if(e.basicUnitUuid==s&&Number(e.basicUnitQuantity)>=Number(o))return e}))).unshift({key:"\u8f93\u5165\u65b0\u5355\u4f4d",value:"INPUT"}):h=y;var v=function(t,n){A.a.Prompt({title:"\u57fa\u672c\u5355\u4f4d",message:"\u8bf7\u8f93\u5165\u5355\u4f4d\u540d\u79f0:",buttonLabels:["\u53d6\u6d88","\u786e\u8ba4"],onSuccess:function(a){if(1===a.buttonIndex){if(""==a.value)return void A.a.toast.info("\u8bf7\u8f93\u5165\u5355\u4f4d\u540d\u79f0");t?(m[n]={name:a.value,basicUnitQuantity:"",basicUnitUuid:"",isStandard:!1,uuid:"",unitList:[]},e.setState({unitList:m})):e.setState({name:a.value,basicUnitQuantity:1,oriBasicUnitQuantity:1,basicUnitUuid:"",isStandard:!1,uuid:"",unitList:[]})}}})};return T.a.createElement(U.h,{className:"inventory-config"},T.a.createElement(U.s,{flex:"1",className:"border-top"},T.a.createElement(U.k,null,T.a.createElement(Ee,{label:"\u57fa\u672c\u5355\u4f4d",showAsterisk:!0},T.a.createElement(U.u,{district:y,value:d,onOk:function(t){if("INPUT"==t.value)v();else{var n=Se(t.isStandard,t.uuid,p);e.setState({basicUnitQuantity:1,oriBasicUnitQuantity:n.basicUnitQuantity,basicUnitUuid:n.basicUnitUuid,isStandard:t.isStandard,uuid:t.uuid,name:t.name,unitList:t.unitList})}}},T.a.createElement(U.r,{className:d?"config-form-item-select-item":"config-form-item-select-item config-form-item-select-item-holder"},d||"\u8bf7\u9009\u62e9")),"\xa0",T.a.createElement(U.l,{type:"arrow-right",size:"14"})),T.a.createElement(Ee,{label:"\u591a\u5355\u4f4d",style:{display:0==m.length?"":"none"}},T.a.createElement("span",{className:"noTextSwitch"},T.a.createElement(U.w,{checked:!1,onClick:function(){m.push({basicUnitQuantity:"",basicUnitUuid:"",isStandard:!0,uuid:"",name:"",unitList:[]}),e.setState({unitList:m})}}))),T.a.createElement("div",{className:"inventory-add-card",style:{display:m.length?"":"none"}},T.a.createElement("div",null,m.map((function(t,n){return T.a.createElement("div",{key:n,style:{paddingBottom:"10px"}},T.a.createElement("div",{className:"title"},T.a.createElement("span",null,"\u591a\u5355\u4f4d(",n+1,")"),T.a.createElement("span",{className:"blue",style:{display:g?"none":""},onClick:function(){m.splice(n,1),e.setState({unitList:m})}},"\u5220\u9664")),T.a.createElement("div",{className:"item"},T.a.createElement(U.u,{className:"item-left",district:h,value:t.uuid,onOk:function(t){if("INPUT"==t.value)v(!0,n);else{var a=Se(t.isStandard,t.uuid,p);m[n]=t,m[n].oriBasicUnitQuantity=a.basicUnitQuantity,m[n].basicUnitQuantity="",u&&(m[n].basicUnitQuantity=a.oriBasicUnitQuantity/o),e.setState({unitList:m})}}},T.a.createElement(U.r,null,t.name?t.name:"\u8bf7\u9009\u62e9/\u8f93\u5165\u5355\u4f4d")),T.a.createElement("div",{className:"item-center"},"= ",d," *"),T.a.createElement("div",{className:"item-right"},T.a.createElement(U.E,{mode:"amount",disabled:!(!s||t.basicUnitUuid!=s),placeholder:"\u8bf7\u8f93\u5165\u6570\u91cf\u5173\u7cfb",value:t.basicUnitQuantity,onChange:function(t){m[n].basicUnitQuantity=t,e.setState({unitList:m})}}))))}))),T.a.createElement("div",{className:"bottom"},T.a.createElement("div",null),T.a.createElement("div",{className:"right"},T.a.createElement("div",{className:m.length<2?"blue":"gray",onClick:function(){m.length>=2||(m.push({name:"",uuid:"",isStandard:!0,basicUnitUuid:"",basicUnitQuantity:"",unitList:[]}),e.setState({unitList:m}))}},"+\u6dfb\u52a0\u5355\u4f4d"),T.a.createElement("div",{className:"noTextSwitch"},T.a.createElement(U.w,{checked:!0,onClick:function(){e.setState({unitList:[]})}}))))))),T.a.createElement(U.d,null,T.a.createElement(U.c,{onClick:function(){var t=le(e.state);if(t.length)return A.a.toast.info(t[0]);var i=[d],r=[1];m&&m.length&&m.map((function(e){i.push(e.name),r.push(e.basicUnitQuantity)})),n(J.i("unit",Object(k.fromJS)({basicUnitQuantity:c,basicUnitUuid:s,isStandard:u,uuid:l,name:d,unitList:m,fullName:m.length?"".concat(d,"(").concat(i.join(":"),"=").concat(r.join(":"),")"):d}))),n(J.m("purchasePriceList",Object(k.fromJS)([{unitUuid:l,name:d,defaultPrice:"",type:"1"}]),!0)),n(J.m("salePriceList",Object(k.fromJS)([{unitUuid:l,name:d,defaultPrice:"",type:"2"}]),!0)),a.goBack()}},T.a.createElement(U.l,{type:"choose"}),T.a.createElement("span",null,"\u786e\u5b9a"))))}}]),n}(j.Component))||O,Le=(U.k.Label,U.k.Item),Ce=function(e,t,n){var a={oriBasicUnitQuantity:"",basicUnitUuid:""};if(e){var i,r=Object(oe.a)(n);try{for(r.s();!(i=r.n()).done;){var c=i.value;if(c.uuid==t){a=c;break}}}catch(o){r.e(o)}finally{r.f()}}return a},Ne=Object(P.c)((function(e){return e}))(ue=function(e){Object(I.a)(n,e);var t=Object(N.a)(n);function n(){var e;Object(L.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={isStandard:!0,uuid:"",name:"",unitList:[],basicUnitQuantity:1,modifyUnit:!1},e}return Object(C.a)(n,[{key:"componentDidMount",value:function(){A.a.setTitle({title:"\u4fee\u6539\u8ba1\u91cf\u5355\u4f4d"}),A.a.setRight({show:!1}),A.a.setIcon({showIcon:!1});var e=this.props.inventoryConfState.getIn(["inventoryCardTemp","unit"]),t=this.props.inventoryConfState.get("standardList").toJS(),n=e.get("unitList").toJS();n.forEach((function(e){if(e.isStandard){var n=Ce(!0,e.uuid,t);e.basicUnitUuid=n.basicUnitUuid,e.oriBasicUnitQuantity=n.basicUnitQuantity}})),this.setState({isStandard:e.get("isStandard"),uuid:e.get("uuid"),name:e.get("name"),unitList:n})}},{key:"render",value:function(){var e=this,t=this.props,n=t.dispatch,a=t.history,i=t.inventoryConfState,r=this.state,c=r.uuid,o=r.isStandard,s=r.name,l=r.unitList,u=r.basicUnitQuantity,d=r.modifyUnit,m=i.get("unitList"),f=i.get("standardList").toJS(),p=i.getIn(["inventoryCardTemp","unit"]),g=1==l.length,y=Ce(o,c,f),h=y.basicUnitUuid,v=y.basicUnitQuantity,b=m.toJS().filter((function(e){return 0==e.unitList}));b.unshift({key:"\u8f93\u5165\u65b0\u5355\u4f4d",value:"INPUT"});var E=[];o&&l.length?(E=f.filter((function(e){if(e.basicUnitUuid==y.basicUnitUuid&&Number(e.basicUnitQuantity)>=Number(v))return e}))).unshift({key:"\u8f93\u5165\u65b0\u5355\u4f4d",value:"INPUT"}):E=b;var S=function(t,n){A.a.Prompt({title:"\u81ea\u5b9a\u4e49\u5355\u4f4d",message:"\u8bf7\u8f93\u5165\u5355\u4f4d\u540d\u79f0:",buttonLabels:["\u53d6\u6d88","\u786e\u8ba4"],onSuccess:function(a){if(1===a.buttonIndex){if(""==a.value)return void A.a.toast.info("\u8bf7\u8f93\u5165\u5355\u4f4d\u540d\u79f0");t?(l[n]={name:a.value,basicUnitQuantity:"",isStandard:!1,uuid:"",unitList:[]},e.setState({unitList:l})):e.setState({name:a.value,basicUnitQuantity:1,isStandard:!1,uuid:""})}}})};return T.a.createElement(U.h,{className:"inventory-config"},T.a.createElement(U.s,{flex:"1",className:"border-top"},T.a.createElement(U.k,null,T.a.createElement(Le,{label:"\u57fa\u672c\u5355\u4f4d",className:"unit",showAsterisk:!0},T.a.createElement("div",{className:"unit-add",onClick:function(){e.setState({modifyUnit:!0,name:""})}},T.a.createElement("span",null,"\u4fee\u6539")),T.a.createElement("div",{className:"unit-select"},p.get("name"),"\xa0",T.a.createElement(U.l,{type:"arrow-right",size:"14"}))),T.a.createElement("div",{className:"inventory-add-card",style:{display:d?"":"none"}},T.a.createElement("div",{className:"item"},T.a.createElement("div",{className:"item-center"},p.get("name")," ="),T.a.createElement(U.u,{className:"item-left",district:b,onOk:function(t){"INPUT"==t.value?S():e.setState({isStandard:t.isStandard,uuid:t.uuid,name:t.name,basicUnitQuantity:""})}},T.a.createElement(U.r,null,s||"\u65b0\u5355\u4f4d")),T.a.createElement("div",{className:"item-center"},"*"),T.a.createElement("div",{className:"item-right"},T.a.createElement(U.E,{mode:"number",placeholder:"\u8bf7\u8f93\u5165\u6570\u91cf\u5173\u7cfb",value:u,onChange:function(t){e.setState({basicUnitQuantity:t})}})))),T.a.createElement(Le,{label:"\u591a\u5355\u4f4d",style:{display:0==l.length?"":"none"}},T.a.createElement("span",{className:"noTextSwitch"},T.a.createElement(U.w,{checked:!1,onClick:function(){l.push({basicUnitQuantity:"",basicUnitUuid:"",isStandard:!0,uuid:"",name:"",unitList:[]}),e.setState({unitList:l})}}))),T.a.createElement("div",{className:"inventory-add-card",style:{display:l.length?"":"none"}},T.a.createElement("div",null,l.map((function(t,n){var a=Ce(t.isStandard,t.uuid,f);return T.a.createElement("div",{key:n,style:{paddingBottom:"10px"}},T.a.createElement("div",{className:"title"},T.a.createElement("span",null,"\u591a\u5355\u4f4d(",n+1,")"),T.a.createElement("span",{className:"blue",style:{display:g?"none":""},onClick:function(){l.splice(n,1),e.setState({unitList:l})}},"\u5220\u9664")),T.a.createElement("div",{className:"item"},T.a.createElement(U.u,{className:"item-left",district:E,value:t.uuid,onOk:function(t){if("INPUT"==t.value)S(!0,n);else{var a=Ce(t.isStandard,t.uuid,f);l[n]=t,l[n].oriBasicUnitQuantity=a.basicUnitQuantity,l[n].basicUnitUuid=a.basicUnitUuid,l[n].basicUnitQuantity="",o&&(l[n].basicUnitQuantity=a.oriBasicUnitQuantity/v),e.setState({unitList:l})}}},T.a.createElement(U.r,null,t.name?t.name:"\u8bf7\u9009\u62e9/\u8f93\u5165\u5355\u4f4d")),T.a.createElement("div",{className:"item-center"},"= ",s," *"),T.a.createElement("div",{className:"item-right"},T.a.createElement(U.E,{mode:"amount",disabled:!(!h||a.basicUnitUuid!=h),placeholder:"\u8bf7\u8f93\u5165\u6570\u91cf\u503c",value:t.basicUnitQuantity,onChange:function(t){l[n].basicUnitQuantity=t,e.setState({unitList:l})}}))))}))),T.a.createElement("div",{className:"bottom"},T.a.createElement("div",null),T.a.createElement("div",{className:"right"},T.a.createElement("div",{className:l.length<2?"blue":"gray",onClick:function(){l.length>=2||(l.push({name:"",uuid:"",isStandard:!1,basicUnitUuid:"",basicUnitQuantity:"",unitList:[]}),e.setState({unitList:l}))}},"+\u6dfb\u52a0\u5355\u4f4d"),T.a.createElement("div",{className:"noTextSwitch"},T.a.createElement(U.w,{checked:!0,onClick:function(){e.setState({unitList:[]})}}))))))),T.a.createElement(U.d,null,T.a.createElement(U.c,{onClick:function(){var t=le(e.state);if(t.length)return A.a.toast.info(t[0]);var r=function(){var e=[s],t=[1];if(l&&l.length&&l.map((function(n){e.push(n.name),t.push(n.basicUnitQuantity)})),n(J.i("unit",Object(k.fromJS)({basicUnitQuantity:u,basicUnitUuid:h,isStandard:o,uuid:c,name:s,unitList:l,fullName:l.length?"".concat(s,"(").concat(e.join(":"),"=").concat(t.join(":"),")"):s}))),n(J.m("purchasePriceList",Object(k.fromJS)([{unitUuid:c,name:s,defaultPrice:"",type:"1"}]),!0)),n(J.m("salePriceList",Object(k.fromJS)([{unitUuid:c,name:s,defaultPrice:"",type:"2"}]),!0)),"OPEN"==i.getIn(["inventoryCardTemp","assemblyState"])){var r=i.getIn(["inventoryCardTemp","assemblySheet"]),d=r.get("unitName"),m=r.get("quantity"),f=r.get("unitUuid"),p=r.get("materialList"),g=m,y=d,v=f;if(e.includes(d)){var b=[{name:s,basicUnitQuantity:u}];l.map((function(e){b.push({name:e.name,basicUnitQuantity:e.basicUnitQuantity})})),Number(m)&&b.map((function(e){e.name==d&&(g=Object(D.l)(Number(m)/Number(e.basicUnitQuantity)))}))}else y=s,v=c;n(J.i("assemblySheet",Object(k.fromJS)({unitUuid:v,unitName:y,quantity:g,materialList:p})))}a.goBack()};s!=p.get("name")||l.length?A.a.Confirm({title:"\u4fe1\u606f\u786e\u8ba4",message:"\u6240\u6709\u5386\u53f2\u5355\u636e\u4e2d\uff0c\u8be5\u5546\u54c1\u7684\u5355\u4f4d\u5c06\u7edf\u4e00\u8f6c\u6362\u4e3a\u57fa\u672c\u5355\u4f4d",buttonLabels:["\u53d6\u6d88","\u786e\u5b9a"],onSuccess:function(e){1==e.buttonIndex&&r()},onFail:function(e){}}):r()}},T.a.createElement(U.l,{type:"choose"}),T.a.createElement("span",null,"\u786e\u5b9a"))))}}]),n}(j.Component))||ue,Ie=(n(78),U.k.Label,U.k.Item,Object(P.c)((function(e){return e}))(de=function(e){Object(I.a)(n,e);var t=Object(N.a)(n);function n(){var e;Object(L.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={visible:!1,idx:-1,categoryValue:"ALL",materialList:[{materialUuid:"",unitUuid:"",quantity:""}],unitUuid:"",unitName:"",quantity:""},e}return Object(C.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.inventoryConfState.getIn(["views","insertOrModify"]),t=this.props.inventoryConfState.getIn(["inventoryCardTemp","assemblySheet"]),n=this.props.inventoryConfState.getIn(["inventoryCardTemp","unit"]);A.a.setRight({show:!1}),A.a.setIcon({showIcon:!1}),A.a.setTitle({title:"".concat("insert"===e?"\u7ec4\u88c5\u5355\u8bbe\u7f6e":"\u7ec4\u88c5\u5355\u4fee\u6539")}),t.get("materialList").size&&this.setState({materialList:t.get("materialList").toJS()}),this.setState({unitUuid:t.get("unitUuid"),unitName:t.get("unitName"),quantity:t.get("quantity")}),0==n.get("unitList").size&&this.setState({unitUuid:n.get("uuid"),unitName:n.get("name")}),this.props.dispatch(J.E()),this.props.dispatch(J.F({top:!0,uuid:""}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.dispatch,a=t.history,i=t.inventoryConfState,r=this.state,c=r.visible,o=r.idx,s=r.categoryValue,l=r.materialList,u=r.unitUuid,d=r.unitName,m=r.quantity,f=i.get("inventoryCardTemp"),p=f.get("code"),g=f.get("name"),y=f.get("unit"),h=[{key:y.get("name"),value:y.get("uuid")}];y.get("unitList").map((function(e){h.push({key:e.get("name"),value:e.get("uuid")})}));var v=i.get("stockCategoryTree").toJS(),b=1==l.length,E=i.get("stockList").toJS();return E.map((function(e){e.uuid==f.get("uuid")&&(e.disabled=!0)})),T.a.createElement(U.h,{className:"inventory-config"},T.a.createElement(U.s,{flex:"1",className:"border-top"},T.a.createElement(U.k,null,T.a.createElement("div",{className:"inventory-add-card"},T.a.createElement(U.f,{visible:c,type:"card",multiSelect:!0,title:"\u8bf7\u9009\u62e9\u5b58\u8d27",district:v,cardList:E,value:s,onChange:function(t){e.setState({categoryValue:t.key}),n(J.F(t))},onOk:function(t){if(0!=t.length){var n=[];t.map((function(e,t){var a="",i="";e.isOpenedQuantity&&0==e.unit.unitList.length&&(a=e.unit.name,i=e.unit.uuid),n.push({materialUuid:e.uuid,code:e.code,name:e.oriName,isOpenedQuantity:e.isOpenedQuantity,unitName:a,unitUuid:i,quantity:""})})),l.splice.apply(l,[o,1].concat(n)),e.setState({materialList:l})}},onCancel:function(){e.setState({visible:!1})}},T.a.createElement("span",null)),T.a.createElement("div",null,l.map((function(t,n){var a,i=[],r=Object(oe.a)(E);try{for(r.s();!(a=r.n()).done;){var c=a.value;if(c.uuid==t.materialUuid){i.push({key:c.unit.name,value:c.unit.uuid}),c.unit.unitList.map((function(e){i.push({key:e.name,value:e.uuid})}));break}}}catch(u){r.e(u)}finally{r.f()}var o=t.code?t.code:"",s=t.name?t.name:"";return T.a.createElement("div",{key:n,style:{paddingBottom:"10px"}},T.a.createElement("div",{className:"title"},T.a.createElement("span",null,"\u7269\u6599\u660e\u7ec6(",n+1,")"),T.a.createElement("span",{className:"blue",onClick:function(){b?e.setState({materialList:[{materialUuid:"",unitUuid:"",quantity:""}]}):(l.splice(n,1),e.setState({materialList:l}))}},"\u5220\u9664")),T.a.createElement("div",{className:"item",style:{paddingBottom:"10px"}},T.a.createElement("div",{className:"item-title"},"\u5b58\u8d27:"),T.a.createElement("div",{className:"item-stock",onClick:function(){e.setState({visible:!0,idx:n})}},T.a.createElement(U.r,{className:t.materialUuid?"overElli black":"overElli"},t.materialUuid?"".concat(o," ").concat(s):"\u70b9\u51fb\u9009\u62e9\u5b58\u8d27\u5361\u7247"),T.a.createElement(U.l,{type:"triangle"}))),T.a.createElement("div",{className:"item"},T.a.createElement("div",{className:"item-title"},"\u6570\u91cf:"),T.a.createElement("div",{className:"item-right item-stock-input"},T.a.createElement(U.E,{mode:"number",disabled:!t.materialUuid,placeholder:"\u586b\u5199\u6570\u91cf",value:t.quantity,onChange:function(t){if("-"==t||t<0)return A.a.Alert("\u6570\u91cf\u4e0d\u652f\u6301\u8d1f\u6570");l[n].quantity=t,e.setState({materialList:l})}})),T.a.createElement("div",{style:{padding:"0 .05rem"}}),T.a.createElement(U.u,{className:"item-stock",district:i,value:t.unitUuid,onOk:function(t){l[n].unitUuid=t.value,l[n].unitName=t.key,e.setState({materialList:l})}},T.a.createElement(U.r,{className:t.unitUuid?"overElli black":"overElli"},t.unitUuid?t.unitName:"\u9009\u62e9\u6570\u91cf\u5355\u4f4d"),T.a.createElement(U.l,{type:"triangle"}))))}))),T.a.createElement("div",{className:"bottom"},T.a.createElement("div",null),T.a.createElement("div",{className:"right"},T.a.createElement("div",{className:"blue",onClick:function(){e.setState({visible:!0,idx:l.length})}},"+\u6dfb\u52a0\u7269\u6599\u660e\u7ec6")))),T.a.createElement("div",{className:"inventory-add-card",style:{marginTop:".1rem"}},T.a.createElement("div",{className:"item",style:{paddingBottom:"10px"}},T.a.createElement("div",{className:"item-title"},"\u7ec4\u88c5\u6210\u54c1:"),T.a.createElement("div",{className:"black"}," ","".concat(p," ").concat(g)," ")),T.a.createElement("div",{className:"item"},T.a.createElement("div",{className:"item-title"},"\u5b58\u8d27:"),T.a.createElement("div",{className:"item-right item-stock-input"},T.a.createElement(U.E,{mode:"number",placeholder:"\u586b\u5199\u6570\u91cf",value:m,onChange:function(t){e.setState({quantity:t})}})),T.a.createElement("div",{style:{padding:"0 .05rem"}}),T.a.createElement(U.u,{className:"item-stock",district:h,onOk:function(t){e.setState({unitUuid:t.value,unitName:t.key})}},T.a.createElement(U.r,{className:d?"overElli black":"overElli"},d||"\u9009\u62e9\u6570\u91cf\u5355\u4f4d"),T.a.createElement(U.l,{type:"triangle"})))))),T.a.createElement(U.d,null,T.a.createElement(U.c,{onClick:function(){var e=[];if(l.forEach((function(t,n){t.materialUuid?(t.unitUuid||e.push("\u7269\u6599\u660e\u7ec6".concat(n+1,"\u672a\u9009\u62e9\u5355\u4f4d")),t.quantity<=0&&e.push("\u7269\u6599\u660e\u7ec6".concat(n+1,"\u672a\u586b\u5199\u6570\u91cf"))):l.splice(n,1)})),l.length&&(d||e.push("\u7ec4\u88c5\u6210\u54c1\u672a\u9009\u62e9\u5355\u4f4d"),m<=0&&e.push("\u7ec4\u88c5\u6210\u54c1\u672a\u586b\u5199\u6570\u91cf")),e.length)return A.a.toast.info(e[0]);n(J.i("assemblySheet",Object(k.fromJS)({unitUuid:u,unitName:d,quantity:m,materialList:l}))),a.goBack()}},T.a.createElement(U.l,{type:"choose"}),T.a.createElement("span",null,"\u786e\u5b9a"))))}}]),n}(j.Component))||de),je=(U.k.Label,U.k.Item),Te=Object(P.c)((function(e){return e}))(me=function(e){Object(I.a)(n,e);var t=Object(N.a)(n);function n(){return Object(L.a)(this,n),t.apply(this,arguments)}return Object(C.a)(n,[{key:"componentDidMount",value:function(){A.a.setTitle({title:"\u8f85\u52a9\u5c5e\u6027"}),A.a.setRight({show:!1}),A.a.setIcon({showIcon:!1})}},{key:"render",value:function(){var e=this.props,t=e.dispatch,n=e.history,a=e.inventoryConfState,i=e.homeState,r=i.getIn(["permissionInfo","Config"]),c=i.getIn(["data","userInfo","sobInfo","moduleInfo"]).includes("WAREHOUSE"),o=(r.getIn(["edit","permission"]),a.get("assistClassificationList")),s=a.get("inventoryCardTemp"),l=s.getIn(["financialInfo","openAssist"]),u=s.getIn(["financialInfo","assistClassificationList"]),d=[],m=[],f=[];return u.map((function(e,t){d.push(e.get("uuid"));var n=[];e.get("propertyList").forEach((function(e){f.push(e.get("uuid")),n.push(e.get("uuid"))})),m.push(n)})),T.a.createElement(U.h,{className:"inventory-config"},T.a.createElement(U.s,{flex:"1",className:"border-top"},T.a.createElement(U.k,null,T.a.createElement(je,{label:"\u8f85\u52a9\u5c5e\u6027"},T.a.createElement("span",{className:"noTextSwitch"},T.a.createElement(U.w,{checked:l,onClick:function(){t(J.m(["inventoryCardTemp","financialInfo","openAssist"],!l)),t(J.s(c?"OPENTREE":"OPENLIST"))}})))),l&&o.map((function(e,a){var i=e.get("uuid"),r=e.get("name");return T.a.createElement("div",{key:i,className:"config-list-item-wrap-style margin-top"},T.a.createElement("div",{className:"config-list-item-style",onClick:function(){t(J.m(["assist","classificationUuid"],e.get("uuid"))),t(J.m(["assist","classificationName"],e.get("name"))),t(J.m(["assist","propertyList"],e.get("propertyList"))),n.push("/config/inventory/assistClass")}},T.a.createElement("span",{className:"config-list-item-info-style"},e.get("name")),T.a.createElement("span",{className:"config-list-item-arrow-style black"},T.a.createElement(U.l,{type:"arrow-right"}))),T.a.createElement("div",{className:"border-top padding-top",style:{display:e.get("propertyList").size?"":"none"}},e.get("propertyList").map((function(e){var n=e.get("uuid"),a=e.get("name"),c="assist-button",o=!1,s=!1;return f.includes(n)?(s=!0,c="assist-button assist-select"):d.length>2&&!d.includes(i)&&(o=!0,c="assist-button gray"),T.a.createElement("span",{className:c,key:n,onClick:function(){if(!o){var e=[];if(s){var c=d.findIndex((function(e){return e==i})),l=m[c].findIndex((function(e){return e==n}));e=1==m[c].length?u.delete(c):u.deleteIn([c,"propertyList",l])}else if(d.includes(i)){var f=d.findIndex((function(e){return e==i}));e=u.setIn([f,"propertyList",m[f].length],Object(k.fromJS)({uuid:n,name:a}))}else e=u.push(Object(k.fromJS)({uuid:i,name:r,isUniform:!0,propertyList:[{uuid:n,name:a}]}));t(J.m(["inventoryCardTemp","financialInfo","assistClassificationList"],e))}}},a)}))))})),T.a.createElement("div",{className:"assist-card margin-top",style:{display:l?"":"none"},onClick:function(){A.a.Prompt({title:"\u5c5e\u6027\u5206\u7c7b",message:"\u8bf7\u8f93\u5165\u5c5e\u6027\u5206\u7c7b\u540d\u79f0:",buttonLabels:["\u53d6\u6d88","\u786e\u8ba4"],onSuccess:function(e){if(1===e.buttonIndex){var n=[{type:"topestName",value:e.value}];D.g.beforeSaveCheck(n,(function(){t(J.m(["assist","classificationName"],e.value)),t(J.m(["assist","type"],"assistClassInsert")),t(J.N((function(){})))}))}}})}},T.a.createElement("span",{className:"blue"},T.a.createElement(U.l,{type:"add"}),"\u65b0\u589e\u5c5e\u6027\u5206\u7c7b"))),T.a.createElement(U.d,null,T.a.createElement(U.c,{onClick:function(){n.goBack()}},T.a.createElement(U.l,{type:"confirm"}),T.a.createElement("span",null,"\u786e\u5b9a"))))}}]),n}(T.a.Component))||me,ke=(U.k.Label,U.k.Control,U.k.Item),Ue=Object(P.c)((function(e){return e}))(fe=function(e){Object(I.a)(n,e);var t=Object(N.a)(n);function n(){return Object(L.a)(this,n),t.apply(this,arguments)}return Object(C.a)(n,[{key:"render",value:function(){var e=this.props,t=e.dispatch,n=e.history,a=e.inventoryConfState.get("assist"),i=(a.get("classificationUuid"),a.get("classificationName")),r=a.get("propertyList"),c=(a.get("uuid"),a.get("name"),a.get("type")),o=function(){A.a.Prompt({title:"assistClassModify"==c?"\u5c5e\u6027\u5206\u7c7b":"\u5c5e\u6027",message:"assistClassModify"==c?"\u8bf7\u8f93\u5165\u5c5e\u6027\u5206\u7c7b\u540d\u79f0:":"\u8bf7\u8f93\u5165\u5c5e\u6027\u540d\u79f0:",buttonLabels:["\u53d6\u6d88","\u786e\u8ba4"],onSuccess:function(e){if(1===e.buttonIndex){var n=[{type:"topestName",value:e.value}],a="assistClassModify"==c?"classificationName":"name";D.g.beforeSaveCheck(n,(function(){t(J.m(["assist",a],e.value)),t(J.N((function(){})))}))}}})};return T.a.createElement(U.h,{className:"inventory-config"},T.a.createElement(U.s,{flex:"1",className:"border-top"},T.a.createElement(U.k,null,T.a.createElement(ke,{label:"\u5206\u7c7b\u540d\u79f0",className:"config-form-item-input-style",onClick:function(){t(J.m(["assist","type"],"assistClassModify")),o()}},T.a.createElement("span",null,i))),T.a.createElement("ul",{className:"inventory-config-card margin-top"},r.map((function(e,n){return T.a.createElement("li",{key:e.get("uuid"),className:"config-list-item-wrap-style"},T.a.createElement("div",{className:"config-list-item-style"},T.a.createElement("span",{className:"config-list-item-checkbox-style red margin-right",onClick:function(n){t(J.m(["assist","uuid"],e.get("uuid"))),t(J.m(["assist","type"],"assistPropertyDelete")),t(J.x((function(){})))}},T.a.createElement(U.l,{type:"delete-plus"})),T.a.createElement("span",{className:"config-list-item-info-style",onClick:function(n){t(J.m(["assist","uuid"],e.get("uuid"))),t(J.m(["assist","type"],"assistPropertyModify")),o()}},e.get("name"))))})),T.a.createElement("li",{className:"config-list-item-wrap-style",onClick:function(e){t(J.m(["assist","type"],"assistPropertyInsert")),o()}},T.a.createElement("div",{className:"config-list-item-style blue"},T.a.createElement("span",{className:"config-list-item-checkbox-style margin-right"},T.a.createElement(U.l,{type:"add-small"})),T.a.createElement("span",{className:"config-list-item-info-style blue"},"\u65b0\u589e\u5c5e\u6027")))),T.a.createElement("div",{className:"assist-card margin-top",onClick:function(){t(J.m(["assist","type"],"assistClassDelete")),t(J.x((function(){n.goBack()})))}},T.a.createElement("span",{className:"red"},"\u5220\u9664\u5c5e\u6027\u5206\u7c7b"))),T.a.createElement(U.d,null,T.a.createElement(U.c,{onClick:function(){n.goBack()}},T.a.createElement(U.l,{type:"confirm"}),T.a.createElement("span",null,"\u786e\u5b9a"))))}}]),n}(T.a.Component))||fe,we=(U.k.Label,U.k.Item),Pe=Object(P.c)((function(e){return e}))(pe=function(e){Object(I.a)(n,e);var t=Object(N.a)(n);function n(){return Object(L.a)(this,n),t.apply(this,arguments)}return Object(C.a)(n,[{key:"componentDidMount",value:function(){A.a.setTitle({title:"\u6279\u6b21\u7ba1\u7406"}),A.a.setRight({show:!1}),A.a.setIcon({showIcon:!1})}},{key:"render",value:function(){var e=this.props,t=e.dispatch,n=e.history,a=e.homeState,i=e.inventoryConfState,r=a.getIn(["data","userInfo","sobInfo","moduleInfo"]).includes("WAREHOUSE"),c=i.getIn(["inventoryCardTemp","financialInfo"]),o=c.get("openBatch"),s=c.get("openShelfLife"),l=c.get("shelfLife"),u=i.getIn(["batch","allBatchList"]);return T.a.createElement(U.h,{className:"inventory-config"},T.a.createElement(U.s,{flex:"1",className:"border-top"},T.a.createElement(U.k,null,T.a.createElement(we,{label:"\u6279\u6b21\u7ba1\u7406"},T.a.createElement("span",{className:"noTextSwitch"},T.a.createElement(U.w,{checked:o,onClick:function(){t(J.m(["inventoryCardTemp","financialInfo","openBatch"],!o)),t(J.s(r?"OPENTREE":"OPENLIST")),o&&t(J.m(["inventoryCardTemp","financialInfo","openShelfLife"],!1))}}))),T.a.createElement(we,{label:"\u4fdd\u8d28\u671f\u7ba1\u7406",className:"margin-top",style:{display:o?"":"none"}},T.a.createElement("span",{className:"noTextSwitch"},T.a.createElement(U.w,{checked:s,onClick:function(){if(u.size)return A.a.Alert("\u8bf7\u5148\u5220\u9664\u539f\u6709\u6279\u6b21");t(J.m(["inventoryCardTemp","financialInfo","openShelfLife"],!s))}}))),T.a.createElement(we,{label:"\u4fdd\u8d28\u65e5\u671f",className:"config-form-item-input-style",style:{display:o&&s?"":"none"}},T.a.createElement(U.E,{placeholder:"\u652f\u6301\u6570\u5b57",value:l,onChange:function(e){return D.g.inputCheck("shelfLife",e,(function(){t(J.m(["inventoryCardTemp","financialInfo","shelfLife"],e))}))}}),"\xa0",T.a.createElement(U.l,{type:"arrow-right",className:"ac-option-icon",size:"14"})))),T.a.createElement(U.d,null,T.a.createElement(U.c,{onClick:function(){n.goBack()}},T.a.createElement(U.l,{type:"confirm"}),T.a.createElement("span",null,"\u786e\u5b9a"))))}}]),n}(T.a.Component))||pe,Ae=(U.k.Label,U.k.Item),xe=Object(P.c)((function(e){return e}))(ge=function(e){Object(I.a)(n,e);var t=Object(N.a)(n);function n(){var e;Object(L.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).district=[],e.batchList=[],e.state={batch:"",productionDate:"",expirationDate:"",oriBatch:"",oriProductionDate:"",oriExpirationDate:"",batchUuid:"",keyStr:""},e}return Object(C.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.inventoryConfState.get("batch"),n=t.get("batchType"),a=t.get("editPage");A.a.setTitle({title:n.includes("-INSERT")?"\u65b0\u589e\u6279\u6b21":"\u4fee\u6539\u6279\u6b21"}),A.a.setRight({show:!1}),A.a.setIcon({showIcon:!1}),n.includes("-MODIFY")&&t.get("batchList").forEach((function(t){var n=t.get("batch"),a=t.get("productionDate")?t.get("productionDate"):"",i=t.get("expirationDate")?t.get("expirationDate"):"",r=i?"".concat(n,"(").concat(i,")"):n;e.district.push({key:r,value:t.get("batch"),batchUuid:t.get("batchUuid")?t.get("batchUuid"):"",productionDate:a,expirationDate:i}),e.batchList.push(t.get("batch"))})),"inventoryBatchList"==a&&n.includes("-MODIFY")&&this.setState({oriBatch:t.get("batch"),oriProductionDate:t.get("productionDate"),productionDate:t.get("productionDate"),expirationDate:t.get("expirationDate"),oriExpirationDate:t.get("expirationDate"),batchUuid:t.get("batchUuid"),keyStr:t.get("batch"),batch:t.get("batch")})}},{key:"render",value:function(){var e=this,t=this.props,n=t.dispatch,a=t.history,i=t.inventoryConfState,r=this.state,c=r.batch,o=r.productionDate,s=r.oriBatch,l=(r.oriProductionDate,r.batchUuid),u=r.keyStr,d=r.expirationDate,m=i.get("batch"),f=m.get("batchType"),p=f.includes("-INSERT"),g=m.get("openShelfLife"),y=m.get("shelfLife"),h=i.getIn(["inventoryCardTemp","financialInfo","batchList"]),v="inventoryBatchList"==m.get("editPage")&&f.includes("-MODIFY"),b=0;if(o&&d){var E=Date.parse(o);b=(Date.parse(d)-E)/864e5}return T.a.createElement(U.h,{className:"inventory-config"},T.a.createElement(U.s,{flex:"1",className:"border-top"},T.a.createElement(U.k,null,T.a.createElement(Ae,{label:"\u539f\u6279\u6b21\u53f7",style:{display:p||v?"none":""}},T.a.createElement(U.u,{district:this.district,value:s,onOk:function(t){e.setState({oriBatch:t.value,oriProductionDate:t.productionDate,productionDate:t.productionDate,expirationDate:t.expirationDate,batchUuid:t.batchUuid,keyStr:t.key,batch:t.value})}},T.a.createElement("div",{className:s?"config-form-item-select-item":"config-form-item-select-item config-form-item-select-item-holder"},s?u:"\u8bf7\u9009\u62e9\u6279\u6b21\u53f7")),"\xa0",T.a.createElement(U.l,{type:"arrow-right",size:"14"})),T.a.createElement(Ae,{label:p?"\u6279\u6b21\u53f7":"\u65b0\u6279\u6b21\u53f7",showAsterisk:!0,className:p||v?"config-form-item-input-style":"config-form-item-input-style margin-top",style:{display:p||s?"":"none"}},T.a.createElement(U.E,{placeholder:"\u652f\u6301\u6570\u5b57",value:c,onChange:function(t){return D.g.inputCheck("batch",t,(function(){e.setState({batch:t})}))}}),"\xa0",T.a.createElement(U.l,{type:"arrow-right",className:"ac-option-icon",size:"14"})),T.a.createElement(Ae,{label:"\u751f\u4ea7\u65e5\u671f",style:{display:!g||!p&&!s?"none":""}},T.a.createElement(U.i,{value:o,onChange:function(t){if(e.setState({productionDate:new D.a(t).valueOf()}),t&&!d&&y){var n=new Date(t.setDate(t.getDate()+Number(y)));e.setState({expirationDate:new D.a(n).valueOf()})}}},T.a.createElement("div",{className:o?"":"config-form-item-select-item-holder"},o||"\u8bf7\u9009\u62e9\u751f\u4ea7\u65e5\u671f")),"\xa0",T.a.createElement(U.l,{type:"arrow-right",size:"14"})),T.a.createElement(Ae,{label:"\u622a\u6b62\u65e5\u671f",showAsterisk:!0,style:{display:!g||!p&&!s?"none":""}},T.a.createElement(U.i,{value:d,onChange:function(t){var n=new D.a(t).valueOf();if(n&&o&&n<o)return A.a.toast.info("\u622a\u6b62\u65e5\u671f\u4e0d\u5e94\u5c0f\u4e8e\u751f\u4ea7\u65e5\u671f");e.setState({expirationDate:new D.a(t).valueOf()})}},T.a.createElement("div",{className:d?"":"config-form-item-select-item-holder"},d||"\u8bf7\u9009\u62e9\u622a\u6b62\u65e5\u671f")),"\xa0",T.a.createElement(U.l,{type:"arrow-right",size:"14"})),T.a.createElement(Ae,{label:"",style:{display:g&&(y||b)?"":"none"}},T.a.createElement("div",{className:"config-form-item-select-item-holder",style:{flex:1}},y?"\u9ed8\u8ba4\u4fdd\u8d28\u671f: ".concat(y,"\u5929"):null,y&&b?" ; ":null,b?"\u5b9e\u9645\u4fdd\u8d28\u671f: ".concat(b,"\u5929"):null)))),T.a.createElement(U.d,null,T.a.createElement(U.c,{onClick:function(){return a.goBack()}},T.a.createElement(U.l,{type:"cancel"}),T.a.createElement("span",null,"\u53d6\u6d88")),T.a.createElement(U.c,{onClick:function(){return c?g&&!d?A.a.toast.info("\u8bf7\u9009\u62e9\u622a\u6b62\u65e5\u671f"):void{"INSERT-INSERT":function(){if(e.batchList.includes(c))return A.a.toast.info("\u6279\u6b21\u53f7\u91cd\u590d");n(J.m(["inventoryCardTemp","financialInfo","batchList"],h.push(Object(k.fromJS)({batch:c,productionDate:o,expirationDate:d})))),a.goBack()},"INSERT-MODIFY":function(){if(s!=c&&e.batchList.includes(c))return A.a.toast.info("\u6279\u6b21\u53f7\u91cd\u590d");var t=h.findIndex((function(e){return e.get("batch")==c}));n(J.m(["inventoryCardTemp","financialInfo","batchList",t],Object(k.fromJS)({batch:c,productionDate:o,expirationDate:d}))),a.goBack()},"MODIFY-INSERT":function(){if(e.batchList.includes(c))return A.a.toast.info("\u6279\u6b21\u53f7\u91cd\u590d");n(J.m(["batch","batch"],c)),n(J.m(["batch","productionDate"],o)),n(J.m(["batch","expirationDate"],d)),n(J.O((function(){return a.goBack()})))},"MODIFY-MODIFY":function(){if(s!=c&&e.batchList.includes(c))return A.a.toast.info("\u6279\u6b21\u53f7\u91cd\u590d");n(J.m(["batch","batch"],c)),n(J.m(["batch","batchUuid"],l)),n(J.m(["batch","productionDate"],o)),n(J.m(["batch","expirationDate"],d)),n(J.O((function(){return a.goBack()})))}}[f]():A.a.toast.info("\u8bf7\u586b\u5199\u6279\u6b21\u53f7")}},T.a.createElement(U.l,{type:"confirm"}),T.a.createElement("span",null,"\u786e\u5b9a"))))}}]),n}(T.a.Component))||ge,De=Object(P.c)((function(e){return e}))(ye=function(e){Object(I.a)(n,e);var t=Object(N.a)(n);function n(){var e;Object(L.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).scrollerHeight=0,e.listHeight=46.6,e.listHtml="",e.pageSize=50,e.state={batchSortType:!0,dateSortType:!0,canUseSortType:!0,showCheckBox:!1,currentPage:1},e}return Object(C.a)(n,[{key:"componentDidMount",value:function(){A.a.setTitle({title:"\u6279\u6b21\u7ba1\u7406"}),A.a.setRight({show:!1}),A.a.setIcon({showIcon:!1});var e=document.getElementsByClassName("scroll-view")[0];this.scrollViewHtml=e,this.scrollerHeight=Number(window.getComputedStyle(e).height.replace("px",""))}},{key:"componentDidUpdate",value:function(){if(!this.listHtml){var e=document.getElementsByClassName("list-html")[0];e&&(this.listHtml=e,this.listHeight=e?Number(window.getComputedStyle(e).height.replace("px","")):50)}}},{key:"render",value:function(){var e=this,t=this.props,n=t.dispatch,a=t.history,i=t.inventoryConfState,r=this.state,c=r.batchSortType,o=r.dateSortType,s=r.canUseSortType,l=r.showCheckBox,u=r.currentPage,d="modify"==i.getIn(["views","insertOrModify"]),m=i.getIn(["views","usedOpenBatch"]),f=i.get("inventoryCardTemp"),p=f.get("uuid"),g=f.getIn(["financialInfo","openShelfLife"]),y=f.getIn(["financialInfo","shelfLife"]),h=i.get("batch"),v=d&&m?h.get("allBatchList"):f.getIn(["financialInfo","batchList"]);v=v||Object(k.fromJS)([]);var b=Math.ceil(v.size/this.pageSize);return T.a.createElement(U.h,{className:"inventory-config border-top"},T.a.createElement("div",{className:"batch batch-title"},T.a.createElement("div",{className:"batch-left",onClick:function(){d&&(n(J.y({inventoryUuid:p,needPage:!1,orderBy:"BATCH",isAsc:c})),e.setState({batchSortType:!c,currentPage:1}),e.scrollViewHtml.scrollTop=0)}},"\u6279\u6b21\u53f7",d?T.a.createElement(U.l,{type:"sort"}):null),T.a.createElement("div",{className:"batch-right",style:{flex:g?"":"none"}},T.a.createElement("span",{className:"item",onClick:function(){d&&(g&&n(J.y({inventoryUuid:p,needPage:!1,orderBy:"PRODUCTION_DATE",isAsc:o})),e.setState({dateSortType:!o,currentPage:1}),e.scrollViewHtml.scrollTop=0)}},g?T.a.createElement("span",null,"\u751f\u4ea7\u65e5\u671f",d?T.a.createElement(U.l,{type:"sort"}):null," "):null),T.a.createElement("span",{className:"item",onClick:function(){d&&(g&&n(J.y({inventoryUuid:p,needPage:!1,orderBy:"EXPIRATION_DATE",isAsc:o})),e.setState({dateSortType:!o,currentPage:1}),e.scrollViewHtml.scrollTop=0)}},g?T.a.createElement("span",null,"\u622a\u6b62\u65e5\u671f",d?T.a.createElement(U.l,{type:"sort"}):null," "):null),T.a.createElement("span",{style:{display:d?"":"none"},onClick:function(){n(J.y({inventoryUuid:p,needPage:!1,orderBy:"CAN_USE",isAsc:s})),e.setState({canUseSortType:!s,currentPage:1}),e.scrollViewHtml.scrollTop=0}},"\u542f/\u505c\u7528",T.a.createElement(U.l,{type:"sort"})))),T.a.createElement(U.s,{flex:"1",onScroll:function(t){t.target.scrollTop+100+e.scrollerHeight>=u*e.listHeight*e.pageSize&&u<b&&e.setState({currentPage:u+1})}},v.map((function(e,t){var r=e.get("batch"),c=e.get("productionDate")?e.get("productionDate"):"",o=e.get("expirationDate")?e.get("expirationDate"):"",s=e.get("batchUuid"),u=e.get("canUse"),f=!!e.get("checked")&&e.get("checked"),h=function(){var t={batchList:v,openShelfLife:g,shelfLife:y,editPage:"inventoryBatchList"};t.batchType=d&&m?"MODIFY-MODIFY":"INSERT-MODIFY",t.inventoryUuid=p,t.batch=e.get("batch"),t.productionDate=c,t.expirationDate=o,t.batchUuid=s,n(J.m("batch",i.get("batch").merge(Object(k.fromJS)(t)),!0)),a.push("/config/inventory/batchSet")};return T.a.createElement("div",{key:t,className:0==t?"batch list-html":"batch"},T.a.createElement("div",{className:"batch-left underline blue overElli",onClick:function(){return!l&&h()}},T.a.createElement("span",{className:"margin-right",style:{display:l?"":"none"}},T.a.createElement(U.e,{checked:f,onChange:function(e){e.stopPropagation(),n(d?J.m(["batch","allBatchList",t,"checked"],!f):J.m(["inventoryCardTemp","financialInfo","batchList",t,"checked"],!f))}})),r),T.a.createElement("div",{className:"batch-right",style:{flex:g?"":"none"}},T.a.createElement("span",{className:"underline blue item",onClick:function(){return!l&&h()}},g?c:null),T.a.createElement("span",{className:"underline blue item",onClick:function(){return!l&&h()}},g?o:null),T.a.createElement("span",{className:"noTextSwitch",style:{display:d?"":"none"}},T.a.createElement(U.w,{checked:u,onClick:function(){n(J.K({inventoryUuid:p,batchUuid:s,canUse:!u}))}}))))}))),T.a.createElement(U.d,{style:{display:l?"none":"flex"}},T.a.createElement(U.c,{onClick:function(){var e={batchList:v,openShelfLife:g,shelfLife:y,editPage:"inventoryBatchList"};e.batchType=d&&m?"MODIFY-INSERT":"INSERT-INSERT",e.inventoryUuid=p,n(J.m("batch",i.get("batch").merge(Object(k.fromJS)(e)),!0)),a.push("/config/inventory/batchSet")}},T.a.createElement(U.l,{type:"add-plus"}),T.a.createElement("span",null,"\u65b0\u589e")),T.a.createElement(U.c,{onClick:function(){return e.setState({showCheckBox:!0})}},T.a.createElement(U.l,{type:"select"}),T.a.createElement("span",null,"\u9009\u62e9"))),T.a.createElement(U.d,{style:{display:l?"flex":"none"}},T.a.createElement(U.c,{onClick:function(){e.setState({showCheckBox:!1})}},T.a.createElement(U.l,{type:"cancel"}),T.a.createElement("span",null,"\u53d6\u6d88")),T.a.createElement(U.c,{onClick:function(){var t=[];if(v.map((function(e){e.get("checked")&&t.push(e.get("batchUuid"))})),0==t.length)return A.a.Alert("\u8bf7\u9009\u62e9\u8981\u5220\u9664\u7684\u6279\u6b21");A.a.Confirm({message:"\u786e\u8ba4\u5220\u9664\u9009\u4e2d\u7684\u6279\u6b21\u53f7\u5417\uff1f",title:"\u63d0\u793a",buttonLabels:["\u53d6\u6d88","\u786e\u5b9a"],onSuccess:function(a){if(1==a.buttonIndex){if(d)n(J.u({inventoryUuid:p,deleteList:t,needPage:!1}));else{var i=v.filter((function(e){return!e.get("checked")}));n(J.m(["inventoryCardTemp","financialInfo","batchList"],i))}e.setState({currentPage:1}),e.scrollViewHtml.scrollTop=0}},onFail:function(e){}})}},T.a.createElement(U.l,{type:"select"}),T.a.createElement("span",null,"\u5220\u9664"))))}}]),n}(T.a.Component))||ye,Je=function(e){Object(I.a)(n,e);var t=Object(N.a)(n);function n(){return Object(L.a)(this,n),t.apply(this,arguments)}return Object(C.a)(n,[{key:"render",value:function(){var e=this.props,t=e.dispatch,n=e.purchasePriceList,a=e.unitList,i=1==n.size,r=[];return a.map((function(e){e.key=e.name,e.value=e.uuid,r.push(e)})),T.a.createElement("div",{className:"inventory-add-card"},T.a.createElement("div",null,n.map((function(e,a){return T.a.createElement("div",{key:a},T.a.createElement("div",{className:"title"},T.a.createElement("span",null,"\u9ed8\u8ba4\u91c7\u8d2d\u4ef7(",a+1,")"),T.a.createElement("span",{className:"blue",style:{display:i?"none":""},onClick:function(){var e=n.delete(a);t(J.m("purchasePriceList",e,!0))}},"\u5220\u9664")),T.a.createElement("div",{className:"item item-price"},T.a.createElement("div",{className:"left"},"\u91d1\u989d(\u5143):"),T.a.createElement(U.E,{mode:"number",className:"item-right",placeholder:"\u9009\u586b, \u8bf7\u8f93\u5165\u91d1\u989d",value:e.get("defaultPrice"),onChange:function(e){t(J.m(["purchasePriceList",a,"defaultPrice"],e))}})),T.a.createElement("div",{className:"item item-price"},T.a.createElement("div",{className:"left"},"\u5355\u4f4d"),T.a.createElement(U.u,{className:"item-right",district:r,onOk:function(e){t(J.m(["purchasePriceList",a,"unitUuid"],e.uuid)),t(J.m(["purchasePriceList",a,"name"],e.name))}},T.a.createElement("div",{className:"item-price-unit"},T.a.createElement("span",{className:"name"},e.get("name")?e.get("name"):"\u8bf7\u9009\u62e9\u5355\u4f4d"),T.a.createElement(U.l,{type:"triangle"})))))}))),T.a.createElement("div",{className:"bottom"},T.a.createElement("div",null),T.a.createElement("div",{className:"right"},T.a.createElement("div",{className:"blue",onClick:function(){t(J.m(["purchasePriceList",n.size],Object(k.fromJS)({unitUuid:"",name:"",defaultPrice:"",type:"1"})))}},"+\u6dfb\u52a0\u9ed8\u8ba4\u91c7\u8d2d\u4ef7"))))}}]),n}(j.Component),Me=function(e){Object(I.a)(n,e);var t=Object(N.a)(n);function n(){return Object(L.a)(this,n),t.apply(this,arguments)}return Object(C.a)(n,[{key:"render",value:function(){var e=this.props,t=e.dispatch,n=e.salePriceList,a=e.unitList,i=1==n.size,r=[];return a.map((function(e){e.key=e.name,e.value=e.uuid,r.push(e)})),T.a.createElement("div",{className:"inventory-add-card"},T.a.createElement("div",null,n.map((function(e,a){return T.a.createElement("div",{key:a},T.a.createElement("div",{className:"title"},T.a.createElement("span",null,"\u9ed8\u8ba4\u9500\u552e\u4ef7(",a+1,")"),T.a.createElement("span",{className:"blue",style:{display:i?"none":""},onClick:function(){var e=n.delete(a);t(J.m("salePriceList",e,!0))}},"\u5220\u9664")),T.a.createElement("div",{className:"item item-price"},T.a.createElement("div",{className:"left"},"\u91d1\u989d(\u5143):"),T.a.createElement(U.E,{mode:"number",className:"item-right",placeholder:"\u9009\u586b, \u8bf7\u8f93\u5165\u91d1\u989d",value:e.get("defaultPrice"),onChange:function(e){t(J.m(["salePriceList",a,"defaultPrice"],e))}})),T.a.createElement("div",{className:"item item-price"},T.a.createElement("div",{className:"left"},"\u5355\u4f4d"),T.a.createElement(U.u,{className:"item-right",district:r,onOk:function(e){t(J.m(["salePriceList",a,"unitUuid"],e.uuid)),t(J.m(["salePriceList",a,"name"],e.name))}},T.a.createElement("div",{className:"item-price-unit"},T.a.createElement("span",{className:"name"},e.get("name")?e.get("name"):"\u8bf7\u9009\u62e9\u5355\u4f4d"),T.a.createElement(U.l,{type:"triangle"})))))}))),T.a.createElement("div",{className:"bottom"},T.a.createElement("div",null),T.a.createElement("div",{className:"right"},T.a.createElement("div",{className:"blue",onClick:function(){t(J.m(["salePriceList",n.size],Object(k.fromJS)({unitUuid:"",name:"",defaultPrice:"",type:"2"})))}},"+\u6dfb\u52a0\u9ed8\u8ba4\u9500\u552e\u4ef7"))))}}]),n}(j.Component),Be=U.k.Item,Re=function(e){Object(I.a)(n,e);var t=Object(N.a)(n);function n(){return Object(L.a)(this,n),t.apply(this,arguments)}return Object(C.a)(n,[{key:"render",value:function(){var e=this.props,t=e.unit,n=e.purchasePriceList,a=e.salePriceList,i=e.dispatch,r=(t.get("isStandard"),t.get("name")?t.get("name"):""),c=t.get("unitList")?t.get("unitList").toJS():[],o=null;return!(!c||!c.length)?(c.push({uuid:t.get("uuid"),name:r}),o=T.a.createElement("div",null,T.a.createElement(Je,{dispatch:i,purchasePriceList:n,unitList:c}),T.a.createElement(Me,{dispatch:i,salePriceList:a,unitList:c}))):o=T.a.createElement("div",{className:"form-item-wrap"},T.a.createElement(Be,{label:"\u9ed8\u8ba4\u91c7\u8d2d\u4ef7".concat(r?"(\u5143/".concat(r,")"):""),className:"config-form-item-input-style"},T.a.createElement(U.E,{mode:"amount",placeholder:"\u9009\u586b,\u8bf7\u8f93\u5165\u91d1\u989d",value:n.getIn([0,"defaultPrice"]),onChange:function(e){return i(J.m(["purchasePriceList",0,"defaultPrice"],e))}}),"\xa0",T.a.createElement(U.l,{type:"arrow-right",className:"ac-option-icon",size:"14"})),T.a.createElement(Be,{label:"\u9ed8\u8ba4\u9500\u552e\u4ef7".concat(r?"(\u5143/".concat(r,")"):""),className:"config-form-item-input-style"},T.a.createElement(U.E,{mode:"amount",placeholder:"\u9009\u586b,\u8bf7\u8f93\u5165\u91d1\u989d",value:a.getIn([0,"defaultPrice"]),onChange:function(e){return i(J.m(["salePriceList",0,"defaultPrice"],e))}}),"\xa0",T.a.createElement(U.l,{type:"arrow-right",className:"ac-option-icon",size:"14"}))),o}}]),n}(T.a.Component),Qe=(U.k.Label,U.k.Item),Fe=Object(P.c)((function(e){return e}))(he=function(e){Object(I.a)(n,e);var t=Object(N.a)(n);function n(){return Object(L.a)(this,n),t.apply(this,arguments)}return Object(C.a)(n,[{key:"render",value:function(){var e=this.props,t=e.dispatch,n=e.history,a=e.homeState,i=e.inventoryConfState,r=a.getIn(["data","userInfo","sobInfo","moduleInfo"]).includes("WAREHOUSE"),c=a.getIn(["data","userInfo","sobInfo","moduleInfo"]).includes("SERIAL"),o=i.getIn(["views","usedQuantity"]),s=(i.getIn(["views","usedOpened"]),i.getIn(["views","insertOrModify"])),l=i.get("inventoryCardTemp"),u=i.get("unitList").toJS(),d=i.get("purchasePriceList"),m=i.get("salePriceList"),f=l.get("isOpenedQuantity"),p=l.get("assemblySheet"),g=l.get("assemblyState"),y=l.get("unit"),h=l.getIn(["unit","fullName"]),v=l.get("financialInfo"),b=l.getIn(["financialInfo","openSerial"]);return T.a.createElement(U.h,{className:"inventory-config"},T.a.createElement(U.s,{flex:"1",className:"border-top"},T.a.createElement(U.k,null,T.a.createElement(Qe,{label:"\u6570\u91cf\u7ba1\u7406"},T.a.createElement("span",{className:"noTextSwitch"},T.a.createElement(U.w,{checked:f,onClick:function(){if(f){if(p.get("materialList").size)return void A.a.Confirm({message:"\u5173\u95ed\u6570\u91cf\u6838\u7b97\u540e\uff0c\u4e0d\u53ef\u4f7f\u7528\u7ec4\u88c5\u529f\u80fd\uff0c\u7ec4\u88c5\u5355\u8bbe\u7f6e\u5185\u5bb9\u5c06\u88ab\u6e05\u7a7a",title:"\u63d0\u793a",buttonLabels:["\u53d6\u6d88","\u786e\u5b9a"],onSuccess:function(e){1==e.buttonIndex&&(t(J.i("assemblyState","CLOSE")),t(J.i("assemblySheet",Object(k.fromJS)({unitUuid:"",unitName:"",quantity:"",materialList:[]}))),t(J.i("isOpenedQuantity",!1)),t(J.m(["inventoryCardTemp","financialInfo"],v.merge(Object(k.fromJS)({openSerial:!1,openAssist:!1,openBatch:!1})))),t(J.s(r?"OPENTREE":"OPENLIST")))},onFail:function(e){}});t(J.m(["inventoryCardTemp","financialInfo"],v.merge(Object(k.fromJS)({openSerial:!1,openAssist:!1,openBatch:!1}))))}t(J.i("isOpenedQuantity",!f)),t(J.s(r?"OPENTREE":"OPENLIST")),f||0!=u.length||t(J.G())}}))),T.a.createElement(Qe,{label:"\u8ba1\u91cf\u5355\u4f4d",showAsterisk:!0,className:"unit",style:{display:f?"":"none"}},T.a.createElement("div",{className:"unit-add",onClick:function(){"modify"==s&&o?n.push("/config/inventory/unitModify"):n.push("/config/inventory/unit")}},T.a.createElement("span",null,"modify"==s&&o?"\u4fee\u6539":"\u65b0\u589e")),T.a.createElement("div",{className:"unit-select"},T.a.createElement(U.u,{district:u,disabled:!("modify"!=s||!o),onOk:function(e){t(J.i("unit",Object(k.fromJS)(e))),t(J.m("purchasePriceList",Object(k.fromJS)([{unitUuid:e.uuid,name:e.name,defaultPrice:"",type:"1"}]),!0)),t(J.m("salePriceList",Object(k.fromJS)([{unitUuid:e.uuid,name:e.name,defaultPrice:"",type:"2"}]),!0)),"insert"==s&&"OPEN"==g&&t(J.i("assemblySheet",Object(k.fromJS)({unitUuid:e.uuid,unitName:e.name,quantity:p.get("quantity"),materialList:p.get("materialList")})))}},T.a.createElement(U.r,{className:h?"config-form-item-select-item":"config-form-item-select-item config-form-item-select-item-holder"},h||"\u8bf7\u9009\u62e9")),"\xa0",T.a.createElement(U.l,{type:"arrow-right",size:"14"}))),T.a.createElement(Qe,{label:"\u542f\u7528\u5e8f\u5217\u53f7",className:"margin-top margin-bottom",style:{display:c&&f?"":"none"}},T.a.createElement("span",{className:"noTextSwitch"},T.a.createElement(U.w,{checked:b,onClick:function(){t(J.m(["inventoryCardTemp","financialInfo","openSerial"],!b)),t(J.s(r?"OPENTREE":"OPENLIST"))}}))),f?T.a.createElement(Re,{unit:y,purchasePriceList:d,salePriceList:m,dispatch:t}):null)),T.a.createElement(U.d,null,T.a.createElement(U.c,{onClick:function(){return n.goBack()}},T.a.createElement(U.l,{type:"confirm"}),T.a.createElement("span",null,"\u786e\u5b9a"))))}}]),n}(T.a.Component))||he,_e=n(102),ze=Object(P.c)((function(e){return e}))(ve=function(e){Object(I.a)(n,e);var t=Object(N.a)(n);function n(){var e;Object(L.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={sortType:!0},e}return Object(C.a)(n,[{key:"componentDidMount",value:function(){A.a.setTitle({title:"\u5f55\u5165\u5e8f\u5217\u53f7"}),A.a.setRight({show:!1}),A.a.setIcon({showIcon:!1})}},{key:"render",value:function(){var e=this,t=this.props,n=t.dispatch,a=t.history,i=t.inventoryConfState,r=this.state.sortType,c=i.get("serial"),o=i.getIn(["serial","serialList"]),s=c.get("type"),l=c.get("idx"),u=[];return T.a.createElement(U.h,{className:"inventory-config border-top"},T.a.createElement("div",{className:"serial serial-title"},T.a.createElement("div",{className:"serial-left"},"\u5e8f\u53f7"),T.a.createElement("div",{className:"serial-right serial-title-right"},T.a.createElement("span",{onClick:function(){return"JR_ENTRY"==s&&o.size>100?A.a.Alert("\u5e8f\u5217\u53f7\u6570\u91cf\u4e0d\u53ef\u8d85\u8fc7100"):o.size>1e3?A.a.Alert("\u5e8f\u5217\u53f7\u6570\u91cf\u4e0d\u53ef\u8d85\u8fc71000"):void a.push("/config/inventory/serialBatch")}},"\u5e8f\u5217\u53f7 ",T.a.createElement(U.l,{type:"add-add"})),T.a.createElement("span",{className:"sort",onClick:function(){e.setState({sortType:!r}),n(J.m(["serial","serialList"],Object(k.fromJS)(o.toJS().sort((function(e,t){return e.serialNumber>t.serialNumber?r?-1:1:r?1:-1})))))}},r?"\u5347\u5e8f":"\u5012\u5e8f"," ",T.a.createElement(U.l,{type:"sort"})))),T.a.createElement(U.s,{flex:"1"},o.map((function(e,t){var a=e.get("serialNumber"),i=!1===e.get("canModify");return a||u.push("\u5e8f\u53f7".concat(t+1,"\u672a\u586b\u5199\u5e8f\u5217\u53f7")),T.a.createElement("div",{key:t,className:"serial"},T.a.createElement("div",{className:"serial-left",onClick:function(){i||n(J.m(["serial","serialList"],o.delete(t)))}},T.a.createElement(U.l,{type:"delete-plus",className:i?"gray":"red"}),t+1),T.a.createElement("div",{className:"serial-right"},T.a.createElement(U.E.BorderInputItem,{disabled:i,textAlign:"right",value:a,onChange:function(e){D.g.inputCheck("serial",e,(function(){n(J.m(["serial","serialList",t,"serialNumber"],e))}))}})))}))),T.a.createElement("div",{className:"serial-add-button",onClick:function(e){return e.stopPropagation(),"JR_ENTRY"==s&&o.size>100?A.a.Alert("\u5e8f\u5217\u53f7\u6570\u91cf\u4e0d\u53ef\u8d85\u8fc7100"):o.size>1e3?A.a.Alert("\u5e8f\u5217\u53f7\u6570\u91cf\u8d85\u8fc71000,\u4e0d\u53ef\u65b0\u589e"):void n(J.m(["serial","serialList"],o.push(Object(k.fromJS)({serialUuid:"",serialNumber:""}))))}},T.a.createElement(U.l,{type:"add-small"})),T.a.createElement(U.d,null,T.a.createElement(U.c,{onClick:function(){return a.goBack()}},T.a.createElement(U.l,{type:"cancel"}),T.a.createElement("span",null,"\u53d6\u6d88")),T.a.createElement(U.c,{onClick:function(){if("JR_ENTRY"==s&&o.size>100)return A.a.Alert("\u5e8f\u5217\u53f7\u6570\u91cf\u4e0d\u53ef\u8d85\u8fc7100");if(o.size>1e3)return A.a.Alert("\u5e8f\u5217\u53f7\u6570\u91cf\u4e0d\u53ef\u8d85\u8fc71000\u4e2a");if(u.length)return A.a.toast.info(u[0]);var e,t=[],i=0,r=Object(oe.a)(o);try{var d=function(){var n=e.value,a=n.get("serialNumber");if(t.includes(n.get("serialNumber"))){var r=o.findIndex((function(e){return e.get("serialNumber")==a}));return{v:A.a.Alert("\u5e8f\u53f7".concat(r+1,", ").concat(i+1,"\u7684\u5e8f\u5217\u53f7\u91cd\u590d"))}}t.push(a),i++};for(r.s();!(e=r.n()).done;){var m=d();if("object"===Object(_e.a)(m))return m.v}}catch(y){r.e(y)}finally{r.f()}var f=o.size;if("OPENLIST"==s&&(n(J.m(["inventoryCardTemp","openList",l,"serialList"],o)),n(J.m(["inventoryCardTemp","openList",l,"openedQuantity"],f)),a.goBack()),"OPENLIST_SERIAL"==s&&(n(J.m(["inventoryCardTemp","openList",l,"serialList"],o)),n(J.m(["inventoryCardTemp","openList",l,"openedQuantity"],f)),n(J.i("openedQuantity",f)),a.goBack()),"OPENTREE"==s){var p=c.get("openUuidList"),g=c.get("oldValue");n(J.p("openedAssist",p.toJS(),{serialList:o.toJS()},"",l)),n(J.p("openedQuantity",p.toJS(),Object(D.l)(f-g,4),f,l)),a.goBack()}"JR_ENTRY"==s&&(c.get("afterAdd")(o),a.goBack())}},T.a.createElement(U.l,{type:"save"}),T.a.createElement("span",null,"\u4fdd\u5b58")),T.a.createElement(U.c,{onClick:function(){A.a.Confirm({message:"\u786e\u8ba4\u6e05\u7a7a\u5f53\u524d\u5e8f\u5217\u53f7\u5417\uff1f",title:"\u63d0\u793a",buttonLabels:["\u53d6\u6d88","\u786e\u5b9a"],onSuccess:function(e){1==e.buttonIndex&&n(J.m(["serial","serialList"],Object(k.fromJS)([])))},onFail:function(e){}})}},T.a.createElement(U.l,{type:"clear"}),T.a.createElement("span",null,"\u6e05\u7a7a"))))}}]),n}(T.a.Component))||ve,He=(n(1874),U.k.Item),Ge=(U.k.Label,Object(P.c)((function(e){return e}))(be=function(e){Object(I.a)(n,e);var t=Object(N.a)(n);function n(){var e;Object(L.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={left:"",idx:"",step:"",number:""},e}return Object(C.a)(n,[{key:"componentDidMount",value:function(){A.a.setTitle({title:"\u6279\u91cf\u6dfb\u52a0\u5e8f\u5217\u53f7"}),A.a.setRight({show:!1}),A.a.setIcon({showIcon:!1})}},{key:"render",value:function(){var e=this,t=this.props,n=t.dispatch,a=t.history,i=t.inventoryConfState,r=this.state,c=r.left,o=r.idx,s=r.step,l=r.number,u=i.get("serial"),d=i.getIn(["serial","serialList"]),m=(u.get("type"),function(t){if(s<1)return A.a.Alert("\u8bf7\u8f93\u5165\u9012\u589e\u91cf");if(l<1)return A.a.Alert("\u8bf7\u8f93\u5165\u4e2a\u6570");if(l>1e3)return A.a.Alert("\u4e2a\u6570\u4e0d\u53ef\u5927\u4e8e1000");if("".concat(c).concat(Number(o)+l*Number(s)).length>20)return A.a.Alert("\u5e8f\u5217\u53f7\u7684\u4f4d\u6570\u4e0d\u53ef\u8d85\u8fc720\u4f4d");for(var i=String(Number(o)+l*Number(s)).length,r=[],u=0;u<l;u++){var m=String(Number(o)+u*Number(s));r.push({serialNumber:"".concat(c).concat(m.padStart(i,"0")),serialUuid:""})}n(J.m(["serial","serialList"],d.concat(Object(k.fromJS)(r)))),t?e.setState({left:"",idx:"",step:"",number:""}):a.goBack()});return T.a.createElement(U.h,{className:"inventory-config"},T.a.createElement(U.s,{flex:"1",className:"border-top"},T.a.createElement(U.k,null,T.a.createElement(He,{label:"\u524d\u7f00",className:"config-form-item-input-style"},T.a.createElement(U.E,{placeholder:"\u8bf7\u8f93\u5165\u524d\u7f00",value:c,onChange:function(t){/^[^\u4e00-\u9fa5]{0,20}$/g.test(t)&&e.setState({left:t})}})),T.a.createElement(He,{label:"\u8d77\u59cb\u53f7",showAsterisk:!0,className:"config-form-item-input-style"},T.a.createElement(U.E,{placeholder:"\u8bf7\u8f93\u5165\u8d77\u59cb\u53f7",value:o,onChange:function(t){/^[0-9]*$/g.test(t)&&e.setState({idx:t})}})),T.a.createElement(He,{label:"\u9012\u589e\u91cf",showAsterisk:!0,className:"config-form-item-input-style"},T.a.createElement(U.E,{placeholder:"\u8bf7\u8f93\u5165\u9012\u589e\u91cf",value:s,onChange:function(t){/^[0-9]*$/g.test(t)&&e.setState({step:t})}})),T.a.createElement(He,{label:"\u4e2a\u6570",showAsterisk:!0,className:"config-form-item-input-style"},T.a.createElement(U.E,{placeholder:"\u652f\u6301\u6570\u5b57",value:l,onChange:function(t){/^[0-9]*$/g.test(t)&&e.setState({number:t})}})))),T.a.createElement(U.d,null,T.a.createElement(U.c,{onClick:function(){return a.goBack()}},T.a.createElement(U.l,{type:"cancel"}),T.a.createElement("span",null,"\u53d6\u6d88")),T.a.createElement(U.c,{onClick:function(){m()}},T.a.createElement(U.l,{type:"save"}),T.a.createElement("span",null,"\u6dfb\u52a0")),T.a.createElement(U.c,{onClick:function(){return m(!0)}},T.a.createElement(U.l,{type:"new"}),T.a.createElement("span",null,"\u6dfb\u52a0\u5e76\u7ee7\u7eed"))))}}]),n}(T.a.Component))||be),Ve=function(e){Object(I.a)(n,e);var t=Object(N.a)(n);function n(){return Object(L.a)(this,n),t.apply(this,arguments)}return Object(C.a)(n,[{key:"render",value:function(){return T.a.createElement(U.h,{className:"inventory-config"},T.a.createElement(w.a,{path:"/config/inventory/index",component:B}),T.a.createElement(w.a,{path:"/config/inventory/inventoryInsert",component:q}),T.a.createElement(w.a,{path:"/config/inventory/inventoryHighType",component:K}),T.a.createElement(w.a,{path:"/config/inventory/inventoryType",component:Z}),T.a.createElement(w.a,{path:"/config/inventory/inventoryTypeInsert",component:ee}),T.a.createElement(w.a,{path:"/config/inventory/inventoryOpened",component:re}),T.a.createElement(w.a,{path:"/config/inventory/quantityOnly",component:ce}),T.a.createElement(w.a,{path:"/config/inventory/unit",component:Oe}),T.a.createElement(w.a,{path:"/config/inventory/unitModify",component:Ne}),T.a.createElement(w.a,{path:"/config/inventory/assembly",component:Ie}),T.a.createElement(w.a,{path:"/config/inventory/assist",component:Te}),T.a.createElement(w.a,{path:"/config/inventory/assistClass",component:Ue}),T.a.createElement(w.a,{path:"/config/inventory/batch",component:Pe}),T.a.createElement(w.a,{path:"/config/inventory/batchSet",component:xe}),T.a.createElement(w.a,{path:"/config/inventory/batchList",component:De}),T.a.createElement(w.a,{path:"/config/inventory/quantity",component:Fe}),T.a.createElement(w.a,{path:"/config/inventory/serial",component:ze}),T.a.createElement(w.a,{path:"/config/inventory/serialBatch",component:Ge}))}}]),n}(T.a.Component),Ye={inventoryConfState:n(1226).a}}}]);