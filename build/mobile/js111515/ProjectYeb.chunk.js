(this.webpackJsonpfannix=this.webpackJsonpfannix||[]).push([[97],{1039:function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return d}));var n=a(4),c=a(1),r=a(57),i=a(14),o=a(12),u=a(2),s=Object(c.fromJS)({data:{categoryType:""},preData:{preAmount:0,receiveAmount:0},cxlsData:{selectedIndex:"0",idx:0},lsmxbData:{selectedIndex:"0",idx:0},zhmxbData:{selectedIndex:"0",idx:0},wlmxbData:{selectedIndex:"0",idx:0}});function l(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return((e={},Object(n.a)(e,m.GET_YLLS_SINGLE_ACCOUNT,(function(){var e=sessionStorage.getItem("ylPage");return t.set("data",Object(c.fromJS)(a.receivedData)).setIn(["".concat(e,"Data"),"selectedIndex"],a.selectedIndex).setIn(["".concat(e,"Data"),"idx"],a.idx)})),Object(n.a)(e,m.GET_YLLS_PREAMOUNT,(function(){return t.setIn(["preData","preAmount"],a.data.preAmount).setIn(["preData","receiveAmount"],a.data.amount)})),Object(n.a)(e,m.GET_YLLS_UNTREATEDAMOUNT,(function(){var e=0,n=0;return({accumulationAmount:function(){e=a.receivedData[a.amountType]+t.getIn(["data","acPayment","personAccumulationAmount"]),t=t.setIn(["data","accumulationAmount"],e)},socialSecurityAmount:function(){n=a.receivedData[a.amountType]+t.getIn(["data","acPayment","personSocialSecurityAmount"]),t=t.setIn(["data","socialSecurityAmount"],n)}}[a.amountType]||function(){return null})(),t})),e)[a.type]||function(){return t})()}var d={getYllsSingleAccount:function(e,t,a,n,c){return function(i){u.a.toast.loading("\u52a0\u8f7d\u4e2d...",0),Object(r.a)("getRunningBusiness","GET","uuid=".concat(a),(function(a){u.a.toast.hide(),Object(o.u)(a)&&(i({type:m.GET_YLLS_SINGLE_ACCOUNT,receivedData:a.data.result,selectedIndex:t,idx:n}),c&&e.push("/ylls"))}))}},getXczcAccumulationAmount:function(){return function(e,t){var a=t().yllsState,n=a.getIn(["data","categoryUuid"]),c=a.getIn(["data","runningDate"]);u.a.toast.loading(i.p,0),Object(r.a)("getPaymentInfo","POST",JSON.stringify({categoryUuid:n,runningDate:c,acType:"AC_GJJ",accumulationAcId:"",accumulationAssId1:"",accumulationCategory1:"",accumulationAssId2:"",accumulationCategory2:""}),(function(t){u.a.toast.hide(),Object(o.u)(t)&&e({type:m.GET_YLLS_UNTREATEDAMOUNT,receivedData:t.data.result,amountType:"accumulationAmount"})}))}},getXczcSocialSecurityAmount:function(){return function(e,t){var a=t().yllsState,n=a.getIn(["data","categoryUuid"]),c=a.getIn(["data","runningDate"]);Object(r.a)("getPaymentInfo","POST",JSON.stringify({categoryUuid:n,runningDate:c,acType:"AC_SB",socialSecurityAcId:"",socialSecurityAssId1:"",socialSecurityCategory1:"",socialSecurityAssId2:"",socialSecurityCategory2:""}),(function(t){Object(o.u)(t)&&e({type:m.GET_YLLS_UNTREATEDAMOUNT,receivedData:t.data.result,amountType:"socialSecurityAmount"})}))}}},m={GET_YLLS_SINGLE_ACCOUNT:"GET_YLLS_SINGLE_ACCOUNT",GET_YLLS_PREAMOUNT:"GET_YLLS_PREAMOUNT",GET_YLLS_UNTREATEDAMOUNT:"GET_YLLS_UNTREATEDAMOUNT"}},1842:function(e,t,a){},938:function(e,t,a){"use strict";a.r(t),a.d(t,"reducer",(function(){return Y})),a.d(t,"view",(function(){return B}));a(115),a(33),a(31),a(56),a(29),a(82);var n,c,r,i,o,u=a(7),s=a(8),l=a(9),d=a(10),m=a(0),g=a.n(m),y=a(47),p=a(1),b=(a(1842),a(2)),f=a(14),E=a(11),C=a(542),h=a(26),j=(a(32),a(24)),v=(a(1039),a(1130),a(1145)),T=a(78),O=a(12),_=a(130),I=function(e,t,a,n){return function(c){Object(T.a)("getProjectYeb".concat(a,"Category"),"POST",JSON.stringify({begin:e||"",end:t||"",categoryUuid:"\u5168\u90e8"===n.get("name")?"":n.get("top")?n.get("uuid"):"",cardCategoryUuid:"\u5168\u90e8"===n.get("name")||n.get("top")?"":n.get("uuid")}),(function(e){Object(O.u)(e)&&c("Income"===a?{type:"GET_PROJECT_YEB_CATEGORY_FETCH",categoryList:e.data.cardCategory,jrCategory:e.data.jrCategory}:{type:"GET_PROJECT_YEB_TYPE_CATEGORY_FETCH",categoryList:e.data.cardCategory,jrType:e.data.jrType})}))}},N=function(e,t){return{type:"PROJECT_BALANCE_TRIANGLE_SWITCH",showChild:e,uuid:t}},S=function(e,t,a,n){return function(c,r){if(!e)return v.b.info("\u8d26\u671f\u5f02\u5e38\uff0c\u8bf7\u5237\u65b0\u518d\u8bd5",2);b.a.toast.loading(f.p,0);var i=r().projectYebState.get("projectCategory");Object(T.a)("getProjectYebIncomeCategory","POST",JSON.stringify({begin:e||"",end:t||"",categoryUuid:"\u5168\u90e8"===a.get("name")?"":a.get("top")?a.get("uuid"):"",cardCategoryUuid:"\u5168\u90e8"===a.get("name")||a.get("top")?"":a.get("uuid")}),(function(r){if(Object(O.u)(r)){c({type:"GET_PROJECT_YEB_CATEGORY_FETCH",categoryList:r.data.cardCategory,jrCategory:r.data.jrCategory});var o=a,u=!1,s=r.data.cardCategory?r.data.cardCategory:i.toJS();if(0==s.length)o=Object(p.fromJS)({uuid:"",name:"\u5168\u90e8",value:"\u5168\u90e8",top:!1});else if(s.length>0){!function e(t){return t.map((function(t,a){o.get("uuid")===t.uuid&&(u=!0),t.childList&&t.childList.length&&e(t.childList)}))}(s)}u||(o=Object(p.fromJS)({uuid:"",name:"\u5168\u90e8",value:"\u5168\u90e8",top:!1}));var l=n,d=!1;if(0==r.data.jrCategory.length)l=Object(p.fromJS)({jrCategoryUuid:"",jrCategoryName:"\u5168\u90e8\u6d41\u6c34\u7c7b\u522b",value:"\u5168\u90e8\u6d41\u6c34\u7c7b\u522b",direction:"double_credit"});else if(r.data.jrCategory.length>0){!function e(t){return t.map((function(t,a){l.get("jrCategoryUuid")===t.jrCategoryUuid&&(d=!0),t.childList&&t.childList.length&&e(t.childList)}))}(r.data.jrCategory)}d||(l=Object(p.fromJS)({jrCategoryUuid:"",jrCategoryName:"\u5168\u90e8\u6d41\u6c34\u7c7b\u522b",value:"\u5168\u90e8\u6d41\u6c34\u7c7b\u522b",direction:"double_credit"})),Object(T.a)("getProjectYebReport","POST",JSON.stringify({begin:e||"",end:t||"",categoryUuid:"\u5168\u90e8"===o.get("name")?"":o.get("top")?o.get("uuid"):"",cardCategoryUuid:"\u5168\u90e8"===o.get("name")||o.get("top")?"":o.get("uuid"),jrCategoryUuid:"\u5168\u90e8\u6d41\u6c34\u7c7b\u522b"===l.get("name")?"":l.get("jrCategoryUuid"),jrJvTypeUuid:"",isType:!1}),(function(a){b.a.toast.hide(),Object(O.u)(a)&&c({type:"GET_PROJECT_YEB_BALANCE_LIST_FROM_SWITCH_PERIOD_OR_PROJECT",receivedData:a.data.result,issuedate:e,endissuedate:t,projectItem:o,runningItem:l,tableName:"Income"})}))}}))}},L=function(e,t,a,n){return function(c,r){if(!e)return v.b.info("\u8d26\u671f\u5f02\u5e38\uff0c\u8bf7\u5237\u65b0\u518d\u8bd5",2);b.a.toast.loading(f.p,0);var i=r().projectYebState.get("projectCategory");Object(T.a)("getProjectYebTypeCategory","POST",JSON.stringify({begin:e||"",end:t||"",categoryUuid:"\u5168\u90e8"===a.get("name")?"":a.get("top")?a.get("uuid"):"",cardCategoryUuid:"\u5168\u90e8"===a.get("name")||a.get("top")?"":a.get("uuid")}),(function(r){if(Object(O.u)(r)){c({type:"GET_PROJECT_YEB_TYPE_CATEGORY_FETCH",categoryList:r.data.cardCategory,jrType:r.data.jrType});var o=a,u=!1,s=r.data.cardCategory?r.data.cardCategory:i.toJS();if(0==s.length)o=Object(p.fromJS)({uuid:"",name:"\u5168\u90e8",value:"\u5168\u90e8",top:!1});else if(s.length>0){!function e(t){return t.map((function(t,a){o.get("uuid")===t.uuid&&(u=!0),t.childList&&t.childList.length&&e(t.childList)}))}(s)}u||(o=Object(p.fromJS)({uuid:"",name:"\u5168\u90e8",value:"\u5168\u90e8",top:!1}));var l=r.data.jrType,d=n,m=!1;if(0==l.length)d=Object(p.fromJS)({jrJvTypeUuid:"",typeName:"\u5168\u90e8\u7c7b\u578b",value:"\u5168\u90e8\u7c7b\u578b",direction:"double_credit"});else if(l.length>0){!function e(t){return t.map((function(t,a){d.get("jrJvTypeUuid")===t.jrJvTypeUuid&&(m=!0),t.childList&&t.childList.length&&e(t.childList)}))}(l)}m||(d=Object(p.fromJS)({jrJvTypeUuid:"",typeName:"\u5168\u90e8\u7c7b\u578b",value:"\u5168\u90e8\u7c7b\u578b",direction:"double_credit"})),Object(T.a)("getProjectYebReport","POST",JSON.stringify({begin:e||"",end:t||"",categoryUuid:"\u5168\u90e8"===o.get("name")?"":o.get("top")?o.get("uuid"):"",cardCategoryUuid:"\u5168\u90e8"===o.get("name")||o.get("top")?"":o.get("uuid"),jrCategoryUuid:"",jrJvTypeUuid:"\u5168\u90e8\u7c7b\u578b"===d.get("name")?"":d.get("jrJvTypeUuid"),isType:!0}),(function(a){b.a.toast.hide(),Object(O.u)(a)&&c({type:"GET_PROJECT_YEB_BALANCE_LIST_FROM_SWITCH_PERIOD_OR_PROJECT",receivedData:a.data.result,issuedate:e,endissuedate:t,projectItem:o,typeItem:d,tableName:"Type"})}))}}))}},J=function(e,t,a,n){return function(c){if(!e)return v.b.info("\u8d26\u671f\u5f02\u5e38\uff0c\u8bf7\u5237\u65b0\u518d\u8bd5",2);b.a.toast.loading(f.p,0),Object(T.a)("getProjectYebReport","POST",JSON.stringify({begin:e||"",end:t||"",categoryUuid:"\u5168\u90e8"===a.get("name")?"":a.get("top")?a.get("uuid"):"",cardCategoryUuid:"\u5168\u90e8"===a.get("name")||a.get("top")?"":a.get("uuid"),jrCategoryUuid:"\u5168\u90e8"===n.get("name")?"":n.get("jrCategoryUuid"),jrJvTypeUuid:"",isType:!1}),(function(r){b.a.toast.hide(),Object(O.u)(r)&&c({type:"GET_PROJECT_YEB_BALANCE_LIST_FROM_SWITCH_PERIOD_OR_PROJECT",receivedData:r.data.result,category:r.data.jrCategory,issuedate:e,endissuedate:t,projectItem:a,runningItem:n,tableName:"Income"})}))}},U=function(e,t,a,n){return function(c){if(!e)return v.b.info("\u8d26\u671f\u5f02\u5e38\uff0c\u8bf7\u5237\u65b0\u518d\u8bd5",2);b.a.toast.loading(f.p,0),Object(T.a)("getProjectYebReport","POST",JSON.stringify({begin:e||"",end:t||"",categoryUuid:"\u5168\u90e8"===a.get("name")?"":a.get("top")?a.get("uuid"):"",cardCategoryUuid:"\u5168\u90e8"===a.get("name")||a.get("top")?"":a.get("uuid"),jrJvTypeUuid:"\u5168\u90e8"===n.get("name")?"":n.get("jrJvTypeUuid"),isType:!0}),(function(r){b.a.toast.hide(),Object(O.u)(r)&&c({type:"GET_PROJECT_YEB_BALANCE_LIST_FROM_SWITCH_PERIOD_OR_PROJECT",receivedData:r.data.result,category:r.data.jrType,issuedate:e,endissuedate:t,projectItem:a,typeItem:n,tableName:"Type"})}))}},A=a(1320),P=Object(j.immutableRenderDecorator)(n=function(e){Object(d.a)(a,e);var t=Object(l.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props,t=e.item,a=e.style,n=e.dispatch,c=e.className,r=e.leve,i=e.haveChild,o=e.showChild,u=e.history,s=e.issuedate,l=e.endissuedate,d=e.currentRunningItem,m=e.currentProjectItem,y=e.chooseValue,b={background:{1:"#fff",2:"#D1C0A5",3:"#7E6B5A",4:"#59493f"}[r],minWidth:(r-1)/100*10+"rem"};return g.a.createElement("div",{className:"ba "+c,style:a},g.a.createElement("div",null,g.a.createElement("span",{className:"name"},1==r?"":g.a.createElement("span",{className:"ba-flag",style:b}),g.a.createElement("span",{className:"name-name name-click",onClick:function(e){if(sessionStorage.setItem("fromPage","projectyeb"),i){var a=[];!function e(t){return t.map((function(t){t.get("childList")&&t.get("childList").size?e(t.get("childList")):a.push(t.get("cardUuid"))}))}([t]);var c={uuid:a.length?a:"",code:"",name:"\u5168\u90e8"},r={uuid:t.get("cardCategory"),name:t.get("name"),value:"".concat(t.get("cardCategory")).concat(f.B).concat(!!t.isTop&&t.isTop)};n(A.i(s,l,Object(p.fromJS)(c),d,Object(p.fromJS)(r),u)),n(A.a(y))}else{var o={uuid:t.get("cardUuid"),code:t.get("cardCode"),name:t.get("name")};n(A.i(s,l,Object(p.fromJS)(o),d,m,u)),n(A.a(y))}}},t.get("name"))),g.a.createElement("span",{className:"btn",onClick:function(){return n(N(o,t.get("cardCategory")))}},g.a.createElement(E.l,{type:"arrow-down",style:{visibility:i?"visible":"hidden",transform:o?"rotate(180deg)":""}}))),g.a.createElement("div",{className:"double-ba-info"},g.a.createElement("span",{className:"double-item-list"},g.a.createElement(E.a,{showZero:!1,style:{color:"#4166b8"}},t.get("openDebit")),g.a.createElement(E.a,{showZero:0===t.get("openDebit")&&0===t.get("openCredit"),style:{color:"#ff8348"}},t.get("openCredit"))),g.a.createElement("span",{className:"double-item-list"},g.a.createElement(E.a,{showZero:!0,style:{color:"#4166b8"}},t.get("currentDebit")),g.a.createElement(E.a,{showZero:!0,style:{color:"#ff8348"}},t.get("currentCredit"))),g.a.createElement("span",{className:"double-item-list"},g.a.createElement(E.a,{showZero:!0,style:{color:"#4166b8"}},t.get("currentRealDebit")),g.a.createElement(E.a,{showZero:!0,style:{color:"#ff8348"}},t.get("currentRealCredit"))),g.a.createElement("span",{className:"double-item-list"},g.a.createElement(E.a,{showZero:!1,style:{color:"#4166b8"}},t.get("closeDebit")),g.a.createElement(E.a,{showZero:0===t.get("closeDebit")&&0===t.get("closeCredit"),style:{color:"#ff8348"}},t.get("closeCredit")))))}}]),a}(g.a.Component))||n,R=(a(1082),Object(j.immutableRenderDecorator)(c=function(e){Object(d.a)(a,e);var t=Object(l.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props,t=e.item,a=e.style,n=e.dispatch,c=e.className,r=e.leve,i=e.haveChild,o=e.showChild,u=e.history,s=e.issuedate,l=e.endissuedate,d=(e.categoryTop,e.categoryUuid,e.ylDataList,e.direction),m=e.currentJrTypeItem,y=e.currentProjectItem,b=e.chooseValue,C={background:{1:"#fff",2:"#D1C0A5",3:"#7E6B5A",4:"#59493f"}[r],width:(r-1)/100*10+"rem"};return g.a.createElement("div",{className:"ba "+c,style:a},g.a.createElement("div",null,g.a.createElement("span",{className:"name",onClick:function(e){sessionStorage.setItem("fromPage","projectyeb");t.get("cardUuid"),t.get("cardCode"),t.get("name");if(i){var a=[];!function e(t){return t.map((function(t){t.get("childList")&&t.get("childList").size?e(t.get("childList")):a.push(t.get("cardUuid"))}))}([t]);var c={uuid:a.length?a:"",code:"",name:"\u5168\u90e8"},r={uuid:t.get("cardCategory"),name:t.get("name"),value:"".concat(t.get("cardCategory")).concat(f.B).concat(!!t.isTop&&t.isTop)};n(A.n(s,l,Object(p.fromJS)(c),m,Object(p.fromJS)(r),u)),n(A.a(b))}else{var o={uuid:t.get("cardUuid"),code:t.get("cardCode"),name:t.get("name")};n(A.n(s,l,Object(p.fromJS)(o),m,y,u)),n(A.a(b))}}},1==r?"":g.a.createElement("span",{className:"ba-flag",style:C}),g.a.createElement("span",{className:"name-name name-click"},t.get("name"))),g.a.createElement("span",{className:"btn",onClick:function(){return n(N(o,t.get("cardCategory")))}},g.a.createElement(E.l,{type:"arrow-down",style:{visibility:i?"visible":"hidden",transform:o?"rotate(180deg)":""}}))),g.a.createElement("div",{className:"ba-info"},g.a.createElement(E.a,{showZero:!0},"debit"===d?0===t.get("openDebit")?-t.get("openCredit"):t.get("openDebit"):0===t.get("openCredit")?-t.get("openDebit"):t.get("openCredit")),g.a.createElement(E.a,{showZero:!0},t.get("currentDebit")),g.a.createElement(E.a,{showZero:!0},t.get("currentCredit")),g.a.createElement(E.a,{showZero:!0},"debit"===d?0===t.get("closeDebit")?-t.get("closeCredit"):t.get("closeDebit"):0===t.get("closeCredit")?-t.get("closeDebit"):t.get("closeCredit"))))}}]),a}(g.a.Component))||c),B=Object(y.c)((function(e){return e}))((o=i=function(e){Object(d.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={showModal:!1},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){if(b.a.setTitle({title:"\u9879\u76ee\u4f59\u989d\u8868"}),b.a.setIcon({showIcon:!1}),"home"===sessionStorage.getItem("prevPage")){var e=Object(p.fromJS)({uuid:"",name:"\u5168\u90e8",value:"".concat(f.B,"true"),top:!0});sessionStorage.removeItem("prevPage"),this.props.dispatch({type:"INIT_PROJECT_YEB"}),this.props.dispatch(function(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(a){b.a.toast.loading(f.p,0),Object(T.a)("getProjectYebReport","POST",JSON.stringify({begin:e||"",end:t||"",categoryUuid:"",cardCategoryUuid:"",jrCategoryUuid:"",needPeriod:"true",isType:!1}),(function(n){if(b.a.toast.hide(),Object(O.u)(n)){var c=a(_.j(n)),r=n.data.periodDtoJson?a(_.d(n.data.periodDtoJson)):[];a({type:"GET_PERIOD_AND_PROJECT_YEB_BALANCE_LIST",receivedData:n.data.result,issuedate:e||c,endissuedate:t||"",issues:r,needPeriod:"true",tableName:"Income"})}}))}}()),this.props.dispatch(I("","","Income",e))}}},{key:"render",value:function(){var e=this.props,t=(e.allState,e.dispatch),a=e.projectYebState,n=e.history,c=(this.state.showModal,a.getIn(["views","issuedate"])),r=a.getIn(["views","endissuedate"]),i=a.getIn(["views","bussinessShowChild"]),o=a.get("issues"),u=o.findIndex((function(e){return e.get("value")===c})),s=o.slice(0,u),l=a.getIn(["views","currentProjectItem"]),d=a.getIn(["views","currentRunningItem"]),m=a.getIn(["views","currentJrTypeItem"]),y=a.getIn(["views","tableName"]),b=a.getIn(["views","chooseValue"]),j=a.get("projectCategory"),v=a.get("runningCategory"),T=a.get("typeCategory"),O=a.getIn(["balanceReport","childList"]),N=c,A=r||N,B="\u5168\u90e8"===l.get("name")?"":l.get("top")?l.get("uuid"):"",w="\u5168\u90e8"===l.get("name")||l.get("top")?"":l.get("uuid");return t("Income"===y?_.i("config","",(function(){return function(e){return e(_.a("sendProjectIncomeExcelbalance",{begin:N,end:A,categoryUuid:B,cardCategoryUuid:w,jrCategoryUuid:d.get("jrCategoryUuid")}))}})):_.i("config","",(function(){return function(e){return e(_.a("sendProjectExcelDetail",{begin:N,end:A,isType:!0,categoryUuid:B,cardCategoryUuid:w,jrCategoryUuid:"",jrJvTypeUuid:m.get("jrJvTypeUuid")}))}}))),g.a.createElement(E.h,{className:"project-yeb"},g.a.createElement(C.b,{start:c,issues:o,end:r,nextperiods:s,chooseValue:b,onBeginOk:function(e){t("Income"===y?S(e,"",l,d):L(e,"",l,m))},onEndOk:function(e,a){t("Income"===y?S(e,a,l,d):L(e,a,l,m))},changeChooseValue:function(e){return t(function(e){return{type:"CHANGE_PROJECT_YEB_CHOOSE_VALUE",value:e}}(e))}}),g.a.createElement("div",{className:"project-yeb-select"},g.a.createElement("div",{className:"select-change-table",onClick:function(){t(function(e,t,a){return function(n,c){var r=c().projectYebState.getIn(["views","currentProjectItem"]);"Income"===a?(n(I(e,t,"Type",r)),n(U(e,t,r,Object(p.fromJS)({jrJvTypeUuid:"",typeName:"\u5168\u90e8\u7c7b\u578b",value:"\u5168\u90e8\u7c7b\u578b",direction:"double_credit"}))),n({type:"CHANGE_PROJECT_YEB_TABLE",value:"Type"})):(n(I(e,t,"Income",r)),n(J(e,t,r,Object(p.fromJS)({jrCategoryUuid:"",jrCategoryName:"\u5168\u90e8\u6d41\u6c34\u7c7b\u522b",value:"\u5168\u90e8\u6d41\u6c34\u7c7b\u522b",direction:"double_credit"}))),n({type:"CHANGE_PROJECT_YEB_TABLE",value:"Income"}))}}(c,r,y))}},g.a.createElement("span",null,"Income"===y?"\u6536\u652f":"\u7c7b\u578b"),g.a.createElement(h.a,{type:"type-change"})),g.a.createElement("div",{className:"select-project-category"},g.a.createElement(E.f,{parentDisabled:!1,district:j.toJS(),value:l.get("value"),onChange:function(e){var a=e.key.split(f.B),n={uuid:a[0],name:e.label,top:"true"===a[1],value:e.key};t("Income"===y?J(c,r,Object(p.fromJS)(n),d):U(c,r,Object(p.fromJS)(n),m)),t(I(c,r,y,Object(p.fromJS)(n)))}},g.a.createElement(E.r,null,g.a.createElement("span",{style:{color:"\u8bf7\u9009\u62e9\u9879\u76ee"==l.get("name")?"#ccc":""}},l.get("name")),g.a.createElement(E.l,{type:"triangle"})))),g.a.createElement("div",{className:"select-running-category"},g.a.createElement("div",{className:"select-category-box"},"Income"===y?g.a.createElement(E.f,{district:v.toJS(),value:d.get("value"),parentDisabled:!1,onChange:function(e){var a=e.key.split(f.B),n={jrCategoryUuid:a[0],jrCategoryName:a[1],direction:a[2],value:e.key};t(J(c,r,l,Object(p.fromJS)(n)))}},g.a.createElement(E.r,null,g.a.createElement("span",{style:{color:"\u8bf7\u9009\u62e9\u7c7b\u522b"==d.get("jrCategoryName")?"#ccc":""}},d.get("jrCategoryName")),g.a.createElement(E.l,{type:"triangle"}))):g.a.createElement(E.f,{district:T.toJS(),value:m.get("value"),parentDisabled:!1,onChange:function(e){var a=e.key.split(f.B),n={jrJvTypeUuid:a[0],typeName:a[1],direction:a[2],mergeName:a[3],value:e.key};t(U(c,r,l,Object(p.fromJS)(n)))}},g.a.createElement(E.r,null,g.a.createElement("span",{style:{color:"\u8bf7\u9009\u62e9\u7c7b\u522b"==d.get("typeName")?"#ccc":""}},m.get("typeName")),g.a.createElement(E.l,{type:"triangle"})))))),"Income"===y?g.a.createElement(E.r,{className:"ba-title-double"},g.a.createElement("div",{className:"ba-title-item"},g.a.createElement("span",{className:"item-item"},"\u671f\u521d\u5e94\u6536"),g.a.createElement("span",{className:"item-item"},"\u671f\u521d\u5e94\u4ed8")),g.a.createElement("div",{className:"ba-title-item"},g.a.createElement("span",{className:"item-item"},"\u672c\u671f\u6536\u5165"),g.a.createElement("span",{className:"item-item"},"\u672c\u671f\u652f\u51fa")),g.a.createElement("div",{className:"ba-title-item"},g.a.createElement("span",{className:"item-item"},"\u672c\u671f\u5b9e\u6536"),g.a.createElement("span",{className:"item-item"},"\u672c\u671f\u5b9e\u4ed8")),g.a.createElement("div",{className:"ba-title-item"},g.a.createElement("span",{className:"item-item"},"\u671f\u672b\u5e94\u6536"),g.a.createElement("span",{className:"item-item"},"\u671f\u672b\u5e94\u4ed8"))):g.a.createElement(E.r,{className:"item-title-list"},g.a.createElement("div",{className:"title-item"},"\u671f\u521d\u4f59\u989d"),g.a.createElement("div",{className:"title-item"},"\u672c\u671f\u501f\u65b9"),g.a.createElement("div",{className:"title-item"},"\u672c\u671f\u8d37\u65b9"),g.a.createElement("div",{className:"title-item"},"\u671f\u672b\u4f59\u989d")),g.a.createElement(E.s,{flex:"1",uniqueKey:"projectyeb-scroll",className:"scroll-item",savePosition:!0},"Income"===y?function e(a,o){return a.map((function(a,u){var s=i.indexOf(a.get("cardCategory"))>-1,m=o>1?"#F8F8F8":"#fff";return a.get("childList").size?g.a.createElement("div",{key:u},g.a.createElement(P,{leve:o,className:"balance-running-tabel-width",style:{backgroundColor:m},item:a,haveChild:!0,showChild:s,history:n,dispatch:t,issuedate:c,endissuedate:r,currentRunningItem:d,currentProjectItem:l,chooseValue:b}),s?e(a.get("childList"),o+1):""):g.a.createElement("div",{key:u},g.a.createElement(P,{leve:o,className:"balance-running-tabel-width",item:a,style:{backgroundColor:m},history:n,dispatch:t,issuedate:c,endissuedate:r,currentRunningItem:d,currentProjectItem:l,chooseValue:b}))}))}(O,1):function e(a,o){return a.map((function(a,u){var s=i.indexOf(a.get("cardCategory"))>-1,d=o>1?"#f8f8f8":"#fff";if(a.get("childList").size){return g.a.createElement("div",{key:u},g.a.createElement(R,{leve:o,className:"balance-running-tabel-width",style:{backgroundColor:d},item:a,haveChild:!0,showChild:s,history:n,dispatch:t,issuedate:c,endissuedate:r,direction:m.get("direction"),currentJrTypeItem:m,currentProjectItem:l,chooseValue:b}),s?e(a.get("childList"),o+1):"")}return g.a.createElement("div",{key:u},g.a.createElement(R,{leve:o,className:"balance-running-tabel-width",item:a,style:{backgroundColor:d},history:n,dispatch:t,issuedate:c,endissuedate:r,direction:m.get("direction"),currentJrTypeItem:m,currentProjectItem:l,chooseValue:b}))}))}(O,1)))}}]),a}(g.a.Component),i.displayName="ProjectYeb",r=o))||r,w=(a(131),a(70),a(4)),D=Object(p.fromJS)({views:{issuedate:"",endissuedate:"",bussinessShowChild:[],tableName:"Income",currentProjectItem:{uuid:"",name:"\u5168\u90e8",value:"".concat(f.B,"true"),top:!1},currentRunningItem:{jrCategoryUuid:"",jrCategoryName:"\u5168\u90e8\u6d41\u6c34\u7c7b\u522b",value:"\u5168\u90e8\u6d41\u6c34\u7c7b\u522b",direction:"double_credit"},currentJrTypeItem:{jrJvTypeUuid:"",typeName:"\u5168\u90e8\u7c7b\u578b",value:"\u5168\u90e8\u7c7b\u578b",direction:"double_credit"},chooseValue:"ISSUE"},projectCategory:[{label:"\u5168\u90e8",key:"-:-",childList:[]}],runningCategory:[{label:"\u5168\u90e8\u6d41\u6c34\u7c7b\u522b",key:"-:-",childList:[]}],typeCategory:[{label:"\u5168\u90e8\u7c7b\u578b",key:"-:-",childList:[]}],issues:[],balanceReport:{childList:[]}});var Y={projectYebState:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,a=arguments.length>1?arguments[1]:void 0;return((e={},Object(w.a)(e,"INIT_PROJECT_YEB",(function(){return D})),Object(w.a)(e,"GET_PERIOD_AND_PROJECT_YEB_BALANCE_LIST",(function(){"true"===a.needPeriod&&(t=t.set("issues",Object(p.fromJS)(a.issues)));var e={uuid:"",name:"\u5168\u90e8",value:"".concat(f.B,"true"),top:!1};return t=t.setIn(["views","issuedate"],a.issuedate).setIn(["views","endissuedate"],a.endissuedate).set("balanceReport",Object(p.fromJS)(a.receivedData)).setIn(["views","currentProjectItem"],Object(p.fromJS)(e)).setIn(["views","currentRunningItem"],Object(p.fromJS)({jrCategoryUuid:"",jrCategoryName:"\u5168\u90e8\u6d41\u6c34\u7c7b\u522b",value:"\u5168\u90e8\u6d41\u6c34\u7c7b\u522b",direction:"double_credit"})).setIn(["views","currentJrTypeItem"],Object(p.fromJS)({jrJvTypeUuid:"",typeName:"\u5168\u90e8\u7c7b\u578b",value:"\u5168\u90e8\u7c7b\u578b",direction:"double_credit"})).setIn(["views","tableName"],a.tableName)})),Object(w.a)(e,"GET_PROJECT_YEB_CATEGORY_FETCH",(function(){var e=function e(t){return t&&t.map((function(t,a){return t.childList&&t.childList.length?{key:"".concat(t.uuid).concat(f.B).concat(!!t.top),label:t.name,childList:e(t.childList)}:{key:"".concat(t.uuid).concat(f.B).concat(!!t.top),label:t.name,childList:[]}}))}(a.categoryList),n=[{label:"\u5168\u90e8",key:"-:-",childList:[]}].concat(e),c=function e(t){return t.map((function(t,a){return t.childList&&t.childList.length?{key:"".concat(t.jrCategoryUuid).concat(f.B).concat(t.jrCategoryName).concat(f.B).concat(t.direction),label:t.jrCategoryName,childList:e(t.childList)}:{key:"".concat(t.jrCategoryUuid).concat(f.B).concat(t.jrCategoryName).concat(f.B).concat(t.direction),label:t.jrCategoryName,childList:[]}}))}(a.jrCategory),r=[{label:"\u5168\u90e8\u6d41\u6c34\u7c7b\u522b",key:"-:-\u5168\u90e8\u6d41\u6c34\u7c7b\u522b-:-double_credit",childList:[]}].concat(c);return a.categoryList&&(t=t.set("projectCategory",Object(p.fromJS)(n))),a.jrCategory&&(t=t.set("runningCategory",Object(p.fromJS)(r))),t})),Object(w.a)(e,"GET_PROJECT_YEB_TYPE_CATEGORY_FETCH",(function(){var e=function e(t){return t&&t.map((function(t,a){return t.childList&&t.childList.length?{key:"".concat(t.uuid).concat(f.B).concat(!!t.top),label:t.name,childList:e(t.childList)}:{key:"".concat(t.uuid).concat(f.B).concat(!!t.top),label:t.name,childList:[]}}))}(a.categoryList),n=[{label:"\u5168\u90e8",key:"-:-",childList:[]}].concat(e),c=function e(t){return t&&t.map((function(t,a){return t.childList&&t.childList.length?{key:"".concat(t.jrJvTypeUuid).concat(f.B).concat(t.typeName).concat(f.B).concat(t.direction).concat(f.B).concat(t.mergeName),label:t.typeName,childList:e(t.childList)}:{key:"".concat(t.jrJvTypeUuid).concat(f.B).concat(t.typeName).concat(f.B).concat(t.direction).concat(f.B).concat(t.mergeName),label:t.typeName,childList:[]}}))}(a.jrType),r=[{label:"\u5168\u90e8\u7c7b\u578b",key:"-:-\u5168\u90e8\u7c7b\u578b-:-double_credit-:-\u5168\u90e8\u7c7b\u578b",childList:[]}].concat(c);return a.categoryList&&(t=t.set("projectCategory",Object(p.fromJS)(n))),a.jrType&&(t=t.set("typeCategory",Object(p.fromJS)(r))),t})),Object(w.a)(e,"GET_PROJECT_YEB_BALANCE_LIST_FROM_SWITCH_PERIOD_OR_PROJECT",(function(){if("Income"===a.tableName){if(t=t.setIn(["views","currentRunningItem"],a.runningItem),a.category){var e=function e(t){return t.map((function(t,a){return t.childList&&t.childList.length?{key:"".concat(t.jrCategoryUuid).concat(f.B).concat(t.jrCategoryName).concat(f.B).concat(t.direction),label:t.jrCategoryName,childList:e(t.childList)}:{key:"".concat(t.jrCategoryUuid).concat(f.B).concat(t.jrCategoryName).concat(f.B).concat(t.direction),label:t.jrCategoryName,childList:[]}}))}(a.category),n=[{label:"\u5168\u90e8\u6d41\u6c34\u7c7b\u522b",key:"-:-\u5168\u90e8\u6d41\u6c34\u7c7b\u522b-:-double_credit",childList:[]}].concat(e);t=t.set("runningCategory",Object(p.fromJS)(n))}}else if(t=t.setIn(["views","currentJrTypeItem"],a.typeItem),a.category){var c=function e(t){return t.map((function(t,a){return t.childList&&t.childList.length?{key:"".concat(t.jrJvTypeUuid).concat(f.B).concat(t.typeName).concat(f.B).concat(t.direction).concat(f.B).concat(t.mergeName),label:t.typeName,childList:e(t.childList)}:{key:"".concat(t.jrJvTypeUuid).concat(f.B).concat(t.typeName).concat(f.B).concat(t.direction).concat(f.B).concat(t.mergeName),label:t.typeName,childList:[]}}))}(a.category),r=[{label:"\u5168\u90e8\u7c7b\u578b",key:"-:-\u5168\u90e8\u7c7b\u578b-:-double_credit",childList:[]}].concat(c);return t=t.set("typeCategory",Object(p.fromJS)(r))}return t=t.setIn(["views","issuedate"],a.issuedate).setIn(["views","endissuedate"],a.endissuedate).set("balanceReport",Object(p.fromJS)(a.receivedData)).setIn(["views","currentProjectItem"],a.projectItem).setIn(["views","bussinessShowChild"],Object(p.fromJS)([]))})),Object(w.a)(e,"CHANGE_PROJECT_YEB_TABLE",(function(){return t.setIn(["views","tableName"],a.value)})),Object(w.a)(e,"PROJECT_BALANCE_TRIANGLE_SWITCH",(function(){var e=t.getIn(["views","bussinessShowChild"]);if(a.showChild){var n=e.splice(e.findIndex((function(e){return e===a.uuid})),1);return t.setIn(["views","bussinessShowChild"],n)}var c=e.push(a.uuid);return t.setIn(["views","bussinessShowChild"],c)})),Object(w.a)(e,"CHANGE_PROJECT_YEB_CHOOSE_VALUE",(function(){return t=t.setIn(["views","chooseValue"],a.value)})),e)[a.type]||function(){return t})()},projectMxbState:a(1443).a}}}]);