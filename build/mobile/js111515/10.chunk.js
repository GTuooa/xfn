(this.webpackJsonpfannix=this.webpackJsonpfannix||[]).push([[10],{1079:function(e,t,n){var i=function(e){"use strict";var t=Object.prototype,n=t.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},r=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",o=i.toStringTag||"@@toStringTag";function u(e,t,n,i){var r=t&&t.prototype instanceof d?t:d,a=Object.create(r.prototype),o=new g(i||[]);return a._invoke=function(e,t,n){var i="suspendedStart";return function(r,a){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw a;return b()}for(n.method=r,n.arg=a;;){var o=n.delegate;if(o){var u=I(o,n);if(u){if(u===s)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var d=c(e,t,n);if("normal"===d.type){if(i=n.done?"completed":"suspendedYield",d.arg===s)continue;return{value:d.arg,done:n.done}}"throw"===d.type&&(i="completed",n.method="throw",n.arg=d.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(i){return{type:"throw",arg:i}}}e.wrap=u;var s={};function d(){}function p(){}function f(){}var l={};l[r]=function(){return this};var h=Object.getPrototypeOf,y=h&&h(h(L([])));y&&y!==t&&n.call(y,r)&&(l=y);var m=f.prototype=d.prototype=Object.create(l);function v(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function T(e,t){var i;this._invoke=function(r,a){function o(){return new t((function(i,o){!function i(r,a,o,u){var s=c(e[r],e,a);if("throw"!==s.type){var d=s.arg,p=d.value;return p&&"object"===typeof p&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){i("next",e,o,u)}),(function(e){i("throw",e,o,u)})):t.resolve(p).then((function(e){d.value=e,o(d)}),(function(e){return i("throw",e,o,u)}))}u(s.arg)}(r,a,i,o)}))}return i=i?i.then(o,o):o()}}function I(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,I(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var i=c(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,s;var r=i.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function g(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[r];if(t)return t.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function t(){for(;++i<e.length;)if(n.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:b}}function b(){return{value:void 0,done:!0}}return p.prototype=m.constructor=f,f.constructor=p,f[o]=p.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,o in e||(e[o]="GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},v(T.prototype),T.prototype[a]=function(){return this},e.AsyncIterator=T,e.async=function(t,n,i,r,a){void 0===a&&(a=Promise);var o=new T(u(t,n,i,r),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},v(m),m[o]="Generator",m[r]=function(){return this},m.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var i=t.pop();if(i in e)return n.value=i,n.done=!1,n}return n.done=!0,n}},e.values=L,g.prototype={constructor:g,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(N),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(n,i){return o.type="throw",o.arg=e,t.next=n,i&&(t.method="next",t.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],o=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),N(n),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;N(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:L(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),s}},e}(e.exports);try{regeneratorRuntime=i}catch(r){Function("r","regeneratorRuntime = r")(i)}},1092:function(e,t,n){e.exports=n(1079)},1093:function(e,t,n){"use strict";function i(e,t,n,i,r,a,o){try{var u=e[a](o),c=u.value}catch(s){return void n(s)}u.done?t(c):Promise.resolve(c).then(i,r)}function r(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function u(e){i(o,r,a,u,c,"next",e)}function c(e){i(o,r,a,u,c,"throw",e)}u(void 0)}))}}n.d(t,"a",(function(){return r}))},1151:function(e,t,n){"use strict";n.d(t,"e",(function(){return i})),n.d(t,"f",(function(){return r})),n.d(t,"d",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return c}));var i={isPayUnit:!0,isReceiveUnit:!0,isAppliedWater:!0,isAppliedInvoicing:!1,isAppliedLedger:!1,name:"",payableAcName:"",payableAcId:"",receivableAcName:"",receivableAcId:"",advanceAcName:"",advanceAcId:"",prepaidAcName:"",prepaidAcId:"",treeList:[]},r={name:"",remark:"",parentName:"\u5168\u90e8",parentUuid:"",uuid:""},a={name:"",code:"",isPayUnit:!0,isReceiveUnit:!0,payableAcName:"\u5e94\u4ed8\u8d26\u6b3e",receivableAcName:"\u5e94\u6536\u8d26\u6b3e",advanceAcName:"\u9884\u6536\u8d26\u6b3e",prepaidAcName:"\u9884\u4ed8\u8d26\u6b3e",payableAcId:"2202",receivableAcId:"1122",advanceAcId:"2203",prepaidAcId:"1123",companyAddress:"",companyTel:"",financeName:"",financeTel:"",remark:"",receivableOpened:"",advanceOpened:"",payableOpened:"",prepaidOpened:"",categoryTypeList:[],insertOrModify:"insert",insertFrom:"",enablePrepaidAc:!0,enableAdvanceAc:!0,contacterInfo:!1,isCheckOut:!1},o={name:"",isAppliedSale:!0,isAppliedPurchase:!0,isAppliedProduce:!1,isAppliedWater:!0,isAppliedInvoicing:!1,uuid:""},u={parentUuid:"",name:"",remark:"",ctgyUuid:"",parentName:"",uuid:""},c={code:"",name:"",inventoryNature:"",inventoryAcName:"",inventoryAcId:"",opened:"",remark:"",isAppliedSale:!0,isAppliedPurchase:!0,isAppliedProduce:!1,categoryTypeList:[],contacterInfo:!1,isCheckOut:!1,openList:[],isOpenedQuantity:!1,warehousePriceMode:"U",openedQuantity:"",unit:{uuid:"",name:"",isStandard:!1,uuidList:[]},unitPriceList:[],assemblyState:"CLOSE",assemblySheet:{unitUuid:"",unitName:"",quantity:"",materialList:[]},financialInfo:{openAssist:!1,assistClassificationList:[],openBatch:!1,isBatchUniform:!1,batchList:[],openShelfLife:!1,shelfLife:"",openSerial:!1}}},1226:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n(55),n(98),n(115),n(61),n(62),n(33),n(31),n(56),n(131),n(70),n(41),n(83),n(76);var i=n(4),r=n(1),a=n(1264),o=n(12),u=n(1151),c=Object(r.fromJS)({views:{anotherName:"\u5168\u90e8",activeTabKey:"\u5168\u90e8",activeTabKeyUuid:"",insertOrModify:"insert",activeInventoryType:"",activeInventoryTypeUuid:"",selectTypeId:"",selectTypeName:"",cardSelectList:[],typeSelect:{},treeSelect:{treeTwoList:[],treeThreeList:[],selectUuid:["","",""],selectName:"",selectEndUuid:""},fromPage:"inventory",usedQuantity:!1,otherPageName:"",usedOpened:"",usedOpenSerial:"",usedOpenBatch:""},typeList:[],cardList:[],highTypeList:[],originHighTypeList:[],inventoryCardTemp:u.a,inventoryHighTypeTemp:u.b,highTypeSelectList:[],inventoryTypeTemp:u.c,typeSelectList:[],warehouseTree:[],showChildList:[],standardList:[],unitList:[],purchasePriceList:[],salePriceList:[],stockCategoryTree:[],stockList:[],assistClassificationList:[],assist:{classificationUuid:"",classificationName:"",uuid:"",name:"",propertyList:[]},batch:{batchType:"",inventoryUuid:"",batchUuid:"",batch:"",productionDate:"",openShelfLife:!1,editPage:"inventory",allBatchList:[]},serial:{serialList:[],type:"",idx:""}});function s(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return((e={},Object(i.a)(e,a.C,(function(){return c})),Object(i.a)(e,a.H,(function(){return n.title.unshift({name:"\u5168\u90e8",uuid:""}),t=t.set("cardList",Object(r.fromJS)(n.cardList)).set("highTypeList",Object(r.fromJS)(n.title)).set("originHighTypeList",Object(r.fromJS)(n.title)).mergeIn(["views"],Object(r.fromJS)({activeTabKeyUuid:"",activeTabKey:"\u5168\u90e8",treeSelect:c.getIn(["views","treeSelect"])}))})),Object(i.a)(e,a.d,(function(){return t=t.set("cardList",Object(r.fromJS)(n.cardList)).mergeIn(["views"],Object(r.fromJS)({activeTabKey:n.name,activeTabKeyUuid:n.uuid,selectTypeId:"",selectTypeName:"",cardSelectList:[],treeSelect:c.getIn(["views","treeSelect"])})),n.name!=t.getIn(["views","anotherName"])&&(t=t.set("typeList",Object(r.fromJS)(n.treelist)).setIn(["views","selectTypeId"],n.treelist[0].uuid).setIn(["views","selectTypeName"],n.treelist[0].name)),t})),Object(i.a)(e,a.K,(function(){return t=t.setIn(["views","selectTypeId"],n.uuid).setIn(["views","selectTypeName"],n.name).set("cardList",Object(r.fromJS)(n.list))})),Object(i.a)(e,a.b,(function(){return t=t.set("inventoryCardTemp",Object(r.fromJS)(u.a)).set("highTypeList",t.get("originHighTypeList")).setIn(["views","insertOrModify"],"insert").setIn(["inventoryCardTemp","isCheckOut"],n.data.isCheckOut).setIn(["views","fromPage"],n.fromPage||"inventory").set("purchasePriceList",Object(r.fromJS)([])).set("salePriceList",Object(r.fromJS)([])).setIn(["views","usedOpened"],"").setIn(["views","usedOpenSerial"],!1).setIn(["views","usedOpenBatch"],!1).set("batch",c.get("batch"))})),Object(i.a)(e,a.a,(function(){return t=t.set("inventoryCardTemp",Object(r.fromJS)(u.a)).set("highTypeList",n.originTags).set("purchasePriceList",Object(r.fromJS)([])).set("salePriceList",Object(r.fromJS)([])).setIn(["views","insertOrModify"],"insert").setIn(["inventoryCardTemp","code"],n.receivedData.code).setIn(["views","fromPage"],n.otherPageName).setIn(["views","otherPageName"],n.otherPageName).setIn(["views","usedOpened"],"").setIn(["views","usedOpenSerial"],!1).setIn(["views","usedOpenBatch"],!1).setIn(["inventoryCardTemp","code"],n.receivedData.code)})),Object(i.a)(e,a.i,(function(){return t=t.setIn(["inventoryCardTemp",n.name],n.value)})),Object(i.a)(e,a.j,(function(){var e="1405",i="\u5e93\u5b58\u5546\u54c1";return 6==n.value.value&&(e="1403",i="\u539f\u6750\u6599"),t=t.setIn(["inventoryCardTemp","inventoryNature"],n.value.value).setIn(["inventoryCardTemp","inventoryNatureName"],n.value.label).setIn(["inventoryCardTemp","inventoryAcId"],e).setIn(["inventoryCardTemp","inventoryAcName"],i)})),Object(i.a)(e,a.g,(function(){var e="";if(t.get("highTypeList").find((function(i,a){if(i.get("uuid")===n.item.get("uuid"))return t=t.setIn(["highTypeList",a,"checked"],n.value).setIn(["highTypeList",a,"tree"],Object(r.fromJS)(n.list)),i.get("selectUuid")&&(e=i.get("selectUuid")),void(n.value&&0===n.list[0].childList.length&&(t=t.setIn(["highTypeList",a,"selectUuid"],n.list[0].uuid).setIn(["highTypeList",a,"selectName"],n.list[0].name),e=n.list[0].uuid))})),n.value){var i=t.getIn(["inventoryCardTemp","categoryTypeList"]).toJS();i.push({ctgyUuid:n.item.get("uuid"),subordinateUuid:e}),t=t.setIn(["inventoryCardTemp","categoryTypeList"],Object(r.fromJS)(i))}else{var a=t.getIn(["inventoryCardTemp","categoryTypeList"]).findIndex((function(e,t){return e.get("ctgyUuid")===n.item.get("uuid")}));t=t.deleteIn(["inventoryCardTemp","categoryTypeList",a])}return t})),Object(i.a)(e,a.G,(function(){return t.get("highTypeList").map((function(e,i){e.get("uuid")===n.item.get("uuid")&&(t=t.set("typeList",t.getIn(["highTypeList",i,"tree"])).setIn(["views","typeSelect"],t.getIn(["highTypeList",i])))})),t})),Object(i.a)(e,a.h,(function(){var e=t.getIn(["views","typeSelect"]);return t.get("highTypeList").map((function(i,r){i.get("uuid")!==e.get("uuid")||(t=t.setIn(["highTypeList",r,"selectUuid"],n.uuid).setIn(["highTypeList",r,"selectName"],n.name))})),t.getIn(["inventoryCardTemp","categoryTypeList"]).map((function(i,r){i.get("ctgyUuid")===e.get("uuid")&&(t=t.setIn(["inventoryCardTemp","categoryTypeList",r,"subordinateUuid"],n.uuid))})),t})),Object(i.a)(e,a.e,(function(){return t=t.setIn(["inventoryCardTemp",n.acId],n.uuid).setIn(["inventoryCardTemp",n.acName],n.name)})),Object(i.a)(e,a.J,(function(){return t=t.set("cardList",Object(r.fromJS)(n.list)),t="insertAndNew"===n.flag?t.set("purchasePriceList",Object(r.fromJS)([])).set("salePriceList",Object(r.fromJS)([])).mergeIn(["inventoryCardTemp"],Object(r.fromJS)({name:"",code:n.autoIncrementCode,opened:"",openedQuantity:"",openList:[],isOpenedQuantity:!1,unit:u.a.unit,financialInfo:u.a.financialInfo,assemblyState:"CLOSE",assemblySheet:u.a.assemblySheet})):t.set("highTypeList",t.get("originHighTypeList"))})),Object(i.a)(e,a.c,(function(){var e=!!n.data.financialInfo&&n.data.financialInfo.openSerial,i=!!n.data.financialInfo&&n.data.financialInfo.openBatch;t=t.set("inventoryCardTemp",Object(r.fromJS)(u.a).mergeDeep(Object(r.fromJS)(n.data))).setIn(["views","insertOrModify"],"modify").setIn(["views","fromPage"],"inventory").setIn(["views","usedQuantity"],n.data.isOpenedQuantity).setIn(["views","usedOpened"],n.data.opened).setIn(["views","usedOpenSerial"],e).setIn(["views","usedOpenBatch"],i),n.data.categoryTypeList.map((function(e,n){t.get("highTypeList").map((function(n,i){e.ctgyUuid!==n.get("uuid")||(t=t.setIn(["highTypeList",i,"checked"],!0).setIn(["highTypeList",i,"selectUuid"],e.subordinateUuid).setIn(["highTypeList",i,"selectName"],e.subordinateName).setIn(["highTypeList",i,"tree"],Object(r.fromJS)(e.options)))}))})),5==n.data.inventoryNature?t=t.setIn(["inventoryCardTemp","inventoryNatureName"],"\u5e93\u5b58\u5546\u54c1"):6==n.data.inventoryNature&&(t=t.setIn(["inventoryCardTemp","inventoryNatureName"],"\u539f\u6750\u6599")),0==n.data.opened&&(t=t.setIn(["inventoryCardTemp","opened"],""));var a=n.data.openList;n.isOpenedWarehouse&&a.length&&(a=n.data.openList[0].childList,t=t.setIn(["inventoryCardTemp","openList"],Object(r.fromJS)(a)));var o=[],c=[];return n.data.unitPriceList.length&&n.data.unitPriceList.forEach((function(e){1==e.type&&o.push(e),2==e.type&&c.push(e)})),n.data.isOpenedQuantity&&(0==o.length&&o.push({unitUuid:n.data.unit.uuid,name:n.data.unit.name,defaultPrice:"",type:1}),0==c.length&&c.push({unitUuid:n.data.unit.uuid,name:n.data.unit.name,defaultPrice:"",type:2})),t.set("purchasePriceList",Object(r.fromJS)(o)).set("salePriceList",Object(r.fromJS)(c))})),Object(i.a)(e,a.m,(function(){return t=t.setIn(["inventoryCardTemp","used"],n.used)})),Object(i.a)(e,a.f,(function(){var e=t.get("cardList"),i=t.getIn(["views","cardSelectList"]).toJS();return e.find((function(e,i){e.get("uuid")===n.uuid&&(t=t.setIn(["cardList",i,"checked"],n.status))})),n.status?(i.push({uuid:n.uuid}),t=t.setIn(["views","cardSelectList"],Object(r.fromJS)(i))):i.find((function(e,i){e.uuid===n.uuid&&(t=t.deleteIn(["views","cardSelectList",i]))})),t})),Object(i.a)(e,a.n,(function(){t.get("highTypeList").find((function(e,i){e.get("uuid")===n.uuid&&(t=t.setIn(["highTypeList",i,"checked"],n.status))}));var e=[];return t.get("highTypeList").map((function(t){t.get("checked")&&e.push({uuid:t.get("uuid")})})),t.set("highTypeSelectList",Object(r.fromJS)(e))})),Object(i.a)(e,a.v,(function(){return t=t.set("cardList",Object(r.fromJS)(n.list)).setIn(["views","cardSelectList"],Object(r.fromJS)([])).set("typeList",Object(r.fromJS)(n.treeList))})),Object(i.a)(e,a.t,(function(){return t=t.setIn(["views","activeInventoryType"],n.name).setIn(["views","activeInventoryTypeUuid"],n.uuid).set("inventoryHighTypeTemp",Object(r.fromJS)(n.info))})),Object(i.a)(e,a.o,(function(){return t=t.setIn(["inventoryHighTypeTemp",n.name],n.value)})),Object(i.a)(e,a.x,(function(){return n.title.unshift({name:t.getIn(["views","anotherName"]),uuid:""}),t=t.set("highTypeList",Object(r.fromJS)(n.title)).set("originHighTypeList",Object(r.fromJS)(n.title))})),Object(i.a)(e,a.E,(function(){return t=t.setIn(["views","activeInventoryType"],"").setIn(["views","activeInventoryTypeUuid"],"").set("inventoryHighTypeTemp",Object(r.fromJS)(u.b))})),Object(i.a)(e,a.k,(function(){if("cardList"==n.clearType&&(t=t.setIn(["views","cardSelectList"],Object(r.fromJS)([])).update("cardList",(function(e){return e.map((function(e){return e.set("checked",!1)}))}))),"highTypeList"==n.clearType&&(t=t.setIn(["views","highTypeSelectList"],Object(r.fromJS)([])).update("highTypeList",(function(e){return e.map((function(e){return e.set("checked",!1)}))}))),"treeList"==n.clearType){var e=t.getIn(["inventoryHighTypeTemp","treeList"]).toJS();!function e(t){return t.map((function(t,n){t.checked=!1,t.childList.length>0&&e(t.childList)}))}(e),t=t.setIn(["inventoryHighTypeTemp","treeList"],Object(r.fromJS)(e))}return t})),Object(i.a)(e,a.w,(function(){return n.title.unshift({name:t.getIn(["views","anotherName"]),uuid:""}),t=t.set("highTypeList",Object(r.fromJS)(n.title)).set("originHighTypeList",Object(r.fromJS)(n.title)).setIn(["views","activeInventoryType"],"").setIn(["views","activeInventoryTypeUuid"],"")})),Object(i.a)(e,a.D,(function(){return t=t.set("inventoryTypeTemp",Object(r.fromJS)(u.c)).setIn(["inventoryTypeTemp","parentUuid"],n.uuid).setIn(["inventoryTypeTemp","parentName"],n.name).set("inventoryTypeAddOrEdit","add")})),Object(i.a)(e,a.l,(function(){return t=t.setIn(["inventoryTypeTemp",n.name],n.value)})),Object(i.a)(e,a.L,(function(){return t=t.setIn(["inventoryTypeTemp","parentName"],n.parentName).setIn(["inventoryTypeTemp","parentUuid"],n.parentUuid)})),Object(i.a)(e,a.y,(function(){return t=t.set("inventoryTypeTemp",Object(r.fromJS)(n.data))})),Object(i.a)(e,a.q,(function(){var e=t.getIn(["inventoryHighTypeTemp","treeList"]).toJS();return function e(t,i){return t.map((function(t,r){var a=i;(t.uuid==n.uuid||i)&&(t.checked=n.value,a=!0),t.childList.length>0&&e(t.childList,a)}))}(e,!1),t.setIn(["inventoryHighTypeTemp","treeList"],Object(r.fromJS)(e))})),Object(i.a)(e,a.u,(function(){return t=t.setIn(["inventoryHighTypeTemp","treeList"],Object(r.fromJS)(n.data)).set("typeSelectList",Object(r.fromJS)([]))})),Object(i.a)(e,a.p,(function(){return t=t.setIn(["inventoryHighTypeTemp","treeList"],Object(r.fromJS)(n.list))})),Object(i.a)(e,a.B,(function(){var e=n.data.length?n.data[0].childList:[];return function e(t){return t.map((function(t,n){t.key=t.uuid,t.label=t.name,t.childList.length>0&&e(t.childList)}))}(e),t.set("warehouseTree",Object(r.fromJS)(e))})),Object(i.a)(e,a.z,(function(){var e=n.data.length?n.data[0].childList:[];!function e(t){return t.map((function(t,n){t.key=t.warehouseUuid,t.label=t.warehouseName,t.openedAmount=t.openedAmount?t.openedAmount:"",t.openedQuantity=t.openedQuantity?t.openedQuantity:"",t.childList.length>0&&e(t.childList)}))}(e);var i=0,a=0;return e.map((function(e){i+=Number(e.openedQuantity),a+=Number(e.openedAmount)})),t.setIn(["inventoryCardTemp","opened"],Object(o.l)(a)).setIn(["inventoryCardTemp","openedQuantity"],Object(o.l)(i,4)).setIn(["inventoryCardTemp","openList"],Object(r.fromJS)(e))})),Object(i.a)(e,a.s,(function(){var e=n.uuidList.pop(),i=n.value?n.value:0,a=t.getIn(["inventoryCardTemp","openList"]).toJS();!function t(r){return r.map((function(r){var a=r.warehouseUuid,u=r.openedAmount,c=r.openedQuantity,s=r.isEnd;if(n.uuidList.includes(a)){if("openedQuantity"==n.dataType){var d=Number(c)+Number(i);r.openedQuantity=Object(o.l)(d,4)}if("openedAmount"==n.dataType){var p=Number(u)+Number(i);r.openedAmount=Object(o.l)(p)}if("openedDelete"==n.dataType){var f=Number(c)-Number(i);r.openedQuantity=Object(o.l)(f,4),r.openedAmount=Object(o.l)(Number(u)-Number(n.selfValue),4)}}if(e==a){var l=e==n.uuidList.slice(-1)[0];"openedQuantity"==n.dataType&&(l?r.childList[n.idx].openedQuantity=n.selfValue:r.openedQuantity=n.selfValue),"openedAmount"==n.dataType&&(l?r.childList[n.idx].openedAmount=n.selfValue:r.openedAmount=n.selfValue),"openedAssist"==n.dataType&&(l?r.childList[n.idx]=Object.assign(r.childList[n.idx],n.value):r=Object.assign(r,n.value)),"openedDelete"==n.dataType&&r.childList.splice(n.idx,1),"openedAdd"==n.dataType&&r.childList.push({openUuid:"",batchUuid:"",batch:"",warehouseUuid:r.warehouseUuid,warehouseCode:r.warehouseCode,warehouseName:r.warehouseName,openedAmount:"",openedQuantity:"",assistList:[],serialList:[],childList:[]})}!s&&r.childList.length>0&&t(r.childList)}))}(a);var u=0,c=0;return a.map((function(e){u+=Number(e.openedQuantity),c+=Number(e.openedAmount)})),"openedQuantity"==n.dataType&&(t=t.setIn(["inventoryCardTemp","openedQuantity"],Object(o.l)(u,4))),"openedAmount"==n.dataType&&(t=t.setIn(["inventoryCardTemp","opened"],Object(o.l)(c))),t.setIn(["inventoryCardTemp","openList"],Object(r.fromJS)(a))})),Object(i.a)(e,a.I,(function(){return t.get("showChildList").includes(n.uuid)?t.update("showChildList",(function(e){return e.map((function(e){return e.indexOf(n.uuid)>-1?"":e})).filter((function(e){return!!e}))})):t.update("showChildList",(function(e){return e.push(n.uuid)}))})),Object(i.a)(e,a.A,(function(){var e=[];return n.data.customList.map((function(t){t.key=t.fullName,t.value=t.uuid,e.push(t)})),n.data.standardList.map((function(t){t.key=t.fullName,t.value=t.uuid,t.unitList=[],e.push(t)})),t.set("standardList",Object(r.fromJS)(n.data.standardList)).set("unitList",Object(r.fromJS)(e))})),Object(i.a)(e,a.r,(function(){return n.short?t.set(n.dataType,n.value):t.setIn(n.dataType,n.value)})),Object(i.a)(e,a.F,(function(){var e=t.getIn(["inventoryCardTemp","openList"]).toJS(),i=t.getIn(["inventoryCardTemp","financialInfo","openSerial"]),a=t.getIn(["inventoryCardTemp","financialInfo","openAssist"]),o=t.getIn(["inventoryCardTemp","financialInfo","openBatch"]),u=i||a||o;if("OPENTREE"==n.openType){!function e(t){return t.map((function(t){t.openedQuantity="",t.openedAmount="",t.childList.length>0&&(u||t.warehouseUuid!=t.childList[0].warehouseUuid||(t.childList=[]),e(t.childList))}))}(e)}return"OPENLIST"==n.openType&&e.forEach((function(e){e.openedQuantity="",e.openedAmount=""})),t.setIn(["inventoryCardTemp","openList"],Object(r.fromJS)(e)).setIn(["inventoryCardTemp","openedQuantity"],"").setIn(["inventoryCardTemp","opened"],"")})),e)[n.type]||function(){return t})()}},1264:function(e,t,n){"use strict";n.d(t,"C",(function(){return i})),n.d(t,"o",(function(){return r})),n.d(t,"x",(function(){return a})),n.d(t,"d",(function(){return o})),n.d(t,"t",(function(){return u})),n.d(t,"E",(function(){return c})),n.d(t,"w",(function(){return s})),n.d(t,"l",(function(){return d})),n.d(t,"L",(function(){return p})),n.d(t,"D",(function(){return f})),n.d(t,"y",(function(){return l})),n.d(t,"b",(function(){return h})),n.d(t,"i",(function(){return y})),n.d(t,"e",(function(){return m})),n.d(t,"g",(function(){return v})),n.d(t,"h",(function(){return T})),n.d(t,"j",(function(){return I})),n.d(t,"J",(function(){return O})),n.d(t,"H",(function(){return N})),n.d(t,"c",(function(){return g})),n.d(t,"f",(function(){return L})),n.d(t,"v",(function(){return b})),n.d(t,"m",(function(){return _})),n.d(t,"K",(function(){return E})),n.d(t,"u",(function(){return C})),n.d(t,"p",(function(){return S})),n.d(t,"G",(function(){return A})),n.d(t,"k",(function(){return j})),n.d(t,"n",(function(){return w})),n.d(t,"q",(function(){return R})),n.d(t,"a",(function(){return G})),n.d(t,"B",(function(){return J})),n.d(t,"s",(function(){return P})),n.d(t,"I",(function(){return Y})),n.d(t,"A",(function(){return U})),n.d(t,"r",(function(){return H})),n.d(t,"z",(function(){return V})),n.d(t,"F",(function(){return D}));var i="INIT_INVENCONFIG",r="CHANGE_INVENTORY_CONFIG_HIGH_TYPE_CONTENT",a="GET_INVENTORY_CONFIG_HIGH_TYPE_LIST",o="CHANGE_ACTIVE_INVENTORY_CONFIG_HIGH_TYPE",u="CHANGE_MODAL_ACTIVE_HIGH_TYPE",c="INSERT_INVENTORY_CONFIG_HGIH_TYPE",s="DELETE_INVENTORY_CONFIG_HGIH_TYPE",d="CHANGE_INVENTORY_CONFIG_CARD_TYPE_CONTENT",p="SELECT_INVENTORY_CONFIG_CARD_TYPE",f="INSERT_INVENTORY_CONFIG_CARD_TYPE",l="GET_INVENTORY_CONFIG_TYPE_CONTENT",h="BEFORE_ADD_INVENTORY_CONFIG_CARD",y="CHANGE_INVENTORY_CONFIG_CARD_CONTENT",m="CHANGE_INVENTORY_CONFIG_CARD_AC",v="CHANGE_INVENTORY_CONFIG_CARD_CATEGORY_STATUS",T="CHANGE_INVENTORY_CONFIG_CARD_CATEGORY_TYPE",I="CHANGE_INVENTORY_CONFIG_CARD_NATURE",O="SAVE_INVENTORY_CONFIG_CARD",N="INVENTORY_CONFIG_INIT",g="BEFORE_EDIT_INVENTORY_CONFIG_CARD",L="CHANGE_INVENTORY_CONFIG_CARD_BOX_STATUS",b="DELETE_INVENTORY_CONFIG_CARD_LIST",_="CHANGE_INVENTORY_CONFIG_CARD_USED_STATUS",E="SELECT_INVENTORY_CONFIG_CARD_BY_TYPE",C="CONFIRM_DELETE_INVENTORY_CONFIG_TYPE",S="CHANGE_INVENTORY_CONFIG_TYPE_POSITION",A="INVENTORY_CONFIG_ADD_CARD_SHOW_MODAL",j="CHANGE_INVENTORY_CONFIG_CARD_SELECT_LIST",w="CHANGE_INVENTORY_CONFIG_HIGHT_TYPE_BOX_STATUS",R="CHANGE_INVENTORY_CONFIG_TYPE_SELECT_LIST",G="BEFORE_ADD_INVENTORY_CARD_FROM_EDIT_RUNNING",J="GET_INVENTORY_WAREHOUSE_TREE",P="CHANGE_INVENTORY_OPENED",Y="INVENTORY_TOGGLELOWER_ITEM",U="GET_INVENTORY_UNIT_LIST",H="CHANGE_INVENTORY_DATA",V="GET_INVENTORY_OPEN_TREE",D="INVENTORY_CLEAR_OPENED_QUANTITY"}}]);