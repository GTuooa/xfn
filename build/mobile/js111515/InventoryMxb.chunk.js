(this.webpackJsonpfannix=this.webpackJsonpfannix||[]).push([[77],{1038:function(t,e,a){"use strict";a.d(e,"a",(function(){return d})),a.d(e,"b",(function(){return y}));a(115),a(219),a(56);var n=a(4),i=a(51),r=a(1),o=a(78),c=a(14),s=a(12),u=a(2),l=Object(r.fromJS)({views:{fromPage:"",uuidList:[]},currentItem:{},jrOri:{},category:{},processInfo:null});function d(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,a=arguments.length>1?arguments[1]:void 0;return((t={},Object(n.a)(t,b.GET_RUNNING_PREVIEW_BUSINESS_FETCH,(function(){return e=e.set("jrOri",Object(r.fromJS)(a.receivedData.jrOri)).set("category",Object(r.fromJS)(a.receivedData.category)).set("processInfo",a.receivedData.processInfo?Object(r.fromJS)(a.receivedData.processInfo):null).set("currentItem",a.currentItem).setIn(["views","fromPage"],a.fromPage).setIn(["views","uuidList"],a.uuidList)})),Object(n.a)(t,b.GET_PREVIEW_NEXT_RUNNING_BUSINESS_FETCH,(function(){return e=e.set("jrOri",Object(r.fromJS)(a.receivedData.jrOri)).set("category",Object(r.fromJS)(a.receivedData.category)).set("processInfo",a.receivedData.processInfo?Object(r.fromJS)(a.receivedData.processInfo):null).set("lsItemData",Object(r.fromJS)(Object(i.a)({},a.receivedData.category,{},a.receivedData.jrOri)))})),Object(n.a)(t,b.PREVIEW_RUNNING_DATA,(function(){return e=e.setIn(["views","uuidList"],Object(r.fromJS)(a.data))})),t)[a.type]||function(){return e})()}var y={getRunningPreviewBusinessFetch:function(t,e,a,n,i){return function(r){t&&(u.a.toast.loading("\u52a0\u8f7d\u4e2d...",0),Object(o.a)("getRunningPreview","GET","oriUuid=".concat(t),(function(t){u.a.toast.hide(),Object(s.u)(t)&&(r({type:b.GET_RUNNING_PREVIEW_BUSINESS_FETCH,receivedData:t.data,currentItem:e,uuidList:a,fromPage:n}),i.push("/runningpreview"))})))}},getPreviewNextRunningBusinessFetch:function(t,e){return function(e){t&&(u.a.toast.loading("\u52a0\u8f7d\u4e2d...",0),Object(o.a)("getRunningPreview","GET","oriUuid=".concat(t),(function(t){u.a.toast.hide(),Object(s.u)(t)&&e({type:b.GET_PREVIEW_NEXT_RUNNING_BUSINESS_FETCH,receivedData:t.data})})))}},insertRunningBusinessVc:function(t,e,a){return function(n,i){u.a.toast.loading(c.p,0),Object(o.a)("insertRunningBusinessVc","POST",JSON.stringify({uuidList:[t],vcindexlist:[a],year:e.slice(0,4),month:e.slice(5,7),action:"QUERY_JR-AUDIT"}),(function(e){if(u.a.toast.hide(),Object(s.u)(e)){if(e.data.result.length){var a=e.data.result.reduce((function(t,e){return t+","+e}));return void u.a.Alert(a)}n(y.getPreviewNextRunningBusinessFetch(t))}}))}},deleteRunningBusinessVc:function(t,e,a,n){return function(i,r){u.a.toast.loading(c.p,0),Object(o.a)("deletevc","POST",JSON.stringify({year:t,month:e,vcindexlist:a,action:"QUERY_JR-CANCEL_AUDIT"}),(function(t){u.a.toast.hide(),Object(s.u)(t)&&i(y.getPreviewNextRunningBusinessFetch(n))}))}},deleteRunning:function(t,e,a){return function(n){u.a.Confirm({message:"\u786e\u5b9a\u5220\u9664\u5417",title:"\u63d0\u793a",buttonLabels:["\u53d6\u6d88","\u786e\u5b9a"],onSuccess:function(i){if(1===i.buttonIndex){var r=e.findIndex((function(e){return e.get("oriUuid")===t})),l=r+1;u.a.toast.loading(c.p,0),Object(o.a)("deleteRunningbusiness","POST",JSON.stringify({deleteList:[t]}),(function(t){if(Object(s.u)(t)){if(t.data.errorList.length){var i=t.data.errorList.reduce((function(t,e){return t+","+e}));u.a.Alert(i)}if(0==t.data.errorList.length){var o=e.delete(r);n({type:b.PREVIEW_RUNNING_DATA,data:o}),l<e.size?n(y.getPreviewNextRunningBusinessFetch(e.getIn([l,"oriUuid"]))):a.goBack()}}}))}},onFail:function(t){return alert(t)}})}}},b={GET_RUNNING_PREVIEW_BUSINESS_FETCH:"GET_RUNNING_PREVIEW_BUSINESS_FETCH",GET_PREVIEW_NEXT_RUNNING_BUSINESS_FETCH:"GET_PREVIEW_NEXT_RUNNING_BUSINESS_FETCH",PREVIEW_RUNNING_DATA:"PREVIEW_RUNNING_DATA"}},1077:function(t,e,a){"use strict";a.d(e,"a",(function(){return l}));var n=a(7),i=a(8),r=a(9),o=a(10),c=a(0),s=a.n(c),u=a(12),l=function(t){Object(o.a)(a,t);var e=Object(r.a)(a);function a(){return Object(n.a)(this,a),e.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var t=this.props,e=t.className,a=(t.style,t.decimalPlaces),n=t.direction,i=t.isTitle,r=null==this.props.children?"":Number(this.props.children),o=a||0===a?Number(a):2,c=""===r?"":0===Number(Object(u.n)(r,o,""))?Object(u.n)(0,o,""):Object(u.n)(r,o,""),l=Math.abs(r)>=1e7;return s.a.createElement("span",{className:e,style:{color:"debit"===n?"#4166b8":"#ff8348",fontSize:l?i?".11rem":".1rem":""}},c)}}]),a}(c.Component)},1203:function(t,e,a){"use strict";a.d(e,"g",(function(){return n})),a.d(e,"j",(function(){return i})),a.d(e,"k",(function(){return r})),a.d(e,"b",(function(){return o})),a.d(e,"i",(function(){return c})),a.d(e,"n",(function(){return s})),a.d(e,"o",(function(){return u})),a.d(e,"m",(function(){return l})),a.d(e,"c",(function(){return d})),a.d(e,"d",(function(){return y})),a.d(e,"f",(function(){return b})),a.d(e,"s",(function(){return g})),a.d(e,"t",(function(){return f})),a.d(e,"q",(function(){return m})),a.d(e,"p",(function(){return S})),a.d(e,"l",(function(){return p})),a.d(e,"r",(function(){return L})),a.d(e,"h",(function(){return v})),a.d(e,"e",(function(){return k})),a.d(e,"a",(function(){return E}));var n="INIT_INVENTORY_MXB",i="SET_INVENTORY_MXB_DATE",r="SET_INVENTORY_MXB_INIT_DATA",o="CHANGE_INVENTORY_MXB_CARDLIST",c="SET_INVENTORY_MXB_CATEGORY_LIST",s="SET_INVENTORY_MXB_STOCK_CARDLIST",u="SET_INVENTORY_MXB_STOCK_STORE",l="SET_INVENTORY_MXB_SELECTED_DATA",d="CHANGE_INVENTORY_MXB_STOCK_CATEGORY_LIST",y="CHANGE_INVENTORY_MXB_STOCK_STORE_LIST",b="HANDLE_INVENTORY_MXB_DATE_CHOOSE_VALUE",g="SET_OTHER_TYPE_INVENTORY_MXB_INIT_DATA",f="SET_OTHER_TYPE_INVENTORY_MXB_STORE_LIST",m="SET_INVENTORY_MXB_TYPE_LIST",S="SET_INVENTORY_MXB_TYPE",p="SET_INVENTORY_MXB_OTHER_TYPE_STOCK_STORE_VALUE",L="SET_INVENTPRY_MXB_TYPE_LIST_VALUE",v="SET_INVENTORY_MXB_BALANCE_DIRECTION",k="CHANGE_REVERSE_AMOUNT_TYPE",E="CHANGE_DECIMAL_OF_CONFIG_MXB"},1322:function(t,e,a){"use strict";a.d(e,"i",(function(){return s})),a.d(e,"t",(function(){return u})),a.d(e,"a",(function(){return l})),a.d(e,"f",(function(){return d})),a.d(e,"g",(function(){return y})),a.d(e,"k",(function(){return b})),a.d(e,"l",(function(){return g})),a.d(e,"m",(function(){return f})),a.d(e,"j",(function(){return m})),a.d(e,"s",(function(){return S})),a.d(e,"q",(function(){return p})),a.d(e,"p",(function(){return L})),a.d(e,"o",(function(){return v})),a.d(e,"r",(function(){return k})),a.d(e,"n",(function(){return E})),a.d(e,"c",(function(){return O})),a.d(e,"d",(function(){return h})),a.d(e,"h",(function(){return C})),a.d(e,"b",(function(){return N})),a.d(e,"e",(function(){return T}));a(32),a(31),a(70);var n=a(12),i=a(57),r=a(1203),o=a(2),c=a(14),s=(a(1),function(t,e,a,s,u,l,d,y,b,g,f,m,S,L,v,k,E){return function(O,h){O(_()),"Other"===v?(O({type:r.s,issuedate:t,endissuedate:e,chooseValue:L,stockStoreValue:m||"",stockStoreLabel:S||"",topCategoryUuid:l,subCategoryUuid:d,stockCategoryValue:u,stockCategorylabel:y,uuid:a,name:s,inventoryType:v,typeListValue:k,typeListLabel:E}),O(p(t,e))):(o.a.toast.loading(c.p,0),Object(i.a)("getInventoryMxbStockCard","POST",JSON.stringify({begin:t||"",end:e||"",topCategoryUuid:l,subCategoryUuid:d||"",isType:!1}),(function(c){Object(n.u)(c)&&Object(i.a)("getInventoryMxbStockDetail","POST",JSON.stringify({begin:t||"",end:e||"",topCategoryUuid:l,subCategoryUuid:d,stockCardUuid:a,storeCardUuid:m,isType:!1}),(function(i){Object(n.u)(i)&&(o.a.toast.hide(),O({type:r.k,cardList:c.data.cardList,stockCategoryList:b,issuedate:t,endissuedate:e,uuid:a,name:s,topCategoryUuid:l,subCategoryUuid:d,stockStoreList:f,stockStoreValue:m||"",stockStoreLabel:S||"",baseData:i.data.detail,stockQuantity:g,stockCategoryValue:u,chooseValue:L,stockCategorylabel:y,inventoryType:v}))}))})))}}),u=function(t,e){return function(a){a({type:r.j,issuedate:t,endissuedate:e})}},l=function(t,e){return function(a){a({type:r.b,value:t,name:e})}},d=function(t,e,a){return function(n){n({type:r.c,stockCategoryValue:t,topCategoryUuid:e,subCategoryUuid:a})}},y=function(t,e){return function(a){a({type:r.d,stockStoreValue:t,stockStoreLabel:e})}},b=function(t,e){return function(a,o){var s=o().inventoryMxbState.get("stockQuantity"),u=o().inventoryMxbState.get("stockCategoryValue"),l=o().inventoryMxbState.get("stockCategorylabel");Object(i.a)("getInventoryYebstockCategory","POST",JSON.stringify({begin:t||"",end:e||"",stockQuantity:s,isType:!1}),(function(t){if(Object(n.u)(t)){var e=!1,i=function t(a,n){return a.map((function(a,i){return a.childList&&a.childList.length?("".concat(n).concat(c.B).concat(a.uuid)===u&&(e=!0),{key:"".concat(n).concat(c.B).concat(a.uuid),label:a.name,childList:t(a.childList,"".concat(n).concat(c.B).concat(a.uuid))}):("".concat(n).concat(c.B).concat(a.uuid)===u&&(e=!0),{key:"".concat(n).concat(c.B).concat(a.uuid),label:a.name,childList:[]})}))}(t.data.categoryList,""),s=[{label:"\u5168\u90e8",key:"-:-",childList:[]}].concat(i);if(e){var d=o().inventoryMxbState.get("topCategoryUuid"),y=o().inventoryMxbState.get("subCategoryUuid");a({type:r.i,stockCategoryList:s,stockCategoryValue:u,stockCategorylabel:l,topCategoryUuid:d,subCategoryUuid:y}),a(g(d,y))}else a({type:r.i,stockCategoryList:s,stockCategoryValue:"",stockCategorylabel:"\u5168\u90e8",topCategoryUuid:"",subCategoryUuid:""}),a(g("",""))}}))}},g=function(t,e){return function(a,o){var c=o().inventoryMxbState.get("issuedate"),s=o().inventoryMxbState.get("endissuedate");Object(i.a)("getInventoryMxbStockCard","POST",JSON.stringify({begin:c||"",end:s||"",topCategoryUuid:t,subCategoryUuid:e,isType:!1}),(function(t){if(Object(n.u)(t)){var e=[],i=!1,c=o().inventoryMxbState.get("cardValue"),s=o().inventoryMxbState.get("cardName");t.data.cardList&&t.data.cardList.map((function(t,a){e.push({name:t.sockCardName,uuid:t.stockCardUuid}),t.stockCardUuid===c&&(i=!0)})),i?(a({type:r.n,cardList:e,cardValue:c,cardName:s}),a(f(c))):(a({type:r.n,cardList:e,cardValue:e[0].uuid,cardName:e[0].name}),a(f(e[0].uuid)))}}))}},f=function(t){return function(e,a){var o=a().inventoryMxbState.get("issuedate"),c=a().inventoryMxbState.get("endissuedate"),s=a().inventoryMxbState.get("stockQuantity"),u=a().inventoryMxbState.get("topCategoryUuid"),l=a().inventoryMxbState.get("subCategoryUuid");Object(i.a)("getInventoryYebStockStore","POST",JSON.stringify({begin:o||"",end:c||"",topCategoryUuid:u,subCategoryUuid:l,stockQuantity:s,stockCardUuid:t,isType:!1}),(function(t){if(Object(n.u)(t)){var i=a().inventoryMxbState.get("stockStoreValue"),o=a().inventoryMxbState.get("stockStoreLabel"),c=!1,s=t.data.storeList.length?function t(e){return e.map((function(e,a){return e.childList&&e.childList.length?(i===e.uuid&&(c=!0),{key:"".concat(e.uuid),label:e.name,childList:t(e.childList)}):(i===e.uuid&&(c=!0),{key:"".concat(e.uuid),label:e.name,childList:[]})}))}(t.data.storeList):[],u=s.length?[{label:s[0].label,key:s[0].key,childList:[]}].concat(s[0].childList):[];c?(e({type:r.o,stockStoreList:u,stockStoreValue:i,stockStoreLabel:o}),e(m(i))):u.length>0?(e({type:r.o,stockStoreList:u,stockStoreValue:t.data.storeList.length?t.data.storeList[0].uuid:"",stockStoreLabel:t.data.storeList.length?t.data.storeList[0].name:""}),e(m(t.data.storeList.length?t.data.storeList[0].uuid:""))):(e({type:r.o,stockStoreList:u,stockStoreValue:"",stockStoreLabel:""}),e(m("")))}}))}},m=function(t){return function(e,a){o.a.toast.loading(c.p,0);var s=a().inventoryMxbState.get("issuedate"),u=a().inventoryMxbState.get("endissuedate"),l=a().inventoryMxbState.get("cardValue"),d=a().inventoryMxbState.get("topCategoryUuid"),y=a().inventoryMxbState.get("subCategoryUuid");Object(i.a)("getInventoryMxbStockDetail","POST",JSON.stringify({begin:s||"",end:u||"",topCategoryUuid:d,subCategoryUuid:y,stockCardUuid:l,storeCardUuid:t,isType:!1}),(function(t){Object(n.u)(t)&&(o.a.toast.hide(),e({type:r.m,baseData:t.data.detail}))}))}},S=function(t){return function(e){e({type:r.f,value:t})}},p=function(t,e){return function(a,o){Object(i.a)("getInventoryYebStockStore","POST",JSON.stringify({begin:t||"",end:e||"",isType:!0}),(function(t){if(Object(n.u)(t)){var e=o().inventoryMxbState.get("stockStoreListOtherValue"),i=o().inventoryMxbState.get("stockStoreListOtherLabel"),c=!1,s=function t(a){return a.map((function(a,n){return a.childList&&a.childList.length?(e===a.uuid&&(c=!0),{key:"".concat(a.uuid),label:a.name,childList:t(a.childList)}):(e===a.uuid&&(c=!0),{key:"".concat(a.uuid),label:a.name,childList:[]})}))}(t.data.storeList);if(c){var u=[{label:s[0].label,key:s[0].key,childList:[]}].concat(s[0].childList);a({type:r.t,stockStoreListOther:u,stockStoreListOtherValue:e,stockStoreListOtherLabel:i}),a(L(e))}else if(t.data.storeList.length>0){var l=[{label:s[0].label,key:s[0].key,childList:[]}].concat(s[0].childList);a({type:r.t,stockStoreListOther:l,stockStoreListOtherValue:t.data.storeList[0].uuid,stockStoreListOtherLabel:t.data.storeList[0].name}),a(L(t.data.storeList[0].uuid))}else a({type:r.t,stockStoreListOther:[],stockStoreListOtherValue:"",stockStoreListOtherLabel:""}),a(L(""))}}))}},L=function(t){return function(e,a){var o=a().inventoryMxbState.get("issuedate"),s=a().inventoryMxbState.get("endissuedate");Object(i.a)("getInventoryYebstockCategory","POST",JSON.stringify({begin:o||"",end:s||"",storeCardUuid:t||"",isType:!0}),(function(t){if(Object(n.u)(t)){var i=a().inventoryMxbState.get("stockCategoryValue"),o=a().inventoryMxbState.get("stockCategorylabel"),s=!1,u=function t(e,a){return e.map((function(e,n){return e.childList&&e.childList.length?("".concat(a).concat(c.B).concat(e.uuid)===i&&(s=!0),{key:"".concat(a).concat(c.B).concat(e.uuid),label:e.name,childList:t(e.childList,"".concat(a).concat(c.B).concat(e.uuid))}):("".concat(a).concat(c.B).concat(e.uuid)===i&&(s=!0),{key:"".concat(a).concat(c.B).concat(e.uuid),label:e.name,childList:[]})}))}(t.data.categoryList,""),l=[{label:"\u5168\u90e8",key:"-:-",childList:[]}].concat(u);if(s){var d=a().inventoryMxbState.get("topCategoryUuid"),y=a().inventoryMxbState.get("subCategoryUuid");e({type:r.i,stockCategoryList:l,stockCategoryValue:i,stockCategorylabel:o,topCategoryUuid:d,subCategoryUuid:y}),e(v(d,y))}else e({type:r.i,stockCategoryList:l,stockCategoryValue:"",stockCategorylabel:"\u5168\u90e8",topCategoryUuid:"",subCategoryUuid:""}),e(v("",""))}}))}},v=function(t,e){return function(a,o){var c=o().inventoryMxbState.get("issuedate"),s=o().inventoryMxbState.get("endissuedate"),u=o().inventoryMxbState.get("stockStoreListOtherValue");Object(i.a)("getInventoryMxbStockCard","POST",JSON.stringify({begin:c||"",end:s||"",topCategoryUuid:t||"",subCategoryUuid:e||"",storeCardUuid:u||"",isType:!0}),(function(t){if(Object(n.u)(t)){var e=[],i=!1,c=o().inventoryMxbState.get("cardValue"),s=o().inventoryMxbState.get("cardName");t.data.cardList&&t.data.cardList.map((function(t,a){e.push({name:t.sockCardName,uuid:t.stockCardUuid}),t.stockCardUuid===c&&(i=!0)})),i?(a({type:r.n,cardList:e,cardValue:c,cardName:s}),a(k(c))):0===e.length?(a({type:r.n,cardList:e,cardValue:"",cardName:""}),a(k(""))):(a({type:r.n,cardList:e,cardValue:e[0].uuid,cardName:e[0].name}),a(k(e[0].uuid)))}}))}},k=function(t){return function(e,a){var o=a().inventoryMxbState.get("issuedate"),c=a().inventoryMxbState.get("endissuedate"),s=a().inventoryMxbState.get("stockStoreListOtherValue"),u=a().inventoryMxbState.get("topCategoryUuid"),l=a().inventoryMxbState.get("subCategoryUuid");Object(i.a)("getInventoryYebTypeList","POST",JSON.stringify({begin:o||"",end:c||"",topCategoryUuid:u||"",subCategoryUuid:l||"",storeCardUuid:s||"",stockCardUuid:t||"",isType:!0}),(function(t){if(Object(n.u)(t)){var i=a().inventoryMxbState.get("typeListValue"),o=a().inventoryMxbState.get("typeListLabel"),c=!1,s=function t(e){return e.map((function(e,a){return e.childList&&e.childList.length?(i===e.acId&&(c=!0),{key:"".concat(e.acId),label:e.name,childList:t(e.childList)}):(i===e.acId&&(c=!0),{key:"".concat(e.acId),label:e.name,childList:[]})}))}(t.data.typeList),u=[{key:"",label:"\u5168\u90e8",childList:[]}].concat(s);c?(e({type:r.q,typeList:u,typeListValue:i,typeListLabel:o}),e(E(i))):(e({type:r.q,typeList:u,typeListValue:"",typeListLabel:"\u5168\u90e8"}),e(E("")))}}))}},E=function(t){return function(e,a){o.a.toast.loading(c.p,0);var n=a().inventoryMxbState.get("issuedate"),s=a().inventoryMxbState.get("endissuedate"),u=a().inventoryMxbState.get("stockStoreListOtherValue"),l=a().inventoryMxbState.get("topCategoryUuid"),d=a().inventoryMxbState.get("subCategoryUuid"),y=a().inventoryMxbState.get("cardValue");Object(i.a)("getInventoryMxbStockDetail","POST",JSON.stringify({begin:n||"",end:s||"",topCategoryUuid:l||"",subCategoryUuid:d||"",storeCardUuid:u||"",stockCardUuid:y||"",acId:t||"",isType:!0}),(function(t){o.a.toast.hide(),e({type:r.m,baseData:t.data.detail}),e({type:r.h,value:t.data.detail.detailList.length?t.data.detail.detailList[0].balanceDirection:"debit"}),e({type:r.e,value:!1})}))}},O=function(t){return function(e){e({type:r.p,value:"Inventory"===t?"Other":"Inventory"})}},h=function(t,e){return function(a){a({type:r.l,value:t,label:e})}},C=function(t,e){return function(a){a({type:r.r,value:t,label:e})}},N=function(t){return function(e){e({type:r.h,value:"debit"===t?"credit":"debit"})}},T=function(t){return function(e){e({type:r.e,value:!t})}},_=function(){return function(t){o.a.toast.loading(c.p,0),Object(i.a)("getInventoryYebDecimalScale","GET","",(function(e){o.a.toast.hide(),t({type:r.a,receiveData:e.data.scale})}))}}},1323:function(t,e,a){"use strict";a.d(e,"a",(function(){return s}));a(31),a(131),a(70);var n=a(4),i=a(1),r=a(1203),o=a(14),c=Object(i.fromJS)({issuedate:"",endissuedate:"",baseData:{},listData:[],beginningData:{},stockQuantity:"",cardList:[],cardValue:"",cardName:"",stockCategoryList:[],stockCategoryValue:{key:""},stockCategorylabel:"",topCategoryUuid:"",subCategoryUuid:"",stockStoreList:[],stockStoreValue:"",stockStoreLabel:"",chooseValue:"",inventoryType:"",stockStoreListOther:[],stockStoreListOtherValue:"",stockStoreListOtherLabel:"",typeList:[],typeListValue:"",typeListLabel:"",balanceDeirection:"",showReverseAmount:!1,quantityScale:"",priceScale:""});function s(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,a=arguments.length>1?arguments[1]:void 0;return((t={},Object(n.a)(t,r.g,(function(){return c})),Object(n.a)(t,r.k,(function(){var t=[];return a.cardList&&a.cardList.map((function(e,a){t.push({name:e.sockCardName,uuid:e.stockCardUuid})})),e.set("issuedate",a.issuedate).set("endissuedate",a.endissuedate).set("baseData",a.baseData).set("beginningData",a.baseData.detailList.length>0?a.baseData.detailList[0]:{}).set("listData",a.baseData.detailList.splice(1,a.baseData.detailList.length)).set("cardList",t).set("cardValue",a.uuid).set("cardName",a.name).set("stockCategoryList",a.stockCategoryList).set("topCategoryUuid",a.topCategoryUuid).set("subCategoryUuid",a.subCategoryUuid).set("stockCategoryValue",Object(i.fromJS)(a.stockCategoryValue)).set("stockStoreList",a.stockStoreList).set("stockStoreValue",a.stockStoreList.length>0?a.stockStoreValue:"").set("stockStoreLabel",a.stockStoreList.length>0?a.stockStoreLabel:"").set("stockQuantity",a.stockQuantity).set("chooseValue",a.chooseValue).set("stockCategorylabel",a.stockCategorylabel).set("inventoryType",a.inventoryType)})),Object(n.a)(t,r.s,(function(){return e.set("issuedate",a.issuedate).set("endissuedate",a.endissuedate).set("chooseValue",a.chooseValue).set("stockStoreListOtherValue",a.stockStoreValue).set("stockStoreListOtherLabel",a.stockStoreLabel).set("topCategoryUuid",a.topCategoryUuid).set("subCategoryUuid",a.subCategoryUuid).set("stockCategoryValue",Object(i.fromJS)(a.stockCategoryValue)).set("stockCategorylabel",a.stockCategorylabel).set("cardValue",a.uuid).set("cardName",a.name).set("inventoryType",a.inventoryType).set("typeListValue",a.typeListValue).set("typeListLabel",a.typeListLabel)})),Object(n.a)(t,r.b,(function(){return e.set("cardValue",a.value).set("cardName",a.name)})),Object(n.a)(t,r.j,(function(){return e.set("issuedate",a.issuedate).set("endissuedate",a.endissuedate)})),Object(n.a)(t,r.n,(function(){return a.cardList.length||(e=e.set("stockCategoryValue","".concat(o.B)).set("stockCategoryList",[])),e.set("cardList",a.cardList).set("cardValue",a.cardValue).set("cardName",a.cardName)})),Object(n.a)(t,r.o,(function(){return e.set("stockStoreList",a.stockStoreList).set("stockStoreValue",a.stockStoreValue).set("stockStoreLabel",a.stockStoreLabel)})),Object(n.a)(t,r.m,(function(){return e.set("baseData",a.baseData).set("beginningData",a.baseData.detailList.length>0?a.baseData.detailList[0]:{}).set("listData",a.baseData.detailList.splice(1,a.baseData.detailList.length))})),Object(n.a)(t,r.c,(function(){return e.set("stockCategoryValue",Object(i.fromJS)(a.stockCategoryValue)).set("topCategoryUuid",a.topCategoryUuid).set("subCategoryUuid",a.subCategoryUuid)})),Object(n.a)(t,r.d,(function(){return e.set("stockStoreValue",a.stockStoreValue).set("stockStoreLabel",a.stockStoreLabel)})),Object(n.a)(t,r.f,(function(){return e.set("chooseValue",a.value)})),Object(n.a)(t,r.t,(function(){return e.set("stockStoreListOther",a.stockStoreListOther).set("stockStoreListOtherValue",a.stockStoreListOtherValue).set("stockStoreListOtherLabel",a.stockStoreListOtherLabel)})),Object(n.a)(t,r.i,(function(){return e.set("stockCategoryList",a.stockCategoryList).set("stockCategoryValue",Object(i.fromJS)(a.stockCategoryValue)).set("stockCategorylabel",a.stockCategorylabel).set("topCategoryUuid",a.topCategoryUuid).set("subCategoryUuid",a.subCategoryUuid)})),Object(n.a)(t,r.q,(function(){return e.set("typeList",a.typeList).set("typeListValue",a.typeListValue).set("typeListLabel",a.typeListLabel)})),Object(n.a)(t,r.p,(function(){return e.set("inventoryType",a.value)})),Object(n.a)(t,r.l,(function(){return e.set("stockStoreListOtherValue",a.value).set("stockStoreListOtherLabel",a.label)})),Object(n.a)(t,r.r,(function(){return e.set("typeListValue",a.value).set("typeListLabel",a.label)})),Object(n.a)(t,r.h,(function(){return e.set("balanceDeirection",a.value)})),Object(n.a)(t,r.e,(function(){return e.set("showReverseAmount",a.value)})),Object(n.a)(t,r.a,(function(){return e.set("quantityScale",a.receiveData.quantityScale).set("priceScale",a.receiveData.priceScale)})),t)[a.type]||function(){return e})()}},1856:function(t,e,a){},986:function(t,e,a){"use strict";a.r(e),a.d(e,"reducer",(function(){return T})),a.d(e,"view",(function(){return N}));a(115),a(31),a(56),a(70),a(29),a(82);var n,i,r,o,c=a(7),s=a(8),u=a(9),l=a(10),d=a(0),y=a.n(d),b=a(47),g=a(2),f=(a(12),a(1856),a(1)),m=a(11),S=a(542),p=a(1077),L=a(1322),v=(a(32),a(55),a(219),a(24)),k=(a(1082),a(1038)),E=Object(v.immutableRenderDecorator)(n=function(t){Object(l.a)(a,t);var e=Object(u.a)(a);function a(){return Object(c.a)(this,a),e.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var t=this.props,e=t.data,a=t.className,n=t.unitCardName,i=(t.unitDecimalCount,t.baseData),r=t.dispatch,o=t.history,c=t.showReverseAmount,s=t.priceScale,u=t.quantityScale,l={},d=i.filter((function(t){return"\u671f\u521d\u4f59\u989d"!==t.oriAbstract})).reduce((function(t,e){return!l[e.oriUuid]&&(l[e.oriUuid]=t.push(e)),t}),[]);return y.a.createElement("div",{className:"ba "+a,onClick:function(t){r(k.b.getRunningPreviewBusinessFetch(e.oriUuid,Object(f.fromJS)(e),Object(f.fromJS)(d),"mxb",o))}},y.a.createElement("div",null,y.a.createElement("span",{className:"name"},y.a.createElement("span",{className:"name-name"},"".concat(e.oriDate,"-").concat(e.oriAbstract)))),y.a.createElement("div",{className:"ba-info"},y.a.createElement("span",{className:"ba-type-name"},"".concat(e.jrIndex,"\u53f7")),y.a.createElement(p.a,{direction:"debit"},e.inQuantity>0||e.inAmount?e.inAmount:e.outAmount),y.a.createElement(p.a,{direction:"debit"},c?0-e.balanceAmount:e.balanceAmount)),y.a.createElement("div",{className:"ba-info"},y.a.createElement("span",{className:"ba-type-name"},e.inQuantity>0||e.inAmount?"\u5165\u5e93":"\u51fa\u5e93"),e.inQuantity>0||e.inAmount>0?y.a.createElement("div",{className:"ba-amount"},y.a.createElement(m.a,{showZero:!0,decimalPlaces:u},e.inQuantity),y.a.createElement("span",null,n,"*"),y.a.createElement(p.a,{decimalPlaces:s,direction:"debit"},e.inPrice)):y.a.createElement("div",{className:"ba-amount"},y.a.createElement(m.a,{showZero:!0,decimalPlaces:u},e.outQuantity),y.a.createElement("span",null,n,"*"),y.a.createElement(p.a,{decimalPlaces:s,direction:"debit"},e.outPrice)),y.a.createElement("div",{className:"ba-amount"},y.a.createElement(m.a,{showZero:!0,decimalPlaces:u},c?0-e.balanceQuantity:e.balanceQuantity),y.a.createElement("span",null,n,"*"),y.a.createElement(p.a,{direction:"debit",decimalPlaces:s},e.balancePrice))))}}]),a}(y.a.Component))||n,O=a(14),h=a(130),C=a(26),N=Object(b.c)((function(t){return t}))((o=r=function(t){Object(l.a)(a,t);var e=Object(u.a)(a);function a(t){var n;return Object(c.a)(this,a),(n=e.call(this,t)).state={showModal:!1},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){g.a.setTitle({title:"\u5b58\u8d27\u660e\u7ec6\u8868"}),g.a.setIcon({showIcon:!1})}},{key:"render",value:function(){var t=this.props,e=t.dispatch,a=t.allState,n=t.inventoryMxbState,i=t.history,r=(this.state.showModal,a.get("issues")),o=n.get("issuedate"),c=n.get("endissuedate"),s=r.findIndex((function(t){return t.get("value")===o})),u=r.slice(0,s),l=n.get("cardList"),d=n.get("cardName"),b=n.get("cardValue"),g=n.get("stockCategoryList"),f=n.get("stockStoreList"),v=n.get("stockStoreValue"),k=n.get("stockStoreLabel"),N=n.get("baseData"),T=n.get("listData"),_=n.get("beginningData"),I=a.getIn(["systemInfo","unitDecimalCount"]),V=n.get("chooseValue"),U=n.get("stockCategoryValue"),j=n.get("stockCategorylabel"),x=n.get("inventoryType"),M=n.get("stockStoreListOther"),D=n.get("stockStoreListOtherValue"),R=n.get("stockStoreListOtherLabel"),P=n.get("typeList"),B=n.get("typeListValue"),A=n.get("typeListLabel"),Y=n.get("balanceDeirection"),J=n.get("showReverseAmount"),G=n.get("quantityScale"),w=n.get("priceScale"),X=o,Q=c||X,H=n.get("topCategoryUuid"),F=n.get("subCategoryUuid");return e(h.i("runningReport","",(function(){return function(t){return t(h.a("sendInventoryMxbExcel",{begin:X,end:Q,topCategoryUuid:H,subCategoryUuid:F,stockCardUuid:b||"",storeCardUuid:"Inventory"===x?v:D,exportAll:!1,acId:B||"",isType:"Other"===x}))}}),"",(function(){return function(t){return t(h.a("sendInventoryMxbExcel",{begin:X,end:Q,topCategoryUuid:H,subCategoryUuid:F,stockCardUuid:b||"",storeCardUuid:"Inventory"===x?v:D,exportAll:!0,acId:B||"",isType:"Other"===x}))}}))),y.a.createElement(m.h,{className:"inventoryMxb"},y.a.createElement(S.b,{start:o,issues:r,end:c,nextperiods:u,chooseValue:V,onBeginOk:function(t){e(L.t(t,"")),e("Inventory"===x?L.k(t,""):L.q(t,""))},onEndOk:function(t,a){e(L.t(t,a)),e("Inventory"===x?L.k(t,a):L.q(t,a))},changeChooseValue:function(t){e(L.s(t))}}),y.a.createElement("div",{className:"inventory-mxb-select"},y.a.createElement("div",{className:"select-change-table",onClick:function(){e(L.c(x)),e("Other"===x?L.k(o,c):L.q(o,c))}},y.a.createElement("span",null,"Inventory"===x?"\u5e93\u5b58":"\u5176\u4ed6\u7c7b\u578b"),y.a.createElement(C.a,{type:"type-change"})),"Other"===x&&M.length>0&&y.a.createElement("div",{className:"stock-store-other"},y.a.createElement("div",{className:"stock-store-box-other"},y.a.createElement(m.f,{district:M,parentDisabled:!1,value:D,title:"\u8bf7\u9009\u62e9\u4ed3\u5e93",onChange:function(t){e(L.d(t.key,t.label)),e(L.p(t.key))}},y.a.createElement(m.r,{className:"stock-store-label"},y.a.createElement("span",{className:"overElli"},"\u5168\u90e8"===R?"\u5168\u90e8\u4ed3\u5e93":R),y.a.createElement(m.l,{type:"triangle",style:{width:"16px"}}))))),y.a.createElement("div",{className:"card-list"},y.a.createElement(m.f,{type:"card",parentDisabled:!1,title:"\u8bf7\u9009\u62e9\u5b58\u8d27",district:g,cardList:l,cardValue:[b],children:d,value:U,onChange:function(t){t.key.split(O.B);var a=t.key.split(O.B)[1],n=t.key.split(O.B)[t.key.split(O.B).length-1];a===n?(e(L.f(t.key,a,"")),e("Inventory"===x?L.l(a,""):L.o(a,""))):(e(L.f(t.key,a,n)),e("Inventory"===x?L.l(a,n):L.o(a,n)))},onOk:function(t){e(L.a(t[0].uuid,t[0].name)),e("Inventory"===x?L.m(t[0].uuid):L.r(t[0].uuid))}},y.a.createElement(m.r,{className:"card-item"},y.a.createElement("span",{className:"overElli"},"\u5168\u90e8"===d||""===d?j:d),y.a.createElement(m.l,{type:"triangle"})))),f.length>0&&"Inventory"===x&&y.a.createElement("div",{className:"stock-store"},y.a.createElement("div",{className:"stock-store-box"},y.a.createElement(m.f,{district:f,parentDisabled:!1,title:"\u8bf7\u9009\u62e9\u4ed3\u5e93",value:v,onChange:function(t){e(L.g(t.key,t.label)),e(L.j(t.key))}},y.a.createElement(m.r,{className:"stock-store-label"},y.a.createElement("span",{className:"overElli"},"\u5168\u90e8"===k?"\u5168\u90e8\u4ed3\u5e93":k),y.a.createElement(m.l,{type:"triangle"}))))),"Other"===x&&y.a.createElement("div",{className:"type-list"},y.a.createElement("div",{className:"type-list-box"},y.a.createElement(m.f,{district:P,parentDisabled:!1,title:"\u8bf7\u9009\u62e9\u7c7b\u578b",value:B,onChange:function(t){e(L.h(t.key,t.label)),e(L.n(t.key))}},y.a.createElement(m.r,{className:"type-list-label"},y.a.createElement("span",{className:"overElli"},"\u5168\u90e8"===A?"\u5168\u90e8\u7c7b\u578b":A),y.a.createElement(m.l,{type:"triangle"})))))),y.a.createElement(m.r,{className:"item-title"},y.a.createElement("div",{className:"title-item"},"\u671f\u521d","Other"===x?"\u5168\u90e8"===A?y.a.createElement(m.x,{checked:"debit"!=Y,className:"balance-deirection",checkedChildren:"\u8d37",unCheckedChildren:"\u501f",onChange:function(){e(L.b(Y)),e(L.e(J))}}):y.a.createElement("span",{style:{color:"rgb(153,153,153)"}},"debit"===Y?"(\u501f\u65b9)":"(\u8d37\u65b9)"):""),y.a.createElement("div",{className:"title-account"},y.a.createElement("div",null,y.a.createElement(p.a,{direction:"debit",isTitle:!0},_.balanceAmount?_.balanceAmount:"")),y.a.createElement("div",null,y.a.createElement(p.a,{direction:"debit",isTitle:!0,decimalPlaces:G},_.balanceQuantity?_.balanceQuantity:""),N.unitCardName,"*",y.a.createElement(p.a,{direction:"debit",isTitle:!0,decimalPlaces:w},_.balancePrice?_.balancePrice:"")))),y.a.createElement(m.s,{flex:"1",uniqueKey:"kcmxb-scroll",className:"scroll-item",savePosition:!0},T&&T.map((function(t,a){return y.a.createElement("div",{key:a},y.a.createElement(E,{className:"balance-running-tabel-width",data:t,dispatch:e,unitCardName:N.unitCardName,unitDecimalCount:I,baseData:T,history:i,showReverseAmount:J,quantityScale:G,priceScale:w}))}))),y.a.createElement(m.r,{className:"item-title"},y.a.createElement("div",{className:"title-item"},"\u671f\u672b ","Other"===x?y.a.createElement("span",{style:{color:"rgb(153,153,153)"}},J?"debit"===N.allBalanceDirection?"(\u8d37\u65b9)":"(\u501f\u65b9)":"debit"===N.allBalanceDirection?"(\u501f\u65b9)":"(\u8d37\u65b9)"):""," "),y.a.createElement("div",{className:"title-account"},y.a.createElement("div",null,y.a.createElement(p.a,{direction:"debit",isTitle:!0},J?0-N.allBalanceAmount:N.allBalanceAmount)),y.a.createElement("div",null,y.a.createElement(p.a,{direction:"debit",isTitle:!0,decimalPlaces:G},J?0-N.allBalanceQuantity:N.allBalanceQuantity),N.unitCardName,"*",y.a.createElement(p.a,{direction:"debit",isTitle:!0,decimalPlaces:w},N.allBalancePrice)))))}}]),a}(y.a.Component),r.displayName="InventoryMxb",i=o))||i,T={inventoryMxbState:a(1323).a,runningPreviewState:k.a}}}]);