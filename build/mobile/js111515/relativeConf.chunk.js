(this.webpackJsonpfannix=this.webpackJsonpfannix||[]).push([[125],{1066:function(e,t,a){},1124:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));a(32),a(31),a(70);var n=a(7),i=a(8),r=a(9),c=a(10),l=a(0),s=a.n(l),o=(a(1),a(11),a(135)),u=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,r=new Array(i),c=0;c<i;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=(e.dispatch,e.typeList),a=e.value,n=e.onChange,i=e.visible,r=e.isSelectEnd,c=e.parentDisabled,l=e.onCancel,u=function e(t){return t.map((function(t,a){return t.childList&&t.childList.length?{key:t.uuid,label:t.name,childList:e(t.childList)}:{key:t.uuid,label:t.name,childList:[]}}))},m=[];return t.size?t.getIn([0,"childList"]).size?!0!==r?(m=u(t.getIn([0,"childList"]).toJS())).unshift({key:t.getIn([0,"uuid"]),label:t.getIn([0,"name"]),childList:[]}):m=u(t.getIn([0,"childList"]).toJS()):m.unshift({key:t.getIn([0,"uuid"]),label:t.getIn([0,"name"]),childList:[]}):m=[{key:"",label:"\u5168\u90e8",childList:[]}],s.a.createElement(o.a,{visible:i,district:m,value:a,parentDisabled:c,onChange:n,onCancel:l},this.props.children)}}]),a}(s.a.Component)},1126:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));a(98),a(115),a(62),a(31),a(70),a(83);var n=a(4),i=a(1),r=(a(57),a(14),a(12),a(2),a(1149)),c=a(1151),l=Object(i.fromJS)({views:{acName:"",acId:"",relation:"",anotherTabName:"\u5168\u90e8",activeTapKey:"\u5168\u90e8",activeTapKeyUuid:"",sonUuid:"",sonName:"\u5168\u90e8",insertOrModify:"insert",fromPage:"relative",otherPageName:"",treeSelect:{treeTwoList:[],treeThreeList:[],selectUuid:["","",""],selectName:"",selectEndUuid:""}},tags:[],originTags:[],relativeHighTypeTemp:c.e,relativeTypeTemp:c.f,relativeCardTemp:c.d,relativeCardSelectList:[],relativeCardList:[],treeList:[],relativeTreeSelectList:[],typeTree:[],typeSelect:"",cardHighTypeSelectList:[]});function s(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,a=arguments.length>1?arguments[1]:void 0;return((e={},Object(n.a)(e,r.w,(function(){return l})),Object(n.a)(e,r.j,(function(){return t=t.setIn(["relativeHighTypeTemp",a.name],a.value)})),Object(n.a)(e,r.k,(function(){return a.short?t.set(a.dataType,a.value):t.setIn(a.dataType,a.value)})),Object(n.a)(e,r.u,(function(){return a.title.unshift({name:"\u5168\u90e8",uuid:""}),t=t.set("tags",Object(i.fromJS)(a.title)).set("originTags",Object(i.fromJS)(a.title))})),Object(n.a)(e,r.t,(function(){return t=t.set("relativeCardList",Object(i.fromJS)(a.list)).set("treeList",Object(i.fromJS)(a.tree)).set("relativeSelectList",Object(i.fromJS)([])).mergeIn(["views"],Object(i.fromJS)({activeTapKey:a.name,activeTapKeyUuid:a.uuid,sonUuid:"",sonName:"\u5168\u90e8",treeSelect:l.getIn(["views","treeSelect"])}))})),Object(n.a)(e,r.a,(function(){if(t=t.set("tags",t.get("originTags")),"modify"===a.insertOrModify){for(var e=t.get("tags").toJS(),n=a.data.categoryTypeList,r=0;r<n.length;r++)for(var l=0;l<e.length;l++)if(n[r].ctgyUuid===e[l].uuid){e[l].checked=!0,e[l].selectUuid=n[r].subordinateUuid,e[l].selectName=n[r].subordinateName,e[l].tree=n[r].options;break}t=(t=(t=t.set("tags",Object(i.fromJS)(e))).set("relativeCardTemp",Object(i.fromJS)(a.data))).setIn(["relativeCardTemp","insertOrModify"],"modify"),0===a.data.payableOpened&&(t=t.setIn(["relativeCardTemp","payableOpened"],"")),0===a.data.receivableOpened&&(t=t.setIn(["relativeCardTemp","receivableOpened"],"")),0===a.data.prepaidOpened&&(t=t.setIn(["relativeCardTemp","prepaidOpened"],"")),0===a.data.advanceOpened&&(t=t.setIn(["relativeCardTemp","advanceOpened"],""))}else t=t.set("relativeCardTemp",Object(i.fromJS)(c.d)).setIn(["relativeCardTemp","insertOrModify"],"insert").setIn(["relativeCardTemp","isCheckOut"],a.data.isCheckOut).setIn(["relativeCardTemp","advanceAcId"],a.data.defaultAc.advanceAcId).setIn(["relativeCardTemp","advanceAcName"],a.data.defaultAc.advanceAcName).setIn(["relativeCardTemp","receivableAcId"],a.data.defaultAc.receivableAcId).setIn(["relativeCardTemp","receivableAcName"],a.data.defaultAc.receivableAcName).setIn(["relativeCardTemp","payableAcId"],a.data.defaultAc.payableAcId).setIn(["relativeCardTemp","payableAcName"],a.data.defaultAc.payableAcName).setIn(["relativeCardTemp","prepaidAcId"],a.data.defaultAc.prepaidAcId).setIn(["relativeCardTemp","prepaidAcName"],a.data.defaultAc.prepaidAcName);return t=t.setIn(["views","fromPage"],a.fromPage||"relative")})),Object(n.a)(e,r.b,(function(){return t=t.set("relativeCardTemp",Object(i.fromJS)(c.d)).setIn(["relativeCardTemp","insertOrModify"],"insert").setIn(["relativeCardTemp","isCheckOut"],a.receivedData.isCheckOut).set("tags",a.originTags).setIn(["views","fromPage"],a.otherPageName).setIn(["views","otherPageName"],a.otherPageName).setIn(["relativeCardTemp","code"],a.receivedData.code)})),Object(n.a)(e,r.g,(function(){(t=t.setIn(["relativeCardTemp",a.name],a.value),"isPayUnit"!==a.name||a.value)||((t=t.setIn(["relativeCardTemp","enablePrepaidAc"],!1)).getIn(["relativeCardTemp","isReceiveUnit"])?t.get("tags").map((function(e,a){if(!e.get("isReceiveUnit")){var n=(t=t.setIn(["tags",a,"checked"],!1)).getIn(["relativeCardTemp","categoryTypeList"]).findIndex((function(t,a){return t.get("ctgyUuid")===e.get("uuid")}));n>-1&&(t=t.setIn(["relativeCardTemp","categoryTypeList"],t.getIn(["relativeCardTemp","categoryTypeList"]).delete(n)))}})):(t.get("tags").map((function(e,a){t=t.setIn(["tags",a,"checked"],!1)})),t=t.setIn(["relativeCardTemp","categoryTypeList"],Object(i.fromJS)([]))));"isReceiveUnit"!==a.name||a.value||((t=t.setIn(["relativeCardTemp","enableAdvanceAc"],!1)).getIn(["relativeCardTemp","isPayUnit"])?t.get("tags").map((function(e,a){if(!e.get("isPayUnit")){var n=(t=t.setIn(["tags",a,"checked"],!1)).getIn(["relativeCardTemp","categoryTypeList"]).findIndex((function(t,a){return t.get("ctgyUuid")===e.get("uuid")}));n>-1&&(t=t.setIn(["relativeCardTemp","categoryTypeList"],t.getIn(["relativeCardTemp","categoryTypeList"]).delete(n)))}})):(t.get("tags").map((function(e,a){t=t.setIn(["tags",a,"checked"],!1)})),t=t.setIn(["relativeCardTemp","categoryTypeList"],Object(i.fromJS)([]))));return t})),Object(n.a)(e,r.d,(function(){var e=t.get("tags"),n="";if(e.find((function(t,r){t.get("uuid")===a.tag.get("uuid")&&(e=e.setIn([r,"checked"],a.checked),t.get("selectUuid")&&(n=t.get("selectUuid")),a.checked&&(e=e.setIn([r,"tree"],Object(i.fromJS)(a.tree)),0===a.tree[0].childList.length&&(e=e.setIn([r,"selectUuid"],a.tree[0].uuid).setIn([r,"selectName"],a.tree[0].name),n=a.tree[0].uuid)))})),a.checked){var r=t.getIn(["relativeCardTemp","categoryTypeList"]).toJS();r.push({ctgyUuid:a.tag.get("uuid"),subordinateUuid:n}),t=t.setIn(["relativeCardTemp","categoryTypeList"],Object(i.fromJS)(r))}else{var c=t.getIn(["relativeCardTemp","categoryTypeList"]).findIndex((function(e,t){return e.get("ctgyUuid")===a.tag.get("uuid")}));t=t.setIn(["relativeCardTemp","categoryTypeList"],t.getIn(["relativeCardTemp","categoryTypeList"]).delete(c))}return t=t.set("tags",e)})),Object(n.a)(e,r.y,(function(){return t.get("tags").map((function(e,n){e.get("uuid")===a.uuid&&(t=t.set("typeTree",t.getIn(["tags",n,"tree"])).set("typeSelect",t.getIn(["tags",n])))})),t})),Object(n.a)(e,r.e,(function(){var e=t.get("typeSelect");return t.getIn(["relativeCardTemp","categoryTypeList"]).map((function(n,i){n.get("ctgyUuid")===e.get("uuid")&&(t=t.setIn(["relativeCardTemp","categoryTypeList",i,"subordinateUuid"],a.uuid))})),t.get("tags").map((function(n,i){n.get("uuid")===e.get("uuid")&&(t=t.setIn(["tags",i,"selectUuid"],a.uuid).setIn(["tags",i,"selectName"],a.name))})),t})),Object(n.a)(e,r.f,(function(){var e=t.getIn(["views","acId"]),n=t.getIn(["views","acName"]);return t=t.setIn(["relativeCardTemp",e],a.uuid).setIn(["relativeCardTemp",n],a.name)})),Object(n.a)(e,r.A,(function(){return t=t.set("relativeCardList",Object(i.fromJS)(a.list)).set("treeList",Object(i.fromJS)(a.treeList)),"insertAndNew"===a.flag&&(t=t.setIn(["relativeCardTemp","code"],a.code).setIn(["relativeCardTemp","name"],"").setIn(["relativeCardTemp","companyAddress"],"").setIn(["relativeCardTemp","companyTel"],"").setIn(["relativeCardTemp","financeName"],"").setIn(["relativeCardTemp","financeTel"],"").setIn(["relativeCardTemp","receivableOpened"],"").setIn(["relativeCardTemp","advanceOpened"],"").setIn(["relativeCardTemp","payableOpened"],"").setIn(["relativeCardTemp","prepaidOpened"],"")),t})),Object(n.a)(e,r.h,(function(){if("relativeCard"==a.clearType&&(t=t.set("relativeCardSelectList",Object(i.fromJS)([])).update("relativeCardList",(function(e){return e.map((function(e){return e.set("checked",!1)}))}))),"relativeHighType"==a.clearType&&(t=t.set("cardHighTypeSelectList",Object(i.fromJS)([])).update("tags",(function(e){return e.map((function(e){return e.set("checked",!1)}))}))),"relativeTree"==a.clearType){var e=t.getIn(["relativeHighTypeTemp","treeList"]).toJS();!function e(t){return t.map((function(t,a){t.checked=!1,t.childList.length>0&&e(t.childList)}))}(e),t=t.set("treeList",Object(i.fromJS)(e)).set("relativeTreeSelectList",Object(i.fromJS)([]))}return t})),Object(n.a)(e,r.o,(function(){var e=t.get("relativeCardList"),n=t.get("relativeCardSelectList").toJS();return e.find((function(e,n){e.get("uuid")===a.uuid&&(t=t.setIn(["relativeCardList",n,"checked"],a.checked))})),a.checked?(n.push({uuid:a.uuid}),t=t.set("relativeCardSelectList",Object(i.fromJS)(n))):n.find((function(e,n){e.uuid===a.uuid&&(t=t.deleteIn(["relativeCardSelectList",n]))})),t})),Object(n.a)(e,r.q,(function(){return t=t.set("relativeCardList",Object(i.fromJS)(a.data)).set("relativeCardSelectList",Object(i.fromJS)([])).set("treeList",Object(i.fromJS)(a.treeList))})),Object(n.a)(e,r.s,(function(){return t=t.set("relativeCardList",Object(i.fromJS)(a.data)).set("relativeCardSelectList",Object(i.fromJS)([])).setIn(["views","sonUuid"],a.sonUuid).setIn(["views","sonName"],a.sonName)})),Object(n.a)(e,r.c,(function(){return t=t.set("relativeHighTypeTemp",Object(i.fromJS)(c.e))})),Object(n.a)(e,r.j,(function(){return t=t.setIn(["relativeHighTypeTemp",a.name],a.value)})),Object(n.a)(e,r.r,(function(){return t=t.set("relativeHighTypeTemp",Object(i.fromJS)(a.data))})),Object(n.a)(e,r.i,(function(){var e=t.get("tags"),n=t.get("cardHighTypeSelectList").toJS();return e.map((function(e,n){e.get("uuid")===a.uuid&&(t=t.setIn(["tags",n,"checked"],a.status))})),a.status?(n.push({uuid:a.uuid}),t=t.set("cardHighTypeSelectList",Object(i.fromJS)(n))):n.find((function(e,n){e.uuid===a.uuid&&(t=t.deleteIn(["cardHighTypeSelectList",n]))})),t})),Object(n.a)(e,r.p,(function(){a.title.unshift({name:"\u5168\u90e8",uuid:""});var e=t.getIn(["views","activeTapKeyUuid"]);return a.title.map((function(e){return e.uuid})).includes(e)||(t=t.setIn(["views","activeTapKeyUuid"],"").setIn(["views","activeTapKey"],"\u5168\u90e8").setIn(["views","treeSelect"],l.getIn(["views","treeSelect"]))),t=t.set("tags",Object(i.fromJS)(a.title)).set("originTags",Object(i.fromJS)(a.title))})),Object(n.a)(e,r.x,(function(){return t=t.setIn(["relativeTypeTemp","name"],"").setIn(["relativeTypeTemp","uuid"],"").setIn(["relativeTypeTemp","parentUuid"],a.uuid).setIn(["relativeTypeTemp","parentName"],a.name)})),Object(n.a)(e,r.m,(function(){return t=t.setIn(["relativeTypeTemp",a.name],a.value)})),Object(n.a)(e,r.n,(function(){return t=t.setIn(["relativeTypeTemp","parentUuid"],a.parentUuid).setIn(["relativeTypeTemp","parentName"],a.parentName)})),Object(n.a)(e,r.z,(function(){return t=t.set("relativeCardList",Object(i.fromJS)(a.list)).setIn(["views","activeTapKey"],a.name).setIn(["views","activeTapKeyUuid"],a.activeTapKeyUuid).set("treeList",Object(i.fromJS)(a.tree))})),Object(n.a)(e,r.v,(function(){return t=t.set("relativeTypeTemp",Object(i.fromJS)(a.data))})),Object(n.a)(e,r.l,(function(){var e=t.getIn(["relativeHighTypeTemp","treeList"]).toJS();return function e(t,n){return t.map((function(t,i){var r=n;(t.uuid==a.uuid||n)&&(t.checked=a.value,r=!0),t.childList.length>0&&e(t.childList,r)}))}(e,!1),t.setIn(["relativeHighTypeTemp","treeList"],Object(i.fromJS)(e))})),Object(n.a)(e,r.B,(function(){return t=t.setIn(["relativeCardTemp","used"],a.used)})),e)[a.type]||function(){return t})()}},1151:function(e,t,a){"use strict";a.d(t,"e",(function(){return n})),a.d(t,"f",(function(){return i})),a.d(t,"d",(function(){return r})),a.d(t,"b",(function(){return c})),a.d(t,"c",(function(){return l})),a.d(t,"a",(function(){return s}));var n={isPayUnit:!0,isReceiveUnit:!0,isAppliedWater:!0,isAppliedInvoicing:!1,isAppliedLedger:!1,name:"",payableAcName:"",payableAcId:"",receivableAcName:"",receivableAcId:"",advanceAcName:"",advanceAcId:"",prepaidAcName:"",prepaidAcId:"",treeList:[]},i={name:"",remark:"",parentName:"\u5168\u90e8",parentUuid:"",uuid:""},r={name:"",code:"",isPayUnit:!0,isReceiveUnit:!0,payableAcName:"\u5e94\u4ed8\u8d26\u6b3e",receivableAcName:"\u5e94\u6536\u8d26\u6b3e",advanceAcName:"\u9884\u6536\u8d26\u6b3e",prepaidAcName:"\u9884\u4ed8\u8d26\u6b3e",payableAcId:"2202",receivableAcId:"1122",advanceAcId:"2203",prepaidAcId:"1123",companyAddress:"",companyTel:"",financeName:"",financeTel:"",remark:"",receivableOpened:"",advanceOpened:"",payableOpened:"",prepaidOpened:"",categoryTypeList:[],insertOrModify:"insert",insertFrom:"",enablePrepaidAc:!0,enableAdvanceAc:!0,contacterInfo:!1,isCheckOut:!1},c={name:"",isAppliedSale:!0,isAppliedPurchase:!0,isAppliedProduce:!1,isAppliedWater:!0,isAppliedInvoicing:!1,uuid:""},l={parentUuid:"",name:"",remark:"",ctgyUuid:"",parentName:"",uuid:""},s={code:"",name:"",inventoryNature:"",inventoryAcName:"",inventoryAcId:"",opened:"",remark:"",isAppliedSale:!0,isAppliedPurchase:!0,isAppliedProduce:!1,categoryTypeList:[],contacterInfo:!1,isCheckOut:!1,openList:[],isOpenedQuantity:!1,warehousePriceMode:"U",openedQuantity:"",unit:{uuid:"",name:"",isStandard:!1,uuidList:[]},unitPriceList:[],assemblyState:"CLOSE",assemblySheet:{unitUuid:"",unitName:"",quantity:"",materialList:[]},financialInfo:{openAssist:!1,assistClassificationList:[],openBatch:!1,isBatchUniform:!1,batchList:[],openShelfLife:!1,shelfLife:"",openSerial:!1}}},1207:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));a(31);function n(e,t){var a=[],n=!1;return function t(i){i.map((function(i){if(!n)return i.uuid==e?(n=!0,void a.push(i)):void(i.childList.length&&(a.push(i),t(i.childList)))})),n||a.pop()}(t),a}},1208:function(e,t,a){},1209:function(e,t,a){"use strict";a.d(t,"a",(function(){return f}));a(32),a(115),a(31),a(116),a(131);var n=a(7),i=a(8),r=a(9),c=a(10),l=(a(1122),a(1123)),s=a.n(l),o=a(0),u=a.n(o),m=(a(1),a(11)),d=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).state={visible:!1},i}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=(t.dispatch,t.overlay),n=t.item,i=t.data,r=t.swapPosition,c=t.i,l=t.sortClick,o=t.iconClick,d=this.state.visible;return u.a.createElement("div",{onClick:function(){o(!0)}},u.a.createElement(s.a,{visible:d,overlay:a,align:{overflow:{adjustY:0,adjustX:0},offset:[10,0]},placement:"bottomLeft",onSelect:function(t){switch(t.props.value){case"up":l(n.get("uuid"),i.getIn([c-1,"uuid"]));break;case"down":l(n.get("uuid"),i.getIn([c+1,"uuid"]));break;default:console.log(t.props.value)}e.setState({visible:!1}),o(!1)}},u.a.createElement(m.l,{type:"swap-position",style:{display:r?"block":"none"},className:"swap-position-icon"})))}}]),a}(u.a.Component),p=(a(1208),s.a.Item),f=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,r=new Array(i),c=0;c<i;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={showList:[],sortModal:!1},e}return Object(i.a)(a,[{key:"showListLoop",value:function(e,t){var a=this;e.map((function(e,n){e.get("childList").size>0&&(t(e.get("uuid")),a.showListLoop(e.get("childList"),t))}))}},{key:"componentDidMount",value:function(){var e=[];this.showListLoop(this.props.treeList,(function(t){return e.push(t)})),this.setState({showList:e})}},{key:"componentWillReceiveProps",value:function(e){var t=[];this.showListLoop(e.treeList,(function(e){return t.push(e)})),this.setState({showList:t})}},{key:"render",value:function(){var e=this,t=this.props,a=t.dispatch,n=t.treeList,i=t.itemClick,r=t.isSort,c=t.isAdd,l=t.addClick,s=t.isDelete,o=t.deleteClick,f=t.sortClick,g=t.mastLast,v=this.state,h=v.showList,y=v.sortModal;return u.a.createElement("div",{className:"config-tree-com"},function t(n,v){return n.map((function(y,b){var E=y.get("name"),T=y.get("uuid"),C=!!y.get("checked"),k=[];0!=b&&"\u672a\u5206\u7c7b"!=E&&k.push(u.a.createElement(p,{key:"3",value:"up"},"\u4e0a\u79fb")),b!=n.size-1&&"\u672a\u5206\u7c7b"!=n.getIn([b+1,"name"])&&k.push(u.a.createElement(p,{key:"4",value:"down"},"\u4e0b\u79fb"));var I=!(!y.get("childList")||!y.get("childList").size),w=!!I&&h.some((function(e){return e===y.get("uuid")})),O="";return 2==v&&(O=u.a.createElement("span",{className:"ac-flag",style:{width:".1rem",backgroundColor:"#D1C0A5"}})),3==v&&(O=u.a.createElement("span",{className:"ac-flag",style:{width:".2rem",backgroundColor:"#7E6B5A"}})),4==v&&(O=u.a.createElement("span",{className:"ac-flag",style:{width:".3rem",backgroundColor:"#59493f"}})),u.a.createElement("div",{key:y.get("uuid")},u.a.createElement("div",{className:"tree-com-type-list"},u.a.createElement("div",{className:"tree-com-touch-range-name",onClick:function(){if(c)v<4&&l(T,E);else if(s)o(T,E,!C);else{if(r)return;if(I&&g)return;var t=h;if(w){var a=t.findIndex((function(e){return e===y.get("uuid")}));t.splice(a,1)}else t.push(y.get("uuid"));e.setState({showList:t})}}},u.a.createElement(m.e,{checked:C,disabled:"\u5168\u90e8"==E,style:{paddingRight:"4px",display:s?"inline-block":"none"}}),u.a.createElement(m.l,{type:"add-small",className:"add-type-icon",style:{display:c?"block":"none",opacity:v<4?"1":"0"}}),"\u5168\u90e8"===E?"":0===k.length?u.a.createElement("div",{className:"swap-position-block",style:{display:r?"block":"none"}}):u.a.createElement(d,{dispatch:a,overlay:k,item:y,data:n,swapPosition:r,i:b,sortClick:f,iconClick:function(t){return e.setState({sortModal:t})}}),O,u.a.createElement("span",{className:"tree-com-high-type-name",style:{color:I&&g?"#999":""},onClick:function(e){e.stopPropagation(),i(T,E,y)}},E)),u.a.createElement("div",{className:"tree-com-touch-range-icon",style:{display:I?"":"none"}},u.a.createElement(m.l,{type:"arrow-down",style:w?{transform:"rotate(180deg)"}:"",onClick:function(){var t=h;if(w){var a=t.findIndex((function(e){return e===y.get("uuid")}));t.splice(a,1)}else t.push(y.get("uuid"));e.setState({showList:t})}}))),I&&w?t(y.get("childList"),v+1):"")}))}(n,1),u.a.createElement("div",{className:"choose-type",style:{display:y?"":"none"},onClick:function(t){t.stopPropagation(),e.setState({sortModal:!1})}}))}}]),a}(u.a.Component)},1332:function(e,t,a){},940:function(e,t,a){"use strict";a.r(t),a.d(t,"reducer",(function(){return W})),a.d(t,"view",(function(){return V}));var n,i,r,c,l,s,o,u,m,d,p,f,g,v,h,y=a(7),b=a(8),E=a(9),T=a(10),C=a(0),k=a.n(C),I=a(11),w=a(6),O=(a(32),a(31),a(56),a(70),a(29),a(48),a(47)),S=a(1),N=(a(1066),a(1332),a(2)),L=a(1207),j=a(12),A=a(1101),U=Object(O.c)((function(e){return e}))((r=i=function(e){Object(T.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(y.a)(this,a),(n=t.call(this,e)).scrollView="",n.scrollerHeight=0,n.listHeight=0,n.pageSize=50,n.throttleFn=Object(j.v)((function(e,t,a){e.target.scrollTop+100+n.scrollerHeight>=t*n.listHeight*n.pageSize&&t<a&&n.setState({currentPage:t+1})})),n.state={showTree:!1,showCheckBox:!1,currentPage:1},n}return Object(b.a)(a,[{key:"componentDidMount",value:function(){N.a.setTitle({title:"\u5f80\u6765\u8bbe\u7f6e"}),N.a.setRight({show:!1}),N.a.setIcon({showIcon:!1}),"home"===sessionStorage.getItem("prevPage")&&(sessionStorage.removeItem("prevPage"),this.props.dispatch(A.v()),this.props.dispatch(A.t(Object(S.fromJS)({uuid:"",name:"\u5168\u90e8"})))),this.scrollViewHtml=document.getElementsByClassName("right-content")[0],this.scrollerHeight=Number(window.getComputedStyle(this.scrollViewHtml).height.replace("px","")),this.listHtml=document.getElementsByClassName("list-html")[0],this.listHeight=this.listHtml?Number(window.getComputedStyle(this.listHtml).height.replace("px","")):50}},{key:"render",value:function(){var e=this,t=this.props,a=t.dispatch,n=t.history,i=t.homeState,r=t.relativeConfState,c=this.state,l=c.showTree,s=c.showCheckBox,o=c.currentPage,u=i.getIn(["permissionInfo","Config"]).getIn(["edit","permission"]),m=r.get("tags"),d=r.getIn(["views","activeTapKey"]),p=r.getIn(["views","activeTapKeyUuid"]),f=r.get("relativeCardList"),g=r.get("treeList"),v=Math.ceil(f.size/this.pageSize),h=r.getIn(["views","treeSelect"]),y=[];if(g.size){var b=g.getIn([0,"cardNumber"]);y.push({uuid:g.getIn([0,"uuid"]),name:g.getIn([0,"name"]),childList:[],cardNumber:b}),y=y.concat(g.getIn([0,"childList"]).toJS())}var E=h.get("treeTwoList"),T=h.get("treeThreeList"),C=h.get("selectUuid").toJS(),w=h.get("selectName"),O=h.get("selectEndUuid");return k.a.createElement(I.h,{className:"relative-config"},k.a.createElement(I.s,{flex:"1",className:"border-top"},k.a.createElement("div",{className:"setting-wrap"},k.a.createElement("div",{className:"setting-wrap-content"},k.a.createElement("div",{className:"setting-wrap-content-left"},m.map((function(t,n){return k.a.createElement("div",{className:d===t.get("name")?"left-item active":"left-item",key:t.get("uuid"),onClick:function(){a(A.t(t)),e.setState({currentPage:1,showTree:!1}),e.scrollViewHtml.scrollTop=0}},k.a.createElement("span",{className:"text",style:{WebkitBoxOrient:"vertical"}},t.get("name")))}))),k.a.createElement("div",{className:"setting-wrap-content-right"},k.a.createElement("div",{className:"right-item list-html",style:{display:p?"":"none"},onClick:function(){if(e.setState({showTree:!l}),!l&&O){var t=Object(L.a)(O,y),n=t[0],i=n.childList;i.length&&i.unshift({uuid:n.uuid,name:"\u5168\u90e8",oriName:n.name,childList:[]});var r=t[1]?t[1]:{uuid:"",childList:[]},c=r.childList;c.length&&c.unshift({uuid:r.uuid,name:"\u5168\u90e8",oriName:r.name,childList:[]}),a(A.h(["views","treeSelect"],h.merge(Object(S.fromJS)({treeTwoList:i,treeThreeList:c,selectUuid:[n.uuid,r.uuid,O]}))))}}},k.a.createElement("span",null,w||d),k.a.createElement(I.l,{type:"triangle",style:l?{transform:"rotate(180deg)"}:""})),k.a.createElement("div",{className:"tree-content-hidden ".concat(l?"tree-content":""),onClick:function(){return e.setState({showTree:!1})}},Object(S.fromJS)([y,E,T]).map((function(t,n){return k.a.createElement("div",{className:"tree-list ".concat(t.size?"bg-f".concat(n):""),key:"level_".concat(n)},t.map((function(t){var i=t.get("uuid"),r=t.get("name"),c=t.get("oriName"),l=t.get("childList").size,s=t.get("cardNumber");return k.a.createElement("div",{className:i==C[n]?"tree-item active":"tree-item",key:i,onClick:function(o){var u=[];l?u=(u=t.get("childList")).unshift(Object(S.fromJS)({uuid:i,name:"\u5168\u90e8",oriName:r,childList:[],cardNumber:s})):(a(A.u(p,i,r)),e.setState({currentPage:1,showTree:!1}),e.scrollViewHtml.scrollTop=0),0==n&&a(A.h(["views","treeSelect"],h.merge(Object(S.fromJS)({treeTwoList:u,treeThreeList:[],selectUuid:[i,C[1],C[2]]})))),1==n&&a(A.h(["views","treeSelect"],h.merge(Object(S.fromJS)({treeThreeList:u,selectUuid:[C[0],i,C[2]]})))),2==n&&a(A.h(["views","treeSelect"],h.merge(Object(S.fromJS)({selectUuid:[C[0],C[1],i]})))),l||(a(A.h(["views","treeSelect","selectName"],c||r)),a(A.h(["views","treeSelect","selectEndUuid"],i))),o.stopPropagation()}},k.a.createElement("div",{className:"overElli"},r,s?"(".concat(s,")"):null),l?k.a.createElement(I.l,{type:"arrow-right"}):null)})))}))),k.a.createElement("div",{className:"right-content",onScroll:function(t){e.throttleFn(t,o,v)}},f.slice(0,o*this.pageSize).map((function(e,t){return k.a.createElement("div",{key:e.get("uuid"),className:"right-item",onClick:function(){if(s)a(A.m(!e.get("checked"),e.get("uuid")));else{a(A.r(e.get("uuid"),(function(){return n.push("/config/relative/relativeCardInsert")})))}}},k.a.createElement("span",{className:"item-checkbox",style:{display:s?"":"none"}},k.a.createElement(I.e,{checked:e.get("checked")})),k.a.createElement("span",{className:"right-item-left text",style:{WebkitBoxOrient:"vertical"}},e.get("code"),"_",e.get("name")),k.a.createElement(I.l,{type:"arrow-right"}))}))))))),k.a.createElement(I.d,{className:"border-top",disabled:!u,style:{display:s?"none":""}},k.a.createElement(I.c,{disabled:!u,onClick:function(){a(A.b((function(){n.push("/config/relative/relativeCardInsert")}),"insert"))}},k.a.createElement(I.l,{type:"add-plus"}),"\u65b0\u589e"),k.a.createElement(I.c,{disabled:!u,onClick:function(){return e.setState({showCheckBox:!0})}},k.a.createElement(I.l,{type:"select"}),"\u9009\u62e9"),k.a.createElement(I.c,{onClick:function(){n.push("/config/relative/relativeHighType")}},k.a.createElement(I.l,{type:"home"}),k.a.createElement("span",null,"\u7c7b\u522b\u7ba1\u7406"))),k.a.createElement(I.d,{className:"border-top",style:{display:s?"":"none"}},k.a.createElement(I.c,{onClick:function(){e.setState({showCheckBox:!1}),a(A.n("relativeCard"))}},k.a.createElement(I.l,{type:"cancel"}),"\u53d6\u6d88"),k.a.createElement(I.c,{disabled:!u,onClick:function(){a(A.q((function(){return e.setState({showCheckBox:!1})})))}},k.a.createElement(I.l,{type:"select"}),"\u5220\u9664")))}}]),a}(k.a.Component),i.displayName="RelativeConfApp",n=r))||n,J=(a(62),a(83),a(1124)),x=I.k.Label,P=I.k.Item,H=Object(O.c)((function(e){return e}))((s=l=function(e){Object(T.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(y.a)(this,a),(n=t.call(this,e)).state={showTypeModal:!1,typeTreeValue:""},n}return Object(b.a)(a,[{key:"componentDidMount",value:function(){N.a.setTitle({title:"\u5f80\u6765\u5361\u7247"}),N.a.setRight({show:!1}),N.a.setIcon({showIcon:!1})}},{key:"render",value:function(){var e=this,t=this.props,a=t.dispatch,n=t.history,i=t.homeState,r=t.relativeConfState,c=this.state,l=c.showTypeModal,s=c.typeTreeValue,o=r.get("tags").delete(0),u=r.get("typeTree"),m=r.getIn(["views","fromPage"]),d="relative"!==m,p=r.get("relativeCardTemp"),f=p.get("code"),g=p.get("name"),v=p.get("uuid"),h=p.get("used"),y=p.get("isPayUnit"),b=p.get("isReceiveUnit"),E=p.get("companyAddress"),T=p.get("companyTel"),C=p.get("financeName"),w=p.get("financeTel"),O=p.get("remark"),S=p.get("receivableOpened"),L=p.get("advanceOpened"),U=p.get("payableOpened"),H=p.get("prepaidOpened"),z=p.get("categoryTypeList"),M=p.get("enablePrepaidAc"),B=p.get("enableAdvanceAc"),R=p.get("contacterInfo"),D=p.get("isCheckOut"),K=p.get("insertOrModify"),V=i.getIn(["permissionInfo","Config"]).getIn(["edit","permission"]);d&&(V=i.getIn(["permissionInfo","LrAccount"]).getIn(["edit","permission"]));var W=function(e,t){var n=[{type:"name",value:g},{type:"code",value:f},{type:"remark",value:O},{type:"companyAddress",value:E},{type:"financeName",value:C},{type:"opened",value:S},{type:"opened",value:L},{type:"opened",value:U},{type:"opened",value:H},{type:"tel",value:T},{type:"tel",value:w}];j.g.beforeSaveCheck(n,(function(){return function(){var n=0;if(o.map((function(e,t){e.get("checked")&&n++})),0!==n)if(z.size>0){var i=!0;z.map((function(e,t){void 0!==e.get("subordinateUuid")&&""!==e.get("subordinateUuid")||(i=!1)})),i?a(A.A(m,t,e)):N.a.toast.info("\u8bf7\u9009\u62e9\u6240\u5c5e\u5206\u7c7b\u5b50\u7ea7\u7c7b\u522b")}else N.a.toast.info("\u8bf7\u9009\u62e9\u6240\u5c5e\u5206\u7c7b\u5b50\u7ea7\u7c7b\u522b");else N.a.toast.info("\u6240\u5c5e\u5206\u7c7b\u5fc5\u9009\u4e00\u9879")}()}))},q=[],F=[];return o.map((function(e){(y&&e.get("isPayUnit")||b&&e.get("isReceiveUnit"))&&q.push({key:e.get("name"),value:e.get("uuid")}),e.get("checked")&&F.push(e.toJS())})),k.a.createElement(I.h,{className:"iuManage-config"},k.a.createElement(I.s,{flex:"1",className:"border-top"},k.a.createElement(I.k,null,k.a.createElement(P,{label:"\u7f16\u7801",showAsterisk:!0,className:"config-form-item-input-style"},k.a.createElement(I.E,{placeholder:"\u652f\u6301\u6570\u5b57\u5927\u5c0f\u5199\u548c\u82f1\u6587",value:f,onChange:function(e){return j.g.inputCheck("code",e,(function(){a(A.g("code",e))}))}}),"\xa0",k.a.createElement(I.l,{type:"arrow-right",className:"ac-option-icon",size:"14"})),k.a.createElement(P,{label:"\u540d\u79f0",showAsterisk:!0,className:"config-form-item-input-style"},k.a.createElement(I.E,{placeholder:"\u586b\u5199\u540d\u79f0",value:g,onChange:function(e){return a(A.g("name",e))}}),"\xa0",k.a.createElement(I.l,{type:"arrow-right",className:"ac-option-icon",size:"14"})),k.a.createElement(I.n,{district:q,value:F.map((function(e){return e.uuid})),title:"\u6240\u5c5e\u5206\u7c7b",className:"config-form-item-auto-heigth-row",onOk:function(e){var t=e.map((function(e){return e.value}));o.map((function(e){t.includes(e.get("uuid"))?a(A.e(e,!0)):a(A.e(e,!1))}))}},k.a.createElement(x,{showAsterisk:!0},"\u6240\u5c5e\u5206\u7c7b"),k.a.createElement("div",{className:"config-form-item-auto-height-row-item"},F.map((function(e,t){return k.a.createElement("span",{key:t,className:"config-form-item-type-choose-lable",style:{paddingLeft:"8px"}},e.name)}))),"\xa0",k.a.createElement(I.l,{type:"arrow-right",className:"ac-option-icon",size:"14"})),o.map((function(t,n){if(t.get("checked"))return k.a.createElement(P,{label:"".concat(t.get("name"),"\u7c7b\u522b"),showAsterisk:!0,key:n,onClick:function(){a(A.a(t.get("uuid"))),e.setState({showTypeModal:!0,typeTreeValue:t.get("selectUuid")})}},k.a.createElement(I.r,{className:"config-form-item-select-item"},k.a.createElement("span",{className:"text-flow"},t.get("selectName"))),"\xa0",k.a.createElement(I.l,{type:"arrow-right",className:"ac-option-icon",size:"14"}))})),k.a.createElement(J.a,{visible:l,dispatch:a,typeList:u,isSelectEnd:!0,value:s,onCancel:function(){return e.setState({showTypeModal:!1})},onChange:function(t){var n=t.key,i=t.label;a(A.f(n,i)),e.setState({showTypeModal:!1})}},k.a.createElement("span",null)),k.a.createElement(P,{label:"\u5907\u6ce8",className:"config-form-item-input-style"},k.a.createElement(I.E,{placeholder:"\u8bf7\u8f93\u5165\u5907\u6ce8",value:O,onChange:function(e){return a(A.g("remark",e))}}),"\xa0",k.a.createElement(I.l,{type:"arrow-right",className:"ac-option-icon",size:"14"})),k.a.createElement("div",{className:"config-form-sub-title",style:{display:y||b?"":"none"}},"\u8d22\u52a1\u4fe1\u606f"),k.a.createElement(P,{label:"\u5e94\u4ed8\u671f\u521d\u503c",className:"config-form-item-input-style",style:{display:y?"":"none"}},k.a.createElement(I.E,{mode:"amount",value:U,disabled:D,onChange:function(e){return a(A.g("payableOpened",e))},placeholder:D?"\u5df2\u7ed3\u8d26\uff0c\u4e0d\u53ef\u66f4\u6539":"\u9009\u586b"}),"\xa0",k.a.createElement(I.l,{type:"arrow-right",className:"ac-option-icon",size:"14"})),k.a.createElement(P,{label:"\u5e94\u6536\u671f\u521d\u503c",className:"config-form-item-input-style",style:{display:b?"":"none"}},k.a.createElement(I.E,{mode:"amount",value:S,disabled:D,onChange:function(e){return a(A.g("receivableOpened",e))},placeholder:D?"\u5df2\u7ed3\u8d26\uff0c\u4e0d\u53ef\u66f4\u6539":"\u9009\u586b"}),"\xa0",k.a.createElement(I.l,{type:"arrow-right",className:"ac-option-icon",size:"14"})),k.a.createElement(P,{label:"\u9884\u4ed8\u671f\u521d\u503c",className:"config-form-item-input-style",style:{display:M?"":"none"}},k.a.createElement(I.E,{mode:"amount",value:H,disabled:D,onChange:function(e){return a(A.g("prepaidOpened",e))},placeholder:D?"\u5df2\u7ed3\u8d26\uff0c\u4e0d\u53ef\u66f4\u6539":"\u9009\u586b"}),"\xa0",k.a.createElement(I.l,{type:"arrow-right",className:"ac-option-icon",size:"14"})),k.a.createElement(P,{label:"\u9884\u6536\u671f\u521d\u503c",className:"config-form-item-input-style",style:{display:B?"":"none"}},k.a.createElement(I.E,{mode:"amount",value:L,disabled:D,onChange:function(e){return a(A.g("advanceOpened",e))},placeholder:D?"\u5df2\u7ed3\u8d26\uff0c\u4e0d\u53ef\u66f4\u6539":"\u9009\u586b"}),"\xa0",k.a.createElement(I.l,{type:"arrow-right",className:"ac-option-icon",size:"14"})),k.a.createElement(P,{label:"\u8054\u7cfb\u4fe1\u606f",className:"config-form-item-input-style"},k.a.createElement("span",{className:"noTextSwitchShort"},k.a.createElement(I.w,{checked:R,onClick:function(){a(A.g("contacterInfo",!R))}}))),k.a.createElement(P,{label:"\u5355\u4f4d\u5730\u5740",className:"config-form-item-input-style",style:{display:R?"":"none"}},k.a.createElement(I.E,{value:E,onChange:function(e){return a(A.g("companyAddress",e))},placeholder:"\u9009\u586b\uff0c\u6700\u957f40\u4e2a\u5b57\u7b26"}),"\xa0",k.a.createElement(I.l,{type:"arrow-right",className:"ac-option-icon",size:"14"})),k.a.createElement(P,{label:"\u5355\u4f4d\u7535\u8bdd",className:"config-form-item-input-style",style:{display:R?"":"none"}},k.a.createElement(I.E,{value:T,onChange:function(e){return j.g.inputCheck("tel",e,(function(){return a(A.g("companyTel",e))}))},placeholder:"\u9009\u586b"}),"\xa0",k.a.createElement(I.l,{type:"arrow-right",className:"ac-option-icon",size:"14"})),k.a.createElement(P,{label:"\u8d22\u52a1\u8054\u7cfb\u4eba",className:"config-form-item-input-style",style:{display:R?"":"none"}},k.a.createElement(I.E,{value:C,onChange:function(e){return a(A.g("financeName",e))},placeholder:"\u9009\u586b\uff0c\u6700\u957f20\u4e2a\u5b57\u7b26"}),"\xa0",k.a.createElement(I.l,{type:"arrow-right",className:"ac-option-icon",size:"14"})),k.a.createElement(P,{label:"\u8054\u7cfb\u7535\u8bdd",className:"config-form-item-input-style",style:{display:R?"":"none"}},k.a.createElement(I.E,{value:w,onChange:function(e){return j.g.inputCheck("tel",e,(function(){return a(A.g("financeTel",e))}))},placeholder:"\u9009\u586b"}),"\xa0",k.a.createElement(I.l,{type:"arrow-right",className:"ac-option-icon",size:"14"})),k.a.createElement(P,{label:"\u542f\u7528/\u505c\u7528",className:"config-form-item-input-style",style:{display:"insert"===K?"none":""}},k.a.createElement("span",{className:"ac-wrap noTextSwitchShort"},k.a.createElement(I.w,{checked:h,onClick:function(){a(A.B(v,!h))}}))))),k.a.createElement(I.d,null,k.a.createElement(I.c,{onClick:function(){return n.goBack()}},k.a.createElement(I.l,{type:"cancel"}),k.a.createElement("span",null,"\u53d6\u6d88")),k.a.createElement(I.c,{disabled:!V&&"approval"!==m,onClick:function(){W("insert",(function(){return n.goBack()}))}},k.a.createElement(I.l,{type:"save"}),k.a.createElement("span",null,"\u4fdd\u5b58")),k.a.createElement(I.c,{disabled:!V,onClick:function(){return W("insertAndNew")},style:d?{display:"none"}:{display:"insert"===K?"":"none"}},k.a.createElement(I.l,{type:"new"}),k.a.createElement("span",null,"\u4fdd\u5b58\u5e76\u65b0\u589e"))))}}]),a}(k.a.Component),l.displayName="RelativeCardInsert",c=s))||c,z=Object(O.c)((function(e){return e}))((m=u=function(e){Object(T.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(y.a)(this,a),(n=t.call(this,e)).state={showCheckBox:!1},n}return Object(b.a)(a,[{key:"componentDidMount",value:function(){N.a.setTitle({title:"\u7c7b\u522b\u7ba1\u7406"}),N.a.setRight({show:!1}),N.a.setIcon({showIcon:!1})}},{key:"render",value:function(){var e=this,t=this.props,a=t.dispatch,n=t.history,i=t.relativeConfState,r=t.homeState,c=this.state.showCheckBox,l=i.get("tags").delete(0),s=r.getIn(["permissionInfo","Config"]).getIn(["edit","permission"]);return k.a.createElement(I.h,{className:"relative-config"},k.a.createElement(I.s,{flex:"1",className:"border-top"},l.map((function(e,t){return k.a.createElement("div",{key:e.get("uuid"),className:"config-list-item-wrap-style"},k.a.createElement("div",{className:"config-list-item-style",onClick:function(){if(c)a(A.d(!e.get("checked"),e.get("uuid")));else{a(A.s(e,(function(){return n.push("/config/relative/relativeType")})))}}},k.a.createElement("span",{className:"config-list-item-checkbox-style",style:{display:c?"":"none"}},k.a.createElement(I.e,{checked:e.get("checked")})),k.a.createElement("span",{className:"config-list-item-info-style"},e.get("name")),k.a.createElement("span",{className:"config-list-item-arrow-style"},k.a.createElement(I.l,{type:"arrow-right"}))))}))),k.a.createElement(I.d,{style:{display:c?"none":"flex"}},k.a.createElement(I.c,{disabled:!s,onClick:function(){a(A.c()),N.a.Prompt({title:"\u65b0\u589e\u4e3b\u7c7b\u522b",message:"\u8bf7\u8f93\u5165\u7c7b\u522b\u540d\u79f0:",buttonLabels:["\u53d6\u6d88","\u786e\u8ba4"],onSuccess:function(e){if(1===e.buttonIndex){var t=[{type:"topestName",value:e.value}];j.g.beforeSaveCheck(t,(function(){a(A.i("name",e.value)),a(A.y())}))}}})}},k.a.createElement(I.l,{type:"add-plus"}),k.a.createElement("span",null,"\u65b0\u589e")),k.a.createElement(I.c,{disabled:!s,onClick:function(){return e.setState({showCheckBox:!0})}},k.a.createElement(I.l,{type:"select"}),k.a.createElement("span",null,"\u9009\u62e9"))),k.a.createElement(I.d,{style:{display:c?"flex":"none"}},k.a.createElement(I.c,{onClick:function(){e.setState({showCheckBox:!1}),a(A.n("relativeHighType"))}},k.a.createElement(I.l,{type:"cancel"}),k.a.createElement("span",null,"\u53d6\u6d88")),k.a.createElement(I.c,{disabled:!s,onClick:function(){a(A.p((function(){return e.setState({showCheckBox:!1})})))}},k.a.createElement(I.l,{type:"select"}),k.a.createElement("span",null,"\u5220\u9664"))))}}]),a}(k.a.Component),u.displayName="RelativeHighType",o=m))||o,M=a(1209),B=I.k.Item,R=Object(O.c)((function(e){return e}))((f=p=function(e){Object(T.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(y.a)(this,a),(n=t.call(this,e)).state={showCheckBox:!1,swapPosition:!1,addType:!1},n}return Object(b.a)(a,[{key:"componentDidMount",value:function(){N.a.setTitle({title:"\u7c7b\u522b\u7ba1\u7406"}),N.a.setRight({show:!1}),N.a.setIcon({showIcon:!1})}},{key:"componentWillUnmount",value:function(){var e=this.props.relativeConfState,t=e.getIn(["views","activeTapKeyUuid"]),a=e.getIn(["relativeHighTypeTemp","uuid"]),n=e.getIn(["relativeHighTypeTemp","name"]);[a].includes(t)&&this.props.dispatch(A.t(Object(S.fromJS)({uuid:t,name:t?n:"\u5168\u90e8"})))}},{key:"render",value:function(){var e=this,t=this.props,a=t.dispatch,n=t.history,i=t.relativeConfState,r=this.state,c=r.showCheckBox,l=r.swapPosition,s=r.addType,o=i.get("relativeHighTypeTemp"),u=o.get("treeList"),m=o.get("name");return k.a.createElement(I.h,{className:"iuManage-config"},k.a.createElement(I.s,{flex:"1",className:"iuManage-type-tree border-top"},k.a.createElement(I.k,{style:{marginBottom:".1rem"}},k.a.createElement(B,{label:"\u4e3b\u7c7b\u522b\u540d\u79f0",showAsterisk:!0,className:"config-form-item-input-style"},k.a.createElement("div",{onClick:function(){N.a.Prompt({title:"\u4fee\u6539\u4e3b\u7c7b\u522b\u540d\u79f0(".concat(m,")"),message:"\u8bf7\u8f93\u5165\u7c7b\u522b\u540d\u79f0:",buttonLabels:["\u53d6\u6d88","\u786e\u8ba4"],onSuccess:function(e){if(1===e.buttonIndex){var t=[{type:"topestName",value:e.value}];j.g.beforeSaveCheck(t,(function(){a(A.i("name",e.value)),a(A.y())}))}}})}},m,"\xa0",k.a.createElement(I.l,{type:"arrow-right",size:"14"})))),k.a.createElement(M.a,{dispatch:a,treeList:u,itemClick:function(e,t){"\u5168\u90e8"!=t&&(a(A.w(e)),n.push("/config/relative/relativeTypeInsert"))},isSort:l,sortClick:function(e,t){a(A.C(e,t))},isAdd:s,addClick:function(e,t){a(A.x(e,t)),n.push("/config/relative/relativeTypeInsert")},isDelete:c,deleteClick:function(e,t,n){"\u5168\u90e8"!=t&&a(A.l(e,n))}})),k.a.createElement(I.d,{style:{display:c||l||s?"none":"flex"}},k.a.createElement(I.c,{onClick:function(){e.setState({addType:!0})}},k.a.createElement(I.l,{type:"add-plus"}),k.a.createElement("span",null,"\u65b0\u589e")),k.a.createElement(I.c,{onClick:function(){return e.setState({showCheckBox:!0})}},k.a.createElement(I.l,{type:"select"}),k.a.createElement("span",null,"\u9009\u62e9")),k.a.createElement(I.c,{onClick:function(){return e.setState({swapPosition:!0})}},k.a.createElement(I.l,{type:"swap-position-small"}),k.a.createElement("span",null,"\u8c03\u6574\u987a\u5e8f"))),k.a.createElement(I.d,{style:{display:c?"flex":"none"}},k.a.createElement(I.c,{onClick:function(){e.setState({showCheckBox:!1}),a(A.n("relativeTree"))}},k.a.createElement(I.l,{type:"cancel"}),k.a.createElement("span",null,"\u53d6\u6d88")),k.a.createElement(I.c,{onClick:function(){a(A.o(u,(function(){return e.setState({showCheckBox:!1})})))}},k.a.createElement(I.l,{type:"select"}),k.a.createElement("span",null,"\u5220\u9664"))),k.a.createElement(I.d,{style:{display:l?"flex":"none"}},k.a.createElement(I.c,{onClick:function(){e.setState({swapPosition:!1})}},k.a.createElement(I.l,{type:"cancel"}),k.a.createElement("span",null,"\u53d6\u6d88"))),k.a.createElement(I.d,{style:{display:s?"flex":"none"}},k.a.createElement(I.c,{onClick:function(){e.setState({addType:!1})}},k.a.createElement(I.l,{type:"cancel"}),k.a.createElement("span",null,"\u53d6\u6d88"))))}}]),a}(k.a.Component),p.displayName="RelativeType",d=f))||d,D=I.k.Item,K=Object(O.c)((function(e){return e}))((h=v=function(e){Object(T.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(y.a)(this,a),(n=t.call(this,e)).state={showTypeModal:!1},n}return Object(b.a)(a,[{key:"componentDidMount",value:function(){N.a.setTitle({title:"\u7c7b\u522b\u8bbe\u7f6e"}),N.a.setRight({show:!1}),N.a.setIcon({showIcon:!1})}},{key:"render",value:function(){var e=this,t=this.props,a=t.dispatch,n=t.history,i=t.relativeConfState,r=this.state.showTypeModal,c=i.get("relativeTypeTemp"),l=c.get("name"),s=c.get("parentName"),o=i.get("relativeHighTypeTemp").get("treeList");return k.a.createElement(I.h,{className:"relative-config"},k.a.createElement(I.s,{flex:"1",className:"border-top"},k.a.createElement(I.k,null,k.a.createElement(D,{label:"\u7c7b\u522b\u540d\u79f0",showAsterisk:!0,className:"config-form-item-input-style"},k.a.createElement(I.E,{placeholder:"\u5fc5\u586b\uff08\u6700\u957f30\u4e2a\u5b57\u7b26\uff09",value:l,onChange:function(e){return a(A.j("name",e))}}),"\xa0",k.a.createElement(I.l,{type:"arrow-right",className:"ac-option-icon",size:"14"})),k.a.createElement(D,{label:"\u4e0a\u7ea7\u7c7b\u522b",showAsterisk:!0},k.a.createElement("div",{onClick:function(){e.setState({showTypeModal:!0})}},k.a.createElement("span",{className:"text-flow"},s)),"\xa0",k.a.createElement(I.l,{type:"arrow-right",className:"ac-option-icon",size:"14"})),k.a.createElement(J.a,{visible:r,dispatch:a,typeList:o,parentDisabled:!1,onCancel:function(){return e.setState({showTypeModal:!1})},onChange:function(t){var n=t.key,i=t.label;a(A.k(n,i)),e.setState({showTypeModal:!1})}},k.a.createElement("span",null)))),k.a.createElement(I.d,null,k.a.createElement(I.c,{onClick:function(){return n.goBack()}},k.a.createElement(I.l,{type:"cancel"}),k.a.createElement("span",null,"\u53d6\u6d88")),k.a.createElement(I.c,{onClick:function(){var e=[{type:"name",value:l,limitLength:30}];if("\u5168\u90e8"==l)return N.a.toast.info("\u7c7b\u522b\u540d\u79f0\u4e0d\u80fd\u4e3a\u5168\u90e8");var t=function(){return n.goBack()};j.g.beforeSaveCheck(e,(function(){return a(A.z(t))}))}},k.a.createElement(I.l,{type:"save"}),k.a.createElement("span",null,"\u4fdd\u5b58"))))}}]),a}(k.a.Component),v.displayName="RelativeTypeInsert",g=h))||g,V=function(e){Object(T.a)(a,e);var t=Object(E.a)(a);function a(){return Object(y.a)(this,a),t.apply(this,arguments)}return Object(b.a)(a,[{key:"render",value:function(){return k.a.createElement(I.h,{className:"relative-config"},k.a.createElement(w.a,{path:"/config/relative/index",component:U}),k.a.createElement(w.a,{path:"/config/relative/relativeCardInsert",component:H}),k.a.createElement(w.a,{path:"/config/relative/relativeHighType",component:z}),k.a.createElement(w.a,{path:"/config/relative/relativeType",component:R}),k.a.createElement(w.a,{path:"/config/relative/relativeTypeInsert",component:K}))}}]),a}(k.a.Component),W={relativeConfState:a(1126).a}}}]);