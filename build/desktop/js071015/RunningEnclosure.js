(window.webpackJsonp=window.webpackJsonp||[]).push([[57,24],{1190:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.view=t.reducer=void 0;var a=l(n(2471)),r=l(n(1581)),o=l(n(1456));function l(e){return e&&e.__esModule?e:{default:e}}var u={runningEnclosureState:r.default,exportRecordingState:o.default};t.reducer=u,t.view=a.default},1223:function(e,t,n){},1224:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r,o,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=c(n(1)),i=c(n(0)),s=n(17);function c(e){return e&&e.__esModule?e:{default:e}}n(1223);var f=(0,s.immutableRenderDecorator)((o=r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default.Component),l(t,[{key:"render",value:function(){var e=this.props,t=e.type,n=e.className,a=e.onClick;return u.default.createElement("div",{className:"container-wrap container-width-"+t+" "+n,onClick:a},this.props.children)}}]),t}(),r.displayName="ContainerWrap",r.propTypes={type:i.default.string.isRequired,className:i.default.string.isRequired},a=o))||a;t.default=f},1226:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(1),u=(r=l)&&r.__esModule?r:{default:r},i=n(17);n(1223);var s=(0,i.immutableRenderDecorator)(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default.Component),o(t,[{key:"render",value:function(){return u.default.createElement("div",{className:"flex-title"},this.props.children)}}]),t}())||a;t.default=s},1246:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SWITCH_LOADING_MASK="SWITCH_LOADING_MASK",t.INIT_PZ_BOMB="INIT_PZ_BOMB",t.PZBOMB_REVIEWEDBY_VC="PZBOMB_REVIEWEDBY_VC",t.CANCEL_PZBOMB_REVIEWEDBY_VC="CANCEL_PZBOMB_REVIEWEDBY_VC"},1250:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r,o,l=h(n(14)),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(78);var i=h(n(1)),s=h(n(0)),c=n(18),f=n(17);n(1258);var d=_(n(30)),p=h(n(1260)),E=h(n(1264)),m=_(n(60));function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function h(e){return e&&e.__esModule?e:{default:e}}var g=(0,f.immutableRenderDecorator)((o=r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={rotate:0,magnificationRate:1,imgWpercent:0,idx:""},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),u(t,[{key:"componentDidMount",value:function(){this.props.dispatch(m.setDdConfig())}},{key:"componentWillReceiveProps",value:function(e,t){0==this.props.preview&&1==e.preview&&this.setState({rotate:0,magnificationRate:1,imgWpercent:0,idx:e.page,maxLimit:40,minLimit:40})}},{key:"render",value:function(){var e=this,t=this.props,n=t.preview,a=t.downloadPermission,r=t.previewImgArr,o=t.closePreviewModal,u=t.downloadEnclosure,s=t.dispatch,c=(t.page,t.type,t.uploadKeyJson,this.state),f=c.idx,m=c.rotate,_=c.magnificationRate,h=c.imgWpercent,g=c.maxLimit,y=c.minLimit,b=r.get(f);return i.default.createElement("div",{className:"preview",style:{display:n?"":"none"},onClick:function(e){}},i.default.createElement("div",{className:"nav"},i.default.createElement("button",{onClick:function(){return e.setState({idx:f-1,imgWpercent:0,rotate:0})},disabled:0==f},i.default.createElement(l.default,{type:"left-circle"}),i.default.createElement("div",null,"上一张")),i.default.createElement("button",{disabled:b&&"TRUE"!==b.get("imageOrFile"),onClick:function(){return e.setState({rotate:m+90})}},i.default.createElement(l.default,{type:"reload"}),i.default.createElement("div",null,"旋转")),b&&"application/pdf"===b.get("mimeType")?i.default.createElement("button",{disabled:.5===_,onClick:function(){e.setState({magnificationRate:_-.5})}},i.default.createElement(l.default,{type:"zoom-out"}),i.default.createElement("div",null,"缩小")):i.default.createElement("button",{disabled:-y>=h,onClick:function(){e.setState({imgWpercent:h-10})}},i.default.createElement(l.default,{type:"minus-circle"}),i.default.createElement("div",null,"缩小")),b&&"application/pdf"==b.get("mimeType")?i.default.createElement("button",{disabled:_>=4||"application/pdf"!==b.get("mimeType"),onClick:function(){e.setState({magnificationRate:_+.5})}},i.default.createElement(l.default,{type:"zoom-in"}),i.default.createElement("div",null,"放大")):i.default.createElement("button",{disabled:h>=g,onClick:function(){e.setState({imgWpercent:h+10})}},i.default.createElement(l.default,{type:"plus-circle"}),i.default.createElement("div",null,"放大")),i.default.createElement("button",{disabled:!a},a?i.default.createElement("span",{onClick:function(){return u(r.getIn([f,"signedUrl"]),r.getIn([f,"fileName"]))}},i.default.createElement(l.default,{type:"download"}),i.default.createElement("div",null,"下载")):i.default.createElement("a",null,i.default.createElement(l.default,{type:"download"}),i.default.createElement("div",null,"下载"))),i.default.createElement("button",{disabled:!(b&&"application/pdf"==b.get("mimeType")),onClick:function(){b&&"application/pdf"==b.get("mimeType")&&d.openLink({url:r.getIn([f,"signedUrl"])})}},i.default.createElement(l.default,{type:"printer"}),i.default.createElement("div",null,"打印")),i.default.createElement("button",{onClick:function(){return e.setState({idx:f+1,imgWpercent:0,rotate:0})},disabled:f===r.size-1},i.default.createElement(l.default,{type:"right-circle"}),i.default.createElement("div",null,"下一张"))),b&&"TRUE"===b.get("imageOrFile")&&n?i.default.createElement(E.default,{imgUrl:""+b.get("signedUrl"),imgWpercent:h,rotate:m,preview:n,maxLimit:g,minLimit:y}):"",b&&"application/pdf"===b.get("mimeType")&&n?i.default.createElement(p.default,{pdfUrl:""+b.get("signedUrl"),dispatch:s,magnificationRate:_,preview:n}):"",i.default.createElement("div",{className:"img-box",style:{display:b&&"application/pdf"!==b.get("mimeType")&&"TRUE"!==b.get("imageOrFile")?"":"none"}},i.default.createElement("div",{className:"img-box-contain"},i.default.createElement("div",{className:"img-box-contain-overflow"},i.default.createElement("div",{className:"noSupport"},i.default.createElement(l.default,{type:"file"}),i.default.createElement("p",null,"仅图片及PDF格式支持预览"))))),i.default.createElement("div",{className:"btnBar"},i.default.createElement("div",{className:"title"},"预览"),i.default.createElement("div",{onClick:o,className:"closeBtn"},i.default.createElement(l.default,{type:"close"}))))}}]),t}(),r.displayName="EnclosurePreview",r.propTypes={preview:s.default.bool,downloadPermission:s.default.bool,previewImgArr:s.default.instanceOf(c.List),closePreviewModal:s.default.func,dispatch:s.default.func,page:s.default.number,type:s.default.string},a=o))||a;t.default=g},1258:function(e,t,n){},1260:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r,o,l=E(n(14)),u=E(n(37)),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(78),n(38);var s=E(n(1)),c=E(n(0)),f=n(17);n(1261);n(127),p(n(30));var d=p(n(1263));function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function E(e){return e&&e.__esModule?e:{default:e}}var m=(0,f.immutableRenderDecorator)((o=r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderPdf=function(e){var t=document.getElementById("canvas_wrapper");t.innerHTML="";var a=atob(e),r=window.PDFJS;if(!r)return n.setState({networkFaild:!0}),u.default.info("网路问题导致PDF预览相关文件加载失败",2);if(r.cMapUrl="https://cdn.jsdelivr.net/npm/pdfjs-dist@2.0.288/cmaps/",r.cMapPacked=!0,!r.getDocument)return n.setState({networkFaild:!0}),u.default.info("网路问题导致PDF预览相关文件加载失败",2);var o=r.getDocument({data:a}),l=n;o.promise.then(function(e){var n="";e.numPages;for(var a=0;a<e.numPages;a++)(n=document.createElement("canvas")).id="pdf_canvas_"+a,t.appendChild(n);for(var r=function(t){e.getPage(t+1).then(function(e){var n=e.getViewport(l.props.magnificationRate),a=document.getElementById("pdf_canvas_"+t);a.width=n.width,a.height=n.height;var r=a.getContext("2d");return e.render({canvasContext:r,viewport:n}).promise})},o=0;o<e.numPages;o++)r(o)}).catch(function(e){document.getElementById("canvas_wrapper").innerHTML="",l.setState({broken:!0})})},n.state={base64:"",broken:!1,networkFaild:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),i(t,[{key:"componentDidMount",value:function(){var e=this;this.props.dispatch(d.getCxpzUploadEnclosure(this.props.pdfUrl,function(t){t&&(e.setState({base64:t,broken:!1}),e.renderPdf(t))}))}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.props.magnificationRate!==e.magnificationRate&&this.renderPdf(this.state.base64),this.props.pdfUrl!==e.pdfUrl&&this.props.dispatch(d.getCxpzUploadEnclosure(e.pdfUrl,function(e){e&&(t.setState({base64:e,broken:!1,networkFaild:!1}),t.renderPdf(e))}))}},{key:"render",value:function(){var e=this.props,t=(e.pdfUrl,e.dispatch,e.magnificationRate,this.state),n=t.broken,a=t.networkFaild;return s.default.createElement("div",{className:"img-box"},s.default.createElement("div",{className:"img-box-contain"},s.default.createElement("div",{className:"pdf-box-contain-overflow"},s.default.createElement("div",{className:"pdf_canvas_main"},s.default.createElement("div",{className:"pdf_canvas_pdf"},s.default.createElement("div",{id:"canvas_wrapper"}))),n?s.default.createElement("div",{className:"noSupport"},s.default.createElement(l.default,{type:"file"}),s.default.createElement("p",null,"PDF文件损坏，无法预览")):"",a?s.default.createElement("div",{className:"noSupport"},s.default.createElement(l.default,{type:"file"}),s.default.createElement("p",null,"网络异常，无法预览")):"")))}}]),t}(),r.displayName="PdfPreview",r.propTypes={pdfUrl:c.default.string,dispatch:c.default.func,magnificationRate:c.default.number},a=o))||a;t.default=m},1261:function(e,t,n){},1263:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCxpzUploadEnclosure=void 0;var a,r=n(31),o=(a=r)&&a.__esModule?a:{default:a},l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1246)),u=(n(18),n(22));t.getCxpzUploadEnclosure=function(e,t){return function(n){n({type:l.SWITCH_LOADING_MASK}),e.indexOf("xfn-ddy-annex-bucket.oss-accelerate")>0&&(e=e.replace("xfn-ddy-annex-bucket.oss-accelerate","xfn-ddy-annex-bucket.oss-cn-hangzhou-internal")),(0,o.default)("uploadGetEnclosure","POST",JSON.stringify({enclosureUrl:e}),function(e){(0,u.showMessage)(e)?t(e.data.enclosureFile):t(""),n({type:l.SWITCH_LOADING_MASK})})}}},1264:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r,o,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=s(n(1)),i=s(n(0));function s(e){return e&&e.__esModule?e:{default:e}}var c=(0,n(17).immutableRenderDecorator)((o=r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.drawImgScal=function(e,t,a,r){var o,l,u,i,s,c=t/100,f=a/100,d=r/100;o=n.refs.bargraphCanvas,l=o.getContext("2d"),(u=new Image).onload=function(){!0,p()},u.src=e;var p=function(){-d<=c&&c<=f&&(0===c?(i=u.width>960?960:u.width*Number(1+c),s=u.width>960?960*u.height/u.width:u.height*Number(1+c)):(i=u.width>960?960*Number(1+c):u.width*Number(1+c),s=u.width>960?960*u.height/u.width*Number(1+c):u.height*Number(1+c)),n.setState({imgHeight:s,imgWidth:i}),o.width=i,o.height=s,l.clearRect(0,0,i,s),l.drawImage(u,0,0,u.width,u.height,0,0,i,s))}},n.state={imgHeight:0,imgWidth:0},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default.Component),l(t,[{key:"componentDidMount",value:function(){this.drawImgScal(this.props.imgUrl,this.props.imgWpercent,this.props.maxLimit,this.props.minLimit)}},{key:"componentWillReceiveProps",value:function(e){this.props.imgUrl!==e.imgUrl&&this.drawImgScal(e.imgUrl,e.imgWpercent,this.props.maxLimit,this.props.minLimit),this.props.imgUrl===e.imgUrl&&this.props.imgWpercent!==e.imgWpercent&&this.drawImgScal(this.props.imgUrl,e.imgWpercent,this.props.maxLimit,this.props.minLimit)}},{key:"isVertail",value:function(e){return!(e<90)&&(90===e||e%180!=0)}},{key:"render",value:function(){var e=this.props,t=(e.imgUrl,e.imgWpercent,e.rotate),n=this.state,a=n.imgHeight,r=n.imgWidth,o=0,l=0;return this.isVertail(t)?(a>960&&(o=a-960),r>960&&(l=r-960)):(r>960&&(o=r-960),a>960&&(l=a/2+10)),u.default.createElement("div",{className:"img-box"},u.default.createElement("div",{className:"img-box-contain"},u.default.createElement("div",{className:"img-box-contain-overflow"},u.default.createElement("canvas",{ref:"bargraphCanvas",style:{transform:"rotate("+t+"deg)",marginLeft:o+"px",marginTop:l+"px",display:"block"}}))))}}]),t}(),r.displayName="ImgPreview",r.propTypes={imgUrl:i.default.string,imgWpercent:i.default.number,rotate:i.default.number,maxLimit:i.default.number,minLimit:i.default.number},a=o))||a;t.default=c},1269:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=m(n(14)),o=m(n(37)),l=m(n(100)),u=m(n(45)),i=m(n(1230)),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(78),n(38),n(99),n(55),n(1231);var c=m(n(1)),f=m(n(6)),d=n(17),p=n(127),E=n(22);function m(e){return e&&e.__esModule?e:{default:e}}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(1284);var h=i.default.RangePicker,g=(u.default.Option,l.default.Group,(0,d.immutableRenderDecorator)(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.default.Component),s(t,[{key:"render",value:function(){var e,t=this.props,n=t.issuedate,a=t.endissuedate,l=(t.beginMonth,t.endMonth,t.issues),s=t.changePeriodCallback,d=t.chooseValue,m=t.changeChooseperiodsStatu,g=l?l.findIndex(function(e){return e===n||e.substr(0,4)+"-"+e.substr(6,2)===n}):0,y=l?l.slice(0,g):[],b=function(e,t,n){var a="",r="";return n?1==t?(r=12,a=Number(e)-1):(r=Number(t)-1,a=Number(e)):(r=Number(t),a=Number(e)),{openedyear:a,openedmonth:r}},S=a||n,N=l.get(0),v=l.get(l.size-1),O="",L="";if(l.size){var T=b(v.substr(0,4),v.substr(6,2),!0).openedyear,C=b(v.substr(0,4),v.substr(6,2),!0).openedmonth,R=b(N.substr(0,4),N.substr(6,2)).openedyear,I=b(N.substr(0,4),N.substr(6,2)).openedmonth;O=new Date(T,C,1),L=new Date(R,I,1)}var w=function(e){return e&&((0,f.default)(O)>e||!((0,f.default)(L)>e))},A=[];switch(d){case"MONTH":A.push(c.default.createElement("span",{className:"muti-period-more-select"},c.default.createElement(u.default,{className:"title-more-choose-date",value:n?"-"===n.substr(4,1)?n.substr(0,4)+"年第"+n.substr(5,2)+"期":n:"",showArrow:!0,dropdownMatchSelectWidth:!1,onChange:function(e){return(0,E.debounce)(function(){-1===e.indexOf("Invalid")?s(e,e):o.default.info("日期格式错误，请刷新重试")})()}},l?l.map(function(e,t){return c.default.createElement(u.default.Option,{key:t,value:e.substr(0,4)+"-"+e.substr(6,2)},e)}):""),c.default.createElement(r.default,{type:"calendar",className:"title-more-calendar"})));break;case"MONTH_MONTH":A.push(c.default.createElement("div",{className:"title-more-choose-month-month"},c.default.createElement(u.default,{showArrow:!1,value:n,onChange:function(e){return s(e,e)},dropdownMatchSelectWidth:!1},l?l.map(function(e,t){return c.default.createElement(u.default.Option,{key:t,value:e.substr(0,4)+"-"+e.substr(6,2)},e.substr(0,4)+"-"+e.substr(6,2))}):""),c.default.createElement("span",{className:"choose-month-month-separator"},"~"),c.default.createElement(u.default,{showArrow:!1,value:a===n?"":a,onChange:function(e){return s(n,e)},dropdownMatchSelectWidth:!1},y.map(function(e,t){return c.default.createElement(u.default.Option,{key:t,value:e.substr(0,4)+"-"+e.substr(6,2)},e.substr(0,4)+"-"+e.substr(6,2))}))));break;case"DATE":A.push(c.default.createElement(i.default,{value:n?(0,f.default)(n,"YYYY-MM-DD"):"",allowClear:!1,disabledDate:w,className:"title-more-choose-date",onChange:function(e){return(0,E.debounce)(function(){var t=e.format("YYYY-MM-DD");-1===t.indexOf("Invalid")?s(t,t):o.default.info("日期格式错误，请刷新重试")})()},suffixIcon:c.default.createElement(r.default,{type:"down"})}));break;case"DATE_DATE":A.push(c.default.createElement(h,(_(e={disabledDate:w,className:"title-more-choose-month",allowClear:!1,value:n?[(0,f.default)(n,"YYYY-MM-DD"),(0,f.default)(S,"YYYY-MM-DD")]:[],format:"YYYY-MM-DD"},"allowClear",!1),_(e,"onChange",function(e,t){return(0,E.debounce)(function(){if(t.length>1){var e=t[0],n=t[1];-1===e.indexOf("Invalid")?(n.indexOf("Invalid")>-1&&(n=""),s(e,n)):o.default.info("日期格式错误，请刷新重试")}})()}),_(e,"suffixIcon",c.default.createElement(r.default,{type:"down"})),e)))}return c.default.createElement("div",{className:"common-data-change-box"},A,c.default.createElement(u.default,{className:"title-more-choose",dropdownMatchSelectWidth:!1,value:"",showArrow:!1,onChange:function(e){m(e);var t="-"===n.substr(4,1)?n:n.substr(0,4)+"-"+n.substr(6,2),a="-"===S.substr(4,1)?S:S.substr(0,4)+"-"+S.substr(6,2),r="MONTH"===e||"MONTH_MONTH"===e?(0,f.default)(t,"YYYY-MM").format("YYYY-MM"):(0,f.default)(t,"YYYY-MM-DD").format("YYYY-MM-DD"),l="MONTH"===e||"MONTH_MONTH"===e?(0,f.default)(a,"YYYY-MM").format("YYYY-MM"):(0,f.default)(a,"YYYY-MM-DD").format("YYYY-MM-DD");-1===r.indexOf("Invalid")?(l.indexOf("Invalid")>-1&&(l=""),s(r,"MONTH"===e||"DATE"===e?r:l)):o.default.info("日期格式错误，请刷新重试")}},c.default.createElement(u.default.Option,{value:"MONTH",key:"MONTH"},"按账期查询"),c.default.createElement(u.default.Option,{value:"DATE",key:"DATE"},"按日期查询"),c.default.createElement(u.default.Option,{value:"MONTH_MONTH",key:"MONTH_MONTH"},"按账期区间查询"),c.default.createElement(u.default.Option,{value:"DATE_DATE",key:"DATE_DATE"},"按日期区间查询")),c.default.createElement(p.XfnIcon,{type:"calendar-change",className:"title-more-choose-calendar"}))}}]),t}())||a);t.default=g},1284:function(e,t,n){},1359:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deleteExportList=t.selectAllUuidList=t.handleUuidList=t.getEnclosureExportRecordingList=void 0;var a,r=n(31),o=(a=r)&&a.__esModule?a:{default:a},l=i(n(1373)),u=n(22);i(n(43)),i(n(30));function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var s=t.getEnclosureExportRecordingList=function(e){return function(t){t({type:l.SWITCH_LOADING_MASK}),(0,o.default)("exportEnclosureList","POST",JSON.stringify({year:e.substr(0,4),month:"-"===e.substr(4,1)?e.substr(5,2):e.substr(6,2)}),function(n){t({type:l.SWITCH_LOADING_MASK}),(0,u.showMessage)(n)&&t({type:l.GET_EXPORT_ENCLOSURE_LIST,data:n.data,issuedate:e})})}};t.handleUuidList=function(e){return function(t,n){t({type:l.HANDLE_EXPORT_RECORDING_LIST,uuid:e})}},t.selectAllUuidList=function(e){return function(t){t({type:l.SELECT_ALL_EXPORT_RECORDING_LIST,selectedAll:e})}},t.deleteExportList=function(){return function(e,t){e({type:l.SWITCH_LOADING_MASK});var n=t().exportRecordingState.get("uuidList"),a=t().exportRecordingState.get("issuedate");(0,o.default)("deleteEnclosureExportList","POST",JSON.stringify({uuidList:n}),function(t){e({type:l.SWITCH_LOADING_MASK}),(0,u.showMessage)(t)&&e(s(a))})}}},1373:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GET_EXPORT_ENCLOSURE_LIST="GET_EXPORT_ENCLOSURE_LIST",t.SET_EXPORT_RECORDING_ISSUEDATE="SET_EXPORT_RECORDING_ISSUEDATE",t.SWITCH_LOADING_MASK="SWITCH_LOADING_MASK",t.HANDLE_EXPORT_RECORDING_LIST="HANDLE_EXPORT_RECORDING_LIST",t.SELECT_ALL_EXPORT_RECORDING_LIST="SELECT_ALL_EXPORT_RECORDING_LIST"},1401:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleRunningEnclosureChooseStatus=t.deleteEnclosureList=t.setEnclosureUuidList=t.deleteEnclosureLabel=t.insertEnclosureLabel=t.modifyEnclosureLabel=t.setEnclosureLabelValue=t.upLoadRunningEnclosureLabel=t.refreshTagList=t.getEnclosureTagList=t.antiVerifyRunningEnclosure=t.verifyRunningEnclosure=t.getRunningEnclosureSearchData=t.changeRunningEnclosureContent=t.changeRunningEnclosureSearchCodition=t.exportEnclosureList=t.selectAllRunningEncloseureList=t.changeRunningEnclosureSelectList=t.closeRunningEncloseurePreviewModal=t.previewImage=t.getRunningEnclosureData=void 0;var a=i(n(37));n(38);var r=i(n(31)),o=u(n(1459)),l=n(22);u(n(43)),u(n(30)),n(43);function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}t.getRunningEnclosureData=function(e,t){return function(n){n({type:o.SWITCH_LOADING_MASK}),(0,r.default)("runningEnclosure","POST",JSON.stringify({start:e?"-"===e.substr(4,1)?e:e.substr(0,4)+"-"+e.substr(6,2):"",end:t?"-"===t.substr(4,1)?t:t.substr(0,4)+"-"+t.substr(6,2):"",searchType:"SEARCH_TYPE_ENCLOSURE_NAME",searchContent:""}),function(a){n({type:o.SWITCH_LOADING_MASK}),(0,l.showMessage)(a)&&(n({type:o.SET_ISSUEDATE,issuedate:e,endissuedate:t}),n({type:o.SET_INITIAL_DATA,payload:a.data}))})}},t.previewImage=function(e,t){return{type:o.PREVIEW_RUNNING_ENCLOSURE_IMAGE,idx:e,fjIdx:t}},t.closeRunningEncloseurePreviewModal=function(){return{type:o.CLOSE_PREVIEW_RUNNING_ENCLOSURE_IMAGE}},t.changeRunningEnclosureSelectList=function(e){return{type:o.CHANGE_RUNNING_ENCLOSURE_SELECT_LIST,enclosureKey:e}},t.selectAllRunningEncloseureList=function(e){return{type:o.SELECT_ALL_RUNNING_ENCLOSURE_LIST,selectedAll:e}},t.exportEnclosureList=function(e,t,n,a){return function(n){var o=e.toJS(),u=[],i=function(e){var n=Number(o[e].split("-")[0]);t.forEach(function(e,t){if(e.jrIndex===n){var a={jrIndex:e.jrIndex,period:e.period,enclosureList:[]},r=!1;for(var o in u)if(u[o].jrIndex===a.jrIndex){r=!0;break}r||u.push(a)}})};for(var s in o)i(s);var c=function(e){var n=Number(o[e].split("-")[0]),a=Number(o[e].split("-")[1]);t.forEach(function(e,t){e.jrIndex===n&&e.enclosureList.forEach(function(e,t){if(e.enclosureKey===a){var r={uuid:e.uuid,enclosurePath:e.enclosurePath,fileName:e.fileName,size:e.size};for(var o in u)u[o].jrIndex===n&&u[o].enclosureList.push(r)}})})};for(var s in o)c(s);(0,r.default)("exportEncloseure","POST",JSON.stringify({jrList:u}),function(e){(0,l.showMessage)(e)&&a&&a()})}},t.changeRunningEnclosureSearchCodition=function(e){return function(t){t({type:o.CHANGE_RUNNING_ENCLOSEURE_SEARCH_CONDITION,value:e})}},t.changeRunningEnclosureContent=function(e){return function(t){t({type:o.CHANGE_RUNNING_ENCLOSEURE_SEARCH_CONTENT,value:e})}};var s=t.getRunningEnclosureSearchData=function(e,t,n,a){return function(u){u({type:o.SWITCH_LOADING_MASK}),(0,r.default)("runningEnclosure","POST",JSON.stringify({start:e?"-"===e.substr(4,1)?e:e.substr(0,4)+"-"+e.substr(6,2):"",end:t?"-"===t.substr(4,1)?t:t.substr(0,4)+"-"+t.substr(6,2):"",searchType:n,searchContent:a}),function(t){u({type:o.SWITCH_LOADING_MASK}),(0,l.showMessage)(t)&&u({type:o.SET_RUNNING_ENCLOSURE_SEARCHED_DATA,payload:t.data,issuedate:e})})}},c=(t.verifyRunningEnclosure=function(e,t,n,u,i){return function(c){c({type:o.SWITCH_LOADING_MASK}),(0,r.default)("insertVcList","POST",JSON.stringify({uuidList:[e],action:"QUERY_JR-AUDIT"}),function(e){if(c({type:o.SWITCH_LOADING_MASK}),(0,l.showMessage)(e))if(e.data.result.length){var r=e.data.result.join(",");a.default.error(r)}else a.default.success("成功"),c(s(t,n,u,i))})}},t.antiVerifyRunningEnclosure=function(e,t,n,u,i){return function(c){c({type:o.SWITCH_LOADING_MASK}),(0,r.default)("deleteVcList","POST",JSON.stringify({year:t.substr(0,4),month:"-"===t.substr(4,1)?t.substr(5,2):t.substr(6,2),vcindexlist:[e],action:"QUERY_JR-CANCEL_AUDIT"}),function(e){if(c({type:o.SWITCH_LOADING_MASK}),(0,l.showMessage)(e))if(e.data.failJsonList.length){var r=e.data.text;a.default.error(r)}else a.default.success("成功"),c(s(t,n,u,i))})}},t.getEnclosureTagList=function(e,t){return function(n){n({type:o.SWITCH_LOADING_MASK}),(0,r.default)("getEnclosureTagList","GET","",function(a){n({type:o.SWITCH_LOADING_MASK}),(0,l.showMessage)(a)&&(n({type:o.GET_RUNNING_ENCLOSURE_TAG_LIST,data:a.data,enclosureKey:e}),t())})}},t.refreshTagList=function(e,t,n,a){return function(u){u({type:o.SWITCH_LOADING_MASK}),(0,r.default)("getEnclosureTagList","GET","",function(r){u({type:o.SWITCH_LOADING_MASK}),(0,l.showMessage)(r)&&(u({type:o.REFRESH_RUNNING_ENCLOSURE_TAG_LIST,data:r.data}),u(s(e,t,n,a)))})}}),f=t.upLoadRunningEnclosureLabel=function(e,t,n,a,u){return function(i){i({type:o.SWITCH_LOADING_MASK}),(0,r.default)("updateLabel","POST",JSON.stringify(e),function(e){i({type:o.SWITCH_LOADING_MASK}),(0,l.showMessage)(e)&&i(c(t,n,a,u))})}};t.setEnclosureLabelValue=function(e,t){return function(n){n({type:o.SET_RUNNING_ENCLOSEURE_LABEL,value:e,id:t})}},t.modifyEnclosureLabel=function(e,t,n,a,u,i,s){return function(c){c({type:o.SWITCH_LOADING_MASK}),(0,r.default)("modifyEnclosureLabel","POST",JSON.stringify({id:e,label:t}),function(e){c({type:o.SWITCH_LOADING_MASK}),(0,l.showMessage)(e)&&c(f({label:t,enKey:n},a,u,i,s))})}},t.insertEnclosureLabel=function(e,t,n,a,u,i){return function(s){s({type:o.SWITCH_LOADING_MASK}),(0,r.default)("insertNewEnclosureLabel","POST",JSON.stringify({label:e}),function(r){s({type:o.SWITCH_LOADING_MASK}),(0,l.showMessage)(r)&&s(f({label:e,enKey:t},n,a,u,i))})}},t.deleteEnclosureLabel=function(e){return function(t){t({type:o.SWITCH_LOADING_MASK}),(0,r.default)("deleteEnclosureLabel","POST",JSON.stringify({id:e}),function(e){t({type:o.SWITCH_LOADING_MASK}),(0,l.showMessage)(e)&&t({type:o.REFRESH_RUNNING_ENCLOSURE_TAG_LIST,data:e.data})})}},t.setEnclosureUuidList=function(e){return function(t){t({type:o.SET_ENCLOSURE_UUIDLIST,uuid:e})}},t.deleteEnclosureList=function(){return function(e,t){var n=t().runningEnclosureState.get("issuedate"),a=t().runningEnclosureState.get("endissuedate"),u=t().runningEnclosureState.get("uuidList"),i=t().runningEnclosureState.get("searchCondition"),c=t().runningEnclosureState.get("searchContent");e({type:o.SWITCH_LOADING_MASK}),(0,r.default)("deleteEnclosureList","POST",JSON.stringify({uuidList:u,start:n?"-"===n.substr(4,1)?n:n.substr(0,4)+"-"+n.substr(6,2):"",end:a?"-"===a.substr(4,1)?a:a.substr(0,4)+"-"+a.substr(6,2):""}),function(t){e({type:o.SWITCH_LOADING_MASK}),(0,l.showMessage)(t)&&e(s(n,a,i,c))})}},t.handleRunningEnclosureChooseStatus=function(e){return function(t){t({type:o.HANDLE_RUNNING_ENCLOSURE_CHOOSE_VALUE,value:e})}}},1456:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,n=arguments[1];return((e={},o(e,r.GET_EXPORT_ENCLOSURE_LIST,function(){return t.set("dataList",n.data).set("issuedate",n.issuedate).set("selectedAll",!1)}),o(e,r.HANDLE_EXPORT_RECORDING_LIST,function(){var e=t.get("uuidList").toJS(),r=n.uuid;if(e.includes(r)){var o=e.findIndex(function(e,t){return e===r});e.splice(o,1)}else e.push(r);return t.set("uuidList",(0,a.fromJS)(e))}),o(e,r.SELECT_ALL_EXPORT_RECORDING_LIST,function(){var e=[],r=n.selectedAll,o=t.get("dataList");if(r)for(var l in o)e.push(o[l].zipUuid);return t.set("uuidList",(0,a.fromJS)(e)).set("selectedAll",r)}),e)[n.type]||function(){return t})()};var a=n(18),r=(n(22),function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1373)));function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=(0,a.fromJS)({dataList:[],uuidList:[],issuedate:"",selectedAll:!1})},1459:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SET_ISSUEDATE="SET_ISSUEDATE",t.SET_INITIAL_DATA="SET_INITIAL_DATA",t.PREVIEW_RUNNING_ENCLOSURE_IMAGE="PREVIEW_RUNNING_ENCLOSURE_IMAGE",t.CLOSE_PREVIEW_RUNNING_ENCLOSURE_IMAGE="CLOSE_PREVIEW_RUNNING_ENCLOSURE_IMAGE",t.CHANGE_RUNNING_ENCLOSURE_SELECT_LIST="CHANGE_RUNNING_ENCLOSURE_SELECT_LIST",t.SELECT_ALL_RUNNING_ENCLOSURE_LIST="SELECT_ALL_RUNNING_ENCLOSURE_LIST",t.GET_EXPORT_ENCLOSURE_LIST="GET_EXPORT_ENCLOSURE_LIST",t.EXPORT_ENCLOSEURE_FILE="EXPORT_ENCLOSEURE_FILE",t.CHANGE_RUNNING_ENCLOSEURE_SEARCH_CONDITION="CHANGE_RUNNING_ENCLOSEURE_SEARCH_CONDITION",t.CHANGE_RUNNING_ENCLOSEURE_SEARCH_CONTENT="CHANGE_RUNNING_ENCLOSEURE_SEARCH_CONTENT",t.GET_RUNNING_ENCLOSURE_SEARCH_DATA="GET_RUNNING_ENCLOSURE_SEARCH_DATA",t.GET_RUNNING_ENCLOSURE_TAG_LIST="GET_RUNNING_ENCLOSURE_TAG_LIST",t.REFRESH_RUNNING_ENCLOSURE_TAG_LIST="REFRESH_RUNNING_ENCLOSURE_TAG_LIST",t.SET_RUNNING_ENCLOSEURE_LABEL="SET_RUNNING_ENCLOSEURE_LABEL",t.INSERT_NEW_ENCLOSURE_LABEL="INSERT_NEW_ENCLOSURE_LABEL",t.SWITCH_LOADING_MASK="SWITCH_LOADING_MASK",t.SET_ENCLOSURE_UUIDLIST="SET_ENCLOSURE_UUIDLIST",t.SET_RUNNING_ENCLOSURE_SEARCHED_DATA="SET_RUNNING_ENCLOSURE_SEARCHED_DATA",t.HANDLE_RUNNING_ENCLOSURE_CHOOSE_VALUE="HANDLE_RUNNING_ENCLOSURE_CHOOSE_VALUE"},1581:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,n=arguments[1];return((e={},o(e,r.SET_ISSUEDATE,function(){return t.set("issuedate",n.issuedate).set("endissuedate",n.endissuedate).set("selectList",(0,a.fromJS)([])).set("searchContent","").set("uuidList",(0,a.fromJS)([]))}),o(e,r.SET_INITIAL_DATA,function(){return t.set("totalSize",Number(n.payload.totalSize)).set("useSizeByCorp",n.payload.useSizeByCorp).set("useSizeBySob",n.payload.useSizeBySob).set("jsonArray",n.payload.jsonArray).set("selectedAll",!1)}),o(e,r.SET_RUNNING_ENCLOSURE_SEARCHED_DATA,function(){return t.set("totalSize",Number(n.payload.totalSize)).set("useSizeByCorp",n.payload.useSizeByCorp).set("useSizeBySob",n.payload.useSizeBySob).set("jsonArray",n.payload.jsonArray).set("selectedAll",!1).set("selectList",(0,a.fromJS)([])).set("uuidList",(0,a.fromJS)([])).set("issuedate",n.issuedate)}),o(e,r.PREVIEW_RUNNING_ENCLOSURE_IMAGE,function(){var e=[];t.get("jsonArray").forEach(function(t){return t.enclosureList.forEach(function(t){"TRUE"!==t.imageOrFile&&"application/pdf"!=t.mimeType||e.push(t)})});var r=0,o=t.get("jsonArray")[n.idx].enclosureList[n.fjIdx].enclosureKey;return e.forEach(function(e,t){e.enclosureKey!=o||(r=t)}),t=t.setIn(["flags","preview"],!0).set("previewSrcIdx",r).set("previewImgArr",(0,a.fromJS)(e))}),o(e,r.CLOSE_PREVIEW_RUNNING_ENCLOSURE_IMAGE,function(){return t.setIn(["flags","preview"],!1)}),o(e,r.CHANGE_RUNNING_ENCLOSURE_SELECT_LIST,function(){var e=t.get("selectList").toJS(),r=n.enclosureKey;if(e.includes(r)){var o=e.findIndex(function(e,t){return e===r});e.splice(o,1)}else e.push(r);return t.set("selectList",(0,a.fromJS)(e))}),o(e,r.SELECT_ALL_RUNNING_ENCLOSURE_LIST,function(){var e=n.selectedAll,r=[],o=[],l=t.get("jsonArray");if(e)for(var u in l)for(var i in l[u].enclosureList)r.push(l[u].jrIndex+"-"+l[u].enclosureList[i].enclosureKey),o.push(l[u].enclosureList[i].uuid);return t.set("selectList",(0,a.fromJS)(r)).set("selectedAll",e).set("uuidList",(0,a.fromJS)(o))}),o(e,r.CHANGE_RUNNING_ENCLOSEURE_SEARCH_CONTENT,function(){return t.set("searchContent",n.value)}),o(e,r.CHANGE_RUNNING_ENCLOSEURE_SEARCH_CONDITION,function(){return t.set("searchCondition",n.value)}),o(e,r.GET_RUNNING_ENCLOSURE_TAG_LIST,function(){return t.set("tagList",n.data).set("enclosureKey",n.enclosureKey)}),o(e,r.REFRESH_RUNNING_ENCLOSURE_TAG_LIST,function(){return t.set("tagList",n.data).set()}),o(e,r.SET_RUNNING_ENCLOSEURE_LABEL,function(){return t.set("labelValue",n.value).set("tagId",n.id)}),o(e,r.SET_ENCLOSURE_UUIDLIST,function(){var e=t.get("uuidList").toJS(),r=n.uuid;if(e.includes(r)){var o=e.findIndex(function(e,t){return e===r});e.splice(o,1)}else e.push(r);return t.set("uuidList",(0,a.fromJS)(e))}),o(e,r.HANDLE_RUNNING_ENCLOSURE_CHOOSE_VALUE,function(){return t.set("chooseValue",n.value)}),e)[n.type]||function(){return t})()};var a=n(18),r=(n(22),function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1459)));function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=(0,a.fromJS)({issuedate:"",endissuedate:"",chooseValue:"MONTH",jsonArray:[],totalSize:1,useSizeBySob:0,useSizeByCorp:0,selectList:[],selectedAll:!1,searchCondition:"SEARCH_TYPE_ENCLOSURE_NAME",searchContent:"",tagList:[],enclosureKey:null,labelValue:"",tagId:"",importresponlist:{failJsonList:[],successJsonList:[]},message:"",needDeleteUrl:[],vcIndexArray:[],needDownLoad:[],previewImgArr:[],previewSrcIdx:0,label:[],currentLabel:"",vcIdx:"",fjIdx:"",updatePath:"",flags:{selectedVcItemArray:[],selectVcAll:!1,maxVoucherId:"0",lastvcindex:"",vcindexSort:1,vcdateSort:1,showMessageMask:!1,iframeload:!1,serchValue:"",preview:!1,labelModal:!1},uuidList:[]})},1582:function(e,t,n){},2471:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=N(n(89)),o=N(n(100)),l=N(n(47)),u=N(n(32)),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(88),n(99),n(46),n(51);var s=N(n(1)),c=n(56);n(1582);var f=N(n(1224)),d=N(n(1250)),p=N(n(2473)),E=N(n(2474)),m=N(n(2476)),_=S(n(60)),h=n(43),g=(S(h),S(n(1401))),y=S(n(177)),b=S(n(1359));function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function N(e){return e&&e.__esModule?e:{default:e}}var v=(0,c.connect)(function(e){return e})(a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={showModal:!1,showTagModal:!1,tagValue:"",editTag:"",selfTagValue:""},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),i(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){var t=sessionStorage.getItem("previousPage");e.searchRunningState.getIn(["flags","issuedate"])===this.props.runningEnclosureState.get("issuedate")&&e.searchRunningState.getIn(["flags","endissuedate"])===this.props.runningEnclosureState.get("endissuedate")&&e.searchRunningState.getIn(["flags","chooseValue"])===this.props.runningEnclosureState.get("chooseValue")||!t||sessionStorage.setItem("previousPage","")}},{key:"shouldComponentUpdate",value:function(e,t){return this.props.runningEnclosureState!=e.runningEnclosureState||this.props.allState!=e.allState||this.state!=t||this.props.homeState!=e.homeState}},{key:"render",value:function(){var e=this,t=this.props,n=t.dispatch,a=t.allState,i=t.homeState,c=t.searchRunningState,S=t.runningEnclosureState,N=c.get("issues"),v=S.get("issuedate"),O=S.get("endissuedate"),L=S.get("chooseValue"),T=S.get("totalSize"),C=S.get("useSizeByCorp"),R=S.get("useSizeBySob"),I=S.get("jsonArray"),w=S.get("previewSrcIdx"),A=S.getIn(["flags","preview"]),M=i.getIn(["permissionInfo","Pz"]),P=S.get("previewImgArr"),U=S.get("selectList"),D=S.get("selectedAll"),G=S.get("searchCondition"),x=S.get("searchContent"),j=S.get("tagList"),k=S.get("enclosureKey"),H=S.get("labelValue"),W=S.get("tagId"),V=a.getIn(["views","searchRunningPreviewVisibility"]);return s.default.createElement(f.default,{type:"running-enclosure",className:"runningEnclosure",onClick:function(){V&&(n(y.closePreviewRunning()),n(g.getRunningEnclosureData(v,O)),n(g.handleRunningEnclosureChooseStatus(L)))}},s.default.createElement(p.default,{issues:N,issuedate:v,endissuedate:O,chooseValue:L,dispatch:n,totalSize:T,useSizeByCorp:C,useSizeBySob:R,selectList:U,dataList:I,searchCondition:G,searchContent:x,refresh:function(){n(g.getRunningEnclosureData(v,O)),n(g.handleRunningEnclosureChooseStatus(L))},showModal:function(){e.setState({showModal:!0})}}),s.default.createElement(E.default,{dataList:I,dispatch:n,selectList:U,selectedAll:D,issuedate:v,endissuedate:O,searchCondition:G,searchContent:x,showTagListModal:function(){e.setState({showTagModal:!0})},refresh:function(){n(g.getRunningEnclosureData(v,O)),n(g.handleRunningEnclosureChooseStatus(L))}}),s.default.createElement(d.default,{page:w,dispatch:n,preview:A,downloadPermission:M.getIn(["arrange","permission"]),downloadEnclosure:function(e,t){return n((0,h.allDownloadEnclosure)(e,t))},previewImgArr:P,closePreviewModal:function(){return n(g.closeRunningEncloseurePreviewModal())}}),s.default.createElement(l.default,{visible:this.state.showModal,title:"导出处理中",closable:!1,footer:[s.default.createElement(u.default,{type:"ghost",onClick:function(){n(b.getEnclosureExportRecordingList(v)),n(_.addPageTabPane("SearchPanes","ExportRecording","ExportRecording","导出记录")),n(_.addHomeTabpane("Search","ExportRecording","导出记录")),e.setState({showModal:!1})}},"前往下载")]},s.default.createElement("p",null,"导出处理中，稍后请进入“导出记录”页面下载。如遇导出文件较大，处理耗时将相应延长，请耐心等待。")),s.default.createElement(l.default,{visible:this.state.showTagModal,title:"修改标签",onCancel:function(){e.setState({showTagModal:!1,selfTagValue:"",tagValue:""})},footer:[s.default.createElement(u.default,{type:"ghost",onClick:function(){e.setState({showTagModal:!1,selfTagValue:"",tagValue:""})}},"取消"),s.default.createElement(u.default,{type:"ghost",onClick:function(){""!==e.state.tagValue&&("self"===e.state.tagValue?n(g.insertEnclosureLabel(e.state.selfTagValue,k,v,O,G,x)):W===e.state.editTag?n(g.modifyEnclosureLabel(W,H,k,v,O,G,x)):n(g.upLoadRunningEnclosureLabel({label:H,enKey:k},v,O,G,x))),e.setState({tagValue:"",showTagModal:!1,selfTagValue:""})}},"确定")]},s.default.createElement(r.default.Group,{value:this.state.tagValue,style:{width:"100%",display:"flex",flexWrap:"wrap"},onChange:function(t){e.setState({tagValue:t.target.value,editTag:""})}},j.map(function(t,a){return s.default.createElement(m.default,{key:a,id:t.id,label:t.label,check:t.id===e.state.tagValue,edit:e.state.editTag===t.id,setEditTag:function(t){e.setState({editTag:t})},clearTagValue:function(){e.setState({tagValue:""})},clearSelfTagValue:function(){e.setState({selfTagValue:""})},dispatch:n})}),s.default.createElement("div",{style:{width:"100%",height:"40px",lineHeight:"40px"}},s.default.createElement(r.default,{value:"self"},s.default.createElement("span",{style:{width:"160px",display:"inline-block"}},"自定义","self"===this.state.tagValue&&s.default.createElement(o.default,{style:{marginLeft:"10px"},value:this.state.selfTagValue,onChange:function(t){e.setState({selfTagValue:t.target.value})}})))))))}}]),t}())||a;t.default=v},2473:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=g(n(32)),o=g(n(182)),l=g(n(14)),u=g(n(45)),i=g(n(100)),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(51),n(181),n(78),n(55),n(99);var c=g(n(1)),f=n(17);n(18);n(1582);var d=g(n(1226)),p=h(n(1359)),E=h(n(60)),m=(h(n(43)),h(n(1401))),_=g(n(1269));function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function g(e){return e&&e.__esModule?e:{default:e}}var y=i.default.Group,b=u.default.Option,S=(0,f.immutableRenderDecorator)(a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.default.Component),s(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.dispatch,a=t.issues,s=t.issuedate,f=t.totalSize,h=t.useSizeByCorp,g=t.useSizeBySob,S=t.selectList,N=t.dataList,v=t.searchCondition,O=t.searchContent,L=t.showModal,T=t.endissuedate,C=t.chooseValue,R=(h/(1024*f)*100).toFixed(2);(g/(1024*f)*100).toFixed(2);return c.default.createElement(d.default,null,c.default.createElement("div",{className:"flex-title-left"},c.default.createElement("div",{className:"select-date"},c.default.createElement(_.default,{issuedate:s,endissuedate:T,issues:a,chooseValue:C,changeChooseperiodsStatu:function(e){n(m.handleRunningEnclosureChooseStatus(e))},changePeriodCallback:function(e,t){n(m.getRunningEnclosureData(e,t))}})),c.default.createElement(y,{compact:!0,className:"title-search-group"},c.default.createElement(u.default,{value:v,className:"search-type",onChange:function(e){n(m.changeRunningEnclosureSearchCodition(e))}},c.default.createElement(b,{value:"SEARCH_TYPE_ENCLOSURE_NAME"},"名称"),c.default.createElement(b,{value:"SEARCH_TYPE_LABEL"},"标签"),c.default.createElement(b,{value:"SEARCH_TYPE_CREATE_NAME"},"制单人")),c.default.createElement(i.default,{className:"search-condition",value:O,onChange:function(e){n(m.changeRunningEnclosureContent(e.target.value))},onPressEnter:function(){n(m.getRunningEnclosureSearchData(s,T,v,O))}}),O&&c.default.createElement(l.default,{type:"close-circle",theme:"filled",className:"close-icon",onClick:function(){n(m.changeRunningEnclosureContent("")),n(m.getRunningEnclosureSearchData(s,T,v,""))}}),c.default.createElement("div",{className:"line"}),c.default.createElement(l.default,{type:"search",className:"search-icon",style:{color:"rgba(0,0,0,.45)"},onClick:function(){n(m.getRunningEnclosureSearchData(s,T,v,O))}})),c.default.createElement("span",{className:"fj-progress"},c.default.createElement("div",null,"剩余容量/总量：",(1024*f-h).toFixed(2),"Mb/",f,"G"),c.default.createElement("div",null,"本账套已使用：",g.toFixed(2),"Mb"),c.default.createElement(o.default,{style:{width:"180px"},percent:Number(R),showInfo:!1,status:R>90?"exception":"normal"}))),c.default.createElement("div",{className:"flex-title-right"},c.default.createElement(r.default,{type:"ghost",className:"title-right-btn",onClick:function(){n(E.addPageTabPane("SearchPanes","SearchRunning","SearchRunning","查询流水")),n(E.addHomeTabpane("Search","SearchRunning","查询流水"))}},"查询流水"),c.default.createElement(r.default,{type:"ghost",className:"title-right-btn",onClick:function(){n(p.getEnclosureExportRecordingList(s)),n(E.addPageTabPane("SearchPanes","ExportRecording","ExportRecording","导出记录")),n(E.addHomeTabpane("Search","ExportRecording","导出记录"))}},"导出记录"),c.default.createElement(r.default,{type:"ghost",className:"title-right-btn",disabled:!S.size,onClick:function(){n(m.exportEnclosureList(S,N,s,L))}},"导出"),c.default.createElement(r.default,{type:"ghost",disabled:!S.size,className:"title-right-btn",onClick:function(){n(m.deleteEnclosureList())}},"删除"),c.default.createElement(r.default,{type:"ghost",className:"title-right-btn",onClick:function(){e.props.refresh()}},"刷新")))}}]),t}())||a;t.default=S},2474:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=f(n(129)),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(128);var l=f(n(1)),u=(n(18),n(17)),i=n(127),s=f(n(2475)),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1401));function f(e){return e&&e.__esModule?e:{default:e}}var d=(0,u.immutableRenderDecorator)(a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),o(t,[{key:"render",value:function(){var e=this.props,t=e.dispatch,n=e.dataList,a=e.selectList,o=e.selectedAll,u=e.issuedate,f=e.endissuedate,d=e.searchCondition,p=e.searchContent,E=e.showTagListModal,m=e.refresh;return l.default.createElement(i.TableWrap,{notPosition:!0},l.default.createElement(i.TableAll,null,l.default.createElement("div",{className:"table-title-wrap"},l.default.createElement("ul",{className:"runningEnclosure-table-width runningEnclosure-table-title-justify table-title"},l.default.createElement("li",null,l.default.createElement(r.default,{checked:o,onChange:function(){t(c.selectAllRunningEncloseureList(!o))}})),l.default.createElement("li",null,"文件名"),l.default.createElement("li",null,"大小"),l.default.createElement("li",null,"标签"),l.default.createElement("li",null,"流水号"),l.default.createElement("li",null,"制单人"),l.default.createElement("li",null,"审核"))),l.default.createElement(i.TableBody,null,n.map(function(e,r){return l.default.createElement(s.default,{index:r,key:r,dispatch:t,endissuedate:f,data:e,selectList:a,className:"runningEnclosure-table-width runningEnclosure-table-title-justify",issuedate:u,searchCondition:d,searchContent:p,showTagListModal:E,dataList:n,refresh:m})}))))}}]),t}())||a;t.default=d},2475:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=m(n(32)),o=m(n(37)),l=m(n(129)),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(51),n(38),n(128);var i=m(n(1)),s=n(17),c=n(18),f=(E(n(1276)),E(n(60)),E(n(1401))),d=E(n(177)),p=n(127);m(n(498)),E(n(43)),n(22);function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function m(e){return e&&e.__esModule?e:{default:e}}var _=(0,s.immutableRenderDecorator)(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),u(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.data,a=e.line,u=e.index,s=e.dispatch,E=e.selectList,m=e.issuedate,_=e.endissuedate,h=e.searchCondition,g=e.searchContent,y=e.showTagListModal,b=e.dataList;e.refresh;return i.default.createElement(p.CxpzTableItem,{className:t,line:a},i.default.createElement("li",null,n.enclosureList.map(function(e,t){return i.default.createElement("div",{key:t,className:"table-item-line"},i.default.createElement(l.default,{checked:E.includes(n.jrIndex+"-"+e.enclosureKey),onChange:function(){s(f.changeRunningEnclosureSelectList(n.jrIndex+"-"+e.enclosureKey)),s(f.setEnclosureUuidList(e.uuid))}}))})),i.default.createElement("li",null,n.enclosureList.map(function(e,t){return i.default.createElement("p",{key:t,className:"table-item-line runningEnclosure-link fullWidth"},i.default.createElement("span",{onClick:function(){"TRUE"===e.imageOrFile||"application/pdf"===e.mimeType?s(f.previewImage(u,t)):o.default.warn("仅图片及PDF格式支持预览")}},e.fileName))})),i.default.createElement("li",null,n.enclosureList.map(function(e,t){return i.default.createElement("p",{key:t,style:{textAlign:"center"},className:"table-item-line fullWidth"},i.default.createElement("span",null,e.size>1024?(e.size/1024).toFixed(2)+"mb":e.size+"kb"))})),i.default.createElement("li",null,n.enclosureList.map(function(e,t){return i.default.createElement("p",{key:t,style:{textAlign:"center"},className:"table-item-line fullWidth"},i.default.createElement(r.default,{type:"ghost",onClick:function(){s(f.getEnclosureTagList(e.enclosureKey,y))}},e.label))})),i.default.createElement(p.TableOver,{className:"table-item-line runningEnclosure-link",onClick:function(e){e.stopPropagation(),s(d.getPreviewRunningBusinessFetch((0,c.fromJS)(n),"search_cxls",(0,c.fromJS)(b),function(){s(f.getRunningEnclosureData(m,_))}))}},n.jrIndex,"号"),i.default.createElement(p.TableOver,{className:"table-item-line"},n.createUserName),i.default.createElement(p.TableOver,{className:"table-item-line runningEnclosure-link"},n.beCertificate?i.default.createElement(r.default,{type:"ghost",onClick:function(){s(f.antiVerifyRunningEnclosure(n.jrIndex,m,_,h,g))}},"反审核"):i.default.createElement(r.default,{type:"ghost",onClick:function(){s(f.verifyRunningEnclosure(n.oriUuid,m,_,h,g))}},"审核")))}}]),t}())||a;t.default=_},2476:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=f(n(14)),o=f(n(89)),l=f(n(100)),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(78),n(88),n(99);var i=f(n(1)),s=n(56);n(1582);var c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1401));function f(e){return e&&e.__esModule?e:{default:e}}var d=(0,s.connect)(function(e){return e})(a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={tagName:n.props.label},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),u(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.id,a=t.label,u=t.check,s=t.edit,f=t.setEditTag,d=(t.getLabelValue,t.dispatch),p=t.clearTagValue,E=(t.clearSelfTagValue,this.state.tagName);u&&d(c.setEnclosureLabelValue(E,n));var m=["无标签","发票","其他票据"];return i.default.createElement("div",{style:{width:"50%",height:"40px",lineHeight:"40px"}},i.default.createElement(o.default,{value:n,ckecked:u},i.default.createElement("span",{style:{width:"140px",display:"inline-block"}},s&&u?i.default.createElement(l.default,{defaultValue:E,onChange:function(t){e.setState({tagName:t.target.value})}}):a)),!m.includes(a)&&i.default.createElement(r.default,{type:"edit",onClick:function(){f(n)}}),!m.includes(a)&&i.default.createElement(r.default,{type:"close",style:{color:"red",marginLeft:"10px"},onClick:function(){u&&p(),d(c.deleteEnclosureLabel(n))}}))}}]),t}())||a;t.default=d}}]);