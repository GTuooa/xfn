(window.webpackJsonp=window.webpackJsonp||[]).push([[94],{1150:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.view=t.reducer=void 0;var r=o(n(2131));function o(e){return e&&e.__esModule?e:{default:e}}var a={lrbState:o(n(1688)).default};t.reducer=a,t.view=r.default},1389:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=c(n(100)),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(99);var u=c(n(1)),l=n(17),i=n(22);function c(e){return e&&e.__esModule?e:{default:e}}var f=(0,l.immutableRenderDecorator)(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.emitEmpty=function(){n.userNameInput&&n.userNameInput.focus()},n.emitSelect=function(){n.userNameInput&&n.userNameInput.input.select()},n.state={inputIsFocus:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default.Component),a(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.type,r=t.className,a=t.onChange,l=t.disabled,c=t.value,f=t.onBlur,s=t.onFocus,p=t.prefix,d=t.suffix,b=t.autoSelect,m=t.showFormatMoney,y=t.decimalPlaces,h=this.state.inputIsFocus,v=y?Number(y):2,_="";return _=m?c||0===c?h?c:(0,i.formatMoney)(c,v,""):"":c,u.default.createElement(o.default,{className:r||"",disabled:l,prefix:p||null,suffix:d||null,value:_,onBlur:function(t){f&&f(t),e.setState({inputIsFocus:!1})},onFocus:function(t){b?e.setState({inputIsFocus:!0},function(){e.emitSelect()}):(e.setState({inputIsFocus:!0}),s&&s(t))},onChange:function(e){a&&("number"==n?(new RegExp("^[-\\d]\\d*\\.?\\d{0,"+v+"}$","g").test(e.target.value)||""==e.target.value)&&a(e):a(e))},ref:function(t){return e.userNameInput=t}})}}]),t}())||r;t.default=f},2131:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=h(n(61)),a=h(n(32)),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(79),n(51);var l=h(n(1)),i=(n(18),n(56)),c=y(n(1319)),f=y(n(60)),s=y(n(30)),p=h(n(2132)),d=h(n(1224)),b=h(n(1226));n(2134);var m=n(22);function y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function h(e){return e&&e.__esModule?e:{default:e}}var v=(0,i.connect)(function(e){return e})(r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),u(t,[{key:"shouldComponentUpdate",value:function(e){return this.props.allState!=e.allState||this.props.lrbState!=e.lrbState||this.props.homeState!=e.homeState}},{key:"render",value:function(){var e=this.props,t=e.lrbState,n=e.dispatch,r=(e.allState,e.homeState.getIn(["data","userInfo","pageController","REPORT","preDetailList","PROFIT_REPORT","detailList"])),u=t.get("initPeriodList");t.get("lrbRuleModal");return l.default.createElement(d.default,{type:"report-one",className:"initLrb"},l.default.createElement(b.default,null,l.default.createElement("div",{className:"flex-title-left"}),l.default.createElement("div",{className:"flex-title-right"},l.default.createElement(a.default,{className:"title-right",type:"ghost",onClick:function(){n(f.addPageTabPane("ReportPanes","Lrb","Lrb","利润表")),n(f.addHomeTabpane("Report","Lrb","利润表"))}},"返回"),l.default.createElement(a.default,{className:"title-right",type:"ghost",onClick:function(){s.Confirm({message:"本操作将清空数据",title:"提示",buttonLabels:["取消","确定"],onSuccess:function(e){1===e.buttonIndex&&n(c.clearInitLrb())}})}},"清空"),l.default.createElement(o.default,{placement:"bottom",title:(0,m.judgePermission)(r.get("ADJUST")).disabled?"当前角色无该权限":""},l.default.createElement(a.default,{className:"title-right",type:"ghost",disabled:(0,m.judgePermission)(r.get("ADJUST")).disabled,onClick:function(){return n(c.saveInitLrbFetch())}},"保存")))),l.default.createElement(p.default,{incomestatement:u,dispatch:n,isAdmin:!(0,m.judgePermission)(r.get("ADJUST")).disabled}))}}]),t}())||r;t.default=v},2132:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=c(n(1)),u=(n(18),n(17)),l=c(n(2133)),i=n(127);function c(e){return e&&e.__esModule?e:{default:e}}var f=(0,u.immutableRenderDecorator)(r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),o(t,[{key:"render",value:function(){var e=this.props,t=e.incomestatement,n=e.dispatch,r=e.isAdmin,o=f(0)-f(1)-f(2)-f(10)-f(13)-f(17)-f(19)+f(20)+f(21),u=o+f(23)-f(25),c=u-f(32);function f(e){var n=t.getIn([e,"amount"]);return""==n?0:Number(n)}var s=t.size?t.setIn([22,"amount"],o).setIn([31,"amount"],u).setIn([33,"amount"],c):t;return a.default.createElement(i.TableWrap,null,a.default.createElement(i.TableAll,{className:"initlrb-table"},a.default.createElement(i.TableTitle,{className:"initlrb-table-width",titleList:["项目","行次","本年累计期初金额"]}),a.default.createElement(i.TableBody,null,(s||[]).map(function(e,t){return a.default.createElement(l.default,{idx:t,lrItem:e,className:"initlrb-table-width initlrb-tabel-justify",key:t,dispatch:n,disabledModify:22===t||31===t||33===t,isAdmin:r})}))))}}]),t}())||r;t.default=f},2133:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=f(n(1)),u=(n(18),n(17)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1319)),i=f(n(1389)),c=(n(22),n(127));function f(e){return e&&e.__esModule?e:{default:e}}var s={first:[1,23,32,34],second:[2,21,24,26,33],third:[3,11,14,18],fourth:[4,12,15,19,20,22,25,27],fifth:[5,6,7,8,9,10,13,16,17,28,29,30,31]},p=(0,u.immutableRenderDecorator)(r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),o(t,[{key:"render",value:function(){var e=this.props,t=e.lrItem,n=e.className,r=e.dispatch,o=e.disabledModify,u=e.idx,f=e.isAdmin,p=t.get("amount"),d=t.get("lineName"),b=t.get("lineIndex"),m="",y=!0,h=!1,v=void 0;try{for(var _,g=Object.keys(s)[Symbol.iterator]();!(y=(_=g.next()).done);y=!0){var w=_.value;if(s[w].indexOf(b)>-1){m=w;break}}}catch(e){h=!0,v=e}finally{try{!y&&g.return&&g.return()}finally{if(h)throw v}}return a.default.createElement(c.TableItem,{className:n,line:u+1},a.default.createElement("li",null,a.default.createElement("span",{className:m?"lrb-text-index-"+m:""},d?d.replace(/\./g,"、").replace(/:/g,"："):"")),a.default.createElement("li",null,b),a.default.createElement("li",null,o?a.default.createElement(c.Amount,{className:"initlrb-amount-line"},p):a.default.createElement(i.default,{autoSelect:!0,showFormatMoney:!0,disabled:!f,value:p,onFocus:function(e){e.target.value=p||""},onChange:function(e){return r(l.changeInitLrbAmount(b,e.target.value))}})))}}]),t}())||r;t.default=p},2134:function(e,t,n){}}]);