(window.webpackJsonp=window.webpackJsonp||[]).push([[52,1,2,24],{1195:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.view=t.reducer=void 0;var a=c(n(2532)),r=c(n(1301)),l=c(n(1358)),u=c(n(1391)),i=c(n(1334)),o=c(n(1335));function c(e){return e&&e.__esModule?e:{default:e}}var s={lrAccountState:r.default,accountConfState:i.default,cxlsState:u.default,lrCalculateState:l.default,yllsState:o.default};t.reducer=s,t.view=a.default},1229:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getInitLraccountJzsy=t.getJzsyProjectCardList=t.insertlrAccountJzsy=t.calculateGainForJzsy=t.getAssetsCarryoverList=t.getAssetsCleaningCategory=t.changeTagName=t.getLabelFetch=t.initLabel=t.deleteUploadFJUrl=t.uploadFiles=t.switchLoadingMask=t.getUploadGetTokenFetch=t.changeStateAndAbstract=t.insertProjectShare=t.calculateCommonChargeAmount=t.chargeItemCheckboxCheck=t.getChargeProjectCard=t.getProjectShareList=t.addCarryStock=t.deleteCarryStock=t.getCostCardTypeList=t.getCostCardList=t.deleteStock=t.addStock=t.autoCalculateStockAmount=t.autoCalculateProjectAmount=t.deleteProject=t.addProject=t.getCalculateCardList=t.getAllManagesCardList=t.getManagesCardList=t.closeAccountconfModal=t.refreshRunningbusiness=t.initStockCard=t.initRelaCard=t.inventorySettingInit=t.changeCardCategoryType=t.changeCardCategoryStatus=t.changeCardNature=t.changeManageCardRelationType=t.saveIUManageTypeCard=t.changeManageCardRelation=t.getIUmanageListTitle=t.searchCardList=t.getCurrentCardList=t.getAllCardList=t.getProjectSomeCardList=t.getProjectAllCardList=t.getCardList=t.getFirstContactsCardList=t.getFirstStockCardList=t.calculateAccruedAmount=t.changeBeforeAmount=t.initLrAccountAfterFailed=t.getManagerCategoryList=t.insertlrAccount=t.accountTotalAmount=t.accountItemCheckboxCheckAll=t.accountItemCheckboxCheck=t.getAccountObjectList=t.AsssetsInsert=t.getBusinessList=t.billChange=t.calculateGain=t.updateAssList=t.justNewRunningbusiness=t.initBussiness=t.initCalculate=t.saveRunningbusiness=t.autoCalculateAmount=t.changeAccountAssName=t.changeAccountAssId=t.changeAccountFzhsModalClear=t.changeAccountAssCategory=t.changeAccountFzhsModalDisplay=t.autoCalculateBillInfo=t.changeAccountTaxRate=t.changeAccountAmount=t.changeAccountSalaryCheckbox=t.changeAccountSalary=t.changeLrAccountAccountName=t.getRunningAccountInfo=t.saveCard=t.changeIUMangeCardAc=t.changeLrAccountOutString=t.changeLrAccountCommonString=t.selectAccountAss=t.selectRunningAcInfo=t.getCostStockList=t.getProjectCardList=t.selectAccountRunningCategory=t.getRunningSettingInfo=t.initLrAccount=t.lsDownloadEnclosure=void 0;var a=_(n(37)),r=_(n(47)),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};n(38),n(46);var u=m(n(1313)),i=_(n(52)),o=_(n(31)),c=n(22),s=(m(n(43)),m(n(60)),m(n(1298))),d=n(18),f=(m(n(30)),m(n(27))),g=n(43);function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function _(e){return e&&e.__esModule?e:{default:e}}function T(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var p=r.default.confirm,C=(t.lsDownloadEnclosure=function(e,t){return function(n){n((0,g.allDownloadEnclosure)(e,t))}},t.initLrAccount=function(e,t,n){return function(a){a({type:u.INIT_LR_ACCOUNT,strJudgeType:e,receivedData:t,callBackObj:n})}}),E=(t.getRunningSettingInfo=function(e){return function(e){(0,i.default)("getRunningSettingInfo","GET","",function(t){if((0,c.showMessage)(t)){var n=t.data.rate;e({type:u.GET_ACCOUNTCONF_ALL_SETTINGS,receivedData:t.data}),e({type:u.INIT_LR_ACCOUNT_SETTINGS,rate:n,hideCategoryList:t.data.hideCategoryList}),e({type:u.SET_INVOIC_ASSLIST_FROM_SETTINGS,rate:n})}})}},t.selectAccountRunningCategory=function(e,t,n,a,r,l){return function(t,n){t({type:u.SWITCH_LOADING_MASK}),e?(0,i.default)("getRunningDetail","GET","uuid="+e,function(n){if(t({type:u.SWITCH_LOADING_MASK}),(0,c.showMessage)(n)){var i=n.data.result;t({type:u.SELECT_ACCOUNT_RUNNING_CATEGORY,uuid:e,name:i});var o=i.categoryType,s=i.propertyPay,f=i.propertyCostList,g=(i.propertyCost,i.propertyTax),m=i.assetType,_=void 0,T="debit";(({LB_YYSR:function(){!0,"营业收入",_="acBusinessIncome"},LB_YYZC:function(){!0,"营业支出",_="acBusinessExpense",T="credit"},LB_YYWSR:function(){!0,"营业外收入",_="acBusinessOutIncome",!0},LB_YYWZC:function(){!0,"营业外支出",_="acBusinessOutExpense",T="credit",!0},LB_JK:function(){!0,"借款",_="acLoan"},LB_TZ:function(){!0,"投资",_="acInvest"},LB_ZB:function(){!0,"资本",_="acCapital"},LB_CQZC:function(){!0,"长期资产",_="acAssets",T="debit"},LB_FYZC:function(){!0,"费用支出",_="acCost",T="credit"},LB_ZSKX:function(){!1,"暂收款项",_="acTemporaryReceipt",!0},LB_ZFKX:function(){!1,"暂付款项",_="acTemporaryPay",!0},LB_XCZC:function(){!1,"薪酬支出",_="acPayment",T="credit"},LB_SFZC:function(){!1,"税费支出",_="acTax",T="credit"}})[o]||function(){return""})();var p=i[_].beSellOff,C=i[_].beManagemented,E=i[_].beAccrued,y=i[_].beInAdvance,N=i[_].beTurnOut,I=i[_].beDeposited,L=i[_].stockRange,h=i[_].contactsRange,v=i.beProject,R=i.projectRange;t(A("card","taxRate","small"===a?r:l)),"LB_YYSR"!==o||I||p?"LB_YYZC"!==o||I||p?"LB_FYZC"!==o||C?"LB_XCZC"!==o||E?"LB_SFZC"!==o||y||"SX_ZZS"!==g?("LB_SFZC"!==o||N||"SX_GRSF"!==g)&&("LB_SFZC"!==o||E||"SX_QYSDS"!==g&&"SX_QTSF"!==g)?"LB_YYWSR"!==o||C?"LB_YYWZC"!==o||C?"LB_CQZC"!==o||C?"LB_JK"!==o||E?"LB_TZ"!==o||E?"LB_ZSKX"===o?(t(U((0,d.fromJS)(i),"STATE_ZS_SQ")),t(A("card","runningState","STATE_ZS_SQ"))):"LB_ZFKX"===o?(t(U((0,d.fromJS)(i),"STATE_ZF_FC")),t(A("card","runningState","STATE_ZF_FC"))):t(A("card","runningState","")):(t(U((0,d.fromJS)(i),"STATE_TZ_YS")),t(A("card","runningState","STATE_TZ_YS"))):(t(U((0,d.fromJS)(i),"STATE_JK_YF")),t(A("card","runningState","STATE_JK_YF"))):(t(U((0,d.fromJS)(i),"STATE_CQZC_YF")),t(A("card","runningState","STATE_CQZC_YF"))):(t(U((0,d.fromJS)(i),"STATE_YYWZC_YF")),t(A("card","runningState","STATE_YYWZC_YF"))):(t(U((0,d.fromJS)(i),"STATE_YYWSR_YS")),t(A("card","runningState","STATE_YYWSR_YS"))):(t(U((0,d.fromJS)(i),"STATE_SF_JN")),t(A("card","runningState","STATE_SF_JN"))):(t(A("card","runningState","STATE_SF_JN")),t(U((0,d.fromJS)(i),"STATE_SF_JN"))):"SX_FLF"===s?(t(U((0,d.fromJS)(i),"STATE_XC_YF")),t(A("card","runningState","STATE_XC_YF"))):"SX_QTXC"===s||"SX_GZXJ"===s?(t(A("card","runningState","STATE_XC_FF")),t(U((0,d.fromJS)(i),"STATE_XC_FF"))):(t(A("card","runningState","STATE_XC_JN")),t(U((0,d.fromJS)(i),"STATE_XC_JN"))):(t(A("card","runningState","STATE_FY_YF")),t(U((0,d.fromJS)(i),"STATE_FY_YF"))):(t(A("card","runningState","STATE_YYZC_GJ")),t(U((0,d.fromJS)(i),"STATE_YYZC_GJ")),t(O(L,"STATE_YYZC_GJ")),t(b(h,"STATE_YYZC_GJ"))):(t(A("card","runningState","STATE_YYSR_XS")),t(U((0,d.fromJS)(i),"STATE_YYSR_XS")),t(O(L,"STATE_YYSR_XS")),t(b(h,"STATE_YYSR_XS"))),f&&1===f.length?t(A("card","propertyCost",f[0])):t(A("card","propertyCost","")),t(A("card","billStates","")),t(A("card","billType","small"!==a||"credit"!==T&&"XZ_GJZC"!==m?"":"bill_other")),v&&t(S(R)),i.acBusinessIncome&&i.acBusinessIncome.beCarryover&&t(A("card",["acBusinessIncome","carryoverCardList"],(0,d.fromJS)([{uuid:""}])))}}):t({type:u.SWITCH_LOADING_MASK})}}),S=t.getProjectCardList=function(e){return function(t,n){var a=n().homeState.getIn(["data","userInfo","sobInfo","sobId"]);(0,i.default)("getProjectCardList","POST",JSON.stringify({sobId:a,categoryList:e,needCommonCard:!0}),function(e){(0,c.showMessage)(e)&&t(A("",["flags","projectList"],(0,d.fromJS)(e.data.result)))})}},A=(t.getCostStockList=function(e,t){return function(n){(0,i.default)("getCostStock","POST",JSON.stringify({runningDate:e,runningState:t}),function(e){(0,c.showMessage)(e)&&(n(A("",["flags","costStockList"],(0,d.fromJS)(e.data.result))),n(A("",["flags","thingsList"],(0,d.fromJS)(e.data.result))),n(A("",["flags","selectThingsList"],(0,d.fromJS)(e.data.result))))})}},t.selectRunningAcInfo=function(e,t,n,a,r){return{type:u.SELECT_RUNNING_AC_INFO,acid:e,acFullName:t,idPlace:n,namePlace:a,assPlace:r}},t.selectAccountAss=function(e,t,n,a){return{type:u.SELECT_ACCOUNT_ASS,assId:e,assName:t,assCategory:n,place:a}},t.changeLrAccountCommonString=function(e,t,n){return function(a){var r="string"==typeof t?[e+"Temp",t]:[e+"Temp"].concat(T(t));"flags"===t[0]&&(r=t),a({type:u.CHANGE_LR_ACCOUNT_COMMON_STRING,tab:e,placeArr:r,value:n})}}),y=(t.changeLrAccountOutString=function(e,t){return function(n){n("string"==typeof e?{type:u.CHANGE_LR_ACCOUNT_COMMON_STRING,place:e,value:t}:{type:u.CHANGE_LR_ACCOUNT_COMMON_STRING,placeArr:e,value:t})}},t.changeIUMangeCardAc=function(e,t,n,a){return function(r){var l=e.split(" ");r({type:u.ACCOUNT_CHANGE_IUMANAGE_CARD_AC,uuid:l[0],name:l[1],acId:t,acName:n,place:a})}},t.saveCard=function(e,t,n,r,l){return function(o,s){o({type:u.SWITCH_LOADING_MASK});var d=s().lrAccountState.get("inventorySettingCard").toJS(),f=s().lrAccountState.getIn(["cardTemp","runningState"]),g=function(){(0,i.default)("addInventorySettingCard","POST",JSON.stringify({psiData:d,needAutoIncrementCode:"insert"!==e,insertFrom:"",treeFrom:""}),function(n){(0,c.showMessage)(n)&&(o({type:u.ACCOUNT_SAVE_INVENTORY_SETTING_CARD,list:n.data.resultList,flag:e,autoIncrementCode:n.data.autoIncrementCode}),t&&t(),a.default.info("保存成功"),o(O(l,f)))})};(0,i.default)("adjustInventorySettingCardTitleSame","POST",JSON.stringify({psiData:{name:d.name,uuid:d.uuid}}),function(e){(0,c.showMessage)(e)&&(e.data.repeat?(n(),p({title:"名称重复",content:"卡片类别名称与已有卡片类别名称重复，确定保存吗？",onOk:function(){g(),r()},onCancel:function(){r()}})):g()),o({type:u.SWITCH_LOADING_MASK})})}},t.getRunningAccountInfo=function(e,t,n,a,r,l,o){return function(s,d){var f="",g="",m="",_="",T="";switch(t=t.substr(0,10),n.size?(f=n.getIn(["0","assId"]),g=n.getIn(["0","assCategory"]),m=2==n.size?n.getIn(["1","assId"]):"",_=2==n.size?n.getIn(["1","assCategory"]):""):T=a,r){case"other":(0,i.default)("getRunningOtherAccountInfo","POST",JSON.stringify({categoryUuid:e,runningDate:t,acId:T,assId1:f,assCategory1:g,assId2:m,assCategory2:_,uuid:"modify"===l?o:""}),function(e){(0,c.showMessage)(e)&&s({type:u.GET_RUNNING_ACCOUNT_INFO,receivedData:e.data,wordType:"other"})});break;case"VAT":(0,i.default)("getBusinessVATInfo","POST",JSON.stringify({categoryUuid:e,runningDate:t,acId:T,assId1:f,assCategory1:g,assId2:m,assCategory2:_,uuid:"modify"===l?o:""}),function(e){(0,c.showMessage)(e)&&s({type:u.GET_RUNNING_ACCOUNT_INFO,receivedData:e.data,wordType:"VAT"})});break;case"dikou":(0,i.default)("getRunningAccountInfo","POST",JSON.stringify({categoryUuid:e,runningDate:t,cardUuid:a,uuid:"modify"===l?o:""}),function(e){(0,c.showMessage)(e)&&s({type:u.GET_RUNNING_ACCOUNT_INFO,receivedData:e.data.result,wordType:"dikou"})});break;case"accruedXCZC":(0,i.default)("getPaymentTaxInfo","POST",JSON.stringify({categoryUuid:e,runningDate:t,acId:T,assId1:f,assCategory1:g,assId2:m,assCategory2:_}),function(e){(0,c.showMessage)(e)&&s({type:u.GET_RUNNING_ACCOUNT_INFO,receivedData:e.data,wordType:"other"})});break;case"accruedZZS":(0,i.default)("getPaymentTaxInfo","POST",JSON.stringify({categoryUuid:e,runningDate:t,acId:T,assId1:f,assCategory1:g,assId2:m,assCategory2:_}),function(e){(0,c.showMessage)(e)&&s({type:u.GET_RUNNING_ACCOUNT_INFO,receivedData:e.data.result,wordType:"accruedZZS"})});break;case"socialSecurity":(0,i.default)("getPaymentInfo","POST",JSON.stringify({categoryUuid:e,runningDate:t,acType:"AC_SB"}),function(e){(0,c.showMessage)(e)&&s({type:u.GET_RUNNING_ACCOUNT_INFO,receivedData:e.data.result,wordType:"socialSecurity"})});break;case"sfAmount":(0,i.default)("getIncomeTax","POST",JSON.stringify({categoryUuid:e,runningDate:t,acId:T,assId1:f,assCategory1:g,assId2:m,assCategory2:_}),function(e){(0,c.showMessage)(e)&&s({type:u.GET_RUNNING_ACCOUNT_INFO,receivedData:e.data.result,wordType:"sfAmount"})});break;case"fund":(0,i.default)("getPaymentInfo","POST",JSON.stringify({categoryUuid:e,runningDate:t,acType:"AC_GJJ"}),function(e){(0,c.showMessage)(e)&&s({type:u.GET_RUNNING_ACCOUNT_INFO,receivedData:e.data.result,wordType:"fund"})});break;default:(0,i.default)("getOutPutTax","POST",JSON.stringify({categoryUuid:e,runningDate:t,acId:T,assId1:f,assCategory1:g,assId2:m,assCategory2:_}),function(e){(0,c.showMessage)(e)&&s({type:u.GET_RUNNING_ACCOUNT_INFO,receivedData:e.data.result,wordType:"tax"})})}}},t.changeLrAccountAccountName=function(e,t,n,a){return{type:u.CHANGE_LR_ACCOUNT_ACCOUNT_NAME,tab:e,placeUUid:t,placeName:n,value:a}},t.changeAccountSalary=function(e,t){return{type:u.CHANGE_ACCOUNT_SALARY,place:e,value:t}},t.changeAccountSalaryCheckbox=function(e,t,n){return function(a){if(!n)switch(t){case"personAccumulationAmountchecked":a(I(["acPayment","fundList"],""));break;case"personSocialSecurityAmountchecked":a(I(["acPayment","socialSecurityList"],""));break;case"incomeTaxAmountchecked":a(I(["acPayment","incomeTaxList"],""))}a({type:u.CHANGE_ACCOUNT_SALARY,place:e,value:0,checkplace:t,checked:n})}},t.changeAccountAmount=function(e){return{type:u.CHANGE_ACCOUNT_BILL_TYPE,value:e}},t.changeAccountTaxRate=function(e){return{type:u.CHANGE_ACCOUNT_TAX_RATE,value:e}}),N=(t.autoCalculateBillInfo=function(e){return{type:u.AUTO_CALCULATE_BILL_INFO,strJudgeType:e}},t.changeAccountFzhsModalDisplay=function(){return{type:u.CHANGE_ACCOUNT_FZHS_MODAL_DISPLAY}},t.changeAccountAssCategory=function(e){return{type:u.CHANGE_ACCOUNT_ASS_CATEGORY,assCategory:e}},t.changeAccountFzhsModalClear=function(){return{type:u.CHANGE_ACCOUNT_FZHS_MODAL_CLEAR}},t.changeAccountAssId=function(e){return{type:u.CHANGE_ACCOUNT_ASSID,value:e}},t.changeAccountAssName=function(e){return{type:u.CHANGE_ACCOUNT_ASSNAME,value:e}},t.autoCalculateAmount=function(){return{type:u.CALCULATE_AMOUNT}},t.saveRunningbusiness=function(e){return function(t,n){t(N());var r=n().lrAccountState,o=n().accountConfState,s=(r.getIn(["flags","insertOrModify"]),r.getIn(["flags","specialStateforAssets"])),d=r.getIn(["flags","runningInsertOrModify"]),f=r.get("cardTemp"),g=f.get("runningState"),m=f.get("categoryType"),_=f.get("categoryUuid"),T=f.get("scale"),p=f.get("payableRate"),S=f.get("outputRate"),A=o.get("runningCategory"),y=r.get("enclosureList").toJS(),I=r.get("needDeleteUrl").toJS(),h=y.concat(I),v={LB_YYSR:"insertIncome",LB_YYZC:"insertExpense",LB_JK:"insertLoan",LB_TZ:"insertInvest",LB_ZB:"insertCapital",LB_ZZ:"insertVirement",LB_XCZC:"insertPayment",LB_FYZC:"insertCost",LB_SFZC:"insertTax",LB_ZFKX:"insertTemporaryPay",LB_ZSKX:"insertTemporaryReceipt",LB_CQZC:"insertAssets",LB_YYWZC:"insertOutIncome",LB_YYWSR:"insertOutExpense"}[m],O={LB_YYSR:"acBusinessIncome",LB_YYZC:"acBusinessExpense",LB_YYWSR:"acBusinessOutIncome",LB_YYWZC:"acBusinessOutExpense",LB_JK:"acLoan",LB_TZ:"acInvest",LB_ZB:"acCapital",LB_CQZC:"acAssets",LB_FYZC:"acCost",LB_ZSKX:"acTemporaryReceipt",LB_ZFKX:"acTemporaryPay",LB_XCZC:"acPayment",LB_SFZC:"acTax"}[m],b=void 0;b="STATE_YYSR_DJ"===g||"STATE_ZS"===g||"STATE_ZF"===g||"STATE_YYZC_DJ"===g?-Math.abs(f.get("amount")):f.get("amount");var M=f.toJS(),D=R(m);for(var G in D)delete M[D[G]];delete M.queryObj,M.usedProject&&M.projectCard.size&&(M.projectCard=M.projectCard.filter(function(e){return e.uuid})),M[O].stockCardList&&M[O].stockCardList.size&&(M[O].stockCardList=M[O].stockCardList.filter(function(e){return e.uuid})),"insert"!==d||s||delete M.uuid,t({type:u.SWITCH_LOADING_MASK}),(0,i.default)(""+("modify"===d?"modifyRunningbusiness":v),"POST",JSON.stringify(l({},M,{amount:b,enclosureList:h})),function(n){if(t({type:u.SWITCH_LOADING_MASK}),0!==n.code)a.default.info(n.code+" "+n.message);else{var r=n.data.businessFlowNumberList;if(r&&r.length?a.default.success("已生成如下流水："+n.data.flowNumber+"、"+r.map(function(e,t){return e+(t<r.length-1?"、":"")})):a.default.success(n.message),e)t(C("saveAndNew")),t(E(_,"",A,T,p,S));else if("STATE_JK_ZFLX"===g||"STATE_TZ_SRGL"===g||"STATE_TZ_SRLX"===g||"STATE_ZB_ZFLR"===g||"STATE_XC_FF"===g||"STATE_XC_JN"===g||"STATE_SF_JN"===g||"STATE_ZS_TH"===g||"STATE_ZF_SH"===g||"STATE_CQZC_JZSY"===g||"STATE_CQZC_YS"===g||"STATE_CQZC_WS"===g){var l=void 0;if("insert"===d)l=n.data.uuid;else l=f.get("uuid");t({type:u.SWITCH_LOADING_MASK}),(0,i.default)("getRunningBusiness","GET","uuid="+l,function(e){t({type:u.SWITCH_LOADING_MASK}),(0,c.showMessage)(e)&&(t({type:u.INIT_LR_ACCOUNT,strJudgeType:"fromCxAccount",receivedData:e.data}),"STATE_CQZC_JZSY"===g&&t(L()))})}else t(C("afterSave",f,n.data))}})}},t.initCalculate=function(){return{type:u.INIT_LR_CALCULATE_STATE}}),I=(t.initBussiness=function(){return{type:u.INIT_LR_ACOUNT_STATE}},t.justNewRunningbusiness=function(e,t){return function(n,a){var r=a().lrAccountState,l=a().accountConfState,i=r.get("cardTemp"),o=i.get("categoryUuid"),c=i.get("scale"),d=i.get("payableRate"),f=i.get("outputRate"),g=l.get("runningCategory"),m=r.get("calculateTemp").get("runningDate");if("business"===e&&n(N()),"business"===e||"payment"===e&&""===t)n(C("saveAndNew")),n(E(o,"",g,c,d,f));else switch(t){case"LB_ZZ":n({type:u.AFTER_SUCCESS_INSERT_LB_ZZ_ITEM,saveAndNew:!0});break;case"LB_SFGL":n(h(m)),n({type:u.INIT_LR_ACCOUNT_PAYMENT,saveAndNew:!0,paymentInsertOrModify:"insert"});break;case"LB_JZCB":n({type:u.AFTER_SUCCESS_INSERT_CARRYOVER_ITEM,saveAndNew:!0});break;case"LB_FPRZ":n({type:u.AFTER_SUCCESS_INSERT_INVOICEAUTH_ITEM,saveAndNew:!0});break;case"LB_KJFP":n({type:u.AFTER_SUCCESS_INSERT_INVOICING_ITEM,saveAndNew:!0}),n(s.getInvoicingList("BILL_MAKE_OUT_TYPE_XS",m));break;case"LB_ZCWJZZS":n({type:u.AFTER_SUCCESS_INSERT_TRANSFER_OUT_ITEM,saveAndNew:!0});break;case"LB_GGFYFT":n(G()),n({type:u.INIT_COMMON_CHARGE,saveAndNew:!0});break;case"LB_ZJTX":n({type:u.INIT_LR_CALCULATE_STATE}),n(s.getAssetsList("LB_ZJTX"));break;case"LB_JZSY":n(G()),n({type:u.AFTER_INSERT_JZSY,saveAndNew:!0})}}},t.updateAssList=function(e,t){return function(n){var a="string"==typeof e?["cardTemp",e]:["cardTemp"].concat(T(e)),r=!1,l=void 0;if(t){var i=t.split(f.TREE_JOIN_STR);l={assName:i[0],assId:i[1],assCategory:i[2]}}else r=!0;n({type:u.UPDATE_ACCOUNT_LIST,placeArr:a,value:l,empty:r})}}),L=t.calculateGain=function(e){return function(t,n){var a=n().lrAccountState,r=a.get("cardTemp"),l=r.get("amount"),i=r.get("taxRate"),o=r.get("businessList"),c=e||r.get("billType"),s=a.getIn(["flags","isQueryByBusiness"]),d=a.getIn(["flags","specialStateforAssets"]);"bill_common"!==c||s&&!d?s&&o.size&&"bill_common"===o.getIn([0,"billType"])&&(l=(l/(1+Number(o.getIn([0,"taxRate"]))/100)).toFixed(2)):l=(l/(1+Number(i)/100)).toFixed(2);var f=r.getIn(["acAssets","originalAssetsAmount"]),g=r.getIn(["acAssets","depreciationAmount"]),m=(r.getIn(["acAssets","cleaningAmount"]),r.getIn(["acAssets","upgradingAmount"])),_=(Number(f)-Number(g)+Number(m)).toFixed(2),T=Math.abs(_-l).toFixed(2),p=void 0,C=void 0;Number(_)<=l?(p=["cardTemp","acAssets","netProfitAmount"],C=["cardTemp","acAssets","lossAmount"]):Number(_)>l&&(p=["cardTemp","acAssets","lossAmount"],C=["cardTemp","acAssets","netProfitAmount"]),t({type:u.CALCULATE_GAIN_OR_LOSS,deletePlace:C,place:p,diff:T})}},h=(t.billChange=function(e,t,n,a,r){return function(n,l){l().lrAccountState.get("cardTemp");var i=void 0;"small"===e&&"bill_states_make_out"===t?i=a:"small"===e&&"bill_states_not_make_out"===t?i=r:"general"!==e||"bill_states_make_out"!==t&&"bill_states_auth"!==t?"general"!==e||"bill_states_not_make_out"!==t&&"bill_states_not_auth"!==t||(i=r):i=a,n({type:u.CHANGE_LR_ACCOUNT_COMMON_STRING,placeArr:["cardTemp","billStates"],value:t}),n({type:u.CHANGE_LR_ACCOUNT_COMMON_STRING,placeArr:["cardTemp","billAcList"],value:[{acId:i}]})}},t.getBusinessList=function(e,t){return function(n){n({type:u.SWITCH_LOADING_MASK}),(0,i.default)("getManageList","POST",JSON.stringify({runningDate:e,cardUuid:t,isCheck:!1}),function(e){n({type:u.SWITCH_LOADING_MASK}),(0,c.showMessage)(e)&&n({type:u.GET_PAYMENT_PERIOD,receivedData:e.data.result.childList})})}},t.AsssetsInsert=function(){return function(e){e(A("",["flags","specialStateforAssets"],!0)),e(A("",["flags","runningInsertOrModify"],"insert"))}},t.getAccountObjectList=function(e){return function(t){t({type:u.SWITCH_LOADING_MASK}),(0,i.default)("getBusinessManagerCardList","POST",JSON.stringify({runningDate:e}),function(e){t({type:u.SWITCH_LOADING_MASK}),(0,c.showMessage)(e)&&t(A("calculate","cardList",(0,d.fromJS)(e.data.cardList)))})}}),v=(t.accountItemCheckboxCheck=function(e,t,n){return{type:u.LRACCOUNT_ITEM_CHECKBOX_CHECK,checked:e,uuid:t,index:n}},t.accountItemCheckboxCheckAll=function(e,t){return function(n,a){var r=a().lrAccountState,l=r.getIn(["calculateTemp","detail"]),i=r.getIn(["flags","managerCategoryList"]);l.forEach(function(e,t){e.get("beOpened")&&!i.get(t)&&n(v(t,e.get("assType")))}),n({type:u.LRACCOUNT_ITEM_CHECKBOX_CHECK_ALL,selectAll:e,list:t})}},t.accountTotalAmount=function(e){return function(t,n){var a=n().lrAccountState,r=a.get("calculateTemp"),l=a.getIn(["flags","indexList"]),u=a.getIn(["calculateTemp","detail"]),i=a.get("flags"),o=i.get("isQuery"),c=i.get("modify"),s=(i.get("accountType"),0);r.get("direction"),r.get("flowType"),r.get("runningState");u&&u.size&&u.map(function(e,t){var n=e.get("direction"),a=e.get("flowType"),r=e.get("runningState"),u=void 0,i=Number(e.get("notHandleAmount")),d=Number(e.get("handleAmount"));"STATE_YYSR_TS"!==r&&"STATE_YYZC_TG"!==r||(i=-Math.abs(i),d=-Math.abs(d)),u=o?d.toFixed(2):c?(i+d).toFixed(2):i.toFixed(2),l.some(function(e){return e===t})&&("debit"===n?"FLOW_INADVANCE"===a?s-=Number(u):s+=Number(u):"FLOW_INADVANCE"===a?s+=Number(u):s-=Number(u))}),t(A("",["flags","totalAmount"],s.toFixed(2))),e&&t(A("calculate","handlingAmount",Math.abs(s).toFixed(2)))}},t.insertlrAccount=function(e){return function(t,n){var r=n().lrAccountState,l=r.get("calculateTemp"),o=r.get("flags"),s=l.get("runningDate"),d=l.get("runningAbstract"),f=l.get("accountUuid"),g=l.get("handlingAmount"),m=l.get("detail"),_=l.get("moedAmount"),T=o.get("indexList"),p=l.get("beMoed"),C=r.get("enclosureList").toJS(),E=r.get("needDeleteUrl").toJS(),S=C.concat(E),A=T.map(function(e){return m.getIn([e,"beOpened"])?{uuid:m.getIn([e,"uuid"]),categoryUuid:m.getIn([e,"categoryUuid"]),beOpened:!0,assType:m.getIn([e,"assType"])}:{uuid:m.getIn([e,"uuid"]),assType:m.getIn([e,"assType"])}}),y=l.get("uuid"),N=l.get("cardUuid"),I=o.get("paymentInsertOrModify");t({type:u.SWITCH_LOADING_MASK}),(0,i.default)(I+"Runningpayment","POST",JSON.stringify({runningDate:s,runningAbstract:d,accountUuid:f,amount:g,uuidList:A,cardUuid:N,beMoed:p,moedAmount:_,enclosureList:S,uuid:""+("modify"===I?y:"")}),function(n){if(t({type:u.SWITCH_LOADING_MASK}),(0,c.showMessage)(n))if(a.default.success(n.message),e)t(h(s)),t({type:u.INIT_LR_ACCOUNT_PAYMENT,saveAndNew:e,paymentInsertOrModify:I});else{var r=void 0;if("insert"===I)r=n.data;else{var o=l.get("uuid");r=o}t({type:u.SWITCH_LOADING_MASK}),(0,i.default)("getRunningBusiness","GET","uuid="+r,function(e){if(t({type:u.SWITCH_LOADING_MASK}),(0,c.showMessage)(e)){var n=e.data.result;t({type:u.AFTER_SAVE_ACCOUNT_PAYMENT,result:n,currentUuid:r})}})}})}},t.getManagerCategoryList=function(e,t){return function(n){(0,i.default)("getManagerCategoryList","POST",JSON.stringify({assType:t}),function(t){n(A("",["flags","managerCategoryList",e],(0,d.fromJS)(t.data)))})}}),O=(t.initLrAccountAfterFailed=function(){return function(e,t){e(A("",["flags","pzFailedButtonShow"],!1)),e(A("",["flags","specialStateforAccrued"],!1)),e(C("saveAndNew"))}},t.changeBeforeAmount=function(e,t,n){return function(e,a){t.split(f.TREE_JOIN_STR)[0];var r=t.split(f.TREE_JOIN_STR)[1],l=t.split(f.TREE_JOIN_STR)[2];e(A("calculate",["detail",n,"categoryUuid"],l)),e(A("calculate",["detail",n,"categoryName"],r))}},t.calculateAccruedAmount=function(e,t,n,a){return function(r,l){var u=0,i=l().lrAccountState.getIn(["cardTemp","propertyPay"]),o=l().lrAccountState.getIn(["cardTemp","propertyTax"]);switch(e?t&&t.forEach(function(e,t){t===n&&a?u+=Number(e.get("handleAmount"))+Number(e.get("notHandleAmount")):e.get("beSelect")&&t!==n&&(u+=Number(e.get("handleAmount"))+Number(e.get("notHandleAmount")))}):t&&t.forEach(function(e,t){t===n&&a?u+=e.get("notHandleAmount"):e.get("beSelect")&&t!==n&&(u+=e.get("notHandleAmount"))}),u=u.toFixed(2),i){case"SX_GZXJ":r(A("card","amount",u));break;case"SX_SHBX":r(A("card",["acPayment","companySocialSecurityAmount"],u));break;case"SX_ZFGJJ":r(A("card",["acPayment","companyAccumulationAmount"],u));break;case"SX_QTXC":r(A("card","amount",u))}r(A("card","SX_QTSF"===o?"amount":"SX_ZZS"===o?"handleAmount":"amount",u))}},t.getFirstStockCardList=function(e,t){return function(n,a){var r=a().homeState.getIn(["data","userInfo","sobInfo","sobId"]),l={STATE_YYSR_XS:"4",STATE_YYSR_TS:"4",STATE_YYZC_TG:"5",STATE_YYZC_GJ:"5"}[t];(0,i.default)("getStockCategoryList","POST",JSON.stringify({sobId:r,categoryList:e,property:l}),function(e){(0,c.showMessage)(e)&&n(A("",["flags","stockThingsList"],(0,d.fromJS)(e.data.result)))})}}),b=t.getFirstContactsCardList=function(e,t){return function(n,a){var r=a().homeState.getIn(["data","userInfo","sobInfo","sobId"]),l={STATE_YYSR_DJ:"PREIN",STATE_YYSR_XS:"NEEDIN",STATE_YYSR_TS:"NEEDIN",STATE_YYZC_DJ:"PREPAY",STATE_YYZC_TG:"NEEDPAY",STATE_YYZC_GJ:"NEEDPAY",STATE_FY_DJ:"PREPAY",STATE_FY_YF:"NEEDPAY",STATE_FY_WF:"NEEDPAY",STATE_CQZC_WF:"NEEDPAY",STATE_CQZC_YF:"NEEDPAY",STATE_CQZC_YS:"NEEDIN",STATE_CQZC_WS:"NEEDIN",STATE_YYWSR_WS:"NEEDIN",STATE_YYWSR_YS:"NEEDIN",STATE_YYWZC_WF:"NEEDPAY",STATE_YYWZC_YF:"NEEDPAY"}[t];l&&(0,i.default)("getContactsCategoryList","POST",JSON.stringify({sobId:r,categoryList:e,property:l}),function(e){(0,c.showMessage)(e)&&n(A("",["flags","contactsThingsList"],(0,d.fromJS)(e.data.result)))})}},R=(t.getCardList=function(e,t,n,a){return function(r,l){var o=l().homeState.getIn(["data","userInfo","sobInfo","sobId"]);if("stock"===e){var s={STATE_YYSR_XS:"4",STATE_YYSR_TS:"4",STATE_YYZC_TG:"5",STATE_YYZC_GJ:"5"}[t];r({type:u.SWITCH_LOADING_MASK}),(0,i.default)("getStockCardList","POST",JSON.stringify({sobId:o,categoryList:n,property:s}),function(e){r({type:u.SWITCH_LOADING_MASK}),(0,c.showMessage)(e)&&r(A("",["flags","MemberList"],(0,d.fromJS)(e.data.typeList)))}),(0,i.default)("getStockCategoryList","POST",JSON.stringify({sobId:o,categoryList:n,property:s}),function(e){(0,c.showMessage)(e)&&(r(A("",["flags",a],!0)),r(A("",["flags","thingsList"],(0,d.fromJS)(e.data.result))),r(A("",["flags","selectThingsList"],(0,d.fromJS)(e.data.result))))})}else if("contacts"===e){var f={STATE_YYSR_DJ:"PREIN",STATE_YYSR_XS:"NEEDIN",STATE_YYSR_TS:"NEEDIN",STATE_YYZC_DJ:"PREPAY",STATE_YYZC_TG:"NEEDPAY",STATE_YYZC_GJ:"NEEDPAY",STATE_FY_DJ:"PREPAY",STATE_FY_YF:"NEEDPAY",STATE_FY_WF:"NEEDPAY",STATE_CQZC_WF:"NEEDPAY",STATE_CQZC_YF:"NEEDPAY",STATE_CQZC_YS:"NEEDIN",STATE_CQZC_WS:"NEEDIN",STATE_YYWSR_WS:"NEEDIN",STATE_YYWSR_YS:"NEEDIN",STATE_YYWZC_WF:"NEEDPAY",STATE_YYWZC_YF:"NEEDPAY"}[t];r({type:u.SWITCH_LOADING_MASK}),(0,i.default)("getContactsCardList","POST",JSON.stringify({sobId:o,categoryList:n,property:f}),function(e){r({type:u.SWITCH_LOADING_MASK}),(0,c.showMessage)(e)&&r(A("",["flags","MemberList"],(0,d.fromJS)(e.data.typeList)))}),(0,i.default)("getContactsCategoryList","POST",JSON.stringify({sobId:o,categoryList:n,property:f}),function(e){(0,c.showMessage)(e)&&(r(A("",["flags","showContactsModal"],!0)),r(A("",["flags","thingsList"],(0,d.fromJS)(e.data.result))),r(A("",["flags","selectThingsList"],(0,d.fromJS)(e.data.result))))})}}},t.getProjectAllCardList=function(e,t,n){return function(a,r){var l=r().homeState.getIn(["data","userInfo","sobInfo","sobId"]),o=r().lrAccountState,s=o.getIn(["cardTemp","categoryType"]),f=o.getIn(["cardTemp","runningState"]),g=o.getIn(["cardTemp","beAccrued"]),m=o.getIn(["cardTemp","propertyCost"]),_=!1;("LB_FYZC"===s||"STATE_XC_JT"===f||!g&&"STATE_XC_JN"===f||"XZ_CHLX"===m&&("STATE_JK_JTLX"===f||!g&&"STATE_JK_ZFLX"===f))&&(_=!0),a({type:u.SWITCH_LOADING_MASK}),n||(0,i.default)("getProjectTreeList","POST",JSON.stringify({sobId:l,categoryList:e}),function(e){(0,c.showMessage)(e)&&a(A("",["flags","MemberList"],(0,d.fromJS)(e.data.typeList)))}),(0,i.default)("getProjectCardList","POST",JSON.stringify({sobId:l,categoryList:e,needCommonCard:_}),function(e){a({type:u.SWITCH_LOADING_MASK}),(0,c.showMessage)(e)&&(a(A("",["flags","selectThingsList"],(0,d.fromJS)(e.data.result))),a(A("",["flags","thingsList"],(0,d.fromJS)(e.data.result))),a(A("",["flags",t],!0)))})}},t.getProjectSomeCardList=function(e,t){return function(n,a){var r=a().homeState.getIn(["data","userInfo","sobInfo","sobId"]);1==t?(0,i.default)("getProjectSubordinateCardList","POST",JSON.stringify({sobId:r,categoryUuid:e,listByCategory:!0,subordinateUuid:""}),function(e){(0,c.showMessage)(e)&&(n(A("",["flags","thingsList"],(0,d.fromJS)(e.data.resultList))),n(A("",["flags","selectThingsList"],(0,d.fromJS)(e.data.resultList))))}):(0,i.default)("getProjectSubordinateCardList","POST",JSON.stringify({sobId:r,subordinateUuid:e,listByCategory:!1,categoryUuid:e}),function(e){(0,c.showMessage)(e)&&(n(A("",["flags","thingsList"],(0,d.fromJS)(e.data.resultList))),n(A("",["flags","selectThingsList"],(0,d.fromJS)(e.data.resultList))))})}},t.getAllCardList=function(e,t,n,a){return function(r,l){var u=l().homeState.getIn(["data","userInfo","sobInfo","sobId"]);if("stock"===e){var o={STATE_YYSR_XS:"4",STATE_YYSR_TS:"4",STATE_YYZC_TG:"5",STATE_YYZC_GJ:"5"}[t];(0,i.default)("getStockCategoryList","POST",JSON.stringify({sobId:u,categoryList:n,property:o}),function(e){(0,c.showMessage)(e)&&(r(A("",["flags",a],!0)),r(A("",["flags","thingsList"],(0,d.fromJS)(e.data.result))),r(A("",["flags","selectThingsList"],(0,d.fromJS)(e.data.result))))})}else if("contacts"===e){var s={STATE_YYSR_DJ:"PREIN",STATE_YYSR_XS:"NEEDIN",STATE_YYSR_TS:"NEEDIN",STATE_YYZC_DJ:"PREPAY",STATE_YYZC_TG:"NEEDPAY",STATE_YYZC_GJ:"NEEDPAY",STATE_FY_DJ:"PREPAY",STATE_FY_YF:"NEEDPAY",STATE_FY_WF:"NEEDPAY",STATE_CQZC_WF:"NEEDPAY",STATE_CQZC_YF:"NEEDPAY",STATE_CQZC_YS:"NEEDIN",STATE_CQZC_WS:"NEEDIN",STATE_YYWSR_WS:"NEEDIN",STATE_YYWSR_YS:"NEEDIN",STATE_YYWZC_WF:"NEEDPAY",STATE_YYWZC_YF:"NEEDPAY"}[t];(0,i.default)("getContactsCategoryList","POST",JSON.stringify({sobId:u,categoryList:n,property:s}),function(e){(0,c.showMessage)(e)&&(r(A("",["flags","showContactsModal"],!0)),r(A("",["flags","thingsList"],(0,d.fromJS)(e.data.result))),r(A("",["flags","selectThingsList"],(0,d.fromJS)(e.data.result))))})}}},t.getCurrentCardList=function(e,t,n,a){return function(r,l){var u=l().homeState.getIn(["data","userInfo","sobInfo","sobId"]);if("stock"===e){var o={STATE_YYSR_XS:"4",STATE_YYSR_TS:"4",STATE_YYZC_TG:"5",STATE_YYZC_GJ:"5"}[t];1==a?(0,i.default)("getRunningStockMemberList","POST",JSON.stringify({sobId:u,categoryUuid:n,listByCategory:!0,subordinateUuid:"",property:o}),function(e){(0,c.showMessage)(e)&&(r(A("",["flags","thingsList"],(0,d.fromJS)(e.data.resultList))),r(A("",["flags","selectThingsList"],(0,d.fromJS)(e.data.resultList))))}):(0,i.default)("getRunningStockMemberList","POST",JSON.stringify({sobId:u,subordinateUuid:n,listByCategory:!1,categoryUuid:"",property:o}),function(e){(0,c.showMessage)(e)&&(r(A("",["flags","thingsList"],(0,d.fromJS)(e.data.resultList))),r(A("",["flags","selectThingsList"],(0,d.fromJS)(e.data.resultList))))})}else if("contacts"===e){var s={STATE_YYSR_DJ:"PREIN",STATE_YYSR_XS:"NEEDIN",STATE_YYSR_TS:"NEEDIN",STATE_YYZC_DJ:"PREPAY",STATE_YYZC_TG:"NEEDPAY",STATE_YYZC_GJ:"NEEDPAY",STATE_FY_DJ:"PREPAY",STATE_FY_YF:"NEEDPAY",STATE_FY_WF:"NEEDPAY",STATE_CQZC_WF:"NEEDPAY",STATE_CQZC_YF:"NEEDPAY",STATE_CQZC_YS:"NEEDIN",STATE_CQZC_WS:"NEEDIN",STATE_YYWSR_WS:"NEEDIN",STATE_YYWSR_YS:"NEEDIN",STATE_YYWZC_WF:"NEEDPAY",STATE_YYWZC_YF:"NEEDPAY"}[t];1==a?(0,i.default)("getRunningContactsMemberList","POST",JSON.stringify({sobId:u,categoryUuid:n,listByCategory:!0,property:s,subordinateUuid:""}),function(e){(0,c.showMessage)(e)&&(r(A("",["flags","thingsList"],(0,d.fromJS)(e.data.resultList))),r(A("",["flags","selectThingsList"],(0,d.fromJS)(e.data.resultList))))}):(0,i.default)("getRunningContactsMemberList","POST",JSON.stringify({sobId:u,subordinateUuid:n,property:s,listByCategory:!1,categoryUuid:""}),function(e){(0,c.showMessage)(e)&&(r(A("",["flags","thingsList"],(0,d.fromJS)(e.data.resultList))),r(A("",["flags","selectThingsList"],(0,d.fromJS)(e.data.resultList))))})}}},t.searchCardList=function(e,t){return{type:u.LRACCOUNT_ITEM_SEARCH_CARD_LIST,isSearch:e,list:t}},t.getIUmanageListTitle=function(){return function(e){e({type:u.SWITCH_LOADING_MASK}),(0,i.default)("getIUManageListTitle","GET","",function(t){e({type:u.SWITCH_LOADING_MASK}),(0,c.showMessage)(t)&&e({type:u.ACCOUNT_IUMANAGE_LIST_TITLE,data:t.data})})}},t.changeManageCardRelation=function(e,t){return function(n){(0,i.default)("getIUManageTreeByType","GET","ctgyUuid="+e.get("uuid"),function(a){(0,c.showMessage)(a)&&n({type:u.CHANGE_ACCOUNT_MANAGE_CARD_RELATION,tag:e,checked:t,tree:a.data.resultList})})}},t.saveIUManageTypeCard=function(e,t,n,r,l){return function(o,s){o({type:u.SWITCH_LOADING_MASK});var d=s().lrAccountState.get("iuManageTypeCard").toJS(),f=s().lrAccountState.getIn(["cardTemp","runningState"]),g=function(){(0,i.default)("saveIUManageCard","POST",JSON.stringify({psiData:d,insertFrom:"",treeFrom:"",needAutoIncrementCode:"insert"!==t}),function(n){(0,c.showMessage)(n)&&(o({type:u.ACCOUNT_SAVE_IUMANAGE_TYPE_CARD,list:n.data.resultList,treeList:n.data.typeList,flag:t,code:n.data.autoIncrementCode}),"insert"===t?e():a.default.info("保存成功"),o(b(l,f)))})};(0,i.default)("adjustIUmanageCardTitleSame","POST",JSON.stringify({psiData:{name:d.name,uuid:d.uuid}}),function(e){(0,c.showMessage)(e)&&(e.data.repeat?(n(),p({title:"名称重复",content:"卡片名称与已有卡片名称重复，确定保存吗？",onOk:function(){g(),r()},onCancel:function(){r()}})):g()),o({type:u.SWITCH_LOADING_MASK})})}},t.changeManageCardRelationType=function(e,t){return function(n){var a=t.split(f.TREE_JOIN_STR);n({type:u.CHANGE_ACCOUNT_CARD_RELATION_TYPE,tag:e,uuid:a[0],name:a[1]})}},t.changeCardNature=function(e,t){return function(n){n({type:u.ACCOUNT_CHANGE_INVENTORY_CARD_NATURE,name:e,value:t})}},t.changeCardCategoryStatus=function(e,t){return function(n){(0,i.default)("getInventorySettingCardTypeList","GET","ctgyUuid="+e.get("uuid"),function(a){(0,c.showMessage)(a)&&n({type:u.ACCOUNT_CHANGE_INVENTORY_CARD_CATEGORY_STATUS,list:a.data.resultList,item:e,value:t})})}},t.changeCardCategoryType=function(e,t){return function(n){var a=t.split(f.TREE_JOIN_STR);n({type:u.ACCOUNT_CHANGE_INVENTORY_CARD_CATEGORY_TYPE,item:e,uuid:a[0],name:a[1]})}},t.inventorySettingInit=function(){return function(e){(0,i.default)("getInventorySettingCardList","GET","listFrom=",function(t){(0,c.showMessage)(t)&&(0,i.default)("getInventoryHighTypeList","GET","",function(n){(0,c.showMessage)(n)&&e({type:u.ACCOUNT_INVENTORY_SETTING_INIT,title:n.data,cardList:t.data.resultList})})})}},t.initRelaCard=function(e,t){return function(n){n({type:u.SWITCH_LOADING_MASK}),(0,i.default)("getInitRelaCard","GET","",function(t){(0,c.showMessage)(t)&&n({type:u.INIT_RELA_CARD,data:t.data,direction:e}),n({type:u.SWITCH_LOADING_MASK})}),t()}},t.initStockCard=function(e,t){return function(n){n({type:u.SWITCH_LOADING_MASK}),(0,i.default)("getInitStockCard","GET","",function(t){(0,c.showMessage)(t)&&n({type:u.INIT_STOCK_CARD,data:t.data,direction:e}),n({type:u.SWITCH_LOADING_MASK})}),t()}},function(e){var t={LB_YYSR:"acBusinessIncome",LB_YYZC:"acBusinessExpense",LB_YYWSR:"acBusinessOutIncome",LB_YYWZC:"acBusinessOutExpense",LB_JK:"acLoan",LB_TZ:"acInvest",LB_ZB:"acCapital",LB_CQZC:"acAssets",LB_FYZC:"acCost",LB_ZSKX:"acTemporaryReceipt",LB_ZFKX:"acTemporaryPay",LB_XCZC:"acPayment",LB_SFZC:"acTax"}[e],n=["acAssets","acBusinessExpense","acBusinessIncome","acBusinessOutExpense","acBusinessOutIncome","acCapital","acCost","acInvest","acLoan","acPayment","acTax","acTemporaryReceipt","acTemporaryPay"];return n.splice(n.indexOf(t),1),n}),M=(t.refreshRunningbusiness=function(e,t){return function(n,a){a().lrAccountState;n({type:u.SWITCH_LOADING_MASK}),(0,i.default)("getRunningBusiness","GET","uuid="+e,function(e){if(n({type:u.SWITCH_LOADING_MASK}),(0,c.showMessage)(e)){var a=e.data.result.beBusiness,r=e.data.result.runningState;a?(("STATE_YYSR_JZCB"===r||"STATE_FPRZ_CG"===r||"STATE_FPRZ_TG"===r||"STATE_KJFP_XS"===r||"STATE_KJFP_TS"===r||"STATE_ZCWJZZS"===r||"STATE_ZZ"===r)&&(0,i.default)("getRunningSettingInfo","GET","",function(a){if((0,c.showMessage)(e)){var r={LB_JZCB:function(){return"COST_TRANSFER_FROM_CXLS_JUMP_TO_LRLS"},LB_FPRZ:function(){return"INVOICE_AUTH_FROM_CXLS_JUMP_TO_LRLS"},LB_KJFP:function(){return"INVOICING_FROM_CXLS_JUMP_TO_LRLS"},LB_ZCWJZZS:function(){return"TRANSFER_OUT_FROM_CXLS_JUMP_TO_LRLS"},LB_ZZ:function(){return"TRANSFER_OUT_FROM_CXLS_JUMP_TO_NBZZ"}}[t]();n({type:u.GET_ACCOUNTCONF_ALL_SETTINGS,receivedData:a.data}),n({type:u.CALCULATE_FROM_CXLS_JUMP_TO_LRLS,pageType:t,rate:a.data.rate,hideCategoryList:a.data.hideCategoryList}),n({type:u.CALCULATE_CHANGE_QUERY}),n({type:u[r],item:(0,d.fromJS)(e.data.result),receivedData:e.data,insertOrModify:"modify",fromRefresh:!0,rate:a.data.rate,hideCategoryList:a.data.hideCategoryList})}}),"LB_JZCB"!==t&&n({type:u.INIT_LR_ACCOUNT,strJudgeType:"fromCxAccount",receivedData:e.data}),e.data.result.beProject&&n(S(e.data.result.projectRange))):n({type:u.INIT_PAYMENT_STATE,item:(0,d.fromJS)(e.data.result),result:e.data.result})}})}},t.closeAccountconfModal=function(){return{type:u.CLOSE_ACCOUNTCONF_MODAL_LR}},t.getManagesCardList=function(e){return function(t,n){var a=n().homeState.getIn(["data","userInfo","sobInfo","sobId"]);t({type:u.SWITCH_LOADING_MASK}),(0,i.default)("getManageCardTree","GET","",function(e){t({type:u.SWITCH_LOADING_MASK}),(0,c.showMessage)(e)&&t(A("",["flags","MemberList"],(0,d.fromJS)(e.data.array)))}),(0,i.default)("getBusinessManagerCardList","POST",JSON.stringify({sobId:a,runningDate:e}),function(e){(0,c.showMessage)(e)&&(t(A("",["flags","showContactsModal"],!0)),t(A("",["flags","thingsList"],(0,d.fromJS)(e.data.cardList))),t(A("",["flags","selectThingsList"],(0,d.fromJS)(e.data.cardList))))})}},t.getAllManagesCardList=function(e){return function(t,n){var a=n().homeState.getIn(["data","userInfo","sobInfo","sobId"]);(0,i.default)("getBusinessManagerCardList","POST",JSON.stringify({sobId:a,runningDate:e}),function(e){(0,c.showMessage)(e)&&(t(A("",["flags","showContactsModal"],!0)),t(A("",["flags","thingsList"],(0,d.fromJS)(e.data.cardList))),t(A("",["flags","selectThingsList"],(0,d.fromJS)(e.data.cardList))))})}},t.getCalculateCardList=function(e,t,n){return function(a,r){var l=r().homeState.getIn(["data","userInfo","sobInfo","sobId"]);1==n?(0,i.default)("getManagerCardList","POST",JSON.stringify({sobId:l,categoryUuid:t,subordinateUuid:"",runningDate:e}),function(e){(0,c.showMessage)(e)&&(a(A("",["flags","thingsList"],(0,d.fromJS)(e.data.cardList))),a(A("",["flags","selectThingsList"],(0,d.fromJS)(e.data.cardList))))}):(0,i.default)("getManagerCardList","POST",JSON.stringify({sobId:l,subordinateUuid:t,categoryUuid:"",runningDate:e}),function(e){(0,c.showMessage)(e)&&(a(A("",["flags","thingsList"],(0,d.fromJS)(e.data.cardList))),a(A("",["flags","selectThingsList"],(0,d.fromJS)(e.data.cardList))))})}},t.addProject=function(e,t){return function(n){var a=e.toJS();a.splice(t+1,0,{amount:"",uuid:""}),n(A("card","projectCard",(0,d.fromJS)(a)))}},t.deleteProject=function(e,t,n){return function(a){var r=e.toJS();r.splice(t,1),a(A("card","projectCard",(0,d.fromJS)(r))),a(M()),n&&a(y())}},t.autoCalculateProjectAmount=function(){return function(e,t){var n=t().lrAccountState.getIn(["cardTemp","projectCard"]).reduce(function(e,t){return e+(t.get("amount")?Number(t.get("amount")):0)},0);e(A("card","amount",n))}}),D=t.autoCalculateStockAmount=function(e){return function(t,n){var a=n().lrAccountState.getIn(["cardTemp",e,"stockCardList"]).reduce(function(e,t){return(100*e+100*(t.get("amount")&&"."!==t.get("amount")?Number(t.get("amount")):0))/100},0);t(A("card","amount",a))}},G=(t.addStock=function(e,t,n){return function(a){var r=e.toJS();r.splice(t+1,0,{amount:"",uuid:""}),a(A("card",[n,"stockCardList"],(0,d.fromJS)(r)))}},t.deleteStock=function(e,t,n,a){return function(r){var l=e.toJS();l.splice(t,1),r(A("card",[a,"stockCardList"],(0,d.fromJS)(l))),r(D(a)),n&&r(y())}},t.getCostCardList=function(e,t,n){return function(a,r){a({type:u.SWITCH_LOADING_MASK}),(0,i.default)("getCostCardList","POST",JSON.stringify({runningState:t,runningDate:e,categoryUuid:"",subordinateUuid:""}),function(e){a({type:u.SWITCH_LOADING_MASK}),(0,c.showMessage)(e)&&(a(A("",["flags",n],!0)),a(A("",["flags","thingsList"],(0,d.fromJS)(e.data.result))),a(A("",["flags","selectThingsList"],(0,d.fromJS)(e.data.result))))}),(0,i.default)("getCostCategoryTree","GET","",function(e){(0,c.showMessage)(e)&&a(A("",["flags","MemberList"],(0,d.fromJS)(e.data.typeList)))})}},t.getCostCardTypeList=function(e,t,n,a){return function(r,l){1==a?(0,i.default)("getCostCardList","POST",JSON.stringify({categoryUuid:n,subordinateUuid:"",runningDate:e,runningState:t}),function(e){(0,c.showMessage)(e)&&(r(A("",["flags","thingsList"],(0,d.fromJS)(e.data.result))),r(A("",["flags","selectThingsList"],(0,d.fromJS)(e.data.result))))}):(0,i.default)("getCostCardList","POST",JSON.stringify({subordinateUuid:n,categoryUuid:"",runningDate:e,runningState:t}),function(e){(0,c.showMessage)(e)&&(r(A("",["flags","thingsList"],(0,d.fromJS)(e.data.result))),r(A("",["flags","selectThingsList"],(0,d.fromJS)(e.data.result))))})}},t.deleteCarryStock=function(e,t,n){return function(a){var r=e?e.toJS():[];r.splice(t,1),a(A("card",[n,"carryoverCardList"],(0,d.fromJS)(r)))}},t.addCarryStock=function(e,t,n){return function(a){if(null!==e){var r=e.toJS();r.splice(t+1,0,{amount:"",uuid:""}),a(A("card",[n,"carryoverCardList"],(0,d.fromJS)(r)))}}},t.getProjectShareList=function(e){return function(t,n){var a=n().lrAccountState.get("commonChargeTemp"),r=e||a.get("runningDate");(0,i.default)("getProjectShareList","POST",JSON.stringify({runningDate:r}),function(e){(0,c.showMessage)(e)&&t(A("commonCharge","paymentList",(0,d.fromJS)(e.data)))})}}),U=(t.getChargeProjectCard=function(){return function(e,t){var n=t().homeState.getIn(["data","userInfo","sobInfo","sobId"]);e({type:u.SWITCH_LOADING_MASK}),(0,i.default)("getProjectAllTreeList","POST",JSON.stringify({sobId:n}),function(t){(0,c.showMessage)(t)&&e(A("",["flags","MemberList"],(0,d.fromJS)(t.data.typeList)))}),(0,i.default)("getProjectListAndTree","GET","listFrom=&treeFrom=",function(t){e({type:u.SWITCH_LOADING_MASK}),(0,c.showMessage)(t)&&(e(A("",["flags","thingsList"],(0,d.fromJS)(t.data.resultList))),e(A("",["flags","selectThingsList"],(0,d.fromJS)(t.data.resultList))))})}},t.chargeItemCheckboxCheck=function(e,t,n,a){return{type:u.CHARGE_ITEM_CHECKBOX_SELECT,checked:e,uuid:t,name:a,code:n}},t.calculateCommonChargeAmount=function(e,t){return function(n,a){var r=a().lrAccountState.get("commonChargeTemp").get("paymentList"),l=r.size?r.reduce(function(n,a,r){return e===r?t?n+Number(a.get("amount")):n:a.get("beSelect")?n+Number(a.get("amount")):n},0):0;n(A("commonCharge","amount",l.toFixed(2)))}},t.insertProjectShare=function(e){return function(t,n){var r=n().lrAccountState,o=r.get("commonChargeTemp"),s=r.getIn(["flags","paymentInsertOrModify"]),f=r.get("enclosureList").toJS(),g=r.get("needDeleteUrl").toJS(),m=f.concat(g);o=o.set("enclosureList",(0,d.fromJS)(m)),t({type:u.SWITCH_LOADING_MASK}),(0,i.default)(s+"ProjectShare","POST",JSON.stringify(l({},o.toJS())),function(n){t({type:u.SWITCH_LOADING_MASK}),(0,c.showMessage)(n)&&(e&&t(G()),t({type:u.INIT_COMMON_CHARGE,saveAndNew:e,uuid:n.data.uuid,flowNumber:n.data.flowNumber}),a.default.info("保存成功"))})}},t.changeStateAndAbstract=function(e,t){return function(n){var a=e.get("propertyCarryover"),r=e.get("name"),l=e.get("propertyPay"),u=e.get("propertyTax");n(A("card","runningAbstract",{STATE_YYSR_DJ:"收到预收款",STATE_YYSR_XS:"销售"+("SX_HW"===a?"存货":"")+"收入",STATE_YYSR_TS:("SX_HW"===a?"销货":"销售")+"退回支出",STATE_YYZC_DJ:"支付预付款",STATE_YYZC_GJ:"采购"+("SX_HW"===a?"存货":"")+"支出",STATE_YYZC_TG:("SX_HW"===a?"购货":"采购")+"退还收入",STATE_FY_DJ:"支付预付款",STATE_FY_YF:r+"支出",STATE_FY_WF:r+"支出",STATE_XC_JT:"计提"+{SX_GZXJ:"工资薪金",SX_SHBX:"社会保险",SX_ZFGJJ:"住房公积金",SX_QTXC:r}[l],STATE_XC_FF:"发放"+{SX_GZXJ:"工资薪金",SX_QTXC:r}[l],STATE_XC_JN:"缴纳"+{SX_SHBX:"社会保险",SX_ZFGJJ:"住房公积金"}[l],STATE_XC_YF:"福利费支出",STATE_SF_YJZZS:"预缴增值税",STATE_SF_JN:""+{SX_QYSDS:"缴纳企业所得税",SX_GRSF:"代缴个人税费",SX_QTSF:"缴纳"+r,SX_ZZS:"缴纳增值税"}[u],STATE_SF_JT:"计提"+{SX_QYSDS:"企业所得税",SX_GRSF:"个人税费",SX_QTSF:""+r,SX_ZZS:"增值税"}[u],STATE_YYWSR_WS:r,STATE_YYWSR_YS:r,STATE_YYWZC_WF:r,STATE_YYWZC_YF:r,STATE_ZS_SQ:"暂收款",STATE_ZS_TH:"暂收款退还",STATE_ZF_FC:"暂付款",STATE_ZF_SH:"暂付款收回",STATE_CQZC_WF:"购进资产支出",STATE_CQZC_YF:"购进资产支出",STATE_CQZC_ZJTX:"资产折旧摊销",STATE_CQZC_WS:"处置资产收入",STATE_CQZC_YS:"处置资产收入",STATE_CQZC_JZSY:"长期资产处置损益",STATE_JK_YS:"收到借款",STATE_JK_JTLX:"计提借款利息",STATE_JK_ZFLX:"支付借款利息",STATE_JK_YF:"偿还本金支出",STATE_TZ_YF:"对外投资支出",STATE_TZ_SRGL:"收到投资收益",STATE_TZ_JTGL:"计提投资收益",STATE_TZ_JTLX:"计提投资收益",STATE_TZ_SRLX:"收到投资收益",STATE_TZ_WS:"收回投资款",STATE_TZ_YS:"收回投资款",STATE_ZB_ZZ:"增加注册资本",STATE_ZB_ZFLR:"支付分配利润",STATE_ZB_LRFP:"计提分配利润",STATE_ZB_JZ:"减少注册资本"}[t]))}}),P=(t.getUploadGetTokenFetch=function(){return function(e,t){var n=t().allState.get("expire"),a=Date.parse(new Date)/1e3;console.log(n,a,n<a+300),n<a+300&&(0,o.default)("aliyunOssPolicy","GET","",function(t){e({type:u.AFTER_GET_UPLOAD_SIGNATURE,receivedData:t.data,code:t.code})})}},t.switchLoadingMask=function(){return{type:u.SWITCH_LOADING_MASK}},t.uploadFiles=function(e,t,n,a,r,l){return function(a){var o=[];o.push({fileName:n,enclosurePath:r.data.enclosurePath,size:(r.data.size/1024).toFixed(2),imageOrFile:r.data.mimeType.toString().toUpperCase().indexOf("IMAGE")>-1?"TRUE":"FALSE",label:"无标签",beDelete:!1,mimeType:r.data.mimeType}),(0,i.default)("insertEnclosure","POST",JSON.stringify({enclosureList:o}),function(n){if((0,c.showMessage)(n))if("business"===e||"LB_GGFYFT"===t||"LB_SFGL"===t||"LB_JZSY"===t)a({type:u.CHANGE_RUNNING_ENCLOSURE_LIST,imgArr:n.data.enclosureList});else{var r={LB_JZCB:function(){return"costTransferTemp"},LB_FPRZ:function(){return"invoiceAuthTemp"},LB_KJFP:function(){return"invoicingTemp"},LB_ZCWJZZS:function(){return"transferOutTemp"},LB_ZZ:function(){return"InternalTransferTemp"},LB_ZJTX:function(){return"DepreciationTemp"}}[t]();a({type:u.CHANGE_CALCULATE_ENCLOSURE_LIST,imgArr:n.data.enclosureList,place:r})}l&&a({type:u.SWITCH_LOADING_MASK})})}},t.deleteUploadFJUrl=function(e,t,n){return function(a){if("business"===t||"LB_GGFYFT"===n||"LB_SFGL"===n||"LB_JZSY"===n)a({type:u.DELETE_UPLOAD_FJ_URL,index:e});else{var r=({LB_JZCB:function(){return"costTransferTemp"},LB_FPRZ:function(){return"invoiceAuthTemp"},LB_KJFP:function(){return"invoicingTemp"},LB_ZCWJZZS:function(){return"transferOutTemp"},LB_ZZ:function(){return"InternalTransferTemp"},LB_ZJTX:function(){return"DepreciationTemp"}}[n]||function(){return""})();a({type:u.DELETE_CALCULATE_UPLOAD_FJ_URL,index:e,place:r})}}},t.initLabel=function(){return function(e){(0,i.default)("initLsLabel","POST","",function(e){(0,c.showMessage)(e)})}},t.getLabelFetch=function(e,t){return function(n){n({type:u.SWITCH_LOADING_MASK});var a=({LB_JZCB:function(){return"costTransferTemp"},LB_FPRZ:function(){return"invoiceAuthTemp"},LB_KJFP:function(){return"invoicingTemp"},LB_ZCWJZZS:function(){return"transferOutTemp"},LB_ZZ:function(){return"InternalTransferTemp"},LB_ZJTX:function(){return"DepreciationTemp"}}[t]||function(){return""})();(0,i.default)("getLsLabel","POST","",function(r){n({type:u.SWITCH_LOADING_MASK}),(0,c.showMessage)(r)&&n("business"===e||""===t||"LB_GGFYFT"===t||"LB_SFGL"===t||"LB_JZSY"===t?{type:u.GET_LS_LABEL_FETCH,receivedData:r}:{type:u.GET_CAL_LABEL_FETCH,receivedData:r,setPlace:a})})}},t.changeTagName=function(e,t,n,a){return function(r){var l=({LB_JZCB:function(){return"costTransferTemp"},LB_FPRZ:function(){return"invoiceAuthTemp"},LB_KJFP:function(){return"invoicingTemp"},LB_ZCWJZZS:function(){return"transferOutTemp"},LB_ZZ:function(){return"InternalTransferTemp"},LB_ZJTX:function(){return"DepreciationTemp"}}[a]||function(){return""})();r("business"===n||""===a||"LB_GGFYFT"===a||"LB_SFGL"===a||"LB_JZSY"===a?{type:u.CHANGE_LS_TAG_NAME,index:e,value:t}:{type:u.CHANGE_CAL_TAG_NAME,index:e,value:t,setPlace:l})}},t.getAssetsCleaningCategory=function(){return function(e){(0,i.default)("getAssetsCleaningCategory","POST",JSON.stringify({type:"LB_JZSY"}),function(t){(0,c.showMessage)(t)&&e(A("Cqzc","assetsCategory",(0,d.fromJS)(t.data.result)))})}}),F=(t.getAssetsCarryoverList=function(e,t){return function(n){(0,i.default)("getAssetsCarryoverList","POST",JSON.stringify({runningDate:e,categoryUuid:t}),function(e){(0,c.showMessage)(e)&&n(A("Cqzc",["detail","businessList"],(0,d.fromJS)(e.data.result)))})}},t.calculateGainForJzsy=function(){return function(e,t){var n=t().lrAccountState.get("CqzcTemp"),a=n.get("detail").get("businessList").reduce(function(e,t){return t.get("beSelect")?e+(Number(t.get("amount"))-Number(t.get("tax"))):e},0),r=n.getIn(["detail","acAssets","depreciationAmount"]),l=n.getIn(["detail","acAssets","originalAssetsAmount"]),i=(Number(l)-Number(r)).toFixed(2),o=Math.abs(i-a).toFixed(2),c=void 0,s=void 0;Number(i)<=a?(c=["CqzcTemp","detail","netProfitAmount"],s=["CqzcTemp","detail","lossAmount"]):(c=["CqzcTemp","detail","lossAmount"],s=["CqzcTemp","detail","netProfitAmount"]),e(A("Cqzc",["detail","amount"],a)),(l||r)&&a>0&&e({type:u.CALCULATE_GAIN_OR_LOSS,deletePlace:s,place:c,diff:o})}}),B=(t.insertlrAccountJzsy=function(e){return function(t,n){var r=n().lrAccountState,o=r.getIn(["flags","paymentInsertOrModify"]),s=r.get("CqzcTemp").get("detail").toJS(),f=r.getIn(["flags","uuidList"]),g=r.get("enclosureList").toJS(),m=r.get("needDeleteUrl").toJS(),_=g.concat(m);t({type:u.SWITCH_LOADING_MASK}),(0,i.default)(o+"AssetsCleaning","POST",JSON.stringify(l({},s,{enclosureList:_})),function(n){if(t({type:u.SWITCH_LOADING_MASK}),(0,c.showMessage)(n))if(a.default.success("成功"),e)t({type:u.AFTER_INSERT_JZSY,saveAndNew:e}),t(P());else{var r=n.data,l=r.flowNumber,i=r.uuid;t({type:u.AFTER_INSERT_JZSY,saveAndNew:e,flowNumber:l,uuid:i}),t(w((0,d.fromJS)({uuid:n.data.uuid}),f))}})}},t.getJzsyProjectCardList=function(e){return function(t,n){t(A("Cqzc",["detail","beProject"],!0)),t(A("Cqzc","projectRange",e));var a=n().homeState.getIn(["data","userInfo","sobInfo","sobId"]);(0,i.default)("getProjectCardList","POST",JSON.stringify({sobId:a,categoryList:e,needCommonCard:!1}),function(e){(0,c.showMessage)(e)&&t(A("Cqzc","projectList",(0,d.fromJS)(e.data.result)))})}}),w=t.getInitLraccountJzsy=function(e,t){return function(n){var a=e.get("uuid");n({type:u.SWITCH_LOADING_MASK}),(0,i.default)("getRunningBusiness","GET","uuid="+a,function(e){n({type:u.SWITCH_LOADING_MASK}),(0,c.showMessage)(e)&&(n({type:u.INIT_JZSY_FROM_CXLS,data:e.data.result,uuidList:t,uuid:a}),n(F()),e.data.beProject&&n(B(e.data.projectRange)))})}}},1239:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getInitLraccountJzsy=t.deleteSingleFlow=t.jumpCommonCharge=t.changeBeforeAmount=t.getManagerCategoryList=t.insertManagerModal=t.setDefineMadalInitState=t.setInvioceMadalInitState=t.setCarryoverMadalInitState=t.setManageMadalInitState=t.changeCxAccountCommonOutString=t.changeCxAccountCommonString=t.changeCurrentPage=t.jumpCalculateCxToLr=t.getBusinessBeforeSwitch=t.insertlrAccountInvioceDefineModal=t.insertlrAccountInvioceModal=t.insertlrAccountJzsyModal=t.insertlrAccountCarryoverModal=t.insertlrAccountManagerModal=t.getBusinessDefineModal=t.getBusinessInvioceModal=t.calculateGainForJzsy=t.getBusinessJzsyModal=t.getBusinessCarryoverModal=t.getBusinessManagerModal=t.getBusinessPayment=t.beforeRunningPayOrReceive=t.currentPz=t.deleteVcItemFetch=t.getAccountDimensionFetch=t.afterModifyAccountAllList=t.changePzCommonString=t.runningInsertVc=t.deleteAccountItemCardAndRunning=t.accountItemCheckboxCheck=t.accountItemCheckboxCheckAll=t.getBusinessList=t.getPeriodAndBusinessList=t.cxlsDownloadEnclosure=void 0;var a=E(n(37)),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};n(38);var l=C(n(1274)),u=E(n(52)),i=n(18),o=n(22),c=C(n(30)),s=C(n(27)),d=C(n(43)),f=C(n(60)),g=C(n(1243)),m=C(n(1245)),_=C(n(1242)),T=C(n(1229)),p=C(n(1249));function C(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function E(e){return e&&e.__esModule?e:{default:e}}t.cxlsDownloadEnclosure=function(e,t){return function(n){n(T.lsDownloadEnclosure(e,t))}},t.getPeriodAndBusinessList=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"allWater",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return function(r,i){r({type:l.SWITCH_LOADING_MASK});var c="allWater"==t?"getRunningBusinessList":"getRunning"+t+"List",f=(i().cxlsState,""===a?1:a);(0,u.default)(c,"POST",JSON.stringify({year:e?e.substr(0,4):"",month:e?e.substr(6,2):"",getPeriod:"true",accountUuid:n,currentPage:f,pageSize:s.CXLS_LIMIE_LENGTH}),function(a){if(r({type:l.SWITCH_LOADING_MASK}),(0,o.showMessage)(a)){var u=a.data.periodDtoJson.openedyear+"年第"+a.data.periodDtoJson.openedmonth+"期",i=e||u,c=a.data.periodDtoJson?r(d.everyTableGetIssuedate(a.data.periodDtoJson)):"";r({type:l.GET_BUSINESS_LIST,receivedData:a.data.result.childList,receivedExtra:a.data.result,period:a.data.periodDtoJson,issuedate:i,getPeriod:"true",issues:c,waterType:t,accountUuid:n,currentPage:f,pageCount:a.data.pageCount})}}),r(_.getRunningAccount())}};var S=t.getBusinessList=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",f=arguments.length>6&&void 0!==arguments[6]&&arguments[6],g=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return function(m,_){m({type:l.SWITCH_LOADING_MASK});var T="allWater"==t?"getRunningBusinessList":"getRunning"+t+"List",p=g&&n?n.split(s.TREE_JOIN_STR)[0]:"",C=_().cxlsState,E=""===r?C.get("currentPage"):r,S=c?C.getIn(["flags","searchType"]):"";(0,u.default)(T,"POST",JSON.stringify({year:e?e.substr(0,4):"",month:e?e.substr(6,2):"",accountUuid:p,getPeriod:"true",orderBy:i,searchType:S,searchContent:c,isAsc:f,currentPage:E,pageSize:s.CXLS_LIMIE_LENGTH,isAccount:g}),function(r){if(m({type:l.SWITCH_LOADING_MASK}),(0,o.showMessage)(r)){var u=r.data.periodDtoJson?m(d.everyTableGetIssuedate(r.data.periodDtoJson)):"";m({type:l.GET_BUSINESS_LIST,receivedData:r.data.result.childList,receivedExtra:r.data.result,period:r.data.periodDtoJson,issuedate:e,issues:u,waterType:t,accountUuid:n,currentPage:E,isAsc:f,orderBy:i,isAccount:g,pageCount:r.data.pageCount,getPeriod:"true"}),r.data.result.msg&&a.default.info(r.data.result.msg)}})}},A=(t.accountItemCheckboxCheckAll=function(e,t){return{type:l.CXLS_ITEM_CHECKBOX_CHECK_ALL,selectAll:e,list:t}},t.accountItemCheckboxCheck=function(e,t){return{type:l.CXLS_ITEM_CHECKBOX_CHECK,checked:e,item:t}},t.deleteAccountItemCardAndRunning=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments[2];return function(r,i){var s=n||i().cxlsState.getIn(["flags","selectList"]),d="reality"==e?"payment":"business",f=i().cxlsState,g=f.getIn(["flags","issuedate"]),m=f.getIn(["flags","mainWater"]),_=f.getIn(["flags","isAsc"]),T=f.getIn(["flags","isAccount"]),p=f.getIn(["flags","curAccountUuid"]);c.Confirm({message:"确定删除？",title:"温馨提示",buttonLabels:["取消","确定"],onSuccess:function(e){1===e.buttonIndex&&(r({type:l.SWITCH_LOADING_MASK}),(0,u.default)("deleteRunning"+d,"POST",JSON.stringify({deleteList:s}),function(e){if((0,o.showMessage)(e)){if(e.message)if(e.data.errorList.length){var n=e.data.errorList.join(",");a.default.error(n)}else a.default.success(e.message);r(S(g,m,p,"","",t,_,T))}r({type:l.SWITCH_LOADING_MASK})}))}})}},t.runningInsertVc=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments[4],c=arguments[5],s=arguments[6],d=arguments[7];return function(f,m){var _=m().cxlsState,T=_.get("currentPage"),p=_.getIn(["flags","mainWater"]),C=_.getIn(["flags","curAccountUuid"]),E=_.getIn(["flags","isAsc"]),N=_.getIn(["flags","isAccount"]),I=0;f(A(["flags","pzDealNum"],I)),f(A(["flags","pzDealType"],"insert"));var L=e.sort(function(e,t){return parseInt(e.get("flowNumber"))-parseInt(t.get("flowNumber"))});if(e&&e.size>1)f(A(["flags","pzDealStatus"],!0)),function e(l){var i=0,c=setInterval(function(){i<.9?f(A(["flags","pzDealNum"],I+(i+=.01))):(clearInterval(c),f(A(["flags","pzDealNum"],I)))},100);(0,u.default)("insertRunning"+t+"Vc","POST",JSON.stringify({uuidList:[l]}),function(t){if((0,o.showMessage)(t))if(t.message)if(t.data.result.length){var l=t.data.result.join(",");a.default.error(l),clearInterval(c),f(A(["flags","pzDealStatus"],!1)),f(S(n,p,C,T,"",r,E,N))}else f(A(["flags","pzDealNum"],I+=1)),I<L.size?(clearInterval(c),e(L.getIn([I,"uuid"]))):(clearInterval(c),f(A(["flags","pzDealStatus"],!1)),f(S(n,p,C,T,"",r,E,N)));else clearInterval(c),f(A(["flags","pzDealStatus"],!1));else clearInterval(c),f(A(["flags","pzDealStatus"],!1)),f(S(n,p,C,T,"",r,E,N))})}(L.getIn([0,"uuid"]));else{var h=e.getIn([0,"uuid"]);f({type:l.SWITCH_LOADING_MASK}),(0,u.default)("insertRunning"+t+"Vc","POST",JSON.stringify({uuidList:[h]}),function(e){if(f({type:l.SWITCH_LOADING_MASK}),(0,o.showMessage)(e)&&e.message){if(e.data.result.length){var t=e.data.result.join(",");a.default.error(t)}else a.default.success(e.message);c&&c()||f(y()),i&&f(g.getYllsBusinessData(s,d))}})}}},t.changePzCommonString=function(e,t){return function(n){n({type:l.CHANGE_PZ_COMMON_STRING,name:e,value:t})}}),y=t.afterModifyAccountAllList=function(e){return function(t,n){var a=n().cxlsState,r=a.getIn(["flags","issuedate"]),i=a.getIn(["flags","mainWater"]),c=a.getIn(["flags","curAccountUuid"]),f=a.getIn(["flags","isAccount"]),g=a.getIn(["flags","isAsc"]),m=a.get("currentPage"),_="allWater"==i?"getRunningBusinessList":"getRunning"+i+"List",T=f&&c?c.split(s.TREE_JOIN_STR)[0]:"";t({type:l.SWITCH_LOADING_MASK}),(0,u.default)(_,"POST",JSON.stringify({year:r?r.substr(0,4):"",month:r?r.substr(6,2):"",accountUuid:T,getPeriod:"true",orderBy:"",isAsc:g,currentPage:m,pageSize:s.CXLS_LIMIE_LENGTH,isAccount:f}),function(n){if(t({type:l.SWITCH_LOADING_MASK}),(0,o.showMessage)(n)){var a=n.data.periodDtoJson?t(d.everyTableGetIssuedate(n.data.periodDtoJson)):"";t({type:l.GET_BUSINESS_LIST,receivedData:n.data.result.childList,receivedExtra:n.data.result,period:n.data.periodDtoJson,issuedate:r,issues:a,isReflash:e,waterType:i,isAccount:f,accountUuid:c,currentPage:m,isAsc:g,pageCount:n.data.pageCount,getPeriod:"true"})}})}},N=(t.getAccountDimensionFetch=function(e,t,n,a,r,l,u){return function(i){i(N(e,t,n,a,r,l,u))}},function(e,t,n,a,r,i,c,s){return function(e){(0,u.default)("getRunningSettingInfo","GET","",function(t){(0,o.showMessage)(t)&&e({type:l.GET_CXLSCONF_ALL_SETTINGS,receivedData:t.data})})}}),I=(t.deleteVcItemFetch=function(e,t,n,a,r,i,c,s,d){return function(f,m){var _=m().cxlsState,T=_.get("currentPage"),p=_.getIn(["flags","mainWater"]),C=_.getIn(["flags","isAccount"]),E=_.getIn(["flags","isAsc"]),N=_.getIn(["flags","curAccountUuid"]),I=0;f(A(["flags","pzDealNum"],I)),f(A(["flags","pzDealType"],"delete"));n&&n.length>1?(f(A(["flags","pzDealStatus"],!0)),function l(i){var c=0,s=setInterval(function(){c<.99?f(A(["flags","pzDealNum"],I+(c+=.01))):(clearInterval(s),f(A(["flags","pzDealNum"],I+.99)))},100);(0,u.default)("deletevc","POST",JSON.stringify({year:e,month:t,vcindexlist:[i]}),function(e){(0,o.showMessage)(e,"show")?(I+=1,f(A(["flags","pzDealNum"],Math.floor(I))),I<n.length?(clearInterval(s),l(n[I])):(clearInterval(s),f(A(["flags","pzDealStatus"],!1)),f(S(a,p,N,T,"",r,E,C)))):(clearInterval(s),f(A(["flags","pzDealStatus"],!1)),f(S(a,p,N,T,"",r,E,C)))})}(n[0])):(f({type:l.SWITCH_LOADING_MASK}),(0,u.default)("deletevc","POST",JSON.stringify({year:e,month:t,vcindexlist:n}),function(e){if(f({type:l.SWITCH_LOADING_MASK}),(0,o.showMessage)(e,"show")){var t=m().cxlsState;t.get("currentPage"),t.getIn(["flags","mainWater"]),t.getIn(["flags","curAccountUuid"]),t.getIn(["flags","isAsc"]),t.getIn(["flags","isAccount"]);c&&c()||f(y()),i&&f(g.getYllsBusinessData(s,d))}}))}},t.currentPz=function(e,t,n){return{type:l.SET_CURRENT_PZ,year:e,month:t,vcIndexList:n}},t.beforeRunningPayOrReceive=function(e,t,n,a,r){return function(u){n<0&&(n=-n,e="收"===e?"付":"收"),u({type:l.BEFORE_RUNNING_PAY_OR_RECEIVE,payDirection:e,assList:t,notHandleAmount:n,uuidList:a,runningList:r})}},t.getBusinessPayment=function(e,t,n){return function(a){a({type:l.SWITCH_LOADING_MASK});var r=e.get("uuid");(0,u.default)("getRunningBusiness","GET","uuid="+r,function(r){if(a({type:l.SWITCH_LOADING_MASK}),(0,o.showMessage)(r)){var u=r.data.result,i=void 0,c=u.assList;if(c&&c.length)i=c[0].assId+" "+c[0].assName;else{var s=u.acList;i=s.length?s[0].acFullName:""}a({type:l.INIT_PAYMENT_STATE,item:e,result:u,assName:i,stateType:t,uuidList:n,fromCxls:!0}),a(T.getRunningSettingInfo()),a(T.accountTotalAmount()),a(f.addPageTabPane("EditPanes","LrAccount","LrAccount","录入流水")),a(f.addHomeTabpane("Edit","LrAccount","录入流水"))}})}}),L=(t.getBusinessManagerModal=function(e,t,n){return function(a,r){a({type:l.SWITCH_LOADING_MASK});var c=e.get("uuid"),s=e.get("beOpened"),d=e.get("assType"),f=r().lrCalculateState,g=f.getIn(["calculateTemp","usedCard"]),m=f.getIn(["calculateTemp","cardUuid"]);(0,u.default)("getRunningBusiness","GET","uuid="+c,function(e){a({type:l.SWITCH_LOADING_MASK}),(0,o.showMessage)(e)&&(a(h("runningFlowTemp",(0,i.fromJS)(e.data.result))),a(h(["runningFlowTemp","magenerType"],n)),a(h(["modalTemp","uuidList"],(0,i.fromJS)([{uuid:c,assType:d}]))),a(h(["modalTemp","handlingAmount"],e.data.result.notHandleAmount)),a(h(["modalTemp","runningAbstract"],e.data.result.runningAbstract)),a(h(["modalTemp","beOpened"],s)),a(h(["modalTemp","assType"],d)),s&&(a(h(["modalTemp","usedCard"],g)),a(h(["modalTemp","cardUuid"],m)),a(v(0,d))),t())})}},t.getBusinessCarryoverModal=function(e,t,n){return function(n){n({type:l.SWITCH_LOADING_MASK});var a=e.get("uuid");(0,u.default)("getRunningBusiness","GET","uuid="+a,function(e){if(n({type:l.SWITCH_LOADING_MASK}),(0,o.showMessage)(e)){var a=e.data.result;n(h("runningFlowTemp",(0,i.fromJS)(e.data.result))),n(h(["modalTemp","uuidList"],(0,i.fromJS)([a.uuid]))),n(h(["modalTemp","runningState"],a.runningState)),n(h(["modalTemp","categoryUuid"],a.categoryUuid)),n(h(["modalTemp","runningAbstract"],a.runningAbstract)),n(h(["modalTemp","stockCardList"],a.acBusinessIncome.stockCardList)),t()}})}},t.getBusinessJzsyModal=function(e,t,n){return function(n,a){n({type:l.SWITCH_LOADING_MASK});var c=e.get("uuid");(0,u.default)("getRunningBusiness","GET","uuid="+c,function(e){if(n({type:l.SWITCH_LOADING_MASK}),(0,o.showMessage)(e)){var c=e.data.result;if(n(h("runningFlowTemp",(0,i.fromJS)(e.data.result))),n(h(["modalTemp","uuidList"],(0,i.fromJS)([c.uuid]))),n(h(["modalTemp","runningState"],c.runningState)),n(h(["modalTemp","categoryUuid"],c.categoryUuid)),n(h(["modalTemp","runningAbstract"],c.runningAbstract)),n(h(["modalTemp","amount"],c.amount-c.tax)),n(h(["modalTemp","businessList"],(0,i.fromJS)(r({},e.data.result,{beSelect:!0})))),e.data.result.beProject){var s=a().homeState.getIn(["data","userInfo","sobInfo","sobId"]),d=e.data.result.projectRange;(0,u.default)("getProjectCardList","POST",JSON.stringify({sobId:s,categoryList:d,needCommonCard:!1}),function(e){(0,o.showMessage)(e)&&n(h(["flags","projectList"],(0,i.fromJS)(e.data.result)))})}t()}})}},t.calculateGainForJzsy=function(){return function(e,t){var n=t().cxlsState,a=n.get("modalTemp"),r=n.get("runningFlowTemp"),u=r.get("amount")-r.get("tax"),i=a.getIn(["acAssets","depreciationAmount"])?a.getIn(["acAssets","depreciationAmount"]):0,o=a.getIn(["acAssets","originalAssetsAmount"])?a.getIn(["acAssets","originalAssetsAmount"]):0;console.log(i,o);var c=(Number(o)-Number(i)).toFixed(2),s=Math.abs(c-u).toFixed(2),d=void 0,f=void 0;Number(c)<=u?(d=["modalTemp","netProfitAmount"],f=["modalTemp","lossAmount"]):(d=["modalTemp","lossAmount"],f=["modalTemp","netProfitAmount"]),(o||i)&&e({type:l.CXLS_CALCULATE_GAIN_OR_LOSS,deletePlace:f,place:d,diff:s})}},t.getBusinessInvioceModal=function(e,t,n){return function(n){n({type:l.SWITCH_LOADING_MASK});var a=e.get("uuid");(0,u.default)("getRunningBusiness","GET","uuid="+a,function(e){if(n({type:l.SWITCH_LOADING_MASK}),(0,o.showMessage)(e)){var a=e.data.result,r={STATE_YYSR_TS:"BILL_MAKE_OUT_TYPE_TS",STATE_YYSR_XS:"BILL_MAKE_OUT_TYPE_XS"}[a.runningState];n(h(["modalTemp","uuidList"],(0,i.fromJS)([a.uuid]))),n(h(["modalTemp","categoryUuid"],a.categoryUuid)),n(h(["modalTemp","runningAbstract"],a.runningAbstract)),n(h(["modalTemp","billMakeOutType"],r)),t()}})}},t.getBusinessDefineModal=function(e,t,n){return function(n){n({type:l.SWITCH_LOADING_MASK});var a=e.get("uuid");(0,u.default)("getRunningBusiness","GET","uuid="+a,function(e){if(n({type:l.SWITCH_LOADING_MASK}),(0,o.showMessage)(e)){var a=e.data.result,r={STATE_YYZC_GJ:"BILL_AUTH_TYPE_CG",STATE_YYZC_TG:"BILL_AUTH_TYPE_TG"}[a.runningState]||"BILL_AUTH_TYPE_CG";n(h(["modalTemp","uuidList"],(0,i.fromJS)([a.uuid]))),n(h(["modalTemp","runningAbstract"],a.runningAbstract)),n(h(["modalTemp","categoryUuid"],a.categoryUuid)),n(h(["modalTemp","billAuthType"],r)),t()}})}},t.insertlrAccountManagerModal=function(e,t,n){return function(a,r){var c=r().cxlsState,s=c.get("runningFlowTemp"),d=c.get("modalTemp"),f=d.get("runningDate"),g=d.get("runningAbstract"),m=d.get("accountUuid"),_=d.get("handlingAmount"),T=d.get("beOpened"),p=d.get("uuidList").toJS(),C=T?d.get("cardUuid"):s.getIn([t,"contactsCardRange","uuid"]);a({type:l.SWITCH_LOADING_MASK}),(0,u.default)("insertRunningpayment","POST",JSON.stringify({runningDate:f,runningAbstract:g,accountUuid:m,amount:_,uuidList:p,cardUuid:C,uuid:""}),function(t){a({type:l.SWITCH_LOADING_MASK}),(0,o.showMessage)(t)&&(e(),a(h("modalTemp",(0,i.fromJS)({runningDate:(0,o.formatDate)()}))),a("fromcalCultion"===n?b():y()))})}},t.insertlrAccountCarryoverModal=function(e,t){return function(n,a){var r=a().cxlsState.get("modalTemp"),c=r.get("uuidList"),s=r.get("runningState"),d=r.get("runningDate"),f=r.get("runningAbstract"),g=r.get("stockCardList"),m=r.get("carryoverAmount"),_=[];g&&g.map(function(e){_.push({uuid:e.uuid,amount:m})}),n({type:l.SWITCH_LOADING_MASK}),(0,u.default)("insertCarryoverItem","POST",JSON.stringify({uuidList:c,runningState:s,runningDate:d,cardList:_,runningAbstract:f}),function(a){(0,o.showMessage)(a,"show")&&(e(),n(h("modalTemp",(0,i.fromJS)({runningDate:(0,o.formatDate)()}))),n("fromcalCultion"===t?b():y())),n({type:l.SWITCH_LOADING_MASK})})}},t.insertlrAccountJzsyModal=function(e,t){return function(n,a){var c=a().cxlsState.get("modalTemp").toJS();n({type:l.SWITCH_LOADING_MASK}),(0,u.default)("insertAssetsCleaning","POST",JSON.stringify(r({},c)),function(a){(0,o.showMessage)(a,"show")&&(e(),n(h("modalTemp",(0,i.fromJS)({runningDate:(0,o.formatDate)()}))),n("fromcalCultion"===t?b():y())),n({type:l.SWITCH_LOADING_MASK})})}},t.insertlrAccountInvioceModal=function(e,t){return function(n,a){var r=a().cxlsState.get("modalTemp");n({type:l.SWITCH_LOADING_MASK}),(0,u.default)("insertBusinessMakeoutItem","POST",JSON.stringify(r),function(a){(0,o.showMessage)(a,"show")&&(e(),n(h("modalTemp",(0,i.fromJS)({runningDate:(0,o.formatDate)()}))),n("fromcalCultion"===t?b():y())),n({type:l.SWITCH_LOADING_MASK})})}},t.insertlrAccountInvioceDefineModal=function(e,t){return function(n,a){var r=a().cxlsState.get("modalTemp");n({type:l.SWITCH_LOADING_MASK}),(0,u.default)("insertBusinessAuthItem","POST",JSON.stringify(r),function(a){(0,o.showMessage)(a,"show")&&(e(),n(h("modalTemp",(0,i.fromJS)({runningDate:(0,o.formatDate)()}))),n("fromcalCultion"===t?b():y())),n({type:l.SWITCH_LOADING_MASK})})}},t.getBusinessBeforeSwitch=function(e,t){return function(n){var a=e.get("parentUuid")?e.get("parentUuid"):e.get("uuid"),r=e.get("beBusiness"),l=e.get("runningState");n(r||"STATE_ZZ"===l?"STATE_YYSR_JZCB"===l?L(e,"modify","LB_JZCB"):"STATE_FPRZ_CG"===l||"STATE_FPRZ_TG"===l?L(e,"modify","LB_FPRZ"):"STATE_KJFP_XS"===l||"STATE_KJFP_TS"===l?L(e,"modify","LB_KJFP"):"STATE_ZCWJZZS"===l?L(e,"modify","LB_ZCWJZZS"):"STATE_ZZ"===l?L(e,"modify","LB_ZZ"):"STATE_CQZC_ZJTX"===l?L(e,"modify","LB_ZJTX"):"STATE_GGFYFT"===l?O(e,t):"STATE_CQZC_JZSY"===l?T.getInitLraccountJzsy(e,t):m.getRunningBusinessDuty("",a):I(e))}},t.jumpCalculateCxToLr=function(e,t,n,a){return function(r,i){r({type:l.SWITCH_LOADING_MASK});var c=e.get("parentUuid")?e.get("parentUuid"):e.get("uuid");(0,u.default)("getRunningBusiness","GET","uuid="+c,function(i){(0,o.showMessage)(i)?(0,u.default)("getRunningSettingInfo","GET","",function(u){if((0,o.showMessage)(i)){var c={LB_JZCB:function(){return"COST_TRANSFER_FROM_CXLS_JUMP_TO_LRLS"},LB_FPRZ:function(){return"INVOICE_AUTH_FROM_CXLS_JUMP_TO_LRLS"},LB_KJFP:function(){return"INVOICING_FROM_CXLS_JUMP_TO_LRLS"},LB_ZCWJZZS:function(){return"TRANSFER_OUT_FROM_CXLS_JUMP_TO_LRLS"},LB_ZZ:function(){return"TRANSFER_OUT_FROM_CXLS_JUMP_TO_NBZZ"},LB_ZJTX:function(){return"TRANSFER_OUT_FROM_CXLS_JUMP_TO_ZJTX"}}[n]();r({type:l.GET_ACCOUNTCONF_ALL_SETTINGS,receivedData:u.data}),r({type:l.CALCULATE_FROM_CXLS_JUMP_TO_LRLS,pageType:n,rate:u.data.rate,hideCategoryList:u.data.hideCategoryList}),r({type:l.CALCULATE_CHANGE_QUERY}),r({type:l[c],item:e,receivedData:i.data,insertOrModify:t,fromRefresh:!0,rate:u.data.rate,hideCategoryList:u.data.hideCategoryList,uuidList:a}),r({type:l.SWITCH_LOADING_MASK}),r(f.addPageTabPane("EditPanes","LrAccount","LrAccount","录入流水")),r(f.addHomeTabpane("Edit","LrAccount","录入流水"))}else r({type:l.SWITCH_LOADING_MASK})}):r({type:l.SWITCH_LOADING_MASK})})}}),h=(t.changeCurrentPage=function(e,t){return function(n){n({type:l.CHANGE_CURRENT_PAGE_FZHE,assList:e,value:t})}},t.changeCxAccountCommonString=function(e,t,n){return function(a){var r="string"==typeof t?[e+"Temp",t]:[e+"Temp"].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t));"flags"===t[0]&&(r=t),a({type:l.CHANGE_CX_ACCOUNT_COMMON_STRING,tab:e,placeArr:r,value:n})}},t.changeCxAccountCommonOutString=function(e,t){return function(n){n("string"==typeof e?{type:l.CHANGE_CX_ACCOUNT_COMMON_STRING,place:e,value:t}:{type:l.CHANGE_CX_ACCOUNT_COMMON_STRING,placeArr:e,value:t})}}),v=(t.setManageMadalInitState=function(){return function(e,t){var n=t().calculationState,a=n.getIn(["payManageList","childList"]),r=(n.getIn(["flags","selectDate"]),n.getIn(["flags","selectList"])),l=n.getIn(["calculateTemp","cardUuid"]),u=n.getIn(["calculateTemp","usedCard"]),o=[],c=0;r.forEach(function(e){var t=a.find(function(t){return t.get("uuid")===e}),n=t.get("direction"),r=t.get("flowType"),l=t.get("assType");o.push({uuid:e,assType:l});var u=t.get("notHandleAmount"),i=t.get("runningState");"STATE_YYSR_TS"!==i&&"STATE_YYZC_TG"!==i||(u=-Math.abs(u)),"debit"===n?"FLOW_INADVANCE"===r?c-=Number(u):c+=Number(u):"FLOW_INADVANCE"===r?c+=Number(u):c-=Number(u)}),e(h(["modalTemp","uuidList"],(0,i.fromJS)(o))),e(h(["modalTemp","handlingAmount"],c)),e(h(["modalTemp","cardUuid"],l)),e(h(["modalTemp","usedCard"],u))}},t.setCarryoverMadalInitState=function(){return function(e,t){var n=t().calculationState,a=n.getIn(["flags","selectList"]),r=n.getIn(["calculateTemp","stockUuid"]),l=n.getIn(["flags","costTransferType"]);e(h(["modalTemp","uuidList"],a)),e(h(["modalTemp","runningState"],l)),e(h(["modalTemp","cardList"],(0,i.fromJS)([{uuid:r,amount:""}])))}},t.setInvioceMadalInitState=function(){return function(e,t){var n=t().calculationState,a=n.getIn(["flags","selectList"]),r=n.getIn(["flags","invoicingType"]);e(h(["modalTemp","uuidList"],a)),e(h(["modalTemp","billMakeOutType"],r))}},t.setDefineMadalInitState=function(){return function(e,t){var n=t().calculationState,a=n.getIn(["flags","selectList"]),r=n.getIn(["flags","certifiedType"]);e(h(["modalTemp","uuidList"],a)),e(h(["modalTemp","billAuthType"],r))}},t.insertManagerModal=function(e){return function(t,n){var a=n().cxlsState.get("modalTemp"),r=a.get("runningDate"),c=a.get("runningAbstract"),s=a.get("accountUuid"),d=a.get("cardUuid"),f=a.get("handlingAmount")?Math.abs(a.get("handlingAmount")):0,g=a.get("uuidList").toJS();t({type:l.SWITCH_LOADING_MASK}),(0,u.default)("insertRunningpayment","POST",JSON.stringify({runningDate:r,runningAbstract:c,accountUuid:s,amount:f,uuidList:g,cardUuid:d,uuid:""}),function(n){t({type:l.SWITCH_LOADING_MASK}),(0,o.showMessage)(n)&&(e(),t(h("modalTemp",(0,i.fromJS)({runningDate:(0,o.formatDate)(),uuidList:[]}))),t(b()))})}},t.getManagerCategoryList=function(e,t){return function(n){(0,u.default)("getManagerCategoryList","POST",JSON.stringify({assType:t}),function(t){n(h(["flags","managerCategoryList",e],(0,i.fromJS)(t.data)))})}}),O=(t.changeBeforeAmount=function(e,t,n){return function(a,r){t.split(s.TREE_JOIN_STR)[0];var l=t.split(s.TREE_JOIN_STR)[1],u=t.split(s.TREE_JOIN_STR)[2],o=e.get("uuid");a(h(["modalTemp","uuidList",n],(0,i.fromJS)({beOpened:!0,categoryUuid:u,uuid:o,categoryName:l})))}},t.jumpCommonCharge=function(e,t){return function(n){var a=e.get("uuid");n({type:l.SWITCH_LOADING_MASK}),(0,u.default)("getRunningBusiness","GET","uuid="+a,function(e){n({type:l.SWITCH_LOADING_MASK}),(0,o.showMessage)(e)&&n({type:l.INIT_COMMON_CHARGE_FROM_CXLS,data:e.data.result,uuidList:t,uuid:a}),n(T.getRunningSettingInfo()),n(f.addPageTabPane("EditPanes","LrAccount","LrAccount","录入流水")),n(f.addHomeTabpane("Edit","LrAccount","录入流水"))})}}),b=function(){return function(e,t){var n=t().calculationState,a=n.get("flags"),r=n.getIn(["calculateTemp","cardUuid"]),l=n.getIn(["calculateTemp","stockUuid"]),u=a.get("issuedate"),i=a.get("curCategory"),o=a.get("isCheck"),c=a.get("accountingType"),s=n.get("certificationList"),d=n.get("invoicingList"),f=s.get("billAuthType"),g=d.get("billMakeOutType"),m=n.getIn(["costTransferList","runningState"]);switch(c){case"manages":e(p.getCalculateList(u,c,"",i,r,o,""));break;case"invoicing":e(p.getCalculateInvoicingList(u,i,g,""));break;case"certification":e(p.getCalculateCertificationList(u,i,f,""));break;case"costTransfer":e(p.getCalculateCarryoverList(u,m,"","",l))}}};t.deleteSingleFlow=function(e,t){return function(n){var r=[e];c.Confirm({message:"确定删除？",title:"温馨提示",buttonLabels:["取消","确定"],onSuccess:function(e){1===e.buttonIndex&&(n({type:l.SWITCH_LOADING_MASK}),(0,u.default)("deleteRunningbusiness","POST",JSON.stringify({deleteList:r}),function(e){if((0,o.showMessage)(e)){if(e.message)if(e.data.errorList.length){var r=e.data.errorList.join(",");a.default.error(r)}else a.default.success(e.message);!e.data.errorList.length&&t()}n({type:l.SWITCH_LOADING_MASK})}))}})}},t.getInitLraccountJzsy=function(e,t){return function(n){var a=e.get("uuid");n({type:l.SWITCH_LOADING_MASK}),(0,u.default)("getRunningBusiness","GET","uuid="+a,function(e){n({type:l.SWITCH_LOADING_MASK}),(0,o.showMessage)(e)&&(n({type:l.INIT_JZSY_FROM_CXLS,data:e.data.result,uuidList:t,uuid:a}),e.data.result.beProject&&n(T.getJzsyProjectCardList(e.data.result.projectRange))),n(T.getRunningSettingInfo()),n(f.addPageTabPane("EditPanes","LrAccount","LrAccount","录入流水")),n(f.addHomeTabpane("Edit","LrAccount","录入流水")),n(T.calculateGainForJzsy())})}}},1240:function(e,t,n){},1242:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.saveRegretMessage=t.changeRegretCancle=t.changeRegretAccountCommonString=t.changeRegretAccountAccountName=t.getRegretCategory=t.changeItemDisableStatus=t.disabledCategory=t.enabledCategory=t.swapRunningItem=t.emptyAccountCheck=t.changeDefaultAccount=t.changeCardCheckboxArrOut=t.changeCardCheckboxArr=t.changeAccountConfcCheckboxArr=t.deleteAccountConfAccount=t.deleteAccountConfRunning=t.saveAccountConfTaxRate=t.saveAccountConfAccount=t.saveAccountConfRunningCategory=t.changeAccountConfAccountNumber=t.selectAccountConfMultipleAc=t.selectAccountConfAllAc=t.changeAccountConfRunningCategory=t.changeAccountConfCommonFlagsString=t.changeAccountConfCommonString=t.selectAccountConfUpperCategory=t.accountConfTaxRateSettingScale=t.selectOrUnselectAccountAll=t.accountconfAccountCheckboxCheck=t.accountconfRunningCheckboxCheck=t.accountConfRunningTriangleSwitch=t.closeAccountconfModal=t.beforeModifyaccountConfRunning=t.beforeModifyaccountConfRunningOld=t.beforeInsertAccountConf=t.changeAccountConfCurrentPage=t.getRunningTaxRate=t.getRunningAccount=t.getRunningCategory=void 0;var a=d(n(37)),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};n(38);var l=s(n(1273)),u=d(n(52)),i=n(22),o=s(n(30)),c=n(18);function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}t.getRunningCategory=function(){return function(e){e({type:l.SWITCH_LOADING_MASK}),(0,u.default)("getRunningCategory","GET","",function(t){e({type:l.SWITCH_LOADING_MASK}),(0,i.showMessage)(t)&&e({type:l.GET_RUNNING_CATEGORY,receivedData:t.data})})}},t.getRunningAccount=function(){return function(e){(0,u.default)("getRunningAccount","GET","",function(t){(0,i.showMessage)(t)&&e({type:l.GET_RUNNING_ACCOUNT,receivedData:t.data})})}};var g=t.getRunningTaxRate=function(){return function(e){(0,u.default)("getRunningTaxRate","GET","",function(t){(0,i.showMessage)(t)&&e({type:l.GET_RUNNING_TAX_RATE,receivedData:t.data})})}},m=(t.changeAccountConfCurrentPage=function(e){return{type:l.CHANGE_ACCOUNTCONF_CURRENTPAGE,currentPage:e}},t.beforeInsertAccountConf=function(e,t,n){return function(a){if(t){var r=t.get("uuid");"running"===e?(a({type:l.SWITCH_LOADING_MASK}),(0,u.default)("getRunningDetail","GET","uuid="+r,function(r){if(a({type:l.SWITCH_LOADING_MASK}),(0,i.showMessage)(r)){var u=r.data.result;a({type:l.BEFORE_INSERT_ACCOUNTCONF,currentPage:e,item:t,data:u,insertFrom:n})}})):a({type:l.BEFORE_INSERT_ACCOUNTCONF,currentPage:e,item:t,insertFrom:n})}else a({type:l.BEFORE_INSERT_ACCOUNTCONF,currentPage:e,item:t,insertFrom:n})}}),_=(t.beforeModifyaccountConfRunningOld=function(e,t,n){return{type:l.BEFORE_MODIFY_ACCOUNTCONF_RUNNING_OLD,currentPage:e,item:t,old:n}},t.beforeModifyaccountConfRunning=function(e,t){return function(n){var a=t.get("uuid");(0,u.default)("getRunningDetail","GET","uuid="+a,function(a){if((0,i.showMessage)(a)){var r=a.data.result;n({type:l.BEFORE_MODIFY_ACCOUNTCONF_RUNNING_OLD,currentPage:e,name:r,item:t})}})}},t.closeAccountconfModal=function(){return{type:l.CLOSE_ACCOUNTCONF_MODAL}},t.accountConfRunningTriangleSwitch=function(e,t){return{type:l.ACCOUNTCONF_RUNNING_TRIANGLE_SWITCH,showChild:e,uuid:t}},t.accountconfRunningCheckboxCheck=function(e,t){return{type:l.ACCOUNTCONF_RUNNING_CHECKBOX_CHECK,item:e,upperArr:t}},t.accountconfAccountCheckboxCheck=function(e,t){return{type:l.ACCOUNTCONF_ACCOUNT_CHECKBOX_CHECK,checked:e,uuid:t}},t.selectOrUnselectAccountAll=function(e){return{type:l.SELECT_OR_UNSELECT_ACCOUNT_ALL,selectAll:e}},t.accountConfTaxRateSettingScale=function(e){return{type:l.ACCOUNTCONF_TAX_RATE_SETTING_SCALE,value:e}},t.selectAccountConfUpperCategory=function(e){return{type:l.SELECT_ACCOUNTCONF_UPPER_CATEGORY,value:e}},t.changeAccountConfCommonString=function(e,t,n){return function(a){var r="string"==typeof t?[e+"Temp",t]:[e+"Temp"].concat(f(t));a({type:l.CHANGE_ACCOUNTCONF_COMMON_STRING,placeArr:r,value:n})}},t.changeAccountConfCommonFlagsString=function(e,t){return function(n){var a="string"==typeof e?["flags",e]:["flags"].concat(f(e));n({type:l.CHANGE_ACCOUNTCONF_COMMON_STRING,placeArr:a,value:t})}}),T=t.changeAccountConfRunningCategory=function(e){return function(t){t({type:l.CHANGE_ACCOUNTCONF_COMMON_STRING,placeArr:["runningCategory",0],value:e})}},p=(t.selectAccountConfAllAc=function(e,t,n,a,r){return{type:l.SELECT_ACCOUNTCONF_ALL_AC,acId:e,acFullName:t,asscategorylist:n,tab:a,place:r}},t.selectAccountConfMultipleAc=function(e,t,n,a){return function(r){var u="string"==typeof t?["runningTemp",t]:["runningTemp"].concat(f(t));r({type:l.SELECT_ACCOUNTCONF_MULTIPLE_AC,acList:e,placeArr:u,assList:n,assPlace:a})}}),C=(t.changeAccountConfAccountNumber=function(e,t){return{type:l.CHANGE_ACCOUNTCONF_ACCOUNT_NUMBER,accountType:e,value:t}},t.saveAccountConfRunningCategory=function(e){return function(t,n){t({type:l.SWITCH_LOADING_MASK});var a=n().accountConfState,o=a.getIn(["flags","insertOrModify"]),s=a.get("runningTemp"),d=s.get("parentUuid"),f=s.get("categoryType"),g=s.get("level"),_=s.toJS(),T=E(f);for(var p in T)delete _[T[p]];(0,u.default)(o+"RunningCategory","POST",JSON.stringify(r({},_)),function(n){(0,i.showMessage)(n)&&t(e?m("running",(0,c.fromJS)({uuid:d,level:g})):{type:l.AFTER_UPDATE_ACCOUNTCONF_RUNNING_CATEGORY,receivedData:n.data}),t({type:l.SWITCH_LOADING_MASK})})}},t.saveAccountConfAccount=function(e,t){return function(n,a){n({type:l.SWITCH_LOADING_MASK});var o=a().accountConfState,c=o.getIn(["flags","insertOrModify"]),s=o.get("accountTemp").toJS();(0,u.default)(c+"RunningAccount","POST",JSON.stringify(r({},s)),function(a){(0,i.showMessage)(a)&&(n({type:l.AFTER_UPDATE_ACCOUNTCONF_ACCOUNT,saveAndNew:e,receivedData:a.data}),"fromLrAccount"===t&&n({type:l.CHANGE_LR_ACCOUNT_COMMON_STRING,tab:"",placeArr:["flags","showAccountModal"],value:!1})),n({type:l.SWITCH_LOADING_MASK})})}},t.saveAccountConfTaxRate=function(e){return function(e,t){e({type:l.SWITCH_LOADING_MASK});var n=t().accountConfState,c=(n.getIn(["flags","insertOrModify"]),n.get("taxRateTemp")),s=c.get("scale"),d={};if("small"===s){var f=c.get("payableAcId"),m=c.get("notBillingAcId"),T=c.get("payableRate");d={payableAcId:f,notBillingAcId:m,payableRate:T,scale:s}}else{var p=c.get("inputAcId"),C=c.get("certifiedAcId"),E=c.get("outputAcId"),S=c.get("waitOutputAcId"),A=c.get("turnOutUnpaidAcId"),y=c.get("unpaidAcId"),N=c.get("preAcId"),I=c.get("outputRate");d={inputAcId:p,certifiedAcId:C,outputAcId:E,waitOutputAcId:S,turnOutUnpaidAcId:A,unpaidAcId:y,outputRate:I,scale:s,preAcId:N}}(0,u.default)("canModifyRunningTaxRate","POST",JSON.stringify(r({},d)),function(t){t.data.result.hasBusiness?t.data.result.canModify?(e({type:l.SWITCH_LOADING_MASK}),o.Confirm({message:t.data.result.msg,title:"温馨提示",buttonLabels:["取消","确定"],onSuccess:function(t){1===t.buttonIndex?(0,u.default)("modifyRunningTaxRate","POST",JSON.stringify(r({},d)),function(t){(0,i.showMessage)(t,"show")&&e(_("isTaxQuery",!0))}):e(g())}})):(a.default.error(t.data.result.msg),e(g()),e({type:l.SWITCH_LOADING_MASK})):(0,u.default)("modifyRunningTaxRate","POST",JSON.stringify(r({},d)),function(t){(0,i.showMessage)(t,"show")&&e(_("isTaxQuery",!0)),e({type:l.SWITCH_LOADING_MASK})})})}},t.deleteAccountConfRunning=function(){return function(e,t){var n=t().accountConfState.getIn(["flags","runningSelect"]);0!==n.size&&o.Confirm({message:"确定删除？",title:"温馨提示",buttonLabels:["取消","确定"],onSuccess:function(t){1===t.buttonIndex&&(e({type:l.SWITCH_LOADING_MASK}),(0,u.default)("deleteRunningCategory","POST",JSON.stringify({deleteList:n}),function(t){(0,i.showMessage)(t)&&(a.default.success(t.message),e({type:l.AFTER_UPDATE_ACCOUNTCONF_RUNNING_CATEGORY,receivedData:t.data})),e({type:l.SWITCH_LOADING_MASK})}))}})}},t.deleteAccountConfAccount=function(){return function(e,t){var n=t().accountConfState.getIn(["flags","accountSelect"]);0!==n.size&&o.Confirm({message:"确定删除？",title:"温馨提示",buttonLabels:["取消","确定"],onSuccess:function(t){1===t.buttonIndex&&(e({type:l.SWITCH_LOADING_MASK}),(0,u.default)("deleteRunningAccount","POST",JSON.stringify({deleteList:n}),function(t){(0,i.showMessage)(t)&&e({type:l.AFTER_UPDATE_ACCOUNTCONF_ACCOUNT,receivedData:t.data}),e({type:l.SWITCH_LOADING_MASK})}))}})}},t.changeAccountConfcCheckboxArr=function(e,t){return function(n){var a=[];t.forEach(function(e){switch(e){case"销售费用":a.push("XZ_SALE");break;case"管理费用":a.push("XZ_MANAGE");break;case"财务费用":a.push("XZ_FINANCE")}}),n({type:l.CHANGE_ACCOUNTCONF_PROPERTY,placeArr:e,valArr:a})}},t.changeCardCheckboxArr=function(e,t,n,a){return function(r,u){var i=u().accountConfState.getIn(["runningTemp",e,t]),o=void 0;o=a?i.update(function(e){return e.concat(n)}):i.update(function(e){return e.filter(function(e){return e!==n})});var c=["runningTemp",e,t];r({type:l.CHANGE_ACCOUNTCONF_PROPERTY,placeArr:c,valArr:o})}},t.changeCardCheckboxArrOut=function(e,t,n){return function(a,r){var u=r().accountConfState.getIn(["runningTemp",e]),i=void 0;i=n?u.update(function(e){return e.concat(t)}):u.update(function(e){return e.filter(function(e){return e!==t})});var o=["runningTemp",e];a({type:l.CHANGE_ACCOUNTCONF_PROPERTY,placeArr:o,valArr:i})}},t.changeDefaultAccount=function(e,t,n){return function(a){var r={SX_SHBX:"AC_JT_YFSB",SX_ZFGJJ:"AC_JT_YFGJJ",SX_QTXC:"AC_JT_YFXC",SX_QYSDS:["AC_YFQYSDS","AC_QYSDS"],SX_QTSF:["AC_YFSF","AC_SF"],SX_GRSF:"AC_SDS",SX_FLF:"AC_FLF",SX_GQ:["AC_TZ","AC_TZ_SY"],SX_ZQ:["AC_TZ","AC_TZ_SY"],SX_GDZC:["AC_ZC_ASSETS","AC_ZC_CLEANING","AC_ZC_ZJ"],SX_WXZC:["AC_ZC_ASSETS","AC_ZC_CLEANING","AC_ZC_ZJ"],SX_TZXFDC:["AC_ZC_ASSETS","AC_ZC_CLEANING","AC_ZC_ZJ"]}[t],l=function(e,t,n){var a=e.find(function(e){return e.get("type")===t&&e.get("property")===n});return{acId:a?a.get("acId"):"",acFullName:a?a.get("acFullName"):""}};"SX_GRSF"===t?a(p([l(e,r,t)],[n,"payAc"])):"string"==typeof r?a(p([l(e,r,t)],[n,"accruedAc"])):"SX_QYSDS"===t||"SX_QTSF"===t?(a(p([l(e,r[0],t)],[n,"accruedAc"])),a(p([l(e,r[1],t)],[n,"payAc"]))):"SX_GQ"===t||"SX_ZQ"===t?(a(p([l(e,r[0],t)],[n,"investAc"])),a(p([l(e,r[1],t)],[n,"profitAc"]))):"SX_GDZC"!==t&&"SX_WXZC"!==t&&"SX_TZXFDC"!==t||(a(p([l(e,r[0],t)],[n,"assetsAc"])),a(p([l(e,r[1],t)],[n,"cleaningAc"])),a(p([l(e,r[2],t)],[n,"depreciationAc"])))}},t.emptyAccountCheck=function(e){return function(t){e.forEach(function(e){var n=e.tab,a=e.place,r=e.value,u="string"==typeof a?[n+"Temp",a]:[n+"Temp"].concat(f(a));t({type:l.CHANGE_ACCOUNTCONF_COMMON_STRING,placeArr:u,value:r})})}},t.swapRunningItem=function(e,t){return function(n){n({type:l.SWITCH_LOADING_MASK}),(0,u.default)("runningSwapItem","POST",JSON.stringify({fromCategoryUuid:e,toCategoryUuid:t}),function(e){(0,i.showMessage)(e)&&n(T((0,c.fromJS)(e.data.categoryList[0]))),n({type:l.SWITCH_LOADING_MASK})})}},t.enabledCategory=function(e){return function(t){t({type:l.SWITCH_LOADING_MASK}),(0,u.default)("enabledCategory","POST",JSON.stringify({enabledList:e}),function(n){(0,i.showMessage)(n)&&t(C(e[0],!1)),t({type:l.SWITCH_LOADING_MASK})})}},t.disabledCategory=function(e,t){return function(t){t({type:l.SWITCH_LOADING_MASK}),(0,u.default)("disabledCategory","POST",JSON.stringify({disabledList:e}),function(n){if((0,i.showMessage)(n)){var a=n.data.parentList;t(C(e[0],!0,a))}t({type:l.SWITCH_LOADING_MASK})})}},t.changeItemDisableStatus=function(e,t,n){return function(a,r){var u=r().accountConfState,i=u.getIn(["runningCategory",0,"childList"]),o=u.getIn(["runningCategory",0,"disableList"]),c=[e];t&&n.length&&(c=c.concat(n));var s=function e(n,r,u,i){r&&r.size&&r.find(function(r,o){if(n.find(function(e){return e===r.get("uuid")}))return a({type:l.CHANGE_ITEM_DISABLE_STATUS,placeArr:[].concat(f(u),[o]),disabled:t}),!0;e(n,r.get("childList"),[].concat(f(u),[o,"childList"]),i),e(n,r.get("disableList"),[].concat(f(u),[o,"disableList"]),i)})};s(c,i,["childList"],!0),s(c,o,["disableList"],!0)}}),E=function(e){var t={LB_YYSR:"acBusinessIncome",LB_YYZC:"acBusinessExpense",LB_YYWSR:"acBusinessOutIncome",LB_YYWZC:"acBusinessOutExpense",LB_JK:"acLoan",LB_TZ:"acInvest",LB_ZB:"acCapital",LB_CQZC:"acAssets",LB_FYZC:"acCost",LB_ZSKX:"acTemporaryReceipt",LB_ZFKX:"acTemporaryPay",LB_XCZC:"acPayment",LB_SFZC:"acTax"}[e],n=["acAssets","acBusinessExpense","acBusinessIncome","acBusinessOutExpense","acBusinessOutIncome","acCapital","acCost","acInvest","acLoan","acPayment","acTax","acTemporaryReceipt","acTemporaryPay"];return n.splice(n.indexOf(t),1),n},S=(t.getRegretCategory=function(){return function(e){e({type:l.SWITCH_LOADING_MASK}),(0,u.default)("getRegretCategory","GET","",function(t){(0,i.showMessage)(t)&&e({type:l.GET_REGRET_CATEGORY,receivedData:t.data}),e({type:l.SWITCH_LOADING_MASK})})}},t.changeRegretAccountAccountName=function(e,t,n,a,r,u){return{type:l.CHANGE_REGRET_ACCOUNT_ACCOUNT_NAME,tab:e,placeUUid:t,placeName:n,isBalance:a,isBusiness:r,value:u}},t.changeRegretAccountCommonString=function(e,t,n){return function(a){var r="string"==typeof t?[e+"Temp",t]:[e+"Temp"].concat(f(t));"flags"===t[0]&&(r=t),a({type:l.CHANGE_REGRET_ACCOUNT_COMMON_STRING,tab:e,placeArr:r,value:n})}});t.changeRegretCancle=function(){return{type:l.CHANGE_REGRET_CANCLE}},t.saveRegretMessage=function(){return function(e,t){var n=t().accountConfState,a=n.getIn(["regretTemp","subordinateName"]),r=n.getIn(["regretTemp","categoryUuid"]);e({type:l.SWITCH_LOADING_MASK}),(0,u.default)("saveRegretMessage","POST",JSON.stringify({name:a,uuid:r}),function(t){(0,i.showMessage)(t)?(e({type:l.GET_RUNNING_CATEGORY,receivedData:t.data}),e(S("regret","showConfirmModal",!1))):(e(S("regret","showConfirmModal",!1)),e(S("regret","showModal",!0))),e({type:l.SWITCH_LOADING_MASK})})}}},1243:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cancelYllsVisible=t.getYllsBusinessData=void 0;var a,r=n(52),l=(a=r)&&a.__esModule?a:{default:a},u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1270)),i=n(22);t.getYllsBusinessData=function(e,t){return function(n){var a=e.get("parentUuid")?e.get("parentUuid"):e.get("uuid");a&&n({type:u.SWITCH_LOADING_MASK}),a&&(0,l.default)("getRunningBusiness","GET","uuid="+a,function(a){(0,i.showMessage)(a)?(n({type:u.SWITCH_LOADING_MASK}),n({type:u.GET_YLLS_BUSINESS_DATA,item:a.data.result,curItem:e}),t&&t()):n({type:u.SWITCH_LOADING_MASK})})}},t.cancelYllsVisible=function(){return function(e){e({type:u.CANCEL_YLLS_VISIBLE})}}},1244:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={name:"必填",code:"最长20个字符",remark:"选填(最多40个字符)",amount:"必填，请输入金额",selectAc:"选填，请选择科目",upperClass:"选择上级类别",cardCode:"必填，支持数字和大小写英文",specifications:"支持数字字母，不区分大小写，最长20个字符",specificationsTip:"选填，最长20个字符",unit:"必填，支持多单位",barCode:"选填，最长40个字符",companyAddress:"选填，最长40个字符",financeName:"选填，最长20个字符"}},1245:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.changeItemChildShow=t.deleteRunningVc=t.showRelatePaymentFetch=t.showRelateBusinessFetch=t.modifyRunningPayment=t.getRunningPayment=t.getRunningBusinessDuty=void 0;var a,r=f(n(1278)),l=n(52),u=(a=l)&&a.__esModule?a:{default:a},i=n(18),o=n(22),c=f(n(30)),s=(f(n(27)),f(n(1229))),d=f(n(60));function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}t.getRunningBusinessDuty=function(e,t,n,a,l){return function(l,c){console.log(n);var f=c().accountConfState.get("runningCategory");l({type:r.SWITCH_LOADING_MASK}),(0,u.default)("getRunningBusiness","GET","uuid="+t,function(u){if(l({type:r.SWITCH_LOADING_MASK}),(0,o.showMessage)(u)){var c=u.data.result.categoryUuid,g=(0,i.fromJS)([]);!function e(t){return t.map(function(t){t.get("uuid")===c&&(g=g.push(t)),t.get("childList")&&t.get("childList").size&&e(t.get("childList"))})}(f);var m={LB_YYSR:"acBusinessIncome",LB_YYZC:"acBusinessExpense",LB_YYWSR:"acBusinessOutIncome",LB_YYWZC:"acBusinessOutExpense",LB_JK:"acLoan",LB_TZ:"acInvest",LB_ZB:"acCapital",LB_CQZC:"acAssets",LB_FYZC:"acCost",LB_ZSKX:"acTemporaryReceipt",LB_ZFKX:"acTemporaryPay",LB_XCZC:"acPayment",LB_SFZC:"acTax"}[u.data.result.categoryType],_=u.data.result.runningState,T=u.data.result[m].beManagemented,p=u.data.result[m].contactsRange,C=u.data.result[m].stockRange,E=u.data.result.beProject,S=u.data.result.projectRange,A=u.data.result.propertyCarryover;"STATE_JK_ZFLX"!==_&&"STATE_TZ_SRGL"!==_&&"STATE_TZ_SRLX"!==_&&"STATE_ZB_ZFLR"!==_&&"STATE_XC_JN"!==_&&"STATE_XC_FF"!==_&&"STATE_SF_JN"!==_&&"STATE_ZS_TH"!==_&&"STATE_ZF_SH"!==_&&"STATE_SF_SFJM"!==_||l(s.changeLrAccountCommonString("",["flags","specialStateforAccrued"],!0)),l(s.getRunningSettingInfo()),l(d.addPageTabPane("EditPanes","LrAccount","LrAccount","录入流水")),l(d.addHomeTabpane("Edit","LrAccount","录入流水")),l({type:r.INIT_LR_ACCOUNT,strJudgeType:"fromCxAccount",receivedData:u.data,category:g,canMakeVc:a,flowNumber:e,uuidList:n,uuid:t}),"STATE_CQZC_JZSY"===_&&l(s.calculateGain()),E&&l(s.getProjectCardList(S,u.data.result)),T&&l(s.getFirstContactsCardList(p,_)),"SX_HW"===A&&l(s.getFirstStockCardList(C,_))}})}},t.getRunningPayment=function(e,t){return function(n){n({type:r.SWITCH_LOADING_MASK}),(0,u.default)("getRunningPayment","GET","uuid="+e,function(e){n({type:r.SWITCH_LOADING_MASK}),(0,o.showMessage)(e)&&(t(),n({type:r.SHOW_RELATE_PAYMENT_FETCH,receivedData:e.data.result}))})}},t.modifyRunningPayment=function(){return{type:r.MODIFY_RUNNING_PAYMENT}},t.showRelateBusinessFetch=function(e,t){return function(n){n({type:r.SWITCH_LOADING_MASK}),(0,u.default)("getRunningBusinessDuty","GET","uuid="+e,function(e){n({type:r.SWITCH_LOADING_MASK}),(0,o.showMessage)(e)&&(t(),n({type:r.SHOW_RELATE_PAYMENT_FETCH,receivedData:e.data.result}))})}},t.showRelatePaymentFetch=function(e,t){return function(n){n({type:r.SWITCH_LOADING_MASK}),(0,u.default)("getRunningPayment","GET","uuid="+e,function(e){n({type:r.SWITCH_LOADING_MASK}),(0,o.showMessage)(e)&&(t(),n({type:r.SHOW_RELATE_PAYMENT_FETCH,receivedData:e.data.result}))})}},t.deleteRunningVc=function(e,t){return function(n,a){c.Confirm({message:"确定删除？",title:"温馨提示",buttonLabels:["取消","确定"],onSuccess:function(l){1===l.buttonIndex&&(n({type:r.SWITCH_LOADING_MASK}),(0,u.default)("deletevc","POST",JSON.stringify({year:t.substr(0,4),month:t.substr(5,2),vcindexlist:[e]}),function(e){if(n({type:r.SWITCH_LOADING_MASK}),(0,o.showMessage)(e)){var t=a().accountState,l=t.getIn(["flags","issuedate"]),u=t.getIn(["flags","main"]),i=t.getIn(["flags","curCategory"]),c=t.getIn(["flags","curAccountUuid"]),s=t.getIn(["flags","assId"]),d=t.getIn(["flags","assCategory"]),f=t.getIn(["flags","acId"]);n(getAccountDimensionFetch(l,u,i,c,f,d,s))}}))}})}},t.changeItemChildShow=function(e){return{type:r.CHANGE_ITEM_CHILD_SHOW,idx:e}}},1246:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SWITCH_LOADING_MASK="SWITCH_LOADING_MASK",t.INIT_PZ_BOMB="INIT_PZ_BOMB",t.PZBOMB_REVIEWEDBY_VC="PZBOMB_REVIEWEDBY_VC",t.CANCEL_PZBOMB_REVIEWEDBY_VC="CANCEL_PZBOMB_REVIEWEDBY_VC"},1249:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.changeItemChildShow=t.deleteRunningVc=t.showRelatePaymentFetch=t.showRelateBusinessFetch=t.modifyRunningPayment=t.getRunningPayment=t.getRunningBusinessDuty=t.deleteAccountItemCardAndRunning=t.accountItemCheckboxCheckAll=t.accountItemCheckboxCheck=t.saveAccountPayOrReceive=t.oneClickPayment=t.beforeRunningPayOrReceive=t.changeAccountAccountName=t.changeAccountCommonString=t.afterModifyAccountAllList=t.changeSearchType=t.changeCalculateCommonString=t.getFirstStockCardList=t.getAccountObjectList=t.getCostCategoryListInfo=t.getAuthCategoryListInfo=t.getMakeoutCategoryListInfo=t.getManageCategoryListInfo=t.getCalculateCarryoverList=t.getCalculateCertificationList=t.getCalculateInvoicingList=t.getCalculateList=t.getPeriodCalculateList=void 0;var a,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l=m(n(1277)),u=n(52),i=(a=u)&&a.__esModule?a:{default:a},o=n(22),c=m(n(30)),s=n(18),d=m(n(60)),f=m(n(43)),g=m(n(1229));function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.getPeriodCalculateList=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"manages",n=arguments[2];arguments[3],arguments[4];return function(a){a({type:l.SWITCH_LOADING_MASK}),a(I(e));(0,i.default)("getManageList","POST",JSON.stringify({year:e?e.substr(0,4):"",month:e?e.substr(6,2):"",categoryUuid:"",cardUuid:"",isCheck:!1,getPeriod:n}),function(e){if((0,o.showMessage)(e)){var n;a(f.AccountTableGetPeriod(e));a((_(n={type:l.GET_CALCULATE_LIST,receivedData:e.data.result,period:e.data.periodDtoJson,issuedate:"",getPeriod:"true",isCheck:!1,categoryUuid:""},"isCheck",!1),_(n,"searchType","SEARCH_TYPE_DATE"),_(n,"accountingType",t),n))}a({type:l.SWITCH_LOADING_MASK})})}};var T=t.getCalculateList=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"manages",n=(arguments[2],arguments[3]),a=arguments[4],r=arguments[5],u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"",c=arguments[7];return function(s,d){s({type:l.SWITCH_LOADING_MASK});var f=d().calculationState,g=u?f.getIn(["flags","searchType"]):"";t=t||f.getIn(["flags","accountingType"]),r=(!0===r||!1===r)&&r,(0,i.default)("getManageList","POST",JSON.stringify({year:e?e.substr(0,4):"",month:e?e.substr(6,2):"",categoryUuid:n?"全部"===n?"":n:f.getIn(["flags","categoryUuid"]),cardUuid:a,isCheck:r,getPeriod:"",searchType:g,searchContent:u}),function(a){s({type:l.SWITCH_LOADING_MASK}),(0,o.showMessage)(a)&&(g=""==g?"SEARCH_TYPE_DATE":g,s({type:l.GET_CALCULATE_LIST,receivedData:a.data.result,period:a.data.periodDtoJson,issuedate:e,getPeriod:"",isCheck:r,searchType:g,curCategory:n,accountingType:t}))}),c||s(S("",a,r))}},p=t.getCalculateInvoicingList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments[4];return function(u,c){u({type:l.SWITCH_LOADING_MASK});var s=c().calculationState,d=a?s.getIn(["flags","searchType"]):"";(0,i.default)("getBusinessMakeoutList","POST",JSON.stringify({runningDate:"",categoryUuid:t?"全部"===t?"":t:s.getIn(["flags","categoryUuid"]),billMakeOutType:n,searchType:d,searchContent:a}),function(a){u({type:l.SWITCH_LOADING_MASK}),(0,o.showMessage)(a)&&(d=""==d?"SEARCH_TYPE_DATE":d,u({type:l.GET_CALCULATE_INVOICING_LIST,receivedData:a.data.result,curCategory:t,billMakeOutType:n,searchType:d,runningDate:e}))}),r||u(A("",n))}},C=t.getCalculateCertificationList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments[4];return function(u,c){u({type:l.SWITCH_LOADING_MASK});var s=c().calculationState,d=a?s.getIn(["flags","searchType"]):"";(0,i.default)("getBusinessAuthList","POST",JSON.stringify({runningDate:"",categoryUuid:t?"全部"===t?"":t:s.getIn(["flags","categoryUuid"]),billAuthType:n,searchType:d,searchContent:a}),function(a){u({type:l.SWITCH_LOADING_MASK}),(0,o.showMessage)(a)&&(d=""==d?"SEARCH_TYPE_DATE":d,u({type:l.GET_CALCULATE_CERTIFICATE_LIST,receivedData:a.data.result,curCategory:t,billAuthType:n,searchType:d,runningDate:e}))}),r||u(y("",n))}},E=t.getCalculateCarryoverList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments[3],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";return function(u,c){u({type:l.SWITCH_LOADING_MASK}),u(L(e,t));var s=c().calculationState,d=""===r?[]:[r],f=n?s.getIn(["flags","searchType"]):"";(0,i.default)("getCarryoverList","POST",JSON.stringify({runningDate:"",runningState:t,searchType:f,searchContent:n,cardUuidList:d}),function(n){u({type:l.SWITCH_LOADING_MASK}),(0,o.showMessage)(n)&&(f=""==f?"SEARCH_TYPE_DATE":f,u({type:l.GET_CALCULATE_COST_LIST,receivedData:n.data.result,runningState:t,searchType:f,runningDate:e}))}),a||u(N("",t))}},S=t.getManageCategoryListInfo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(a,r){(0,i.default)("getRunningManageCategory","POST",JSON.stringify({runningDate:e,cardUuid:t,isCheck:n}),function(e){(0,o.showMessage)(e)&&a({type:l.GET_MANAGE_CATEGORY_DETAIL,receivedData:e.data,isCheck:n})})}},A=t.getMakeoutCategoryListInfo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(n,a){(0,i.default)("getRunningMakeoutCategory","POST",JSON.stringify({runningDate:e,billMakeOutType:t}),function(e){(0,o.showMessage)(e)&&n({type:l.GET_MANAGE_CATEGORY_DETAIL,receivedData:e.data})})}},y=t.getAuthCategoryListInfo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(n,a){(0,i.default)("getRunningAuthCategory","POST",JSON.stringify({runningDate:e,billAuthType:t}),function(e){(0,o.showMessage)(e)&&n({type:l.GET_MANAGE_CATEGORY_DETAIL,receivedData:e.data})})}},N=t.getCostCategoryListInfo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(n,a){(0,i.default)("getRunningCarryoverCategory","POST",JSON.stringify({runningDate:e,runningState:t}),function(e){(0,o.showMessage)(e)&&n({type:l.GET_MANAGE_CATEGORY_DETAIL,receivedData:e.data})})}},I=t.getAccountObjectList=function(e){return function(e){(0,i.default)("getBusinessManagerCardList","POST",JSON.stringify({}),function(t){(0,o.showMessage)(t)&&(e(h("calculate","cardList",(0,s.fromJS)(t.data.cardList))),t.data.categoryList&&e(h("calculate","typeList",(0,s.fromJS)(t.data.categoryList))))})}},L=t.getFirstStockCardList=function(e,t){return function(n,a){a().homeState.getIn(["data","userInfo","sobInfo","sobId"]);(0,i.default)("getCostStock","POST",JSON.stringify({runningDate:e,runningState:t}),function(e){(0,o.showMessage)(e)&&n(h("calculate","stockThingsList",(0,s.fromJS)(e.data.result)))})}},h=t.changeCalculateCommonString=function(e,t,n){return function(a){var r="string"==typeof t?[e+"Temp",t]:[e+"Temp"].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t));"flags"===t[0]&&(r=t),a({type:l.CHANGE_CALCULATE_COMMON_STRING,tab:e,placeArr:r,value:n})}},v=(t.changeSearchType=function e(t,n){return function(a){switch(n){case"manages":a(T()),a(e(["calculateTemp","usedCard"],(0,s.fromJS)({name:"",code:"全部"})));break;case"invoicing":a(p());break;case"certification":a(C());break;case"costTransfer":a(E()),a(e(["calculateTemp","stockCard"],(0,s.fromJS)({name:"",code:"全部"})))}a({type:l.CHANGE_TYPE_OF_SEARCH,placeArr:t,value:n})}},t.afterModifyAccountAllList=function(e){return function(e,t){var n=t().calculationState,a=n.getIn(["flags","issuedate"]),r=n.getIn(["flags","accountingType"]),l=n.getIn(["flags","curCategory"]),u=(n.getIn(["calculateTemp","ass","assid"]),n.getIn(["calculateTemp","ass","asscategory"]),n.getIn(["calculateTemp","ass","acId"]),n.getIn(["calculateTemp","cardUuid"])),i=n.getIn(["flags","isCheck"]),o=n.getIn(["invoicingList","billMakeOutType"]),c=n.getIn(["certificationList","billAuthType"]),s=n.getIn(["costTransferList","runningState"]);switch(r){case"manages":e(T(a,r,"true",l,u,i));break;case"invoicing":e(p("",l,o));break;case"certification":e(C("",l,c));break;case"costTransfer":e(E("",s))}}}),O=(t.changeAccountCommonString=function(e,t,n){return{type:l.CHANGE_ACCOUNT_COMMON_STRING,tab:e,place:t,value:n}},t.changeAccountAccountName=function(e,t,n,a){return{type:l.CHANGE_ACCOUNT_ACCOUNT_NAME,tab:e,placeUUid:t,placeName:n,value:a}},t.beforeRunningPayOrReceive=function(e,t,n,a,r){return function(u){n<0&&(n=-n,e="收"===e?"付":"收"),u({type:l.BEFORE_RUNNING_PAY_OR_RECEIVE,payDirection:e,assList:t,notHandleAmount:n,uuidList:a,runningList:r})}});t.oneClickPayment=function(e){return function(t,n){var a=n().calculationState,r=a.getIn(["flags","selectList"]),l=a.getIn(["payManageList","childList"]),u=a.getIn(["flags","assId"]),i=a.getIn(["flags","assCategory"]),o=a.getIn(["flags","acId"]),c=a.get("mediumAcAssList"),d="";o?c.get("acList").forEach(function(e){e.get("acId")===o&&(d=e.get("acName"))}):c.get("category").forEach(function(e){e.get("category")===i&&e.get("assList").forEach(function(e){e.get("assId")===u&&(d=e.get("assName"))})});var f=(0,s.fromJS)([]),g=(0,s.fromJS)([]),m=(0,s.fromJS)([]),_=(0,s.fromJS)([]);if(l.forEach(function(e){r.indexOf(e.get("uuid"))>-1&&(m=m.push(e),_=_.push(e.get("uuid")),"income"===e.get("property")||"otherIncome"===e.get("property")?g=g.push(e):f=f.push(e))}),g.size&&f.size){var T=0,p=0;g.forEach(function(e){return T+=e.get("notHandleAmount")}),f.forEach(function(e){return p+=e.get("notHandleAmount")});var C=T-p;if(C>0){t(O("收",d,C,_,m))}else{t(O("付",d,-C,_,m))}e()}else if(g.size&&!f.size){var E="收",S=0;g.forEach(function(e){S+=e.get("notHandleAmount"),_.push(e.get("uuid"))}),S<0&&(E="付",S=-S),t(O(E,d,S,_,m)),e()}else if(!g.size&&f.size){var A="付",y=0;f.forEach(function(e){y+=e.get("notHandleAmount"),_.push(e.get("uuid"))}),y<0&&(A="收",y=-y),t(O(A,d,y,_,m)),e()}else console.log("异常情况：未匹配")}},t.saveAccountPayOrReceive=function(e){return function(t,n){var a=n().calculationState,l=a.getIn(["flags","runningInsertOrModify"]),u=a.get("runningTemp").toJS();(0,i.default)(l+"Runningpayment","POST",JSON.stringify(r({},u)),function(n){(0,o.showMessage)(n)&&(t(v()),e())})}},t.accountItemCheckboxCheck=function(e,t,n){return{type:l.ACCOUNT_ITEM_CHECKBOX_SELECT,checked:e,uuid:t,runningDate:n}},t.accountItemCheckboxCheckAll=function(e,t){return{type:l.PAY_RECEIVE_ITEM_CHECKBOX_CHECK_ALL,selectAll:e,listName:t}},t.deleteAccountItemCardAndRunning=function(e){return function(e,t){var n=t().calculationState.getIn(["flags","selectList"]);c.Confirm({message:"确定删除？",title:"温馨提示",buttonLabels:["取消","确定"],onSuccess:function(t){1===t.buttonIndex&&(e({type:l.SWITCH_LOADING_MASK}),(0,i.default)("deleteRunningbusiness","POST",JSON.stringify({deleteList:n}),function(t){if((0,o.showMessage)(t)){if(t.data.errorList.length){var n=t.data.errorList.reduce(function(e,t){return e+","+t});c.Alert(n)}e(v())}e({type:l.SWITCH_LOADING_MASK})}))}})}},t.getRunningBusinessDuty=function(e,t,n,a){return function(a,r){var u=r().accountConfState.get("runningCategory");a({type:l.SWITCH_LOADING_MASK}),(0,i.default)("getNewRunningBusiness","GET","oriUuid="+t,function(t){if(a({type:l.SWITCH_LOADING_MASK}),(0,o.showMessage)(t)){var r=t.data.result.categoryUuid,i=(0,s.fromJS)([]);!function e(t){return t.map(function(t){t.get("uuid")===r&&(i=i.push(t)),t.get("childList")&&t.get("childList").size&&e(t.get("childList"))})}(u);var c=t.data.result.runningState;"STATE_JK_ZFLX"!==c&&"STATE_TZ_SRGL"!==c&&"STATE_TZ_SRLX"!==c&&"STATE_ZB_ZFLR"!==c&&"STATE_ZS_TH"!==c&&"STATE_ZF_SH"!==c||a(g.changeLrAccountCommonString("",["flags","specialStateforAccrued"],!0)),a(g.getRunningSettingInfo()),a(d.addPageTabPane("EditPanes","LrAccount","LrAccount","录入流水")),a(d.addHomeTabpane("Edit","LrAccount","录入流水")),a({type:l.INIT_LR_ACCOUNT,strJudgeType:"fromCxAccount",receivedData:t.data,category:i,canMakeVc:n,flowNumber:e}),"STATE_CQZC_JZSY"===c&&a(g.calculateGain())}})}},t.getRunningPayment=function(e,t){return function(n){n({type:l.SWITCH_LOADING_MASK}),(0,i.default)("getRunningPayment","GET","uuid="+e,function(e){n({type:l.SWITCH_LOADING_MASK}),(0,o.showMessage)(e)&&(t(),n({type:l.SHOW_RELATE_PAYMENT_FETCH,receivedData:e.data.result}))})}},t.modifyRunningPayment=function(){return{type:l.MODIFY_RUNNING_PAYMENT}},t.showRelateBusinessFetch=function(e,t){return function(n){n({type:l.SWITCH_LOADING_MASK}),(0,i.default)("getRunningBusinessDuty","GET","uuid="+e,function(e){n({type:l.SWITCH_LOADING_MASK}),(0,o.showMessage)(e)&&(t(),n({type:l.SHOW_RELATE_PAYMENT_FETCH,receivedData:e.data.result}))})}},t.showRelatePaymentFetch=function(e,t){return function(n){n({type:l.SWITCH_LOADING_MASK}),(0,i.default)("getRunningPayment","GET","uuid="+e,function(e){n({type:l.SWITCH_LOADING_MASK}),(0,o.showMessage)(e)&&(t(),n({type:l.SHOW_RELATE_PAYMENT_FETCH,receivedData:e.data.result}))})}},t.deleteRunningVc=function(e,t){return function(n,a){c.Confirm({message:"确定删除？",title:"温馨提示",buttonLabels:["取消","确定"],onSuccess:function(r){1===r.buttonIndex&&(n({type:l.SWITCH_LOADING_MASK}),(0,i.default)("deletevc","POST",JSON.stringify({year:t.substr(0,4),month:t.substr(5,2),vcindexlist:[e]}),function(e){if(n({type:l.SWITCH_LOADING_MASK}),(0,o.showMessage)(e)){var t=a().calculationState,r=t.getIn(["flags","issuedate"]),u=t.getIn(["flags","main"]),i=t.getIn(["flags","curCategory"]),c=(t.getIn(["flags","curAccountUuid"]),t.getIn(["flags","assId"]),t.getIn(["flags","assCategory"]),t.getIn(["flags","acId"]),t.getIn(["flags","isCheck"])),s=t.getIn(["calculateTemp","cardUuid"]);n(T(r,u,"",i,s,c))}}))}})}},t.changeItemChildShow=function(e){return{type:l.CHANGE_ITEM_CHILD_SHOW,idx:e}}},1250:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r,l,u=p(n(14)),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(78);var o=p(n(1)),c=p(n(0)),s=n(18),d=n(17);n(1258);var f=T(n(30)),g=p(n(1260)),m=p(n(1264)),_=T(n(60));function T(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function p(e){return e&&e.__esModule?e:{default:e}}var C=(0,d.immutableRenderDecorator)((l=r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={rotate:0,magnificationRate:1,imgWpercent:0,idx:""},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),i(t,[{key:"componentDidMount",value:function(){this.props.dispatch(_.setDdConfig())}},{key:"componentWillReceiveProps",value:function(e,t){0==this.props.preview&&1==e.preview&&this.setState({rotate:0,magnificationRate:1,imgWpercent:0,idx:e.page,maxLimit:40,minLimit:40})}},{key:"render",value:function(){var e=this,t=this.props,n=t.preview,a=t.downloadPermission,r=t.previewImgArr,l=t.closePreviewModal,i=t.downloadEnclosure,c=t.dispatch,s=(t.page,t.type,t.uploadKeyJson,this.state),d=s.idx,_=s.rotate,T=s.magnificationRate,p=s.imgWpercent,C=s.maxLimit,E=s.minLimit,S=r.get(d);return o.default.createElement("div",{className:"preview",style:{display:n?"":"none"},onClick:function(e){}},o.default.createElement("div",{className:"nav"},o.default.createElement("button",{onClick:function(){return e.setState({idx:d-1,imgWpercent:0,rotate:0})},disabled:0==d},o.default.createElement(u.default,{type:"left-circle"}),o.default.createElement("div",null,"上一张")),o.default.createElement("button",{disabled:S&&"TRUE"!==S.get("imageOrFile"),onClick:function(){return e.setState({rotate:_+90})}},o.default.createElement(u.default,{type:"reload"}),o.default.createElement("div",null,"旋转")),S&&"application/pdf"===S.get("mimeType")?o.default.createElement("button",{disabled:.5===T,onClick:function(){e.setState({magnificationRate:T-.5})}},o.default.createElement(u.default,{type:"zoom-out"}),o.default.createElement("div",null,"缩小")):o.default.createElement("button",{disabled:-E>=p,onClick:function(){e.setState({imgWpercent:p-10})}},o.default.createElement(u.default,{type:"minus-circle"}),o.default.createElement("div",null,"缩小")),S&&"application/pdf"==S.get("mimeType")?o.default.createElement("button",{disabled:T>=4||"application/pdf"!==S.get("mimeType"),onClick:function(){e.setState({magnificationRate:T+.5})}},o.default.createElement(u.default,{type:"zoom-in"}),o.default.createElement("div",null,"放大")):o.default.createElement("button",{disabled:p>=C,onClick:function(){e.setState({imgWpercent:p+10})}},o.default.createElement(u.default,{type:"plus-circle"}),o.default.createElement("div",null,"放大")),o.default.createElement("button",{disabled:!a},a?o.default.createElement("span",{onClick:function(){return i(r.getIn([d,"signedUrl"]),r.getIn([d,"fileName"]))}},o.default.createElement(u.default,{type:"download"}),o.default.createElement("div",null,"下载")):o.default.createElement("a",null,o.default.createElement(u.default,{type:"download"}),o.default.createElement("div",null,"下载"))),o.default.createElement("button",{disabled:!(S&&"application/pdf"==S.get("mimeType")),onClick:function(){S&&"application/pdf"==S.get("mimeType")&&f.openLink({url:r.getIn([d,"signedUrl"])})}},o.default.createElement(u.default,{type:"printer"}),o.default.createElement("div",null,"打印")),o.default.createElement("button",{onClick:function(){return e.setState({idx:d+1,imgWpercent:0,rotate:0})},disabled:d===r.size-1},o.default.createElement(u.default,{type:"right-circle"}),o.default.createElement("div",null,"下一张"))),S&&"TRUE"===S.get("imageOrFile")&&n?o.default.createElement(m.default,{imgUrl:""+S.get("signedUrl"),imgWpercent:p,rotate:_,preview:n,maxLimit:C,minLimit:E}):"",S&&"application/pdf"===S.get("mimeType")&&n?o.default.createElement(g.default,{pdfUrl:""+S.get("signedUrl"),dispatch:c,magnificationRate:T,preview:n}):"",o.default.createElement("div",{className:"img-box",style:{display:S&&"application/pdf"!==S.get("mimeType")&&"TRUE"!==S.get("imageOrFile")?"":"none"}},o.default.createElement("div",{className:"img-box-contain"},o.default.createElement("div",{className:"img-box-contain-overflow"},o.default.createElement("div",{className:"noSupport"},o.default.createElement(u.default,{type:"file"}),o.default.createElement("p",null,"仅图片及PDF格式支持预览"))))),o.default.createElement("div",{className:"btnBar"},o.default.createElement("div",{className:"title"},"预览"),o.default.createElement("div",{onClick:l,className:"closeBtn"},o.default.createElement(u.default,{type:"close"}))))}}]),t}(),r.displayName="EnclosurePreview",r.propTypes={preview:c.default.bool,downloadPermission:c.default.bool,previewImgArr:c.default.instanceOf(s.List),closePreviewModal:c.default.func,dispatch:c.default.func,page:c.default.number,type:c.default.string},a=l))||a;t.default=C},1256:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(2),l=n.n(r),u=(n(21),n(1599));function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};t.default=function(e){return a.createElement(u.a,null,function(t){var n,r=t.getPrefixCls,u=e.prefixCls,s=e.type,d=void 0===s?"horizontal":s,f=e.orientation,g=void 0===f?"center":f,m=e.className,_=e.children,T=e.dashed,p=c(e,["prefixCls","type","orientation","className","children","dashed"]),C=r("divider",u),E=g.length>0?"-".concat(g):g,S=l()(m,C,"".concat(C,"-").concat(d),(o(n={},"".concat(C,"-with-text").concat(E),_),o(n,"".concat(C,"-dashed"),!!T),n));return a.createElement("div",i({className:S},p,{role:"separator"}),_&&a.createElement("span",{className:"".concat(C,"-inner-text")},_))})}},1257:function(e,t,n){"use strict";n.r(t);n(33),n(1360)},1258:function(e,t,n){},1260:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r,l,u=m(n(14)),i=m(n(37)),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(78),n(38);var c=m(n(1)),s=m(n(0)),d=n(17);n(1261);n(127),g(n(30));var f=g(n(1263));function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function m(e){return e&&e.__esModule?e:{default:e}}var _=(0,d.immutableRenderDecorator)((l=r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderPdf=function(e){var t=document.getElementById("canvas_wrapper");t.innerHTML="";var a=atob(e),r=window.PDFJS;if(!r)return n.setState({networkFaild:!0}),i.default.info("网路问题导致PDF预览相关文件加载失败",2);if(r.cMapUrl="https://cdn.jsdelivr.net/npm/pdfjs-dist@2.0.288/cmaps/",r.cMapPacked=!0,!r.getDocument)return n.setState({networkFaild:!0}),i.default.info("网路问题导致PDF预览相关文件加载失败",2);var l=r.getDocument({data:a}),u=n;l.promise.then(function(e){var n="";e.numPages;for(var a=0;a<e.numPages;a++)(n=document.createElement("canvas")).id="pdf_canvas_"+a,t.appendChild(n);for(var r=function(t){e.getPage(t+1).then(function(e){var n=e.getViewport(u.props.magnificationRate),a=document.getElementById("pdf_canvas_"+t);a.width=n.width,a.height=n.height;var r=a.getContext("2d");return e.render({canvasContext:r,viewport:n}).promise})},l=0;l<e.numPages;l++)r(l)}).catch(function(e){document.getElementById("canvas_wrapper").innerHTML="",u.setState({broken:!0})})},n.state={base64:"",broken:!1,networkFaild:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.default.Component),o(t,[{key:"componentDidMount",value:function(){var e=this;this.props.dispatch(f.getCxpzUploadEnclosure(this.props.pdfUrl,function(t){t&&(e.setState({base64:t,broken:!1}),e.renderPdf(t))}))}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.props.magnificationRate!==e.magnificationRate&&this.renderPdf(this.state.base64),this.props.pdfUrl!==e.pdfUrl&&this.props.dispatch(f.getCxpzUploadEnclosure(e.pdfUrl,function(e){e&&(t.setState({base64:e,broken:!1,networkFaild:!1}),t.renderPdf(e))}))}},{key:"render",value:function(){var e=this.props,t=(e.pdfUrl,e.dispatch,e.magnificationRate,this.state),n=t.broken,a=t.networkFaild;return c.default.createElement("div",{className:"img-box"},c.default.createElement("div",{className:"img-box-contain"},c.default.createElement("div",{className:"pdf-box-contain-overflow"},c.default.createElement("div",{className:"pdf_canvas_main"},c.default.createElement("div",{className:"pdf_canvas_pdf"},c.default.createElement("div",{id:"canvas_wrapper"}))),n?c.default.createElement("div",{className:"noSupport"},c.default.createElement(u.default,{type:"file"}),c.default.createElement("p",null,"PDF文件损坏，无法预览")):"",a?c.default.createElement("div",{className:"noSupport"},c.default.createElement(u.default,{type:"file"}),c.default.createElement("p",null,"网络异常，无法预览")):"")))}}]),t}(),r.displayName="PdfPreview",r.propTypes={pdfUrl:s.default.string,dispatch:s.default.func,magnificationRate:s.default.number},a=l))||a;t.default=_},1261:function(e,t,n){},1263:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCxpzUploadEnclosure=void 0;var a,r=n(31),l=(a=r)&&a.__esModule?a:{default:a},u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1246)),i=(n(18),n(22));t.getCxpzUploadEnclosure=function(e,t){return function(n){n({type:u.SWITCH_LOADING_MASK}),e.indexOf("xfn-ddy-annex-bucket.oss-accelerate")>0&&(e=e.replace("xfn-ddy-annex-bucket.oss-accelerate","xfn-ddy-annex-bucket.oss-cn-hangzhou-internal")),(0,l.default)("uploadGetEnclosure","POST",JSON.stringify({enclosureUrl:e}),function(e){(0,i.showMessage)(e)?t(e.data.enclosureFile):t(""),n({type:u.SWITCH_LOADING_MASK})})}}},1264:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r,l,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=c(n(1)),o=c(n(0));function c(e){return e&&e.__esModule?e:{default:e}}var s=(0,n(17).immutableRenderDecorator)((l=r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.drawImgScal=function(e,t,a,r){var l,u,i,o,c,s=t/100,d=a/100,f=r/100;l=n.refs.bargraphCanvas,u=l.getContext("2d"),(i=new Image).onload=function(){!0,g()},i.src=e;var g=function(){-f<=s&&s<=d&&(0===s?(o=i.width>960?960:i.width*Number(1+s),c=i.width>960?960*i.height/i.width:i.height*Number(1+s)):(o=i.width>960?960*Number(1+s):i.width*Number(1+s),c=i.width>960?960*i.height/i.width*Number(1+s):i.height*Number(1+s)),n.setState({imgHeight:c,imgWidth:o}),l.width=o,l.height=c,u.clearRect(0,0,o,c),u.drawImage(i,0,0,i.width,i.height,0,0,o,c))}},n.state={imgHeight:0,imgWidth:0},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),u(t,[{key:"componentDidMount",value:function(){this.drawImgScal(this.props.imgUrl,this.props.imgWpercent,this.props.maxLimit,this.props.minLimit)}},{key:"componentWillReceiveProps",value:function(e){this.props.imgUrl!==e.imgUrl&&this.drawImgScal(e.imgUrl,e.imgWpercent,this.props.maxLimit,this.props.minLimit),this.props.imgUrl===e.imgUrl&&this.props.imgWpercent!==e.imgWpercent&&this.drawImgScal(this.props.imgUrl,e.imgWpercent,this.props.maxLimit,this.props.minLimit)}},{key:"isVertail",value:function(e){return!(e<90)&&(90===e||e%180!=0)}},{key:"render",value:function(){var e=this.props,t=(e.imgUrl,e.imgWpercent,e.rotate),n=this.state,a=n.imgHeight,r=n.imgWidth,l=0,u=0;return this.isVertail(t)?(a>960&&(l=a-960),r>960&&(u=r-960)):(r>960&&(l=r-960),a>960&&(u=a/2+10)),i.default.createElement("div",{className:"img-box"},i.default.createElement("div",{className:"img-box-contain"},i.default.createElement("div",{className:"img-box-contain-overflow"},i.default.createElement("canvas",{ref:"bargraphCanvas",style:{transform:"rotate("+t+"deg)",marginLeft:l+"px",marginTop:u+"px",display:"block"}}))))}}]),t}(),r.displayName="ImgPreview",r.propTypes={imgUrl:o.default.string,imgWpercent:o.default.number,rotate:o.default.number,maxLimit:o.default.number,minLimit:o.default.number},a=l))||a;t.default=s},1270:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SWITCH_LOADING_MASK="SWITCH_LOADING_MASK",t.INIT_YLLS="INIT_YLLS",t.GET_YLLS_BUSINESS_DATA="GET_YLLS_BUSINESS_DATA",t.CANCEL_YLLS_VISIBLE="CANCEL_YLLS_VISIBLE"},1273:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SWITCH_LOADING_MASK="SWITCH_LOADING_MASK",t.INIT_ACCOUNTCONF="INIT_ACCOUNTCONF",t.GET_ACCOUNTCONF_ALL_SETTINGS="GET_ACCOUNTCONF_ALL_SETTINGS",t.GET_RUNNING_CATEGORY="GET_RUNNING_CATEGORY",t.GET_RUNNING_ACCOUNT="GET_RUNNING_ACCOUNT",t.GET_RUNNING_TAX_RATE="GET_RUNNING_TAX_RATE",t.CHANGE_ACCOUNTCONF_CURRENTPAGE="CHANGE_ACCOUNTCONF_CURRENTPAGE",t.BEFORE_INSERT_ACCOUNTCONF="BEFORE_INSERT_ACCOUNTCONF",t.BEFORE_MODIFY_ACCOUNTCONF_RUNNING_OLD="BEFORE_MODIFY_ACCOUNTCONF_RUNNING_OLD",t.CLOSE_ACCOUNTCONF_MODAL="CLOSE_ACCOUNTCONF_MODAL",t.ACCOUNTCONF_RUNNING_TRIANGLE_SWITCH="ACCOUNTCONF_RUNNING_TRIANGLE_SWITCH",t.ACCOUNTCONF_RUNNING_CHECKBOX_CHECK="ACCOUNTCONF_RUNNING_CHECKBOX_CHECK",t.SELECT_OR_UNSELECT_RUNNING_ALL="SELECT_OR_UNSELECT_RUNNING_ALL",t.SELECT_OR_UNSELECT_ACCOUNT_ALL="SELECT_OR_UNSELECT_ACCOUNT_ALL",t.ACCOUNTCONF_ACCOUNT_CHECKBOX_CHECK="ACCOUNTCONF_ACCOUNT_CHECKBOX_CHECK",t.ACCOUNTCONF_TAX_RATE_SETTING_SCALE="ACCOUNTCONF_TAX_RATE_SETTING_SCALE",t.SELECT_ACCOUNTCONF_UPPER_CATEGORY="SELECT_ACCOUNTCONF_UPPER_CATEGORY",t.CHANGE_ACCOUNTCONF_COMMON_STRING="CHANGE_ACCOUNTCONF_COMMON_STRING",t.CHANGE_ACCOUNTCONF_ACCOUNT_NUMBER="CHANGE_ACCOUNTCONF_ACCOUNT_NUMBER",t.SELECT_ACCOUNTCONF_ALL_AC="SELECT_ACCOUNTCONF_ALL_AC",t.SELECT_ACCOUNTCONF_MULTIPLE_AC="SELECT_ACCOUNTCONF_MULTIPLE_AC",t.AFTER_UPDATE_ACCOUNTCONF_RUNNING_CATEGORY="AFTER_UPDATE_ACCOUNTCONF_RUNNING_CATEGORY",t.AFTER_UPDATE_ACCOUNTCONF_ACCOUNT="AFTER_UPDATE_ACCOUNTCONF_ACCOUNT",t.CHANGE_ACCOUNTCONF_PROPERTY="CHANGE_ACCOUNTCONF_PROPERTY",t.CHANGE_ITEM_DISABLE_STATUS="CHANGE_ITEM_DISABLE_STATUS",t.GET_REGRET_CATEGORY="GET_REGRET_CATEGORY",t.CHANGE_REGRET_ACCOUNT_ACCOUNT_NAME="CHANGE_REGRET_ACCOUNT_ACCOUNT_NAME",t.CHANGE_REGRET_ACCOUNT_COMMON_STRING="CHANGE_REGRET_ACCOUNT_COMMON_STRING",t.CHANGE_REGRET_CANCLE="CHANGE_REGRET_CANCLE",t.SAVE_REGRET_MESSAGE="SAVE_REGRET_MESSAGE",t.CHANGE_LR_ACCOUNT_COMMON_STRING="CHANGE_LR_ACCOUNT_COMMON_STRING"},1274:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SWITCH_LOADING_MASK="SWITCH_LOADING_MASK",t.GET_BUSINESS_LIST="GET_BUSINESS_LIST",t.CHANGE_CX_ACCOUNT_COMMON_STRING="CHANGE_CX_ACCOUNT_COMMON_STRING",t.CXLS_ITEM_CHECKBOX_CHECK_ALL="CXLS_ITEM_CHECKBOX_CHECK_ALL",t.CXLS_ITEM_CHECKBOX_CHECK="CXLS_ITEM_CHECKBOX_CHECK",t.GET_CXLSCONF_ALL_SETTINGS="GET_CXLSCONF_ALL_SETTINGS",t.SET_CURRENT_PZ="SET_CURRENT_PZ",t.GET_ACCOUNTCONF_ALL_SETTINGS="GET_ACCOUNTCONF_ALL_SETTINGS",t.CALCULATE_FROM_CXLS_JUMP_TO_LRLS="CALCULATE_FROM_CXLS_JUMP_TO_LRLS",t.TRANSFER_OUT_FROM_CXLS_JUMP_TO_LRLS="TRANSFER_OUT_FROM_CXLS_JUMP_TO_LRLS",t.COST_TRANSFER_FROM_CXLS_JUMP_TO_LRLS="COST_TRANSFER_FROM_CXLS_JUMP_TO_LRLS",t.INVOICE_AUTH_FROM_CXLS_JUMP_TO_LRLS="INVOICE_AUTH_FROM_CXLS_JUMP_TO_LRLS",t.INVOICING_FROM_CXLS_JUMP_TO_LRLS="INVOICING_FROM_CXLS_JUMP_TO_LRLS",t.TRANSFER_OUT_FROM_CXLS_JUMP_TO_NBZZ="TRANSFER_OUT_FROM_CXLS_JUMP_TO_NBZZ",t.TRANSFER_OUT_FROM_CXLS_JUMP_TO_ZJTX="TRANSFER_OUT_FROM_CXLS_JUMP_TO_ZJTX",t.AFTER_SAVE_ACCOUNT_PAYMENT="AFTER_SAVE_ACCOUNT_PAYMENT",t.INIT_PAYMENT_STATE="INIT_PAYMENT_STATE",t.INIT_LR_ACCOUNT_SETTINGS="INIT_LR_ACCOUNT_SETTINGS",t.CALCULATE_CHANGE_QUERY="CALCULATE_CHANGE_QUERY",t.CHANGE_PZ_COMMON_STRING="CHANGE_PZ_COMMON_STRING",t.INIT_CXLS="INIT_CXLS",t.INIT_COMMON_CHARGE_FROM_CXLS="INIT_COMMON_CHARGE_FROM_CXLS",t.INIT_JZSY_FROM_CXLS="INIT_JZSY_FROM_CXLS",t.CXLS_CALCULATE_GAIN_OR_LOSS="CXLS_CALCULATE_GAIN_OR_LOSS"},1277:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SWITCH_LOADING_MASK="SWITCH_LOADING_MASK",t.ACCOUNT_CHANGE_VIEW_DIMENSION="ACCOUNT_CHANGE_VIEW_DIMENSION",t.GET_MANAGE_CATEGORY_DETAIL="GET_MANAGE_CATEGORY_DETAIL",t.GET_CALCULATE_LIST="GET_CALCULATE_LIST",t.GET_CALCULATE_INVOICING_LIST="GET_CALCULATE_INVOICING_LIST",t.GET_CALCULATE_CERTIFICATE_LIST="GET_CALCULATE_CERTIFICATE_LIST",t.GET_CALCULATE_COST_LIST="GET_CALCULATE_COST_LIST",t.CHANGE_CALCULATE_COMMON_STRING="CHANGE_CALCULATE_COMMON_STRING",t.CHANGE_ACCOUNT_AMOUNT_SUM="CHANGE_ACCOUNT_AMOUNT_SUM",t.CHANGE_ACCOUNT_COMMON_STRING="CHANGE_ACCOUNT_COMMON_STRING",t.CHANGE_ACCOUNT_ACCOUNT_NAME="CHANGE_ACCOUNT_ACCOUNT_NAME",t.BEFORE_RUNNING_PAY_OR_RECEIVE="BEFORE_RUNNING_PAY_OR_RECEIVE",t.ACCOUNT_ITEM_CHECKBOX_SELECT="ACCOUNT_ITEM_CHECKBOX_SELECT",t.PAY_RECEIVE_ITEM_CHECKBOX_CHECK_ALL="PAY_RECEIVE_ITEM_CHECKBOX_CHECK_ALL",t.INIT_RUNNING_BUSINESS_OR_PAY_CARD="INIT_RUNNING_BUSINESS_OR_PAY_CARD",t.MODIFY_RUNNING_PAYMENT="MODIFY_RUNNING_PAYMENT",t.SHOW_RELATE_PAYMENT_FETCH="SHOW_RELATE_PAYMENT_FETCH",t.CHANGE_ITEM_CHILD_SHOW="CHANGE_ITEM_CHILD_SHOW",t.CHANGE_TYPE_OF_SEARCH="CHANGE_TYPE_OF_SEARCH",t.INIT_SEARCH_CALCULATION="INIT_SEARCH_CALCULATION"},1278:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SWITCH_LOADING_MASK="SWITCH_LOADING_MASK",t.GET_BUSINESS_LIST="GET_BUSINESS_LIST",t.CHANGE_CX_ACCOUNT_COMMON_STRING="CHANGE_CX_ACCOUNT_COMMON_STRING",t.CXLS_ITEM_CHECKBOX_CHECK_ALL="CXLS_ITEM_CHECKBOX_CHECK_ALL",t.CXLS_ITEM_CHECKBOX_CHECK="CXLS_ITEM_CHECKBOX_CHECK",t.GET_CXLSCONF_ALL_SETTINGS="GET_CXLSCONF_ALL_SETTINGS",t.SET_CURRENT_PZ="SET_CURRENT_PZ",t.SHOW_RELATE_PAYMENT_FETCH="SHOW_RELATE_PAYMENT_FETCH",t.CHANGE_ITEM_CHILD_SHOW="CHANGE_ITEM_CHILD_SHOW",t.INIT_LR_ACCOUNT="INIT_LR_ACCOUNT",t.MODIFY_RUNNING_PAYMENT="MODIFY_RUNNING_PAYMENT"},1281:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=R(n(1234)),l=R(n(45)),u=R(n(100)),i=R(n(1230)),o=R(n(1366)),c=R(n(37)),s=R(n(14)),d=R(n(47)),f=R(n(32)),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(1235),n(55),n(99),n(1231),n(1356),n(38),n(78),n(46),n(51);var m=R(n(1)),_=n(17),T=n(18),p=n(127),C=R(n(6)),E=b(n(27)),S=n(482),A=n(22),y=n(1330),N=n(1331),I=b(n(1243)),L=b(n(1239)),h=b(n(1245));n(1332);var v=R(n(1250)),O=n(43);function b(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function R(e){return e&&e.__esModule?e:{default:e}}var M=(0,_.immutableRenderDecorator)(a=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.onChangeActiveKey=function(){return e.setState({activeKey:e.state.activeKey.length>0?[]:["1"]})},e.state={activeKey:["1"],deleteModal:!1,tagModal:!1,tagValue:"无标签",currentIdx:"",preview:!1,rotate:0,page:0,wpercent:1,manageModal:!1,carryoverModal:!1,invioceModal:!1,defineModal:!1,jzsyModal:!1,isSeleck:!1,deleteHasFj:!1},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,m.default.Component),g(t,[{key:"render",value:function(){var e=this,t=this.props,n=(t.yllsVisible,t.dispatch),a=t.onClose,g=(t.yllsState,t.editLrAccountPermission),_=t.panes,b=t.lsItemData,R=t.uuidList,M=t.showDrawer,D=t.refreshList,G=t.lryl,U=t.isClose,P=t.fromCxls,F=t.curItem,B=(t.intelligentStatus,t.magenerType),w=t.contactsCardRange,Y=t.categoryTypeObj,J=t.issuedate,Z=t.inputValue,H=t.simplifyStatus,k=t.editPzPermission,x=t.reviewLrAccountPermission,X=t.projectList,j=this.state,K=j.activeKey,W=(j.tagValue,j.currentIdx,j.preview),z=(j.tagModal,j.rotate,j.page),V=(j.wpercent,j.manageModal),Q=j.carryoverModal,q=j.invioceModal,$=j.defineModal,ee=(j.deleteModal,j.jzsyModal),te=(j.isSeleck,j.deleteHasFj,this.props.modalTemp?this.props.modalTemp:(0,T.fromJS)({})),ne=this.props.accountList?this.props.accountList:(0,T.fromJS)({}),ae=[],re=void 0,le=void 0;b&&b.get("vcList")&&b.get("vcList").map(function(e,t){ae.push(e.get("vcIndex")),re=e.get("year"),le=e.get("month")});var ue=H?k:x,ie=function(e){return(0,S.beforejumpCxToLr)(e,_,d.default)},oe=b.get("beBusiness"),ce=b.get("runningState"),se=b.get("categoryType"),de=(b.get("debitAmount"),b.get("creditAmount"),b.get("parentCategoryList")),fe=b.get("categoryName")?b.get("categoryName"):"",ge=(S.categoryTypeName[b.get("categoryType")]&&S.categoryTypeName[b.get("categoryType")],S.runningStateType[b.get("runningState")]?S.runningStateType[b.get("runningState")]:""),me=("LB_FYZC"===b.get("categoryType")||b.get("categoryType"),b.get("parentUuid")?b.get("parentUuid"):b.get("uuid")),_e=({LB_YYSR:function(){return m.default.createElement(y.Yysz,{lsItemData:b,activeKey:K,onChangeActiveKey:e.onChangeActiveKey})},LB_YYZC:function(){return m.default.createElement(y.Yysz,{lsItemData:b,activeKey:K,onChangeActiveKey:e.onChangeActiveKey})},LB_FYZC:function(){return m.default.createElement(y.Fyzc,{lsItemData:b,activeKey:K,onChangeActiveKey:e.onChangeActiveKey})},LB_XCZC:function(){return m.default.createElement(y.Xczc,{lsItemData:b,activeKey:K,onChangeActiveKey:e.onChangeActiveKey})},LB_SFZC:function(){return m.default.createElement(y.Sfzc,{lsItemData:b,activeKey:K,onChangeActiveKey:e.onChangeActiveKey})},LB_CQZC:function(){return m.default.createElement(y.Cqzc,{lsItemData:b,activeKey:K,onChangeActiveKey:e.onChangeActiveKey})},LB_YYWSR:function(){return m.default.createElement(y.Yywsz,{lsItemData:b,activeKey:K,onChangeActiveKey:e.onChangeActiveKey})},LB_YYWZC:function(){return m.default.createElement(y.Yywsz,{lsItemData:b,activeKey:K,onChangeActiveKey:e.onChangeActiveKey})},LB_ZSKX:function(){return m.default.createElement(y.Zszf,{lsItemData:b,activeKey:K,onChangeActiveKey:e.onChangeActiveKey})},LB_ZFKX:function(){return m.default.createElement(y.Zszf,{lsItemData:b,activeKey:K,onChangeActiveKey:e.onChangeActiveKey})},LB_JK:function(){return m.default.createElement(y.JkTzZb,{lsItemData:b,activeKey:K,onChangeActiveKey:e.onChangeActiveKey})},LB_TZ:function(){return m.default.createElement(y.JkTzZb,{lsItemData:b,activeKey:K,onChangeActiveKey:e.onChangeActiveKey})},LB_ZB:function(){return m.default.createElement(y.JkTzZb,{lsItemData:b,activeKey:K,onChangeActiveKey:e.onChangeActiveKey})},LB_ZZ:function(){return m.default.createElement(N.Nbzz,{lsItemData:b,activeKey:K,onChangeActiveKey:e.onChangeActiveKey})},LB_ZJTX:function(){return m.default.createElement(N.Zjtx,{lsItemData:b,activeKey:K,onChangeActiveKey:e.onChangeActiveKey})},LB_JZCB:function(){return m.default.createElement(N.Jzcb,{lsItemData:b,activeKey:K,onChangeActiveKey:e.onChangeActiveKey})},LB_GGFYFT:function(){return m.default.createElement(N.Xmft,{lsItemData:b,activeKey:K,onChangeActiveKey:e.onChangeActiveKey})},LB_ZCWJZZS:function(){return m.default.createElement(N.Zcwjzzs,{lsItemData:b,activeKey:K,onChangeActiveKey:e.onChangeActiveKey})},LB_KJFP:function(){return m.default.createElement(N.FpKr,{lsItemData:b,activeKey:K,onChangeActiveKey:e.onChangeActiveKey})},LB_FPRZ:function(){return m.default.createElement(N.FpKr,{lsItemData:b,activeKey:K,onChangeActiveKey:e.onChangeActiveKey})},LB_JZSY:function(){return m.default.createElement(N.Jzsy,{lsItemData:b,activeKey:K,onChangeActiveKey:e.onChangeActiveKey})}}[se]||function(){return m.default.createElement(y.Other,{lsItemData:b,activeKey:K,onChangeActiveKey:e.onChangeActiveKey})})(),Te=void 0;if(oe){var pe="其他流水"===de.get(0)&&de.size>1?de.slice(1):"其他流水"!==de.get(0)?de:[];Te="LB_ZJTX"===se?"长期资产折旧摊销":b.get("propertyCost")&&"LB_XCZC"!==se&&"LB_FYZC"!==se||b.get("assetType")&&"LB_CQZC"===se?""+pe.reduce(function(e,t){return e+t+"_"},"")+fe:"LB_JZSY"===se?"长期资产处置损益":""+pe.reduce(function(e,t){return e+t+"_"},"")+fe+(ge?"("+ge+")":"")}else Te="收付管理";var Ce=b.get("enclosureList")?b.get("enclosureList").filter(function(e){return"TRUE"===e.get("imageOrFile")||"application/pdf"==e.get("mimeType")}):(0,T.fromJS)([]);return m.default.createElement("div",null,m.default.createElement(o.default,{className:"ylls-wrap",width:479,placement:"right",closable:!1,onClose:a,visible:!0,mask:!1},m.default.createElement("div",{className:"ylls-title"},m.default.createElement("span",{className:"ylls-title-text"},"查看流水"),m.default.createElement("span",{onClick:a,className:"ylls-title-icon"},m.default.createElement(s.default,{type:"close"}))),m.default.createElement("div",{className:"ylls-opration-wrap"},P?m.default.createElement("div",{key:"z4",className:"ylls-title-btn"},m.default.createElement(f.default,{type:"ghost",className:"handle-btn",disabled:!ue||U,onClick:function(){b.get("beCertificate")?n(L.deleteVcItemFetch(re,le,ae,J,Z,!0,D,F,M)):n(L.runningInsertVc((0,T.fromJS)([{uuid:F.get("parentUuid")?F.get("parentUuid"):F.get("uuid"),flowNumber:F.get("flowNumber")}]),"Business",J,Z,!0,D,F,M))}},b.get("beCertificate")?H?"删除凭证":"反审核":H?"生成凭证":"审核")):"",P?function(t){t.get("waitReceiving"),t.get("waitPaying");var a=t.get("makeOut"),r=t.get("carryover"),l=t.get("certified"),u=t.get("received"),i=t.get("receiving"),o=(t.get("turnOut"),t.get("payed")),c=t.get("paying"),s=t.get("shouldReturn"),d=t.get("runningType"),_=[];switch(c){case"1":case"3":_.push(m.default.createElement("div",{key:"z3",className:"ylls-title-btn"},m.default.createElement(f.default,{type:"ghost",className:"handle-btn",disabled:!g,onClick:function(){n(L.getBusinessManagerModal(t,function(){e.setState({manageModal:!0})},"credit"))}},"付款")))}switch(u){case"1":case"3":_.push(m.default.createElement("div",{key:"c3",className:"ylls-title-btn"},m.default.createElement(f.default,{type:"ghost",className:"handle-btn",disabled:!g,onClick:function(){n(L.getBusinessManagerModal(t,function(){e.setState({manageModal:!0})},"debit"))}},"退款")))}switch(o){case"1":case"3":_.push(m.default.createElement("div",{key:"d3",className:"ylls-title-btn"},m.default.createElement(f.default,{type:"ghost",className:"handle-btn",disabled:!g,onClick:function(){n(L.getBusinessManagerModal(t,function(){e.setState({manageModal:!0})},"debit"))}},"退款")))}switch(i){case"1":case"3":_.push(m.default.createElement("div",{key:"e3",className:"ylls-title-btn"},m.default.createElement(f.default,{type:"ghost",className:"handle-btn",disabled:!g,onClick:function(){n(L.getBusinessManagerModal(t,function(){e.setState({manageModal:!0})},"debit"))}},"收款")))}switch(s){case"1":case"3":_.push(m.default.createElement("div",{key:"f3",className:"ylls-title-btn"},m.default.createElement(f.default,{type:"ghost",className:"handle-btn",disabled:!g,onClick:function(){n(L.getBusinessManagerModal(t,function(){e.setState({manageModal:!0})},"credit"))}},"退")))}return 1==a&&_.push(m.default.createElement(f.default,{type:"ghost",className:"handle-btn",disabled:!g,onClick:function(){n(L.getBusinessInvioceModal(t,function(){e.setState({invioceModal:!0})}))}},"开票")),1==r&&"LX_ZZS_YKP"!==d&&"LX_ZZS_WKP"!==d&&"LX_ZZS_YRZ"!==d&&"LX_ZZS_WRZ"!==d?_.push(m.default.createElement("div",{className:"ylls-title-btn"},m.default.createElement(f.default,{type:"ghost",className:"handle-btn",disabled:!g,onClick:function(){n("LB_CQZC"===se?L.getBusinessJzsyModal(t,function(){e.setState({jzsyModal:!0})}):L.getBusinessCarryoverModal(t,function(){e.setState({carryoverModal:!0})}))}},"结转"))):1==r&&"LB_CQZC"===se&&m.default.createElement("div",{className:"ylls-title-btn"},m.default.createElement(f.default,{type:"ghost",className:"handle-btn",disabled:!g,onClick:function(){n(L.getBusinessJzsyModal(t,function(){e.setState({jzsyModal:!0})}))}},"结转")),1==l&&_.push(m.default.createElement(f.default,{type:"ghost",className:"handle-btn",disabled:!g,onClick:function(){n(L.getBusinessDefineModal(t,function(){e.setState({defineModal:!0})}))}},"认证")),_}(b):"",m.default.createElement("span",{className:R.some(function(e,t){return(e.get("parentUuid")?e.get("parentUuid"):e.get("uuid"))===me&&0===t})?"ylls-opration-icon-disabled":"ylls-opration-icon",onClick:function(){if(!R.some(function(e,t){return(e.get("parentUuid")?e.get("parentUuid"):e.get("uuid"))===me&&0===t})){var e=R.findIndex(function(e){return(e.get("parentUuid")?e.get("parentUuid"):e.get("uuid"))===me})-1;n(I.getYllsBusinessData(R.get(e),M))}}},m.default.createElement(s.default,{type:"left-square"})),m.default.createElement("span",{className:R.some(function(e,t){return(e.get("parentUuid")?e.get("parentUuid"):e.get("uuid"))===me&&t===R.size-1})?"ylls-opration-icon-disabled":"ylls-opration-icon",onClick:function(){if(!R.some(function(e,t){return(e.get("parentUuid")?e.get("parentUuid"):e.get("uuid"))===me&&t===R.size-1})){var e=R.findIndex(function(e){return(e.get("parentUuid")?e.get("parentUuid"):e.get("uuid"))===me})+1;n(I.getYllsBusinessData(R.get(e),M))}}},m.default.createElement(s.default,{type:"right-square"})),m.default.createElement("span",{className:g?"ylls-opration-icon":"ylls-opration-icon-disabled",onClick:function(){g&&(a(),oe||"STATE_ZZ"===ce?"STATE_YYSR_JZCB"===ce?ie(function(){return n(L.jumpCalculateCxToLr(b,"modify","LB_JZCB",R))}):"STATE_FPRZ_CG"===ce||"STATE_FPRZ_TG"===ce?ie(function(){return n(L.jumpCalculateCxToLr(b,"modify","LB_FPRZ",R))}):"STATE_KJFP_XS"===ce||"STATE_KJFP_TS"===ce?ie(function(){return n(L.jumpCalculateCxToLr(b,"modify","LB_KJFP",R))}):"STATE_ZCWJZZS"===ce?ie(function(){return n(L.jumpCalculateCxToLr(b,"modify","LB_ZCWJZZS",R))}):"STATE_ZZ"===ce?ie(function(){return n(L.jumpCalculateCxToLr(b,"modify","LB_ZZ",R))}):"STATE_CQZC_ZJTX"===ce?ie(function(){return n(L.jumpCalculateCxToLr(b,"modify","LB_ZJTX",R))}):"STATE_GGFYFT"===ce?ie(function(){return n(L.jumpCommonCharge(b,R))}):"STATE_CQZC_JZSY"===ce?ie(function(){return n(L.getInitLraccountJzsy(b,R))}):n(h.getRunningBusinessDuty(b.get("flowNumber"),b.get("uuid"),R)):n(L.getBusinessPayment(b,"",R)))}},m.default.createElement(p.XfnIcon,{type:"sob-edit",disabled:!g,style:{fontSize:"22px",position:"relative",top:"1px"}})),G?"":m.default.createElement("span",{className:g&&!U?"ylls-opration-icon":"ylls-opration-icon-disabled",onClick:function(){if(g&&!U)if(R.some(function(e,t){return(e.get("parentUuid")?e.get("parentUuid"):e.get("uuid"))===me&&t===R.size-1}))n(L.deleteSingleFlow(me,function(){a(),D()}));else{var e=R.findIndex(function(e){return(e.get("parentUuid")?e.get("parentUuid"):e.get("uuid"))===me})+1;n(L.deleteSingleFlow(me,function(){n(I.getYllsBusinessData(R.get(e),function(){D()}))}))}}},m.default.createElement(p.XfnIcon,{type:"sob-delete"}))),m.default.createElement("div",{className:"ylls-drawer-content"},m.default.createElement("ul",{className:"ylls-item-detail"},m.default.createElement("li",null,m.default.createElement("span",null,"流水号："),m.default.createElement("span",null,b.get("flowNumber"))),m.default.createElement("li",null,m.default.createElement("span",null,"日期："),m.default.createElement("span",null,b.get("runningDate"))),m.default.createElement("li",null,m.default.createElement("span",null,"类别："),m.default.createElement("span",null,Te))),oe?_e:m.default.createElement(N.Sfgl,{lsItemData:b,activeKey:K,onChangeActiveKey:this.onChangeActiveKey}),m.default.createElement("div",{style:{overflow:"hidden"}},(b.get("enclosureList")||[]).map(function(t,a){return m.default.createElement("div",{className:"upload",key:a},m.default.createElement("div",{className:"plus",onClick:function(){if("TRUE"===t.get("imageOrFile")||"application/pdf"==t.get("mimeType")){var n=0;Ce.forEach(function(e,a){t.get("enclosurePath")!==e.get("enclosurePath")||(n=a)}),e.setState({preview:!0,rotate:0,page:n})}else c.default.warn("仅图片及PDF格式支持预览")}},m.default.createElement("img",{src:(0,A.showImg)(t.get("imageOrFile"),t.get("fileName"))})),m.default.createElement("div",null,m.default.createElement("p",null,t.get("fileName")),m.default.createElement("span",null,t.get("size")>=1024?(t.get("size")/1024).toFixed(2)+"M":t.get("size")+"kb"),m.default.createElement("span",{style:{display:g?"":"none"},onClick:function(){return n(L.cxlsDownloadEnclosure(t.get("signedUrl"),t.get("fileName")))}},m.default.createElement(s.default,{type:"download"})),"无标签"===t.get("label")?"":m.default.createElement("span",{className:"tag"},t.get("label"))))})),m.default.createElement(v.default,{page:z,dispatch:n,preview:W,downloadPermission:g,previewImgArr:Ce,downloadEnclosure:function(e,t){return n((0,O.allDownloadEnclosure)(e,t))},closePreviewModal:function(){return e.setState({preview:!1})},type:"ls"}))),m.default.createElement(d.default,{visible:V,onCancel:function(){e.setState({manageModal:!1}),n(L.changeCxAccountCommonOutString("modalTemp",(0,T.fromJS)({runningDate:(0,A.formatDate)()})))},className:"single-manager",title:("debit"===B?"收款":"付款")+"核销",okText:"保存",onOk:function(){n(L.insertlrAccountManagerModal(function(){e.setState({manageModal:!1}),n(I.getYllsBusinessData(b,M))},Y))}},m.default.createElement("div",{className:"manager-content"},m.default.createElement("div",null,m.default.createElement("label",null,"往来单位："),(w&&w.get("code"))+" "+(w&&w.get("name"))),m.default.createElement("div",{className:"manager-item"},m.default.createElement("label",null,"日期："),m.default.createElement(i.default,{allowClear:!1,value:te.get("runningDate")?(0,C.default)(te.get("runningDate")):"",onChange:function(e){var t=e.format("YYYY-MM-DD");n(L.changeCxAccountCommonOutString(["modalTemp","runningDate"],t))}})),m.default.createElement("div",{className:"manager-item"},m.default.createElement("label",null,"摘要："),m.default.createElement(u.default,{value:te.get("runningAbstract"),onChange:function(e){n(L.changeCxAccountCommonOutString(["modalTemp","runningAbstract"],e.target.value))}})),m.default.createElement("div",{className:"manager-item"},m.default.createElement("label",null,("debit"===B?"收款":"付款")+"金额："),m.default.createElement(u.default,{value:te.get("handlingAmount"),onChange:function(e){(0,A.numberTest)(e,function(e){n(L.changeCxAccountCommonOutString(["modalTemp","handlingAmount"],e))})}})),m.default.createElement("div",{className:"manager-item"},m.default.createElement("label",null,"账户："),m.default.createElement(l.default,{value:te.get("accountName"),onChange:function(e){var t=e.split(E.TREE_JOIN_STR)[0];e.split(E.TREE_JOIN_STR)[1];n(L.changeCxAccountCommonOutString(["modalTemp","accountName"],e)),n(L.changeCxAccountCommonOutString(["modalTemp","accountUuid"],t))}},ne.getIn([0,"childList"])?ne.getIn([0,"childList"]).map(function(e,t){return m.default.createElement(Option,{key:t,value:""+e.get("uuid")+E.TREE_JOIN_STR+e.get("name")},e.get("name"))}):[])))),m.default.createElement(d.default,{visible:Q,onCancel:function(){e.setState({carryoverModal:!1}),n(L.changeCxAccountCommonOutString("modalTemp",(0,T.fromJS)({runningDate:(0,A.formatDate)()})))},className:"single-manager",title:"成本结转",okText:"保存",onOk:function(){n(L.insertlrAccountCarryoverModal(function(){e.setState({carryoverModal:!1}),n(I.getYllsBusinessData(b,M))},Y))}},m.default.createElement("div",{className:"manager-content"},m.default.createElement("div",{className:"manager-item"},m.default.createElement("label",null,"日期："),m.default.createElement(i.default,{allowClear:!1,value:te.get("runningDate")?(0,C.default)(te.get("runningDate")):"",onChange:function(e){var t=e.format("YYYY-MM-DD");n(L.changeCxAccountCommonOutString(["modalTemp","runningDate"],t))}})),m.default.createElement("div",{className:"manager-item"},m.default.createElement("label",null,"摘要："),m.default.createElement(u.default,{value:te.get("runningAbstract"),onChange:function(e){n(L.changeCxAccountCommonOutString(["modalTemp","runningAbstract"],e.target.value))}})),m.default.createElement("div",{className:"manager-item"},m.default.createElement("label",null,"金额："),m.default.createElement(u.default,{value:te.get("carryoverAmount"),onChange:function(e){(0,A.numberTest)(e,function(e){n(L.changeCxAccountCommonOutString(["modalTemp","carryoverAmount"],e))})}})))),m.default.createElement(d.default,{visible:q,onCancel:function(){e.setState({invioceModal:!1}),n(L.changeCxAccountCommonOutString("modalTemp",(0,T.fromJS)({runningDate:(0,A.formatDate)()})))},className:"single-manager",title:"开具发票",okText:"保存",onOk:function(){n(L.insertlrAccountInvioceModal(function(){e.setState({invioceModal:!1}),n(I.getYllsBusinessData(b,M))},Y))}},m.default.createElement("div",{className:"manager-content"},m.default.createElement("div",{className:"manager-item"},m.default.createElement("label",null,"日期："),m.default.createElement(i.default,{allowClear:!1,value:te.get("runningDate")?(0,C.default)(te.get("runningDate")):"",onChange:function(e){var t=e.format("YYYY-MM-DD");n(L.changeCxAccountCommonOutString(["modalTemp","runningDate"],t))}})),m.default.createElement("div",{className:"manager-item"},m.default.createElement("label",null,"摘要："),m.default.createElement(u.default,{value:te.get("runningAbstract"),onChange:function(e){n(L.changeCxAccountCommonOutString(["modalTemp","runningAbstract"],e.target.value))}})))),m.default.createElement(d.default,{visible:$,onCancel:function(){e.setState({defineModal:!1}),n(L.changeCxAccountCommonOutString("modalTemp",(0,T.fromJS)({runningDate:(0,A.formatDate)()})))},className:"single-manager",title:"发票认证",okText:"保存",onOk:function(){n(L.insertlrAccountInvioceDefineModal(function(){e.setState({defineModal:!1}),n(I.getYllsBusinessData(b,M))},Y))}},m.default.createElement("div",{className:"manager-content"},m.default.createElement("div",{className:"manager-item"},m.default.createElement("label",null,"日期："),m.default.createElement(i.default,{allowClear:!1,value:te.get("runningDate")?(0,C.default)(te.get("runningDate")):"",onChange:function(e){var t=e.format("YYYY-MM-DD");n(L.changeCxAccountCommonOutString(["modalTemp","runningDate"],t))}})),m.default.createElement("div",{className:"manager-item"},m.default.createElement("label",null,"摘要："),m.default.createElement(u.default,{value:te.get("runningAbstract"),onChange:function(e){n(L.changeCxAccountCommonOutString(["modalTemp","runningAbstract"],e.target.value))}})))),m.default.createElement(d.default,{visible:ee,onCancel:function(){e.setState({jzsyModal:!1}),n(L.changeCxAccountCommonOutString("modalTemp",(0,T.fromJS)({runningDate:(0,A.formatDate)()})))},className:"single-manager",title:"结转损益",okText:"保存",onOk:function(){n(L.insertlrAccountJzsyModal(function(){return e.setState({jzsyModal:!1})}))}},m.default.createElement("div",{className:"manager-content"},m.default.createElement("div",{className:"manager-item"},m.default.createElement("label",null,"日期："),m.default.createElement(i.default,{allowClear:!1,value:te.get("runningDate")?(0,C.default)(te.get("runningDate")):"",onChange:function(e){var t=e.format("YYYY-MM-DD");n(L.changeCxAccountCommonOutString(["modalTemp","runningDate"],t))}}),b&&b.get("beProject")?m.default.createElement(r.default,{className:"use-unuse-style",style:{marginLeft:".2rem"},checked:te.get("usedProject"),checkedChildren:"项目",onChange:function(){n(L.changeCxAccountCommonOutString(["modalTemp","usedProject"],!te.get("usedProject")))}}):""),m.default.createElement("div",{className:"manager-item"},m.default.createElement("label",null,"摘要："),m.default.createElement(u.default,{value:te.get("runningAbstract"),onChange:function(e){n(L.changeCxAccountCommonOutString(["modalTemp","runningAbstract"],e.target.value))}})),te.get("usedProject")?m.default.createElement("div",{className:"manager-item"},m.default.createElement("label",null,"项目："),m.default.createElement(l.default,{combobox:!0,showSearch:!0,value:(te.getIn(["projectCard","code"])?te.getIn(["projectCard","code"]):"")+" "+(te.getIn(["projectCard","name"])?te.getIn(["projectCard","name"]):""),onChange:function(e){var t=e.split(E.TREE_JOIN_STR),a=t[0],r=t[1],l=t[2];n(L.changeCxAccountCommonOutString(["modalTemp","projectCard"],(0,T.fromJS)({uuid:a,code:r,name:l})))}},X&&X.map(function(e,t){return m.default.createElement(Option,{key:t,value:""+e.get("uuid")+E.TREE_JOIN_STR+e.get("code")+E.TREE_JOIN_STR+e.get("name")},e.get("code")+" "+e.get("name"))}))):"",m.default.createElement("div",{className:"manager-item"},m.default.createElement("label",null,te.get("netProfitAmount")>0?"净收益金额：":"净损失金额："),te.get("netProfitAmount")>0?te.get("netProfitAmount"):te.get("lossAmount")),m.default.createElement("div",{className:"manager-item"},m.default.createElement("label",null,"资产原值："),m.default.createElement(u.default,{value:te.getIn(["acAssets","originalAssetsAmount"]),onChange:function(e){(0,A.numberTest)(e,function(e){n(L.changeCxAccountCommonOutString(["modalTemp","acAssets","originalAssetsAmount"],e)),n(L.calculateGainForJzsy())})}})),m.default.createElement("div",{className:"manager-item"},m.default.createElement("label",null,"累计折旧摊销："),m.default.createElement(u.default,{value:te.getIn(["acAssets","depreciationAmount"]),onChange:function(e){(0,A.numberTest)(e,function(e){n(L.changeCxAccountCommonOutString(["modalTemp","acAssets","depreciationAmount"],e)),n(L.calculateGainForJzsy())})}})),m.default.createElement("div",{className:"manager-item"},m.default.createElement("label",null,"处置金额："),F?(0,A.formatMoney)(F.get("amount")-F.get("tax")):""))))}}]),t}())||a;t.default=M},1292:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(1),i=(r=u)&&r.__esModule?r:{default:r},o=n(17),c=n(22);var s=(0,o.immutableRenderDecorator)(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),l(t,[{key:"render",value:function(){var e=this.props.itemData,t=e.get("tax"),n=e.get("taxRate"),a=(e.get("billStates"),e.get("billType")),r=a?"bill_other"===a?"其他票据":{bill_common:"发票(税额"+(0,c.formatMoney)(t,2,"")+"，税率"+n+"%)",bill_special:"增值税发票(税额"+(0,c.formatMoney)(t,2,"")+"，税率"+n+"%)"}[a]:"";return a?i.default.createElement("li",null,i.default.createElement("span",null,"票据："),i.default.createElement("span",null,r)):""}}]),t}())||a;t.default=s},1293:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=s(n(14)),l=s(n(1272)),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(78),n(1271);var i=s(n(1)),o=n(17),c=n(22);function s(e){return e&&e.__esModule?e:{default:e}}var d=l.default.Panel,f=(0,o.immutableRenderDecorator)(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),u(t,[{key:"render",value:function(){var e=this.props,t=e.title,n=(e.lsItemData,e.activeKey),a=e.onChangeActiveKey,u=e.itemList,o=e.amountStr,s=e.amountStr2,f=i.default.createElement("div",{className:n.length>0?"ylls-item-child-title":"ylls-item-child-title-no"},i.default.createElement("span",null,t),i.default.createElement("span",null,n.length>0?"收起":"展开",i.default.createElement(r.default,{type:n.length>0?"up":"down"})));return i.default.createElement("div",{className:"ylls-item-child-list"},u&&u.size?i.default.createElement(l.default,{bordered:!1,activeKey:n,onChange:a},i.default.createElement(d,{showArrow:!1,header:f,key:"1"},i.default.createElement("ul",null,u.map(function(e,t){return i.default.createElement("li",{className:"ylls-item-child-item",key:t},i.default.createElement("div",null,i.default.createElement("span",null,""+e.get("categoryName")),i.default.createElement("span",null,"流水号：",e.get("flowNumber"))),i.default.createElement("div",null,i.default.createElement("span",null,"金额"),i.default.createElement("span",null,"amount-tax"===o?(0,c.formatMoney)(Number(e.get("amount"))-Number(e.get("tax")),2,""):o?(0,c.formatMoney)(e.get(o)?e.get(o):e.get(s),2,""):(0,c.formatMoney)(e.get("handleAmount"),2,""))))})))):"")}}]),t}())||a;t.default=f},1294:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.changeMessageMask=t.importProgress=t.afterModifyAssetsCard=t.showAssetsCardOption=t.showAssetsCard=t.cancelAssDisableModal=t.showAssDisableModal=t.closeAssetsImportContent=t.afterAssetsImport=t.beforeAssetsImport=t.getFileUploadFetch=t.deleteSort=t.closeDeleteSortModal=t.showDeleteSortModal=t.selectAllSortButton=t.selectOneSortButton=t.deleteCard=t.closeDeleteModal=t.showDeleteModal=t.selectAllCardButton=t.selectOneCardButton=t.changeTabSelectedIndex=t.cancelClearCard=t.clearCardFetch=t.copyCardMxbFetch=t.copyCardFetch=t.enterCard=t.changeCardSalvage=t.changeCardCardValue=t.changeCardTotalMonth=t.changeCardStartTime=t.selectCardAssetsOrClass=t.changeCardCardNumber=t.changeCardCardName=t.getCardNumberFetch=t.enterAssetsClassFetch=t.beforeModefyClassification=t.beforeInsertClassification=t.clearClassification=t.selectAssetsAss=t.selectAssetsAc=t.changeAssetsClassRemark=t.changeAssetsClassSalvage=t.changeAssetsClassTotalMonth=t.changeAssetsclassName=t.changeAssetsclassNumber=t.getCardDetailFetch=t.selectAssetsClassAll=t.selectAssetsClass=t.changeClassAssetsModeDisplay=t.changeClassificationModalDisplay=t.changeAssetschildshow=t.getCardListByLabelFetch=t.getCardListFetch=t.assetsSortByStatusOrValue=t.addNewCardLable=t.changeCardLables=t.changeCardRemark=t.getAssetsListFetch=void 0;var a=s(n(37));n(38);var r=c(n(1512)),l=s(n(31)),u=(n(18),n(22)),i=c(n(30)),o=(c(n(60)),c(n(1414)));function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function s(e){return e&&e.__esModule?e:{default:e}}var d=t.getAssetsListFetch=function(){return function(e){e({type:r.SWITCH_LOADING_MASK}),(0,l.default)("initclassification","GET","",function(t){(0,u.showMessage)(t)&&(e({type:r.GET_ASSESTS_LIST_FETCH,receivedData:t.data}),(0,l.default)("getlabelList","GET","",function(t){(0,u.showMessage)(t)&&e({type:r.GET_ASSESTS_TREE_FETCH,receivedData:t.data})}),(0,l.default)("getSortList","GET","",function(t){(0,u.showMessage)(t)&&e({type:r.GET_SORT_LIST_FETCH,receivedData:t.data})})),e({type:r.SWITCH_LOADING_MASK})})}},f=(t.changeCardRemark=function(e){return{type:r.CHANGE_CARD_REMARK,remark:e}},t.changeCardLables=function(e){return{type:r.CHANGE_CARD_LABLES,lables:e}},t.addNewCardLable=function(e){return{type:r.ADD_NEW_CARD_LABLE,newLable:e}},t.assetsSortByStatusOrValue=function(e,t){return function(n,a){var r=a().assetsState.getIn(["flags","assetsCardGetBy"]),l=(a().assetsState.get("currentSelectedTitle"),a().assetsState.get("currentSelectedKeys"));n("number"==r?f(l.get(0),e,t):g(l.get(0),e,t))}},t.getCardListFetch=function(e,t,n){return function(a,i){void 0===t&&(t=i().assetsState.getIn(["flags","sortByValue"]),n=i().assetsState.getIn(["flags","sortByStatus"])),a({type:r.SWITCH_LOADING_MASK}),(0,l.default)("getcardlist","POST",JSON.stringify({serialNumber:e,sortByValue:t,sortByStatus:n}),function(l){(0,u.showMessage)(l)&&a({type:r.GET_CARD_LIST_FETCH,receivedData:l.data,number:e,sortByValue:t,sortByStatus:n,assetsCardGetBy:"number"}),a({type:r.SWITCH_LOADING_MASK})})}}),g=t.getCardListByLabelFetch=function(e,t,n){return function(a,i){void 0===t&&(t=i().assetsState.getIn(["flags","sortByValue"]),n=i().assetsState.getIn(["flags","sortByStatus"])),a({type:r.SWITCH_LOADING_MASK}),(0,l.default)("getcardlistbylabel","POST",JSON.stringify({label:e,sortByValue:t,sortByStatus:n}),function(l){(0,u.showMessage)(l)&&a({type:r.GET_CARD_LIST_FETCH,receivedData:l.data,number:e,sortByValue:t,sortByStatus:n,assetsCardGetBy:"label"}),a({type:r.SWITCH_LOADING_MASK})})}},m=(t.changeAssetschildshow=function(e){return{type:r.CHANGE_ASSETSCHILDSHOW,serialNumber:e}},t.changeClassificationModalDisplay=function(){return{type:r.CHANGE_CLASSIFICATION_MODAL_DISPLAY}}),_=(t.changeClassAssetsModeDisplay=function(e){return{type:r.CHANGE_CLASS_ASSETS_MODE_DISPLAY,mode:e}},t.selectAssetsClass=function(e){return{type:r.SELECT_ASSETS_CLASS,idx:e}},t.selectAssetsClassAll=function(){return{type:r.SELECT_ASSETS_CLASS_ALL}},t.getCardDetailFetch=function(e){return function(t){(0,l.default)("getassetscard","POST",JSON.stringify({cardNumber:e}),function(e){(0,u.showMessage)(e)&&t({type:r.GET_CARD_DETAIL_FETCH,receivedData:e.data})})}},t.changeAssetsclassNumber=function(e,t){return{type:r.CHANGE_ASSETS_CLASS_NUMBER,id:e,upperAssetsNumber:t}},t.changeAssetsclassName=function(e){return{type:r.CHANGE_ASSETS_CLASS_NAME,name:e}},t.changeAssetsClassTotalMonth=function(e){return{type:r.CHANGE_ASSETS_CLASS_TOTALMONTH,month:e}},t.changeAssetsClassSalvage=function(e){return{type:r.CHANGE_ASSETS_CLASSS_ALVAGE,value:e}},t.changeAssetsClassRemark=function(e){return{type:r.CHANGE_ASSETS_CLASS_REMARK,value:e}},t.selectAssetsAc=function(e,t,n,a,l){return{type:r.SELECT_ASSETS_AC,acid:e,acname:t,asscategorylist:n,classOrCard:a,dirction:l}},t.selectAssetsAss=function(e,t,n,a,l){return{type:r.SELECT_ASSETS_ASS,assid:e,assname:t,idx:n,classOrCard:a,dirction:l}},t.clearClassification=function(){return{type:r.CLEAR_CLASSIFICATION}}),T=t.beforeInsertClassification=function(e,t,n){return function(a){(0,l.default)("getclassification","POST",JSON.stringify({serialNumber:e}),function(l){(0,u.showMessage)(l)&&a({type:r.BEFORE_INSERT_CLASSIFICATION,newSerialNumber:n,serialNumber:e,serialName:t,receivedData:l.data})})}},p=(t.beforeModefyClassification=function(e,t){return function(t){(0,l.default)("getclassification","POST",JSON.stringify({serialNumber:e}),function(e){(0,u.showMessage)(e)&&t({type:r.BEFORE_MODYFY_CLASSIFICATION,receivedData:e.data})})}},t.enterAssetsClassFetch=function(e,t,n){return function(a,r){var o=r().assetsState.get("classification"),c=r().assetsState.getIn(["flags","assetsClassMode"]);if(0===o.get("serialName").length)return i.Alert("辅助类别名称未输入");({modify:function(){(0,l.default)("modifyclassification","POST",JSON.stringify(o),function(e){(0,u.showMessage)(e,"show")&&(a(d()),a(m()))})},insert:function(){return 1===o.get("serialNumber").length?i.Alert("不允许新增顶级科目"):3!==o.get("serialNumber").length||o.get("serialNumber").substr(0,1)>=6?i.Alert("辅助编码长度为3，且要为1/2/3/4/5开头"):void(0,l.default)("insertclassification","POST",JSON.stringify(o),function(r){(0,u.showMessage)(r,"show")&&(a(d()),e?(a(_()),a(T(e,t,n))):a(m()))})}})[c]()}},t.getCardNumberFetch=function(){return function(e,t){var n=t().allState.get("period"),a=function(e,t,n,a){return e?e+"年第"+t+"期":"12"==a?Number(n)+1+"年第01期":n+"年第"+(Number(a)+1>10?Number(a)+1:"0"+(Number(a)+1))+"期"}(n.get("openedyear"),n.get("openedmonth"),n.get("closedyear"),n.get("closedmonth"));e({type:r.SWITCH_LOADING_MASK}),(0,l.default)("getmaxcardnumber","GET","",function(t){e({type:r.SWITCH_LOADING_MASK}),(0,u.showMessage)(t)?e({type:r.GET_CARDNUMBER_FETCH,receivedData:t.data,inputPeriod:a}):16308===t.code&&e({type:r.GET_CARDNUMBER_FETCH,receivedData:"",inputPeriod:a})})}}),C=(t.changeCardCardName=function(e){return{type:r.CHANGE_CARD_CARDNAME,value:e}},t.changeCardCardNumber=function(e){return function(t){/^\d{0,4}$/g.test(e)||""===e?t({type:r.CHANGE_CARD_CARDNUMBER,value:e}):a.default.info("卡片编码仅支持4位数字",2)}},t.selectCardAssetsOrClass=function(e,t,n){return function(a){var u="assets"==t?e.substr(0,1):e.substr(0,3);(0,l.default)("getclassification","POST",JSON.stringify({serialNumber:u}),function(l){var u=l.data.creditAssList,i=l.data.creditId,o=l.data.creditName,c=l.data.debitAssList,s=l.data.debitId,d=l.data.debitName,f=l.data.totalMonth,g=l.data.salvage;a({type:r.SELECT_CARD_ASSETS_OR_CLASS,choseType:t,value:e,creditAssList:u,creditId:i,creditName:o,debitAssList:c,debitId:s,debitName:d,totalMonth:f,salvage:g,assetsCardMode:n})})}},t.changeCardStartTime=function(e,t){return{type:r.CHANGE_CARD_STARTTIME,value:e,inputPeriod:t}},t.changeCardTotalMonth=function(e){return{type:r.CHANGE_CARD_TOTALMONTH,value:e}},t.changeCardCardValue=function(e){return{type:r.CHANGE_CARD_CARDVALUE,value:e}},t.changeCardSalvage=function(e){return{type:r.CHANGE_CARD_SALVAGE,value:e}},t.enterCard=function(e,t,n,a,o,c,s){return function(d,f){d({type:r.BEFORE_ENTER_CARD,residualValue:e,monthlyDepreciation:t,alreadyDepreciationTime:n,sumDepreciation:a,earlyNetWorth:o});var g=f().assetsState.get("cardTemplate"),m=f().assetsState.get("assetslist"),_=f().assetsState.getIn(["flags","sortByValue"]),T=f().assetsState.getIn(["flags","sortByStatus"]),p=g.get("assetsNumber"),E=m.filter(function(e){return 0===e.get("serialNumber").indexOf(p)&&3===e.get("serialNumber").length});g.get("cardNumber"),g.get("classificationNumber");if(""===g.get("assetsName"))return i.Alert("资产分类未选择");if(0!==E.size&&""===g.get("classificationName"))return i.Alert("辅助分类未选择");if(0===g.get("cardNumber").length)return i.Alert("卡片编码未输入");if(0===g.get("cardName").length)return i.Alert("卡片名称未输入");if(""===g.get("cardValue"))return i.Alert("原值未输入");if(0===g.get("cardValue"))return i.Alert("原值不能为0");if(g.get("remark").length>45)return i.Alert("备注字数不能大于45个");if(""===g.get("salvage"))return i.Alert("残值率未输入");if(""===g.get("startTime"))return i.Alert("开始使用期间未输入");if(""===g.get("totalMonth"))return i.Alert("默认使用总期限未输入");if(0==g.get("totalMonth"))return i.Alert("默认使用总期限不能为0");if(""===g.get("debitName"))return i.Alert("财务处理借方科目未选择");if(""===g.get("creditName"))return i.Alert("财务处理贷方科目未选择");if(g.get("debitAssList").some(function(e){return e.get("assCategory")&&!e.get("assName")}))return i.Alert("财务处理借方科目的辅助核算未选择");if(g.get("creditAssList").some(function(e){return e.get("assCategory")&&!e.get("assName")}))return i.Alert("财务处理借方科目的辅助核算未选择");var S=f().assetsState.getIn(["flags","assetsCardMode"]);d({type:r.SWITCH_LOADING_MASK}),{modify:function(){(0,l.default)("modifyassetscard","POST",JSON.stringify(g),function(e){(0,u.showMessage)(e,"show")&&d(C(s,c,_,T)),d({type:r.SWITCH_LOADING_MASK})})},insert:function(){(0,l.default)("insertassetscard","POST",JSON.stringify(g),function(e){(0,u.showMessage)(e,"show")&&d(C(s,c,_,T)),d({type:r.SWITCH_LOADING_MASK})})}}[S]()}},function(e,t,n,a){return function(r){e?r(p()):"Assets"===sessionStorage.getItem("assetsCardfrom")?(r(d()),r(N(t,n,a)),r(A(!1))):"AssetsMxb"===sessionStorage.getItem("assetsCardfrom")&&r(y(!1))}}),E=(t.copyCardFetch=function(e,t){return function(n,a){var r=a().assetsState.get("cardTemplate");(0,l.default)("copyassetscard","POST",JSON.stringify({cardNumber:r.get("cardNumber"),copyNum:e}),function(e){(0,u.showMessage)(e,"show")&&n(f(t))})}},t.copyCardMxbFetch=function(e,t,n,a,r){return function(t,i){var c=i().assetsState.get("cardTemplate");(0,l.default)("copyassetscard","POST",JSON.stringify({cardNumber:c.get("cardNumber"),copyNum:e}),function(e){(0,u.showMessage)(e,"show")&&t(o.getMxListFetch(n,a,r))})}},t.clearCardFetch=function(e,t,n,a){return function(i){(0,l.default)("clearcard","POST",JSON.stringify({cardNumber:t}),function(t){(0,u.showMessage)(t)&&i({type:r.CHANGE_CARD_STATUS,status:e,openedyear:n,openedmonth:a})})}},t.cancelClearCard=function(e,t){return function(n){(0,l.default)("cancelclearcard","POST",JSON.stringify({cardNumber:t}),function(t){(0,u.showMessage)(t)&&n({type:r.CHANGE_CARD_STATUS,status:e})})}},t.changeTabSelectedIndex=function(e){return{type:r.CHANGE_TAB_SELECTED_INDEX,value:e}},t.selectOneCardButton=function(e){return{type:r.SELECT_ONE_CARD_BUTTON,itemid:e}},t.selectAllCardButton=function(){return{type:r.SELECT_ALL_CARD_BUTTON}},t.showDeleteModal=function(){return{type:r.SHOW_DELETE_MODAL}},t.closeDeleteModal=function(){return{type:r.CLOSE_DELETE_MODAL}},t.deleteCard=function(e,t){return function(n){(0,l.default)("deletecard","POST",JSON.stringify({cardNumList:e}),function(e){(0,u.showMessage)(e)&&(E(e),n({type:r.DELETE_CARD}),n(f(t)),n(d()))})}},function(e){var t=e.data.message;""!==t?a.default.warn(t):a.default.info("操作成功")}),S=(t.selectOneSortButton=function(e){return{type:r.SELECT_ONE_SORT_BUTTON,itemid:e}},t.selectAllSortButton=function(){return{type:r.SELECT_ALL_SORT_BUTTON}},t.showDeleteSortModal=function(){return{type:r.SHOW_DELETE_SORT_MODAL}},t.closeDeleteSortModal=function(){return{type:r.CLOSE_DELETE_SORT_MODAL}},t.deleteSort=function(e){return function(t){(0,l.default)("deletesort","POST",JSON.stringify({cfNumList:e}),function(e){e.code?(0,u.showMessage)(e):(t({type:r.DELETE_SORT}),e.data&&e.data.length?a.default.warn(e.data.join(";")):a.default.info("操作成功"),t(d()))})}},t.getFileUploadFetch=function(e,t,n){return function(a,i){a({type:r.SWITCH_LOADING_MASK}),(0,l.default)(t,"UPLOAD",e,function(e){if((0,u.showMessage)(e)){a(S(e)),n(),a({type:r.SWITCH_LOADING_MASK});!function e(t){var n=setTimeout(function(){var o=i().assetsState.getIn(["flags","assetsshowMessageMask"]),c=i().assetsState.get("tabSelectedIndex");(0,l.default)("acImportProgress","GET","accessToken="+t,function(n){(0,u.showMessage)(n)&&(a({type:r.GET_ASSETS_IMPORT_PROGRESS,receivedData:n}),n.data.progress>=100&&n.data.successList.length>0&&("资产卡片"==c?a(f("1")):"资产类别"==c&&a(d())),o&&n.data.progress<100&&e(t))}),clearTimeout(n)},500)}(e.data.accessToken)}else a({type:r.SWITCH_LOADING_MASK})})}},t.beforeAssetsImport=function(){return{type:r.BEFORE_ASSETS_IMPORT}},t.afterAssetsImport=function(e){return function(t,n){t({type:r.AFTER_ASSETS_IMPORT,receivedData:e})}}),A=(t.closeAssetsImportContent=function(){return{type:r.CLOSE_ASSETS_IMPORT_CONTENT}},t.showAssDisableModal=function(e){return{type:r.SHOW_ASS_DISABLE_MODAL,asscategory:e}},t.cancelAssDisableModal=function(){return{type:r.CANCEL_ASS_DISABLE_MODAL}},t.showAssetsCard=function(e){return{type:r.SHOW_ASSETS_CARD,bool:e}}),y=t.showAssetsCardOption=function(e){return{type:r.SHOW_ASSETS_CARD_OPTION,bool:e}},N=t.afterModifyAssetsCard=function(e,t,n){return function(a,r){a("number"===r().assetsState.getIn(["flags","assetsCardGetBy"])?f(e,t,n):g(e,t,n))}};t.importProgress=function(){return function(e,t){console.log(t().assetsState.get("importProgressInfo").toJS());t().assetsState.getIn(["importProgressInfo","accessToken"])}},t.changeMessageMask=function(){return{type:r.CHANGE_ASSETS_MESSAGEMASK}}},1298:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getProjectCardList=t.getAssetsList=t.changeStockList=t.getCostCategory=t.insertOrModifyLrTransferOutPz=t.insertOrModifyLrInvoicingPz=t.insertOrModifyLrInvoiceAuthPz=t.insertOrModifyLrCostTransferPz=t.initLrBussiness=t.insertOrModifyLrDepreciation=t.insertOrModifyLrInternalTransfer=t.changeCalculateCommonString=t.changeLrAccountCommonString=t.getTransferOutList=t.getInvoicingList=t.getInvoiceAuthList=t.getCostTransferList=t.changeLrAccountAccountName=t.changeLrCalculateRateAssList=t.changeLrCostTransferRunningAssList=t.selectLrCalculateItemAll=t.selectLrCalculateItem=t.changeLrCostTransferCategoryUuidAndName=t.initLrAccount=t.changeLrCalculateCommonState=t.initLrCalculate=void 0;var a=f(n(37)),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};n(38);var l=d(n(1342)),u=f(n(52)),i=n(18),o=n(22),c=(d(n(30)),d(n(27))),s=(d(n(43)),d(n(60)),d(n(1229)));function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function f(e){return e&&e.__esModule?e:{default:e}}function g(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}t.initLrCalculate=function(){return{type:l.INIT_LR_CALCULATE_STATE}};var m=t.changeLrCalculateCommonState=function(e,t,n){return{type:l.CHANGE_LR_CALCULATE_COMMON_STATE,parent:e,position:t,value:n}},_=t.initLrAccount=function(e,t,n,a){return{type:l.INIT_CLR_ACCOUNT,strJudgeType:e,receivedData:t,callBackObj:n,temp:a}},T=(t.changeLrCostTransferCategoryUuidAndName=function(e){return function(t){(0,u.default)("getRunningDetail","GET","uuid="+e[0],function(n){if((0,o.showMessage)(n)){var a=n.data.result.acBusinessIncome;t({type:l.CHANGE_LR_COST_TRANSFER_CATEGORY_UUID_AND_NAME,valueList:e,acBusinessIncome:a})}})}},t.selectLrCalculateItem=function(e,t,n,a){return{type:l.SELECT_LR_CALCULATE_ITEM,uuid:e,Tem:t,stockCardUuid:n,amount:a}},t.selectLrCalculateItemAll=function(e,t,n){return{type:l.SELECT_LR_CALCULATE_ITEM_ALL,selectAll:e,Tem:t,ListName:n}},t.changeLrCostTransferRunningAssList=function(e,t){return{type:l.CHANGE_LR_COST_TRANSFER_RUNNING_ASSLIST,ass:e,index:t}},t.changeLrCalculateRateAssList=function(e,t){return{type:l.CHANGE_LR_CALCULATE_RATE_ASSLIST,ass:e,index:t}},t.changeLrAccountAccountName=function(e,t,n,a){return{type:l.CHANGE_LR_ACCOUNT_ACCOUNT_NAME,tab:e,placeUUid:t,placeName:n,value:a}},t.getCostTransferList=function(e,t){return function(n,a){var r=[];a().lrCalculateState.getIn(["costTransferTemp","stockCardList"]).map(function(e){r.push(e.get("uuid"))}),t&&(0,u.default)("getCarryoverList","POST",JSON.stringify({runningState:e,runningDate:t,cardUuidList:r}),function(e){(0,o.showMessage)(e)&&n({type:l.AFTER_GET_COMMON_LIST,receivedData:e.data,ListName:"costTransferList",temp:"costTransferTemp"})})}}),p=t.getInvoiceAuthList=function(e,t,n){return function(n,a){t&&(0,u.default)("getBusinessAuthList","POST",JSON.stringify({billAuthType:e,runningDate:t}),function(e){(0,o.showMessage)(e)&&n({type:l.AFTER_GET_COMMON_LIST,receivedData:e.data,ListName:"invoiceAuthList",temp:"invoiceAuthTemp"})})}},C=t.getInvoicingList=function(e,t){return function(n,a){t&&(0,u.default)("getBusinessMakeoutList","POST",JSON.stringify({billMakeOutType:e,runningDate:t}),function(e){(0,o.showMessage)(e)&&n({type:l.AFTER_GET_COMMON_LIST,receivedData:e.data,ListName:"invoicingList",temp:"invoicingTemp"})})}},E=(t.getTransferOutList=function(e){return function(t,n){(0,u.default)("getBusinessTurnoutList","POST",JSON.stringify({runningDate:e}),function(e){(0,o.showMessage)(e)&&t({type:l.AFTER_GET_TRANSFER_OUT_LIST,receivedData:e.data})})}},function(e,t){return t.every(function(t){return new Date(t.get("runningDate"))<=new Date(e)})}),S=(t.changeLrAccountCommonString=function(e,t,n){return function(a){var r="string"==typeof t?[e+"Temp",t]:[e+"Temp"].concat(g(t));"flags"===t[0]&&(r=t),a({type:l.CHANGE_LR_ACCOUNT_COMMON_STRING,tab:e,placeArr:r,value:n})}},t.changeCalculateCommonString=function(e,t,n){return function(a){var r="string"==typeof t?[e+"Temp",t]:[e+"Temp"].concat(g(t));"flags"===t[0]&&(r=t),a({type:l.CHANGE_CALCULATE_COMMON_STRING,tab:e,placeArr:r,value:n})}}),A=(t.insertOrModifyLrInternalTransfer=function(e){return function(t,n){var r=n().lrAccountState,o=r.get("hideCategoryList").find(function(e){return"LB_ZZ"===e.get("categoryType")}).get("uuid"),c=n().lrCalculateState,d=c.get("InternalTransferTemp"),f=d.get("enclosureList").toJS(),g=d.get("needDeleteUrl").toJS(),m=f.concat(g);d.get("runningState");d=(d=(d=d.set("categoryUuid",o).set("categoryType","LB_ZZ")).set("amount",parseFloat(d.get("amount")))).set("enclosureList",(0,i.fromJS)(m));var T=c.getIn(["flags","insertOrModify"]),p=(d=(d=d.get("uuid")?d:d.set("uuid",r.getIn(["cardTemp","uuid"]))).get("flowNumber")?d:d.set("flowNumber",r.getIn(["cardTemp","flowNumber"]))).get("runningDate"),C=d.get("runningAbstract"),E=d.get("fromAccountUuid"),S=d.get("toAccountUuid");return p?o?C?C.length>50?a.default.info("摘要长度不能超过50个字符"):E?S?("insert"===T&&d.get("uuid"),t({type:l.SWITCH_LOADING_MASK}),void("insert"===T?(0,u.default)("insertVirement","POST",JSON.stringify(d),function(n){t({type:l.SWITCH_LOADING_MASK}),0!==n.code?(a.default.info(n.code+" "+n.message),n.message.indexOf("已生成凭证")>-1&&t(s.changeLrAccountCommonString("",["flags","pzFailedButtonShow"],!0))):(a.default.success(n.message),t(e?_("saveAndNew","","","InternalTransferTemp"):_("afterSave",d,n.data,"InternalTransferTemp")))}):(0,u.default)("modifyRunningbusiness","POST",JSON.stringify(d),function(n){t({type:l.SWITCH_LOADING_MASK}),0!==n.code?(a.default.info(n.code+" "+n.message),n.message.indexOf("已生成凭证")>-1&&t(s.changeLrAccountCommonString("",["flags","pzFailedButtonShow"],!0))):(a.default.success(n.message),t(e?_("saveAndNew","","","InternalTransferTemp"):_("afterSave",d,n.data,"InternalTransferTemp")))}))):a.default.info("转入账户未获取"):a.default.info("转出账户未获取"):a.default.info("摘要必填"):a.default.info("流水类别未获取"):a.default.info("日期必填")}},t.insertOrModifyLrDepreciation=function(e){return function(t,n){var i=n().lrAccountState,o=(i.get("hideCategoryList"),n().lrCalculateState),c=o.get("DepreciationTemp"),d=c.get("enclosureList").toJS(),f=c.get("needDeleteUrl").toJS(),g=d.concat(f);c.get("runningState");c=(c=c.set("categoryType","LB_ZJTX")).set("amount",parseFloat(c.get("amount")));var m=o.getIn(["flags","insertOrModify"]),T=(c=(c=c.get("uuid")?c:c.set("uuid",i.getIn(["cardTemp","uuid"]))).get("flowNumber")?c:c.set("flowNumber",i.getIn(["cardTemp","flowNumber"]))).get("runningDate"),p=c.get("runningAbstract"),C=c.get("categoryUuid");return T?C?p?p.length>50?a.default.info("摘要长度不能超过50个字符"):("insert"===m&&c.get("uuid"),t({type:l.SWITCH_LOADING_MASK}),void("insert"===m?(0,u.default)("insertAssets","POST",JSON.stringify(r({},c.toJS(),{enclosureList:g})),function(n){if(t({type:l.SWITCH_LOADING_MASK}),0!==n.code)a.default.info(n.code+" "+n.message);else{n.data.businessFlowNumberList;a.default.success(n.message),e?(t(_("saveAndNew","","","DepreciationTemp")),t(A("LB_ZJTX"))):t(_("afterSave",c,n.data,"DepreciationTemp"))}}):(0,u.default)("modifyRunningbusiness","POST",JSON.stringify(r({},c.toJS(),{enclosureList:g})),function(n){t({type:l.SWITCH_LOADING_MASK}),0!==n.code?(a.default.info(n.code+" "+n.message),n.message.indexOf("已生成凭证")>-1&&t(s.changeLrAccountCommonString("",["flags","pzFailedButtonShow"],!0))):(a.default.success(n.message),t(e?_("saveAndNew","","","DepreciationTemp"):_("afterSave",c,n.data,"DepreciationTemp")))}))):a.default.info("摘要必填"):a.default.info("处理类别未获取"):a.default.info("日期必填")}},t.initLrBussiness=function(){return{type:l.INIT_LR_ACOUNT_STATE}},t.insertOrModifyLrCostTransferPz=function(e){return function(t,n){var r=n().lrCalculateState,i=r.get("costTransferTemp"),c=r.get("costTransferList"),s=r.getIn(["flags","insertOrModify"]),d=i.get("uuidList"),f=(i.get("categoryUuid"),i.get("runningState")),g=i.get("runningDate"),m=i.get("runningAbstract"),_=(i.get("carryoverAmount"),i.get("assList")),T=(i.get("categoryName"),i.get("stockCardList")),p=i.get("stockCardUuidList"),C=i.get("carryoverBusinessUuid"),S=i.get("enclosureList").toJS(),A=i.get("needDeleteUrl").toJS(),y=S.concat(A),N=[];if(p&&p.map(function(e){N.push(e.get("uuid"))}),!g)return a.default.info("日期必填");if(!E(g,c))return a.default.info("日期不能比所选流水的日期前");if(!m)return a.default.info("摘要必填");if(m.length>50)return a.default.info("摘要长度不能超过50个字符");if(_.some(function(e){return!e.get("assId")&&!e.get("assName")}))return a.default.info("辅助核算未填");if(!d.size)return a.default.info("请勾选要结转的流水");var I="false",L=[];return T&&T.forEach(function(e){return e.get("amount")?-1===N.indexOf(e.get("uuid"))?(I="ListTrue",L.push(e.get("code")+" "+e.get("name")),!1):void 0:(I="amountTrue",L.push(e.get("code")+" "+e.get("name")),!1)}),"amountTrue"===I?a.default.info("请填入"+L+"的成本金额"):"ListTrue"===I?a.default.info("请选择"+L+"的待处理流水"):(t({type:l.SWITCH_LOADING_MASK}),void("insert"===s?(0,u.default)("insertCarryoverItem","POST",JSON.stringify({uuidList:d,runningState:f,runningDate:g,cardList:T,runningAbstract:m,enclosureList:y}),function(n){(0,o.showMessage)(n,"show")&&t({type:l.AFTER_SUCCESS_INSERT_CARRYOVER_ITEM,saveAndNew:e,carryoverBusinessUuid:n.data.result}),t({type:l.SWITCH_LOADING_MASK})}):"modify"===s&&(0,u.default)("modifyCarryoverItem","POST",JSON.stringify({carryoverBusinessUuid:C,uuidList:d,runningState:f,runningDate:g,cardList:T,runningAbstract:m,enclosureList:y}),function(n){(0,o.showMessage)(n,"show")&&t({type:l.AFTER_SUCCESS_INSERT_CARRYOVER_ITEM,saveAndNew:e,carryoverBusinessUuid:n.data.result}),t({type:l.SWITCH_LOADING_MASK})})))}},t.insertOrModifyLrInvoiceAuthPz=function(e){return function(t,n){var s=n().lrAccountState.get("hideCategoryList").find(function(e){return"LB_FPRZ"===e.get("categoryType")}).get("uuid"),d=n().lrCalculateState,f=d.get("invoiceAuthTemp"),g=f.get("enclosureList").toJS(),m=f.get("needDeleteUrl").toJS(),_=g.concat(m);f=f.set("enclosureList",(0,i.fromJS)(_));var T=d.get("invoiceAuthList"),C=d.getIn(["flags","insertOrModify"]),S=f.get("uuidList"),A=f.get("billAuthType"),y=f.get("runningDate"),N=f.get("runningAbstract");f=f.set("categoryUuid",s);var I=d.get("rateAcAndAsslist"),L=[c.ACCOUNT_RATE_TYPE_OF_INPUT,c.ACCOUNT_RATE_TYPE_OF_CERTIFIED],h=I.get("acList").filter(function(e){return L.indexOf(e.get("type"))>-1}),v=I.get("assList").filter(function(e){return L.indexOf(e.get("type"))>-1});return f=f.set("acList",h).set("assList",v),y?E(y,T)?s?N?N.length>50?a.default.info("摘要长度不能超过50个字符"):S.size?v.some(function(e){return!e.get("assId")&&!e.get("assName")})?a.default.info("辅助核算未填"):(t({type:l.SWITCH_LOADING_MASK}),void("insert"===C?(0,u.default)("insertBusinessAuthItem","POST",JSON.stringify(r({},f.toJS())),function(n){(0,o.showMessage)(n,"show")&&(e&&t(p(A,y)),t({type:l.AFTER_SUCCESS_INSERT_INVOICEAUTH_ITEM,saveAndNew:e,authBusinessUuid:n.data.result})),t({type:l.SWITCH_LOADING_MASK})}):"modify"===C&&(0,u.default)("modifyBusinessAuthItem","POST",JSON.stringify(r({},f.toJS())),function(n){(0,o.showMessage)(n,"show")&&(e&&t(p(A,y)),t({type:l.AFTER_SUCCESS_INSERT_INVOICEAUTH_ITEM,saveAndNew:e,authBusinessUuid:n.data.result})),t({type:l.SWITCH_LOADING_MASK})}))):a.default.info("请勾选要认证的流水"):a.default.info("摘要必填"):a.default.info("流水类别未获取"):a.default.info("日期不能比所选流水的日期前"):a.default.info("日期必填")}},t.insertOrModifyLrInvoicingPz=function(e){return function(t,n){var s=n().lrAccountState.get("hideCategoryList").find(function(e){return"LB_KJFP"===e.get("categoryType")}).get("uuid"),d=n().lrCalculateState,f=d.get("invoicingTemp"),g=f.get("enclosureList").toJS(),m=f.get("needDeleteUrl").toJS(),_=g.concat(m);f=(f=f.set("enclosureList",(0,i.fromJS)(_))).set("categoryUuid",s);var T=d.get("invoicingList"),p=d.getIn(["flags","insertOrModify"]),S=f.get("uuidList"),A=f.get("billMakeOutType"),y=f.get("runningDate"),N=f.get("runningAbstract"),I=d.get("rateAcAndAsslist"),L=n().accountConfState.getIn(["taxRateTemp","scale"]),h=[];"small"===L?h=[c.ACCOUNT_RATE_TYPE_OF_PAYABLE,c.ACCOUNT_RATE_TYPE_OF_NOTBILLING]:"general"===L&&(h=[c.ACCOUNT_RATE_TYPE_OF_WAITOUTPUT,c.ACCOUNT_RATE_TYPE_OF_OUTPUT]);var v=I.get("acList").filter(function(e){return h.indexOf(e.get("type"))>-1}),O=I.get("assList").filter(function(e){return h.indexOf(e.get("type"))>-1});return f=f.set("acList",v).set("assList",O),y?E(y,T)?s?N?N.length>50?a.default.info("摘要长度不能超过50个字符"):S.size?O.some(function(e){return!e.get("assId")&&!e.get("assName")})?a.default.info("辅助核算未填"):(t({type:l.SWITCH_LOADING_MASK}),void("insert"===p?(0,u.default)("insertBusinessMakeoutItem","POST",JSON.stringify(r({},f.toJS())),function(n){(0,o.showMessage)(n,"show")&&(e&&t(C(A,y)),t({type:l.AFTER_SUCCESS_INSERT_INVOICING_ITEM,saveAndNew:e,makeOutBusinessUuid:n.data.result})),t({type:l.SWITCH_LOADING_MASK})}):"modify"===p&&(0,u.default)("modifyBusinessMakeoutItem","POST",JSON.stringify(r({},f.toJS())),function(n){(0,o.showMessage)(n,"show")&&(e&&t(C(A,y)),t({type:l.AFTER_SUCCESS_INSERT_INVOICING_ITEM,saveAndNew:e,makeOutBusinessUuid:n.data.result})),t({type:l.SWITCH_LOADING_MASK})}))):a.default.info("请勾选要认证的流水"):a.default.info("摘要必填"):a.default.info("流水类别未获取"):a.default.info("日期不能比所选流水的日期前"):a.default.info("日期必填")}},t.insertOrModifyLrTransferOutPz=function(e){return function(t,n){var s=n().lrAccountState.get("hideCategoryList").find(function(e){return"LB_ZCWJZZS"===e.get("categoryType")}).get("uuid"),d=n().lrCalculateState,f=d.get("transferOutTemp"),g=f.get("enclosureList").toJS(),m=f.get("needDeleteUrl").toJS(),_=g.concat(m);f=f.set("enclosureList",(0,i.fromJS)(_));var T=d.get("transferOutObj"),p=T.get("flowDtoList"),C=T.get("inputAmount"),S=T.get("outputAmount"),A=d.getIn(["flags","insertOrModify"]),y=p.map(function(e){return e.get("uuid")}),N=f.get("runningDate"),I=f.get("runningAbstract");f=f.set("categoryUuid",s).set("uuidList",y);var L=d.get("rateAcAndAsslist"),h=[c.ACCOUNT_RATE_TYPE_OF_TURNOUTUNPAID,c.ACCOUNT_RATE_TYPE_OF_UNPAID],v=L.get("acList").filter(function(e){return h.indexOf(e.get("type"))>-1}),O=L.get("assList").filter(function(e){return h.indexOf(e.get("type"))>-1});return f=f.set("acList",v).set("assList",O),N?E(N,p)?s?I?I.length>50?a.default.info("摘要长度不能超过50个字符"):y.size?C>=S?a.default.info("进项税额大于销项税额，无需转出未交增值税"):(t({type:l.SWITCH_LOADING_MASK}),void("insert"===A?(0,u.default)("insertBusinessTurnoutItem","POST",JSON.stringify(r({},f.toJS())),function(n){(0,o.showMessage)(n,"show")&&t({type:l.AFTER_SUCCESS_INSERT_TRANSFER_OUT_ITEM,saveAndNew:e,turnOutBusinessUuid:n.data.result}),t({type:l.SWITCH_LOADING_MASK})}):"modify"===A&&(0,u.default)("modifyBusinessTurnoutItem","POST",JSON.stringify(r({},f.toJS())),function(n){(0,o.showMessage)(n,"show")&&t({type:l.AFTER_SUCCESS_INSERT_TRANSFER_OUT_ITEM,saveAndNew:e,turnOutBusinessUuid:n.data.result}),t({type:l.SWITCH_LOADING_MASK})}))):a.default.info("没有要转出的流水"):a.default.info("摘要必填"):a.default.info("流水类别未获取"):a.default.info("日期不能在流水的日期前"):a.default.info("日期必填")}},t.getCostCategory=function(e,t,n){return function(a){a({type:l.SWITCH_LOADING_MASK}),(0,u.default)("getCostCategory","POST",JSON.stringify({sobId:e,runningState:t,runningDate:n}),function(e){a({type:l.SWITCH_LOADING_MASK}),(0,o.showMessage)(e)&&a({type:l.GET_COST_CATEGORY,receivedData:e.data})})}},t.changeStockList=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"add";return function(a,r){var l=r().lrCalculateState,u=l.getIn(["costTransferTemp","runningDate"]),o=l.getIn(["costTransferTemp","runningState"]),c=e.toJS();"delete"==n?(c.splice(t,1),a(S("costTransfer","stockCardList",(0,i.fromJS)(c))),a(T(o,u))):(c.splice(t+1,0,{amount:"",uuid:""}),a(S("costTransfer","stockCardList",(0,i.fromJS)(c))))}},t.getAssetsList=function(e){return function(t){t({type:l.SWITCH_LOADING_MASK}),(0,u.default)("getAssetsList","POST",JSON.stringify({type:e}),function(e){t({type:l.SWITCH_LOADING_MASK}),(0,o.showMessage)(e)&&t({type:l.GET_DEAL_TYPE_CATEGORY,receivedData:e.data.result})})}});t.getProjectCardList=function(e){return function(t,n){var a=n().homeState.getIn(["data","userInfo","sobInfo","sobId"]);(0,u.default)("getProjectCardList","POST",JSON.stringify({sobId:a,categoryList:e,needCommonCard:!0}),function(e){(0,o.showMessage)(e)&&t(m("flags","projectList",(0,i.fromJS)(e.data.result)))})}}},1301:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,n=arguments[1];return((e={},c(e,a.INIT_LR_ACOUNT_STATE,function(){return s}),c(e,a.INIT_LR_ACCOUNT,function(){var e=t.get("hideCategoryList");t.getIn(["flags","paymentType"]);if("init"===n.strJudgeType){var a=t.get("issues");t=s.set("issues",a)}if("saveAndNew"===n.strJudgeType){var l=s.get("cardTemp"),u=t.getIn(["cardTemp","payableRate"]),i=t.getIn(["cardTemp","outputRate"]),o=t.getIn(["cardTemp","scale"]),c=t.getIn(["cardTemp","runningDate"]),d=t.getIn(["cardTemp","categoryType"]),f=t.getIn(["cardTemp","name"]);t=t.setIn(["flags","insertOrModify"],"insert").setIn(["flags","runningInsertOrModify"],"insert").set("cardTemp",l).setIn(["cardTemp","payableRate"],u).setIn(["cardTemp","outputRate"],i).setIn(["cardTemp","categoryType"],d).setIn(["cardTemp","scale"],o).setIn(["cardTemp","runningDate"],c).setIn(["cardTemp","name"],f).setIn(["flags","isQueryByBusiness"],!1).setIn(["flags","specialStateforAssets"],!1).setIn(["flags","specialStateforAccrued"],!1).setIn(["flags","needRelaList"],!1).setIn(["flags","uuidList"],(0,r.fromJS)([])).setIn(["flags","isQuery"],!1).set("enclosureList",(0,r.fromJS)([])).set("label",(0,r.fromJS)([])).set("needDeleteUrl",(0,r.fromJS)([]))}else if("afterSave"===n.strJudgeType){var g=(0,r.fromJS)(n.receivedData),m=t.getIn(["flags","runningInsertOrModify"]),_=t.getIn(["cardTemp","runningState"]);t=t.set("cardTemp",g).setIn(["flags","insertOrModify"],"modify").setIn(["flags","amount"],g.get("amount")).setIn(["flags","runningInsertOrModify"],"modify").setIn(["flags","isQuery"],!0),n.callBackObj.flowNumber&&(t=t.setIn(["cardTemp","flowNumber"],n.callBackObj.flowNumber)),"insert"===m&&n.callBackObj.uuid&&(t=t.setIn(["cardTemp","uuid"],n.callBackObj.uuid)),"STATE_JK_ZFLX"!==_&&"STATE_TZ_SRGL"!==_&&"STATE_TZ_SRLX"!==_&&"STATE_ZB_ZFLR"!==_&&"STATE_XC_FF"!==_&&"STATE_XC_JN"!==_&&"STATE_SF_JN"!==_&&"STATE_ZS_TH"!==_&&"STATE_ZF_SH"!==_&&"STATE_SF_SFJM"!==_||(t=t.setIn(["flags","specialStateforAccrued"],!0))}else if("fromCxAccount"===n.strJudgeType){var T=(0,r.fromJS)(n.receivedData.result),p=T.get("enclosureList")?(0,r.fromJS)(T.get("enclosureList")):(0,r.fromJS)([]),C=T.get("runningState"),E=t.getIn(["cardTemp","scale"]),S=t.getIn(["flags","uuidList"]),A=t.getIn(["flags","paymentType"]),y=t.get("calculateTemp");t=s.set("cardTemp",T).set("calculateTemp",y).setIn(["flags","PageTab"],"business").setIn(["flags","insertOrModify"],"modify").setIn(["flags","paymentType"],A).setIn(["flags","runningInsertOrModify"],"modify").setIn(["flags","amount"],T.get("amount")).setIn(["flags","isQuery"],!0).setIn(["cardTemp","name"],T.get("categoryName")).set("hideCategoryList",e).set("enclosureList",p).setIn(["cardTemp","queryObj","amount"],T.get("amount")).setIn(["cardTemp","queryObj","handleAmount"],T.get("handleAmount")).setIn(["cardTemp","queryObj","offsetAmount"],T.get("offsetAmount")),"LB_XCZC"===T.get("categoryType")&&(t=t.setIn(["cardTemp","queryObj","personAccumulationAmount"],T.getIn(["acPayment","personAccumulationAmount"])).setIn(["cardTemp","queryObj","personSocialSecurityAmount"],T.getIn(["acPayment","personSocialSecurityAmount"])).setIn(["cardTemp","queryObj","incomeTaxAmount"],T.getIn(["acPayment","incomeTaxAmount"])).setIn(["cardTemp","queryObj","companySocialSecurityAmount"],T.getIn(["acPayment","companySocialSecurityAmount"])).setIn(["cardTemp","queryObj","companyAccumulationAmount"],T.getIn(["acPayment","companyAccumulationAmount"]))),"STATE_JK_ZFLX"!==C&&"STATE_TZ_SRGL"!==C&&"STATE_TZ_SRLX"!==C&&"STATE_ZB_ZFLR"!==C&&"STATE_XC_FF"!==C&&"STATE_XC_JN"!==C&&"STATE_SF_JN"!==C&&"STATE_ZS_TH"!==C&&"STATE_ZF_SH"!==C&&"STATE_SF_SFJM"!==C||!T.get("paymentList").size||(t=t.setIn(["flags","specialStateforAccrued"],!0)),(n.uuidList||S.size)&&(t=t.setIn(["flags","needRelaList"],!0)),n.uuidList?t=t.setIn(["flags","uuidList"],n.uuidList):S.size&&(t=t.setIn(["flags","uuidList"],S)),Number(T.get("amount"))===Number(T.get("currentAmount"))&&(t=t.setIn(["flags","allGetFlow"],!0)),t=t.setIn(["flags","isQueryByBusiness"],!0).setIn(["cardTemp","scale"],E).setIn(["flags","currentSwitchUuid"],n.uuid)}return t}),c(e,a.INIT_LR_ACCOUNT_SETTINGS,function(){return t=t.setIn(["cardTemp","payableRate"],n.rate.payableRate).setIn(["cardTemp","outputRate"],n.rate.outputRate).setIn(["cardTemp","scale"],n.rate.scale).set("hideCategoryList",(0,r.fromJS)(n.hideCategoryList))}),c(e,a.COST_TRANSFER_FROM_CXLS_JUMP_TO_LRLS,function(){var e=t.getIn(["flags","uuidList"]);return t=(t=s.setIn(["cardTemp","payableRate"],n.rate.payableRate).setIn(["cardTemp","outputRate"],n.rate.outputRate).setIn(["cardTemp","scale"],n.rate.scale).set("hideCategoryList",(0,r.fromJS)(n.hideCategoryList)).setIn(["flags","currentSwitchUuid"],n.item.get("uuid"))).setIn(["flags","PageTab"],"payment").setIn(["flags","paymentType"],"LB_JZCB"),n.fromRefresh&&(t=t.setIn(["flags","isQueryByBusiness"],!0).setIn(["flags","runningInsertOrModify"],"modify")),(n.uuidList||e.size)&&(t=t.setIn(["flags","needRelaList"],!0)),n.uuidList?t=t.setIn(["flags","uuidList"],n.uuidList):e.size&&(t=t.setIn(["flags","uuidList"],e)),t}),c(e,a.INVOICE_AUTH_FROM_CXLS_JUMP_TO_LRLS,function(){var e=t.getIn(["flags","uuidList"]);return t=(t=s.setIn(["cardTemp","payableRate"],n.rate.payableRate).setIn(["cardTemp","outputRate"],n.rate.outputRate).setIn(["cardTemp","scale"],n.rate.scale).set("hideCategoryList",(0,r.fromJS)(n.hideCategoryList)).setIn(["flags","currentSwitchUuid"],n.item.get("uuid"))).setIn(["flags","PageTab"],"payment").setIn(["flags","paymentType"],"LB_FPRZ"),n.fromRefresh&&(t=t.setIn(["flags","isQueryByBusiness"],!0).setIn(["flags","runningInsertOrModify"],"modify")),(n.uuidList||e.size)&&(t=t.setIn(["flags","needRelaList"],!0)),n.uuidList?t=t.setIn(["flags","uuidList"],n.uuidList):e.size&&(t=t.setIn(["flags","uuidList"],e)),t}),c(e,a.CALCULATE_FROM_CXLS_JUMP_TO_LRLS,function(){var e=t.getIn(["flags","uuidList"]);return t=(t=s.setIn(["cardTemp","payableRate"],n.rate.payableRate).setIn(["cardTemp","outputRate"],n.rate.outputRate).setIn(["cardTemp","scale"],n.rate.scale).set("hideCategoryList",(0,r.fromJS)(n.hideCategoryList))).setIn(["flags","PageTab"],"payment").setIn(["flags","paymentType"],n.pageType),n.fromRefresh&&(t=t.setIn(["flags","isQueryByBusiness"],!0).setIn(["flags","runningInsertOrModify"],"modify")),(n.uuidList||e.size)&&(t=t.setIn(["flags","needRelaList"],!0)),n.uuidList?t=t.setIn(["flags","uuidList"],n.uuidList):e.size&&(t=t.setIn(["flags","uuidList"],e)),t}),c(e,a.CALCULATE_CHANGE_QUERY,function(){return t=t.setIn(["flags","isQueryByBusiness"],!0).setIn(["flags","runningInsertOrModify"],"modify")}),c(e,a.INVOICING_FROM_CXLS_JUMP_TO_LRLS,function(){var e=t.getIn(["flags","uuidList"]);return t=(t=s.setIn(["cardTemp","payableRate"],n.rate.payableRate).setIn(["cardTemp","outputRate"],n.rate.outputRate).setIn(["cardTemp","scale"],n.rate.scale).set("hideCategoryList",(0,r.fromJS)(n.hideCategoryList)).setIn(["flags","currentSwitchUuid"],n.item.get("uuid"))).setIn(["flags","PageTab"],"payment").setIn(["flags","paymentType"],"LB_KJFP"),n.fromRefresh&&(t=t.setIn(["flags","isQueryByBusiness"],!0).setIn(["flags","runningInsertOrModify"],"modify")),(n.uuidList||e.size)&&(t=t.setIn(["flags","needRelaList"],!0)),n.uuidList?t=t.setIn(["flags","uuidList"],n.uuidList):e.size&&(t=t.setIn(["flags","uuidList"],e)),t}),c(e,a.SELECT_ACCOUNT_RUNNING_CATEGORY,function(){t=t.setIn(["flags","insertOrModify"],"modify").setIn(["flags","showModal"],!0).mergeIn(["cardTemp"],(0,r.fromJS)(n.name)).deleteIn(["cardTemp","parentUuid"]).setIn(["cardTemp","assetType"],""),n.name.beProject&&(t=t.setIn(["cardTemp","usedProject"],!0).setIn(["cardTemp","projectCard"],(0,r.fromJS)([{uuid:""}])));var e=t.getIn(["cardTemp","uuid"]);return t.setIn(["cardTemp","categoryUuid"],e)}),c(e,a.TRANSFER_OUT_FROM_CXLS_JUMP_TO_LRLS,function(){var e=t.getIn(["flags","uuidList"]);return(n.uuidList||e.size)&&(t=t.setIn(["flags","needRelaList"],!0)),n.uuidList?t=t.setIn(["flags","uuidList"],n.uuidList):e.size&&(t=t.setIn(["flags","uuidList"],e)),t.setIn(["flags","currentSwitchUuid"],n.item.get("uuid"))}),c(e,a.TRANSFER_OUT_FROM_CXLS_JUMP_TO_NBZZ,function(){var e=t.getIn(["flags","uuidList"]);return(n.uuidList||e.size)&&(t=t.setIn(["flags","needRelaList"],!0)),n.uuidList?t=t.setIn(["flags","uuidList"],n.uuidList):e.size&&(t=t.setIn(["flags","uuidList"],e)),t.setIn(["flags","currentSwitchUuid"],n.item.get("uuid"))}),c(e,a.TRANSFER_OUT_FROM_CXLS_JUMP_TO_ZJTX,function(){var e=t.getIn(["flags","uuidList"]);return(n.uuidList||e.size)&&(t=t.setIn(["flags","needRelaList"],!0)),n.uuidList?t=t.setIn(["flags","uuidList"],n.uuidList):e.size&&(t=t.setIn(["flags","uuidList"],e)),t.setIn(["flags","currentSwitchUuid"],n.item.get("uuid"))}),c(e,a.TRANSFER_OUT_FROM_CXLS_JUMP_TO_ZJTX,function(){var e=t.getIn(["flags","uuidList"]);return(n.uuidList||e.size)&&(t=t.setIn(["flags","needRelaList"],!0)),n.uuidList?t=t.setIn(["flags","uuidList"],n.uuidList):e.size&&(t=t.setIn(["flags","uuidList"],e)),t.setIn(["flags","currentSwitchUuid"],n.item.get("uuid"))}),c(e,a.SELECT_RUNNING_AC_INFO,function(){return t=t.setIn(["cardTemp",n.idPlace],n.acid).setIn(["cardTemp",n.namePlace],n.acFullName).setIn(["cardTemp",n.assPlace],(0,r.fromJS)([]))}),c(e,a.SELECT_ACCOUNT_ASS,function(){var e=n.assCategory,a=t.getIn(["cardTemp",n.place]),l=a.findIndex(function(t){return t.get("assCategory")===e});return t=-1===l?t.updateIn(["cardTemp",n.place],function(t){return t.set(t.size,(0,r.fromJS)({assId:n.assId,assName:n.assName,assCategory:e}))}):t.updateIn(["cardTemp",n.place],function(e){return e.setIn([l,"assId"],n.assId).setIn([l,"assName"],n.assName)})}),c(e,a.CHANGE_LR_ACCOUNT_COMMON_STRING,function(){return n.placeArr&&(t=t.setIn(n.placeArr,n.value)),n.place&&(t=t.set(n.place,n.value)),t}),c(e,a.GET_RUNNING_ACCOUNT_INFO,function(){switch(n.wordType){case"VAT":t=t.setIn(["cardTemp","paymentList"],(0,r.fromJS)(n.receivedData.resultList));break;case"socialSecurity":t=t.setIn(["cardTemp","socialSecurityAmount"],n.receivedData.socialSecurityAmount);break;case"fund":t=t.setIn(["cardTemp","accumulationAmount"],n.receivedData.accumulationAmount);break;case"sfAmount":t=t.setIn(["cardTemp","sfAmount"],n.receivedData.amount);break;case"other":t=t.setIn(["cardTemp","paymentList"],(0,r.fromJS)(n.receivedData.resultList));case"accruedZZS":t=t.setIn(["cardTemp","preAmount"],n.receivedData.amount);break;default:t=t.setIn(["cardTemp","payableAmount"],n.receivedData.amount).setIn(["cardTemp","preAmount"],n.receivedData.preAmount)}return t}),c(e,a.CHANGE_LR_ACCOUNT_ACCOUNT_NAME,function(){var e=n.value.split(u.TREE_JOIN_STR);return t=t.setIn([n.tab+"Temp",n.placeUUid],e[0]).setIn([n.tab+"Temp",n.placeName],e[1])}),c(e,a.CHANGE_ACCOUNT_BILL_TYPE,function(){var e=t.getIn(["cardTemp","taxRate"]);return e&&(t=t.setIn(["cardTemp","tax"],(Number(e)*Number(n.value)/100).toFixed(2))),t=t.setIn(["cardTemp","amount"],n.value)}),c(e,a.AUTO_CALCULATE_BILL_INFO,function(){var e=n.strJudgeType;return function(e,t){var n=t.getIn(["cardTemp","priceTaxTotal"]),a=Number(t.getIn(["cardTemp","taxRate"]))/100,r=t.getIn(["cardTemp","tax"]);"priceTaxTotal"==e?r=Number(n)-Number(n)/(1+a):"taxRate"==e&&(r=""==n?"":Number(n)-Number(n)/(1+a));return t=t.setIn(["cardTemp","tax"],Number(r).toFixed(2))}(e,t)}),c(e,a.CHANGE_ACCOUNT_TAX_RATE,function(){var e=t.getIn(["cardTemp","amount"]);n.value&&(t=t.setIn(["cardTemp","taxRate"],n.value));var a=t.getIn(["cardTemp","taxRate"]);return e&&(t=100==a?t.setIn(["cardTemp","tax"],e):t.setIn(["cardTemp","tax"],(Number(e)/(1+Number(a)/100)*Number(a)/100).toFixed(2))),t}),c(e,a.CHANGE_ACCOUNT_FZHS_MODAL_DISPLAY,function(){return t.updateIn(["flags","accountAssModalShow"],function(e){return!e})}),c(e,a.CHANGE_ACCOUNT_ASS_CATEGORY,function(){return t.setIn(["ass","asscategory"],n.assCategory)}),c(e,a.CHANGE_ACCOUNT_FZHS_MODAL_CLEAR,function(){return t.set("ass",s.get("ass")).updateIn(["flags","accountAssModalShow"],function(e){return!e})}),c(e,a.CHANGE_ACCOUNT_ASSID,function(){return t.setIn(["ass","assid"],n.value)}),c(e,a.CHANGE_ACCOUNT_ASSNAME,function(){return t.setIn(["ass","assname"],n.value)}),c(e,a.CHANGE_ACCOUNT_SALARY,function(){return t=t.setIn(["cardTemp","acPayment",n.place],n.value),n.checkplace&&(t=t.setIn(["flags",n.checkplace],n.checked)),t}),c(e,a.CALCULATE_AMOUNT,function(){var e=t.getIn(["cardTemp","acPayment","companyAccumulationAmount"]),n=t.getIn(["cardTemp","acPayment","personAccumulationAmount"]),a=t.getIn(["cardTemp","acPayment","companySocialSecurityAmount"]),r=t.getIn(["cardTemp","acPayment","personSocialSecurityAmount"]),l=t.getIn(["cardTemp","acPayment","incomeTaxAmount"]),u=t.getIn(["cardTemp","amount"]),i=(t.getIn(["cardTemp","categoryType"]),t.getIn(["cardTemp","propertyPay"])),o=void 0;switch(i){case"SX_GZXJ":o=(Number(u)-Number(n)-Number(r)-Number(l)).toFixed(2);break;case"SX_ZFGJJ":o=(Number(n)+Number(e)).toFixed(2);break;case"SX_SHBX":o=(Number(a)+Number(r)).toFixed(2);break;default:o=0}return t=t.setIn(["cardTemp","acPayment","actualAmount"],o)}),c(e,a.UPDATE_ACCOUNT_LIST,function(){var e=void 0;if(n.empty)return t.setIn([].concat(o(n.placeArr)),(0,r.fromJS)([]));var a=t.getIn(n.placeArr).toJS().some(function(t,a){if(t.assCategory===n.value.assCategory)return e=a,!0});return t=a?t.setIn([].concat(o(n.placeArr),[e]),(0,r.fromJS)(n.value)):t.updateIn(n.placeArr,function(e){return e.push((0,r.fromJS)(n.value))})}),c(e,a.CALCULATE_GAIN_OR_LOSS,function(){var e=n.place,a=n.diff,r=n.deletePlace;return t.setIn(e,a).deleteIn(r,a)}),c(e,a.INIT_PAYMENT_STATE,function(){var e=t.getIn(["flags","uuidList"]);if(t=t.set("calculateTemp",n.item).setIn(["flags","PageTab"],"payment").mergeIn(["calculateTemp"],(0,r.fromJS)(n.result)).setIn(["flags","selectList"],(0,r.fromJS)([])).setIn(["flags","indexList"],(0,r.fromJS)([])).setIn(["flags","paymentType"],"LB_SFGL").setIn(["calculateTemp","ass"],n.assName).setIn(["flags","modify"],!1).setIn(["flags","paymentInsertOrModify"],"modify").setIn(["calculateTemp","runningAbstract2"],n.item.get("runningAbstract")).setIn(["calculateTemp","runningDate2"],n.item.get("runningDate")).setIn(["flags","currentSwitchUuid"],n.item.get("uuid")).setIn(["flags","isQuery"],!0).set("enclosureList",(0,r.fromJS)(n.result.enclosureList)),"state_ts"===n.stateType&&(t=t.updateIn(["calculateTemp","handleAmount"],function(e){return-Math.abs(e)}).updateIn(["calculateTemp","notHandleAmount"],function(e){return-Math.abs(e)})),(n.uuidList||e.size)&&(t=t.setIn(["flags","needRelaList"],!0)),n.uuidList?t=t.setIn(["flags","uuidList"],n.uuidList):e.size&&(t=t.setIn(["flags","uuidList"],e)),n.fromCxls&&n.result.detail&&n.result.detail.length){var a=[],l=[];n.result.detail.map(function(e,t){a.push(e.uuid),l.push(t)}),t=t.setIn(["flags","selectList"],(0,r.fromJS)(a)).setIn(["flags","indexList"],(0,r.fromJS)(l))}return t}),c(e,a.GET_PAYMENT_PERIOD,function(){return(t=t.setIn(["calculateTemp","detail"],(0,r.fromJS)(n.receivedData)).setIn(["flags","isQuery"],!1)).setIn(["flags","selectList"],(0,r.fromJS)([])).setIn(["flags","indexList"],(0,r.fromJS)([])).setIn(["flags","totalAmount"],0)}),c(e,a.LRACCOUNT_ITEM_CHECKBOX_CHECK_ALL,function(){if(n.selectAll)return t.setIn(["flags","selectList"],(0,r.fromJS)([])).setIn(["flags","indexList"],(0,r.fromJS)([]));var e=n.list,a=[],l=[];return e&&e.size&&e.forEach(function(e,t){a.push(e.get("uuid")),l.push(t)}),t.setIn(["flags","selectList"],(0,r.fromJS)(a)).setIn(["flags","indexList"],(0,r.fromJS)(l))}),c(e,a.LRACCOUNT_ITEM_CHECKBOX_CHECK,function(){var e=t.getIn(["flags","selectList"]),a=t.getIn(["flags","indexList"]);if(n.checked){var r=e.splice(e.findIndex(function(e){return e===n.uuid}),1),l=a.splice(a.findIndex(function(e){return e===n.index}),1);return t.setIn(["flags","selectList"],r).setIn(["flags","indexList"],l)}var u=e.push(n.uuid),i=a.push(n.index);return t.setIn(["flags","selectList"],u).setIn(["flags","indexList"],i)}),c(e,a.INIT_LR_ACCOUNT_PAYMENT,function(){if(n.saveAndNew){var e=t.getIn(["calculateTemp","runningDate"]);t=t.set("calculateTemp",s.get("calculateTemp")).setIn(["calculateTemp","runningDate"],e).setIn(["flags","isQuery"],!1).setIn(["flags","modify"],!1).setIn(["flags","paymentInsertOrModify"],"insert").setIn(["flags","indexList"],(0,r.fromJS)([])).setIn(["flags","selectList"],(0,r.fromJS)([])).setIn(["flags","totalAmount"],0).setIn(["flags","accountType"],"notSingle").set("enclosureList",(0,r.fromJS)([])).set("label",(0,r.fromJS)([])).set("needDeleteUrl",(0,r.fromJS)([]))}else"insert"===n.paymentInsertOrModify&&(t=t.setIn(["calculateTemp","uuid"],n.currentUuid)),t=t.setIn(["flags","isQuery"],!0).setIn(["flags","modify"],!1).setIn(["flags","paymentInsertOrModify"],"modify");return t}),c(e,a.AFTER_SAVE_ACCOUNT_PAYMENT,function(){var e=n.result.enclosureList?n.result.enclosureList:[];return t.set("calculateTemp",(0,r.fromJS)(n.result)).setIn(["flags","accountType"],"notSingle").set("enclosureList",(0,r.fromJS)(e)).setIn(["flags","isQuery"],!0).setIn(["flags","modify"],!1).setIn(["calculateTemp","uuid"],n.currentUuid).setIn(["flags","paymentInsertOrModify"],"modify")}),c(e,a.LRACCOUNT_ITEM_SEARCH_CARD_LIST,function(){if(n.isSearch){var e=n.list.map(function(e){var t=e.string.split(u.TREE_JOIN_STR)[0],n=e.string.split(u.TREE_JOIN_STR)[1],a=e.uuid;return(0,r.fromJS)({code:t,name:n,uuid:a})});return t.setIn(["flags","selectThingsList"],(0,r.fromJS)(e))}return t.setIn(["flags","selectThingsList"],(0,r.fromJS)(n.list))}),c(e,a.ACCOUNT_IUMANAGE_LIST_TITLE,function(){return t.set("tags",(0,r.fromJS)(n.data))}),c(e,a.CHANGE_ACCOUNT_MANAGE_CARD_RELATION,function(){var e=t.get("tags"),a="";if(e.find(function(t,l){t.get("uuid")===n.tag.get("uuid")&&(e=e.setIn([l,"checked"],n.checked),t.get("selectUuid")&&(a=t.get("selectUuid")),n.checked&&(e=e.setIn([l,"tree"],(0,r.fromJS)(n.tree)),0===n.tree[0].childList.length&&(e=e.setIn([l,"selectUuid"],n.tree[0].uuid).setIn([l,"selectName"],n.tree[0].name),a=n.tree[0].uuid)))}),n.checked)t=t.setIn(["iuManageTypeCard","categoryTypeList"],t.getIn(["iuManageTypeCard","categoryTypeList"]).push((0,r.fromJS)({ctgyUuid:n.tag.get("uuid"),subordinateUuid:a})));else{var l=t.getIn(["iuManageTypeCard","categoryTypeList"]).findIndex(function(e,t){return e.get("ctgyUuid")===n.tag.get("uuid")});t=t.setIn(["iuManageTypeCard","categoryTypeList"],t.getIn(["iuManageTypeCard","categoryTypeList"]).delete(l))}return t=t.set("tags",e)}),c(e,a.ACCOUNT_SAVE_IUMANAGE_TYPE_CARD,function(){if("insertAndNew"===n.flag)t=t.setIn(["iuManageTypeCard","code"],n.code).setIn(["iuManageTypeCard","name"],"");else{var e=s.get("iuManageTypeCard");t=t.set("iuManageTypeCard",e)}return t}),c(e,a.ACCOUNT_CHANGE_IUMANAGE_CARD_AC,function(){return t=t.setIn([n.place,n.acId],n.uuid).setIn([n.place,n.acName],n.name)}),c(e,a.CHANGE_ACCOUNT_CARD_RELATION_TYPE,function(){return t.getIn(["iuManageTypeCard","categoryTypeList"]).find(function(e,a){e.get("ctgyUuid")===n.tag.get("uuid")&&(t=t.setIn(["iuManageTypeCard","categoryTypeList",a,"subordinateUuid"],n.uuid))}),t.get("tags").find(function(e,a){e.get("uuid")===n.tag.get("uuid")&&(t=t.set("tags",t.get("tags").setIn([a,"selectUuid"],n.uuid).setIn([a,"selectName"],n.name)))}),t}),c(e,a.ACCOUNT_CHANGE_INVENTORY_CARD_NATURE,function(){return t=t.setIn(["inventorySettingCard",n.name],n.value)}),c(e,a.ACCOUNT_CHANGE_INVENTORY_CARD_CATEGORY_STATUS,function(){var e="";if(t.get("tagsStock").find(function(a,l){if(a.get("uuid")===n.item.get("uuid"))return t=t.setIn(["tagsStock",l,"checked"],n.value).setIn(["tagsStock",l,"tree"],(0,r.fromJS)(n.list)),a.get("selectUuid")&&(e=a.get("selectUuid")),void(n.value&&0===n.list[0].childList.length&&(t=t.setIn(["tagsStock",l,"selectUuid"],n.list[0].uuid).setIn(["tagsStock",l,"selectName"],n.list[0].name),e=n.list[0].uuid))}),n.value){var a=(0,r.fromJS)({ctgyUuid:n.item.get("uuid"),subordinateUuid:e}),l=t.getIn(["inventorySettingCard","categoryTypeList"]).push(a);t=t.setIn(["inventorySettingCard","categoryTypeList"],l)}else{var u=t.getIn(["inventorySettingCard","categoryTypeList"]).findIndex(function(e,t){return e.get("ctgyUuid")===n.item.get("uuid")}),i=t.getIn(["inventorySettingCard","categoryTypeList"]).delete(u);t=t.setIn(["inventorySettingCard","categoryTypeList"],i)}return t}),c(e,a.ACCOUNT_CHANGE_INVENTORY_CARD_CATEGORY_TYPE,function(){return t.get("tagsStock").map(function(e,a){e.get("uuid")!==n.item.get("uuid")||(t=t.setIn(["tagsStock",a,"selectUuid"],n.uuid).setIn(["tagsStock",a,"selectName"],n.name))}),t.getIn(["inventorySettingCard","categoryTypeList"]).map(function(e,a){e.get("ctgyUuid")===n.item.get("uuid")&&(t=t.setIn(["inventorySettingCard","categoryTypeList",a,"subordinateUuid"],n.uuid))}),t}),c(e,a.ACCOUNT_SAVE_INVENTORY_SETTING_CARD,function(){return t=t.set("cardList",(0,r.fromJS)(n.list)),t="insertAndNew"===n.flag?t.setIn(["inventorySettingCard","name"],"").setIn(["inventorySettingCard","code"],n.autoIncrementCode):t.set("tagsStock",t.get("originTags"))}),c(e,a.ACCOUNT_INVENTORY_SETTING_INIT,function(){return n.title.unshift({name:t.get("anotherTabName"),uuid:""}),t=t.set("tagsStock",(0,r.fromJS)(n.title)).set("originTags",(0,r.fromJS)(n.title)).set("cardList",(0,r.fromJS)(n.cardList))}),c(e,a.INIT_RELA_CARD,function(){var e=s.get("iuManageTypeCard"),a=(t.getIn(["cardTemp","propertyCost"]),t.getIn(["cardTemp","assetType"]));return t.get("tags").map(function(e,n){t=t.setIn(["tags",n,"checked"],!1)}),t=t.set("iuManageTypeCard",e).setIn(["iuManageTypeCard","advanceAcId"],n.data.defaultAc.advanceAcId).setIn(["iuManageTypeCard","advanceAcName"],n.data.defaultAc.advanceAcName).setIn(["iuManageTypeCard","receivableAcId"],n.data.defaultAc.receivableAcId).setIn(["iuManageTypeCard","receivableAcName"],n.data.defaultAc.receivableAcName).setIn(["iuManageTypeCard","payableAcId"],n.data.defaultAc.payableAcId).setIn(["iuManageTypeCard","payableAcName"],n.data.defaultAc.payableAcName).setIn(["iuManageTypeCard","prepaidAcId"],n.data.defaultAc.prepaidAcId).setIn(["iuManageTypeCard","prepaidAcName"],n.data.defaultAc.prepaidAcName).setIn(["iuManageTypeCard","code"],n.data.code),t="XZ_CZZC"===a?t.setIn(["iuManageTypeCard","isPayUnit"],!1).setIn(["iuManageTypeCard","isReceiveUnit"],!0):"XZ_GJZC"===a?t.setIn(["iuManageTypeCard","isPayUnit"],!0).setIn(["iuManageTypeCard","isReceiveUnit"],!1):"debit"===n.direction?t.setIn(["iuManageTypeCard","isPayUnit"],!1).setIn(["iuManageTypeCard","isReceiveUnit"],!0):t.setIn(["iuManageTypeCard","isPayUnit"],!0).setIn(["iuManageTypeCard","isReceiveUnit"],!1)}),c(e,a.INIT_STOCK_CARD,function(){var e=s.get("inventorySettingCard");return t.get("tagsStock").map(function(e,n){t=t.setIn(["tagsStock",n,"checked"],!1)}),t=t.set("inventorySettingCard",e).setIn(["inventorySettingCard","inventoryAcId"],n.data.defaultAc.inventoryAcId).setIn(["inventorySettingCard","inventoryAcName"],n.data.defaultAc.inventoryAcName).setIn(["inventorySettingCard","code"],n.data.code),t="debit"===n.direction?t.setIn(["inventorySettingCard","isAppliedPurchase"],!1).setIn(["inventorySettingCard","isAppliedSale"],!0):t.setIn(["inventorySettingCard","isAppliedPurchase"],!0).setIn(["inventorySettingCard","isAppliedSale"],!1)}),c(e,a.CLOSE_ACCOUNTCONF_MODAL_LR,function(){return t.setIn(["flags","showAccountModal"],!1)}),c(e,a.CHARGE_ITEM_CHECKBOX_SELECT,function(){var e=t.getIn(["flags","selectList"]),a=t.getIn(["flags","selectItem"]);if(n.checked){var l=e.splice(e.findIndex(function(e){return e===n.uuid}),1),u=a.splice(e.findIndex(function(e){return e.uuid===n.uuid}),1);return t.setIn(["flags","selectList"],l).setIn(["flags","selectItem"],(0,r.fromJS)(u))}var i=e.push(n.uuid),o=a.push((0,r.fromJS)({uuid:n.uuid,name:n.name,code:n.code}));return t.setIn(["flags","selectList"],i).setIn(["flags","selectItem"],(0,r.fromJS)(o))}),c(e,a.INIT_COMMON_CHARGE,function(){var e=s.getIn(["flags","paymentInsertOrModify"]);if(n.saveAndNew){s.get("flags");var a=t.getIn(["commonChargeTemp","runningDate"]),l=s.get("commonChargeTemp");return t.set("commonChargeTemp",l).setIn(["commonChargeTemp","runningDate"],a).setIn(["flags","isQuery"],!1).setIn(["flags","modify"],!1).setIn(["flags","paymentInsertOrModify"],"insert").setIn(["flags","indexList"],(0,r.fromJS)([])).setIn(["flags","selectList"],(0,r.fromJS)([])).set("enclosureList",(0,r.fromJS)([])).set("label",(0,r.fromJS)([])).set("needDeleteUrl",(0,r.fromJS)([]))}return"insert"===e&&(t=t.setIn(["commonChargeTemp","uuid"],n.uuid).setIn(["commonChargeTemp","flowNumber"],n.flowNumber)),t.setIn(["flags","paymentInsertOrModify"],"modify").setIn(["flags","modify"],!0)}),c(e,a.INIT_COMMON_CHARGE_FROM_CXLS,function(){var e=t.getIn(["flags","uuidList"]);(n.uuidList||e.size)&&(t=t.setIn(["flags","needRelaList"],!0)),n.uuidList?t=t.setIn(["flags","uuidList"],n.uuidList):n.uuidList.size&&(t=t.setIn(["flags","uuidList"],n.uuidList));var a=n.data.enclosureList?n.data.enclosureList:[];return t.set("commonChargeTemp",(0,r.fromJS)(n.data)).set("enclosureList",(0,r.fromJS)(a)).setIn(["flags","PageTab"],"payment").setIn(["flags","paymentType"],"LB_GGFYFT").setIn(["flags","modify"],!0).setIn(["flags","paymentInsertOrModify"],"modify").setIn(["flags","currentSwitchUuid"],n.uuid)}),c(e,a.CHANGE_RUNNING_ENCLOSURE_LIST,function(){var e=[];return t.get("enclosureList").map(function(t){e.push(t)}),n.imgArr.forEach(function(t){e.push(t)}),t=t.set("enclosureList",(0,r.fromJS)(e)).set("enclosureCountUser",e.length)}),c(e,a.DELETE_UPLOAD_FJ_URL,function(){var e=[];return t.get("needDeleteUrl").map(function(t){e.push(t)}),t.get("enclosureList").map(function(a,r){r==n.index&&(e.push(t.getIn(["enclosureList",r]).set("beDelete",!0)),t=t.deleteIn(["enclosureList",r]))}),t=t.set("needDeleteUrl",(0,r.fromJS)(e)).set("enclosureCountUser",t.get("enclosureList").size)}),c(e,a.GET_LS_LABEL_FETCH,function(){return t=t.set("label",(0,r.fromJS)(n.receivedData.data)).set("tagModal",!0)}),c(e,a.CHANGE_LS_TAG_NAME,function(){return t.get("enclosureList").map(function(e,a){a==n.index&&(t=t.setIn(["enclosureList",a,"label"],n.value))}),t=t.set("tagModal",!1)}),c(e,a.AFTER_INSERT_JZSY,function(){var e=s.getIn(["flags","paymentInsertOrModify"]),a=s.get("CqzcTemp"),l=t.getIn(["CqzcTemp","detail","runningDate"]);return n.saveAndNew?t.set("CqzcTemp",a).setIn(["CqzcTemp","detail","runningDate"],l).setIn(["flags","isQuery"],!1).setIn(["flags","modify"],!1).setIn(["flags","paymentInsertOrModify"],"insert").set("enclosureList",(0,r.fromJS)([])).set("label",(0,r.fromJS)([])).set("needDeleteUrl",(0,r.fromJS)([])):("insert"===e&&(t=t.setIn(["CqzcTemp","detail","uuid"],n.uuid).setIn(["CqzcTemp","detail","flowNumber"],n.flowNumber)),t.setIn(["flags","paymentInsertOrModify"],"modify").setIn(["flags","modify"],!0))}),c(e,a.INIT_JZSY_FROM_CXLS,function(){var e=t.getIn(["flags","uuidList"]);return(n.uuidList||e.size)&&(t=t.setIn(["flags","needRelaList"],!0)),n.uuidList?t=t.setIn(["flags","uuidList"],n.uuidList):e.size&&(t=t.setIn(["flags","uuidList"],e)),t.setIn(["CqzcTemp","detail"],(0,r.fromJS)(n.data)).setIn(["flags","PageTab"],"payment").setIn(["flags","paymentType"],"LB_JZSY").setIn(["flags","modify"],!0).setIn(["flags","paymentInsertOrModify"],"modify").setIn(["flags","currentSwitchUuid"],n.uuid).set("enclosureList",(0,r.fromJS)(n.data.enclosureList))}),e)[n.type]||function(){return t})()};var a=i(n(1313)),r=n(18),l=n(22),u=i(n(27));function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=(0,r.fromJS)({flags:{issuedate:"",main:"duty",insertOrModify:"insert",runningInsertOrModify:"insert",paymentInsertOrModify:"insert",payOrReceive:"收",accountAssModalShow:!1,curCategory:"全部",curAccountUuid:"全部",assId:"",assCategory:"",acId:"",selectList:[],showRunningInfo:{},PageTab:"business",paymentType:"",paymentUuid:"",isQuery:!1,isQueryByBusiness:!1,modify:!1,indexList:[],personAccumulationAmountchecked:!0,personSocialSecurityAmountchecked:!0,incomeTaxAmountchecked:!0,pzFailedButtonShow:!1,specialStateforAccrued:!1,specialStateforAssets:!1,showContactsModal:!1,MemberList:[],thingsList:[],selectThingsList:[],managerCategoryList:[],amount:0,showAccountModal:!1,stockThingsList:[],contactsThingsList:[],needRelaList:!1,uuidList:[],costStockList:[],selectItem:[],totalAmount:0},iuManageTypeCard:{isPayUnit:!0,isReceiveUnit:!0,insertOrModify:"insert",categoryTypeList:[],receivableOpened:"0",advanceOpened:"0",payableOpened:"0",prepaidOpened:"0",name:"",code:"",companyAddress:"",companyTel:"",financeName:"",financeTel:"",remark:"",contacterInfo:!1,enableAdvanceAc:!0,enablePrepaidAc:!0},inventorySettingCard:{isAppliedPurchase:!0,isAppliedSale:!0,insertOrModify:"insert",categoryTypeList:[],receivableOpened:"0",advanceOpened:"0",payableOpened:"0",prepaidOpened:"0",name:"",code:"",isOpenedQuantity:!1},tags:[],tagsStock:[],calculateTemp:{paymentList:[],detail:[],runningIndex:0,usedCard:{code:"",name:""},runningDate:(0,l.formatDate)(),runningAbstract:"核销账款",contactsCardRange:{name:"",code:""},stockCardList:{name:"",code:""}},commonChargeTemp:{runningDate:(0,l.formatDate)().slice(0,10),projectCard:[],paymentList:[],runningAbstract:"公共费用分摊"},CqzcTemp:{projectRange:[],assetsCategory:[{childList:[]}],projectList:[],detail:{acAssets:{depreciationAmount:"",originalAssetsAmount:""},projectCard:[{uuid:"",name:"",code:""}],runningDate:(0,l.formatDate)().slice(0,10),runningAbstract:"长期资产处置损益",businessList:[]}},issues:[],cardTemp:{paymentList:[],uuid:"",name:"",property:"",flowNumber:"",runningAbstract:"",acAvailable:!0,canDelete:!1,runningIndex:0,categoryType:"",propertyCost:"",beCarryover:!1,runningState:"",runningDate:(0,l.formatDate)(),billType:"",billStates:"",priceTaxTotal:"",taxRate:0,tax:"",amount:"",handleAmount:"",notHandleAmount:"",offsetAmount:"",childList:[],running:[],taxPayState:"",propertyCostList:[],accountName:"",accountUuid:"",beCertified:!1,carryoverAmount:"",propertyPay:"",propertyAssets:"",propertyCarryover:"",propertyTax:"",propertyInvest:"",billAcList:[],billAssList:[],queryObj:{amount:0,handleAmount:0,companyAccumulationAmount:0,personAccumulationAmount:0,companySocialSecurityAmount:0,personSocialSecurityAmount:0,incomeTaxAmount:0},acCost:{saleAc:[{categoryUuid:"",acId:"",acKey:"",type:"",acFullName:"",assCategoryList:[]}],saleList:[{assId:"",assName:"",assCategory:[]}],manageAc:[],manageList:[],financeAc:[],financeList:[],deliveryAc:[],deliveryList:[],beManagemented:!1},acBusinessIncome:{incomeAc:[],incomeList:[],receivablesAc:[],receivablesList:[],inAdvanceAc:[],inAdvanceList:[],stockAc:[],stockList:[],carryoverAc:[],carryoverList:[],beManagemented:!1,beDeposited:!1,beCarryover:!1,stockCardList:{uuid:""}},acBusinessExpense:{payAc:[],payList:[],deliveryAc:[],deliveryList:[],inAdvanceAc:[],inAdvanceList:[],beManagemented:!1,beDeposited:!1},acBusinessOutIncome:{relationAc:[],relationList:[],receivablesAc:[],receivablesList:[],beManagemented:!1},acBusinessOutExpense:{relationAc:[],relationList:[],deliveryAc:[],deliveryList:[],beManagemented:!1},acTemporaryReceipt:{relationAc:[],relationList:[]},acTemporaryPay:{relationAc:[],relationList:[]},acPayment:{saleAc:[],saleList:[],manageAc:[],manageList:[],accruedAc:[],accruedList:[],fundAc:[],fundList:[],socialSecurityAc:[],socialSecurityList:[],incomeTaxAc:[],incomeTaxList:[],welfareAc:[],welfareList:[],beAccrued:!1,beWithholding:!1,beWelfare:!1,actualAmount:0,companyAccumulationAmount:"",personAccumulationAmount:"",companySocialSecurityAmount:"",personSocialSecurityAmount:"",incomeTaxAmount:""},acTax:{accruedAc:[],accruedList:[],payAc:[],payList:[],turnOutAc:[],turnOutList:[],inAdvanceAc:[],inAdvanceList:[],beAccrued:!1,beTurnOut:!1,beInAdvance:!1},acLoan:{loanAc:[],loanList:[],interestAc:[],interestList:[],unpaidInterestAc:[],unpaidInterestList:[],beAccrued:!1},acInvest:c({investAc:[],investList:[],profitAc:[],profitList:[],uncollectedProfitAc:[],uncollectedProfitList:[],uncollectedInterestAc:[],beAccrued:!1},"uncollectedInterestAc",[]),acCapital:{capitalAc:[],capitalList:[],unassignedAc:[],unassignedList:[],assignedAc:[],assignedList:[],payableAc:[],payableList:[],beAccrued:!1},acAssets:{assetsAc:[],assetsList:[],incomeAc:[],incomeList:[],lossAc:[],lossList:[],depreciationAc:[],depreciationList:[],cleaningAc:[],cleaningList:[],upgradeAc:[],upgradeList:[],receivablesAc:[],receivablesList:[],payableAc:[],payableList:[],beManagemented:!1,beCleaning:!1,netProfitAmount:"",originalAssetsAmount:"",depreciationAmount:"",cleaningAmount:"",upgradingAmount:""}},enclosureList:[],previewImageList:[],needDeleteUrl:[],tagModal:!1,label:[]})},1308:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.changeAllQcListInMoudle=t.initAllShow=t.firstChildToggle=t.addRunningBeginItem=t.searchCardList=t.restoreModification=t.contactsItemCheckboxCheckAll=t.contactsItemCheckboxCheck=t.changeModifyBtn=t.showContactsModal=t.changeQcList=t.QCTriangleSwitch=t.deleteBeginningMembers=t.saveBeginningBalance=t.getContactsMember=t.getDetailsListInfo=t.modifyPeriod=t.getBeginningList=t.showQcye=void 0;var a=d(n(37));n(38);var r=s(n(1519)),l=n(18),u=d(n(52)),i=n(22),o=s(n(30)),c=(s(n(43)),s(n(27)));function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function d(e){return e&&e.__esModule?e:{default:e}}t.showQcye=function(e){return function(t){t({type:r.SHOW_LSQC,value:e})}};var f=t.getBeginningList=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,a){var l=a().homeState.getIn(["data","userInfo","sobInfo","moduleInfo"]),c=!!l&&!(l.indexOf("GL")>-1);n({type:r.SWITCH_LOADING_MASK}),(0,u.default)("getBeginAllList","POST",JSON.stringify({isSimplify:c}),function(a){n({type:r.SWITCH_LOADING_MASK}),(0,i.showMessage)(a)&&(n({type:r.GET_BEGINNING_LIST,receivedData:a.data,isPerid:e}),t&&a.data.result.balancePeriod.isCheckOut&&o.Alert("该账期已结账，反结账后即可修改期初值"))})}},g=(t.modifyPeriod=function(e){return function(t){t({type:r.SWITCH_LOADING_MASK}),(0,u.default)("modifyBeginPeriod","POST",JSON.stringify({year:e?e.substr(0,4):"",month:e?e.substr(6,2):""}),function(n){t({type:r.SWITCH_LOADING_MASK}),(0,i.showMessage)(n)&&t({type:r.MODIFY_PERIOD_ACCOUNT,issuedate:e})})}},t.getDetailsListInfo=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return function(t,l){var o="1"==n.get("property")||"2"==n.get("property")||"3"==n.get("property")?"":n.get("property");t({type:r.SWITCH_LOADING_MASK}),(0,u.default)("getBegin"+e+"List","POST",JSON.stringify({sobId:sessionStorage.getItem("sobId"),property:o,inventoryNature:n.get("inventoryNature"),projectProperty:"CARD_PROPERTY_BASIC"===n.get("property")?"XZ_PRODUCE":"XZ_CONSTRUCTION",used:!0,currentPage:a,pageSize:c.MXB_CARD_PAGE_SIZE}),function(a){t({type:r.SWITCH_LOADING_MASK}),(0,i.showMessage)(a)&&(t({type:r.GET_BEGINNING_CATEGORY,receivedData:a.data,cardType:e,item:n}),t(m(!0,n.get("isDefinite"),n)))})}},t.getContactsMember=function(e,t,n,a,l,o,s){var d=arguments.length>7&&void 0!==arguments[7]?arguments[7]:1;return function(f){var g=void 0,m=void 0,_=void 0;"0"==l?(m=t,g="",_=!0):""==l?(_=!0,m="",g=""):(m="",g=t,_=!1);var T="Contacts"===e?a:"";(0,u.default)("getBegin"+e+"MemberList","POST",JSON.stringify({categoryUuid:m,subordinateUuid:g,sobId:n,property:T,inventoryNature:o,listByCategory:_,projectProperty:"CARD_PROPERTY_BASIC"===a?"XZ_PRODUCE":"XZ_CONSTRUCTION",used:!0,currentPage:d,pageSize:c.MXB_CARD_PAGE_SIZE}),function(n){if((0,i.showMessage)(n)){var a={currentPage:n.data.currentPage?n.data.currentPage:1,pages:n.data.pages?n.data.pages:1,total:n.data.total?n.data.total:1};f({type:r.GET_CONTACTS_MEMBERS_LIST,receivedData:n.data,cardType:e,Uuid:t,level:l,searchCardContent:s,cardPageObj:a})}})}},t.saveBeginningBalance=function(e,t){return function(n,o){var c=o().lsqcState,s=t?(0,l.fromJS)(t):c.get("changeQcList");if(s.some(function(e){return"-"===e.get("amount")}))return a.default.info("请输入有效的数值");n({type:r.SWITCH_LOADING_MASK}),(0,u.default)("ModifyBegin"+e,"POST",JSON.stringify({operateList:s,isClear:!!t}),function(t){if(n({type:r.SWITCH_LOADING_MASK}),(0,i.showMessage)(t))if(0!==t.code)a.default.info(t.code+" "+t.message);else{if(t.message)if(t.data.errorList.length){var l=t.data.errorList.join(",");a.default.error(l)}else a.default.success(t.message);n(_(e))}n(f())})}}),m=(t.deleteBeginningMembers=function(e,t){return function(n,a){n({type:r.DELETE_BEGINNING_LIST_ITEM,item:e,listName:t})}},t.QCTriangleSwitch=function(e,t){return{type:r.BEGINNING_TRIANGLE_SWITCH,showChild:e,uuid:t}},t.changeQcList=function(e,t,n,a,l,u){return{type:r.CHANGE_BEGINNING_LIST,listItem:e,item:t,number:n,leve:a,listName:l,amountName:u}},t.showContactsModal=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return function(a){a({type:r.CHANGE_QCMODAL_SHOW_HIDE,value:e,isDefinite:t,item:n}),a(T())}}),_=(t.changeModifyBtn=function(e,t){return{type:r.CHANGE_QCBUTTON_MODIFY_SAVE,name:e,value:t}},t.contactsItemCheckboxCheck=function(e,t,n,a){return{type:r.CONTACTS_ITEM_CHECKBOX_SELECT,checked:e,uuid:t,name:n,code:a}},t.contactsItemCheckboxCheckAll=function(e,t,n,a){return{type:r.CONTACTS_ITEM_CHECKBOX_CHECK_ALL,selectAll:e,listName:t,addItemProperty:n,showMemberList:a}},t.restoreModification=function(e){return{type:r.LSQC_RESTORE_MODIFICATION,curModifyBtn:e}}),T=t.searchCardList=function(e,t){return{type:r.LSQC_SEARCH_CARD_LIST,searchValue:t,cardType:e}};t.addRunningBeginItem=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return function(a){a({type:r.LSQC_ADD_RUNNING_BEGIN,addItemType:e,addShowChilidUuid:n}),a(m(!1,t))}},t.firstChildToggle=function(e){return function(t){t({type:r.FIRST_CHILD_TOGGLE,listName:e})}},t.initAllShow=function(e){return{type:r.INIT_MODULE_ALL_SHOW,isShow:e}},t.changeAllQcListInMoudle=function(e){return function(t,n){var a=[],r=["PROJECT_PRODUCT_BASIC_CATEGORY_UUID","PROJECT_CONSTRUCTION_COST_CATEGORY_UUID","PROJECT_CONSTRUCTION_PROFIT_CATEGORY_UUID","PROJECT_SETTLEMENT_CATEGORY_UUID"],l=n().lsqcState.getIn(["QcList",e,"List","childList"]);!function t(n,l){return n.map(function(n,u){n.childList&&n.childList.length>0?t(n.childList,l+1):(("Contacts"===e||"Stock"===e)&&l>1||"Contacts"!==e&&"Stock"!==e&&-1===r.indexOf(n.relationUuid))&&a.push({uuid:n.uuid,name:n.name,amount:0,operateType:"Contacts"===e||"Stock"===e||"Project"===e?"2":"3",balanceGroup:n.balanceGroup?n.balanceGroup:"",property:n.property,inventoryNature:n.inventoryNature})})}(l?l.toJS():[],1),t(g(e,a))}}},1313:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SWITCH_LOADING_MASK="SWITCH_LOADING_MASK",t.INIT_LR_ACCOUNT="INIT_LR_ACCOUNT",t.INIT_LR_ACCOUNT_SETTINGS="INIT_LR_ACCOUNT_SETTINGS",t.CALCULATE_FROM_CXLS_JUMP_TO_LRLS="CALCULATE_FROM_CXLS_JUMP_TO_LRLS",t.INVOICING_FROM_CXLS_JUMP_TO_LRLS="INVOICING_FROM_CXLS_JUMP_TO_LRLS",t.SELECT_ACCOUNT_RUNNING_CATEGORY="SELECT_ACCOUNT_RUNNING_CATEGORY",t.SELECT_RUNNING_AC_INFO="SELECT_RUNNING_AC_INFO",t.SELECT_ACCOUNT_ASS="SELECT_ACCOUNT_ASS",t.CHANGE_LR_ACCOUNT_COMMON_STRING="CHANGE_LR_ACCOUNT_COMMON_STRING",t.GET_RUNNING_ACCOUNT_INFO="GET_RUNNING_ACCOUNT_INFO",t.CHANGE_LR_ACCOUNT_ACCOUNT_NAME="CHANGE_LR_ACCOUNT_ACCOUNT_NAME",t.CHANGE_ACCOUNT_BILL_TYPE="CHANGE_ACCOUNT_BILL_TYPE",t.AUTO_CALCULATE_BILL_INFO="AUTO_CALCULATE_BILL_INFO",t.CHANGE_ACCOUNT_TAX_RATE="CHANGE_ACCOUNT_TAX_RATE",t.CHANGE_ACCOUNT_FZHS_MODAL_DISPLAY="CHANGE_ACCOUNT_FZHS_MODAL_DISPLAY",t.CHANGE_ACCOUNT_ASS_CATEGORY="CHANGE_ACCOUNT_ASS_CATEGORY",t.CHANGE_ACCOUNT_FZHS_MODAL_CLEAR="CHANGE_ACCOUNT_FZHS_MODAL_CLEAR",t.CHANGE_ACCOUNT_ASSID="CHANGE_ACCOUNT_ASSID",t.CHANGE_ACCOUNT_ASSNAME="CHANGE_ACCOUNT_ASSNAME",t.CHANGE_ACCOUNT_SALARY="CHANGE_ACCOUNT_SALARY",t.CALCULATE_AMOUNT="CALCULATE_AMOUNT",t.UPDATE_ACCOUNT_LIST="UPDATE_ACCOUNT_LIST",t.CALCULATE_GAIN_OR_LOSS="CALCULATE_GAIN_OR_LOSS",t.INIT_PAYMENT_STATE="INIT_PAYMENT_STATE",t.GET_PAYMENT_PERIOD="GET_PAYMENT_PERIOD",t.LRACCOUNT_ITEM_CHECKBOX_CHECK_ALL="LRACCOUNT_ITEM_CHECKBOX_CHECK_ALL",t.LRACCOUNT_ITEM_CHECKBOX_CHECK="LRACCOUNT_ITEM_CHECKBOX_CHECK",t.INIT_LR_ACCOUNT_PAYMENT="INIT_LR_ACCOUNT_PAYMENT",t.AFTER_SAVE_ACCOUNT_PAYMENT="AFTER_SAVE_ACCOUNT_PAYMENT",t.GET_ACCOUNTCONF_ALL_SETTINGS="GET_ACCOUNTCONF_ALL_SETTINGS",t.LRACCOUNT_ITEM_SEARCH_CARD_LIST="LRACCOUNT_ITEM_SEARCH_CARD_LIST",t.SET_INVOIC_ASSLIST_FROM_SETTINGS="SET_INVOIC_ASSLIST_FROM_SETTINGS",t.GET_ACCOUNTCONF_CATEGORY_LIST="GET_ACCOUNTCONF_CATEGORY_LIST",t.ACCOUNT_IUMANAGE_LIST_TITLE="ACCOUNT_IUMANAGE_LIST_TITLE",t.CHANGE_ACCOUNT_MANAGE_CARD_RELATION="CHANGE_ACCOUNT_MANAGE_CARD_RELATION",t.ACCOUNT_SAVE_IUMANAGE_TYPE_CARD="ACCOUNT_SAVE_IUMANAGE_TYPE_CARD",t.ACCOUNT_CHANGE_IUMANAGE_CARD_AC="ACCOUNT_CHANGE_IUMANAGE_CARD_AC",t.CHANGE_ACCOUNT_CARD_RELATION_TYPE="CHANGE_ACCOUNT_CARD_RELATION_TYPE",t.CALCULATE_CHANGE_QUERY="CALCULATE_CHANGE_QUERY",t.TRANSFER_OUT_FROM_CXLS_JUMP_TO_NBZZ="TRANSFER_OUT_FROM_CXLS_JUMP_TO_NBZZ",t.TRANSFER_OUT_FROM_CXLS_JUMP_TO_ZJTX="TRANSFER_OUT_FROM_CXLS_JUMP_TO_ZJTX",t.TRANSFER_OUT_FROM_CXLS_JUMP_TO_LRLS="TRANSFER_OUT_FROM_CXLS_JUMP_TO_LRLS",t.INVOICE_AUTH_FROM_CXLS_JUMP_TO_LRLS="INVOICE_AUTH_FROM_CXLS_JUMP_TO_LRLS",t.COST_TRANSFER_FROM_CXLS_JUMP_TO_LRLS="COST_TRANSFER_FROM_CXLS_JUMP_TO_LRLS",t.ACCOUNT_CHANGE_INVENTORY_CARD_NATURE="ACCOUNT_CHANGE_INVENTORY_CARD_NATURE",t.ACCOUNT_CHANGE_INVENTORY_CARD_CATEGORY_STATUS="ACCOUNT_CHANGE_INVENTORY_CARD_CATEGORY_STATUS",t.ACCOUNT_CHANGE_INVENTORY_CARD_CATEGORY_TYPE="ACCOUNT_CHANGE_INVENTORY_CARD_CATEGORY_TYPE",t.ACCOUNT_SAVE_INVENTORY_SETTING_CARD="ACCOUNT_SAVE_INVENTORY_SETTING_CARD",t.ACCOUNT_INVENTORY_SETTING_INIT="ACCOUNT_INVENTORY_SETTING_INIT",t.INIT_RELA_CARD="INIT_RELA_CARD",t.INIT_STOCK_CARD="INIT_STOCK_CARD",t.CLOSE_ACCOUNTCONF_MODAL_LR="CLOSE_ACCOUNTCONF_MODAL_LR",t.AFTER_SUCCESS_INSERT_INVOICING_ITEM="AFTER_SUCCESS_INSERT_INVOICING_ITEM",t.AFTER_SUCCESS_INSERT_TRANSFER_OUT_ITEM="AFTER_SUCCESS_INSERT_TRANSFER_OUT_ITEM",t.AFTER_SUCCESS_INSERT_LB_ZZ_ITEM="AFTER_SUCCESS_INSERT_LB_ZZ_ITEM",t.AFTER_SUCCESS_INSERT_INVOICEAUTH_ITEM="AFTER_SUCCESS_INSERT_INVOICEAUTH_ITEM",t.AFTER_SUCCESS_INSERT_CARRYOVER_ITEM="AFTER_SUCCESS_INSERT_CARRYOVER_ITEM",t.CHARGE_ITEM_CHECKBOX_SELECT="CHARGE_ITEM_CHECKBOX_SELECT",t.INIT_COMMON_CHARGE="INIT_COMMON_CHARGE",t.INIT_COMMON_CHARGE_FROM_CXLS="INIT_COMMON_CHARGE_FROM_CXLS",t.INIT_LR_CALCULATE_STATE="INIT_LR_CALCULATE_STATE",t.INIT_LR_ACOUNT_STATE="INIT_LR_ACOUNT_STATE",t.CHANGE_RUNNING_ENCLOSURE_LIST="CHANGE_RUNNING_ENCLOSURE_LIST",t.DELETE_UPLOAD_FJ_URL="DELETE_UPLOAD_FJ_URL",t.CHANGE_CALCULATE_ENCLOSURE_LIST="CHANGE_CALCULATE_ENCLOSURE_LIST",t.DELETE_CALCULATE_UPLOAD_FJ_URL="DELETE_CALCULATE_UPLOAD_FJ_URL",t.GET_LS_LABEL_FETCH="GET_LS_LABEL_FETCH",t.CHANGE_LS_TAG_NAME="CHANGE_LS_TAG_NAME",t.GET_CAL_LABEL_FETCH="GET_CAL_LABEL_FETCH",t.CHANGE_CAL_TAG_NAME="CHANGE_CAL_TAG_NAME",t.AFTER_INSERT_JZSY="AFTER_INSERT_JZSY",t.INIT_JZSY_FROM_CXLS="INIT_JZSY_FROM_CXLS",t.AFTER_GET_UPLOAD_SIGNATURE="AFTER_GET_UPLOAD_SIGNATURE"},1326:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=C(n(47)),l=C(n(14)),u=C(n(37)),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(46),n(78),n(38);var o=n(1),c=C(o),s=n(18),d=n(17),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(30)),g=(n(22),n(31)),m=C(n(1415)),_=C(n(1327)),T=n(43),p=n(104);function C(e){return e&&e.__esModule?e:{default:e}}var E=(0,d.immutableRenderDecorator)(a=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.setUploadParam=function(t,n,a){var r=e.props.uploadKeyJson.get("dir");""!=n&&(e.get_suffix(n),r=e.calculateObjectName(n,r));var l={key:r,policy:e.props.uploadKeyJson.get("policy"),OSSAccessKeyId:e.props.uploadKeyJson.get("accessKeyId"),success_action_status:"200",callback:e.props.uploadKeyJson.get("callback"),signature:e.props.uploadKeyJson.get("signature")};t.setOption({url:e.props.uploadKeyJson.get("host"),multipart_params:l}),t.start()},e.callback=function(e,t,n){e.removeFile(t),e.addFile(n)},e.reUploadFile=function(e,t,n){e.removeFile(t.id),e.addFile(n.getNative())},e.get_suffix=function(e){var t=e.lastIndexOf("."),n="";return-1!=t&&(n=e.substring(t)),n},e.calculateObjectName=function(e,t){return t+(new Date).getTime()+"/"+e},e.checkEnclosureExist=function(t){for(var n=e.props.enclosureList?e.props.enclosureList:(0,s.fromJS)([]),a=!1,r=0;r<n.size;r++)if(n.getIn([r,"fileName"])==t.name){a=!0;break}return a},e.dataURLtoBlob=function(e){for(var t=e.split(","),n=(t[0].match(/:(.*?);/)[1],atob(t[1])),a=n.length,r=new Uint8Array(a);a--;)r[a]=n.charCodeAt(a);return new Blob([r],{type:"image/jpeg"})},e.state={uploadingModal:!1,errMessage:"",secondUpload:!1,isClipBoardUpload:!1,compressFileLength:0,clipUploadFile:function(){}},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.default.Component),i(t,[{key:"componentDidMount",value:function(){var e=this,t=new m.default.Uploader({browse_button:void 0===e.props.id?"browse":e.props.id,drop_element:"drag-area",multi_selection:!0,url:g.ROOTPKT+"/aliyun/oss/callback",filters:{max_file_size:"10mb",prevent_duplicates:!1}});t.init();var n=0,a=0;t.bind("FilesAdded",function(t,a){if(void 0!==e.props.uploadKeyJson.get("checkMoreFj")&&!1===e.props.uploadKeyJson.get("checkMoreFj"))return a.forEach(function(e,n){t.removeFile(e.id)}),void e.setState({uploadingModal:!0,errMessage:"贵公司的附件容量已用完"});if(a.length>0){if(e.state.secondUpload)return e.setUploadParam(t,a[0].name,""),void(1==e.state.compressFileLength?e.setState({secondUpload:!1,compressFileLength:0}):e.setState({compressFileLength:e.state.compressFileLength-1}));if(e.props.dispatch((0,T.switchLoadingMask)()),a.length>9||a.length+e.props.enclosureList.size>9)return u.default.error("最多上传9个附件",3),a.forEach(function(e,n){t.removeFile(e.id)}),void e.props.dispatch((0,T.switchLoadingMask)());for(var r=!1,l=!0,i=!1,o=0;o<a.length;o++){var c=a[o],s=c.name;if(s.indexOf("@")>-1){e.setState({uploadingModal:!0,errMessage:"文件名中不允许包含@符号"}),l=!1,a.forEach(function(e,n){t.removeFile(e.id)}),e.props.dispatch((0,T.switchLoadingMask)());break}if(s.length>40){e.setState({uploadingModal:!0,errMessage:"文件名称不能超过40字符"}),l=!1,a.forEach(function(e,n){t.removeFile(e.id)}),e.props.dispatch((0,T.switchLoadingMask)());break}if(e.checkEnclosureExist(a[o])){e.setState({uploadingModal:!0,errMessage:"文件名已存在"}),l=!1,a.forEach(function(e,n){t.removeFile(e.id)}),e.props.dispatch((0,T.switchLoadingMask)());break}"image"==c.type.substr(0,5)&&c.size>204800&&(i=!0)}if(l){if(n=a.length,e.state.isClipBoardUpload)return void e.setUploadParam(t,"",!1);if(i)e.props.dispatch((0,T.switchLoadingMask)()),f.Confirm({message:"请选择是否原图上传",title:"提示",buttonLabels:["压缩上传","原图上传"],onSuccess:function(n){e.props.dispatch((0,T.switchLoadingMask)()),r=1!==n.buttonIndex;for(var l=function(n){var l=new FileReader,i=new Image,o=document.createElement("canvas"),c=o.getContext("2d");if("image"==a[n].type.substr(0,5)){var s=a[n].getNative();l.readAsDataURL(s),l.onload=function(e){i.src=e.target.result},i.onload=function(){var l=a[n];if(l.size>204800)if(r)try{var s=i.width,d=i.height,f=1*s,g=1*d;o.width=f,o.height=g,c.clearRect(0,0,f,g),c.drawImage(i,0,0,f,g);var m=o.toDataURL("image/jpeg",.3),_=e.dataURLtoBlob(m);_.name=l.name,l.size<_.size?l.size<=2097152?n+1===a.length&&e.setUploadParam(t,"",!1):((0,u.default)("压缩上传失败，仅可上传原图"),a.length):_.size<=2097152?(e.callback(t,l.id,_),e.setState({compressFileLength:e.state.compressFileLength+1,secondUpload:!0}),n+1===a.length&&e.setUploadParam(t,"",!1)):((0,u.default)("压缩上传失败，仅可上传原图"),a.length)}catch(t){a.length,e.setState({uploadingModal:!0,errMessage:"图片压缩异常，不支持该图片压缩"})}else n+1===a.length&&e.setUploadParam(t,"",!1);else n+1===a.length&&e.setUploadParam(t,"",!1)}}else n+1===a.length&&e.setUploadParam(t,"",!1)},i=0;i<a.length;i++)l(i)}});else for(var d=0;d<a.length;d++)d+1===a.length&&e.setUploadParam(t,"",!1)}}}),t.bind("FileUploaded",function(t,r,l){t.removeFile(r.id),a+=1,200==l.status?e.props.uploadEnclosureList([r.name,r,JSON.parse(l.response),a===n]):203==l.status?u.default.info("上传到OSS成功，但是oss访问用户设置的上传回调服务器失败，失败原因是:"+l.response):u.default.info(l.response),a===n&&(a=0,n=0,t.files.forEach(function(e){t.removeFile(e.id)}))}),t.bind("BeforeUpload",function(t,n){e.setUploadParam(t,n.name,!0)}),t.bind("Error",function(t,r){-600==r.code?u.default.info("文件最大不能超过10M"):-601==r.code?u.default.info("不能上传所选择的文件类型"):-602==r.code?u.default.info("这个文件已经上传过一遍了"):(0===r.status?f.Alert("服务器正忙，请稍后再试","确定"):f.Alert("上传出错:"+r.response,"确定"),(0,p.xfnFetchErrorToDeveloper)({title:"上传出错",message:r.status+"-"+r.code+"-"+r.message+"-"+r.requestId+"-"+JSON.stringify(r.file),remark:"附件"},{msgTextSend:g.ROOT+"/msg/text/send"}),(a+=1)===n&&(a=0,n=0,t.files.forEach(function(e){t.removeFile(e.id)}),e.props.dispatch((0,T.switchLoadingMask)())))}),this.clipUploadFile=function(e){t.addFile(e)}}},{key:"render",value:function(){var e=this,t=this.props,n=t.formPage,a=(t.dispatch,t.enclosureList,t.uploadEnclosureList,t.style),u=(t.uploadKeyJson,t.getUploadTokenFetch),i=this.state,s=i.uploadingModal,d=i.errMessage;i.secondUpload,i.isClipBoardUpload;return c.default.createElement(o.Fragment,null,c.default.createElement("div",{className:"enclosure-item enclosure-add-file",style:a,id:"drag-area"},c.default.createElement("a",{className:"enclosure-item-input",id:void 0===this.props.id?"browse":this.props.id,onClick:function(){u(),e.setState({secondUpload:!1,isClipBoardUpload:!1})}}),c.default.createElement(l.default,{type:"plus"}),c.default.createElement(r.default,{title:"上传失败",visible:s,onOk:function(){return e.setState({uploadingModal:!1})},onCancel:function(){return e.setState({uploadingModal:!1})}},c.default.createElement("p",null,d))),c.default.createElement(_.default,{getUploadTokenFetch:u,clipUploadFile:function(t){e.setState({secondUpload:!1,isClipBoardUpload:!0}),e.clipUploadFile(t)},formPage:n}))}}]),t}())||a;t.default=E},1327:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=s(n(37)),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(38);var u=s(n(1)),i=(n(18),n(17)),o=n(22),c=s(n(1328));function s(e){return e&&e.__esModule?e:{default:e}}var d=(0,i.immutableRenderDecorator)(a=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.get_suffix=function(e){var t=e.lastIndexOf("."),n="";return-1!=t&&(n=e.substring(t)),n},e.state={clipBoardModalShow:!1,clipBoardFile:"",clipBoardBlob:"",isCustomName:!1,fileName:"",widthHeigthRate:1},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default.Component),l(t,[{key:"componentDidMount",value:function(){var e=this;document.getElementById(this.props.formPage?this.props.formPage:"clipBoard").addEventListener("paste",function(t){var n=event.clipboardData&&event.clipboardData.items,a=null;if(n&&n.length)for(var l=0;l<n.length;l++)if(-1!==n[l].type.indexOf("image")){a=n[l].getAsFile();break}if(a){console.log("file",a),e.props.getUploadTokenFetch();var u=new FileReader,i=new Image;u.readAsDataURL(a);var o=e;u.onload=function(e){i.src=e.target.result,i.onload=function(){var t=i.width,n=i.height;o.setState({clipBoardFile:a,clipBoardModalShow:!0,clipBoardBlob:e.target.result,widthHeigthRate:t/n})}}}else r.default.info("没有可粘贴的图片")})}},{key:"render",value:function(){var e=this,t=this.props,n=t.formPage,a=(t.dispatch,t.enclosureList,t.uploadEnclosureList,t.style),l=(t.uploadKeyJson,t.getUploadTokenFetch,t.clipUploadFile),i=this.state,s=i.clipBoardModalShow,d=i.clipBoardFile,f=i.clipBoardBlob,g=i.isCustomName,m=i.customName,_=i.widthHeigthRate;return u.default.createElement("div",{className:"enclosure-clipboard-add-file",style:a,id:"drag-area"},u.default.createElement("input",{id:n||"clipBoard",value:"",className:"enclosure-clipboard-add-btn"}),u.default.createElement("div",{className:"enclosure-clipboard-add-fake-btn"},u.default.createElement("p",null,"在此区域内点击右键"),u.default.createElement("p",{className:"enclosure-clipboard-add-fake-btn-text"},"“粘贴”剪贴板中的图片")),u.default.createElement(c.default,{clipBoardModalShow:s,clipBoardFile:d,clipBoardBlob:f,widthHeigthRate:_,onCancel:function(){return e.setState({clipBoardModalShow:!1,isCustomName:!1,customName:""})},onOK:function(){var t="";if(g){if(!m)return r.default.info("请输入自定义名称");if(m.indexOf("@")>-1)return r.default.info("文件名中不允许包含@符号");if(m.length>40)return r.default.info("文件名称不能超过40字符");t=m+".jpg"}else t="粘贴图片"+(new o.DateLib).getFullDate()+".jpg";var n=new File([d],t,{type:d.type});l(n),e.setState({clipBoardModalShow:!1,isCustomName:!1,customName:""})},isCustomName:g,customName:m,changeIsCustomName:function(){e.setState({isCustomName:!g})},changeCustomName:function(t){e.setState({customName:t.target.value})}}))}}]),t}())||a;t.default=d},1328:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=s(n(47)),l=s(n(129)),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(46),n(128);var i=s(n(1)),o=(n(18),n(17)),c=n(127);function s(e){return e&&e.__esModule?e:{default:e}}var d=(0,o.immutableRenderDecorator)(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),u(t,[{key:"render",value:function(){var e=this.props,t=e.clipBoardModalShow,n=(e.clipBoardFile,e.clipBoardBlob),a=e.onOK,u=e.onCancel,o=e.isCustomName,s=e.customName,d=e.changeIsCustomName,f=e.changeCustomName,g=e.widthHeigthRate;return console.log("widthHeigthRate",g),i.default.createElement(r.default,{title:"上传附件",maskClosable:!1,visible:t,onOk:a,onCancel:u},i.default.createElement("div",{className:"clip-board-preview-img",style:g>=1?{maxHeight:"500px"}:{height:"500px"}},i.default.createElement("img",{id:"clipBoardImg",src:n,style:g>=1?{width:"100%"}:{height:"100%"}})),i.default.createElement("div",{className:"clip-board-preview-name"},i.default.createElement(l.default,{checked:o,onChange:d})," ",i.default.createElement("span",null,"自定义名称"),i.default.createElement(c.XfInput,{className:"clip-board-preview-name-input",style:{display:o?"":"none"},value:s,onChange:f})))}}]),t}())||a;t.default=d},1330:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Other=t.JkTzZb=t.Zszf=t.Yywsz=t.Cqzc=t.Sfzc=t.Xczc=t.Fyzc=t.Yysz=void 0;var a,r=f(n(1272)),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(1271);var u=f(n(1)),i=n(17),o=n(22),c=n(482),s=f(n(1292)),d=f(n(1293));function f(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var T=r.default.Panel;t.Yysz=(0,i.immutableRenderDecorator)(a=function(e){function t(){return g(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _(t,u.default.Component),l(t,[{key:"render",value:function(){var e=this.props,t=e.lsItemData,n=e.activeKey,a=e.onChangeActiveKey,r=c.categoryTypeAll[t.get("categoryType")],l=t.getIn([r,"beManagemented"]),i=t.getIn([r,"stockCardList"]),f=t.get("runningState"),g=t.get("accountName"),m=t.get("usedProject"),_=t.get("projectCard"),T=t.get("amount"),p=t.get("propertyCarryover");return u.default.createElement("div",null,u.default.createElement("ul",{className:"ylls-item-detail"},u.default.createElement("li",null,u.default.createElement("span",null,"摘要："),u.default.createElement("span",null,t.get("runningAbstract"))),l?u.default.createElement("li",null,u.default.createElement("span",null,"往来单位："),u.default.createElement("span",null,t.getIn(["usedCard","code"])+"_"+t.getIn(["usedCard","name"]))):"",m&&_&&_.size?_.map(function(e){return u.default.createElement("div",{key:e.get("uuid")},u.default.createElement("li",null,u.default.createElement("span",null,"项目："),u.default.createElement("span",null,("COMNCRD"!==e.get("code")?e.get("code")+"_":"")+e.get("name"))),_.size>1?u.default.createElement("li",{key:e.get("uuid")},u.default.createElement("span",null,"金额："),u.default.createElement("span",null,(0,o.formatMoney)(e.get("amount"),2,""))):"")}):"","SX_HW"===p&&"STATE_YYSR_DJ"!==f&&"STATE_YYZC_DJ"!==f&&i&&i.size?i.map(function(e){return u.default.createElement("div",{key:e.get("uuid")},u.default.createElement("li",null,u.default.createElement("span",null,"存货："),u.default.createElement("span",null,e.get("code")+"_"+e.get("name"))),i.size>1?u.default.createElement("li",{key:e.get("uuid")},u.default.createElement("span",null,"金额："),u.default.createElement("span",null,(0,o.formatMoney)(e.get("amount"),2,""))):"")}):"",u.default.createElement("li",null,u.default.createElement("span",null,_&&_.size>1||i&&i.size>1?"总":"","金额："),u.default.createElement("span",null,(0,o.formatMoney)(t.get("amount"),2,""))),g&&(l&&Number(T)===Number(t.get("currentAmount"))||!l||"STATE_YYSR_DJ"===f||"STATE_YYZC_DJ"===f)?u.default.createElement("li",null,u.default.createElement("span",null,"账户："),u.default.createElement("span",null,t.get("accountName"))):"","STATE_YYSR_DJ"!==f&&"STATE_YYZC_DJ"!==f?u.default.createElement(s.default,{itemData:t}):""),l?u.default.createElement(d.default,{title:"核销情况",lsItemData:t,activeKey:n,onChangeActiveKey:a,itemList:t.get("paymentList")}):"")}}]),t}())||a,t.Fyzc=function(e){function t(){return g(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _(t,u.default.Component),l(t,[{key:"render",value:function(){var e=this.props,t=e.lsItemData,n=e.activeKey,a=e.onChangeActiveKey,r=c.categoryTypeAll[t.get("categoryType")],l=t.getIn([r,"beManagemented"]),i=t.get("usedProject"),f=t.get("projectCard"),g=t.get("accountName"),m=t.get("runningState");return u.default.createElement("div",null,u.default.createElement("ul",{className:"ylls-item-detail"},"STATE_FY_DJ"!==m?u.default.createElement("li",null,u.default.createElement("span",null,"费用性质："),u.default.createElement("span",null,{XZ_MANAGE:"管理费用",XZ_FINANCE:"财务费用",XZ_SALE:"销售费用"}[t.get("propertyCost")])):"",u.default.createElement("li",null,u.default.createElement("span",null,"摘要："),u.default.createElement("span",null,t.get("runningAbstract"))),l?u.default.createElement("li",null,u.default.createElement("span",null,"往来单位："),u.default.createElement("span",null,t.getIn(["usedCard","code"])+"_"+t.getIn(["usedCard","name"]))):"",i&&f&&f.size?f.map(function(e){return u.default.createElement("div",{key:e.get("uuid")},u.default.createElement("li",null,u.default.createElement("span",null,"项目："),u.default.createElement("span",null,("COMNCRD"!==e.get("code")?e.get("code")+"_":"")+e.get("name"))),f.size>1?u.default.createElement("li",{key:e.get("uuid")},u.default.createElement("span",null,"金额："),u.default.createElement("span",null,(0,o.formatMoney)(e.get("amount"),2,""))):"")}):"",u.default.createElement("li",null,u.default.createElement("span",null,f&&f.size>1?"总":"","金额："),u.default.createElement("span",null,(0,o.formatMoney)(t.get("amount"),2,""))),g?u.default.createElement("li",null,u.default.createElement("span",null,"账户："),u.default.createElement("span",null,t.get("accountName"))):"","STATE_FY_DJ"!==m?u.default.createElement(s.default,{itemData:t}):""),u.default.createElement(d.default,{title:"核销情况",lsItemData:t,activeKey:n,onChangeActiveKey:a,itemList:t.get("paymentList")}))}}]),t}(),t.Xczc=function(e){function t(){return g(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _(t,u.default.Component),l(t,[{key:"render",value:function(){var e=this.props,t=e.lsItemData,n=e.activeKey,a=e.onChangeActiveKey,l=c.categoryTypeAll[t.get("categoryType")],i=t.getIn([l,"beAccrued"]),s=t.getIn([l,"personAccumulationAmount"]),f=t.getIn([l,"personSocialSecurityAmount"]),g=t.getIn([l,"incomeTaxAmount"]),m=t.getIn([l,"companySocialSecurityAmount"]),_=t.getIn([l,"companyAccumulationAmount"]),p=t.getIn([l,"actualAmount"]),C=t.get("usedProject"),E=t.get("projectCard"),S=t.get("accountName"),A=t.get("amount"),y=t.get("propertyPay"),N=t.get("runningState");return u.default.createElement("div",null,u.default.createElement("ul",{className:"ylls-item-detail"},"STATE_XC_JT"!==N&&("STATE_XC_JN"!==N&&"STATE_XC_FF"!==N||i)?"":u.default.createElement("li",null,u.default.createElement("span",null,"费用性质："),u.default.createElement("span",null,{XZ_MANAGE:"管理费用",XZ_FINANCE:"财务费用",XZ_SALE:"销售费用"}[t.get("propertyCost")])),u.default.createElement("li",null,u.default.createElement("span",null,"摘要："),u.default.createElement("span",null,t.get("runningAbstract"))),C&&E&&E.size?E.map(function(e){return u.default.createElement("div",{key:e.get("uuid")},u.default.createElement("li",null,u.default.createElement("span",null,"项目："),u.default.createElement("span",null,("COMNCRD"!==e.get("code")?e.get("code")+"_":"")+e.get("name"))),E.size>1?u.default.createElement("li",{key:e.get("uuid")},u.default.createElement("span",null,"金额："),u.default.createElement("span",null,(0,o.formatMoney)(e.get("amount")))):"")}):"","STATE_XC_JT"===N||"SX_QTXC"===y||"SX_FLF"===y?u.default.createElement("li",null,u.default.createElement("span",null,E&&E.size>1?"总":"","金额："),u.default.createElement("span",null,(0,o.formatMoney)(A,2,""))):"","SX_GZXJ"===y&&"STATE_XC_FF"===N?u.default.createElement("li",null,u.default.createElement("span",null,"工资薪金："),u.default.createElement("span",null,(0,o.formatMoney)(t.get("amount"),2,""))):"",S&&"STATE_XC_JT"!==N?u.default.createElement("li",null,u.default.createElement("span",null,"账户："),u.default.createElement("span",null,t.get("accountName"))):""),!i||"STATE_XC_JN"!==N&&"STATE_XC_FF"!==N||"SX_QTXC"===y?"":u.default.createElement("div",{className:"ylls-item-child-list"},u.default.createElement(r.default,{bordered:!1,activeKey:"1"},u.default.createElement(T,{showArrow:!1,header:u.default.createElement("div",{className:"ylls-item-child-title"},u.default.createElement("span",null,"实际支付金额："+("STATE_XC_JN"===N?(0,o.formatMoney)(A,2,""):(0,o.formatMoney)(p,2,"")))),key:"1"},u.default.createElement("div",{className:"ylls-item-content"},"SX_SHBX"===y?u.default.createElement("span",null,"社会保险(公司部分)：",(0,o.formatMoney)(m,2,"")):"","SX_SHBX"===y||"SX_GZXJ"===y?u.default.createElement("span",null,"SX_SHBX"===y?"代缴":"代扣","社会保险(个人部分)：",(0,o.formatMoney)(f,2,"")):"","SX_ZFGJJ"===y?u.default.createElement("span",null,"公积金(公司部分)：",(0,o.formatMoney)(_,2,"")):"","SX_ZFGJJ"===y||"SX_GZXJ"===y?u.default.createElement("span",null,"SX_ZFGJJ"===y?"代缴":"代扣","公积金(个人部分)：",(0,o.formatMoney)(s,2,"")):"","SX_GZXJ"===y?u.default.createElement("span",null,"代扣个人所得税：",(0,o.formatMoney)(g,2,"")):"")))),"SX_QTXC"!==y?u.default.createElement(d.default,{title:"核销情况",lsItemData:t,activeKey:n,onChangeActiveKey:a,itemList:t.get("detail")}):"","SX_QTXC"===y||"STATE_XC_JT"===N?u.default.createElement(d.default,{title:"核销情况",lsItemData:t,activeKey:n,onChangeActiveKey:a,itemList:t.get("paymentList")}):"")}}]),t}(),t.Sfzc=function(e){function t(){return g(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _(t,u.default.Component),l(t,[{key:"render",value:function(){var e=this.props,t=e.lsItemData,n=e.activeKey,a=e.onChangeActiveKey,r=t.get("offsetAmount"),l=t.get("handleAmount"),i=t.get("amount"),c=t.get("beReduce"),s=t.get("reduceAmount"),f=t.get("usedProject"),g=t.get("projectCard"),m=t.get("accountName"),_=t.get("propertyTax"),T=t.get("runningState");return u.default.createElement("div",null,u.default.createElement("ul",{className:"ylls-item-detail"},u.default.createElement("li",null,u.default.createElement("span",null,"摘要："),u.default.createElement("span",null,t.get("runningAbstract"))),f&&g&&g.size?g.map(function(e){return u.default.createElement("div",{key:e.get("uuid")},u.default.createElement("li",null,u.default.createElement("span",null,"项目："),u.default.createElement("span",null,("COMNCRD"!==e.get("code")?e.get("code")+"_":"")+e.get("name"))),g.size>1?u.default.createElement("li",{key:e.get("uuid")},u.default.createElement("span",null,"金额："),u.default.createElement("span",null,(0,o.formatMoney)(e.get("amount")))):"")}):"","SX_ZZS"===_&&"STATE_SF_YJZZS"!==T?u.default.createElement("li",null,u.default.createElement("span",null,"处理税费："),u.default.createElement("span",null,(0,o.formatMoney)(Number(r)+Number(l)+(c&&s?Number(s):0),2,""))):"","SX_ZZS"===_&&"STATE_SF_YJZZS"!==T?u.default.createElement("li",null,u.default.createElement("span",null,"预交抵扣金额："),u.default.createElement("span",null,(0,o.formatMoney)(r,2,""))):"",u.default.createElement("li",null,u.default.createElement("span",null,g&&g.size>1?"总":"","金额："),u.default.createElement("span",null,"SX_ZZS"===_&&"STATE_SF_YJZZS"!==T?(0,o.formatMoney)(l,2,""):(0,o.formatMoney)(i,2,""))),m?u.default.createElement("li",null,u.default.createElement("span",null,"账户："),u.default.createElement("span",null,t.get("accountName"))):"",c&&s?u.default.createElement("li",null,u.default.createElement("span",null,"减免金额："),u.default.createElement("span",null,(0,o.formatMoney)(s,2,""))):""),u.default.createElement(d.default,{title:"核销情况",lsItemData:t,activeKey:n,onChangeActiveKey:a,itemList:t.get("paymentList")}))}}]),t}(),t.Cqzc=function(e){function t(){return g(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _(t,u.default.Component),l(t,[{key:"render",value:function(){var e=this.props,t=e.lsItemData,n=e.activeKey,a=e.onChangeActiveKey,l=c.categoryTypeAll[t.get("categoryType")],i=t.getIn([l,"beManagemented"]),f=t.getIn([l,"netProfitAmount"]),g=t.getIn([l,"lossAmount"]),m=t.getIn([l,"originalAssetsAmount"]),_=t.getIn([l,"depreciationAmount"]),p=t.get("usedProject"),C=t.get("projectCard"),E=t.get("accountName"),S=t.get("assetType"),A=t.get("businessList"),y=t.get("runningState"),N=t.getIn([l,"cleaningAmount"]),I=c.runningStateType[y]?c.runningStateType[y]:"";return u.default.createElement("div",null,u.default.createElement("ul",{className:"ylls-item-detail"},u.default.createElement("li",null,u.default.createElement("span",null,"处理类型："),u.default.createElement("span",null,{XZ_CZZC:"处置资产",XZ_ZJTX:"折旧摊销",XZ_GJZC:"购进资产"}[t.get("assetType")],I?"("+I+")":"")),u.default.createElement("li",null,u.default.createElement("span",null,"摘要："),u.default.createElement("span",null,t.get("runningAbstract"))),i&&"STATE_CQZC_JZSY"!==y&&"XZ_ZJTX"!==S?u.default.createElement("li",null,u.default.createElement("span",null,"往来单位："),u.default.createElement("span",null,t.getIn(["usedCard","code"])+"_"+t.getIn(["usedCard","name"]))):"",p&&C&&C.size?C.map(function(e){return u.default.createElement("div",{key:e.get("uuid")},u.default.createElement("li",null,u.default.createElement("span",null,"项目："),u.default.createElement("span",null,("COMNCRD"!==e.get("code")?e.get("code")+"_":"")+e.get("name"))),C.size>1?u.default.createElement("li",{key:e.get("uuid")},u.default.createElement("span",null,"金额："),u.default.createElement("span",null,(0,o.formatMoney)(e.get("amount"),2,""))):"")}):"","STATE_CQZC_JZSY"!==y?u.default.createElement("li",null,u.default.createElement("span",null,C&&C.size>1?"总":"","金额："),u.default.createElement("span",null,(0,o.formatMoney)(t.get("amount"),2,""))):"",E&&"STATE_CQZC_JZSY"!==y?u.default.createElement("li",null,u.default.createElement("span",null,"账户："),u.default.createElement("span",null,t.get("accountName"))):"","XZ_ZJTX"!==S?u.default.createElement(s.default,{itemData:t}):""),"XZ_CZZC"===S&&A&&A.size&&"STATE_CQZC_JZSY"!==y?u.default.createElement("div",{className:"ylls-item-child-list"},u.default.createElement(r.default,{bordered:!1,activeKey:"1"},u.default.createElement(T,{showArrow:!1,header:u.default.createElement("div",{className:"ylls-item-child-title"},u.default.createElement("span",null,"处置损益")),key:"1"},u.default.createElement("ul",null,u.default.createElement("li",{className:"ylls-item-child-item",key:1},u.default.createElement("div",null,u.default.createElement("span",null,A.getIn([0,"categoryName"])),u.default.createElement("span",null,"流水号：",A.getIn([0,"flowNumber"])))))))):"","STATE_CQZC_JZSY"===y?u.default.createElement("div",{className:"ylls-item-child-list"},u.default.createElement(r.default,{bordered:!1,activeKey:"1"},u.default.createElement(T,{showArrow:!1,header:u.default.createElement("div",{className:"ylls-item-child-title"},u.default.createElement("span",null,"处置损益")),key:"1"},u.default.createElement("div",{className:"ylls-item-content"},f>0?u.default.createElement("span",null,"净收益金额：",(0,o.formatMoney)(f,2,"")):u.default.createElement("span",null,"净损失金额：",(0,o.formatMoney)(g,2,"")),u.default.createElement("span",null,"资产原值：",(0,o.formatMoney)(m,2,"")),u.default.createElement("span",null,"累计折旧余额：",(0,o.formatMoney)(_,2,"")),u.default.createElement("span",null,"处置收入：",(0,o.formatMoney)(N,2,"")))))):"",u.default.createElement(d.default,{title:"核销情况",lsItemData:t,activeKey:n,onChangeActiveKey:a,itemList:t.get("paymentList")}),"STATE_CQZC_JZSY"===y?u.default.createElement(d.default,{title:"核销情况",lsItemData:t,activeKey:n,onChangeActiveKey:a,itemList:t.get("businessList"),amountStr:"amount-tax"}):"")}}]),t}(),t.Yywsz=function(e){function t(){return g(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _(t,u.default.Component),l(t,[{key:"render",value:function(){var e=this.props,t=e.lsItemData,n=(e.activeKey,e.onChangeActiveKey,c.categoryTypeAll[t.get("categoryType")]),a=t.getIn([n,"beManagemented"]),r=t.get("usedProject"),l=t.get("projectCard"),i=t.get("accountName");return u.default.createElement("div",null,u.default.createElement("ul",{className:"ylls-item-detail"},u.default.createElement("li",null,u.default.createElement("span",null,"摘要："),u.default.createElement("span",null,t.get("runningAbstract"))),a?u.default.createElement("li",null,u.default.createElement("span",null,"往来单位："),u.default.createElement("span",null,t.getIn(["usedCard","code"])+"_"+t.getIn(["usedCard","name"]))):"",r&&l&&l.size?l.map(function(e){return u.default.createElement("div",{key:e.get("uuid")},u.default.createElement("li",null,u.default.createElement("span",null,"项目："),u.default.createElement("span",null,("COMNCRD"!==e.get("code")?e.get("code")+"_":"")+e.get("name"))),l.size>1?u.default.createElement("li",{key:e.get("uuid")},u.default.createElement("span",null,"金额："),u.default.createElement("span",null,(0,o.formatMoney)(e.get("amount"),2,""))):"")}):"",u.default.createElement("li",null,u.default.createElement("span",null,l&&l.size>1?"总":"","金额："),u.default.createElement("span",null,(0,o.formatMoney)(t.get("amount"),2,""))),i?u.default.createElement("li",null,u.default.createElement("span",null,"账户："),u.default.createElement("span",null,t.get("accountName"))):""))}}]),t}(),t.Zszf=function(e){function t(){return g(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _(t,u.default.Component),l(t,[{key:"render",value:function(){var e=this.props,t=e.lsItemData,n=e.activeKey,a=e.onChangeActiveKey,r=(c.categoryTypeAll[t.get("categoryType")],t.get("usedProject")),l=t.get("projectCard"),i=t.get("accountName");return u.default.createElement("div",null,u.default.createElement("ul",{className:"ylls-item-detail"},u.default.createElement("li",null,u.default.createElement("span",null,"摘要："),u.default.createElement("span",null,t.get("runningAbstract"))),r&&l&&l.size?l.map(function(e){return u.default.createElement("div",{key:e.get("uuid")},u.default.createElement("li",null,u.default.createElement("span",null,"项目："),u.default.createElement("span",null,("COMNCRD"!==e.get("code")?e.get("code")+"_":"")+e.get("name"))),l.size>1?u.default.createElement("li",{key:e.get("uuid")},u.default.createElement("span",null,"金额："),u.default.createElement("span",null,(0,o.formatMoney)(e.get("amount"),2,""))):"")}):"",u.default.createElement("li",null,u.default.createElement("span",null,l&&l.size>1?"总":"","金额："),u.default.createElement("span",null,(0,o.formatMoney)(t.get("amount"),2,""))),i?u.default.createElement("li",null,u.default.createElement("span",null,"账户："),u.default.createElement("span",null,t.get("accountName"))):""),u.default.createElement(d.default,{title:"核销情况",lsItemData:t,activeKey:n,onChangeActiveKey:a,itemList:t.get("paymentList")}))}}]),t}(),t.JkTzZb=function(e){function t(){return g(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _(t,u.default.Component),l(t,[{key:"render",value:function(){var e=this.props,t=e.lsItemData,n=e.activeKey,a=e.onChangeActiveKey,r=c.categoryTypeAll[t.get("categoryType")],l=(t.getIn([r,"beManagemented"]),t.get("usedProject")),i=t.get("projectCard"),s=t.get("accountName"),f=(t.get("propertyCost"),t.get("businessList"),t.get("runningState")),g=c.runningStateType[f]?c.runningStateType[f]:"";return u.default.createElement("div",null,u.default.createElement("ul",{className:"ylls-item-detail"},u.default.createElement("li",null,u.default.createElement("span",null,"处理类型："),u.default.createElement("span",null,{XZ_QDJK:"取得借款",XZ_CHLX:"偿还利息",XZ_CHBJ:"偿还本金",XZ_DWTZ:"对外投资",XZ_QDSY:"取得收益",XZ_SHTZ:"收回投资",XZ_ZZ:"增资",XZ_LRFP:"利润分配",XZ_JZ:"减资"}[t.get("propertyCost")],g?"("+g+")":"")),u.default.createElement("li",null,u.default.createElement("span",null,"摘要："),u.default.createElement("span",null,t.get("runningAbstract"))),l&&i&&i.size?i.map(function(e){return u.default.createElement("div",{key:e.get("uuid")},u.default.createElement("li",null,u.default.createElement("span",null,"项目："),u.default.createElement("span",null,("COMNCRD"!==e.get("code")?e.get("code")+"_":"")+e.get("name"))),i.size>1?u.default.createElement("li",{key:e.get("uuid")},u.default.createElement("span",null,"金额："),u.default.createElement("span",null,(0,o.formatMoney)(e.get("amount"),2,""))):"")}):"",u.default.createElement("li",null,u.default.createElement("span",null,i&&i.size>1?"总":"","金额："),u.default.createElement("span",null,(0,o.formatMoney)(t.get("amount"),2,""))),s?u.default.createElement("li",null,u.default.createElement("span",null,"账户："),u.default.createElement("span",null,t.get("accountName"))):""),u.default.createElement(d.default,{title:"核销情况",lsItemData:t,activeKey:n,onChangeActiveKey:a,itemList:t.get("paymentList")}))}}]),t}(),t.Other=function(e){function t(){return g(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _(t,u.default.Component),l(t,[{key:"render",value:function(){var e=this.props;e.lsItemData,e.activeKey,e.onChangeActiveKey;return u.default.createElement("div",null,"没写")}}]),t}()},1331:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Jzsy=t.Xmft=t.Zcwjzzs=t.FpKr=t.Jzcb=t.Sfgl=t.Zjtx=t.Nbzz=void 0;var a=c(n(1272)),r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(1271);var l=c(n(1)),u=(n(17),n(22)),i=n(482),o=(c(n(1292)),c(n(1293)));function c(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}a.default.Panel,t.Nbzz=function(e){function t(){return s(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,l.default.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.lsItemData;e.activeKey,e.onChangeActiveKey;return l.default.createElement("div",null,l.default.createElement("ul",{className:"ylls-item-detail"},l.default.createElement("li",null,l.default.createElement("span",null,"摘要："),l.default.createElement("span",null,t.get("runningAbstract"))),l.default.createElement("li",null,l.default.createElement("span",null,"金额："),l.default.createElement("span",null,(0,u.formatMoney)(t.get("amount"),2,""))),l.default.createElement("li",null,l.default.createElement("span",null,"转出账户："),l.default.createElement("span",null,t.getIn(["childList",0,"accountName"]))),l.default.createElement("li",null,l.default.createElement("span",null,"转入账户："),l.default.createElement("span",null,t.getIn(["childList",1,"accountName"])))))}}]),t}(),t.Zjtx=function(e){function t(){return s(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,l.default.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.lsItemData,n=(e.activeKey,e.onChangeActiveKey,{XZ_SALE:"销售费用",XZ_MANAGE:"管理费用",XZ_FINANCE:"财务费用","":""}[t.get("propertyCost")]);return l.default.createElement("div",null,l.default.createElement("ul",{className:"ylls-item-detail"},l.default.createElement("li",null,l.default.createElement("span",null,"处理类别："),l.default.createElement("span",null,t.get("categoryName"))),t.get("propertyCostList")&&t.get("propertyCostList").size>1?l.default.createElement("li",null,l.default.createElement("span",null,"费用性质："),l.default.createElement("span",null,n)):"",l.default.createElement("li",null,l.default.createElement("span",null,"摘要："),l.default.createElement("span",null,t.get("runningAbstract"))),t.get("usedProject")?l.default.createElement("li",null,l.default.createElement("span",null,"项目："),l.default.createElement("span",null,t.getIn(["projectCard",0,"code"])+" "+t.getIn(["projectCard",0,"name"]))):"",l.default.createElement("li",null,l.default.createElement("span",null,"金额："),l.default.createElement("span",null,(0,u.formatMoney)(t.get("amount"),2,"")))))}}]),t}(),t.Sfgl=function(e){function t(){return s(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,l.default.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.lsItemData,n=e.activeKey,a=e.onChangeActiveKey,r=(i.categoryTypeAll[t.get("categoryType")],t.get("accountName")),c=t.get("moedAmount");return l.default.createElement("div",null,l.default.createElement("ul",{className:"ylls-item-detail"},l.default.createElement("li",null,l.default.createElement("span",null,"往来单位："),l.default.createElement("span",null,t.getIn(["usedCard","code"])+"_"+t.getIn(["usedCard","name"]))),l.default.createElement("li",null,l.default.createElement("span",null,"摘要："),l.default.createElement("span",null,t.get("runningAbstract"))),l.default.createElement("li",null,l.default.createElement("span",null,"金额："),l.default.createElement("span",null,(0,u.formatMoney)(t.get("amount"),2,""))),r?l.default.createElement("li",null,l.default.createElement("span",null,"账户："),l.default.createElement("span",null,r)):"",c>0?l.default.createElement("li",null,l.default.createElement("span",null,"抹零金额："),l.default.createElement("span",null,(0,u.formatMoney)(c))):""),l.default.createElement(o.default,{title:"核销情况",lsItemData:t,activeKey:n,onChangeActiveKey:a,itemList:t.get("detail")}))}}]),t}(),t.Jzcb=function(e){function t(){return s(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,l.default.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.lsItemData,n=e.activeKey,a=e.onChangeActiveKey,r={STATE_YYSR_JZCB:"acBusinessIncome",STATE_YYZC_JZCB:"acBusinessExpense"}[t.get("runningState")],i=t.getIn([r,"stockCardList"]);return l.default.createElement("div",null,l.default.createElement("ul",{className:"ylls-item-detail"},l.default.createElement("li",null,l.default.createElement("span",null,"摘要："),l.default.createElement("span",null,t.get("runningAbstract"))),i&&i.size?i.map(function(e){return l.default.createElement("div",{key:e.get("uuid")},l.default.createElement("li",null,l.default.createElement("span",null,"存货："),l.default.createElement("span",null,e.get("code")+"_"+e.get("name"))),l.default.createElement("li",null,l.default.createElement("span",null,"成本金额："),l.default.createElement("span",null,(0,u.formatMoney)(e.get("amount"),2,""))))}):""),l.default.createElement(o.default,{title:"核销情况",lsItemData:t,activeKey:n,onChangeActiveKey:a,itemList:t.get("businessList"),amountStr:"amount"}))}}]),t}(),t.FpKr=function(e){function t(){return s(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,l.default.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.lsItemData,n=e.activeKey,a=e.onChangeActiveKey,r=i.categoryTypeAll[t.get("categoryType")];t.getIn([r,"stockCardList"]);return l.default.createElement("div",null,l.default.createElement("ul",{className:"ylls-item-detail"},l.default.createElement("li",null,l.default.createElement("span",null,"摘要："),l.default.createElement("span",null,t.get("runningAbstract")))),l.default.createElement(o.default,{title:"核销情况",lsItemData:t,activeKey:n,onChangeActiveKey:a,itemList:t.get("businessList"),amountStr:"tax"}))}}]),t}(),t.Zcwjzzs=function(e){function t(){return s(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,l.default.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.lsItemData,n=e.activeKey,a=e.onChangeActiveKey,r=i.categoryTypeAll[t.get("categoryType")],c=(t.getIn([r,"stockCardList"]),0),s=0,d=0,f=0;return t.get("businessList").forEach(function(e){"bill_common"===e.get("billType")?(c+=1,s+=e.get("parentTax")?e.get("parentTax"):e.get("tax")):(d+=1,f+=e.get("parentTax")?e.get("parentTax"):e.get("tax"))}),l.default.createElement("div",null,l.default.createElement("ul",{className:"ylls-item-detail"},l.default.createElement("li",null,l.default.createElement("span",null,"摘要："),l.default.createElement("span",null,t.get("runningAbstract"))),l.default.createElement("li",null,l.default.createElement("span",null,"处理税额月份："),l.default.createElement("span",null,t.getIn(["businessList",0,"runningDate"]).substr(0,7))),l.default.createElement("li",null,l.default.createElement("span",null,"未交税额："),l.default.createElement("span",null,(0,u.formatMoney)(s-f,2,""))),l.default.createElement("li",null,l.default.createElement("span",null,"销项税-流水数： ",c,"条；")," ",l.default.createElement("span",null,"合计税额： ",(0,u.formatNum)(s.toFixed(2)))),l.default.createElement("li",null,l.default.createElement("span",null,"进项税-流水数： ",d,"条；")," ",l.default.createElement("span",null,"合计税额： ",(0,u.formatNum)(f.toFixed(2))))),l.default.createElement(o.default,{title:"核销情况",lsItemData:t,activeKey:n,onChangeActiveKey:a,itemList:t.get("businessList"),amountStr:"parentTax",amountStr2:"tax"}))}}]),t}(),t.Xmft=function(e){function t(){return s(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,l.default.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.lsItemData,n=e.activeKey,a=e.onChangeActiveKey,r=i.categoryTypeAll[t.get("categoryType")],c=(t.getIn([r,"stockCardList"]),t.get("projectCard"));return l.default.createElement("div",null,l.default.createElement("ul",{className:"ylls-item-detail"},l.default.createElement("li",null,l.default.createElement("span",null,"摘要："),l.default.createElement("span",null,t.get("runningAbstract"))),c&&c.size?c.map(function(e){return l.default.createElement("div",{key:e.get("uuid")},l.default.createElement("li",null,l.default.createElement("span",null,"项目："),l.default.createElement("span",null,("COMNCRD"!==e.get("code")?e.get("code")+"_":"")+e.get("name"))),c.size>1?l.default.createElement("li",{key:e.get("uuid")},l.default.createElement("span",null,"金额："),l.default.createElement("span",null,(0,u.formatMoney)(e.get("amount"),2,""))):"")}):""),l.default.createElement(o.default,{title:"核销情况",lsItemData:t,activeKey:n,onChangeActiveKey:a,itemList:t.get("paymentList"),amountStr:"amount"}))}}]),t}(),t.Jzsy=function(e){function t(){return s(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,l.default.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.lsItemData,n=e.activeKey,a=e.onChangeActiveKey,r=i.categoryTypeAll[t.get("categoryType")],c=t.getIn([r,"netProfitAmount"]),s=t.getIn([r,"lossAmount"]),d=t.get("projectCard");return l.default.createElement("div",null,l.default.createElement("ul",{className:"ylls-item-detail"},l.default.createElement("li",null,l.default.createElement("span",null,"处理类别："),l.default.createElement("span",null,t.get("categoryName"))),l.default.createElement("li",null,l.default.createElement("span",null,"摘要："),l.default.createElement("span",null,t.get("runningAbstract"))),d&&d.size?d.map(function(e){return l.default.createElement("div",{key:e.get("uuid")},l.default.createElement("li",null,l.default.createElement("span",null,"项目："),l.default.createElement("span",null,("COMNCRD"!==e.get("code")?e.get("code")+"_":"")+e.get("name"))))}):"",l.default.createElement("li",null,l.default.createElement("span",null,"净"+(c>0?"收益":"损失")+"金额："),l.default.createElement("span",null,(0,u.formatMoney)(c>0?c:s))),l.default.createElement("li",null,l.default.createElement("span",null,"资产原值："),l.default.createElement("span",null,(0,u.formatMoney)(t.getIn([r,"originalAssetsAmount"])))),l.default.createElement("li",null,l.default.createElement("span",null,"累计折旧摊销："),l.default.createElement("span",null,(0,u.formatMoney)(t.getIn([r,"depreciationAmount"]),2)))),l.default.createElement(o.default,{title:"核销情况",lsItemData:t,activeKey:n,onChangeActiveKey:a,itemList:t.get("businessList"),amountStr:"amount-tax"}))}}]),t}()},1332:function(e,t,n){},1334:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,n=arguments[1];return((e={},i(e,r.INIT_ACCOUNTCONF,function(){return c}),i(e,r.GET_ACCOUNTCONF_ALL_SETTINGS,function(){return t=t.set("runningCategory",(0,a.fromJS)(n.receivedData.categoryList)).set("accountList",(0,a.fromJS)(n.receivedData.accountList)).set("taxRateTemp",(0,a.fromJS)(n.receivedData.rate))}),i(e,r.GET_RUNNING_CATEGORY,function(){var e=[];return n.receivedData.resultList[0].childList.forEach(function(t){return e.push(t.uuid)}),t.set("runningCategory",(0,a.fromJS)(n.receivedData.resultList)).setIn(["flags","runningShowChild"],(0,a.fromJS)(e)).set("taxRateTemp",(0,a.fromJS)(n.receivedData.rate))}),i(e,r.GET_RUNNING_ACCOUNT,function(){return t.set("accountList",(0,a.fromJS)(n.receivedData.resultList))}),i(e,r.GET_RUNNING_TAX_RATE,function(){return t.set("taxRateTemp",(0,a.fromJS)(n.receivedData.result))}),i(e,r.CHANGE_ACCOUNTCONF_CURRENTPAGE,function(){return t.setIn(["flags","currentPage"],n.currentPage)}),i(e,r.BEFORE_INSERT_ACCOUNTCONF,function(){if(t=t.setIn(["flags","insertOrModify"],"insert").set(n.currentPage+"Temp",c.get(n.currentPage+"Temp")),"account"===n.currentPage?t=t.setIn(["flags","showZHModal"],!0):"fromLrAccount"!==n.insertFrom&&(t=t.setIn(["flags","showModal"],!0)),n.data&&"running"===n.currentPage){var e=n.data.categoryType,r={LB_YYSR:"acBusinessIncome",LB_YYZC:"acBusinessExpense",LB_YYWSR:"acBusinessOutIncome",LB_YYWZC:"acBusinessOutExpense",LB_JK:"acLoan",LB_TZ:"acInvest",LB_ZB:"acCapital",LB_CQZC:"acAssets",LB_FYZC:"acCost",LB_ZSKX:"acTemporaryReceipt",LB_ZFKX:"acTemporaryPay",LB_XCZC:"acPayment",LB_SFZC:"acTax"}[e];n.data&&"running"===n.currentPage&&(t=t.set(n.currentPage+"Temp",(0,a.fromJS)(n.data)).setIn([n.currentPage+"Temp","name"],"").setIn([n.currentPage+"Temp","uuid"],"").setIn([n.currentPage+"Temp","runningAbstract"],"").setIn([n.currentPage+"Temp","level"],n.item.get("level")).setIn([n.currentPage+"Temp",r,"currentContactsRange"],(0,a.fromJS)(n.data[r].contactsRange)).setIn([n.currentPage+"Temp",r,"currentStockRange"],(0,a.fromJS)(n.data[r].stockRange)).setIn([n.currentPage+"Temp","curPropertyCostList"],(0,a.fromJS)(n.data.propertyCostList)).setIn([n.currentPage+"Temp","currentProjectRange"],(0,a.fromJS)(n.data.projectRange)));var l=t.getIn(["flags","insertOrModify"]);"LB_CQZC"===n.data.categoryType&&"insert"===l&&"长期资产"===n.data.name&&("SX_GDZC"===n.data.propertyAssets&&!n.data.acAssets.canInsertFixed||"SX_WXZC"===n.data.propertyAssets&&!n.data.acAssets.canInsertUnVisible||"SX_TZXFDC"===n.data.propertyAssets&&!n.data.acAssets.canInsertEstate)&&(t=t.setIn([n.currentPage+"Temp","propertyAssets"],"")),t=t.setIn([n.currentPage+"Temp","property"],n.data.property).setIn([n.currentPage+"Temp","parentUuid"],n.item.get("uuid")).setIn([n.currentPage+"Temp","parentName"],n.data.name).setIn([n.currentPage+"Temp","categoryType"],n.data.categoryType)}return t}),i(e,r.BEFORE_MODIFY_ACCOUNTCONF_RUNNING_OLD,function(){return t="account"===n.currentPage?t.setIn(["flags","showZHModal"],!0):t.setIn(["flags","showModal"],!0),n.old?t.setIn(["flags","insertOrModify"],"modify").set(n.currentPage+"Temp",n.item):t.setIn(["flags","insertOrModify"],"modify").set(n.currentPage+"Temp",(0,a.fromJS)(n.name)).setIn([n.currentPage+"Temp","categoryType"],(0,a.fromJS)(n.name).get("categoryType")).setIn([n.currentPage+"Temp","parentUuid"],n.item.get("parentUuid")).setIn([n.currentPage+"Temp","parentName"],n.item.get("parentName")).setIn([n.currentPage+"Temp","currentPropertyPay"],n.item.get("propertyPay")).setIn([n.currentPage+"Temp","currentPropertyTax"],n.item.get("propertyTax")).setIn([n.currentPage+"Temp","currentPropertyAssets"],n.item.get("propertyAssets")).setIn(["runningTemp","currentPropertyInvest"],n.item.get("propertyInvest"))}),i(e,r.CLOSE_ACCOUNTCONF_MODAL,function(){return t.setIn(["flags","showModal"],!1).setIn(["flags","showZHModal"],!1)}),i(e,r.ACCOUNTCONF_RUNNING_TRIANGLE_SWITCH,function(){var e=t.getIn(["flags","runningShowChild"]);if(n.showChild){var a=e.splice(e.findIndex(function(e){return e===n.uuid}),1);return t.setIn(["flags","runningShowChild"],a)}var r=e.push(n.uuid);return t.setIn(["flags","runningShowChild"],r)}),i(e,r.ACCOUNTCONF_RUNNING_CHECKBOX_CHECK,function(){var e=n.upperArr,a=n.item,r=t.getIn(["flags","runningSelect"]);if(-1===r.indexOf(a.get("uuid"))){var l=function e(t){return t.map(function(t){-1===r.indexOf(t.get("uuid"))&&(r=r.push(t.get("uuid")),t.get("childList")&&t.get("childList").size&&e(t.get("childList")),t.get("disableList")&&t.get("disableList").size&&e(t.get("disableList")))})};return r=r.push(a.get("uuid")),a.get("childList")&&a.get("childList").size&&l(a.get("childList")),a.get("disableList")&&a.get("disableList").size&&l(a.get("disableList")),t=t.setIn(["flags","runningSelect"],r)}var u=function e(t){return t.map(function(t){if(r.indexOf(t.get("uuid"))>-1){var n=r.findIndex(function(e){return e===t.get("uuid")});r=r.splice(n,1)}t.get("childList")&&t.get("childList").size&&e(t.get("childList")),t.get("disableList")&&t.get("disableList").size&&e(t.get("disableList"))})},i=r.findIndex(function(e){return e===a.get("uuid")});return r=r.splice(i,1),a.get("childList")&&a.get("childList").size&&u(a.get("childList")),a.get("disableList")&&a.get("disableList").size&&u(a.get("disableList")),r=r.filter(function(t){return-1===e.indexOf(t)}),t.setIn(["flags","runningSelect"],r)}),i(e,r.SELECT_OR_UNSELECT_ACCOUNT_ALL,function(){if(n.selectAll)return t.setIn(["flags","accountSelect"],(0,a.fromJS)([]));var e=t.getIn(["accountList",0,"childList"]),r=[];return e.forEach(function(e){return r.push(e.get("uuid"))}),t.setIn(["flags","accountSelect"],(0,a.fromJS)(r))}),i(e,r.ACCOUNTCONF_ACCOUNT_CHECKBOX_CHECK,function(){var e=t.getIn(["flags","accountSelect"]);if(n.checked){var a=e.splice(e.findIndex(function(e){return e===n.uuid}),1);return t.setIn(["flags","accountSelect"],a)}var r=e.push(n.uuid);return t.setIn(["flags","accountSelect"],r)}),i(e,r.ACCOUNTCONF_TAX_RATE_SETTING_SCALE,function(){return t.setIn(["taxRateTemp","scale"],n.value)}),i(e,r.SELECT_ACCOUNTCONF_UPPER_CATEGORY,function(){var e=n.value.split(l.TREE_JOIN_STR);return t.setIn(["runningTemp","parentUuid"],e[0]).setIn(["runningTemp","parentName"],e[1]).setIn(["runningTemp","property"],e[2]).setIn(["runningTemp","categoryType"],e[3]).setIn(["runningTemp","beSpecial"],"业务收入"===e[1]||"成本支出"===e[1])}),i(e,r.CHANGE_ACCOUNTCONF_COMMON_STRING,function(){return t.setIn(n.placeArr,n.value)}),i(e,r.CHANGE_ACCOUNTCONF_ACCOUNT_NUMBER,function(){var e=t.getIn(["accountTemp","name"]);return""===e&&(t=t.setIn(["accountTemp","name"],n.accountType+""+(n.value.length>4?n.value.substr(n.value.length-4):n.value))),t}),i(e,r.SELECT_ACCOUNTCONF_ALL_AC,function(){return t.setIn([n.tab+"Temp",n.place?n.place+"AcId":"acId"],n.acId).setIn([n.tab+"Temp",n.place?n.place+"AcFullName":"acFullName"],n.acFullName).setIn([n.tab+"Temp",n.place?n.place+"AssCategory":"assCategoryList"],n.asscategorylist)}),i(e,r.SELECT_ACCOUNTCONF_MULTIPLE_AC,function(){return t=t.setIn(n.placeArr,(0,a.fromJS)(n.acList)),n.assPlace&&(t=t.setIn(["runningTemp",n.assPlace],(0,a.fromJS)(n.assList))),t}),i(e,r.AFTER_UPDATE_ACCOUNTCONF_RUNNING_CATEGORY,function(){return t=(t=t.set("runningCategory",(0,a.fromJS)(n.receivedData.resultList)).setIn(["flags","runningSelect"],(0,a.fromJS)([]))).setIn(["flags","showModal"],!1).setIn(["flags","showZHModal"],!1)}),i(e,r.AFTER_UPDATE_ACCOUNTCONF_ACCOUNT,function(){return t=t.set("accountList",(0,a.fromJS)(n.receivedData.resultList)),t=n.saveAndNew?t.set("accountTemp",c.get("accountTemp")):t.setIn(["flags","showModal"],!1).setIn(["flags","showZHModal"],!1)}),i(e,r.CHANGE_ACCOUNTCONF_PROPERTY,function(){return t=t.setIn(n.placeArr,(0,a.fromJS)(n.valArr))}),i(e,r.CHANGE_ITEM_DISABLE_STATUS,function(){var e=t.getIn(["runningCategory",0].concat(o(n.placeArr))).toJS(),r=function e(t){for(var a in t)t[a].canUse=!n.disabled,t[a].childList.length&&e(t[a].childList),t[a].disableList&&t[a].disableList.length&&e(t[a].disableList)};return e.childList&&e.childList.length&&r(e.childList),e.disableList&&e.disableList.length&&r(e.disableList),t.setIn(["runningCategory",0].concat(o(n.placeArr)),(0,a.fromJS)(e)).setIn(["runningCategory",0].concat(o(n.placeArr),["canUse"]),!n.disabled)}),i(e,r.GET_REGRET_CATEGORY,function(){return t.set("regretCategory",(0,a.fromJS)(n.receivedData.result))}),i(e,r.CHANGE_REGRET_ACCOUNT_ACCOUNT_NAME,function(){var e=n.value.split(l.TREE_JOIN_STR);return t=t.setIn([n.tab+"Temp",n.placeUUid],e[0]).setIn([n.tab+"Temp",n.placeName],e[1]).setIn([n.tab+"Temp",n.isBalance],e[2]).setIn([n.tab+"Temp",n.isBusiness],e[3])}),i(e,r.CHANGE_REGRET_ACCOUNT_COMMON_STRING,function(){return n.placeArr&&(t=t.setIn(n.placeArr,n.value)),n.place&&(t=t.set(n.place,n.value)),t}),i(e,r.CHANGE_REGRET_CANCLE,function(){return t=t.setIn(["regretTemp","categoryUuid"],"").setIn(["regretTemp","categoryName"],"请选择流水类别").setIn(["regretTemp","isBalance"],"").setIn(["regretTemp","isBusiness"],"").setIn(["regretTemp","subordinateName"],"").setIn(["regretTemp","showModal"],!1).setIn(["regretTemp","showConfirmModal"],!1)}),e)[n.type]||function(){return t})()};var a=n(18),r=(n(22),u(n(1273))),l=u(n(27));function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var c=(0,a.fromJS)({flags:{currentPage:"running",insertOrModify:"insert",showModal:!1,showZHModal:!1,isTaxQuery:!0,runningSelect:[],accountSelect:[],runningShowChild:[],currentAccount:{uuid:"",name:""},currentAss:{assId:"",assCategory:"",assName:""},selectAcList:[],selectDepositedAcList:[],selectCarryoverAcList:[],selectStockAcList:[]},runningTemp:{property:"",uuid:"",name:"",parentUuid:"",parentName:"",runningAbstract:"",propertyPay:"",propertyAssets:"",propertyCarryover:"",propertyCostList:[],propertyTax:"",categoryType:"",propertyInvest:"",acList:[],canDelete:!0,beSpecial:!1,acAvailable:!0,acBusinessIncome:{incomeAc:[],incomeList:[],receivablesAc:[],receivablesList:[],inAdvanceAc:[],inAdvanceList:[],stockAc:[],stockList:[],carryoverAc:[],carryoverList:[],beManagemented:!1,beDeposited:!1,beCarryover:!0},acBusinessExpense:{payAc:[],payList:[],deliveryAc:[],deliveryList:[],inAdvanceAc:[],inAdvanceList:[],beManagemented:!1,beDeposited:!1},acBusinessOutIncome:{relationAc:[],relationList:[],receivablesAc:[],receivablesList:[],beManagemented:!1},acBusinessOutExpense:{relationAc:[],relationList:[],deliveryAc:[],deliveryList:[],beManagemented:!1},acCost:{saleAc:[],saleList:[{assId:"",assName:"",assCategory:[""]}],manageAc:[],manageList:[],financeAc:[],financeList:[],beManagemented:!1,deliveryAc:[],deliveryList:[]},acPayment:{saleAc:[],saleList:[],manageAc:[],manageList:[],accruedAc:[],accruedList:[],fundAc:[],fundList:[],socialSecurityAc:[],socialSecurityList:[],incomeTaxAc:[],incomeTaxList:[],welfareAc:[],welfareList:[],beAccrued:!1,beWithholding:!1,beWelfare:!1},acTax:{accruedAc:[],accruedList:[],payAc:[],payList:[],turnOutAc:[],turnOutList:[],inAdvanceAc:[],inAdvanceList:[],beAccrued:!1,beTurnOut:!1,beInAdvance:!1},acTemporaryReceipt:{relationAc:[],relationList:[]},acTemporaryPay:{relationAc:[],relationList:[]},acLoan:{loanAc:[],loanList:[],interestAc:[],interestList:[],unpaidInterestAc:[],unpaidInterestList:[],beManagemented:!1},acInvest:{investAc:[],investList:[],profitAc:[],profitList:[],uncollectedProfitAc:[],uncollectedProfitList:[],uncollectedInterestAc:[],beManagemented:!1},acCapital:{capitalAc:[],capitalList:[],unassignedAc:[],unassignedList:[],assignedAc:[],assignedList:[],payableAc:[],payableList:[],beManagemented:!1},acAssets:{assetsAc:[],assetsList:[],incomeAc:[],incomeList:[],lossAc:[],lossList:[],depreciationAc:[],depreciationList:[],cleaningAc:[],cleaningList:[],upgradeAc:[],upgradeList:[],receivablesAc:[],receivablesList:[],deliveryAc:[],deliveryList:[],beManagemented:!1,beCleaning:!1}},accountTemp:{uuid:"00000001",type:"general",name:"",openingName:"",openingBank:"",accountNumber:"",beginAmount:"",acId:"",acFullName:"",openInfo:!1},taxRateTemp:{scale:"small",payableAcId:"",payableAcFullName:"",payableAssCategory:[],payableRate:"3",notBillingAcId:"",notBillingAcFullName:"",notBillingAssCategory:[],inputAcId:"",inputAcFullName:"",inputAssCategory:[],certifiedAcId:"",certifiedAcFullName:"",certifiedAssCategory:[],waitOutputAcId:"",waitOutputAcFullName:"",waitOutputAssCategory:[],outputAcId:"",outputAcFullName:"",outputAssCategory:[],turnOutUnpaidAcId:"",turnOutUnpaidAcFullName:"",turnOutUnpaidAssCategory:"",unpaidAcId:"",unpaidAcFullName:"",unpaidAssCategory:"",outputRate:"17"},runningCategory:[{childList:[]}],regretCategory:[{childList:[]}],regretTemp:{categoryName:"请选择流水类别",categoryUuid:"",isBalance:"",isBusiness:"",subordinateName:"",showConfirmModal:!1,showModal:!1},accountList:[{uuid:"0000000",type:"",name:"全部",openingName:"",openingBank:"",accountNumber:"",acId:"",acFullName:"",childList:[]}]})},1335:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,n=arguments[1];return((e={},l(e,r.INIT_YLLS,function(){return u}),l(e,r.GET_YLLS_BUSINESS_DATA,function(){return t.set("lsItemData",(0,a.fromJS)(n.item)).set("curItem",(0,a.fromJS)(n.curItem))}),e)[n.type]||function(){return t})()};var a=n(18),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1270));function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=(0,a.fromJS)({views:{},lsItemData:{},curItem:{}})},1342:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SWITCH_LOADING_MASK="SWITCH_LOADING_MASK",t.INIT_LR_CALCULATE_STATE="INIT_LR_CALCULATE_STATE",t.SET_INVOIC_ASSLIST_FROM_SETTINGS="SET_INVOIC_ASSLIST_FROM_SETTINGS",t.CHANGE_LR_CALCULATE_COMMON_STATE="CHANGE_LR_CALCULATE_COMMON_STATE",t.CHANGE_LR_COST_TRANSFER_CATEGORY_UUID_AND_NAME="CHANGE_LR_COST_TRANSFER_CATEGORY_UUID_AND_NAME",t.CHANGE_LR_COST_TRANSFER_RUNNING_ASSLIST="CHANGE_LR_COST_TRANSFER_RUNNING_ASSLIST",t.CHANGE_LR_CALCULATE_RATE_ASSLIST="CHANGE_LR_CALCULATE_RATE_ASSLIST",t.SELECT_LR_CALCULATE_ITEM="SELECT_LR_CALCULATE_ITEM",t.SELECT_LR_CALCULATE_ITEM_ALL="SELECT_LR_CALCULATE_ITEM_ALL",t.AFTER_GET_COMMON_LIST="AFTER_GET_COMMON_LIST",t.AFTER_GET_TRANSFER_OUT_LIST="AFTER_GET_TRANSFER_OUT_LIST",t.AFTER_SUCCESS_INSERT_CARRYOVER_ITEM="AFTER_SUCCESS_INSERT_CARRYOVER_ITEM",t.AFTER_SUCCESS_INSERT_INVOICEAUTH_ITEM="AFTER_SUCCESS_INSERT_INVOICEAUTH_ITEM",t.AFTER_SUCCESS_INSERT_INTERNALTRANSFER_ITEM="AFTER_SUCCESS_INSERT_INTERNALTRANSFER_ITEM",t.CHANGE_LR_ACCOUNT_ACCOUNT_NAME="CHANGE_LR_ACCOUNT_ACCOUNT_NAME",t.INIT_CLR_ACCOUNT="INIT_CLR_ACCOUNT",t.AFTER_SUCCESS_INSERT_INVOICING_ITEM="AFTER_SUCCESS_INSERT_INVOICING_ITEM",t.AFTER_SUCCESS_INSERT_TRANSFER_OUT_ITEM="AFTER_SUCCESS_INSERT_TRANSFER_OUT_ITEM",t.AFTER_SUCCESS_INSERT_LB_ZZ_ITEM="AFTER_SUCCESS_INSERT_LB_ZZ_ITEM",t.TRANSFER_OUT_FROM_CXLS_JUMP_TO_NBZZ="TRANSFER_OUT_FROM_CXLS_JUMP_TO_NBZZ",t.TRANSFER_OUT_FROM_CXLS_JUMP_TO_ZJTX="TRANSFER_OUT_FROM_CXLS_JUMP_TO_ZJTX",t.COST_TRANSFER_FROM_CXLS_JUMP_TO_LRLS="COST_TRANSFER_FROM_CXLS_JUMP_TO_LRLS",t.INVOICE_AUTH_FROM_CXLS_JUMP_TO_LRLS="INVOICE_AUTH_FROM_CXLS_JUMP_TO_LRLS",t.INVOICING_FROM_CXLS_JUMP_TO_LRLS="INVOICING_FROM_CXLS_JUMP_TO_LRLS",t.TRANSFER_OUT_FROM_CXLS_JUMP_TO_LRLS="TRANSFER_OUT_FROM_CXLS_JUMP_TO_LRLS",t.CHANGE_LR_ACCOUNT_COMMON_STRING="CHANGE_LR_ACCOUNT_COMMON_STRING",t.CHANGE_CALCULATE_COMMON_STRING="CHANGE_CALCULATE_COMMON_STRING",t.CALCULATE_CHANGE_QUERY="CALCULATE_CHANGE_QUERY",t.GET_COST_CATEGORY="GET_COST_CATEGORY",t.INIT_LR_ACOUNT_STATE="INIT_LR_ACOUNT_STATE",t.CHANGE_CALCULATE_ENCLOSURE_LIST="CHANGE_CALCULATE_ENCLOSURE_LIST",t.DELETE_CALCULATE_UPLOAD_FJ_URL="DELETE_CALCULATE_UPLOAD_FJ_URL",t.GET_CAL_LABEL_FETCH="GET_CAL_LABEL_FETCH",t.CHANGE_CAL_TAG_NAME="CHANGE_CAL_TAG_NAME",t.GET_DEAL_TYPE_CATEGORY="GET_DEAL_TYPE_CATEGORY"},1358:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,n=arguments[1];return((e={},o(e,l.INIT_LR_CALCULATE_STATE,function(){return c}),o(e,l.SET_INVOIC_ASSLIST_FROM_SETTINGS,function(){return t=s(n.rate,t)}),o(e,l.CHANGE_LR_CALCULATE_COMMON_STATE,function(){return t.setIn([n.parent,n.position],n.value)}),o(e,l.CHANGE_LR_COST_TRANSFER_CATEGORY_UUID_AND_NAME,function(){if(n.acBusinessIncome.beCarryover){var e=n.acBusinessIncome.carryoverAc[0],r=n.acBusinessIncome.stockAc[0];t=(t=t.setIn(["costTransferTemp","acList"],(0,a.fromJS)([{acId:e.acId,acName:e.acFullName,type:e.type}])).updateIn(["costTransferTemp","acList"],function(e){return e.push((0,a.fromJS)({acId:r.acId,acName:r.acFullName,type:r.type}))})).setIn(["costTransferTemp","assList"],(0,a.fromJS)([])),e.assCategoryList.length&&e.assCategoryList.forEach(function(n){t=t.updateIn(["costTransferTemp","assList"],function(t){return t.push((0,a.fromJS)({assId:"",assCategory:n,assName:"",type:e.type}))})}),r.assCategoryList.length&&r.assCategoryList.forEach(function(e){t=t.updateIn(["costTransferTemp","assList"],function(t){return t.push((0,a.fromJS)({assId:"",assCategory:e,assName:"",type:r.type}))})})}return t=t.setIn(["costTransferTemp","categoryUuid"],n.valueList[0]).setIn(["costTransferTemp","categoryName"],n.valueList[1]).setIn(["costTransferTemp","stockRange"],(0,a.fromJS)(n.acBusinessIncome.stockRange))}),o(e,l.CHANGE_LR_COST_TRANSFER_RUNNING_ASSLIST,function(){var e=n.ass.split(u.TREE_JOIN_STR);return t=t.setIn(["costTransferTemp","assList",n.index,"assId"],e[0]).setIn(["costTransferTemp","assList",n.index,"assName"],e[1])}),o(e,l.CHANGE_LR_CALCULATE_RATE_ASSLIST,function(){var e=n.ass.split(u.TREE_JOIN_STR);return t=t.setIn(["rateAcAndAsslist","assList",n.index,"assId"],e[0]).setIn(["rateAcAndAsslist","assList",n.index,"assName"],e[1])}),o(e,l.SELECT_LR_CALCULATE_ITEM,function(){var e=t.getIn([n.Tem,"uuidList"]),r=t.getIn([n.Tem,"stockCardUuidList"]);if(-1===e.indexOf(n.uuid))e=e.push(n.uuid),r=r.push({uuid:n.stockCardUuid,amount:n.amount,onlyId:n.uuid});else{var l=e.findIndex(function(e){return e===n.uuid}),u=r.findIndex(function(e){return e.get("onlyId")===n.uuid});e=e.splice(l,1),r=r.splice(u,1)}var i=r.toJS();return t=t.setIn([n.Tem,"uuidList"],e).setIn([n.Tem,"stockCardUuidList"],(0,a.fromJS)(i))}),o(e,l.SELECT_LR_CALCULATE_ITEM_ALL,function(){if(n.selectAll)return t.setIn([n.Tem,"uuidList"],(0,a.fromJS)([])).setIn([n.Tem,"stockCardUuidList"],(0,a.fromJS)([]));var e=t.get(n.ListName),r=[],l=[];return e.forEach(function(e){r.push(e.get("uuid")),l.push({uuid:e.get("stockCardUuid"),amount:e.get("amount")})}),t.setIn([n.Tem,"uuidList"],(0,a.fromJS)(r)).setIn([n.Tem,"stockCardUuidList"],(0,a.fromJS)(l))}),o(e,l.AFTER_GET_COMMON_LIST,function(){return t=t.set(n.ListName,(0,a.fromJS)(n.receivedData.result)).setIn([n.temp,"uuidList"],(0,a.fromJS)([])).setIn([n.temp,"stockCardUuidList"],(0,a.fromJS)([]))}),o(e,l.AFTER_GET_TRANSFER_OUT_LIST,function(){return t=t.set("transferOutObj",(0,a.fromJS)(n.receivedData))}),o(e,l.AFTER_SUCCESS_INSERT_CARRYOVER_ITEM,function(){if(n.saveAndNew){var e=t.getIn(["costTransferTemp","runningDate"]);t=t.setIn(["flags","insertOrModify"],"insert").set("costTransferTemp",c.get("costTransferTemp")).setIn(["costTransferTemp","runningDate"],e).set("costTransferList",c.get("costTransferList"))}else t=t.setIn(["flags","insertOrModify"],"modify").setIn(["costTransferTemp","carryoverBusinessUuid"],n.carryoverBusinessUuid);return t}),o(e,l.AFTER_SUCCESS_INSERT_INVOICEAUTH_ITEM,function(){if(n.saveAndNew){var e=t.getIn(["invoiceAuthTemp","runningDate"]);t=t.setIn(["flags","insertOrModify"],"insert").setIn(["invoiceAuthTemp","runningDate"],e).set("invoiceAuthTemp",c.get("invoiceAuthTemp")).set("invoiceAuthList",c.get("invoiceAuthList"))}else t=t.setIn(["flags","insertOrModify"],"modify").setIn(["invoiceAuthTemp","authBusinessUuid"],n.authBusinessUuid);return t}),o(e,l.AFTER_SUCCESS_INSERT_INTERNALTRANSFER_ITEM,function(){return t=n.saveAndNew?t.setIn(["flags","insertOrModify"],"insert").set("InternalTransferTemp",c.get("InternalTransferTemp")):t.setIn(["flags","insertOrModify"],"modify").set("InternalTransferTemp",c.get("InternalTransferTemp"))}),o(e,l.CHANGE_LR_ACCOUNT_ACCOUNT_NAME,function(){var e=n.value.split(u.TREE_JOIN_STR);return t=t.setIn([n.tab+"Temp",n.placeUUid],e[0]).setIn([n.tab+"Temp",n.placeName],e[1])}),o(e,l.INIT_CLR_ACCOUNT,function(){t.get("hideCategoryList"),t.getIn(["flags","paymentType"]);if("saveAndNew"===n.strJudgeType){var e=t.getIn([n.temp,"runningDate"]),r=c.get(n.temp);t=t.setIn(["flags","insertOrModify"],"insert").setIn(["flags","runningInsertOrModify"],"insert").setIn(["flags","dealType"],"").set(n.temp,r).setIn([n.temp,"runningDate"],e)}if("afterSave"===n.strJudgeType){var l=(0,a.fromJS)(n.receivedData),u=t.getIn(["flags","insertOrModify"]);t=t.set(n.temp,l).setIn(["flags","insertOrModify"],"modify").setIn(["flags","runningInsertOrModify"],"modify").setIn([n.temp,"flowNumber"],n.callBackObj.flowNumber),"insert"===u&&(t=t.setIn([n.temp,"uuid"],n.callBackObj.uuid))}return t}),o(e,l.AFTER_SUCCESS_INSERT_INVOICING_ITEM,function(){if(n.saveAndNew){var e=t.getIn(["invoicingTemp","runningDate"]);t=t.setIn(["flags","insertOrModify"],"insert").set("invoicingTemp",c.get("invoicingTemp")).setIn(["invoicingTemp","runningDate"],e).set("invoicingList",c.get("invoicingList"))}else t=t.setIn(["flags","insertOrModify"],"modify").setIn(["invoicingTemp","makeOutBusinessUuid"],n.makeOutBusinessUuid);return t}),o(e,l.AFTER_SUCCESS_INSERT_TRANSFER_OUT_ITEM,function(){if(n.saveAndNew){var e=t.getIn(["transferOutTemp","runningDate"]);t=t.setIn(["flags","insertOrModify"],"insert").setIn(["transferOutTemp","runningDate"],e).set("transferOutTemp",c.get("transferOutTemp")).set("transferOutObj",c.get("transferOutObj"))}else t=t.setIn(["flags","insertOrModify"],"modify").setIn(["transferOutTemp","turnOutBusinessUuid"],n.turnOutBusinessUuid);return t}),o(e,l.AFTER_SUCCESS_INSERT_LB_ZZ_ITEM,function(){if(n.saveAndNew){var e=t.getIn(["InternalTransferTemp","runningDate"]);t=t.setIn(["flags","insertOrModify"],"insert").setIn(["InternalTransferTemp","runningDate"],e).set("InternalTransferTemp",c.get("InternalTransferTemp")).set("InternalTransferTemp",c.get("InternalTransferTemp"))}else t=t.setIn(["flags","insertOrModify"],"modify");return t}),o(e,l.TRANSFER_OUT_FROM_CXLS_JUMP_TO_NBZZ,function(){var e=n.item,r=(0,a.fromJS)(n.receivedData.result),l=(0,a.fromJS)(n.receivedData.result.childList),u=void 0,i=void 0,o=void 0,s=void 0;l.map(function(e,t){"LX_NBZC"==e.get("runningType")&&(u=e.get("accountName"),o=e.get("accountUuid")),"LX_NBZR"==e.get("runningType")&&(i=e.get("accountName"),s=e.get("accountUuid"))});var d=r.get("enclosureList")?r.get("enclosureList"):(0,a.fromJS)([]);return t=c.setIn(["flags","insertOrModify"],n.insertOrModify).setIn(["InternalTransferTemp","uuid"],e.get("uuid")).setIn(["InternalTransferTemp","runningDate"],e.get("runningDate")).setIn(["InternalTransferTemp","runningAbstract"],e.get("runningAbstract")).setIn(["InternalTransferTemp","runningState"],r.get("runningState")).setIn(["InternalTransferTemp","amount"],r.get("amount")).setIn(["InternalTransferTemp","fromAccountName"],u).setIn(["InternalTransferTemp","toAccountName"],i).setIn(["InternalTransferTemp","fromAccountUuid"],o).setIn(["InternalTransferTemp","toAccountUuid"],s).setIn(["InternalTransferTemp","flowNumber"],r.get("flowNumber")).setIn(["InternalTransferTemp","enclosureList"],d)}),o(e,l.TRANSFER_OUT_FROM_CXLS_JUMP_TO_ZJTX,function(){var e=n.item,r=(0,a.fromJS)(n.receivedData.result),l=r.get("enclosureList")?r.get("enclosureList"):(0,a.fromJS)([]);return t=c.setIn(["flags","insertOrModify"],n.insertOrModify).setIn(["flags","dealType"],r.get("categoryName")).set(["DepreciationTemp"],(0,a.fromJS)(r)).setIn(["DepreciationTemp","uuid"],e.get("uuid")).setIn(["DepreciationTemp","propertyCost"],r.get("propertyCost")).setIn(["flags","propertyCostList"],r.get("propertyCostList")).setIn(["DepreciationTemp","usedProject"],r.get("usedProject")).setIn(["DepreciationTemp","categoryUuid"],r.get("categoryUuid")).setIn(["DepreciationTemp","projectCard"],r.getIn(["projectCard",0])).setIn(["DepreciationTemp","runningDate"],e.get("runningDate")).setIn(["DepreciationTemp","runningAbstract"],e.get("runningAbstract")).setIn(["DepreciationTemp","runningState"],r.get("runningState")).setIn(["DepreciationTemp","amount"],r.get("amount")).setIn(["DepreciationTemp","flowNumber"],r.get("flowNumber")).setIn(["flags","projectRange"],r.get("projectRange")).setIn(["DepreciationTemp","enclosureList"],l)}),o(e,l.COST_TRANSFER_FROM_CXLS_JUMP_TO_LRLS,function(){var e=n.item,r=(0,a.fromJS)(n.receivedData.result),l=n.receivedData.result.acBusinessIncome.stockCardList;if(t=c.setIn(["flags","insertOrModify"],n.insertOrModify).setIn(["costTransferTemp","runningDate"],e.get("runningDate")).setIn(["flags","projectRange"],r.get("projectRange")).setIn(["costTransferTemp","runningAbstract"],e.get("runningAbstract")).setIn(["costTransferTemp","categoryUuid"],r.get("categoryUuid")).setIn(["costTransferTemp","categoryName"],r.get("categoryName")).setIn(["costTransferTemp","stockCardList"],(0,a.fromJS)(l)),"modify"===n.insertOrModify){var u=r.get("enclosureList")?r.get("enclosureList"):(0,a.fromJS)([]);t=t.setIn(["costTransferTemp","carryoverBusinessUuid"],e.get("uuid")).setIn(["costTransferTemp","flowNumber"],e.get("flowNumber")).setIn(["costTransferTemp","runningState"],"LX_JZCB"===e.get("runningType")?"STATE_YYSR_XS":"STATE_YYSR_TS").setIn(["costTransferTemp","carryoverAmount"],e.get("notHandleAmount")).setIn(["costTransferTemp","uuidList"],r.get("businessList").map(function(e){return e.get("uuid")})).setIn(["costTransferTemp","enclosureList"],u);var i=[];r.getIn(["businessList"]).map(function(e){i.push({uuid:e.get("stockCardUuid"),amount:e.get("amount")})}),t=t.set("costTransferList",r.getIn(["businessList"])).setIn(["costTransferTemp","stockCardUuidList"],(0,a.fromJS)(i));r.getIn(["acBusinessIncome","carryoverAc",0]),r.getIn(["acBusinessIncome","stockAc",0]),r.getIn(["acBusinessIncome","carryoverList"]),r.getIn(["acBusinessIncome","stockList"])}else{t=(t=t.setIn(["costTransferTemp","carryoverBusinessUuid"],"").setIn(["costTransferTemp","runningState"],e.get("runningState")).setIn(["costTransferTemp","carryoverAmount"],"").setIn(["costTransferTemp","uuidList"],(0,a.fromJS)([e.get("uuid")]))).set("costTransferList",(0,a.fromJS)([e]));var o=r.getIn(["acBusinessIncome","carryoverAc",0]),s=r.getIn(["acBusinessIncome","stockAc",0]);t=t.setIn(["costTransferTemp","acList"],(0,a.fromJS)([{acId:o.get("acId"),acName:o.get("acFullName"),type:o.get("type")}])).updateIn(["costTransferTemp","acList"],function(e){return e.push((0,a.fromJS)({acId:s.get("acId"),acName:s.get("acFullName"),type:s.get("type")}))}),o.get("assCategoryList").size&&o.get("assCategoryList").forEach(function(e){t=t.updateIn(["costTransferTemp","assList"],function(t){return t.push((0,a.fromJS)({assId:"",assCategory:e,assName:"",type:o.get("type")}))})}),s.get("assCategoryList").size&&s.get("assCategoryList").forEach(function(e){t=t.updateIn(["costTransferTemp","assList"],function(t){return t.push((0,a.fromJS)({assId:"",assCategory:e,assName:"",type:s.get("type")}))})})}return t}),o(e,l.INVOICE_AUTH_FROM_CXLS_JUMP_TO_LRLS,function(){var e=n.item,r=(0,a.fromJS)(n.receivedData.result);if(t=c.setIn(["flags","insertOrModify"],n.insertOrModify).setIn(["invoiceAuthTemp","runningDate"],e.get("runningDate")).setIn(["invoiceAuthTemp","runningAbstract"],e.get("runningAbstract")).setIn(["invoiceAuthTemp","categoryUuid"],r.get("categoryUuid")),"modify"===n.insertOrModify){var l=r.get("enclosureList")?r.get("enclosureList"):(0,a.fromJS)([]);t=(t=t.setIn(["invoiceAuthTemp","authBusinessUuid"],e.get("uuid")).setIn(["invoiceAuthTemp","enclosureList"],l).setIn(["invoiceAuthTemp","flowNumber"],e.get("flowNumber")).setIn(["invoiceAuthTemp","billAuthType"],"LX_FPRZ_CG"===e.get("runningType")?"BILL_AUTH_TYPE_CG":"BILL_AUTH_TYPE_TG").setIn(["invoiceAuthTemp","uuidList"],r.get("businessList").map(function(e){return e.get("uuid")}))).set("invoiceAuthList",r.getIn(["businessList"]));var u=r.get("billAcList"),i=r.get("billAssList");t=s(n.rate,t,u,i)}else t=(t=t.setIn(["invoiceAuthTemp","authBusinessUuid"],"").setIn(["invoiceAuthTemp","billAuthType"],"LX_ZZS_WRZ"===e.get("runningType")?"BILL_AUTH_TYPE_CG":"BILL_AUTH_TYPE_TG").setIn(["invoiceAuthTemp","uuidList"],(0,a.fromJS)([e.get("uuid")]))).set("invoiceAuthList",(0,a.fromJS)([e])),t=s(n.rate,t);return t}),o(e,l.INVOICING_FROM_CXLS_JUMP_TO_LRLS,function(){var e=n.item,r=(0,a.fromJS)(n.receivedData.result);if(t=c.setIn(["flags","insertOrModify"],n.insertOrModify).setIn(["invoicingTemp","runningDate"],e.get("runningDate")).setIn(["invoicingTemp","runningAbstract"],e.get("runningAbstract")).setIn(["invoicingTemp","categoryUuid"],r.get("categoryUuid")),"modify"===n.insertOrModify){var l=r.get("enclosureList")?r.get("enclosureList"):(0,a.fromJS)([]);t=(t=t.setIn(["invoicingTemp","makeOutBusinessUuid"],e.get("uuid")).setIn(["invoicingTemp","flowNumber"],e.get("flowNumber")).setIn(["invoiceAuthTemp","enclosureList"],l).setIn(["invoicingTemp","billMakeOutType"],"LX_KJFP_XS"===e.get("runningType")?"BILL_MAKE_OUT_TYPE_XS":"BILL_MAKE_OUT_TYPE_TS").setIn(["invoicingTemp","uuidList"],r.get("businessList").map(function(e){return e.get("uuid")}))).set("invoicingList",r.getIn(["businessList"]));var u=r.get("billAcList"),i=r.get("billAssList");t=s(n.rate,t,u,i)}else t=(t=t.setIn(["invoicingTemp","makeOutBusinessUuid"],"").setIn(["invoicingTemp","billMakeOutType"],"LX_ZZS_WKP"===e.get("runningType")?"BILL_MAKE_OUT_TYPE_XS":"BILL_MAKE_OUT_TYPE_TS").setIn(["invoicingTemp","uuidList"],(0,a.fromJS)([e.get("uuid")]))).set("invoicingList",(0,a.fromJS)([r])),t=s(n.rate,t);return t}),o(e,l.TRANSFER_OUT_FROM_CXLS_JUMP_TO_LRLS,function(){var e=n.item,r=(0,a.fromJS)(n.receivedData.result),l=r.get("enclosureList")?r.get("enclosureList"):(0,a.fromJS)([]);t=c.setIn(["flags","insertOrModify"],n.insertOrModify).setIn(["transferOutTemp","runningDate"],e.get("runningDate")).setIn(["transferOutTemp","flowNumber"],e.get("flowNumber")).setIn(["transferOutTemp","runningAbstract"],e.get("runningAbstract")).setIn(["transferOutTemp","categoryUuid"],r.get("categoryUuid")).setIn(["transferOutTemp","turnOutBusinessUuid"],e.get("uuid")).setIn(["transferOutTemp","handleMonth"],r.getIn(["businessList",0,"runningDate"]).substr(0,7)).setIn(["transferOutTemp","uuidList"],r.get("businessList").map(function(e){return e.get("uuid")})).setIn(["transferOutTemp","enclosureList"],l);var u=r.get("billAcList"),i=r.get("billAssList");t=s(n.rate,t,u,i);var o=0,d=0,f=0,g=0;return r.get("businessList").forEach(function(e){"bill_common"===e.get("billType")?(g+=1,f+=e.get("parentTax")?e.get("parentTax"):e.get("tax")):(d+=1,o+=e.get("parentTax")?e.get("parentTax"):e.get("tax"))}),t=t.setIn(["transferOutObj","flowDtoList"],r.get("businessList")).setIn(["transferOutObj","inputAmount"],o).setIn(["transferOutObj","inputCount"],d).setIn(["transferOutObj","outputAmount"],f).setIn(["transferOutObj","outputCount"],g)}),o(e,l.GET_COST_CATEGORY,function(){return t=t.setIn(["costTransferTemp","runningCategory"],(0,a.fromJS)(n.receivedData.categoryList))}),o(e,l.CHANGE_CALCULATE_COMMON_STRING,function(){return n.placeArr&&(t=t.setIn(n.placeArr,n.value)),n.place&&(t=t.set(n.place,n.value)),t}),o(e,l.CHANGE_CALCULATE_ENCLOSURE_LIST,function(){var e=[];return t.getIn([n.place,"enclosureList"]).map(function(t){e.push(t)}),n.imgArr.forEach(function(t){e.push(t)}),t=t.setIn([n.place,"enclosureList"],(0,a.fromJS)(e)).setIn([n.place,"enclosureCountUser"],e.length)}),o(e,l.DELETE_CALCULATE_UPLOAD_FJ_URL,function(){var e=[];return t.getIn([n.place,"needDeleteUrl"]).map(function(t){e.push(t)}),t.getIn([n.place,"enclosureList"]).map(function(a,r){r==n.index&&(e.push(t.getIn([n.place,"enclosureList",r]).set("beDelete",!0)),t=t.deleteIn([n.place,"enclosureList",r]))}),t=t.setIn([n.place,"needDeleteUrl"],(0,a.fromJS)(e)).setIn([n.place,"enclosureCountUser"],t.getIn([n.place,"enclosureList"]).size)}),o(e,l.GET_CAL_LABEL_FETCH,function(){return t=t.setIn([n.setPlace,"label"],(0,a.fromJS)(n.receivedData.data)).set("tagModal",!0)}),o(e,l.CHANGE_CAL_TAG_NAME,function(){return t.getIn([n.setPlace,"enclosureList"]).map(function(e,a){a==n.index&&(t=t.setIn([n.setPlace,"enclosureList",a,"label"],n.value))}),t=t.set("tagModal",!1)}),o(e,l.GET_DEAL_TYPE_CATEGORY,function(){return t=t.setIn(["DepreciationTemp","dealTypeList",0,"childList"],(0,a.fromJS)(n.receivedData[0].childList))}),e)[n.type]||function(){return t})()};var a=n(18),r=n(22),l=i(n(1342)),u=i(n(27));function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=(0,a.fromJS)({flags:{circleStatus:!0,runningInsertOrModify:"insert",insertOrModify:"insert",selectI:0,dealType:"",projectList:[],projectRange:[],propertyCostList:[],dealCategory:[],beProject:!1},costTransferTemp:{carryoverBusinessUuid:"",uuidList:[],stockCardUuidList:[],categoryUuid:"",runningState:"STATE_YYSR_XS",runningDate:(0,r.formatDate)(),runningAbstract:"销售存货结转成本",carryoverAmount:"",categoryName:"",acList:[],assList:[],stockList:[],stockCardList:[{code:"",name:"",amount:""}],cardUuid:"",runningCategory:[{childList:[]}],enclosureList:[],needDeleteUrl:[],tagModal:!1,label:[]},rateAcAndAsslist:{acList:[],assList:[]},invoiceAuthTemp:{authBusinessUuid:"",uuidList:[],billAuthType:"BILL_AUTH_TYPE_CG",runningDate:(0,r.formatDate)(),runningAbstract:"增值税专用发票认证",categoryUuid:"",acList:[],assList:[],enclosureList:[],needDeleteUrl:[],tagModal:!1,label:[]},invoicingTemp:{makeOutBusinessUuid:"",uuidList:[],billMakeOutType:"BILL_MAKE_OUT_TYPE_XS",runningDate:(0,r.formatDate)(),runningAbstract:"收入开具发票",categoryUuid:"",acList:[],assList:[],enclosureList:[],needDeleteUrl:[],tagModal:!1,label:[]},transferOutTemp:{uuidList:[],turnOutBusinessUuid:"",runningDate:(0,r.formatDate)(),runningAbstract:"转出未交增值税",handleMonth:"",enclosureList:[],needDeleteUrl:[],tagModal:!1,label:[]},InternalTransferTemp:{uuid:"",runningState:"STATE_ZZ",runningDate:(0,r.formatDate)(),runningAbstract:"内部转账",amount:"",categoryType:"",categoryUuid:"",fromAccountUuid:"",toAccountUuid:"",accountChildList:[],enclosureList:[],needDeleteUrl:[],tagModal:!1,label:[]},DepreciationTemp:{uuid:"",runningState:"STATE_CQZC_ZJTX",runningDate:(0,r.formatDate)(),runningAbstract:"资产折旧摊销",amount:"",categoryType:"",categoryUuid:"",assetType:"XZ_ZJTX",dealTypeList:[{childList:[]}],usedProject:!1,projectCard:{name:"",code:"",uuid:"",amount:""},propertyCost:"",enclosureList:[],needDeleteUrl:[],tagModal:!1,label:[]},costTransferList:[],invoiceAuthList:[],invoicingList:[],transferOutObj:{flowDtoList:[],inputAmount:"",inputCount:"",outputAmount:"",outputCount:""},vcKey:0});function s(e,t,n,r){var l=[],i=[];("small"===e.scale?[{name:"payable",type:u.ACCOUNT_RATE_TYPE_OF_PAYABLE},{name:"notBilling",type:u.ACCOUNT_RATE_TYPE_OF_NOTBILLING}]:[{name:"input",type:u.ACCOUNT_RATE_TYPE_OF_INPUT},{name:"certified",type:u.ACCOUNT_RATE_TYPE_OF_CERTIFIED},{name:"waitOutput",type:u.ACCOUNT_RATE_TYPE_OF_WAITOUTPUT},{name:"output",type:u.ACCOUNT_RATE_TYPE_OF_OUTPUT},{name:"turnOutUnpaid",type:u.ACCOUNT_RATE_TYPE_OF_TURNOUTUNPAID},{name:"unpaid",type:u.ACCOUNT_RATE_TYPE_OF_UNPAID}]).forEach(function(t){l.push({acId:e[t.name+"AcId"],acName:e[t.name+"AcFullName"],type:t.type}),e[t.name+"AssCategory"].forEach(function(e){i.push({assId:"",assName:"",assCategory:e,type:t.type})})});var o=(0,a.fromJS)(l),c=(0,a.fromJS)(i);return n&&n.size&&n.forEach(function(e){var t=e.get("type");o=o.update(function(n){return n.map(function(n){return n.get("type")===t?n.set("acId",e.get("acId")).set("acName",e.get("acName")):n})})}),r&&r.size&&r.forEach(function(e){var t=e.get("type"),n=e.get("assCategory");c=c.update(function(a){return a.map(function(a){return a.get("type")===t&&a.get("assCategory")===n?a.set("assId",e.get("assId")).set("assName",e.get("assName")):a})})}),t.setIn(["rateAcAndAsslist","acList"],o).setIn(["rateAcAndAsslist","assList"],c)}},1360:function(e,t,n){},1391:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,n=arguments[1];return((e={},o(e,r.INIT_CXLS,function(){return c}),o(e,r.GET_BUSINESS_LIST,function(){if(n.isReflash&&(t=t.set("businessTemp",c)),"true"===n.getPeriod&&(t=t.set("period",(0,a.fromJS)(n.period)).set("issues",(0,a.fromJS)(n.issues))),n.accountUuid&&n.isAccount){var e=n.accountUuid.split(l.TREE_JOIN_STR);t=t.setIn(["flags","curAccountUuid"],(0,a.fromJS)(n.accountUuid)).setIn(["flags","accountName"],(0,a.fromJS)(e[1]))}else t=t.setIn(["flags","curAccountUuid"],"").setIn(["flags","accountName"],"");switch(n.orderBy){case"SEARCH_ORDER_DATE":t=t.setIn(["orderByList","dateSortType"],n.isAsc);break;case"SEARCH_ORDER_CATEGORY_TYPE":t=t.setIn(["orderByList","categorySortType"],n.isAsc);break;case"SEARCH_ORDER_AMOUNT":t=t.setIn(["orderByList","amountSortType"],n.isAsc);break;case"SEARCH_ORDER_CREATE_NAME":t=t.setIn(["orderByList","nameSortType"],n.isAsc)}var r=n.receivedExtra,u=(r.childList,function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(r,["childList"]));for(var i in u)t=t.setIn(["flags",i],u[i]);return t.set("businessTemp",(0,a.fromJS)(n.receivedData)).set("pageCount",n.pageCount).set("currentPage",n.currentPage).setIn(["flags","mainWater"],(0,a.fromJS)(n.waterType)).setIn(["flags","issuedate"],(0,a.fromJS)(n.issuedate)).setIn(["flags","isAccount"],(0,a.fromJS)(n.isAccount)).setIn(["flags","isAsc"],(0,a.fromJS)(n.isAsc)).setIn(["flags","selectList"],(0,a.fromJS)([])).setIn(["flags","pzSelectAllList"],(0,a.fromJS)([])).setIn(["flags","currentVcIndex"],(0,a.fromJS)([]))}),o(e,r.CHANGE_CX_ACCOUNT_COMMON_STRING,function(){return n.placeArr&&(t=t.setIn(n.placeArr,n.value)),n.place&&(t=t.set(n.place,n.value)),t}),o(e,r.CXLS_ITEM_CHECKBOX_CHECK_ALL,function(){if(n.selectAll)return t.setIn(["flags","selectList"],(0,a.fromJS)([])).setIn(["flags","pzSelectAllList"],(0,a.fromJS)([])).setIn(["flags","currentVcIndex"],(0,a.fromJS)([]));var e=n.list,r=[],l=[],u=[];return e.forEach(function(e){r.push(e.get("uuid")),e.get("vcList")&&e.get("vcList").size?e.get("vcList").map(function(e){u.push(e.get("vcIndex")),t=t.setIn(["flags","currentYear"],e.get("year")).setIn(["flags","currentMonth"],e.get("month"))}):l.push((0,a.fromJS)({uuid:e.get("uuid"),flowNumber:e.get("flowNumber")}))}),t.setIn(["flags","selectList"],(0,a.fromJS)(r)).setIn(["flags","pzSelectAllList"],(0,a.fromJS)(l)).setIn(["flags","currentVcIndex"],(0,a.fromJS)(u))}),o(e,r.CXLS_ITEM_CHECKBOX_CHECK,function(){var e=t.getIn(["flags","selectList"]),r=t.getIn(["flags","pzSelectAllList"]),l=t.getIn(["flags","currentVcIndex"]);if(n.checked){var u=e.splice(e.findIndex(function(e){return e===n.item.get("uuid")}),1),i=r,o=l;return n.item.get("vcList")&&n.item.get("vcList").size?n.item.get("vcList").map(function(e){o=o.splice(o.findIndex(function(t){return t===e.get("vcIndex")}),1)}):i=r.splice(r.findIndex(function(e){return e.get("uuid")===n.item.get("uuid")}),1),t.setIn(["flags","selectList"],(0,a.fromJS)(u)).setIn(["flags","pzSelectAllList"],(0,a.fromJS)(i)).setIn(["flags","currentVcIndex"],(0,a.fromJS)(o))}var c=e.push(n.item.get("uuid")),s=r,d=l;return n.item.get("vcList")&&n.item.get("vcList").size?n.item.get("vcList").map(function(e){d=d.push(e.get("vcIndex")),t=t.setIn(["flags","currentYear"],e.get("year")).setIn(["flags","currentMonth"],e.get("month"))}):s=r.push((0,a.fromJS)({uuid:n.item.get("uuid"),flowNumber:n.item.get("flowNumber")})),t.setIn(["flags","selectList"],(0,a.fromJS)(c)).setIn(["flags","pzSelectAllList"],(0,a.fromJS)(s)).setIn(["flags","currentVcIndex"],(0,a.fromJS)(d))}),o(e,r.GET_CXLSCONF_ALL_SETTINGS,function(){return t=t.set("runningCategory",(0,a.fromJS)(n.receivedData.categoryList)).set("accountList",(0,a.fromJS)(n.receivedData.accountList)).set("taxRateTemp",(0,a.fromJS)(n.receivedData.rate))}),o(e,r.SET_CURRENT_PZ,function(){return t=t.setIn(["flags","currentYear"],n.year).setIn(["flags","currentMonth"],n.month).setIn(["flags","currentVcIndex"],(0,a.fromJS)(n.vcIndexList))}),o(e,r.CHANGE_PZ_COMMON_STRING,function(){return t=t.setIn(n.name,n.value)}),o(e,r.CXLS_CALCULATE_GAIN_OR_LOSS,function(){var e=n.place,a=n.diff,r=n.deletePlace;return t.setIn(e,a).deleteIn(r,a)}),e)[n.type]||function(){return t})()};var a=n(18),r=i(n(1274)),l=i(n(27)),u=n(22);function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=(0,a.fromJS)({flags:{issuedate:"",main:"duty",mainWater:"allWater",insertOrModify:"insert",runningInsertOrModify:"insert",payOrReceive:"收",accountAssModalShow:!1,curCategory:"全部",curAccountUuid:"",accountName:"全部",assId:"",assCategory:"",acId:"",selectList:[],pzSelectAllList:[],pzDealNum:0,pzDealStatus:!1,showRunningInfo:{},currentYear:"",currentMonth:"",currentVcIndex:[],searchType:"SEARCH_TYPE_CATEGORY_TYPE",managerCategoryList:[],pzDealType:"",projectList:[]},orderByList:{dateSortType:!1,categorySortType:!1,amountSortType:!1,nameSortType:!1,orderByArr:[]},businessTemp:{},runningFlowTemp:{},modalTemp:{runningDate:(0,u.formatDate)(),uuidList:[]},period:{closedmonth:"",closedyear:"",firstmonth:"",firstyear:"",lastmonth:"",lastyear:""},issues:[],currentPage:1,pageCount:1})},1414:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.changeAssetsMxbChooseMorePeriods=t.getMxListByLabelFetch=t.getMxListFetch=t.getAssetsListFetch=t.getPeriodAndMxbAssetsFetch=void 0;var a,r=c(n(1506)),l=c(n(43)),u=n(22),i=n(31),o=(a=i)&&a.__esModule?a:{default:a};function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}t.getPeriodAndMxbAssetsFetch=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"1",a=arguments[3],r=arguments[4];return function(l){l(s(e,t,n,a,"true",r))}},t.getAssetsListFetch=function(){return function(e){(0,o.default)("initclassification","GET","",function(t){(0,u.showMessage)(t)&&e({type:r.GET_ASSESTS_LIST_FETCH,receivedData:t.data})}),(0,o.default)("getlabelList","GET","",function(t){(0,u.showMessage)(t)&&e({type:r.GET_ASSESTS_TREE_FETCH,receivedData:t.data})})}},t.getMxListFetch=function(e,t,n,a){return function(r){r(s(e,t,n,a))}},t.getMxListByLabelFetch=function(e,t,n,a){return function(r){r(s(e,t,"",n,a))}};var s=function(e,t,n,a,r){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"1";return function(c){var s=a?{begin:e?""+e.substr(0,4)+e.substr(6,2):"",end:t?""+t.substr(0,4)+t.substr(6,2):"",label:a,getPeriod:r,currentPage:i,pageSize:"500"}:{begin:e?""+e.substr(0,4)+e.substr(6,2):"",end:t?""+t.substr(0,4)+t.substr(6,2):"",serialNumber:n,getPeriod:r,currentPage:i,pageSize:"500"};(0,o.default)("getMxList","POST",JSON.stringify(s),function(i){if((0,u.showMessage)(i))if("true"==r){var o=c(l.everyTableGetPeriod(i)),s=e||o,f=t||o;c(d(i.data.mainData,s,f,n||a,i.data.currentPage,i.data.pageCount))}else c(d(i.data.mainData,e,t,n||a,i.data.currentPage,i.data.pageCount))})}},d=function(e,t,n,a,l,u){return function(i){i({type:r.GET_MX_LIST_FETCH,receivedData:e,issuedate:t,endissuedate:n,serialNumber:a,currentPage:l,pageCount:u})}};t.changeAssetsMxbChooseMorePeriods=function(e){return{type:r.CHANGE_ASSETS_MXB_CHOOSE_MORE_PERIODS,bool:e}}},1419:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=f(n(61)),l=f(n(45)),u=f(n(89)),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(79),n(55),n(88);var o=f(n(1)),c=n(17),s=(d(n(27)),n(127),n(18),d(n(1229)));function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function f(e){return e&&e.__esModule?e:{default:e}}var g=u.default.Group,m=(l.default.Option,(0,c.immutableRenderDecorator)(a=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),i(t,[{key:"render",value:function(){var e=this.props,t=(e.isModify,e.cardTemp),n=e.dispatch,a=(e.beSpecial,e.beDeposited),l=e.runningState,i=(e.payOrReceive,e.beManagemented),c=e.flags,d=(e.disabled,e.specialStateforAccrued),f=t.get("categoryType"),m=void 0,_="debit";(({LB_YYSR:function(){!0,"营业收入",m="acBusinessIncome"},LB_YYZC:function(){!0,"营业支出",m="acBusinessExpense",_="credit"},LB_YYWSR:function(){!0,"营业外收入",m="acBusinessOutIncome",!0},LB_YYWZC:function(){!0,"营业外支出",m="acBusinessOutExpense",_="credit",!0},LB_JK:function(){!0,"借款",m="acLoan"},LB_TZ:function(){!0,"投资",m="acInvest"},LB_ZB:function(){!0,"资本",m="acCapital"},LB_CQZC:function(){!0,"长期资产",m="acAssets"},LB_FYZC:function(){!0,"费用支出",m="acCost",_="credit"},LB_ZSKX:function(){!1,"暂收款项",m="acTemporaryReceipt",!0},LB_ZFKX:function(){!1,"暂付款项",m="acTemporaryPay",!0},LB_XCZC:function(){!1,"薪酬支出",m="acPayment"},LB_SFZC:function(){!1,"税费支出",m="acTax"}})[f]||function(){return""})();var T=t.get("propertyPay"),p=t.getIn([m,"beAccrued"]),C=t.get("propertyTax"),E=(t.getIn([m,"beTurnOut"]),t.getIn([m,"beInAdvance"])),S=t.getIn([m,"beSellOff"]),A=t.get("propertyCost"),y=t.get("propertyInvest"),N=(c.get("isQueryByBusiness"),c.get("specialStateforAssets")),I=c.get("runningInsertOrModify"),L=(t.get("handleAmount"),t.get("runningType")),h=t.get("assetType"),v=t.getIn([m,"stockRange"]),O=t.getIn([m,"contactsRange"]);return"XZ_QDJK"===A||"XZ_CHBJ"===A||"XZ_DWTZ"===A||"XZ_SHTZ"===A||"XZ_ZZ"===A||"XZ_JZ"===A||"SX_FLF"===T||N?null:o.default.createElement("div",{className:"accountConf-modal-list-item",style:{minHeight:"auto"}},o.default.createElement("label",null),"LB_YYSR"===f||"LB_YYZC"===f?o.default.createElement("div",null,o.default.createElement(g,{disabled:"modify"===I,onChange:function(e){n(s.changeStateAndAbstract(t,e.target.value)),n(s.changeLrAccountCommonString("card","runningState",e.target.value)),n(s.getFirstStockCardList(v,e.target.value)),n(s.getFirstContactsCardList(O,e.target.value))},value:l},o.default.createElement(u.default,{key:"a",value:"debit"===_?"STATE_YYSR_DJ":"STATE_YYZC_DJ",disabled:!a},o.default.createElement(r.default,{placement:"topLeft",title:a?"":"流水设置中未启用"},"debit"===_?"预收":"预付")),o.default.createElement(u.default,{key:"b",value:"debit"===_?"STATE_YYSR_XS":"STATE_YYZC_GJ"},"debit"===_?"销售":"购进"),o.default.createElement(u.default,{key:"c",value:"debit"===_?"STATE_YYSR_TS":"STATE_YYZC_TG",disabled:!S},o.default.createElement(r.default,{placement:"topLeft",title:S?"":"流水设置中未启用"},"debit"===_?"退销":"退购")))):null,"LB_FYZC"===f?o.default.createElement("div",null,o.default.createElement(g,{disabled:"modify"===I,onChange:function(e){n(s.changeStateAndAbstract(t,e.target.value)),n(s.getFirstStockCardList(v,e.target.value)),n(s.getFirstContactsCardList(O,e.target.value)),n(s.changeLrAccountCommonString("card","runningState",e.target.value))},value:l},o.default.createElement(u.default,{key:"a",value:"STATE_FY_DJ",disabled:!a},o.default.createElement(r.default,{placement:"topLeft",title:a?"":"流水设置中未启用"},"预付")),o.default.createElement(u.default,{key:"d",value:"STATE_FY_YF"},"已付款"),o.default.createElement(u.default,{key:"e",value:"STATE_FY_WF",disabled:!i},o.default.createElement(r.default,{placement:"topLeft",title:i?"":"流水设置中未启用"},"未付款")))):null,"LB_YYWSR"===f?o.default.createElement("div",null,o.default.createElement(g,{disabled:"modify"===I,onChange:function(e){n(s.changeStateAndAbstract(t,e.target.value)),n(s.getFirstContactsCardList(O,e.target.value)),n(s.changeLrAccountCommonString("card","runningState",e.target.value))},value:l},o.default.createElement(u.default,{key:"f",value:"STATE_YYWSR_YS"},"已收款"),o.default.createElement(u.default,{key:"g",value:"STATE_YYWSR_WS",disabled:!i},o.default.createElement(r.default,{placement:"topLeft",title:i?"":"流水设置中未启用"},"未收款")))):null,"LB_TZ"===f&&"XZ_QDSY"===A?o.default.createElement("div",null,d?o.default.createElement(g,{disabled:"modify"===I,onChange:function(e){n(s.changeStateAndAbstract(t,e.target.value)),n(s.changeLrAccountCommonString("card","runningState",e.target.value))},value:l},o.default.createElement(u.default,{key:"h",value:"STATE_TZ_SRGL",style:{display:"SX_GQ"===y?"":"none"}},"收入股利"),o.default.createElement(u.default,{key:"i",value:"STATE_TZ_SRLX",style:{display:"SX_ZQ"===y?"":"none"}},"收入利息")):o.default.createElement(g,{disabled:"modify"===I,onChange:function(e){n(s.changeStateAndAbstract(t,e.target.value)),n(s.changeLrAccountCommonString("card","runningState",e.target.value))},value:l},o.default.createElement(u.default,{key:"j",value:"STATE_TZ_JTGL",style:{display:"SX_GQ"===y?"":"none"},disabled:!p},o.default.createElement(r.default,{placement:"topLeft",title:p?"":"流水设置中未启用"},"计提股利")),o.default.createElement(u.default,{key:"k",value:"STATE_TZ_SRGL",style:{display:"SX_GQ"===y?"":"none"}},"收入股利"),o.default.createElement(u.default,{key:"l",value:"STATE_TZ_JTLX",style:{display:"SX_ZQ"===y?"":"none"},disabled:!p},o.default.createElement(r.default,{placement:"topLeft",title:p?"":"流水设置中未启用"},"计提利息")),o.default.createElement(u.default,{key:"m",value:"STATE_TZ_SRLX",style:{display:"SX_ZQ"===y?"":"none"}},"收入利息"))):null,"LB_YYWZC"===f?o.default.createElement("div",null,o.default.createElement(g,{disabled:"modify"===I,onChange:function(e){n(s.changeStateAndAbstract(t,e.target.value)),n(s.getFirstContactsCardList(O,e.target.value)),n(s.changeLrAccountCommonString("card","runningState",e.target.value))},value:l},o.default.createElement(u.default,{key:"n",value:"STATE_YYWZC_YF"},"已付款"),o.default.createElement(u.default,{key:"o",value:"STATE_YYWZC_WF",disabled:!i},o.default.createElement(r.default,{placement:"topLeft",title:i?"":"流水设置中未启用"},"未付款")))):null,"LB_CQZC"===f&&"LX_JZSY_SS"!==L&&"LX_JZSY_SY"!==L&&"XZ_ZJTX"!==h?o.default.createElement("div",null,o.default.createElement(g,{disabled:"modify"===I,onChange:function(e){n(s.changeStateAndAbstract(t,e.target.value)),n(s.getFirstContactsCardList(O,e.target.value)),n(s.changeLrAccountCommonString("card","runningState",e.target.value))},value:l},o.default.createElement(u.default,{key:"p",value:"XZ_CZZC"===h?"STATE_CQZC_YS":"STATE_CQZC_YF"},"已"+("XZ_CZZC"===h?"收":"付")+"款"),o.default.createElement(u.default,{key:"q",value:"XZ_CZZC"===h?"STATE_CQZC_WS":"STATE_CQZC_WF",disabled:!i},o.default.createElement(r.default,{placement:"topLeft",title:i?"":"流水设置中未启用"},"未"+("XZ_CZZC"===h?"收":"付")+"款")))):null,"LB_JK"===f&&"XZ_CHLX"===A?o.default.createElement("div",null,d?o.default.createElement(g,{disabled:"modify"===I,onChange:function(e){n(s.changeStateAndAbstract(t,e.target.value)),n(s.changeLrAccountCommonString("card","runningState",e.target.value))},value:l},o.default.createElement(u.default,{key:"r",value:"STATE_JK_ZFLX"},"支付利息")):o.default.createElement(g,{disabled:"modify"===I,onChange:function(e){n(s.changeStateAndAbstract(t,e.target.value)),n(s.changeLrAccountCommonString("card","runningState",e.target.value))},value:l},o.default.createElement(u.default,{key:"sa",value:"STATE_JK_JTLX",disabled:!p},o.default.createElement(r.default,{placement:"topLeft",title:p?"":"流水设置中未启用"},"计提利息")),o.default.createElement(u.default,{key:"t",value:"STATE_JK_ZFLX"},"支付利息"))):null,"LB_XCZC"===f&&"SX_FLF"!==T?o.default.createElement("div",null,d?o.default.createElement(g,{disabled:"modify"===I,onChange:function(e){n(s.changeStateAndAbstract(t,e.target.value)),n(s.changeLrAccountCommonString("card","runningState",e.target.value))},value:l},o.default.createElement(u.default,{key:"u",value:"SX_GZXJ"===T||"SX_QTXC"===T?"STATE_XC_FF":"STATE_XC_JN"},"SX_GZXJ"===T||"SX_QTXC"===T?"发放":"缴纳")):o.default.createElement(g,{disabled:"modify"===I,onChange:function(e){n(s.changeStateAndAbstract(t,e.target.value)),n(s.changeLrAccountCommonString("card","runningState",e.target.value))},value:l},o.default.createElement(u.default,{key:"v",value:"STATE_XC_JT",disabled:!p},o.default.createElement(r.default,{placement:"topLeft",title:p?"":"流水设置中未启用"},"计提")),o.default.createElement(u.default,{key:"x",value:"SX_GZXJ"===T||"SX_QTXC"===T?"STATE_XC_FF":"STATE_XC_JN"},"SX_GZXJ"===T||"SX_QTXC"===T?"发放":"缴纳"))):null,"LB_SFZC"===f&&"STATE_SF_SFJM"!==l?o.default.createElement("div",null,d?o.default.createElement(g,{disabled:"modify"===I,onChange:function(e){n(s.changeStateAndAbstract(t,e.target.value)),n(s.changeLrAccountCommonString("card","runningState",e.target.value))},value:l},o.default.createElement(u.default,{key:"w",value:"STATE_SF_JN"},"缴纳")):o.default.createElement(g,{disabled:"modify"===I,onChange:function(e){n(s.changeStateAndAbstract(t,e.target.value)),n(s.changeStateAndAbstract(t,e.target.value)),n(s.changeLrAccountCommonString("card","runningState",e.target.value))},value:l},o.default.createElement(u.default,{key:"z",value:"STATE_SF_JT",style:{display:"SX_QTSF"===C||"SX_QYSDS"===C?"":"none"},disabled:!p},o.default.createElement(r.default,{placement:"topLeft",title:p?"":"流水设置中未启用"},"计提")),o.default.createElement(u.default,{key:"ab",value:"STATE_SF_YJZZS",style:{display:"SX_ZZS"===C?"":"none"},disabled:!E},o.default.createElement(r.default,{placement:"topLeft",title:E?"":"流水设置中未启用"},"预缴增值税")),o.default.createElement(u.default,{key:"aa",value:"STATE_SF_JN"},"缴纳"))):null,"LB_ZSKX"===f?o.default.createElement("div",null,d?o.default.createElement(g,{disabled:"modify"===I,onChange:function(e){n(s.changeLrAccountCommonString("card","runningState",e.target.value))},value:l},o.default.createElement(u.default,{key:"ac",value:"STATE_ZS_TH"},"退还")):o.default.createElement(g,{disabled:"modify"===I,onChange:function(e){n(s.changeStateAndAbstract(t,e.target.value)),n(s.changeLrAccountCommonString("card","runningState",e.target.value))},value:l},o.default.createElement(u.default,{key:"ba",value:"STATE_ZS_SQ"},"收取"),o.default.createElement(u.default,{key:"ca",value:"STATE_ZS_TH"},"退还"))):null,"LB_ZFKX"===f?o.default.createElement("div",null,d?o.default.createElement(g,{disabled:"modify"===I,onChange:function(e){n(s.changeLrAccountCommonString("card","runningState",e.target.value))},value:l},o.default.createElement(u.default,{key:"ad",value:"STATE_ZF_SH"},"收回")):o.default.createElement(g,{disabled:"modify"===I,onChange:function(e){n(s.changeStateAndAbstract(t,e.target.value)),n(s.changeLrAccountCommonString("card","runningState",e.target.value))},value:l},o.default.createElement(u.default,{key:"ae",value:"STATE_ZF_FC"},"付出"),o.default.createElement(u.default,{key:"af",value:"STATE_ZF_SH"},"收回"))):null,"XZ_LRFP"===A?o.default.createElement("div",null,d?o.default.createElement(g,{disabled:"modify"===I,onChange:function(e){n(s.changeLrAccountCommonString("card","runningState",e.target.value))},value:l},o.default.createElement(u.default,{key:"ag",value:"STATE_ZB_ZFLR"},"支付利润")):o.default.createElement(g,{disabled:"modify"===I,onChange:function(e){n(s.changeStateAndAbstract(t,e.target.value)),n(s.changeLrAccountCommonString("card","runningState",e.target.value))},value:l},o.default.createElement(u.default,{key:"ah",value:"STATE_ZB_LRFP",disabled:!p},o.default.createElement(r.default,{placement:"topLeft",title:p?"":"流水设置中未启用"},"利润分配")),o.default.createElement(u.default,{key:"bj",value:"STATE_ZB_ZFLR"},"支付利润"))):null)}}]),t}())||a);t.default=m},1420:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(1),u=(a=l)&&a.__esModule?a:{default:a},i=(n(17),n(18),function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1229))),o=n(127);function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),u=0;u<r;u++)l[u]=arguments[u];return n=a=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.shouldComponentUpdate=function(e){var t=a.props,n=t.preAmount,r=t.payableAmount,l=(t.accountNameList,t.dispatch),u=t.cardTemp,o=t.categoryUuid,c=t.runningDate,s=(t.direction,t.categoryType),d=t.acId,f=t.runningState,g=t.propertyPay,m=t.fundOrSocialSecurity,_=t.accumulationAmount,T=t.socialSecurityAmount,p=t.propertyTax,C=t.accruedState,E=t.sfAmount,S=t.isYfsf,A=t.taxAmount,y=(t.accountNameAc,t.flags),N=t.categoryTypeObj,I=y.get("specialStateforAccrued"),L=y.get("isQueryByBusiness"),h=u.getIn([N,"contactsCardRange"]),v=e.cardTemp.getIn([N,"contactsCardRange"]),O=u.get("propertyCost"),b=u.get("name"),R=u.get("flowNumber"),M=e.cardTemp.get("flowNumber"),D=e.accountNameList,G=e.runningDate,U=e.preAmount,P=e.payableAmount,F=e.socialSecurityAmount,B=e.accumulationAmount,w=e.sfAmount,Y=e.taxAmount,J=e.runningState,Z=e.cardTemp.get("propertyCost"),H=e.cardTemp.get("name"),k=e.flags.get("specialStateforAccrued"),x=e.flags.get("runningInsertOrModify"),X=(e.cardTemp.get("propertyTax"),e.cardTemp.get("uuid"));return(L&&M!==R||G&&J&&(c!==G&&"STATE_JK_ZFLX"!==J&&"STATE_TZ_SRGL"!==J&&"STATE_TZ_SRLX"!==J&&"STATE_ZB_ZFLR"!==J&&"XCZC"!==C&&"STATE_SF_JN"!==J&&"STATE_ZS_TH"!==J&&"STATE_ZF_SH"!==J&&"modify"===x||c!==G&&"insert"===x||J!==f&&J||Z!==O&&Z||H!==b&&H||k!==I&&"STATE_JK_ZFLX"!==J&&"STATE_TZ_SRGL"!==J&&"STATE_TZ_SRLX"!==J&&"STATE_ZB_ZFLR"!==J&&"STATE_SF_JN"!==J&&"XCZC"!==C&&"STATE_SF_JN"!==J&&"STATE_ZS_TH"!==J&&"STATE_ZF_SH"!==J||h!==v))&&(k||l(S?i.getRunningAccountInfo(o,G,D,d,"VAT",x,X):"STATE_SF_ZCWJSF"===J?i.getRunningAccountInfo(o,G,D,d,"taxFetch"):"SX_GZXJ"===g&&"fund"===m?i.getRunningAccountInfo(o,G,D,d,"fund"):"SX_GZXJ"===g&&"socialSecurity"===m?i.getRunningAccountInfo(o,G,D,d,"socialSecurity"):"LB_SFZC"===s&&"STATE_SF_JN"===f&&"SX_GRSF"===p?i.getRunningAccountInfo(o,G,D,d,"sfAmount"):"XCZC"===C||"QTSF"===C||"STATE_ZS_TH"===J||"STATE_ZF_SH"===J||"STATE_ZB_ZFLR"===J||"STATE_JK_ZFLX"===J||"STATE_TZ_SRGL"===J||"STATE_TZ_SRLX"===J?i.getRunningAccountInfo(o,G,D,d,"accruedXCZC"):i.getRunningAccountInfo(o,G,D,e.acId,"dikou",x,X))),J!==f||Z!==O||c!==G||n!==U||r!==P||_!==B||T!==F||E!==w||A!==Y},c(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default.Component),r(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.dispatch,n=e.categoryUuid,a=e.runningDate,r=(e.direction,e.categoryType),l=e.acId,u=e.runningState,o=e.propertyPay,c=e.fundOrSocialSecurity,s=e.propertyTax,d=e.accruedState,f=e.accountNameList,g=e.isYfsf,m=(e.accountNameAc,e.flags),_=m.get("specialStateforAccrued"),T=m.get("isQueryByBusiness");a&&!_&&u&&t(g?i.getRunningAccountInfo(n,a,f,l,"VAT"):"STATE_SF_ZCWJSF"===u?i.getRunningAccountInfo(n,a,f,l,"taxFetch"):"SX_GZXJ"===o&&"fund"===c?i.getRunningAccountInfo(n,a,f,l,"fund"):"SX_GZXJ"===o&&"socialSecurity"===c?i.getRunningAccountInfo(n,a,f,l,"socialSecurity"):"LB_SFZC"===r&&"STATE_SF_JN"===u&&"SX_GRSF"===s?i.getRunningAccountInfo(n,a,f,l,"sfAmount"):"STATE_SF_JN"===u&&"SX_ZZS"===s?i.getRunningAccountInfo(n,a,f,l,"accruedZZS"):"XCZC"!==d&&"QTSF"!==d&&"STATE_ZS_TH"!==u&&"STATE_ZF_SH"!==u&&"STATE_ZB_ZFLR"!==u&&"STATE_JK_ZFLX"!==u&&"STATE_TZ_SRGL"!==u&&"STATE_TZ_SRLX"!==u||T?i.getRunningAccountInfo(n,a,f,l,"dikou"):i.getRunningAccountInfo(n,a,f,l,"accruedXCZC"))}},{key:"render",value:function(){var e=this.props,t=e.preAmount,n=e.payableAmount,a=(e.accountNameList,e.dispatch,e.cardTemp),r=(e.categoryUuid,e.runningDate,e.direction),l=e.categoryType,i=(e.acId,e.runningState),c=e.propertyPay,s=e.fundOrSocialSecurity,d=e.accumulationAmount,f=e.socialSecurityAmount,g=e.propertyTax,m=e.state,_=e.sfAmount,T=e.isYfsf,p=e.taxAmount,C=e.flags,E=e.accruedState,S=a.getIn(["queryObj","amount"]),A=(a.getIn(["queryObj","handleAmount"]),a.getIn(["queryObj","offsetAmount"])),y=a.getIn(["queryObj","personAccumulationAmount"]),N=a.getIn(["queryObj","personSocialSecurityAmount"]),I=a.getIn(["queryObj","companySocialSecurityAmount"]),L=a.getIn(["queryObj","companyAccumulationAmount"]),h=(a.getIn(["queryObj","incomeTaxAmount"]),C.get("isQueryByBusiness")),v=(C.get("specialStateforAccrued"),void 0);return v=t||n||f>0||d>0||_||p?("STATE_YYSR_XS"===i||"STATE_YYZC_GJ"===i)&&t||("STATE_YYSR_TS"===i||"STATE_YYZC_TG"===i)&&n>0?u.default.createElement("div",{className:"accountConf-modal-list-item accountConf-premount"},u.default.createElement("label",null),u.default.createElement("label",null,"预"+("debit"===r?"收":"付")+"款："),u.default.createElement("div",null,a.get("preAmount")),u.default.createElement("label",null,"应"+("debit"===r?"收":"付")+"款："),u.default.createElement("div",null,a.get("payableAmount"))):("LB_XCZC"===l&&"socialSecurity"===s&&h?(Number(f)+Number(N)).toFixed(2)>0:f>0)?u.default.createElement("div",{className:"input-right-amount"},u.default.createElement("span",null,"未处理金额：",u.default.createElement(o.Amount,null,h?(Number(f)+Number(N)).toFixed(2):f))):("LB_XCZC"===l&&"fund"===s&&h?(Number(d)+Number(y)).toFixed(2)>0:d>0)?u.default.createElement("div",{className:"input-right-amount"},u.default.createElement("span",null,"未处理金额：",u.default.createElement(o.Amount,null,h?(Number(d)+Number(y)).toFixed(2):d))):"LB_XCZC"===l&&n&&"accrued"===m?u.default.createElement("div",{className:"input-right-amount"},u.default.createElement("span",null,"未处理金额：",u.default.createElement(o.Amount,null,h?(Number(S)+Number(n)).toFixed(2):n))):"LB_XCZC"===l&&n&&"SX_SHBX"===c?u.default.createElement("div",{className:"input-right-amount"},u.default.createElement("span",null,"未处理金额：",u.default.createElement(o.Amount,null,h?(Number(I)+Number(n)).toFixed(2):n))):"LB_XCZC"===l&&n&&"SX_ZFGJJ"===c?u.default.createElement("div",{className:"input-right-amount"},u.default.createElement("span",null,"未处理金额：",u.default.createElement(o.Amount,null,h?(Number(L)+Number(n)).toFixed(2):n))):"LB_JK"===l&&n&&"STATE_JK_ZFLX"===i?u.default.createElement("div",{className:"input-right-amount"},u.default.createElement("span",null,"未处理金额：",u.default.createElement(o.Amount,null,h?(Number(S)+Number(n)).toFixed(2):n))):"LB_SFZC"===l&&(h?(Number(t)+Number(A)).toFixed(2)>0:t>0)&&"STATE_SF_JN"===i&&"SX_ZZS"===g&&"QTSF"!==E&&!T?u.default.createElement("div",{className:"input-right-amount"},u.default.createElement("span",null," 待抵扣：",u.default.createElement(o.Amount,null,h?(Number(t)+Number(A)).toFixed(2):t))):"LB_SFZC"===l&&_>0&&"STATE_SF_JN"===i&&"SX_GRSF"===g?u.default.createElement("div",{className:"input-right-amount"},u.default.createElement("span",null,"未处理金额：",u.default.createElement(o.Amount,null,_))):"LB_SFZC"===l&&n&&"STATE_SF_JN"===i&&"SX_QTSF"===g?u.default.createElement("div",{className:"input-right-amount"},u.default.createElement("span",null,"未处理金额：",u.default.createElement(o.Amount,null,h?(Number(S)+Number(n)).toFixed(2):n))):"LB_ZB"===l&&n&&"STATE_ZB_ZFLR"===i?u.default.createElement("div",{className:"input-right-amount"},u.default.createElement("span",null,"未处理金额：",u.default.createElement(o.Amount,null,h?(Number(S)+Number(n)).toFixed(2):n))):"LB_JK"===l&&n&&"STATE_JK_ZFLX"===i?u.default.createElement("div",{className:"input-right-amount"},u.default.createElement("span",null,"未处理金额：",u.default.createElement(o.Amount,null,h?(Number(S)+Number(n)).toFixed(2):n))):"LB_TZ"!==l||!n||"STATE_TZ_SRLX"!==i&&"STATE_TZ_SRGL"!==i?"LB_SFZC"===l&&n&&"STATE_SF_ZCWJSF"===i?u.default.createElement("div",{className:"accountConf-modal-list-item"},u.default.createElement("label",null),u.default.createElement("label",null,"待转出未交税费："),u.default.createElement("div",null,u.default.createElement(o.Amount,null,n))):null:u.default.createElement("div",{className:"input-right-amount"},u.default.createElement("span",null,"未处理金额：",u.default.createElement(o.Amount,null,h?(Number(S)+Number(n)).toFixed(2):n))):null,u.default.createElement("div",null,v)}}]),t}();t.default=s},1421:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=g(n(129)),l=g(n(45)),u=g(n(89)),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(128),n(55),n(88);var o=g(n(1)),c=n(17),s=(n(18),f(n(27))),d=n(127);f(n(1229));function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function g(e){return e&&e.__esModule?e:{default:e}}u.default.Group;var m=l.default.Option,_=(0,c.immutableRenderDecorator)(a=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),i(t,[{key:"render",value:function(){var e=this.props,t=(e.reg,e.dispatch,e.cardTemp);return o.default.createElement("div",null,o.default.createElement("div",{className:"accountConf-separator"}),o.default.createElement("div",{className:"accountConf-modal-list-item"},o.default.createElement("label",null,"流水类别："),o.default.createElement("div",null,o.default.createElement(l.default,{className:"accountConf-modal-list-item-select",value:"",onChange:function(e){console.log("选择流水类别")}},(t.get("acList")||[]).map(function(e,t){return o.default.createElement(m,{key:t,value:""+e.get("acId")+s.TREE_JOIN_STR+e.get("acFullName")},e.get("acId")+" "+e.get("acFullName"))})),o.default.createElement("span",{className:"lrAccount-gray-color"},"请勾选需要结转成本的流水"))),o.default.createElement(d.JxcTableAll,null,o.default.createElement(d.TableTitle,{className:"lrAccount-table-width",titleList:["日期","流水号","流水类别","摘要","收入总金额"],hasCheckbox:!0,selectAcAll:!1,onClick:function(){return console.log("select all")}}),o.default.createElement(d.TableBody,null,o.default.createElement(d.TableItem,{className:"lrAccount-table-width"},o.default.createElement("li",null,o.default.createElement(r.default,{checked:!1})),o.default.createElement("li",null),o.default.createElement("li",null),o.default.createElement("li",null),o.default.createElement("li",null),o.default.createElement("li",null)))))}}]),t}())||a;t.default=_},1422:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=d(n(45)),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(55);var u=d(n(1)),i=n(17),o=(n(18),s(n(1294))),c=s(n(27));function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function d(e){return e&&e.__esModule?e:{default:e}}var f=r.default.Option,g=(0,i.immutableRenderDecorator)(a=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={show:!1},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default.Component),l(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.assid,a=t.assname,l=t.asscategory,i=t.allasscategorylist,s=t.onChange,d=t.className,g=t.dispatch,m=this.state.show,_=i.find(function(e){return e.get("asscategory")===l});return u.default.createElement("div",null,u.default.createElement(r.default,{combobox:!0,className:d||"",optionFilterProp:"children",notFoundContent:"无法找到相应科目",searchPlaceholder:"必填，请选择辅助核算",value:n&&n+""+a,onChange:function(e){return e||s(e)},onSelect:function(e){return s(e)},onBlur:function(){return e.setState({show:!0})},onFocus:function(){_.get("asslist").filter(function(e){return!e.get("disableTime")}).size||m||g(o.showAssDisableModal(l))}},_.get("asslist").filter(function(e){return!e.get("disableTime")}).map(function(e,t){return u.default.createElement(f,{key:t,value:""+e.get("assid")+c.TREE_JOIN_STR+e.get("assname")},e.get("assid")+" "+e.get("assname"))})))}}]),t}())||a;t.default=g},1473:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=m(n(47)),l=m(n(14)),u=m(n(37)),i=m(n(89)),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(46),n(78),n(38),n(88);var c=m(n(1)),s=(n(18),n(17));n(1474);!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(30));var d=n(22),f=m(n(1326)),g=m(n(1250));function m(e){return e&&e.__esModule?e:{default:e}}var _=i.default.Group,T=(0,s.immutableRenderDecorator)(a=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={tagModal:!1,tagValue:"无标签",currentIdx:"",preview:!1},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.default.Component),o(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.formPage,a=t.className,o=t.dispatch,s=t.permission,m=t.closed,T=t.reviewed,p=t.enclosureList,C=t.label,E=t.enCanUse,S=t.checkMoreFj,A=t.getLabelFetch,y=t.deleteUploadImgUrl,N=t.changeTagName,I=t.uploadEnclosureList,L=t.downloadEnclosure,h=t.type,v=t.uploadKeyJson,O=t.getUploadTokenFetch,b=this.state,R=b.tagValue,M=b.currentIdx,D=b.preview,G=b.tagModal,U=b.page,P=p&&p.filter(function(e){return"TRUE"===e.get("imageOrFile")||"application/pdf"===e.get("mimeType")}),F=!1;!s||m||T||(F=!0);var B=!0;!m&&!T||p.size||(B=!1);return c.default.createElement("div",{className:["enclosure-upload-part",a].join(" "),style:{display:B&&E?"":"none"}},c.default.createElement("span",{className:"enclosure-wrap-title",style:{display:F&&p.size<9&&(S?"":"none")}},"附件(最多上传九个)"),c.default.createElement("div",{className:"enclosure-list-wrap"},(p||[]).map(function(t,n){return c.default.createElement("div",{className:"enclosure-item",key:n},c.default.createElement("div",{className:"enclosure-item-icon",onClick:function(){if("TRUE"===t.get("imageOrFile")||"application/pdf"==t.get("mimeType")){var n=0;P.forEach(function(e,a){t.get("enclosurePath")!==e.get("enclosurePath")||(n=a)}),e.setState({preview:!0,page:n})}else u.default.warn("仅图片及PDF格式支持预览")}},c.default.createElement("img",{src:(0,d.showImg)(t.get("imageOrFile"),t.get("fileName"))})),c.default.createElement("div",{className:"enclosure-item-detail"},c.default.createElement("p",{className:"enclosure-item-filename"},t.get("fileName")),c.default.createElement("span",{className:"enclosure-item-tip"},t.get("size")>=1024?(t.get("size")/1024).toFixed(2)+"M":t.get("size")+"kb"),c.default.createElement("a",{className:"enclosure-item-tip",onClick:function(){return L(t.get("signedUrl"),t.get("fileName"))},href:"javascript:void(0);",style:{display:s?"":"none"}},c.default.createElement(l.default,{type:"download"})),c.default.createElement("span",{className:"enclosure-tag",style:{display:F?"":"none"},onClick:function(){e.setState({currentIdx:n,tagValue:t.get("label"),tagModal:!0}),A()}},"无标签"===t.get("label")?"添加标签":t.get("label"))),c.default.createElement("div",{className:"icon-close",style:{display:F?"":"none"},onClick:function(){y(n)}},c.default.createElement(l.default,{type:"close"})))}),c.default.createElement(f.default,{style:{display:F&&p.size<9&&S?"":"none"},dispatch:o,enclosureList:p,uploadEnclosureList:I,uploadKeyJson:v,getUploadTokenFetch:O,formPage:n})),c.default.createElement(r.default,{title:"添加标签",visible:G,onOk:function(){N(M,R),e.setState({tagModal:!1})},onCancel:function(){return e.setState({tagModal:!1})}},c.default.createElement(_,{onChange:function(t){return e.setState({tagValue:t.target.value})},value:R},C.map(function(e,t){return c.default.createElement(i.default,{className:"enclosure-radio",key:t,value:e},"无标签"===e?"取消标签":e)}))),c.default.createElement(g.default,{page:U,dispatch:o,preview:D,downloadPermission:s,previewImgArr:P,downloadEnclosure:L,closePreviewModal:function(){return e.setState({preview:!1})},type:h,uploadKeyJson:v}))}}]),t}())||a;t.default=T},1474:function(e,t,n){},1476:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=C(n(47)),l=C(n(14)),u=C(n(100)),i=C(n(171)),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(46),n(78),n(99),n(170);var c=C(n(1)),s=n(17),d=n(127),f=p(n(1229)),g=(p(n(1242)),p(n(1298))),m=p(n(1308)),_=(n(22),C(n(1589)),p(n(27))),T=n(18);function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function C(e){return e&&e.__esModule?e:{default:e}}var E=i.default.TreeNode,S=(u.default.Group,(0,s.immutableRenderDecorator)(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.default.Component),o(t,[{key:"render",value:function(){var e=this.props,t=e.dispatch,n=(e.contactsCategory,e.curCategory,e.curAccountUuid,e.issuedate,e.main,e.currentPage,e.pageCount,e.flags,e.hideCategoryList,e.disabledChangeCategory,e.PageTab,e.MemberList),a=e.showContactsModal,o=(e.selectList,e.searchCardContent),s=(e.searchList,e.changeInputValue,e.hasSearchContent,e.thingsList),p=e.selectThingsList,C=e.currentCardType,S=e.palceTemp,A=e.modalName,y=e.runningState,N=e.categoryTypeObj,I=e.fromCarryOver,L=(e.categoryUuid,e.runningDate),h=e.contactsRange,v=e.stockRange,O=e.selectedKeys,b=e.projectRange,R=e.index,M=e.curAmount,D=e.fromDepreciation,G=e.DepreciationTemp,U="stock"===C?v:h,P=n?function e(t,n,a){return t&&t.map(function(t,r){return t.childList&&t.childList.length?c.default.createElement(E,{key:""+t.uuid+_.TREE_JOIN_STR+t.name+_.TREE_JOIN_STR+a,title:t.name},e(t.childList,n,a+1)):c.default.createElement(E,{key:""+t.uuid+_.TREE_JOIN_STR+t.name+_.TREE_JOIN_STR+a,title:t.name,checkable:!0})})}(n.toJS(),["全部"],1):"",F=s.map(function(e){return{string:""+e.get("code")+_.TREE_JOIN_STR+e.get("name"),uuid:e.get("uuid")}});return c.default.createElement(r.default,{className:"no-foot select-modal",title:"选择"+("stock"===C?"存货":"project"===C?"项目":"往来单位"),visible:a,onCancel:function(){t(f.changeLrAccountCommonString("",["flags","showContactsModal"],!1)),t(f.changeLrAccountCommonString("",["flags","selectedKeys"],""))},width:"474px",height:"346px"},c.default.createElement("div",{className:"lsqc-contacts-card-top"},c.default.createElement("div",{className:"table-tree-container"},c.default.createElement(i.default,{defaultExpandAll:!0,onSelect:function(e){if(e[0]){var n=e[0].split(_.TREE_JOIN_STR),a=n[0],r=n[2];t("calculate"===S?"all"===a?f.getAllManagesCardList(C,y,U,A):f.getCalculateCardList(L,a,r):I?"all"===a?f.getCostStockList(L,y):f.getCostCardTypeList(L,y,a,r):"project"===C?"all"===a?f.getProjectAllCardList(b,A,!0):f.getProjectSomeCardList(a,r):"all"===a?f.getAllCardList(C,y,U,A):f.getCurrentCardList(C,y,a,r)),t(f.changeLrAccountCommonString("",["flags","selectedKeys"],e[0]))}},selectedKeys:[O]},c.default.createElement(E,{key:"all"+_.TREE_JOIN_STR+"1",title:"全部",checkable:!0}),P)),c.default.createElement(d.TableAll,{className:"contacts-table-right"},c.default.createElement("span",{className:"lsqc-serch"},c.default.createElement("span",{className:"lsqc-icon"},"搜索"),c.default.createElement(l.default,{className:"lsqc-serch-icon",type:"search",onClick:function(){t(m.searchCardList(o))}}),c.default.createElement(u.default,{placeholder:"",className:"lsqc-serch-input",onChange:function(e){if(e.target.value){var n=F.filter(function(t){return t.string.indexOf(e.target.value)>-1});t(f.searchCardList(!0,n))}else t(f.searchCardList(!1,s))}})),c.default.createElement("div",{className:"table-title-wrap"},c.default.createElement("ul",{className:"table-title"},c.default.createElement("li",null,c.default.createElement("span",null,"编号")),c.default.createElement("li",null,c.default.createElement("span",null,"名称")))),c.default.createElement(d.TableBody,null,p.toJS().map(function(e){return c.default.createElement(d.TableItem,{className:"contacts-table-width cursor",key:e.uuid,onClick:function(n){n.stopPropagation();var a="stock"===C?[N,"stockCardList",R]:[N,"contactsCardRange"];if("calculate"===S)t(f.changeLrAccountCommonString(S,"usedCard",(0,T.fromJS)({uuid:e.uuid,name:e.name,code:e.code}))),t(f.changeLrAccountCommonString(S,"cardUuid",e.uuid)),L&&t(f.getBusinessList(L,e.uuid));else{if("project"===C)if(D){var r=G.get("amount");t(g.changeLrCalculateCommonState("DepreciationTemp","projectCard",(0,T.fromJS)({uuid:e.uuid,name:e.name,code:e.code,amount:r})))}else t("Cqzc"===S?f.changeLrAccountCommonString(S,["detail","projectCard",R],(0,T.fromJS)({uuid:e.uuid,name:e.name,code:e.code,amount:M})):f.changeLrAccountCommonString(S,["projectCard",R],(0,T.fromJS)({uuid:e.uuid,name:e.name,code:e.code,amount:M})));else"stock"===C?(t(f.changeLrAccountCommonString(S,a,(0,T.fromJS)({uuid:e.uuid,name:e.name,code:e.code,amount:M}))),t(f.changeLrAccountCommonString("card",[N,"carryoverCardList",R],(0,T.fromJS)({uuid:e.uuid,name:e.name,code:e.code})))):t(f.changeLrAccountCommonString(S,a,(0,T.fromJS)({uuid:e.uuid,name:e.name,code:e.code})));if(I){e.amount,e.uuid,e.name,e.code;t(g.changeCalculateCommonString("costTransfer","cardUuid",e.uuid)),t(g.changeCalculateCommonString("costTransfer",["stockCardList",R],(0,T.fromJS)({uuid:e.uuid,name:e.name,code:e.code}))),t(g.changeCalculateCommonString("costTransfer","stockCardRange",(0,T.fromJS)({uuid:e.uuid,name:e.name,code:e.code}))),t(g.getCostTransferList(y,L)),t(g.changeCalculateCommonString("costTransfer",["stockCardList",R,"amount"],""))}}t(f.changeLrAccountCommonString("",["flags",A],!1))}},c.default.createElement("li",null,e.code),c.default.createElement("li",null,e.name))})))))}}]),t}())||a);t.default=S},1506:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SWITCH_LOADING_MASK="SWITCH_LOADING_MASK",t.INIT_ASSETSMXB="INIT_ASSETSMXB",t.GET_ASSESTS_LIST_FETCH="GET_ASSESTS_LIST_FETCH",t.GET_MX_LIST_FETCH="GET_MX_LIST_FETCH",t.CHANGE_ASSETS_MXB_CHOOSE_MORE_PERIODS="CHANGE_ASSETS_MXB_CHOOSE_MORE_PERIODS",t.CHANGE_DETAILCHILDSHOW="CHANGE_DETAILCHILDSHOW",t.GET_ASSESTS_TREE_FETCH="GET_ASSESTS_TREE_FETCH"},1512:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SWITCH_LOADING_MASK="SWITCH_LOADING_MASK",t.INIT_ASSETS_CONFIG="INIT_ASSETS_CONFIG",t.BEFORE_ASSETS_IMPORT="BEFORE_ASSETS_IMPORT",t.CLOSE_ASSETS_IMPORT_CONTENT="CLOSE_ASSETS_IMPORT_CONTENT",t.AFTER_ASSETS_IMPORT="AFTER_ASSETS_IMPORT",t.GET_ASSESTS_LIST_FETCH="GET_ASSESTS_LIST_FETCH",t.GET_ASSESTS_TREE_FETCH="GET_ASSESTS_TREE_FETCH",t.CHANGE_CARD_REMARK="CHANGE_CARD_REMARK",t.CHANGE_CARD_LABLES="CHANGE_CARD_LABLES",t.ADD_NEW_CARD_LABLE="ADD_NEW_CARD_LABLE",t.CHANGE_ASSETSCHILDSHOW="CHANGE_ASSETSCHILDSHOW",t.CHANGE_CLASSIFICATION_MODAL_DISPLAY="CHANGE_CLASSIFICATION_MODAL_DISPLAY",t.CHANGE_CLASS_ASSETS_MODE_DISPLAY="CHANGE_CLASS_ASSETS_MODE_DISPLAY",t.SELECT_ASSETS_CLASS="SELECT_ASSETS_CLASS",t.SELECT_ASSETS_CLASS_ALL="SELECT_ASSETS_CLASS_ALL",t.CLEAR_CLASSIFICATION="CLEAR_CLASSIFICATION",t.BEFORE_INSERT_CLASSIFICATION="BEFORE_INSERT_CLASSIFICATION",t.BEFORE_MODYFY_CLASSIFICATION="BEFORE_MODYFY_CLASSIFICATION",t.CHANGE_ASSETS_CLASS_NUMBER="CHANGE_ASSETS_CLASS_NUMBER",t.CHANGE_ASSETS_CLASS_NAME="CHANGE_ASSETS_CLASS_NAME",t.CHANGE_ASSETS_CLASS_REMARK="CHANGE_ASSETS_CLASS_REMARK",t.CHANGE_ASSETS_CLASS_TOTALMONTH="CHANGE_ASSETS_CLASS_TOTALMONTH",t.CHANGE_ASSETS_CLASSS_ALVAGE="CHANGE_ASSETS_CLASSS_ALVAGE",t.SELECT_ASSETS_AC="SELECT_ASSETS_AC",t.SELECT_ASSETS_ASS="SELECT_ASSETS_ASS",t.GET_CARD_DETAIL_FETCH="GET_CARD_DETAIL_FETCH",t.GET_CARDNUMBER_FETCH="GET_CARDNUMBER_FETCH",t.CHANGE_CARD_CARDNAME="CHANGE_CARD_CARDNAME",t.CHANGE_CARD_CARDNUMBER="CHANGE_CARD_CARDNUMBER",t.SELECT_CARD_ASSETS_OR_CLASS="SELECT_CARD_ASSETS_OR_CLASS",t.CHANGE_CARD_STARTTIME="CHANGE_CARD_STARTTIME",t.CHANGE_CARD_TOTALMONTH="CHANGE_CARD_TOTALMONTH",t.CHANGE_CARD_CARDVALUE="CHANGE_CARD_CARDVALUE",t.CHANGE_CARD_SALVAGE="CHANGE_CARD_SALVAGE",t.BEFORE_ENTER_CARD="BEFORE_ENTER_CARD",t.CHANGE_CARD_STATUS="CHANGE_CARD_STATUS",t.GET_CARD_LIST_FETCH="GET_CARD_LIST_FETCH",t.CHANGE_TAB_SELECTED_INDEX="CHANGE_TAB_SELECTED_INDEX",t.SELECT_ONE_CARD_BUTTON="SELECT_ONE_CARD_BUTTON",t.SELECT_ALL_CARD_BUTTON="SELECT_ALL_CARD_BUTTON",t.SHOW_DELETE_MODAL="SHOW_DELETE_MODAL",t.CLOSE_DELETE_MODAL="CLOSE_DELETE_MODAL",t.DELETE_CARD="DELETE_CARD",t.GET_SORT_LIST_FETCH="GET_SORT_LIST_FETCH",t.SELECT_ALL_SORT_BUTTON="SELECT_ALL_SORT_BUTTON",t.SELECT_ONE_SORT_BUTTON="SELECT_ONE_SORT_BUTTON",t.SHOW_DELETE_SORT_MODAL="SHOW_DELETE_SORT_MODAL",t.CLOSE_DELETE_SORT_MODAL="CLOSE_DELETE_SORT_MODAL",t.DELETE_SORT="DELETE_SORT",t.SHOW_ASS_DISABLE_MODAL="SHOW_ASS_DISABLE_MODAL",t.CANCEL_ASS_DISABLE_MODAL="CANCEL_ASS_DISABLE_MODAL",t.SHOW_ASSETS_CARD="SHOW_ASSETS_CARD",t.SHOW_ASSETS_CARD_OPTION="SHOW_ASSETS_CARD_OPTION",t.GET_ASSETS_IMPORT_PROGRESS="GET_ASSETS_IMPORT_PROGRESS",t.CHANGE_ASSETS_MESSAGEMASK="CHANGE_ASSETS_MESSAGEMASK"},1519:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SWITCH_LOADING_MASK="SWITCH_LOADING_MASK",t.INIT_LSQC="INIT_LSQC",t.SHOW_LSQC="SHOW_LSQC",t.LSQC_COMMON_CHANGE="LSQC_COMMON_CHANGE",t.GET_BEGINNING_LIST="GET_BEGINNING_LIST",t.GET_BEGINNING_CATEGORY="GET_BEGINNING_CATEGORY",t.GET_CONTACTS_MEMBERS_LIST="GET_CONTACTS_MEMBERS_LIST",t.BEGINNING_TRIANGLE_SWITCH="BEGINNING_TRIANGLE_SWITCH",t.CHANGE_BEGINNING_LIST="CHANGE_BEGINNING_LIST",t.CHANGE_QCMODAL_SHOW_HIDE="CHANGE_QCMODAL_SHOW_HIDE",t.DELETE_BEGINNING_LIST_ITEM="DELETE_BEGINNING_LIST_ITEM",t.CHANGE_QCBUTTON_MODIFY_SAVE="CHANGE_QCBUTTON_MODIFY_SAVE",t.LSQC_RESTORE_MODIFICATION="LSQC_RESTORE_MODIFICATION",t.FIRST_CHILD_TOGGLE="FIRST_CHILD_TOGGLE",t.CONTACTS_ITEM_CHECKBOX_SELECT="CONTACTS_ITEM_CHECKBOX_SELECT",t.CONTACTS_ITEM_CHECKBOX_CHECK_ALL="CONTACTS_ITEM_CHECKBOX_CHECK_ALL",t.LSQC_SEARCH_CARD_LIST="LSQC_SEARCH_CARD_LIST",t.LSQC_ADD_RUNNING_BEGIN="LSQC_ADD_RUNNING_BEGIN",t.INIT_MODULE_ALL_SHOW="INIT_MODULE_ALL_SHOW",t.MODIFY_PERIOD_ACCOUNT="MODIFY_PERIOD_ACCOUNT"},1589:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=g(n(174)),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(173);var u=g(n(1)),i=n(17),o=g(n(2539)),c=(f(n(1239)),f(n(1229))),s=n(127),d=f(n(27));function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function g(e){return e&&e.__esModule?e:{default:e}}var m=(0,i.immutableRenderDecorator)(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default.Component),l(t,[{key:"render",value:function(){var e=this.props,t=e.dispatch,n=e.runningCategory,a=e.curCategory,l=(e.curAccountUuid,e.issuedate,e.main,e.assId,e.assCategory,e.acId,e.taxRateTemp),i=e.flags,f=e.hideCategoryList,g=e.disabledChangeCategory,m=e.cardTemp,_=e.PageTab,T=e.homeState,p=[],C=l.get("scale"),E=l.get("payableRate"),S=l.get("outputRate");return function e(t){return t.forEach(function(t,n){t.get("childList")&&t.get("childList").size?(p.push({value:t.get("name"),key:t.get("uuid")}),e(t.get("childList"))):p.push({value:t.get("name"),key:t.get("uuid")})})}(n.getIn([0,"childList"])),u.default.createElement(s.TableTree,{className:"account-tree"},u.default.createElement(r.default,{onClick:function(e){t(c.changeLrAccountCommonString("",["flags","PageTab"],e.key))},selectedKeys:[_],mode:"horizontal"},u.default.createElement(r.default.Item,{key:"business",className:"right-tab"},"所有流水"),u.default.createElement(r.default.Item,{key:"payment",className:"right-tab"},"核算管理")),u.default.createElement("div",{className:"table-right-tree"},n&&n.size?u.default.createElement(o.default,{cardTemp:m,flags:i,hideCategoryList:f,category:n,selectedKeys:[a],dispatch:t,homeState:T,disabledChangeCategory:g,onSelect:function(e,a,r){if(e[0]){var l=n,u=e[0].split(d.TREE_JOIN_STR),i=u[0],o=u[2],s=u[3];"hasChild"!==o&&"canClick"===s?t(c.selectAccountRunningCategory(i,u[1],l,C,E,S)):"hasChild"!==o&&"canClick"!==s&&(r.indexOf(i)>-1?(r.splice(r.indexOf(i),1),a.setState({expandedKeys:r,autoExpandParent:!1})):(r.push(i),a.setState({expandedKeys:r,autoExpandParent:!1})))}}}):""))}}]),t}())||a;t.default=m},1743:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=_(n(129)),l=_(n(45)),u=_(n(89)),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(128),n(55),n(88);var o=_(n(1)),c=n(17),s=(n(56),m(n(27)),n(127)),d=m(n(1229)),f=(_(n(1419)),_(n(1420)),_(n(1421)),n(22)),g=(_(n(1281)),m(n(1243)));n(18);function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function _(e){return e&&e.__esModule?e:{default:e}}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}u.default.Group,l.default.Option;var p=(0,c.immutableRenderDecorator)(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),i(t,[{key:"render",value:function(){var e,t=this.props,n=t.cardTemp,a=t.dispatch,l=(t.accountList,t.taxRateTemp,t.payOrReceive,t.insertOrModify,t.runningCategory,t.disabledBeginDate,t.homeState,t.flags,t.specialStateforAccrued),u=t.paymentList,i=t.isQueryByBusiness,c=(t.panes,t.yllsState,t.showDrawer),m=n.get("categoryType"),_=(n.get("propertyPay"),n.get("propertyTax")),p=n.get("runningState"),C=(T(e={STATE_TZ_SRGL:"计提股利",STATE_TZ_SRLX:"计提利息",STATE_ZB_ZFLR:"利润分配",STATE_SF_JN:"计提未交增值税"},"STATE_SF_JN","计提其他税费"),T(e,"STATE_ZF_SH","暂付款项"),T(e,"STATE_ZS_TH","暂收款项"),T(e,"STATE_JK_ZFLX","计提利息"),T(e,"STATE_SF_SFJM","税费减免"),e),E=void 0,S=void 0,A=void 0;"LB_TZ"===m?(S=["日期","流水号","摘要","类型","待收入金额"],E=["日期","流水号","摘要","类型","处理金额"],A="待收入金额："):"SX_ZZS"===_?(S=["日期","流水号","摘要","类型","待处理金额"],E=["日期","流水号","摘要","类型","税额"],A="待处理税费："):"STATE_ZS_TH"==p?(S=["日期","流水号","摘要","类型","待核销付款金额"],E=["日期","流水号","摘要","类型","核销付款金额"],A="待核销付款金额："):"STATE_ZF_SH"==p?(S=["日期","流水号","摘要","类型","待核销收款金额"],E=["日期","流水号","摘要","类型","核销收款金额"],A="待核销收款金额："):"STATE_SF_SFJM"==p?(S=["日期","流水号","摘要","类型","税额"],E=["日期","流水号","摘要","类型","待处理金额"],A="待核销收款金额："):(S=["日期","流水号","摘要","类型","待处理金额"],E=["日期","流水号","摘要","类型","处理金额"],A="待支付金额：");var y=0;i?l?u&&u.forEach(function(e){return y+=Number(e.get("handleAmount"))}):u&&u.forEach(function(e){return y+=Number(e.get("handleAmount"))+Number(e.get("notHandleAmount"))}):l?u&&u.forEach(function(e){return y+=Number(e.get("handleAmount"))}):u&&u.forEach(function(e){return y+=Number(e.get("notHandleAmount"))});var N=0,I=0;i?u&&u.forEach(function(e){e.get("beSelect")&&(I+=Number(e.get("handleAmount"))+Number(e.get("notHandleAmount")),N++)}):u&&u.forEach(function(e){e.get("beSelect")&&(I+=e.get("notHandleAmount"),N++)});var L=!(!u||!u.size)&&u.size===N;return o.default.createElement("div",{className:"accountConf-modal-list-hidden"},!l&&(!i||i&&u.size)?o.default.createElement("div",{className:"lrAccount-detail-title"},o.default.createElement("div",{className:"lrAccount-detail-title-top"},"请勾选需要处理的流水："),o.default.createElement("div",{className:"lrAccount-detail-title-bottom"},o.default.createElement("span",null,"已勾选流水：",N||"","条"),o.default.createElement("span",null,A,o.default.createElement("span",null,(0,f.formatNum)(I.toFixed(2)))))):i&&u&&u.size?o.default.createElement("div",{className:"lrAccount-detail-title",style:{height:"32px"}},o.default.createElement("div",{className:"lrAccount-detail-title-top"},"核销情况：")):"",l&&(!i||i&&u.size)?o.default.createElement(s.TableAll,{className:"lrAccount-table"},o.default.createElement(s.TableTitle,{className:"account-running-table-width",titleList:E,onClick:function(e){e.stopPropagation()}}),o.default.createElement(s.TableBody,null,u&&u.map(function(e){var t=e.get("handleAmount");return o.default.createElement(s.TableItem,{className:"account-running-table-width",key:e.get("uuid")},o.default.createElement("li",null,e.get("runningDate")),o.default.createElement(s.TableOver,{textAlign:"left",className:"account-flowNumber",onClick:function(){a(g.getYllsBusinessData(e,c))}},o.default.createElement("span",null,e.get("flowNumber"))),o.default.createElement("li",null,o.default.createElement("span",null,e.get("runningAbstract"))),o.default.createElement("li",null,o.default.createElement("span",null,"SX_ZZS"===_?"未交增值税":C[p])),o.default.createElement("li",null,o.default.createElement("p",null,(0,f.formatNum)(t.toFixed(2)))))}),o.default.createElement(s.TableItem,{className:"account-running-table-width",key:"total"},o.default.createElement("li",null),o.default.createElement("li",null),o.default.createElement("li",null),o.default.createElement("li",null,"合计"),o.default.createElement("li",null,o.default.createElement("p",null,y.toFixed(2)))))):!i||i&&u&&u.size?o.default.createElement(s.TableAll,{className:"lrAccount-table"},o.default.createElement(s.TableTitle,{className:"lrAccount-table-width",titleList:S,hasCheckbox:!0,selectAcAll:L,onClick:function(e){e.stopPropagation(),u&&u.forEach(function(t,n){a(d.changeLrAccountCommonString("card",["paymentList",n,"beSelect"],e.target.checked))});var t=0;e.target.checked&&(i?u&&u.forEach(function(e,n){t+=Number(e.get("handleAmount"))+Number(e.get("notHandleAmount"))}):u&&u.forEach(function(e){return t+=Number(e.get("notHandleAmount"))})),a("SX_QTSF"===_?d.changeLrAccountCommonString("card","amount",t):"SX_ZZS"===_?d.changeLrAccountCommonString("card","handleAmount",t):d.changeLrAccountCommonString("card","amount",t))}}),o.default.createElement(s.TableBody,null,u&&u.map(function(e,t){var n=e.get("handleAmount"),l=e.get("notHandleAmount");return o.default.createElement(s.TableItem,{className:"lrAccount-table-width",key:e.get("uuid")},o.default.createElement("li",null,o.default.createElement(r.default,{checked:e.get("beSelect"),onChange:function(e){a(d.changeLrAccountCommonString("card",["paymentList",t,"beSelect"],e.target.checked)),a(d.calculateAccruedAmount(i,u,t,e.target.checked))}})),o.default.createElement("li",null,e.get("runningDate")),o.default.createElement(s.TableOver,{textAlign:"left",className:"account-flowNumber",onClick:function(){a(g.getYllsBusinessData(e,c))}},o.default.createElement("span",null,e.get("flowNumber"))),o.default.createElement("li",null,o.default.createElement("span",null,e.get("runningAbstract"))),o.default.createElement("li",null,o.default.createElement("span",null,"SX_ZZS"===_?"未交增值税":C[p])),o.default.createElement("li",null,o.default.createElement("p",null,i?(0,f.formatNum)((Number(l)+Number(n)).toFixed(2)):(0,f.formatNum)(l.toFixed(2)))))}),o.default.createElement(s.TableItem,{className:"lrAccount-table-width",key:"total"},o.default.createElement("li",null),o.default.createElement("li",null),o.default.createElement("li",null),o.default.createElement("li",null),o.default.createElement("li",null,"合计"),o.default.createElement("li",null,o.default.createElement("p",null,y.toFixed(2)))))):"")}}]),t}())||a;t.default=p},1744:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=_(n(129)),l=_(n(45)),u=_(n(89)),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(128),n(55),n(88);var o=_(n(1)),c=n(17),s=(n(56),m(n(27)),n(127)),d=m(n(1229)),f=(_(n(1419)),_(n(1420)),_(n(1421)),n(22)),g=(_(n(1281)),m(n(1243)));n(18);function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function _(e){return e&&e.__esModule?e:{default:e}}u.default.Group,l.default.Option;var T=(0,c.immutableRenderDecorator)(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),i(t,[{key:"render",value:function(){var e=this.props,t=e.cardTemp,n=e.dispatch,a=(e.accountList,e.taxRateTemp,e.payOrReceive,e.insertOrModify,e.runningCategory,e.disabledBeginDate,e.homeState,e.flags,e.specialStateforAccrued),l=e.paymentList,u=e.isQueryByBusiness,i=(e.panes,e.yllsState,e.showDrawer),c=(t.get("categoryType"),t.get("propertyPay")),m={SX_GZXJ:"计提工资薪金",SX_SHBX:"计提社会保险",SX_QTXC:"计提其他薪酬",SX_ZFGJJ:"计提公积金"}[c],_={SX_GZXJ:"待发放工资薪金：",SX_SHBX:"待发放社会保险：",SX_QTXC:"待发放薪酬：",SX_ZFGJJ:"待发放公积金："}[c],T=0;u?a?l&&l.forEach(function(e){return T+=Number(e.get("handleAmount"))}):l&&l.forEach(function(e){return T+=Number(e.get("handleAmount"))+Number(e.get("notHandleAmount"))}):a?l&&l.forEach(function(e){return T+=Number(e.get("handleAmount"))}):l&&l.forEach(function(e){return T+=Number(e.get("notHandleAmount"))});var p=0,C=0;u?l&&l.forEach(function(e){e.get("beSelect")&&(C+=Number(e.get("handleAmount"))+Number(e.get("notHandleAmount")),p++)}):l&&l.forEach(function(e){e.get("beSelect")&&(C+=e.get("notHandleAmount"),p++)});var E=!(!l||!l.size)&&l.size===p;return o.default.createElement("div",{className:"accountConf-modal-list-hidden"},!a&&(!u||u&&l.size)?o.default.createElement("div",{className:"lrAccount-detail-title"},o.default.createElement("div",{className:"lrAccount-detail-title-top"},"请勾选需要处理的流水："),o.default.createElement("div",{className:"lrAccount-detail-title-bottom"},o.default.createElement("span",null,"已勾选流水：",p||"","条"),o.default.createElement("span",null,_,o.default.createElement("span",null,(0,f.formatNum)(C.toFixed(2)))))):u&&l&&l.size?o.default.createElement("div",{className:"lrAccount-detail-title",style:{height:"32px"}},o.default.createElement("div",{className:"lrAccount-detail-title-top"},"核销情况：")):"",a&&(!u||u&&l.size)?o.default.createElement(s.TableAll,{className:"lrAccount-table"},o.default.createElement(s.TableTitle,{className:"account-running-table-width",titleList:["日期","流水号","摘要","类型","处理金额"],onClick:function(e){e.stopPropagation()}}),o.default.createElement(s.TableBody,null,l&&l.map(function(e){var t=e.get("handleAmount");return o.default.createElement(s.TableItem,{className:"account-running-table-width",key:e.get("uuid")},o.default.createElement("li",null,e.get("runningDate")),o.default.createElement(s.TableOver,{textAlign:"left",className:"account-flowNumber",onClick:function(){n(g.getYllsBusinessData(e,i))}},o.default.createElement("span",null,e.get("flowNumber"))),o.default.createElement("li",null,o.default.createElement("span",null,e.get("runningAbstract"))),o.default.createElement("li",null,o.default.createElement("span",null,m)),o.default.createElement("li",null,o.default.createElement("p",null,(0,f.formatNum)(t.toFixed(2)))))}),o.default.createElement(s.TableItem,{className:"account-running-table-width",key:"total"},o.default.createElement("li",null),o.default.createElement("li",null),o.default.createElement("li",null),o.default.createElement("li",null,"合计"),o.default.createElement("li",null,o.default.createElement("p",null,T.toFixed(2)))))):!u||u&&l&&l.size?o.default.createElement(s.TableAll,{className:"lrAccount-table"},o.default.createElement(s.TableTitle,{className:"lrAccount-table-width",titleList:["日期","流水号","摘要","类型","待支付金额"],hasCheckbox:!0,selectAcAll:E,onClick:function(e){e.stopPropagation(),l&&l.forEach(function(t,a){n(d.changeLrAccountCommonString("card",["paymentList",a,"beSelect"],e.target.checked))});var t=0;switch(e.target.checked&&(u?l&&l.forEach(function(e,n){t+=Number(e.get("handleAmount"))+Number(e.get("notHandleAmount"))}):l&&l.forEach(function(e){return t+=Number(e.get("notHandleAmount"))})),c){case"SX_GZXJ":n(d.changeLrAccountCommonString("card","amount",t));break;case"SX_SHBX":n(d.changeLrAccountCommonString("card",["acPayment","companySocialSecurityAmount"],t));break;case"SX_ZFGJJ":n(d.changeLrAccountCommonString("card",["acPayment","companyAccumulationAmount"],t));break;case"SX_QTXC":n(d.changeLrAccountCommonString("card","amount",t))}n(d.changeLrAccountCommonString("card","amount",t)),n(d.autoCalculateAmount())}}),o.default.createElement(s.TableBody,null,l&&l.map(function(e,t){var a=e.get("handleAmount"),c=e.get("notHandleAmount");return o.default.createElement(s.TableItem,{className:"lrAccount-table-width",key:e.get("uuid")},o.default.createElement("li",null,o.default.createElement(r.default,{checked:e.get("beSelect"),onChange:function(e){n(d.changeLrAccountCommonString("card",["paymentList",t,"beSelect"],e.target.checked)),n(d.calculateAccruedAmount(u,l,t,e.target.checked)),n(d.autoCalculateAmount())}})),o.default.createElement("li",null,e.get("runningDate")),o.default.createElement(s.TableOver,{textAlign:"left",className:"account-flowNumber",onClick:function(){n(g.getYllsBusinessData(e,i))}},o.default.createElement("span",null,e.get("flowNumber"))),o.default.createElement("li",null,o.default.createElement("span",null,e.get("runningAbstract"))),o.default.createElement("li",null,o.default.createElement("span",null,m)),o.default.createElement("li",null,o.default.createElement("p",null,u?(0,f.formatNum)((Number(c)+Number(a)).toFixed(2)):(0,f.formatNum)(c.toFixed(2)))))}),o.default.createElement(s.TableItem,{className:"lrAccount-table-width",key:"total"},o.default.createElement("li",null),o.default.createElement("li",null),o.default.createElement("li",null),o.default.createElement("li",null),o.default.createElement("li",null,"合计"),o.default.createElement("li",null,o.default.createElement("p",null,T.toFixed(2)))))):"")}}]),t}())||a;t.default=T},1745:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=g(n(100)),l=g(n(37)),u=g(n(45)),i=g(n(89)),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(99),n(38),n(55),n(88);var c=g(n(1)),s=n(17),d=(f(n(27)),n(127),n(18),f(n(1229)));function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function g(e){return e&&e.__esModule?e:{default:e}}i.default.Group,u.default.Option;var m=(0,s.immutableRenderDecorator)(a=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.default.Component),o(t,[{key:"render",value:function(){var e=this.props,t=e.reg,n=e.dispatch,a=e.cardTemp,u=function(e,a,r){var u=r.indexOf("。")>-1?r.replace("。","."):r;0===u.indexOf("0")&&"0"!=u&&u>=1&&(u=u.substr(1)),t.test(u)||""===u?n(d.changeLrAccountCommonString(e,a,u)):l.default.info("金额只能输入带两位小数的数字")};return c.default.createElement("div",null,c.default.createElement("div",{className:"accountConf-separator"}),c.default.createElement("div",{className:"accountConf-modal-list-item"},c.default.createElement("label",null,"资产原值："),c.default.createElement("div",null,c.default.createElement(r.default,{placeholder:"",value:a.get("offsetAmount"),onChange:function(e){u("card","offsetAmount",e.target.value)}}))),c.default.createElement("div",{className:"accountConf-modal-list-item"},c.default.createElement("label",null,"折旧累计："),c.default.createElement("div",null,c.default.createElement(r.default,{placeholder:"",value:a.get("offsetAmount"),onChange:function(e){u("card","offsetAmount",e.target.value)}}))),c.default.createElement("div",{className:"accountConf-modal-list-item"},c.default.createElement("label",null,"清理费用："),c.default.createElement("div",null,c.default.createElement(r.default,{placeholder:"",value:a.get("offsetAmount"),onChange:function(e){u("card","offsetAmount",e.target.value)}}))),c.default.createElement("div",{className:"accountConf-modal-list-item"},c.default.createElement("label",null,"升级改造："),c.default.createElement("div",null,c.default.createElement(r.default,{placeholder:"",value:a.get("offsetAmount"),onChange:function(e){u("card","offsetAmount",e.target.value)}}))))}}]),t}())||a;t.default=m},1746:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=d(n(45)),l=d(n(89)),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(55),n(88);var i=d(n(1)),o=n(17),c=(n(56),s(n(27)),n(127),d(n(1419)),d(n(1420)),d(n(1743)),d(n(1744)),d(n(1421)),n(22),n(18),s(n(1229)));function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function d(e){return e&&e.__esModule?e:{default:e}}l.default.Group;var f=r.default.Option,g=(0,o.immutableRenderDecorator)(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),u(t,[{key:"render",value:function(){var e=this.props,t=e.cardTemp,n=e.flags,a=e.dispatch,l=e.hasChecked,u=t.get("categoryType"),o=void 0;(({LB_YYSR:function(){!0,"营业收入",o="acBusinessIncome"},LB_YYZC:function(){!0,"营业支出",o="acBusinessExpense","credit"},LB_YYWSR:function(){!0,"营业外收入",o="acBusinessOutIncome",!0,"debit"},LB_YYWZC:function(){!0,"营业外支出",o="acBusinessOutExpense","credit",!0,"credit"},LB_JK:function(){!0,"借款",o="acLoan",!0},LB_TZ:function(){!0,"投资",o="acInvest",!0},LB_ZB:function(){!0,"资本",o="acCapital",!0},LB_CQZC:function(){!0,"长期资产",o="acAssets","debit"},LB_FYZC:function(){!0,"费用支出",o="acCost","credit"},LB_ZSKX:function(){!1,"暂收款项",o="acTemporaryReceipt",!0},LB_ZFKX:function(){!1,"暂付款项",o="acTemporaryPay",!0},LB_XCZC:function(){!1,"薪酬支出",o="acPayment","credit",!0},LB_SFZC:function(){!1,"税费支出",o="acTax","credit",!0}})[u]||function(){return""})();var s=n.get("specialStateforAssets"),d=n.get("runningInsertOrModify"),g=t.get("runningType"),m=t.getIn([o,"beManagemented"]),_=t.get("propertyCost"),T=t.get("assetType"),p=t.getIn([o,"beAccrued"]),C=n.get("specialStateforAccrued"),E=n.get("isQueryByBusiness"),S=t.get("runningState"),A=t.get("propertyCostList"),y=t.get("beCertificate"),N=t.get("propertyInvest");return i.default.createElement("div",null,"LB_CQZC"!==u||s||"LX_JZSY_SY"===g||"LX_JZSY_SS"===g?null:i.default.createElement("div",{className:"accountConf-modal-list-item"},i.default.createElement("label",null,"处理类型："),i.default.createElement("div",null,i.default.createElement(r.default,{disabled:"modify"===d,value:T,onChange:function(e){m?a(c.changeLrAccountCommonString("card","runningState","")):"XZ_CZZC"===e?(a(c.changeStateAndAbstract(t,"STATE_CQZC_YS")),a(c.changeLrAccountCommonString("card","runningState","STATE_CQZC_YS"))):"XZ_GJZC"===e&&(a(c.changeStateAndAbstract(t,"STATE_CQZC_YF")),a(c.changeLrAccountCommonString("card","runningState","STATE_CQZC_YF"))),"XZ_ZJTX"===e&&(a(c.changeStateAndAbstract(t,"STATE_CQZC_ZJTX")),a(c.changeLrAccountCommonString("card","runningState","STATE_CQZC_ZJTX"))),a(c.changeLrAccountCommonString("card","billType","")),a(c.changeLrAccountCommonString("card","assetType",e))}},i.default.createElement(f,{key:"a",value:"XZ_GJZC"},"购进资产"),i.default.createElement(f,{key:"b",value:"XZ_CZZC"},"处置")))),"LB_JK"===u?i.default.createElement("div",{className:"accountConf-modal-list-item"},i.default.createElement("label",null,"处理类型："),C?i.default.createElement("div",null,{XZ_QDJK:"取得借款",XZ_CHLX:"偿还利息",XZ_CHBJ:"偿还本金"}[_]):i.default.createElement("div",null,i.default.createElement(r.default,{disabled:"modify"===d,value:_,onChange:function(e){"XZ_CHLX"!==e||p?"XZ_CHBJ"===e?(a(c.changeStateAndAbstract(t,"STATE_JK_YF")),a(c.changeLrAccountCommonString("card","runningState","STATE_JK_YF"))):"XZ_QDJK"===e?(a(c.changeStateAndAbstract(t,"STATE_JK_YS")),a(c.changeLrAccountCommonString("card","runningState","STATE_JK_YS"))):a(c.changeLrAccountCommonString("card","runningState","")):(a(c.changeStateAndAbstract(t,"STATE_JK_ZFLX")),a(c.changeLrAccountCommonString("card","runningState","STATE_JK_ZFLX"))),a(c.changeLrAccountCommonString("card","propertyCost",e))}},i.default.createElement(f,{key:"a",value:"XZ_QDJK"},"取得借款"),i.default.createElement(f,{key:"b",value:"XZ_CHLX"},"偿还利息"),i.default.createElement(f,{key:"c",value:"XZ_CHBJ"},"偿还本金")))):null,"LB_TZ"===u?i.default.createElement("div",{className:"accountConf-modal-list-item"},i.default.createElement("label",null,"处理类型："),C?i.default.createElement("div",null,{XZ_DWTZ:"对外投资",XZ_QDSY:"取得收益",XZ_SHTZ:"收回投资"}[_]):i.default.createElement("div",null,i.default.createElement(r.default,{disabled:"modify"===d,value:_,onChange:function(e){"XZ_DWTZ"===e?(a(c.changeStateAndAbstract(t,"STATE_TZ_YF")),a(c.changeLrAccountCommonString("card","runningState","STATE_TZ_YF"))):"XZ_SHTZ"===e?(a(c.changeStateAndAbstract(t,"STATE_TZ_YS")),a(c.changeLrAccountCommonString("card","runningState","STATE_TZ_YS"))):"XZ_QDSY"!==e||p||"SX_ZQ"!==N?"XZ_QDSY"!==e||p||"SX_GQ"!==N?a(c.changeLrAccountCommonString("card","runningState","")):(a(c.changeStateAndAbstract(t,"STATE_TZ_SRGL")),a(c.changeLrAccountCommonString("card","runningState","STATE_TZ_SRGL"))):(a(c.changeStateAndAbstract(t,"STATE_TZ_SRLX")),a(c.changeLrAccountCommonString("card","runningState","STATE_TZ_SRLX"))),a(c.changeLrAccountCommonString("card","propertyCost",e))}},i.default.createElement(f,{key:"a",value:"XZ_DWTZ"},"对外投资"),i.default.createElement(f,{key:"b",value:"XZ_QDSY"},"取得收益"),i.default.createElement(f,{key:"c",value:"XZ_SHTZ"},"收回投资")))):null,"LB_ZB"===u?i.default.createElement("div",{className:"accountConf-modal-list-item"},i.default.createElement("label",null,"处理类型："),C?i.default.createElement("div",null,{XZ_ZZ:"增资",XZ_LRFP:"利润分配",XZ_JZ:"减资"}[_]):i.default.createElement("div",null,i.default.createElement(r.default,{disabled:"modify"===d,value:_,onChange:function(e){"XZ_ZZ"===e?(a(c.changeStateAndAbstract(t,"STATE_ZB_ZZ")),a(c.changeLrAccountCommonString("card","runningState","STATE_ZB_ZZ"))):"XZ_JZ"===e?(a(c.changeStateAndAbstract(t,"STATE_ZB_JZ")),a(c.changeLrAccountCommonString("card","runningState","STATE_ZB_JZ"))):"XZ_LRFP"!==e||p?a(c.changeLrAccountCommonString("card","runningState","")):(a(c.changeStateAndAbstract(t,"STATE_ZB_ZFLR")),a(c.changeLrAccountCommonString("card","runningState","STATE_ZB_ZFLR"))),a(c.changeLrAccountCommonString("card","propertyCost",e))}},i.default.createElement(f,{key:"a",value:"XZ_ZZ"},"增资"),i.default.createElement(f,{key:"b",value:"XZ_LRFP"},"利润分配"),i.default.createElement(f,{key:"c",value:"XZ_JZ"},"减资")))):null,A&&A.size>1&&("LB_FYZC"===u&&"STATE_FY_DJ"!==S||"LB_XCZC"===u||"STATE_XC_JN"===u&&p&&"STATE_XC_JT"===S||"STATE_XC_FF"===S||"LB_XCZC"===u&&!p||"XZ_ZJTX"===T)&&!l?i.default.createElement("div",{className:"accountConf-modal-list-item"},i.default.createElement("label",null,"费用性质："),i.default.createElement("div",null,i.default.createElement(r.default,{disabled:E&&y,value:_,onChange:function(e){a(c.changeLrAccountCommonString("card","propertyCost",e))}},A&&A.size?A.map(function(e,t){var n={XZ_SALE:"销售费用",XZ_MANAGE:"管理费用",XZ_FINANCE:"财务费用"}[e];return i.default.createElement(f,{key:t,value:e},n)}):null))):null)}}]),t}())||a;t.default=g},2532:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=p(n(70)),l=p(n(45)),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(69),n(55);var i=p(n(1)),o=n(56);n(2533);var c=n(18),s=T(n(27)),d=(T(n(43)),T(n(1229)),n(127)),f=p(n(2535)),g=p(n(2537)),m=p(n(1589)),_=p(n(2563));function T(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function p(e){return e&&e.__esModule?e:{default:e}}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}l.default.Option,r.default.TabPane;var E=(0,o.connect)(function(e){return e})(a=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={showCardModal:!1,showRunningModal:!1,showPayOrReceive:!1,payList:(0,c.fromJS)([]),receivedList:(0,c.fromJS)([]),showRunningInfoModal:!1,runningInfoModalType:!1,current:"mail"},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),u(t,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){}}]),u(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.props.yllsState!=e.yllsState||this.props.allState!=e.allState||this.props.lrAccountState!=e.lrAccountState||this.props.accountConfState!=e.accountConfState||this.props.cxlsState!=e.cxlsState||this.props.lrCalculateState!=e.lrCalculateState||this.props.homeState!=e.homeState||this.state!==t}},{key:"render",value:function(){var e,t=this,n=this.props,a=n.allState,r=n.lrAccountState,l=n.accountConfState,u=n.dispatch,o=(n.cxlsState,n.lrCalculateState),c=n.homeState,T=n.yllsState,p=this.state,E=p.showCardModal,S=(p.showRunningModal,p.showPayOrReceive,p.payList,p.receivedList,p.showRunningInfoModal,p.runningInfoModalType,c.getIn(["permissionInfo","LrAccount"]).getIn(["edit","permission"])),A=(a.get("allasscategorylist"),r.get("flags")),y=l.get("accountList"),N=r.get("hideCategoryList")?r.get("hideCategoryList").filter(function(e){return"LB_CHYE"!==e.get("categoryType")&&"LB_CHDB"!==e.get("categoryType")&&"LB_CHZZ"!==e.get("categoryType")&&"LB_JXSEZC"!==e.get("categoryType")}):r.get("hideCategoryList"),I=l.get("taxRateTemp"),L=l.get("runningCategory"),h=l.getIn(["flags","assId"]),v=l.getIn(["flags","assCategory"]),O=l.getIn(["flags","acId"]),b=r.get("cardTemp"),R=r.getIn(["flags","payOrReceive"]),M=r.getIn(["flags","insertOrModify"]),D=(r.getIn(["flags","accountAssModalShow"]),r.get("calculateTemp")),G=r.get("CqzcTemp"),U=r.get("commonChargeTemp"),P=r.getIn(["flags","PageTab"]),F=r.getIn(["flags","isQuery"]),B=(r.getIn(["flags","specialStateforAssets"]),r.get("issues")),w=(A.get("runningInsertOrModify"),A.get("paymentType")),Y=r.getIn(["flags","showAccountModal"]),J=l.get("accountTemp"),Z=a.get("lrAclist"),H=c.getIn(["permissionInfo","Config"]),k=c.get("panes"),x=c.getIn(["data","userInfo","sobInfo","moduleInfo"]),X=!!x&&x.indexOf("GL")>-1,j="",K="";1==Number(a.getIn(["period","firstmonth"]))?(K=12,j=Number(a.getIn(["period","firstyear"]))-1):(K=Number(a.getIn(["period","firstmonth"]))-1,j=Number(a.getIn(["period","firstyear"])));var W=new Date(j,K,1),z=!x||x.indexOf("ENCLOSURE_RUN")>-1,V="TRUE"===c.getIn(["data","userInfo","checkMoreFj"]),Q=c.getIn(["permissionInfo","LrAccount"]),q=[],$=[],ee=!1,te=({LB_JZCB:function(){return"costTransferTemp"},LB_FPRZ:function(){return"invoiceAuthTemp"},LB_KJFP:function(){return"invoicingTemp"},LB_ZCWJZZS:function(){return"transferOutTemp"},LB_ZZ:function(){return"InternalTransferTemp"},LB_ZJTX:function(){return"DepreciationTemp"}}[w]||function(){return""})();"business"===P||""===w||"LB_GGFYFT"===w||"LB_SFGL"===w||"LB_JZSY"===w?(q=r.get("enclosureList"),$=r.get("label"),ee=r.get("tagModal")):(q=o.getIn([te,"enclosureList"]),$=o.getIn([te,"label"]),ee=o.getIn([te,"tagModal"]));var ne=a.get("token"),ae=c.getIn(["data","userInfo","sobInfo","sobId"]),re="annex/"+ae+"/"+c.getIn(["data","userInfo","useruuid"])+"/"+(new Date).getTime(),le=c.get("homeActiveKey"),ue=a.get("uploadKeyJson");return i.default.createElement("div",{className:"Page-lrAccount"},i.default.createElement(f.default,{editPermission:S,dispatch:u,cardTemp:b,insertOrModify:M,flags:A,issues:B,calculateTemp:D,runningCategory:L,lrCalculateState:o,commonChargeTemp:U,CqzcTemp:G}),i.default.createElement(d.TableWrap,{className:"table-running-report lrAccount-flex"},i.default.createElement("div",{className:"lrAccount-wrap"},i.default.createElement(g.default,(C(e={hideCategoryList:N,calculateTemp:D,CqzcTemp:G,commonChargeTemp:U,flags:A,cardTemp:b,dispatch:u,showModal:E,accountList:y,taxRateTemp:I,payOrReceive:R,insertOrModify:M,runningCategory:L,disabledBeginDate:W,configPermissionInfo:H,simplifyStatus:X,yllsState:T,panes:k,onCancel:function(){return t.setState({showCardModal:!1})},openRunningInfoModal:function(){return t.setState({showRunningInfoModal:!0,runningInfoModalType:!1})}},"dispatch",u),C(e,"lrPermissionInfo",Q),C(e,"token",ne),C(e,"sobid",ae),C(e,"dirUrl",re),C(e,"enclosureList",q),C(e,"label",$),C(e,"tagModal",ee),C(e,"enCanUse",z),C(e,"checkMoreFj",V),C(e,"homeState",c),C(e,"homeActiveKey",le),C(e,"uploadKeyJson",ue),e))),i.default.createElement(m.default,{cardTemp:b,flags:A,hideCategoryList:N,dispatch:u,taxRateTemp:I,curCategory:""+b.get("uuid")+s.TREE_JOIN_STR+b.get("name")+s.TREE_JOIN_STR+"hasnoChild"+s.TREE_JOIN_STR+"canClick",runningCategory:L,assId:h,assCategory:v,acId:O,PageTab:P,disabledChangeCategory:"modify"===o.getIn(["flags","insertOrModify"])||F,homeState:c})),i.default.createElement(_.default,{dispatch:u,showModal:Y,accountTemp:J,lrAclist:Z,simplifyStatus:X,accountList:y.getIn([0,"childList"])}))}}]),t}())||a;t.default=E},2533:function(e,t,n){},2535:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=T(n(14)),l=T(n(37)),u=T(n(32)),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(78),n(38),n(51);var o=T(n(1)),c=n(17),s=(n(18),n(127),_(n(30))),d=(_(n(27)),n(2536)),f=_(n(1239)),g=(_(n(1245)),_(n(1229))),m=_(n(1298));function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function T(e){return e&&e.__esModule?e:{default:e}}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C=(0,c.immutableRenderDecorator)(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),i(t,[{key:"render",value:function(){var e,t=this.props,n=t.dispatch,a=t.cardTemp,i=(t.insertOrModify,t.acAssCategoryList,t.mediumAssCategoryList,t.depositAssCategoryList,t.flags),c=(t.issues,t.calculateTemp),_=t.commonChargeTemp,T=t.CqzcTemp,C=(t.runningCategory,t.lrCalculateState),E=t.editPermission,S=C.getIn(["invoicingTemp","makeOutBusinessUuid"]),A=C.getIn(["InternalTransferTemp","uuid"]),y=C.getIn(["transferOutTemp","turnOutBusinessUuid"]),N=C.getIn(["invoiceAuthTemp","authBusinessUuid"]),I=C.getIn(["costTransferTemp","carryoverBusinessUuid"]),L=C.getIn(["costTransferTemp","runningDate"]),h=C.getIn(["flags","insertOrModify"]),v=C.getIn(["costTransferTemp","runningState"]),O=a.get("categoryType"),b=(0,d.getCategorynameByType)(O),R=b.categoryTypeObj,M=(b.direction,a.getIn([R,"beManagemented"])),D=a.get("amount"),G=a.get("handleAmount"),U=a.get("currentAmount"),P=i.get("PageTab"),F=(i.get("issuedate"),i.get("isQuery")),B=i.get("modify"),w=i.get("uuidList"),Y=i.get("needRelaList"),J=i.get("paymentType"),Z=a.get("accountUuid"),H=(a.get("uuid"),a.get("runningState")),k=(a.get("runningType"),a.get("name")),x=a.get("scale"),X=a.get("payableRate"),j=a.get("outputRate"),K=a.get("propertyCost"),W=(a.get("billType"),a.get("propertyPay")),z=a.get("propertyTax"),V=(a.get("canBeCarryover"),a.get("beCarryover")),Q=(a.get("beBusiness"),a.get("assetType")),q=c.get("handleAmount"),$=i.get("isQueryByBusiness"),ee=(i.get("pzFailedButtonShow"),i.get("specialStateforAccrued")),te=i.get("runningInsertOrModify"),ne=i.get("specialStateforAssets"),ae=i.get("currentSwitchUuid"),re=i.get("paymentInsertOrModify"),le=a.getIn([R,"actualAmount"]),ue=(a.getIn([R,"beCleaning"]),a.getIn([R,"depreciationAmount"])),ie=a.getIn([R,"originalAssetsAmount"]),oe=(a.get("businessList"),a.get("uuid")),ce=a.get("beReduce"),se=a.get("offsetAmount"),de=a.get("reduceAmount"),fe=c.get("uuid"),ge=(a.get("tax"),"business"===P?oe:fe),me=void 0;function _e(){var e=[];document.getElementsByName("asslist");return k||e.push("流水类别必填"),"STATE_FY_WF"===H||"STATE_XC_JT"===H||"STATE_YYWSR_WS"===H||"STATE_YYWZC_WF"===H||"STATE_CQZC_WF"===H||"STATE_JK_WF"===H||"STATE_TZ_WS"===H||"STATE_ZB_LRFP"===H||"STATE_SF_ZCWJSF"===H||"XZ_CHBJ"===K||"STATE_JK_JTLX"===H||"STATE_TZ_JTGL"===H||"STATE_TZ_JTLX"===H||"STATE_TZ_WS"===H||"STATE_SF_JT"===H||"STATE_CQZC_JZSY"===H||"STATE_CQZC_WS"===H||"XZ_ZJTX"===Q||ne||($||"LB_YYSR"!==O&&"LB_YYZC"!==O||"STATE_YYSR_DJ"===H||"STATE_YYZC_DJ"===H?(!$||"LB_YYSR"!==O&&"LB_YYZC"!==O||"STATE_YYSR_DJ"===H||"STATE_YYZC_DJ"===H)&&("LB_XCZC"===O?Z||0==le||e.push("账户必填"):ce&&de>0||se>0?G>0&&!Z&&e.push("账户必填"):Z||e.push("账户必填")):M&&U>0?Z||e.push("账户必填"):M||Z||e.push("账户必填")),""===a.get("categoryUuid")&&e.push("流水类别必填"),""===a.get("runningDate")&&e.push("日期必填"),""===a.get("runningAbstract")?e.push("摘要必填"):a.get("runningAbstract").length>45&&e.push("摘要最长45个字符"),D&&0!=D||"SX_ZFGJJ"===W||"SX_SHBX"===W||"SX_ZZS"===z||ce?Number(D)>=1e12&&e.push("金额最大支持千亿级"):e.push("金额必填"),"STATE_ZF_SH"!==H||D&&0!=D||e.push("金额必填"),""===H&&e.push("流水状态必选"),"LB_JK"!==O&&"LB_TZ"!==O&&"LB_ZB"!==O&&"LB_CQZC"!==O||(K||"LB_CQZC"===O)&&("LB_CQZC"!==O||Q)||e.push("处理类别必选"),("STATE_CQZC_JZSY"===H||"XZ_CZZC"===Q&&V)&&Number(ue)>Number(ie)&&e.push("折旧金额不能大于原值"),e}function Te(e,t){var n=[],a=e.get("accountUuid"),r=e.get("runningAbstract"),l=e.get("handlingAmount"),u=e.get("beMoed"),i=e.get("moedAmount"),o=t.get("totalAmount"),c=t.get("selectList");return r||n.push("摘要必填"),u&&(!u||""!=i)||l||0===Math.abs(o)?c.size?Math.abs(o)<Math.abs(l)&&n.push("待核销金额必须大于等于核销金额"):n.push("核账流水必须大于一条"):n.push("金额必填"),l>0&&!a&&n.push("账户必填"),n}function pe(){var e=[],t=_.get("amount"),n=_.get("paymentList"),a=_.get("projectCard").reduce(function(e,t){return e+Number(t.get("amount"))},0);return n.every(function(e){return!e.get("beSelect")})?e.push("核账流水必须大于一条"):Number(t)!=a.toFixed(2)&&e.push("分摊金额总和必须等于勾选流水总待处理金额"),e}function Ce(){var e=[],t=T.getIn(["detail","usedProject"]),n=T.getIn(["detail","projectCard"]);return t&&!n.getIn([0,"uuid"])&&e.push("项目必填"),e}return({LB_ZZ:function(){me=A},LB_JZCB:function(){me=I},LB_FPRZ:function(){me=N},LB_KJFP:function(){me=S},LB_ZCWJZZS:function(){me=y}}[J]||function(){return""})(),o.default.createElement("div",{className:"title"},F&&"business"!==P?o.default.createElement("div",null,o.default.createElement(u.default,{type:"ghost",className:"title-right",onClick:function(){n(g.changeLrAccountCommonString("",["flags","runningInsertOrModify"],"modify")),n(g.changeLrAccountCommonString("",["flags","isQueryByBusiness"],!0)),"LB_JZCB"==J&&n(g.getCostStockList(L,v)),n("LB_ZZ"==J||"LB_JZCB"==J||"LB_FPRZ"==J||"LB_KJFP"==J||"LB_ZCWJZZS"==J?g.refreshRunningbusiness(me,J):g.refreshRunningbusiness(ge,J))}},"刷新"),o.default.createElement(u.default,(p(e={type:"ghost",disabled:!E,className:"title-right"},"disabled",!E),p(e,"onClick",function(){n(g.changeLrAccountCommonString("",["flags","isQuery"],!1)),n(g.changeLrAccountCommonString("",["flags","modify"],!0)),n(g.changeLrAccountCommonString("calculate","handlingAmount",q)),n(g.accountTotalAmount())}),e),"修改"),o.default.createElement(u.default,{type:"ghost",className:"title-right",disabled:!E,onClick:function(){n(g.justNewRunningbusiness(P,J)),"LB_JZCB"==J?n(g.getCostStockList(L,v)):"LB_JZSY"==J&&n(g.getAssetsCleaningCategory())}},"新增")):ee?o.default.createElement("div",null,o.default.createElement(u.default,{type:"ghost",disabled:!E,className:"title-right",onClick:function(){n(g.changeLrAccountCommonString("",["flags","specialStateforAccrued"],!1))}},"修改"),o.default.createElement(u.default,{type:"ghost",className:"title-right",disabled:!E,onClick:function(){n(g.justNewRunningbusiness(P,J)),"LB_JZCB"==J?n(g.getCostStockList(L,v)):"LB_JZSY"==J&&n(g.getAssetsCleaningCategory())}},"新增"),o.default.createElement(u.default,{type:"ghost",className:"title-right",onClick:function(){n(g.changeLrAccountCommonString("",["flags","runningInsertOrModify"],"modify")),n(g.changeLrAccountCommonString("",["flags","isQueryByBusiness"],!0)),n("LB_ZZ"==J||"LB_JZCB"==J||"LB_FPRZ"==J||"LB_KJFP"==J||"LB_ZCWJZZS"==J?g.refreshRunningbusiness(me,J):g.refreshRunningbusiness(ge,J))}},"刷新")):o.default.createElement("div",null,a.get("categoryUuid")&&"business"===P&&"insert"===te&&"STATE_CQZC_JZSY"!==H?o.default.createElement(u.default,{type:"ghost",className:"title-right",onClick:function(){n(g.selectAccountRunningCategory(a.get("categoryUuid"),"","runningCategory",x,X,j))}},"刷新"):"",!$&&"modify"!==te||"business"!==P?"":o.default.createElement(u.default,{type:"ghost",className:"title-right",onClick:function(){n(g.changeLrAccountCommonString("",["flags","runningInsertOrModify"],"modify")),n(g.changeLrAccountCommonString("",["flags","isQueryByBusiness"],!0)),n("LB_ZZ"==J||"LB_JZCB"==J||"LB_FPRZ"==J||"LB_KJFP"==J||"LB_ZCWJZZS"==J?g.refreshRunningbusiness(me,J):g.refreshRunningbusiness(ge,J))}},"刷新"),($||"modify"===te)&&"business"===P||"payment"===P&&("modify"===h||B)?o.default.createElement(u.default,{type:"ghost",className:"title-right",disabled:!E,onClick:function(){n(g.justNewRunningbusiness(P,J)),"LB_JZCB"==J?n(g.getCostStockList(L,v)):"LB_JZSY"==J&&n(g.getAssetsCleaningCategory())}},"新增"):o.default.createElement(u.default,{type:"ghost",className:"title-right",disabled:!E,onClick:function(){if("business"===P||"payment"===P&&""===J){var e=_e();e.length?l.default.info(e.join(",")):n(g.saveRunningbusiness(!0))}else if("payment"===P&&"LB_SFGL"===J){var t=Te(c,i);t.length?l.default.info(t.join(",")):n(g.insertlrAccount(!0))}else if("payment"===P&&"LB_JZCB"===J)n(m.insertOrModifyLrCostTransferPz(!0)),n(g.getCostStockList(L,v));else if("payment"===P&&"LB_FPRZ"===J)n(m.insertOrModifyLrInvoiceAuthPz(!0));else if("payment"===P&&"LB_KJFP"===J)n(m.insertOrModifyLrInvoicingPz(!0));else if("payment"===P&&"LB_ZZ"===J)n(m.insertOrModifyLrInternalTransfer(!0));else if("payment"===P&&"LB_ZJTX"===J)n(m.insertOrModifyLrDepreciation(!0));else if("payment"===P&&"LB_ZCWJZZS"===J)n(m.insertOrModifyLrTransferOutPz(!0));else if("payment"===P&&"LB_GGFYFT"===J){var a=pe();a.length?l.default.info(a.join(",")):n(g.insertProjectShare(!0))}else if("payment"===P&&"LB_JZSY"===J){var r=Ce();r.length?l.default.info(r.join(",")):n(g.insertlrAccountJzsy(!0))}else s.Alert("尽情期待"),console.log("尽情期待")}},"保存并新增"),o.default.createElement(u.default,{type:"ghost",disabled:!E,className:"title-right",onClick:function(){if("business"===P||"payment"===P&&""===J){var e=_e();e.length?l.default.info(e.join(",")):n(g.saveRunningbusiness())}else if("payment"===P&&"LB_SFGL"===J){var t=Te(c,i);t.length?l.default.info(t.join(",")):n(g.insertlrAccount())}else if("payment"===P&&"LB_JZCB"===J)n(m.insertOrModifyLrCostTransferPz());else if("payment"===P&&"LB_FPRZ"===J)n(m.insertOrModifyLrInvoiceAuthPz());else if("payment"===P&&"LB_KJFP"===J)n(m.insertOrModifyLrInvoicingPz());else if("payment"===P&&"LB_ZZ"===J)n(m.insertOrModifyLrInternalTransfer());else if("payment"===P&&"LB_ZJTX"===J)n(m.insertOrModifyLrDepreciation());else if("payment"===P&&"LB_ZCWJZZS"===J)n(m.insertOrModifyLrTransferOutPz());else if("payment"===P&&"LB_GGFYFT"===J){var a=pe();a.length?l.default.info(a.join(",")):n(g.insertProjectShare())}else if("payment"===P&&"LB_JZSY"===J){var r=Ce();r.length?l.default.info(r.join(",")):n(g.insertlrAccountJzsy())}else s.Alert("尽情期待")}},"保存")),Y&&("business"===P&&$||"payment"===P&&("modify"===h||"modify"===re))&&w.size?o.default.createElement("div",null,o.default.createElement(u.default,{type:"ghost",className:"title-right",disabled:w.some(function(e,t){return(e.get("parentUuid")?e.get("parentUuid"):e.get("uuid"))===ae&&t===w.size-1}),onClick:function(){var e=w.findIndex(function(e){return(e.get("parentUuid")?e.get("parentUuid"):e.get("uuid"))===ae})+1;n(f.getBusinessBeforeSwitch(w.get(e),w))}},o.default.createElement(r.default,{type:"caret-right"})),o.default.createElement(u.default,{type:"ghost",className:"title-right",disabled:w.some(function(e,t){return(e.get("parentUuid")?e.get("parentUuid"):e.get("uuid"))===ae&&0===t}),onClick:function(){var e=w.findIndex(function(e){return(e.get("parentUuid")?e.get("parentUuid"):e.get("uuid"))===ae})-1;n(f.getBusinessBeforeSwitch(w.get(e),w))}},o.default.createElement(r.default,{type:"caret-left"}))):"")}}]),t}())||a;t.default=C},2536:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCategorynameByType=function(e){var t=void 0,n=void 0,a="debit",r=!1,l=!1;return({LB_YYSR:function(){t="营业收入",n="acBusinessIncome"},LB_YYZC:function(){t="营业支出",n="acBusinessExpense",a="credit"},LB_YYWSR:function(){t="营业外收入",n="acBusinessOutIncome",r=!0,a="debit"},LB_YYWZC:function(){t="营业外支出",n="acBusinessOutExpense",a="credit",r=!0,a="credit"},LB_JK:function(){t="借款",n="acLoan",l=!0},LB_TZ:function(){t="投资",n="acInvest",l=!0},LB_ZB:function(){t="资本",n="acCapital",l=!0},LB_CQZC:function(){t="长期资产",n="acAssets",a="debit"},LB_FYZC:function(){t="费用支出",n="acCost",a="credit"},LB_ZSKX:function(){t="暂收款项",n="acTemporaryReceipt",r=!0},LB_ZFKX:function(){t="暂付款项",n="acTemporaryPay",r=!0},LB_XCZC:function(){t="薪酬支出",n="acPayment",a="credit",l=!0},LB_SFZC:function(){t="税费支出",n="acTax",a="credit",l=!0}}[e]||function(){return""})(),{propertyShow:t,categoryTypeObj:n,direction:a,showInvoice:!1,isShowAbout:r,specialState:l}}},2537:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=N(n(14)),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(78);var u=N(n(1)),i=n(17),o=(y(n(27)),n(127)),c=N(n(1743)),s=N(n(1744)),d=N(n(2538)),f=(N(n(2550)),N(n(2551))),g=N(n(2552)),m=N(n(2554)),_=N(n(1473)),T=n(18),p=y(n(1229)),C=N(n(1281)),E=y(n(1243)),S=N(n(2562)),A=n(43);function y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function N(e){return e&&e.__esModule?e:{default:e}}var I=(0,i.immutableRenderDecorator)(a=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={showDetail:!1,show:!1,yllsVisible:!1},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default.Component),l(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){this.props.homeState.get("homeActiveKey")===e.homeState.get("homeActiveKey")&&this.props.homeState.get("pageActive")===e.homeState.get("pageActive")||!0!==this.state.yllsVisible||this.setState({yllsVisible:!1})}},{key:"render",value:function(){var e=this,t=this.props,n=t.flags,a=t.cardTemp,l=t.dispatch,i=(t.onCancel,t.showModal,t.accountList),y=t.taxRateTemp,N=t.payOrReceive,I=t.insertOrModify,L=t.runningCategory,h=t.disabledBeginDate,v=(t.openRunningInfoModal,t.acAssCategoryList,t.allasscategorylist,t.inputAssCategoryList,t.stockAssCategoryList,t.mediumAssCategoryList,t.outputAssCategoryList,t.payableAssCategoryList,t.depositAssCategoryList,t.certifiedAssCategoryList,t.carryoverAssCategoryList,t.calculateTemp),O=t.CqzcTemp,b=t.commonChargeTemp,R=t.hideCategoryList,M=t.configPermissionInfo,D=t.simplifyStatus,G=t.lrPermissionInfo,U=t.closedBy,P=t.reviewedBy,F=t.token,B=(t.dirUrl,t.enclosureList),w=t.label,Y=(t.tagModal,t.enCanUse),J=t.checkMoreFj,Z=t.yllsState,H=t.panes,k=t.homeState,x=(t.homeActiveKey,t.uploadKeyJson),X=this.state.yllsVisible,j=a.get("categoryType"),K=a.get("assetType"),W=void 0,z=!1;(({LB_YYSR:function(){!0,"营业收入",W="acBusinessIncome"},LB_YYZC:function(){!0,"营业支出",W="acBusinessExpense","credit"},LB_YYWSR:function(){!0,"营业外收入",W="acBusinessOutIncome",!0,"debit"},LB_YYWZC:function(){!0,"营业外支出",W="acBusinessOutExpense","credit",!0,"credit"},LB_JK:function(){!0,"借款",W="acLoan",z=!0},LB_TZ:function(){!0,"投资",W="acInvest",z=!0},LB_ZB:function(){!0,"资本",W="acCapital",z=!0},LB_CQZC:function(){!0,"长期资产",W="acAssets","debit"},LB_FYZC:function(){!0,"费用支出",W="acCost","credit"},LB_ZSKX:function(){!1,"暂收款项",W="acTemporaryReceipt",!0,z=!0},LB_ZFKX:function(){!1,"暂付款项",W="acTemporaryPay",!0,z=!0},LB_XCZC:function(){!1,"薪酬支出",W="acPayment","credit",z=!0},LB_SFZC:function(){!1,"税费支出",W="acTax","credit",z=!0}})[j]||function(){return""})();this.state.showDetail;var V=a.get("businessList"),Q=a.get("paymentList")?a.get("paymentList"):(0,T.fromJS)([]),q=a.get("runningState"),$=(a.get("offsetAmount"),a.get("notHandleAmount")),ee=a.get("propertyCost"),te=(a.get("beProject"),a.get("handleAmount")),ne=n.get("isQueryByBusiness"),ae=n.get("runningInsertOrModify"),re=n.get("specialStateforAccrued"),le=a.get("propertyTax"),ue=(n.get("specialStateforAssets"),n.get("allGetFlow")),ie=a.getIn([W,"beAccrued"]),oe=a.getIn([W,"beManagemented"]),ce=n.get("amount"),se=n.get("paymentType"),de=a.get("currentAmount"),fe=Z.get("lsItemData"),ge=n.get("PageTab"),me=(n.get("paymentInsertOrModify"),n.get("isQuery"),void 0);if("business"===ge||"payment"===ge&&""===n.get("paymentType"))me=u.default.createElement(d.default,{flags:n,cardTemp:a,dispatch:l,accountList:i,taxRateTemp:y,payOrReceive:N,insertOrModify:I,runningCategory:L,disabledBeginDate:h,configPermissionInfo:M,simplifyStatus:D,categoryTypeObj:W});else switch(se){case"LB_SFGL":me=u.default.createElement(f.default,{flags:n,calculateTemp:v,dispatch:l,accountList:i,disabledBeginDate:h,hideCategoryList:R,configPermissionInfo:M,yllsState:Z,panes:H,homeState:k});break;case"LB_GGFYFT":me=u.default.createElement(g.default,{flags:n,commonChargeTemp:b,dispatch:l,hideCategoryList:R,disabledBeginDate:h,yllsState:Z,panes:H,homeState:k});break;case"LB_JZSY":me=u.default.createElement(S.default,{flags:n,CqzcTemp:O,dispatch:l,accountList:i,disabledBeginDate:h,hideCategoryList:R,configPermissionInfo:M,panes:H,yllsState:Z,homeState:k});break;default:me=u.default.createElement(m.default,{flags:n,cardTemp:a,configPermissionInfo:M})}return u.default.createElement("div",{className:"lrAccount"},me,"business"===ge||"payment"===ge&&""===n.get("paymentType")?u.default.createElement("div",null,"business"===ge&&ne&&V&&V.size&&"STATE_CQZC_JZSY"!==q?u.default.createElement("div",null,u.default.createElement("div",{className:"accountConf-separator"}),V.map(function(e){return u.default.createElement("div",{className:"business-water",key:e.get()},u.default.createElement("span",{className:"green-pannel"},"结转"+("STATE_YYSR_JZCB"===e.get("runningState")?"成本":"损益")),"结转"+("STATE_YYSR_JZCB"===e.get("runningState")?"成本":"损益")+"流水:"+e.get("flowNumber"))})):null,"business"===ge&&"STATE_CQZC_JZSY"===q&&(ne&&V&&V.size||"insert"===ae)?u.default.createElement("div",{style:{marginTop:"10px"}},u.default.createElement(o.TableAll,{className:"lrAccount-table"},u.default.createElement(o.TableTitle,{className:"account-card-wrap-table-width",titleList:["流水号","流水类别","金额"]}),u.default.createElement(o.TableBody,null,"modify"===ae?V.map(function(e){return u.default.createElement(o.TableItem,{className:"account-card-wrap-table-width"},u.default.createElement("li",null,u.default.createElement("span",null,e.get("flowNumber"))),u.default.createElement("li",null,u.default.createElement("span",null,e.get("categoryName"))),u.default.createElement("li",null,u.default.createElement("p",null,e.get("tax")&&"bill_common"===e.get("billType")?(Number(e.get("amount"))-Number(e.get("tax"))).toFixed(2):e.get("amount"))))}):u.default.createElement(o.TableItem,{className:"account-card-wrap-table-width"},u.default.createElement("li",null,u.default.createElement("span",null,a.get("flowNumber"))),u.default.createElement("li",null,u.default.createElement("span",null,a.get("categoryName"))),u.default.createElement("li",null,u.default.createElement("p",null,a.get("tax")&&"bill_common"===a.get("billType")?(Number(a.get("amount"))-Number(a.get("tax"))).toFixed(2):a.get("amount"))))))):null,ne&&("STATE_JK_ZFLX"!==q&&"STATE_TZ_SRGL"!==q&&"STATE_TZ_SRLX"!==q&&"STATE_ZB_ZFLR"!==q&&"STATE_XC_JN"!==q&&"STATE_XC_FF"!==q&&"STATE_SF_JN"!==q&&"STATE_ZS_TH"!==q&&"STATE_ZF_SH"!==q&&"XZ_QDJK"!==ee&&"XZ_CHBJ"!==ee&&"XZ_SHTZ"!==ee&&"XZ_DWTZ"!==ee&&"STATE_CQZC_JZSY"!==q&&"STATE_CQZC_YS"!==q&&"STATE_CQZC_YF"!==q&&"STATE_FY_YF"!==q&&"STATE_FY_DJ"!==q&&"XZ_ZJTX"!==K&&(oe||ie)&&!ue||"STATE_ZS_SQ"===q||"STATE_XC_JT"===q||"STATE_JK_JTLX"===q||"STATE_ZF_FC"===q)?u.default.createElement("div",null,u.default.createElement("div",{className:"accountConf-separator"}),u.default.createElement("div",{className:"payment-water"},Number(ce)!=Number(de)?u.default.createElement("span",null,"核销情况：",0!=te?0==$?"已全部核销":"部分核销":"未核销"):"",0!=te&&ce!=de?u.default.createElement("span",{className:"detail"},this.state.show?u.default.createElement("span",{onClick:function(){e.setState({show:!1})}},"收拢 ",u.default.createElement(r.default,{type:"up"})):u.default.createElement("span",{onClick:function(){e.setState({show:!0})}},"查看详情 ",u.default.createElement(r.default,{type:"down"}))):null,this.state.show&&ce!=de?u.default.createElement(o.TableAll,{className:"lrAccount-table"},u.default.createElement(o.TableTitle,{className:"account-card-wrap-table-width",titleList:["流水日期","流水号","处理金额"]}),u.default.createElement(o.TableBody,null,Q.map(function(t){return u.default.createElement(o.TableItem,{className:"account-card-wrap-table-width"},u.default.createElement("li",null,u.default.createElement("span",null,t.get("runningDate"))),u.default.createElement(o.TableOver,{textAlign:"left",className:"account-flowNumber",onClick:function(){l(E.getYllsBusinessData(t,function(){return e.setState({yllsVisible:!0})}))}},u.default.createElement("span",null,t.get("flowNumber"))),u.default.createElement("li",null,u.default.createElement("p",null,t.get("handleAmount").toFixed(2))))}),u.default.createElement(o.TableItem,{className:"account-card-wrap-table-width"},u.default.createElement("li",null),u.default.createElement("li",null,"合计"),u.default.createElement("li",null,u.default.createElement("p",null,Q.reduce(function(e,t){return e+Number(t.get("handleAmount"))},0).toFixed(2)))))):null)):null,"business"===ge&&("STATE_JK_ZFLX"===q||"STATE_TZ_SRGL"===q||"STATE_TZ_SRLX"===q||"STATE_ZB_ZFLR"===q)&&z&&ie?u.default.createElement(c.default,{specialStateforAccrued:re,paymentList:Q,isQueryByBusiness:ne,dispatch:l,flags:n,cardTemp:a,yllsState:Z,panes:H,showDrawer:function(){return e.setState({yllsVisible:!0})}}):null,"business"===ge&&"STATE_SF_JN"===q&&z&&("SX_QTSF"===le&&ie||"SX_ZZS"===le||"SX_QYSDS"===le&&ie)?u.default.createElement(c.default,{specialStateforAccrued:re,paymentList:Q,isQueryByBusiness:ne,dispatch:l,flags:n,cardTemp:a,yllsState:Z,panes:H,showDrawer:function(){return e.setState({yllsVisible:!0})}}):null,"business"!==ge||"STATE_ZS_TH"!==q&&"STATE_ZF_SH"!==q&&"STATE_SF_SFJM"!==q||!z?null:u.default.createElement(c.default,{specialStateforAccrued:re,paymentList:Q,isQueryByBusiness:ne,dispatch:l,flags:n,cardTemp:a,yllsState:Z,panes:H,showDrawer:function(){return e.setState({yllsVisible:!0})}}),"business"===ge&&("STATE_XC_JN"===q||"STATE_XC_FF"===q)&&z&&ie?u.default.createElement(s.default,{specialStateforAccrued:re,paymentList:Q,isQueryByBusiness:ne,dispatch:l,flags:n,cardTemp:a,yllsState:Z,panes:H,showDrawer:function(){return e.setState({yllsVisible:!0})}}):null):null,u.default.createElement(_.default,{formPage:"oldRunning",type:"ls",className:"lrls-enclosure-wrap",dispatch:l,permission:G.getIn(["edit","permission"]),token:F,enclosureList:B,label:w,closed:U,reviewed:P,enCanUse:Y,checkMoreFj:J,getUploadTokenFetch:function(){return l(p.getUploadGetTokenFetch())},getLabelFetch:function(){return l(p.getLabelFetch(ge,se))},deleteUploadImgUrl:function(e){return l(p.deleteUploadFJUrl(e,ge,se))},changeTagName:function(e,t){return l(p.changeTagName(e,t,ge,se))},downloadEnclosure:function(e,t){return l((0,A.allDownloadEnclosure)(e,t))},uploadEnclosureList:function(e){l(p.uploadFiles.apply(p,[ge,se].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e))))},uploadKeyJson:x}),X?u.default.createElement(C.default,{yllsVisible:X,dispatch:l,yllsState:Z,onClose:function(){return e.setState({yllsVisible:!1})},editLrAccountPermission:!0,panes:H,lsItemData:fe,uuidList:Q.filter(function(e,t){return!(t>0)||e.get("uuid")!==Q.getIn([t-1,"uuid"])}),showDrawer:function(){return e.setState({yllsVisible:!0})},refreshList:function(){},lryl:!0}):"")}}]),t}())||a;t.default=I},2538:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=P(n(129)),l=P(n(14)),u=P(n(1256)),i=P(n(100)),o=P(n(1234)),c=P(n(1230)),s=P(n(37)),d=P(n(45)),f=P(n(89)),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(128),n(78),n(1257),n(99),n(1235),n(1231),n(38),n(55),n(88);var m=P(n(1)),_=n(17),T=n(56),p=U(n(27)),C=n(127),E=P(n(90)),S=P(n(1419)),A=P(n(1420)),y=(P(n(1745)),P(n(1421)),n(22)),N=P(n(1746)),I=P(n(1476)),L=P(n(2540)),h=P(n(2541)),v=P(n(2542)),O=P(n(2545)),b=n(18),R=P(n(6)),M=U(n(1229)),D=U(n(43)),G=U(n(1242));function U(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function P(e){return e&&e.__esModule?e:{default:e}}function F(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}f.default.Group;var B=d.default.Option,w=(0,T.connect)(function(e){return{homeState:e.homeState,accountConfState:e.accountConfState,lrAccountState:e.lrAccountState,allState:e.allState}})(a=(0,_.immutableRenderDecorator)(a=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),u=0;u<r;u++)l[u]=arguments[u];return n=a=F(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.state={show:!1,showModal:!1,showModalStock:!1,index:0,accountInput:"",stockInput:"",contactsInput:""},F(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,m.default.Component),g(t,[{key:"componentDidMount",value:function(){this.props.dispatch(D.getAcListFetch())}},{key:"render",value:function(){var e=this,t=this.props,n=t.cardTemp,a=t.dispatch,f=t.accountList,g=t.taxRateTemp,_=t.payOrReceive,T=t.insertOrModify,D=t.runningCategory,U=t.disabledBeginDate,P=(t.homeState,t.accountConfState,t.flags),F=t.lrAccountState,w=t.allState,Y=t.configPermissionInfo,J=t.simplifyStatus,Z=n.get("categoryType"),H=w.get("lrAclist"),k=void 0,x="debit";(({LB_YYSR:function(){!0,"营业收入",k="acBusinessIncome"},LB_YYZC:function(){!0,"营业支出",k="acBusinessExpense",x="credit"},LB_YYWSR:function(){!0,"营业外收入",k="acBusinessOutIncome",!0,x="debit"},LB_YYWZC:function(){!0,"营业外支出",k="acBusinessOutExpense",x="credit",!0,x="credit"},LB_JK:function(){!0,"借款",k="acLoan",!0},LB_TZ:function(){!0,"投资",k="acInvest",!0},LB_ZB:function(){!0,"资本",k="acCapital",!0},LB_CQZC:function(){!0,"长期资产",k="acAssets",x="debit"},LB_FYZC:function(){!0,"费用支出",k="acCost",x="credit"},LB_ZSKX:function(){!1,"暂收款项",k="acTemporaryReceipt",!0},LB_ZFKX:function(){!1,"暂付款项",k="acTemporaryPay",!0},LB_XCZC:function(){!1,"薪酬支出",k="acPayment",x="credit",!0},LB_SFZC:function(){!1,"税费支出",k="acTax",x="credit",!0}})[Z]||function(){return""})();Y.getIn(["edit","permission"]),w.get("allasscategorylist");var X=n.get("scale"),j=(g.get("payableAcFullName"),g.get("payableAcId"),g.get("payableAssCategory"),g.get("notBillingAssCategory"),g.get("notBillingAcId"),g.get("outputAcId"),n.get("payableRate")),K=(g.get("outputAssCategory"),g.get("waitOutputAcId"),g.get("waitOutputAssCategory"),g.get("inputAcId"),g.get("inputAssCategory"),g.get("certifiedAcId"),g.get("certifiedAssCategory"),n.get("propertyPay")),W=n.get("name"),z=(n.get("categoryName"),n.get("property"),n.get("beSpecial")),V=n.getIn([k,"beDeposited"]),Q=n.getIn([k,"beCarryover"]),q=n.get("beCarryover"),$=n.get("propertyCarryover"),ee=(n.get("assList"),n.get("acId"),n.get("acFullName"),n.get("mediumAcId"),n.get("mediumAcFullName"),n.get("depositAcId"),n.get("depositAcFullName"),n.get("carryoverAcId"),n.get("carryoverAcFullName"),n.get("stockAcId"),n.get("stockAcFullName"),n.getIn([k,"stockAc"]),n.get("mediumAssList"),n.get("runningState")),te=n.getIn([k,"beManagemented"]),ne=n.get("runningAbstract"),ae=n.get("runningDate"),re=n.get("amount"),le=n.get("taxAmount"),ue=n.get("accountName"),ie=(n.get("billType"),n.get("beCertificate"),n.get("priceTaxTotal"),n.get("taxRate")),oe=n.get("assetType"),ce=(n.get("tax"),n.get("runningType")),se="modify"==T,de=(n.get("propertyCostList"),n.getIn([k,"companyAccumulationAmount"])),fe=n.getIn([k,"personAccumulationAmount"]),ge=n.getIn([k,"companySocialSecurityAmount"]),me=n.getIn([k,"personSocialSecurityAmount"]),_e=n.getIn([k,"incomeTaxAmount"]),Te=n.getIn([k,"socialSecurityAc"]),pe=n.getIn([k,"fundAc"]),Ce=(n.getIn([k,"incomeTaxAc"]),n.get("offsetAmount")),Ee=n.get("handleAmount"),Se=n.get("currentAmount"),Ae=n.get("propertyCost"),ye=n.getIn([k,"beCleaning"]),Ne=(n.getIn([k,"incomeAc"]),n.getIn([k,"lossAc"]),n.getIn([k,"payAc"])),Ie=n.getIn([k,"payList"]),Le=n.getIn([k,"deliveryAc"]),he=n.getIn([k,"inAdvanceAc"]),ve=n.getIn([k,"saleAc"]),Oe=n.getIn([k,"manageAc"]),be=n.getIn([k,"financeAc"]),Re=(n.getIn([k,"welfareAc"]),n.getIn([k,"beWelfare"]),n.getIn([k,"welfareList"]),n.getIn([k,"receivablesAc"])),Me=(n.getIn([k,"carryoverAc"]),n.get("billStates"),n.getIn([k,"netProfitAmount"]),n.getIn([k,"lossAmount"]),n.getIn([k,"receivablesList"])),De=n.getIn([k,"inAdvanceList"]),Ge=n.get("categoryUuid"),Ue=n.getIn([k,"deliveryList"]),Pe=n.getIn([k,"payableList"]),Fe=n.getIn([k,"unpaidInterestList"]),Be=n.getIn([k,"uncollectedInterestList"]),we=n.getIn([k,"accruedList"]),Ye=n.getIn([k,"accruedAc"]),Je=n.getIn([k,"beAccrued"]),Ze=n.getIn([k,"beInAdvance"]),He=n.getIn([k,"turnOutAc"]),ke=(n.getIn([k,"relationAc"]),n.getIn([k,"assetsAc"]),n.getIn([k,"payableAc"])),xe=(n.getIn([k,"cleaningAc"]),n.getIn([k,"upgradeAc"]),n.getIn([k,"depreciationAc"]),n.getIn([k,"loanAc"]),n.getIn([k,"interestAc"]),n.getIn([k,"unpaidInterestAc"])),Xe=(n.getIn([k,"investAc"]),n.getIn([k,"profitAc"]),n.getIn([k,"uncollectedProfitAc"])),je=n.getIn([k,"uncollectedProfitList"]),Ke=n.getIn([k,"uncollectedInterestAc"]),We=(n.getIn([k,"capitalAc"]),n.getIn([k,"unassignedAc"]),n.getIn([k,"assignedAc"]),n.getIn([k,"beTurnOut"])),ze=n.getIn([k,"turnOutList"]),Ve=n.get("propertyTax"),Qe=n.get("preAmount"),qe=n.get("payableAmount"),$e=(n.get("propertyInvest"),n.getIn([k,"fundList"])),et=n.getIn([k,"socialSecurityList"]),tt=(n.get("propertyAssets"),n.get("accumulationAmount")),nt=n.get("socialSecurityAmount"),at=n.get("sfAmount"),rt=P.get("isQueryByBusiness"),lt=P.get("selectedKeys"),ut=P.get("runningInsertOrModify"),it=n.get("businessList")?n.get("businessList"):(0,b.fromJS)([]),ot=(n.get("billList"),n.get("paymentList")),ct=(n.get("notHandleAmount"),n.get("outputRate")),st=(Oe&&Oe.size&&Oe.getIn([0,"assCategoryList"])?Oe.getIn([0,"assCategoryList"]):(0,b.fromJS)([]),ve&&ve.size&&ve.getIn([0,"assCategoryList"])?ve.getIn([0,"assCategoryList"]):(0,b.fromJS)([]),be&&be.size&&be.getIn([0,"assCategoryList"])?be.getIn([0,"assCategoryList"]):(0,b.fromJS)([]),P.get("specialStateforAccrued")),dt=P.get("specialStateforAssets"),ft=(P.get("showStockModal"),P.get("allGetFlow")),gt=P.get("showContactsModal"),mt=P.get("MemberList"),_t=P.get("thingsList"),Tt=P.get("stockThingsList"),pt=P.get("contactsThingsList"),Ct=P.get("selectThingsList"),Et=P.get("currentCardType"),St=P.get("projectList")?P.get("projectList"):(0,b.fromJS)([]),At=n.getIn([k,"stockRange"]),yt=n.get("projectCard"),Nt=n.get("beProject"),It=n.get("projectRange"),Lt=n.get("usedProject"),ht=n.getIn([k,"stockCardList"]),vt=n.getIn([k,"carryoverCardList"]),Ot=n.getIn([k,"contactsCardRange"]),bt=n.getIn([k,"contactsRange"]),Rt=n.getIn([k,"beReduce"]),Mt=n.getIn([k,"actualAmount"]),Dt=n.get("beReduce"),Gt=n.get("reduceAmount"),Ut=n.getIn(["acPayment","beWithholding"]),Pt=n.getIn(["acPayment","beWithholdSocial"]),Ft=n.getIn(["acPayment","beWithholdTax"]),Bt=!1;ot&&ot.map(function(e,t){e.get("beSelect")&&(e.get("notHandleAmount"),Bt=!0)});var wt=/^\d*\.?\d{0,2}$/,Yt=/^-{0,1}\d*\.?\d{0,2}$/,Jt=({"":function(){return"金额："},STATE_SF_JN:function(){return"SX_ZZS"===Ve?"支付金额：":"金额："},STATE_XC_JT:function(){return"金额："}}[ee]||function(){return"LB_YYSR"===Z||"LB_YYZC"===Z?"总金额：":"金额："})(),Zt=function(e,t){if(void 0!==e.target.value){var n=e.target.value.indexOf("。")>-1?e.target.value.replace("。","."):e.target.value;0===n.indexOf("0")&&"0"!=n&&n>=1&&(n=n.substr(1)),wt.test(n)||""===n?t(n):s.default.info("金额只能输入带两位小数的数字")}},Ht=function(){return!(!Nt||("STATE_YYSR_DJ"===ee||"STATE_YYZC_DJ"===ee||("LB_XCZC"!==Z||(!Je||"STATE_XC_JT"!==ee)&&(Je||"STATE_XC_FF"!==ee&&"STATE_XC_JN"!==ee)&&"STATE_XC_YF"!==ee)&&"LB_XCZC"===Z||("LB_SFZC"!==Z||(!Je||"STATE_SF_JT"!==ee)&&(Je||"STATE_SF_JN"!==ee||"SX_QYSDS"!==Ve&&"SX_QTSF"!==Ve))&&"LB_SFZC"===Z||("LB_JK"!==Z||"XZ_CHLX"!==Ae||(!Je||"STATE_JK_JTLX"!==ee)&&Je)&&"LB_JK"===Z||("LB_TZ"!==Z||"XZ_QDSY"!==Ae||(!Je||"STATE_TZ_JTGL"!==ee&&"STATE_TZ_JTLX"!==ee)&&Je)&&"LB_TZ"===Z||("LB_CQZC"!==Z||"STATE_CQZC_JZSY"!==ee&&"XZ_ZJTX"!==oe)&&"LB_CQZC"===Z||"LB_ZB"===Z||"STATE_ZS_TH"===ee||"STATE_ZF_SH"===ee||"STATE_FY_DJ"===ee)&&(!rt||!Lt))};return m.default.createElement("div",{className:"accountConf-modal-list lrAccount-CardBody"},n.get("flowNumber")&&"modify"===ut?m.default.createElement("div",{className:"accountConf-modal-list-item"},m.default.createElement("label",null,"流水号："),m.default.createElement("div",null,n.get("flowNumber"))):null,m.default.createElement("div",{className:"accountConf-modal-list-item"},m.default.createElement("label",null,"日期："),st?m.default.createElement("div",null,ae):m.default.createElement("div",null,m.default.createElement(c.default,{allowClear:!1,disabledDate:function(e){return e&&(0,R.default)(U)>e},value:(0,R.default)(ae),disabled:"XZ_CZZC"===oe&&rt&&ye&&it&&it.size,onChange:function(e){var t=e.format("YYYY-MM-DD");a(M.changeLrAccountCommonString("card","runningDate",t)),Qe<=0&&a(M.changeLrAccountCommonString("card","offsetAmount",0))}}))),m.default.createElement("div",{className:"accountConf-modal-list-item"},m.default.createElement("label",null,"流水类别："),st?m.default.createElement("div",null,W):m.default.createElement("div",{className:"lrls-account-box"},m.default.createElement(C.RunCategorySelect,{disabled:"modify"===ut||dt,treeData:D,value:W,placeholder:"",parentDisabled:!0,onChange:function(e,t,n){var r=e.split(p.TREE_JOIN_STR),l=r[2].split("_"),u=D;l.forEach(function(e,t){u=t<l.length-1?u.getIn([Number(e),"childList"]):u.getIn([Number(e)])}),a(M.selectAccountRunningCategory(r[0],r[1],u,X,j,ct))}}),Ht()?m.default.createElement(o.default,{className:"use-unuse-style",style:{marginLeft:".2rem"},checked:Lt,checkedChildren:"项目",onChange:function(){Lt||yt.size||a(M.changeLrAccountCommonString("card","projectCard",(0,b.fromJS)([{uuid:"",amount:""}]))),a(M.changeLrAccountCommonString("card","usedProject",!Lt))}}):null)),m.default.createElement(N.default,{dispatch:a,cardTemp:n,flags:P,hasChecked:Bt}),m.default.createElement(S.default,{disabled:rt,isModify:se,cardTemp:n,dispatch:a,beSpecial:z,beDeposited:V,runningState:ee,payOrReceive:_,beManagemented:te,flags:P,specialStateforAccrued:st}),m.default.createElement("div",{className:"accountConf-separator"}),m.default.createElement("div",{className:"accountConf-modal-list-item"},m.default.createElement("label",null,"摘要："),st?m.default.createElement("div",null,ne):m.default.createElement("div",null,m.default.createElement(i.default,{className:"focus-input",onFocus:function(e){document.getElementsByClassName("focus-input")[0].select()},value:ne,onChange:function(e){a(M.changeLrAccountCommonString("card","runningAbstract",e.target.value))}}))),""!=ee&&te&&"STATE_CQZC_JZSY"!==ee&&"XZ_ZJTX"!==oe?m.default.createElement("div",{className:"accountConf-modal-list-item"},m.default.createElement("label",null,"往来单位："),m.default.createElement("div",{className:"chosen-right"},st?m.default.createElement("div",null,(Ot?Ot.get("code"):"")+" "+(Ot?Ot.get("name"):"")):m.default.createElement(d.default,{combobox:!0,showSearch:!0,value:(Ot&&Ot.get("code")?Ot.get("code"):"")+" "+(Ot&&Ot.get("name")?Ot.get("name"):""),dropdownRender:function(t){return m.default.createElement("div",null,t,m.default.createElement(u.default,{style:{margin:"4px 0"}}),m.default.createElement("div",{style:{padding:"8px",cursor:"pointer"},onMouseDown:function(){a(M.initRelaCard(x,function(){e.setState({showModal:!0})}))}},m.default.createElement(l.default,{type:"plus"})," 新增往来单位"))},onChange:function(e){var t=e.split(p.TREE_JOIN_STR),n=t[0],r=t[1],l=t[2];a(M.changeLrAccountCommonString("card",[k,"contactsCardRange"],(0,b.fromJS)({uuid:n,name:l,code:r})))}},pt.map(function(e,t){return m.default.createElement(B,{key:e.get("uuid"),value:""+e.get("uuid")+p.TREE_JOIN_STR+e.get("code")+p.TREE_JOIN_STR+e.get("name")},e.get("code")+" "+e.get("name"))})),m.default.createElement("div",{className:"chosen-word",onClick:function(){a(M.getCardList("contacts",ee,bt,"showContactsModal")),a(M.changeLrAccountCommonString("",["flags","currentCardType"],"contacts"))}},"选择")),m.default.createElement(v.default,{showModal:this.state.showModal,closeModal:function(){return e.setState({showModal:!1})},lrAclist:H,dispatch:a,lrAccountState:F,simplifyStatus:J,contactsRange:bt})):null,Ht()&&Lt?yt.map(function(t,n){return m.default.createElement("div",{key:n,className:"project-content-area",style:yt.size>1?{}:{border:"none",marginBottom:"0"}},m.default.createElement("div",{className:"accountConf-modal-list-item"},m.default.createElement("label",null,"项目："),m.default.createElement("div",{className:"chosen-right"},st?m.default.createElement("div",null,(t.get("code")?t.get("code"):"")+" "+(t.get("name")?t.get("name"):"")):m.default.createElement(d.default,{combobox:!0,showSearch:!0,value:("COMNCRD"!==t.get("code")&&t.get("code")?t.get("code"):"")+" "+(t.get("name")?t.get("name"):""),onChange:function(e){var r=e.split(p.TREE_JOIN_STR),l=r[0],u=r[1],i=r[2],o=t.get("amount");a(M.changeLrAccountCommonString("card",["projectCard",n],(0,b.fromJS)({uuid:l,name:i,code:u,amount:o})))}},St.filter(function(e){return"LB_FYZC"===Z||"STATE_XC_JT"===ee||!Je&&"STATE_XC_JN"===ee||"STATE_XC_YF"===ee||"XZ_CHLX"===Ae&&("STATE_JK_JTLX"===ee||!Je&&"STATE_JK_ZFLX"===ee)||"XZ_ZJTX"===oe||"COMNCRD"!==e.get("code")}).map(function(e,t){return m.default.createElement(B,{key:t,value:""+e.get("uuid")+p.TREE_JOIN_STR+e.get("code")+p.TREE_JOIN_STR+e.get("name")},("COMNCRD"!==e.get("code")?e.get("code"):"")+" "+e.get("name"))})),m.default.createElement("div",{className:"chosen-word",onClick:function(){a(M.getProjectAllCardList(It,"showContactsModal")),a(M.changeLrAccountCommonString("",["flags","currentCardType"],"project")),e.setState({index:n,curAmount:t.get("amount")})}},"选择")),"SX_HW"!==$&&"LB_CQZC"!==Z?m.default.createElement("span",{className:"icon-content"},m.default.createElement("span",null,m.default.createElement(E.default,{type:"simple-plus",theme:"outlined",onClick:function(){a(M.addProject(yt,n)),Nt&&Lt&&1===yt.size&&a(M.changeLrAccountCommonString("card",["projectCard",0,"amount"],re))}})),yt.size>1?m.default.createElement("span",null,m.default.createElement(E.default,{type:"sob-delete",theme:"outlined",onClick:function(){a(M.deleteProject(yt,n,ie))}})):""):""),yt.size>1?m.default.createElement("div",{className:"accountConf-modal-list-item"},m.default.createElement("label",null,"金额："),m.default.createElement(i.default,{value:t.get("amount"),onChange:function(e){if(void 0!==e.target.value){var t=e.target.value.indexOf("。")>-1?e.target.value.replace("。","."):e.target.value;0===t.indexOf("0")&&"0"!=t&&t>=1&&(t=t.substr(1)),"LB_FYZC"===Z?Yt.test(t)||""===t?(a(M.changeLrAccountCommonString("card",["projectCard",n,"amount"],t)),a(M.autoCalculateProjectAmount()),ie&&a(M.changeAccountTaxRate())):s.default.info("金额只能输入带两位小数的数字"):wt.test(t)||""===t?(a(M.changeLrAccountCommonString("card",["projectCard",n,"amount"],t)),a(M.autoCalculateProjectAmount()),ie&&a(M.changeAccountTaxRate())):s.default.info("金额只能输入带两位小数的数字")}}})):"")}):null,"STATE_YYSR_XS"!==ee&&"STATE_YYSR_TS"!==ee&&"STATE_YYZC_TG"!==ee&&"STATE_YYZC_GJ"!==ee||"SX_HW"!==$?null:ht&&ht.map(function(t,n){return m.default.createElement("div",null,m.default.createElement("div",{className:"accountConf-modal-list-item"},m.default.createElement("label",null,"存货："),m.default.createElement("div",{className:"chosen-right"},st?m.default.createElement("div",null,(t.get("code")?t.get("code"):"")+" "+(t.get("name")?t.get("name"):"")):m.default.createElement(d.default,{showSearch:!0,combobox:!0,value:(t.get("code")?t.get("code"):"")+" "+(t.get("name")?t.get("name"):""),dropdownRender:function(t){return m.default.createElement("div",null,t,m.default.createElement(u.default,{style:{margin:"4px 0"}}),m.default.createElement("div",{style:{padding:"8px",cursor:"pointer"},onMouseDown:function(){a(M.initStockCard(x,function(){e.setState({showModalStock:!0})}))}},m.default.createElement(l.default,{type:"plus"})," 新增存货"))},onChange:function(e){var r=e.split(p.TREE_JOIN_STR),l=r[0],u=r[1],i=r[2],o=t.get("amount");a(M.changeLrAccountCommonString("card",[k,"stockCardList",n],(0,b.fromJS)({uuid:l,name:i,code:u,amount:o}))),Q&&a(M.changeLrAccountCommonString("card",[k,"carryoverCardList",n],(0,b.fromJS)({uuid:l,name:i,code:u})))}},Tt.map(function(e,t){return m.default.createElement(B,{key:t,value:""+e.get("uuid")+p.TREE_JOIN_STR+e.get("code")+p.TREE_JOIN_STR+e.get("name")},e.get("code")+" "+e.get("name"))})),m.default.createElement("div",{className:"chosen-word",onClick:function(){a(M.getCardList("stock",ee,At,"showContactsModal")),a(M.changeLrAccountCommonString("",["flags","currentCardType"],"stock")),e.setState({index:n,curAmount:t.get("amount")})}},"选择")),m.default.createElement("span",{className:"icon-content"},m.default.createElement("span",{className:"icon-plus-margin"},m.default.createElement(E.default,{type:"simple-plus",theme:"outlined",onClick:function(){a(M.addStock(ht,n,k)),"SX_HW"===$&&1===ht.size&&a(M.changeLrAccountCommonString("card",[k,"stockCardList",0,"amount"],re)),Q&&a(M.addCarryStock(vt,n,k))}})),ht.size>1?m.default.createElement("span",{className:"icon-plus-margin",style:{fontSize:"14px"}},m.default.createElement(E.default,{type:"sob-delete",theme:"outlined",onClick:function(){a(M.deleteStock(ht,n,ie,k)),Q&&a(M.deleteCarryStock(vt,n,k))}})):"")),ht.size>1?m.default.createElement("div",{className:"accountConf-modal-list-item"},m.default.createElement("label",null,"金额："),m.default.createElement(i.default,{value:t.get("amount"),onChange:function(e){Zt(e,function(e){a(M.changeLrAccountCommonString("card",[k,"stockCardList",n,"amount"],e)),a(M.autoCalculateStockAmount(k)),ie&&a(M.changeAccountTaxRate())})}})):"")}),m.default.createElement("div",{style:{display:"STATE_SF_JN"===ee&&"SX_ZZS"===Ve?"":"none"}},m.default.createElement("div",{className:"accountConf-separator"}),m.default.createElement("div",{className:"accountConf-modal-list-item"},m.default.createElement("div",{className:"input-right-amount"},m.default.createElement("span",{style:{margin:0}},"处理税费：",m.default.createElement(C.Amount,null,(Number(Ce)+Number(Ee)+(Dt&&Gt?Number(Gt):0)).toFixed(2))))),"LB_SFZC"===Z&&"SX_ZZS"===Ve&&"STATE_SF_JN"===ee?m.default.createElement(A.default,{preAmount:n.get("preAmount"),payableAmount:n.get("payableAmount"),direction:x,dispatch:a,accountNameList:Ie,accountNameAc:Ne,cardTemp:n,runningDate:ae,categoryUuid:Ge,categoryType:Z,acId:Ne.getIn([0,"acId"]),runningState:ee,propertyTax:Ve,isYfsf:!0,taxAmount:le,flags:P}):null,m.default.createElement("div",{className:"accountConf-modal-list-item",style:{display:"LB_SFZC"===Z&&"STATE_SF_JN"===ee&&(Ze||n.get("preAmount")>0||Ce>0)?"":"none"}},m.default.createElement("label",null,"预交抵扣金额："),m.default.createElement("div",{style:{display:"flex"}},st?m.default.createElement("div",null,Ce?Ce.toFixed(2):"0.00"):m.default.createElement(i.default,{style:{flex:1},value:Ce,onChange:function(e){Zt(e,function(e){return a(M.changeLrAccountCommonString("card","offsetAmount",e))})}}),"LB_SFZC"===Z&&"SX_ZZS"===Ve&&"STATE_SF_JN"===ee?m.default.createElement(A.default,{preAmount:n.get("preAmount"),payableAmount:n.get("payableAmount"),direction:x,dispatch:a,accountNameList:De,accountNameAc:he,cardTemp:n,runningDate:ae,categoryUuid:Ge,categoryType:Z,acId:he.getIn([0,"acId"]),runningState:ee,propertyTax:Ve,flags:P}):null))),"STATE_YYSR_DJ"===ee||"STATE_YYZC_DJ"===ee||"STATE_FY_DJ"===ee||"STATE_SF_SFJM"===ee||"STATE_XC_FF"===ee&&("STATE_XC_FF"!=ee||Ut||Pt||Ft)||"STATE_XC_JN"===ee&&("STATE_XC_JN"!==ee||Ut||Pt||Ft)||"LX_JZSY_SY"===ce||"LX_JZSY_SS"===ce||dt?null:m.default.createElement("div",{className:"accountConf-modal-list-item"},m.default.createElement("label",null,Jt),m.default.createElement("div",null,st||Nt&&Lt&&yt.size>1||"SX_HW"===$&&ht.size>1?m.default.createElement("div",null,"SX_ZZS"===Ve&&"STATE_SF_JN"===ee?Number(Ee).toFixed(2):Number(re).toFixed(2)):m.default.createElement(i.default,{placeholder:"",value:"SX_ZZS"===Ve&&"STATE_SF_JN"===ee?Ee:Bt||"STATE_ZF_SH"!==ee?re:0,disabled:"XZ_CZZC"===oe&&rt&&ye&&it&&it.size,onChange:function(e){if(Bt||"STATE_ZF_SH"!==ee){if(void 0===e.target.value)return;var t=e.target.value.indexOf("。")>-1?e.target.value.replace("。","."):e.target.value;0===t.indexOf("0")&&"0"!=t&&t>=1&&(t=t.substr(1)),"LB_FYZC"===Z?Yt.test(t)||""===t?a(M.changeLrAccountCommonString("card","SX_ZZS"===Ve&&"STATE_SF_JN"===ee?"handleAmount":"amount",t)):s.default.info("金额只能输入带两位小数的数字"):wt.test(t)||""===t?a(M.changeLrAccountCommonString("card","SX_ZZS"===Ve&&"STATE_SF_JN"===ee?"handleAmount":"amount",t)):s.default.info("金额只能输入带两位小数的数字"),"XZ_CZZC"===oe&&it&&it.size,ie&&a(M.changeAccountTaxRate()),"LB_CQZC"===Z&&q&&a(M.calculateGain())}else s.default.info("请先勾选待处理流水")}}),"LB_XCZC"!==Z||"SX_GZXJ"!==K&&"SX_SHBX"!==K&&"SX_ZFGJJ"!==K||"STATE_XC_JN"!==ee&&"STATE_XC_FF"!==ee||Ut||!Je?null:m.default.createElement(A.default,{preAmount:n.get("preAmount"),payableAmount:n.get("payableAmount"),direction:x,dispatch:a,accountNameList:we,accountNameAc:Ye,cardTemp:n,runningDate:ae,categoryUuid:Ge,categoryType:Z,acId:Ye.getIn([0,"acId"]),runningState:ee,accruedState:"XCZC",flags:P}),"LB_SFZC"!==Z||"SX_QTSF"!==Ve&&"SX_QYSDS"!==Ve||"STATE_SF_JN"!==ee||!Je?null:m.default.createElement(A.default,{preAmount:n.get("preAmount"),payableAmount:n.get("payableAmount"),direction:x,dispatch:a,accountNameList:we,accountNameAc:Ye,cardTemp:n,runningDate:ae,categoryUuid:Ge,categoryType:Z,acId:Ye.getIn([0,"acId"]),runningState:ee,propertyTax:Ve,sfAmount:at,flags:P,accruedState:"QTSF"}),"LB_SFZC"===Z&&"SX_GRSF"===Ve&&"STATE_SF_JN"===ee?m.default.createElement(A.default,{preAmount:n.get("preAmount"),payableAmount:n.get("payableAmount"),direction:x,dispatch:a,accountNameList:Ie,accountNameAc:Ne,cardTemp:n,runningDate:ae,categoryUuid:Ge,categoryType:Z,acId:Ne.getIn([0,"acId"]),runningState:ee,propertyTax:Ve,sfAmount:at,flags:P}):null,"LB_SFZC"===Z&&"STATE_SF_ZCWJSF"===ee&&We?m.default.createElement(A.default,{preAmount:n.get("preAmount"),payableAmount:n.get("payableAmount"),direction:x,dispatch:a,accountNameList:ze,accountNameAc:He,cardTemp:n,runningDate:ae,categoryUuid:Ge,categoryType:Z,acId:He.getIn([0,"acId"]),runningState:ee,flags:P}):null,"STATE_ZS_TH"===ee||"STATE_ZF_SH"===ee?m.default.createElement(A.default,{preAmount:n.get("preAmount"),payableAmount:"",direction:x,dispatch:a,accountNameList:[],accountNameAc:[],cardTemp:n,runningDate:ae,categoryUuid:Ge,categoryType:Z,acId:"",runningState:ee,propertyPay:K,accumulationAmount:tt,fundOrSocialSecurity:"fund",flags:P}):null,"LB_ZB"===Z&&"STATE_ZB_ZFLR"===ee&&Je?m.default.createElement(A.default,{preAmount:n.get("preAmount"),payableAmount:n.get("payableAmount"),direction:x,dispatch:a,accountNameList:Pe,accountNameAc:ke,cardTemp:n,runningDate:ae,categoryUuid:Ge,categoryType:Z,acId:ke.getIn([0,"acId"]),runningState:ee,flags:P}):null,"LB_JK"===Z&&"STATE_JK_ZFLX"===ee&&Je?m.default.createElement(A.default,{preAmount:n.get("preAmount"),payableAmount:n.get("payableAmount"),direction:x,dispatch:a,accountNameList:Fe,accountNameAc:xe,cardTemp:n,runningDate:ae,categoryUuid:Ge,categoryType:Z,acId:xe.getIn([0,"acId"]),runningState:ee,flags:P}):null,"LB_TZ"===Z&&"STATE_TZ_SRLX"===ee&&Je?m.default.createElement(A.default,{preAmount:n.get("preAmount"),payableAmount:n.get("payableAmount"),direction:x,dispatch:a,accountNameList:Be,accountNameAc:Ke,cardTemp:n,runningDate:ae,categoryUuid:Ge,categoryType:Z,acId:Ke.getIn([0,"acId"]),runningState:ee,flags:P}):null,"LB_TZ"===Z&&"STATE_TZ_SRGL"===ee&&Je?m.default.createElement(A.default,{preAmount:n.get("preAmount"),payableAmount:n.get("payableAmount"),direction:x,dispatch:a,accountNameList:je,accountNameAc:Xe,cardTemp:n,runningDate:ae,categoryUuid:Ge,categoryType:Z,acId:Xe.getIn([0,"acId"]),runningState:ee,flags:P}):null)),!V||"STATE_YYSR_DJ"!==ee&&"STATE_YYZC_DJ"!==ee&&"STATE_FY_DJ"!==ee?null:m.default.createElement("div",null,m.default.createElement("div",{className:"accountConf-modal-list-item"},m.default.createElement("label",null,"预"+("debit"===x?"收":"付")+"金额："),m.default.createElement("div",null,m.default.createElement(i.default,{value:re,onChange:function(e){Zt(e,function(e){return a(M.changeLrAccountCommonString("card","amount",e))})}})))),rt?null:m.default.createElement("div",null,m.default.createElement("div",{style:{display:ee&&"STATE_YYSR_DJ"!==ee&&"STATE_YYZC_DJ"!==ee&&te&&("LB_YYZC"===Z||"LB_YYSR"===Z)?"":"none"}},m.default.createElement("div",{className:"accountConf-separator"}),"LB_YYSR"!==Z&&"LB_YYZC"!==Z||"STATE_YYSR_DJ"===ee||"STATE_YYZC_DJ"===ee||!te?null:m.default.createElement(A.default,{preAmount:n.get("preAmount"),payableAmount:n.get("payableAmount"),direction:x,dispatch:a,accountNameList:"debit"===x?Me:Ue,accountNameAc:"debit"===x?Re:Le,cardTemp:n,runningDate:ae,categoryUuid:Ge,categoryType:Z,acId:Ot?Ot.get("uuid"):"",runningState:ee,flags:P,categoryTypeObj:k}),"STATE_YYSR_XS"!==ee&&"STATE_YYZC_GJ"!==ee||!Qe?null:m.default.createElement("div",{className:"accountConf-modal-list-item"},m.default.createElement("label",null,"预"+("debit"===x?"收":"付")+"抵扣："),m.default.createElement("div",null,m.default.createElement(i.default,{value:Ce,onChange:function(e){Zt(e,function(e){return a(M.changeLrAccountCommonString("card","offsetAmount",e))})}}))),("STATE_YYSR_TS"===ee||"STATE_YYZC_TG"===ee)&&qe>0?m.default.createElement("div",{className:"accountConf-modal-list-item"},m.default.createElement("label",null,"应"+("debit"===x?"收":"付")+"款抵扣："),m.default.createElement("div",null,m.default.createElement(i.default,{value:Ce,onChange:function(e){Zt(e,function(e){return a(M.changeLrAccountCommonString("card","offsetAmount",e))})}}))):null,m.default.createElement("div",{className:"accountConf-modal-list-item"},m.default.createElement("label",null,"本次"+("STATE_YYSR_TS"===ee||"STATE_YYZC_GJ"===ee?"付":"收")+"款："),m.default.createElement("div",null,m.default.createElement(i.default,{className:"yysr-focus-input",onFocus:function(){var e="STATE_YYSR_XS"===ee||"STATE_YYSR_TS"===ee||"STATE_YYZC_GJ"===ee||"STATE_YYZC_TG"===ee?re-Ce:re;a(M.changeLrAccountCommonString("card","currentAmount",e)),setTimeout(function(){document.getElementsByClassName("yysr-focus-input")[0].select()},1)},value:Se,onChange:function(e){Zt(e,function(e){return a(M.changeLrAccountCommonString("card","currentAmount",e))})}}))),("LB_YYSR"===Z||"LB_YYZC"===Z)&&"STATE_YYSR_DJ"!==ee&&"STATE_YYZC_DJ"!==ee&&Se>0?m.default.createElement("div",{className:"accountConf-modal-list-item"},m.default.createElement("label",null,"账户："),m.default.createElement("div",{className:"lrls-account-box"},m.default.createElement(d.default,{combobox:!0,showSearch:!0,value:n.get("accountName")?n.get("accountName"):"",dropdownRender:function(e){return m.default.createElement("div",null,e,m.default.createElement(u.default,{style:{margin:"4px 0"}}),m.default.createElement("div",{style:{padding:"8px",cursor:"pointer"},onMouseDown:function(){a(M.changeLrAccountCommonString("",["flags","showAccountModal"],!0)),a(G.beforeInsertAccountConf("account","","fromLrAccount"))}},m.default.createElement(l.default,{type:"plus"})," 新增账户"))},onSelect:function(e){a(M.changeLrAccountAccountName("card","accountUuid","accountName",e))}},f.getIn([0,"childList"]).map(function(e,t){return m.default.createElement(B,{key:t,value:""+e.get("uuid")+p.TREE_JOIN_STR+e.get("name")},e.get("name"))})))):null)),("LB_YYSR"===Z||"LB_YYZC"===Z)&&"STATE_YYSR_DJ"!==ee&&"STATE_YYZC_DJ"!==ee&&rt&&ft?m.default.createElement("div",{className:"accountConf-modal-list-item"},m.default.createElement("label",null,"账户："),m.default.createElement("div",{className:"lrls-account-box"},m.default.createElement(d.default,{combobox:!0,showSearch:!0,value:n.get("accountName")?n.get("accountName"):"",dropdownRender:function(e){return m.default.createElement("div",null,e,m.default.createElement(u.default,{style:{margin:"4px 0"}}),m.default.createElement("div",{style:{padding:"8px",cursor:"pointer"},onMouseDown:function(){a(M.changeLrAccountCommonString("",["flags","showAccountModal"],!0)),a(G.beforeInsertAccountConf("account","","fromLrAccount"))}},m.default.createElement(l.default,{type:"plus"})," 新增账户"))},onSelect:function(e){a(M.changeLrAccountAccountName("card","accountUuid","accountName",e))}},f.getIn([0,"childList"]).map(function(e,t){return m.default.createElement(B,{key:t,value:""+e.get("uuid")+p.TREE_JOIN_STR+e.get("name")},e.get("name"))})))):null,m.default.createElement("div",{style:{display:"LB_XCZC"===Z&&("STATE_XC_FF"===ee||"STATE_XC_JN"===ee)&&(Ut||Ft||Pt)&&Je?"":"none"}},m.default.createElement("div",{className:"accountConf-separator"}),m.default.createElement("div",{className:"accountConf-modal-list-item",style:{display:"SX_GZXJ"===K&&(Ut||Ft||Pt)?"":"none"}},m.default.createElement("label",null,"工资薪金："),m.default.createElement("div",null,st||Lt&&yt.size>1?m.default.createElement("div",null,re):m.default.createElement(i.default,{value:re,onChange:function(e){Zt(e,function(e){a(M.changeLrAccountCommonString("card","amount",e)),a(M.autoCalculateAmount())})}}),"LB_XCZC"!==Z||"SX_FLF"===K||!Je||"STATE_XC_FF"!==ee&&"STATE_XC_JN"!==ee?null:m.default.createElement(A.default,{preAmount:n.get("preAmount"),payableAmount:n.get("payableAmount"),direction:x,dispatch:a,accountNameList:we,accountNameAc:Ye,cardTemp:n,runningDate:ae,categoryUuid:Ge,categoryType:Z,acId:Ye.getIn([0,"acId"]),runningState:ee,accruedState:"XCZC",flags:P}))),m.default.createElement("div",{className:"accountConf-modal-list-item",style:{display:"SX_SHBX"===K&&Pt?"":"none"}},m.default.createElement("label",{className:"large-width-label",style:st?{}:{width:"167px"}},"社会保险(公司部分)："),m.default.createElement("div",null,st?m.default.createElement("div",null,ge):m.default.createElement(i.default,{value:ge,onChange:function(e){Zt(e,function(e){a(M.changeAccountSalary("companySocialSecurityAmount",e)),a(M.autoCalculateAmount())})}}))),m.default.createElement("div",{className:"accountConf-modal-list-item",style:{display:"SX_SHBX"!==K&&"SX_GZXJ"!==K||"STATE_XC_JT"===ee||!Pt?"none":""}},m.default.createElement("span",{style:{display:st?"none":"",marginRight:"10px"}},m.default.createElement(r.default,{checked:P.get("personSocialSecurityAmountchecked"),onChange:function(e){a(M.changeAccountSalaryCheckbox("personSocialSecurityAmount","personSocialSecurityAmountchecked",e.target.checked)),a(M.autoCalculateAmount())}})),m.default.createElement("label",{className:"large-width-label"},("SX_SHBX"===K?"代缴":"代扣")+"社会保险(个人部分)："),m.default.createElement("div",null,st?m.default.createElement("div",null,me):m.default.createElement(i.default,{disabled:!P.get("personSocialSecurityAmountchecked"),value:me,onChange:function(e){Zt(e,function(e){a(M.changeAccountSalary("personSocialSecurityAmount",e)),a(M.autoCalculateAmount())})}}),"LB_XCZC"!==Z||"SX_GZXJ"!==K||!Pt||"STATE_XC_FF"!==ee&&"STATE_XC_JN"!==ee?null:m.default.createElement(A.default,{preAmount:n.get("preAmount"),payableAmount:n.get("payableAmount"),direction:x,dispatch:a,accountNameList:et,accountNameAc:Te,cardTemp:n,runningDate:ae,categoryUuid:Ge,categoryType:Z,acId:Te.getIn([0,"acId"]),runningState:ee,propertyPay:K,fundOrSocialSecurity:"socialSecurity",socialSecurityAmount:nt,flags:P}))),m.default.createElement("div",{className:"accountConf-modal-list-item",style:{display:"SX_ZFGJJ"===K&&Ut?"":"none"}},m.default.createElement("label",{className:"large-width-label",style:st?{}:{width:"167px"}},"公积金(公司部分)："),m.default.createElement("div",null,st?m.default.createElement("div",null,de):m.default.createElement(i.default,{value:de,onChange:function(e){Zt(e,function(e){a(M.changeAccountSalary("companyAccumulationAmount",e)),a(M.autoCalculateAmount())})}}))),"SX_ZFGJJ"!==K&&"SX_GZXJ"!==K||!Ut?null:m.default.createElement("div",{className:"accountConf-modal-list-item"},m.default.createElement("span",{style:{display:st?"none":"",marginRight:"10px"}},m.default.createElement(r.default,{checked:P.get("personAccumulationAmountchecked"),onChange:function(e){a(M.changeAccountSalaryCheckbox("personAccumulationAmount","personAccumulationAmountchecked",e.target.checked)),a(M.autoCalculateAmount())}})),m.default.createElement("label",{className:"large-width-label"},("SX_ZFGJJ"===K?"代缴":"代扣")+"公积金(个人部分)："),m.default.createElement("div",null,st?m.default.createElement("div",null,fe):m.default.createElement(i.default,{disabled:!P.get("personAccumulationAmountchecked"),value:fe,onChange:function(e){Zt(e,function(e){a(M.changeAccountSalary("personAccumulationAmount",e)),a(M.autoCalculateAmount())})}}),"LB_XCZC"!==Z||"SX_GZXJ"!==K||!Ut||"STATE_XC_FF"!==ee&&"STATE_XC_JN"!==ee?null:m.default.createElement(A.default,{preAmount:n.get("preAmount"),payableAmount:n.get("payableAmount"),direction:x,dispatch:a,accountNameList:$e,accountNameAc:pe,cardTemp:n,runningDate:ae,categoryUuid:Ge,categoryType:Z,acId:pe.getIn([0,"acId"]),runningState:ee,propertyPay:K,accumulationAmount:tt,fundOrSocialSecurity:"fund",flags:P}))),m.default.createElement("div",{className:"accountConf-modal-list-item",style:{display:"SX_SHBX"!==K&&"SX_GZXJ"!==K||"STATE_XC_JT"===ee||!Ft?"none":""}},m.default.createElement("span",{style:{display:st?"none":"",marginRight:"10px"}},m.default.createElement(r.default,{checked:P.get("incomeTaxAmountchecked"),onChange:function(e){a(M.changeAccountSalaryCheckbox("incomeTaxAmount","incomeTaxAmountchecked",e.target.checked)),a(M.autoCalculateAmount())}})),m.default.createElement("label",{className:"large-width-label"}," ",("SX_GZXJ"===K?"代扣":"代缴")+"个人所得税："),m.default.createElement("div",null,st?m.default.createElement("div",null,_e):m.default.createElement(i.default,{disabled:!P.get("incomeTaxAmountchecked"),value:_e,onChange:function(e){Zt(e,function(e){a(M.changeAccountSalary("incomeTaxAmount",e)),a(M.autoCalculateAmount())})}}))),"SX_QTXC"!==K&&"SX_FLF"!==K?m.default.createElement("div",{className:"accountConf-modal-list-item"},m.default.createElement("label",null,"实际支付金额："),m.default.createElement("div",null,(0,y.formatMoney)(Mt,2,""))):null),function(e,t,n,a,r,l,u){return!!("LB_YYSR"===e&&!t||"LB_YYZC"===e&&!t||"STATE_YYSR_DJ"===a||"STATE_YYZC_DJ"===a||"LB_ZZ"!==e&&"STATE_FY_WF"!==a&&"STATE_CQZC_WS"!==a&&"STATE_XC_JT"!==a&&("STATE_XC_FF"===a&&Je&&(Mt>0||"SX_QTXC"===u)||!Je||"STATE_XC_FF"!==a)&&"STATE_YYWSR_WS"!==a&&"STATE_YYWZC_WF"!==a&&"STATE_CQZC_WF"!==a&&"STATE_ZB_LRFP"!==a&&"LB_YYSR"!==e&&"LB_YYZC"!==e&&"STATE_SF_JT"!==a&&"STATE_SF_ZCWJSF"!==a&&"STATE_JK_JTLX"!==a&&"STATE_TZ_JTGL"!==a&&"STATE_TZ_JTLX"!==a&&"STATE_TZ_WS"!==a&&"LX_JZSY_SY"!==ce&&"LX_JZSY_SS"!==ce&&"XZ_ZJTX"!==oe&&!dt)}(Z,te,0,ee,0,0,K)?m.default.createElement("div",{className:"accountConf-modal-list-item"},m.default.createElement("label",null,"账户："),m.default.createElement("div",null,st?m.default.createElement("div",null,ue||"无"):m.default.createElement("div",{className:"lrls-account-box"},m.default.createElement(d.default,{combobox:!0,showSearch:!0,value:n.get("accountName")?n.get("accountName"):"",dropdownRender:function(e){return m.default.createElement("div",null,e,m.default.createElement(u.default,{style:{margin:"4px 0"}}),m.default.createElement("div",{style:{padding:"8px",cursor:"pointer"},onMouseDown:function(){a(M.changeLrAccountCommonString("",["flags","showAccountModal"],!0)),a(G.beforeInsertAccountConf("account","","fromLrAccount"))}},m.default.createElement(l.default,{type:"plus"})," 新增账户"))},onSelect:function(e){var t=e.split(p.TREE_JOIN_STR)[0];if(t.indexOf("addCard")>-1)a(M.changeLrAccountCommonString("",["flags","showAccountModal"],!0)),a(G.beforeInsertAccountConf("account","","fromLrAccount"));else{if(t.indexOf("test")>-1)return;a(M.changeLrAccountAccountName("card","accountUuid","accountName",e))}}},f.getIn([0,"childList"]).map(function(e,t){return m.default.createElement(B,{key:t,value:""+e.get("uuid")+p.TREE_JOIN_STR+e.get("name")},e.get("name"))}))))):null,Rt?m.default.createElement("div",{className:"accountConf-modal-list-item",style:{display:"STATE_SF_JN"!==ee||st?"none":""}},m.default.createElement("span",{style:{marginRight:"10px"}},m.default.createElement(r.default,{checked:Dt,onChange:function(e){a(M.changeLrAccountCommonString("card","beReduce",!Dt))}})),m.default.createElement("label",{className:"large-width-label"},"税费减免")):"",Rt&&Dt&&"STATE_SF_JN"===ee?m.default.createElement("div",{className:"accountConf-modal-list-item"},m.default.createElement("label",null,"减免金额："),st?m.default.createElement("div",null,Gt?Gt.toFixed(2):"0.00"):m.default.createElement(i.default,{value:Gt,onChange:function(e){Zt(e,function(e){a(M.changeLrAccountCommonString("card","reduceAmount",e))})}})):"",m.default.createElement(L.default,{dispatch:a,flags:P,cardTemp:n,taxRateTemp:g,allState:w}),m.default.createElement(h.default,{dispatch:a,flags:P,cardTemp:n,taxRateTemp:g,allState:w,callback:function(){e.setState({index:0})}}),m.default.createElement(I.default,{showContactsModal:gt,MemberList:mt,thingsList:_t,selectThingsList:Ct,dispatch:a,currentCardType:Et,modalName:"showContactsModal",palceTemp:"card",runningState:ee,categoryTypeObj:k,contactsRange:bt,stockRange:At,selectedKeys:lt,projectRange:It,index:this.state.index,curAmount:this.state.curAmount}),"STATE_YYSR_XS"!==ee&&"STATE_YYSR_TS"!==ee&&"STATE_YYZC_TG"!==ee&&"STATE_YYZC_GJ"!==ee||"SX_HW"!==$?"":m.default.createElement(O.default,{showModal:this.state.showModalStock,closeModal:function(){return e.setState({showModalStock:!1})},lrAclist:H,dispatch:a,lrAccountState:F,simplifyStatus:J,stockRange:At}))}}]),t}())||a)||a;t.default=w},2539:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=T(n(14)),l=T(n(61)),u=T(n(100)),i=T(n(171)),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(78),n(79),n(99),n(170);var c=T(n(1)),s=n(17),d=n(18),f=_(n(1229)),g=_(n(27)),m=_(n(60));function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function T(e){return e&&e.__esModule?e:{default:e}}var p=i.default.TreeNode,C=u.default.Search,E=(0,s.immutableRenderDecorator)(a=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.onExpand=function(t){e.setState({expandedKeys:t,autoExpandParent:!1})},e.onChange=function(t,n,a){var r=[];n.map(function(e){e.key.indexOf(t)>-1&&r.push(e.value)});var l=r;e.setState({expandedKeys:l,searchValue:t,autoExpandParent:!0})},e.state={expandedKeys:[],searchValue:"",autoExpandParent:!0},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.default.Component),o(t,[{key:"componentDidMount",value:function(){this.setState({expandedKeys:this.props.category.getIn([0,"childList"]).toJS().filter(function(e){return"LB_YYSR"===e.categoryType||"LB_YYZC"===e.categoryType||"LB_FYZC"===e.categoryType}).map(function(e){return e.uuid})})}},{key:"componentWillReceiveProps",value:function(e){!(0,d.is)(e.category.getIn([0,"childList"]),this.props.category.getIn([0,"childList"]))&&e.category.getIn([0,"childList"])&&e.category.getIn([0,"childList"]).size&&this.setState({expandedKeys:e.category.getIn([0,"childList"]).toJS().filter(function(e){return"LB_YYSR"===e.categoryType||"LB_YYZC"===e.categoryType||"LB_FYZC"===e.categoryType}).map(function(e){return e.uuid})})}},{key:"render",value:function(){var e=this,t=this.props,n=t.category,a=t.onSelect,u=t.selectedKeys,o=t.flags,s=t.dispatch,d=t.hideCategoryList,_=t.disabledChangeCategory,T=t.cardTemp,E=(t.className,t.homeState),S=this.state,A=S.searchValue,y=S.expandedKeys,N=S.autoExpandParent,I=E.getIn(["permissionInfo","Config","edit","permission"]),L=o.get("PageTab"),h=o.get("accountType"),v=o.get("paymentType"),O=(o.get("modify")||"single"===h)&&("LB_SFGL"===v||"LB_GGFYFT"===v||"LB_JZSY"===v),b=(o.get("isQueryByBusiness"),o.get("specialStateforAssets")),R=o.get("runningInsertOrModify"),M=(T.get("handleAmount"),[]),D=function e(t,n,a,r,u,i){return t.map(function(t,o){var s=(""+t.remark+g.TREE_JOIN_STR+t.name+g.TREE_JOIN_STR+t.runningAbstract).indexOf(A)>-1&&""!=A?c.default.createElement("span",{style:{color:"#f50"}},t.name):c.default.createElement("span",null,t.name);return t.childList.length?(i.push({key:""+t.remark+g.TREE_JOIN_STR+t.name+g.TREE_JOIN_STR+t.runningAbstract,value:""+t.uuid+g.TREE_JOIN_STR+t.name+g.TREE_JOIN_STR+"hasChild"+g.TREE_JOIN_STR+"'cantClick'"}),c.default.createElement(p,{key:t.uuid,title:c.default.createElement("div",{className:"tree-icon-title"},1===t.level?"":c.default.createElement("span",null,c.default.createElement(l.default,{placement:"left",title:t.remark},c.default.createElement("span",{className:"icon-tips"},"?"))),s),disabled:1===u&&!t.childList.length&&!t.beSpecial},e(t.childList,n,a,r,u+1,i))):(i.push({key:""+t.remark+g.TREE_JOIN_STR+t.name+g.TREE_JOIN_STR+t.runningAbstract,value:""+t.uuid+g.TREE_JOIN_STR+t.name+g.TREE_JOIN_STR+"hasnoChild"+g.TREE_JOIN_STR+(u>1||t.beSpecial?"canClick":"cantClick")}),1!==t.level||t.beSpecial?c.default.createElement(p,{key:""+t.uuid+g.TREE_JOIN_STR+t.name+g.TREE_JOIN_STR+"hasnoChild"+g.TREE_JOIN_STR+(u>1||t.beSpecial?"canClick":"cantClick"),title:c.default.createElement("div",{className:"tree-icon-title"},1===t.level?"":c.default.createElement("span",null,c.default.createElement(l.default,{placement:"left",title:t.remark},c.default.createElement("span",{className:"icon-tips"},"?"))),s),checkable:!0,disabled:"modify"===a||r||1===t.level&&!t.childList.length&&!t.beSpecial,className:!t.childList.length&&t.disableList.length?"block-hidden":""}):"")})}(n.getIn([0,"childList"]).toJS(),["全部"],R,b,1,M);return c.default.createElement("div",null,c.default.createElement("div",{style:{display:"business"===L?"":"none"}},c.default.createElement("div",{className:"tree-title-handle"},c.default.createElement(C,{className:"lrls-search-tree",placeholder:"搜索",onSearch:function(t){return e.onChange(t,M,n.getIn([0,"childList"]).toJS())}}),c.default.createElement(r.default,{type:"setting",className:"lrls-setting-icon",title:"流水设置",style:{color:I?"":"#eee"},onClick:function(){I&&(s(m.addPageTabPane("ConfigPanes","Running","Running","流水设置")),s(m.addHomeTabpane("Config","Running","流水设置")))}})),c.default.createElement(i.default,{onExpand:this.onExpand,expandedKeys:y,autoExpandParent:N,defaultExpandParent:!0,onSelect:function(t){return a(t,e,y)},selectedKeys:u},D)),c.default.createElement("div",{style:{display:"business"===L?"none":""}},c.default.createElement(i.default,{onSelect:function(e){if(e[0]){var t=e[0].split(g.TREE_JOIN_STR);s(f.changeLrAccountCommonString("",["flags","paymentType"],t[0])),s(f.changeLrAccountCommonString("",["flags","paymentUuid"],t[1]))}},selectedKeys:[v]},d&&d.size?d.map(function(e){return c.default.createElement(p,{key:""+e.get("categoryType"),title:e.get("name"),disabled:v!==e.get("categoryType")&&_||O})}):null)))}}]),t}())||a;t.default=E},2540:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=g(n(1234)),l=g(n(45)),u=g(n(89)),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(1235),n(55),n(88);var o=g(n(1)),c=n(17),s=(n(56),f(n(27)),n(127),g(n(1419)),g(n(1420)),g(n(1745)),g(n(1421)),g(n(1746)),n(22),n(18)),d=f(n(1229));function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function g(e){return e&&e.__esModule?e:{default:e}}u.default.Group;var m=l.default.Option,_=(0,c.immutableRenderDecorator)(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),i(t,[{key:"render",value:function(){var e=this.props,t=e.dispatch,n=e.flags,a=e.cardTemp,u=e.taxRateTemp,i=e.allState,c=a.get("runningState"),f=a.get("categoryType"),g=(a.get("propertyCost"),a.get("scale")),_=void 0,T="debit";(({LB_YYSR:function(){!0,"营业收入",_="acBusinessIncome"},LB_YYZC:function(){!0,"营业支出",_="acBusinessExpense",T="credit"},LB_YYWSR:function(){!0,"营业外收入",_="acBusinessOutIncome",!0,T="debit"},LB_YYWZC:function(){!0,"营业外支出",_="acBusinessOutExpense",T="credit",!0,T="credit"},LB_JK:function(){!0,"借款",_="acLoan",!0},LB_TZ:function(){!0,"投资",_="acInvest",!0},LB_ZB:function(){!0,"资本",_="acCapital",!0},LB_CQZC:function(){!0,"长期资产",_="acAssets",T="debit"},LB_FYZC:function(){!0,"费用支出",_="acCost",T="credit"},LB_ZSKX:function(){!1,"暂收款项",_="acTemporaryReceipt",!0},LB_ZFKX:function(){!1,"暂付款项",_="acTemporaryPay",!0},LB_XCZC:function(){!1,"薪酬支出",_="acPayment",T="credit",!0},LB_SFZC:function(){!1,"税费支出",_="acTax",T="credit",!0}})[f]||function(){return""})();i.get("allasscategorylist"),n.get("specialStateforAccrued");var p=a.get("billList")?a.get("billList"):(0,s.fromJS)([]),C=n.get("specialStateforAssets"),E=(u.get("payableAssCategory"),u.get("notBillingAssCategory"),u.get("notBillingAcId")),S=u.get("outputAcId"),A=(a.get("payableRate"),u.get("outputAssCategory"),u.get("waitOutputAcId")),y=(u.get("waitOutputAssCategory"),u.get("inputAcId")),N=u.get("payableAcId"),I=(u.get("inputAssCategory"),u.get("certifiedAcId")),L=(u.get("certifiedAssCategory"),a.get("taxRate")),h=n.get("isQueryByBusiness"),v=a.get("runningType"),O=a.get("billType"),b=a.get("billStates"),R=a.get("amount"),M=a.get("beCheck"),D=a.get("assetType"),G=a.get("businessList"),U=a.getIn([_,"beCleaning"]),P="debit"===T&&"XZ_GJZC"!==D?({"":function(){return""},bill_common:function(){return"发票"},bill_other:function(){return"其他票据"}}[O]||function(){return""})():({"":function(){return""},bill_special:function(){return"增值税专用发票"},bill_other:function(){return"其他票据"}}[O]||function(){return""})(),F=void 0;F="general"===g?[{value:"2",key:"2%"},{value:"3",key:"3%"},{value:"4",key:"4%"},{value:"5",key:"5%"},{value:"6",key:"6%"},{value:"9",key:"9%"},{value:"10",key:"10%"},{value:"11",key:"11%"},{value:"12",key:"12%"},{value:"13",key:"13%"},{value:"16",key:"16%"},{value:"17",key:"17%"}]:[{value:"2",key:"2%"},{value:"3",key:"3%"},{value:"5",key:"5%"}];var B="debit"===T&&"XZ_GJZC"!==D?[{value:"发票",key:"bill_common"},{value:"其他票据",key:"bill_other"}]:[{value:"增值税专用发票",key:"bill_special"},{value:"其他票据",key:"bill_other"}];return o.default.createElement("div",null,c&&"STATE_YYSR_DJ"!=c&&"STATE_YYZC_DJ"!=c&&"STATE_FY_DJ"!=c&&"LB_XCZC"!=f&&"LB_SFZC"!=f&&"LB_ZSKX"!=f&&"LB_ZFKX"!=f&&"LB_ZZ"!=f&&"LB_ZB"!=f&&"LB_JK"!=f&&"LB_TZ"!=f&&("small"!==g||"debit"===T&&"XZ_GJZC"!==D)&&("LB_CQZC"!==f||"LB_CQZC"===f&&""!==D)&&"LB_YYWSR"!==f&&"LB_YYWZC"!==f&&"LX_JZSY_SS"!==v&&"LX_JZSY_SY"!==v&&"XZ_ZJTX"!==D&&!C?o.default.createElement("div",null,o.default.createElement("div",{className:"accountConf-separator"}),"small"==g||"general"==g?o.default.createElement("div",{className:"accountConf-modal-list-item"},o.default.createElement("label",null,"票据类型："),o.default.createElement("div",null,o.default.createElement(l.default,{disabled:h&&p.size||"XZ_CZZC"===D&&h&&U&&G&&G.size,value:P,onChange:function(e){t(d.changeLrAccountCommonString("card","billType",e)),"small"===g?"LB_CQZC"===f?"XZ_CZZC"===D&&"bill_other"!==e&&t(d.billChange(g,"bill_states_make_out",T,N,E)):"debit"===T&&"bill_other"!==e&&t(d.billChange(g,"bill_states_make_out",T,N,E)):"LB_CQZC"===f?"XZ_GJZC"===D&&"bill_other"!==e?t(d.billChange(g,"bill_states_auth",T,y,I)):"bill_other"!==e&&t(d.billChange(g,"bill_states_make_out",T,S,A)):"debit"===T?"bill_other"!==e&&t(d.billChange(g,"bill_states_make_out",T,S,A)):"bill_other"!==e&&t(d.billChange(g,"bill_states_auth",T,y,I)),"XZ_CZZC"===D&&U&&t(d.calculateGain(e))}},B.map(function(e,t){return o.default.createElement(m,{key:t,value:e.key},e.value)})))):"","bill_common"===O||"bill_special"===O?o.default.createElement("div",null,o.default.createElement("div",{className:"accountConf-modal-list-item"},o.default.createElement("label",null,"税率："),o.default.createElement("div",null,o.default.createElement(l.default,{className:"lrAccount-rate",disabled:h&&p.size||"XZ_CZZC"===D&&h&&U&&G&&G.size,value:L?L+"%":"",onChange:function(e){t(d.changeAccountTaxRate(e))}},F.map(function(e,t){return o.default.createElement(m,{key:t,value:e.value},e.key)})),o.default.createElement(r.default,{className:"use-unuse-style",checked:h&&p.size?M:"bill_states_make_out"===b||"bill_states_auth"===b,onChange:function(){"small"===g?"debit"===T&&"bill_other"!==O&&t("bill_states_make_out"===b?d.billChange(g,"bill_states_not_make_out",T,N,E):d.billChange(g,"bill_states_make_out",T,S,A)):"XZ_GJZC"===D?t("bill_states_auth"===b?d.billChange(g,"bill_states_not_auth",T,y,I):d.billChange(g,"bill_states_auth",T,y,I)):"debit"===T?"bill_other"!==O&&t("bill_states_make_out"===b?d.billChange(g,"bill_states_not_make_out",T,S,A):d.billChange(g,"bill_states_make_out",T,S,A)):"bill_other"!==O&&t("bill_states_auth"===b?d.billChange(g,"bill_states_not_auth",T,y,I):d.billChange(g,"bill_states_auth",T,y,I))},checkedChildren:"debit"===T&&"XZ_GJZC"!==D?"已开票":"已认证",unCheckedChildren:"debit"===T&&"XZ_GJZC"!==D?"未开票":"未认证",disabled:h&&p.size}))),o.default.createElement("div",{className:"accountConf-modal-list-item accountConf-premount"},o.default.createElement("label",null),o.default.createElement("label",null,"价税合计："),o.default.createElement("div",null,R?Number(R).toFixed(2):""),o.default.createElement("label",null,"税额："),o.default.createElement("div",null,a.get("tax")?a.get("tax"):""))):null):null,h&&p&&p.size&&!C&&!M?o.default.createElement("div",null,o.default.createElement("div",{className:"business-water"},o.default.createElement("span",{className:"green-pannel"}," ","发票已"+("bill_states_make_out"===b?"开票":"认证")),("bill_states_make_out"===b?"开票":"认证")+"流水:"+p.getIn([0,"flowNumber"]))):null)}}]),t}())||a;t.default=_},2541:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=C(n(32)),l=C(n(1234)),u=C(n(100)),i=C(n(129)),o=C(n(37)),c=C(n(45)),s=C(n(89)),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(51),n(1235),n(99),n(128),n(38),n(55),n(88);var f=C(n(1)),g=n(17),m=(n(56),n(18)),_=p(n(27)),T=(n(127),C(n(1419)),C(n(1420)),C(n(1421)),n(22),p(n(1229)));function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function C(e){return e&&e.__esModule?e:{default:e}}s.default.Group;var E=c.default.Option,S=(0,g.immutableRenderDecorator)(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,f.default.Component),d(t,[{key:"componentWillReceiveProps",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.dispatch,n=e.flags,a=e.cardTemp,s=(e.taxRateTemp,e.allState,e.callback),d=a.get("runningState"),g=a.get("categoryType"),p=void 0;(({LB_YYSR:function(){!0,"营业收入",p="acBusinessIncome"},LB_YYZC:function(){!0,"营业支出",p="acBusinessExpense","credit"},LB_YYWSR:function(){!0,"营业外收入",p="acBusinessOutIncome",!0,"debit"},LB_YYWZC:function(){!0,"营业外支出",p="acBusinessOutExpense","credit",!0,"credit"},LB_JK:function(){!0,"借款",p="acLoan",!0},LB_TZ:function(){!0,"投资",p="acInvest",!0},LB_ZB:function(){!0,"资本",p="acCapital",!0},LB_CQZC:function(){!0,"长期资产",p="acAssets","debit"},LB_FYZC:function(){!0,"费用支出",p="acCost","credit"},LB_ZSKX:function(){!1,"暂收款项",p="acTemporaryReceipt",!0},LB_ZFKX:function(){!1,"暂付款项",p="acTemporaryPay",!0},LB_XCZC:function(){!1,"薪酬支出",p="acPayment","credit",!0},LB_SFZC:function(){!1,"税费支出",p="acTax","credit",!0}})[g]||function(){return""})();var C=a.getIn([p,"beCarryover"]),S=(n.get("isQueryByBusiness"),n.get("runningInsertOrModify")),A=a.get("beCarryover"),y=(a.getIn([p,"stockAc"]),a.getIn([p,"carryoverAc"]),a.getIn([p,"beCleaning"])),N=a.get("propertyCost"),I=n.get("specialStateforAccrued"),L=n.get("specialStateforAssets"),h=(a.getIn([p,"cleaningAmount"]),a.getIn([p,"originalAssetsAmount"]),a.getIn([p,"incomeAc"]),a.getIn([p,"lossAmount"])),v=(a.getIn([p,"lossAc"]),a.getIn([p,"beAccrued"])),O=a.getIn([p,"netProfitAmount"]),b=a.getIn([p,"carryoverCardList"]),R=a.get("businessList"),M=a.get("runningType"),D=a.get("beProject"),G=a.get("usedProject"),U=a.get("propertyCarryover"),P=a.get("projectCard"),F=a.get("projectRange"),B=a.get("assetType"),w=n.get("projectList")?n.get("projectList"):(0,m.fromJS)([]),Y=function(e,t){if(void 0!==e.target.value){var n=e.target.value.indexOf("。")>-1?e.target.value.replace("。","."):e.target.value;0===n.indexOf("0")&&"0"!=n&&n>=1&&(n=n.substr(1)),J.test(n)||""===n?t(n):o.default.info("金额只能输入带两位小数的数字")}},J=/^\d*\.?\d{0,2}$/;return f.default.createElement("div",null,d&&"STATE_YYSR_DJ"!=d&&"LB_YYSR"===g&&"SX_FW"!==U&&C&&"modify"!==S?f.default.createElement("div",null,f.default.createElement("div",{className:"accountConf-separator"}),f.default.createElement("label",null,f.default.createElement(i.default,{checked:A,onChange:function(e){t(T.changeLrAccountCommonString("card","beCarryover",e.target.checked))}}),f.default.createElement("span",null,"STATE_YYSR_XS"===d?"结转成本":"转回成本")),A&&b?b.map(function(e,n){return f.default.createElement("div",null,b.size>1?f.default.createElement("div",{className:"accountConf-modal-list-item"},f.default.createElement("label",null,"存货："),f.default.createElement("div",null,(e.get("code")?e.get("code"):"")+" "+(e.get("name")?e.get("name"):""))):null,f.default.createElement("div",{className:"accountConf-modal-list-item"},f.default.createElement("label",null,"成本金额："),f.default.createElement("div",null,f.default.createElement(u.default,{value:e.get("amount"),onChange:function(e){Y(e,function(e){t(T.changeLrAccountCommonString("card",[p,"carryoverCardList",n,"amount"],e))})}}))))}):null):null,y&&"XZ_CZZC"===B||"STATE_CQZC_JZSY"===d?f.default.createElement("div",null,f.default.createElement("div",{className:"accountConf-modal-list-item",style:{display:"LX_JZSY_SS"===M||"LX_JZSY_SY"===M||L||"insert"!==S?"none":""}},f.default.createElement("label",null,f.default.createElement(i.default,{checked:A,onChange:function(e){t(T.changeLrAccountCommonString("card","beCarryover",e.target.checked))}}),f.default.createElement("span",null,"处置损益")),D&&"LB_CQZC"===g&&"STATE_CQZC_JZSY"!==d&&A?f.default.createElement(l.default,{className:"use-unuse-style",style:{marginLeft:".2rem"},checked:G,checkedChildren:"项目",onChange:function(){t(T.changeLrAccountCommonString("card","usedProject",!G))}}):null),A&&(R&&!R.size||!R)||"LX_JZSY_SY"===M||"LX_JZSY_SS"===M?f.default.createElement("div",null,O>=0?f.default.createElement("div",{className:"accountConf-modal-list-item"},f.default.createElement("label",null,"净收益金额："),f.default.createElement("div",null,O)):h>0?f.default.createElement("div",{className:"accountConf-modal-list-item"},f.default.createElement("label",null,"净损失金额："),f.default.createElement("div",null,h)):"",D&&G&&"LB_CQZC"===g&&"STATE_CQZC_JZSY"!==d?P.map(function(e,n){return f.default.createElement("div",{key:n},f.default.createElement("div",{className:"accountConf-modal-list-item"},f.default.createElement("label",null,"项目："),f.default.createElement("div",{className:"chosen-right"},I?f.default.createElement("div",null,(e.get("code")?e.get("code"):"")+" "+(e.get("name")?e.get("name"):"")):f.default.createElement(c.default,{combobox:!0,showSearch:!0,value:(e.get("code")?e.get("code"):"")+" "+(e.get("name")?e.get("name"):""),onChange:function(a){var r=a.split(_.TREE_JOIN_STR),l=r[0],u=r[1],i=r[2],o=e.get("amount");t(T.changeLrAccountCommonString("card",["projectCard",n],(0,m.fromJS)({uuid:l,name:i,code:u,amount:o})))}},w.filter(function(e){return"LB_FYZC"===g||"STATE_XC_JT"===d||!v&&"STATE_XC_JN"===d||"XZ_CHLX"===N&&("STATE_JK_JTLX"===d||!v&&"STATE_JK_ZFLX"===d)||"COMNCRD"!==e.get("code")}).map(function(e,t){return f.default.createElement(E,{key:t,value:""+e.get("uuid")+_.TREE_JOIN_STR+e.get("code")+_.TREE_JOIN_STR+e.get("name")},("COMNCRD"!==e.get("code")?e.get("code"):"")+" "+e.get("name"))})),f.default.createElement("div",{className:"chosen-word",onClick:function(){t(T.getProjectAllCardList(F,"showContactsModal")),t(T.changeLrAccountCommonString("",["flags","currentCardType"],"project")),s()}},"选择"))))}):null,f.default.createElement("div",{className:"accountConf-modal-list-item"},f.default.createElement("label",null,"资产原值："),f.default.createElement("div",null,f.default.createElement(u.default,{value:a.getIn([p,"originalAssetsAmount"]),onChange:function(e){Y(e,function(e){t(T.changeLrAccountCommonString("card",[p,"originalAssetsAmount"],e)),t(T.calculateGain())})}}))),f.default.createElement("div",{className:"accountConf-modal-list-item"},f.default.createElement("label",null,"累计折旧余额："),f.default.createElement("div",null,f.default.createElement(u.default,{value:a.getIn([p,"depreciationAmount"]),onChange:function(e){Y(e,function(e){t(T.changeLrAccountCommonString("card",[p,"depreciationAmount"],e)),t(T.calculateGain())})}})))):null):null,!y||C||"STATE_CQZC_JZSY"===d||"XZ_CZZC"!==B||"modify"!==S||(!R||R.size)&&R?null:f.default.createElement("div",{style:{marginBottom:"10px"}},f.default.createElement(r.default,{type:"ghost",onClick:function(){t(T.AsssetsInsert()),t(T.changeLrAccountCommonString("card","runningState","STATE_CQZC_JZSY")),t(T.changeLrAccountCommonString("card","beCarryover",!0)),t(T.calculateGain()),t(T.changeStateAndAbstract((0,m.fromJS)(a),"STATE_CQZC_JZSY"))}},"处置损益")))}}]),t}())||a;t.default=S},2542:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=C(n(47)),l=C(n(100)),u=C(n(32)),i=C(n(37)),o=C(n(129)),c=C(n(45)),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(46),n(99),n(51),n(38),n(128),n(55);var d=C(n(1)),f=n(17);n(1240);var g=n(22),m=n(127),_=C(n(1244)),T=p(n(1229));n(18),p(n(2543));function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function C(e){return e&&e.__esModule?e:{default:e}}c.default.Option,o.default.Group;var E=(0,f.immutableRenderDecorator)(a=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={confirmModal:!1},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,d.default.Component),s(t,[{key:"componentDidMount",value:function(){this.props.dispatch(T.getIUmanageListTitle())}},{key:"render",value:function(){var e=this,t=this.props,n=t.dispatch,a=t.showModal,c=t.closeModal,s=t.lrAccountState,f=t.lrAclist,p=t.contactsRange,C=t.simplifyStatus,E=this.state.confirmModal,S=s.get("tags"),A=(s.get("activeTapKey"),s.get("iuManageTypeCard")),y=A.get("insertOrModify"),N=A.get("code"),I=A.get("name"),L=A.get("isPayUnit"),h=A.get("isReceiveUnit"),v=A.get("payableAcName"),O=A.get("receivableAcName"),b=A.get("advanceAcName"),R=A.get("prepaidAcName"),M=A.get("payableAcId"),D=A.get("receivableAcId"),G=A.get("advanceAcId"),U=A.get("prepaidAcId"),P=A.get("companyAddress"),F=(A.get("companyTel"),A.get("financeName")),B=(A.get("financeTel"),A.get("remark")),w=(A.get("receivableOpened"),A.get("advanceOpened"),A.get("payableOpened"),A.get("prepaidOpened"),A.get("categoryTypeList")),Y=A.get("enablePrepaidAc"),J=A.get("enableAdvanceAc"),Z=(A.get("contacterInfo"),A.get("isCheckOut"),"insert"===y?"新增往来单位卡片":"修改往来单位卡片"),H=function(t){var a=[{type:"stockName",value:I},{type:"code",value:N},{type:"remark",value:B},{type:"companyAddress",value:P},{type:"financeName",value:F}];g.jxcConfigCheck.beforeSaveCheck(a,function(){return function(){var a=0;if(S.map(function(e,t){e.get("checked")&&a++}),0!==a)if(w.size>0){var r=!0;w.map(function(e,t){void 0!==e.get("subordinateUuid")&&""!==e.get("subordinateUuid")||(r=!1)}),r?n(T.saveIUManageTypeCard(c,t,function(){return e.setState({confirmModal:!0})},function(){return e.setState({confirmModal:!1})},p)):i.default.info("请选择所属分类子级类别")}else i.default.info("请选择所属分类子级类别");else i.default.info("所属分类必选一项")}()})};return d.default.createElement(r.default,{width:"820px",visible:a,maskClosable:!1,title:Z,className:"stock-contacts",onCancel:function(){return c()},footer:[d.default.createElement(u.default,{className:"footer-btn",key:"cancel",type:"ghost",onClick:function(){return c()}},"取 消"),d.default.createElement(u.default,{className:"footer-btn",key:"ok",type:"ghost",onClick:function(){H("insert")}},"保 存")]},d.default.createElement("div",{className:"jxc-config-card-modal-wrap"},d.default.createElement("div",{className:"jxc-config-card-modal-row"},d.default.createElement("div",{className:"jxc-config-card-modal-item"},d.default.createElement("label",{className:"jxc-config-card-modal-label"},"编码："),d.default.createElement("div",{className:"jxc-config-card-modal-input"},d.default.createElement(l.default,{placeholder:_.default.cardCode,value:N,onChange:function(e){return g.jxcConfigCheck.inputCheck("cardCode",e.target.value,function(){return n(T.changeLrAccountOutString(["iuManageTypeCard","code"],e.target.value))})},onFocus:function(e){return e.target.select()}}))),d.default.createElement("div",{className:"jxc-config-card-modal-item"},d.default.createElement("label",{className:"jxc-config-card-modal-label"},"名称："),d.default.createElement("div",{className:"jxc-config-card-modal-input"},d.default.createElement(l.default,{placeholder:_.default.name,value:I,onChange:function(e){return n(T.changeLrAccountOutString(["iuManageTypeCard","name"],e.target.value))},onFocus:function(e){return e.target.select()}})))),d.default.createElement("div",{className:"jxc-config-card-modal-row"},d.default.createElement("div",{className:"jxc-config-card-modal-item"},d.default.createElement("label",{className:"jxc-config-card-modal-label"},"所属分类："),d.default.createElement("div",{className:"jxc-config-card-modal-input"},S.map(function(e,t){var a=p.some(function(t){return t===e.get("uuid")});return d.default.createElement("label",{style:{display:a?"":"none"},key:t},d.default.createElement(o.default,{checked:e.get("checked"),onChange:function(t){return n(T.changeManageCardRelation(e,t.target.checked))}}),e.get("name"),"    ")})))),d.default.createElement("div",{className:"category-box"},S.map(function(e,t){return e.get("checked")?d.default.createElement("div",{className:"jxc-config-card-modal-row select-row-with-two",key:t},d.default.createElement("div",{className:"jxc-config-card-modal-item"},d.default.createElement("label",{className:"jxc-config-card-modal-label"},e.get("categoryName"),"类别："),d.default.createElement("div",{className:"jxc-config-card-modal-input"},d.default.createElement(m.UpperClassSelect,{className:"jxc-config-modal-select",placeholder:"",treeData:e.get("tree")?e.get("tree"):[],treeDefaultExpandAll:!0,isLastSelect:!0,disabledParent:!0,value:e.get("selectUuid")?[e.get("selectName")]:[""],onSelect:function(t){n(T.changeManageCardRelationType(e,t))}})))):null})),C?d.default.createElement("div",{className:"clear-box"},d.default.createElement("div",{className:"jxc-config-title",style:{display:L||h?"":"none"}},"财务信息"),C?d.default.createElement("div",{className:"jxc-config-card-modal-row middle-label",style:{display:h?"":"none"}},d.default.createElement("div",{className:"jxc-config-card-modal-item"},d.default.createElement("label",{className:"jxc-config-card-modal-label"},"应收账款科目："),d.default.createElement("div",{className:"jxc-config-card-modal-input"},d.default.createElement(m.SelectAc,{tipText:"必填，请选择科目",acId:D||"",acName:O,lrAclist:f,onChange:function(e){n(T.changeIUMangeCardAc(e,"receivableAcId","receivableAcName","iuManageTypeCard"))}})))):null,C?d.default.createElement("div",{className:"jxc-config-card-modal-row middle-label",style:{display:L?"":"none"}},d.default.createElement("div",{className:"jxc-config-card-modal-item"},d.default.createElement("label",{className:"jxc-config-card-modal-label"},"应付账款科目："),d.default.createElement("div",{className:"jxc-config-card-modal-input"},d.default.createElement(m.SelectAc,{tipText:"必填，请选择科目",acId:M||"",acName:v,lrAclist:f,onChange:function(e){n(T.changeIUMangeCardAc(e,"payableAcId","payableAcName","iuManageTypeCard"))}})))):null,d.default.createElement("div",{className:"jxc-config-card-modal-row  long-label",style:{display:h?"":"none"}},d.default.createElement("div",{className:"jxc-config-card-modal-item"},d.default.createElement("label",{className:"jxc-config-card-modal-label long-table"},d.default.createElement(o.default,{checked:J,onChange:function(e){return n(T.changeLrAccountOutString(["iuManageTypeCard","enableAdvanceAc"],e.target.checked))}}),"启用预收管理")),d.default.createElement("div",{className:"jxc-config-card-modal-item"})),C?d.default.createElement("div",{className:"jxc-config-card-modal-row middle-label",style:{display:J?"":"none"}},d.default.createElement("div",{className:"jxc-config-card-modal-item"},d.default.createElement("label",{className:"jxc-config-card-modal-label"},"预收账款科目："),d.default.createElement("div",{className:"jxc-config-card-modal-input"},d.default.createElement(m.SelectAc,{tipText:"必填，请选择科目",acId:G||"",acName:b,lrAclist:f,onChange:function(e){n(T.changeIUMangeCardAc(e,"advanceAcId","advanceAcName","iuManageTypeCard"))}})))):null,d.default.createElement("div",{className:"jxc-config-card-modal-row long-label",style:{display:L?"":"none"}},d.default.createElement("div",{className:"jxc-config-card-modal-item"},d.default.createElement("label",{className:"jxc-config-card-modal-label long-table"},d.default.createElement(o.default,{checked:Y,onChange:function(e){return n(T.changeLrAccountOutString(["iuManageTypeCard","enablePrepaidAc"],e.target.checked))}}),"启用预付管理")),d.default.createElement("div",{className:"jxc-config-card-modal-item"})),C?d.default.createElement("div",{className:"jxc-config-card-modal-row middle-label",style:{display:Y?"":"none"}},d.default.createElement("div",{className:"jxc-config-card-modal-item"},d.default.createElement("label",{className:"jxc-config-card-modal-label"},"预付账款科目："),d.default.createElement("div",{className:"jxc-config-card-modal-input"},d.default.createElement(m.SelectAc,{tipText:"必填，请选择科目",acId:U||"",acName:R,lrAclist:f,onChange:function(e){n(T.changeIUMangeCardAc(e,"prepaidAcId","prepaidAcName","iuManageTypeCard"))}})))):null,d.default.createElement("div",{className:"modalBomb",style:{display:E?"":"none"}})):""))}}]),t}())||a;t.default=E},2543:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.exportToNotification=t.switchCardStatus=t.getIUmanageListBySontype=t.selectIUManageCardAll=t.checkIUManageListCardBox=t.deleteIUManageListCard=t.confirmDeleteIUManageType=t.deleteIUManageType=t.deleteIUManageHighType=t.getOneCardEdit=t.saveIUManageTypeCard=t.saveUndefineCard=t.changeUndefineCardAc=t.changeIUMangeCardAc=t.changeManageCardRelationType=t.changeManageCardRelation=t.changeIUMangeCardContent=t.getUndefineCard=t.beforeAddManageTypeCard=t.afterWlImport=t.getFileUploadFetch=t.closeVcImportContent=t.beforeWLImport=t.insertIUManageType=t.saveIUManageType=t.changeIUMangeTypeSelect=t.changeIUMangeTypeContent=t.adjustCardTyepList=t.downIUManageType=t.upIUManageType=t.getIUManageTypeInfo=t.cancelIUManageType=t.changeIUManageTypeBoxChecked=t.getIUmanageListAndTree=t.getIUmanageListTitle=t.saveIUMangeContent=t.beforeAddNewManageTypeType=t.beforeAddNewManageType=t.getIUManageCard=t.changeIUMangeContentAc=t.changeIUMangeContent=void 0;var a=d(n(37)),r=d(n(47));n(38),n(46);var l=s(n(2544)),u=(s(n(43)),d(n(52))),i=n(22),o=(s(n(30)),s(n(27))),c=(n(18),s(n(1229)));function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function d(e){return e&&e.__esModule?e:{default:e}}var f=r.default.confirm,g=function(e,t){e({type:l.SWITCH_LOADING_MASK}),(0,u.default)("getIUManageListTitle","GET","",function(n){(0,i.showMessage)(n)&&e({type:l.GET_IUMANAGE_LIST_TITLE,title:n.data,deleteBtn:t}),e({type:l.SWITCH_LOADING_MASK})})},m=(t.changeIUMangeContent=function(e,t){return function(n){n({type:l.CHANGE_IUMANAGE_CONTENT,name:e,value:t})}},t.changeIUMangeContentAc=function(e,t,n,a){return function(r){r({type:l.CHANGE_IUMANAGE_CONTENT_AC,acid:n,acName:a,typeId:e,typeName:t})}},t.getIUManageCard=function(e,t){return function(n){n({type:l.SWITCH_LOADING_MASK}),(0,u.default)("getIUManageTypeContent","GET","ctgyUuid="+e.get("uuid"),function(a){(0,i.showMessage)(a)&&(n({type:l.GET_IUMANAGE_CARD,value:e,data:a.data}),t&&t()),n({type:l.SWITCH_LOADING_MASK})})}},t.beforeAddNewManageType=function(){return function(e){e({type:l.BEFORE_ADD_NEW_MANAGE_TYPE})}},t.beforeAddNewManageTypeType=function(e){return function(t){t({type:l.BEFORE_ADD_NEW_MANAGE_TYPE_TYPE}),e()}},t.saveIUMangeContent=function(){return function(e,t){e({type:l.SWITCH_LOADING_MASK});var n=t().iuConfigState.get("iuManageCard").toJS();(0,u.default)("saveIUManageHighType","POST",JSON.stringify({psiData:n}),function(t){(0,i.showMessage)(t)&&(0===t.code&&a.default.info("保存成功"),g(e))}),e({type:l.SWITCH_LOADING_MASK})}},t.getIUmanageListTitle=function(){return function(e){g(e)}},t.getIUmanageListAndTree=function(e){return function(t,n){t({type:l.SWITCH_LOADING_MASK});var a=e.get("categoryName"),r=e.get("uuid"),o=n().iuConfigState.get("anotherTabName");a===o?(0,u.default)("getIUmanageListAll","GET","listFrom=",function(e){(0,i.showMessage)(e)&&t({type:l.GET_IUMANAGE_LIST_BY_TYPE,list:e.data.resultList,name:a,tree:[{uuid:""}],uuid:""}),t({type:l.SWITCH_LOADING_MASK})}):(0,u.default)("getIUmanageListAll","GET","listFrom="+r,function(e){(0,i.showMessage)(e)&&(0,u.default)("getIUManageTreeByType","GET","ctgyUuid="+r,function(n){(0,i.showMessage)(n)&&t({type:l.GET_IUMANAGE_LIST_BY_TYPE,list:e.data.resultList,name:a,tree:n.data.resultList,uuid:r}),t({type:l.SWITCH_LOADING_MASK})})})}},t.changeIUManageTypeBoxChecked=function(e){return function(t){t({type:l.CHANGE_IUMANAGE_TYPE_BOX_CHECKED,list:e})}},t.cancelIUManageType=function(){return function(e,t){if(e({type:l.SWITCH_LOADING_MASK}),t().iuConfigState.getIn(["iuManageTypeBtnStatus","isAdd"])){var n=t().iuConfigState.getIn(["iuManageTypeBtnStatus","treeUuid"]);n===t().iuConfigState.getIn(["treeList",0,"uuid"])?(e({type:l.CANCLE_IUMANAGE_TYPE_BTN,data:{}}),e({type:l.SWITCH_LOADING_MASK})):(0,u.default)("getIUManagetTreeSingleType","GET","uuid="+n,function(t){(0,i.showMessage)(t)&&e({type:l.CANCLE_IUMANAGE_TYPE_BTN,data:t.data}),e({type:l.SWITCH_LOADING_MASK})})}else e({type:l.CANCLE_IUMANAGE_TYPE_BTN,data:{}}),e({type:l.SWITCH_LOADING_MASK})}},t.getIUManageTypeInfo=function(e){return function(t,n){var a=n().iuConfigState.getIn(["treeList","0","uuid"])===e;a?t({type:l.GET_IUMANAGE_TYPE_CONTENT,uuid:e,data:{},isAll:a}):(t({type:l.SWITCH_LOADING_MASK}),(0,u.default)("getIUManagetTreeSingleType","GET","uuid="+e,function(n){(0,i.showMessage)(n)&&t({type:l.GET_IUMANAGE_TYPE_CONTENT,uuid:e,data:n.data,isAll:a}),t({type:l.SWITCH_LOADING_MASK})}))}},t.upIUManageType=function(){return function(e,t){e({type:l.SWITCH_LOADING_MASK});var n=t().iuConfigState.getIn(["iuManageTypeBtnStatus","treeUuid"]),a=t().iuConfigState.getIn(["iuManageTypeBtnStatus","upUuid"]),r=t().iuConfigState.get("activeTapKeyUuid");(0,u.default)("swapIUmanageTypePosition","POST",JSON.stringify({psiData:{selectedSubordinateUuid:n,swappedSubordinateUuid:a,categoryUuid:r}}),function(t){(0,i.showMessage)(t)&&e({type:l.CHANGE_IUMANAGE_TYPE_POSITION,list:t.data.resultList}),e({type:l.SWITCH_LOADING_MASK})})}},t.downIUManageType=function(){return function(e,t){e({type:l.SWITCH_LOADING_MASK});var n=t().iuConfigState.getIn(["iuManageTypeBtnStatus","treeUuid"]),a=t().iuConfigState.getIn(["iuManageTypeBtnStatus","downUuid"]),r=t().iuConfigState.get("activeTapKeyUuid");(0,u.default)("swapIUmanageTypePosition","POST",JSON.stringify({psiData:{selectedSubordinateUuid:n,swappedSubordinateUuid:a,categoryUuid:r}}),function(t){(0,i.showMessage)(t)&&e({type:l.CHANGE_IUMANAGE_TYPE_POSITION,list:t.data.resultList}),e({type:l.SWITCH_LOADING_MASK})})}},t.adjustCardTyepList=function(e,t,n){return function(a,r){a({type:l.SWITCH_LOADING_MASK});var o=r().iuConfigState.get("iuManageSelectList").toJS();o.map(function(t,n){t.subordinateName=e});var c=t,s=r().iuConfigState.get("activeTapKeyUuid"),d=r().iuConfigState.get("sonUuid");(0,u.default)("adjustIUmanageCardTypeList","POST",JSON.stringify({cardList:o,subordinateUuid:c,adjustFrom:s,treeFrom:d}),function(e){(0,i.showMessage)(e)&&(a({type:l.ADJUST_IUMANAGE_CARD_TYPE_LIST,list:e.data.resultList}),n()),a({type:l.SWITCH_LOADING_MASK})})}},t.changeIUMangeTypeContent=function(e,t){return function(n){n({type:l.CHANGE_IUMANAGE_TYPE_CONTENT,name:e,value:t})}},t.changeIUMangeTypeSelect=function(e){return function(t){var n=e.split(o.TREE_JOIN_STR),a=n[1],r=n[0];t({type:l.CHANGE_IUMANAGE_TYPE_SELECT,parentName:a,parentUuid:r})}},t.saveIUManageType=function(e,t,n){return function(r,o){r({type:l.SWITCH_LOADING_MASK});var c=o().iuConfigState.get("iuManageType"),s=o().iuConfigState.get("activeTapKeyUuid"),d=o().iuConfigState.get("activeTapKey");c=c.set("currentUnitCtgyUuid",s);var g=function(){r({type:l.SWITCH_LOADING_MASK}),(0,u.default)("saveIUManageType","POST",JSON.stringify({psiData:c}),function(t){(0,i.showMessage)(t)&&(0,u.default)("getIUmanageListAll","GET","listFrom="+s,function(n){(0,i.showMessage)(n)&&(r({type:l.SAVE_IUMANAGE_TYPE,list:n.data.resultList,name:d,tree:t.data.resultList,activeTapKeyUuid:s,btnFlag:e,uuid:c.get("uuid"),typeInfo:t.data.info}),a.default.info("保存成功"))}),r({type:l.SWITCH_LOADING_MASK})})};(0,u.default)("adjustIUmanageTypeTitleSame","POST",JSON.stringify({psiData:{parentUuid:c.get("parentUuid"),name:c.get("name"),uuid:c.get("uuid")}}),function(e){(0,i.showMessage)(e)&&(e.data.repeat?(t(),f({title:"名称重复",content:"卡片类别名称与已有卡片类别名称重复，确定保存吗？",onOk:function(){g(),n()},onCancel:function(){n()}})):g()),r({type:l.SWITCH_LOADING_MASK})})}},t.insertIUManageType=function(){return function(e){e({type:l.INSERT_IUMANAGE_TYPE})}},t.beforeWLImport=function(){return{type:l.BEFORE_WL_IMPORT}},t.closeVcImportContent=function(){return{type:l.CLOSE_WL_IMPORT_CONTENT}}),_=(t.getFileUploadFetch=function(e){return function(t){(0,u.default)("wlUpload","UPLOAD",e,function(e){if((0,i.showMessage)(e)){if(e.data){t({type:l.CHANGE_WL_IMPORT_NUM,name:"totalNumber",value:e.data.pages}),t({type:l.CHANGE_WL_IMPORT_NUM,name:"importKey",value:e.data.importKey}),t({type:l.CHANGE_WL_IMPORT_STATUS,value:!0});!function n(a){a<=e.data.pages&&setTimeout(function(){(0,u.default)("wlImport","POST",JSON.stringify({importKey:e.data.importKey,current:a}),function(o){(0,i.showMessage)(o)?a<e.data.pages?n(a+1):(t({type:l.CHANGE_WL_IMPORT_STATUS,value:!1}),(0,u.default)("wlImportError","GET","importKey="+e.data.importKey+"&needDownload=false",function(e){t(_(e))})):(r.default.error({title:"异常提示",content:"请求异常，请稍后重试"}),t(m()))}),t({type:l.CHANGE_WL_IMPORT_NUM,name:"curNumber",value:a})},500)}(1)}}else t(m())})}},t.afterWlImport=function(e){return function(t){t({type:l.AFTER_WL_IMPORT,receivedData:e})}});t.beforeAddManageTypeCard=function(e){return function(t){t({type:l.SWITCH_LOADING_MASK}),(0,u.default)("getIUManageCardLimitAndAc","GET","",function(e){(0,i.showMessage)(e)&&t({type:l.BEFORE_ADD_MANAGE_TYPE_CARD,data:e.data}),t({type:l.SWITCH_LOADING_MASK})}),e()}},t.getUndefineCard=function(e){return function(t){(0,u.default)("getIUManageUndefienCard","GET","",function(e){(0,i.showMessage)(e)&&t({type:l.GET_IUMANAGE_UNDEFINE_CARD,data:e.data})}),e()}},t.changeIUMangeCardContent=function(e,t){return function(n){n({type:l.CHANGE_IUMANAGE_CARD_CONTENT,name:e,value:t})}},t.changeManageCardRelation=function(e,t){return function(n){n({type:l.SWITCH_LOADING_MASK}),(0,u.default)("getIUManageTreeByType","GET","ctgyUuid="+e.get("uuid"),function(a){(0,i.showMessage)(a)&&n({type:l.CHANGE_MANAGE_CARD_RELATION,tag:e,checked:t,tree:a.data.resultList}),n({type:l.SWITCH_LOADING_MASK})})}},t.changeManageCardRelationType=function(e,t){return function(n){var a=t.split(o.TREE_JOIN_STR);n({type:l.CHANGE_MANAGE_CARD_RELATION_TYPE,tag:e,uuid:a[0],name:a[1]})}},t.changeIUMangeCardAc=function(e,t,n){return function(a){var r=e.split(" ");a({type:l.CHANGE_IUMANAGE_CARD_AC,uuid:r[0],name:r[1],acId:t,acName:n})}},t.changeUndefineCardAc=function(e,t,n){return function(a){var r=e.split(" ");a({type:l.CHANGE_IUMANAGE_UNDEFINE_CARD_AC,uuid:r[0],name:r[1],acId:t,acName:n})}},t.saveUndefineCard=function(e){return function(t,n){t({type:l.SWITCH_LOADING_MASK});var r=n().iuConfigState.get("undefineCard").toJS();(0,u.default)("editIUManageUndefienCard","POST",JSON.stringify({psiData:r}),function(n){(0,i.showMessage)(n)&&(a.default.info("保存成功"),e()),t({type:l.SWITCH_LOADING_MASK})})}},t.saveIUManageTypeCard=function(e,t,n,r){return function(o,s){o({type:l.SWITCH_LOADING_MASK});var d=s().iuConfigState.get("iuManageTypeCard").toJS(),g=s().iuConfigState.getIn(["iuManageTypeCard","insertOrModify"]),m=(s().iuConfigState.get("activeTapKey"),s().iuConfigState.get("activeTapKeyUuid")),_=(s().iuConfigState.get("anotherTabName"),s().iuConfigState.get("sonUuid")),T=s().lrAccountState.get("cardTemp"),p={LB_YYSR:"acBusinessIncome",LB_YYZC:"acBusinessExpense",LB_YYWSR:"acBusinessOutIncome",LB_YYWZC:"acBusinessOutExpense",LB_JK:"acLoan",LB_TZ:"acInvest",LB_ZB:"acCapital",LB_CQZC:"acAssets",LB_FYZC:"acCost",LB_ZSKX:"acTemporaryReceipt",LB_ZFKX:"acTemporaryPay",LB_XCZC:"acPayment",LB_SFZC:"acTax"}[T.get("categoryType")],C=T.getIn([p,"contactsRange"]),E=T.get("runningState"),S=function(){"insert"===g?(0,u.default)("saveIUManageCard","POST",JSON.stringify({psiData:d,insertFrom:m,treeFrom:_,needAutoIncrementCode:"insert"!==t}),function(n){(0,i.showMessage)(n)&&(o({type:l.SAVE_IUMANAGE_TYPE_CARD,list:n.data.resultList,treeList:n.data.typeList,flag:t,code:n.data.autoIncrementCode}),"insert"===t?e():a.default.info("保存成功"),C&&C.size&&o(c.getFirstContactsCardList(C,E)))}):(0,u.default)("editIUManageCard","POST",JSON.stringify({psiData:d,modifyFrom:m,treeFrom:_}),function(t){(0,i.showMessage)(t)&&(o({type:l.SAVE_IUMANAGE_TYPE_CARD,list:t.data.resultList,treeList:t.data.typeList}),e(),C&&C.size&&o(c.getFirstContactsCardList(C,E)))})};(0,u.default)("adjustIUmanageCardTitleSame","POST",JSON.stringify({psiData:{name:d.name,uuid:d.uuid}}),function(e){(0,i.showMessage)(e)&&(e.data.repeat?(n(),f({title:"名称重复",content:"卡片名称与已有卡片名称重复，确定保存吗？",onOk:function(){S(),r()},onCancel:function(){r()}})):S()),o({type:l.SWITCH_LOADING_MASK})})}},t.getOneCardEdit=function(e,t){return function(n){n({type:l.SWITCH_LOADING_MASK}),(0,u.default)("getIUManageOneCardInfo","GET","uuid="+e,function(e){(0,i.showMessage)(e)&&(n({type:l.BEFORE_ADD_MANAGE_TYPE_CARD,data:e.data,insertOrModify:"modify"}),t())}),n({type:l.SWITCH_LOADING_MASK})}},t.deleteIUManageHighType=function(e,t){return function(n){(0,u.default)("deleteIUManageHighType","POST",JSON.stringify({currentUnitCtgyUuid:e}),function(e){(0,i.showMessage)(e)&&(a.default.info("删除成功"),g(n,!0),t())})}},t.deleteIUManageType=function(){return function(e,t){e({type:l.IUMANGE_TYPE_DELETE_BTN_SHOW})}},t.confirmDeleteIUManageType=function(){return function(e,t){e({type:l.SWITCH_LOADING_MASK});var n=t().iuConfigState.get("iuTreeSelectList"),r=t().iuConfigState.get("activeTapKeyUuid");(0,u.default)("deleteIUManageTreeList","POST",JSON.stringify({currentUnitCtgyUuid:r,deleteList:n}),function(t){(0,i.showMessage)(t)&&(e({type:l.CONFIRM_DELETE_IUMANAGE_TYPE,data:t.data.resultList}),a.default.info("删除成功")),e({type:l.SWITCH_LOADING_MASK})})}},t.deleteIUManageListCard=function(){return function(e,t){e({type:l.SWITCH_LOADING_MASK});var n=t().iuConfigState.get("iuManageSelectList").toJS();if(0===n.length)return a.default.info("请选择需要删除的卡片"),void e({type:l.SWITCH_LOADING_MASK});t().iuConfigState.get("activeTapKey");var r=t().iuConfigState.get("activeTapKeyUuid"),o=t().iuConfigState.get("sonUuid");t().iuConfigState.get("anotherTabName");(0,u.default)("deleteIUManageListCard","POST",JSON.stringify({deleteList:n,deleteFrom:r,treeFrom:o}),function(t){(0,i.showMessage)(t)&&(e({type:l.DELETE_IUMANAGE_LIST_CARD,data:t.data.resultList,treeList:t.data.typeList}),""===t.data.error?a.default.info("删除成功"):a.default.info(t.data.error))}),e({type:l.SWITCH_LOADING_MASK})}},t.checkIUManageListCardBox=function(e,t){return function(n){n({type:l.CHECK_IUMANAGE_LIST_CARD_BOX,checked:e,uuid:t})}},t.selectIUManageCardAll=function(e){return function(t){t({type:l.SELECT_IUMANAGE_CARD_ALL,selectAll:e})}},t.getIUmanageListBySontype=function(e,t,n){return function(a){(0,u.default)("getIUmanageListBySontype","GET","categoryUuid="+e+"&subordinateUuid="+t,function(e){(0,i.showMessage)(e)&&a({type:l.GET_IUMANAGE_LIST_BY_SON_TYPE,data:e.data.resultList,sonUuid:t,sonName:n})})}},t.switchCardStatus=function(e,t){return function(n){var r=t.toJS();r.used=e,(0,u.default)("switchCardStatus","POST",JSON.stringify({psiData:r}),function(t){(0,i.showMessage)(t)&&(n({type:l.SWITCH_CARD_STATUS,uuid:r.uuid,used:e}),a.default.info("改变状态成功"))})}},t.exportToNotification=function(){return function(e){(0,u.default)("wlExport","GET","",function(e){(0,i.showMessage)(e,"show")})}}},2544:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SWITCH_LOADING_MASK="SWITCH_LOADING_MASK",t.INIT_IUCONFIG="INIT_IUCONFIG",t.CHANGE_IUMANAGE_CONTENT="CHANGE_IUMANAGE_CONTENT",t.CHANGE_IUMANAGE_CONTENT_AC="CHANGE_IUMANAGE_CONTENT_AC",t.GET_IUMANAGE_CARD="GET_IUMANAGE_CARD",t.BEFORE_ADD_NEW_MANAGE_TYPE="BEFORE_ADD_NEW_MANAGE_TYPE",t.GET_IUMANAGE_LIST_TITLE="GET_IUMANAGE_LIST_TITLE",t.GET_IUMANAGE_LIST_BY_TYPE="GET_IUMANAGE_LIST_BY_TYPE",t.CHANGE_IUMANAGE_TYPE_BOX_CHECKED="CHANGE_IUMANAGE_TYPE_BOX_CHECKED",t.GET_IUMANAGE_TYPE_CONTENT="GET_IUMANAGE_TYPE_CONTENT",t.CHANGE_IUMANAGE_TYPE_CONTENT="CHANGE_IUMANAGE_TYPE_CONTENT",t.CHANGE_IUMANAGE_TYPE_SELECT="CHANGE_IUMANAGE_TYPE_SELECT",t.IUMANGE_TYPE_DELETE_BTN_SHOW="IUMANGE_TYPE_DELETE_BTN_SHOW",t.SAVE_IUMANAGE_TYPE="SAVE_IUMANAGE_TYPE",t.INSERT_IUMANAGE_TYPE="INSERT_IUMANAGE_TYPE",t.EDIT_IUMANAGE_TYPE="EDIT_IUMANAGE_TYPE",t.CANCLE_IUMANAGE_TYPE_BTN="CANCLE_IUMANAGE_TYPE_BTN",t.CHANGE_IUMANAGE_TYPE_POSITION="CHANGE_IUMANAGE_TYPE_POSITION",t.ADJUST_IUMANAGE_CARD_TYPE_LIST="ADJUST_IUMANAGE_CARD_TYPE_LIST",t.BEFORE_ADD_NEW_MANAGE_TYPE_TYPE="BEFORE_ADD_NEW_MANAGE_TYPE_TYPE",t.CHANGE_IUMANAGE_CARD_CONTENT="CHANGE_IUMANAGE_CARD_CONTENT",t.BEFORE_ADD_MANAGE_TYPE_CARD="BEFORE_ADD_MANAGE_TYPE_CARD",t.CHANGE_MANAGE_CARD_RELATION="CHANGE_MANAGE_CARD_RELATION",t.CHANGE_MANAGE_CARD_RELATION_TYPE="CHANGE_MANAGE_CARD_RELATION_TYPE",t.CHANGE_IUMANAGE_CARD_AC="CHANGE_IUMANAGE_CARD_AC",t.CHANGE_IUMANAGE_UNDEFINE_CARD_AC="CHANGE_IUMANAGE_UNDEFINE_CARD_AC",t.SAVE_IUMANAGE_TYPE_CARD="SAVE_IUMANAGE_TYPE_CARD",t.DELETE_IUMANAGE_TYPE="DELETE_IUMANAGE_TYPE",t.CONFIRM_DELETE_IUMANAGE_TYPE="CONFIRM_DELETE_IUMANAGE_TYPE",t.DELETE_IUMANAGE_LIST_CARD="DELETE_IUMANAGE_LIST_CARD",t.CHECK_IUMANAGE_LIST_CARD_BOX="CHECK_IUMANAGE_LIST_CARD_BOX",t.SELECT_IUMANAGE_CARD_ALL="SELECT_IUMANAGE_CARD_ALL",t.GET_IUMANAGE_LIST_BY_SON_TYPE="GET_IUMANAGE_LIST_BY_SON_TYPE",t.SWITCH_CARD_STATUS="SWITCH_CARD_STATUS",t.GET_IUMANAGE_UNDEFINE_CARD="GET_IUMANAGE_UNDEFINE_CARD",t.BEFORE_WL_IMPORT="BEFORE_WL_IMPORT",t.CLOSE_WL_IMPORT_CONTENT="CLOSE_WL_IMPORT_CONTENT",t.AFTER_WL_IMPORT="AFTER_WL_IMPORT",t.CHANGE_WL_IMPORT_NUM="CHANGE_WL_IMPORT_NUM",t.CHANGE_WL_IMPORT_STATUS="CHANGE_WL_IMPORT_STATUS"},2545:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=E(n(47)),l=E(n(100)),u=E(n(32)),i=E(n(37)),o=E(n(129)),c=E(n(89)),s=E(n(45)),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(46),n(99),n(51),n(38),n(128),n(88),n(55);var f=E(n(1)),g=n(17);n(2546);var m=n(22),_=E(n(1244)),T=n(127),p=C(n(1229));n(18),C(n(2548));function C(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function E(e){return e&&e.__esModule?e:{default:e}}s.default.Option;var S=c.default.Group,A=(o.default.Group,(0,g.immutableRenderDecorator)(a=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={confirmModal:!1},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,f.default.Component),d(t,[{key:"componentDidMount",value:function(){this.props.dispatch(p.inventorySettingInit())}},{key:"render",value:function(){var e=this,t=this.props,n=t.dispatch,a=t.showModal,s=t.closeModal,d=t.lrAclist,g=t.lrAccountState,C=t.simplifyStatus,E=t.stockRange,A=this.state.confirmModal,y=g.get("tagsStock").delete(0),N=(g.get("activeTapKey"),"insert"===g.getIn(["inventorySettingCard","insertOrModify"])?"新增存货卡片":"修改存货卡片"),I=g.get("inventorySettingCard"),L=I.get("code"),h=I.get("name"),v=I.get("inventoryNature"),O=I.get("inventoryAcName"),b=I.get("inventoryAcId"),R=(I.get("opened"),I.get("remark")),M=(I.get("isAppliedSale"),I.get("isAppliedPurchase"),I.get("isAppliedProduce"),I.get("categoryTypeList")),D=(I.get("contacterInfo"),I.get("isCheckOut"),function(t,a){var r=[{type:"stockName",value:h},{type:"code",value:L},{type:"remark",value:R}];m.jxcConfigCheck.beforeSaveCheck(r,function(){return function(t,a){if(""!==v){var r=!0;if(y.map(function(e,t){e.get("checked")&&(r=!1)}),r)i.default.info("所属分类必选一项");else{var l=!1;M.map(function(e,t){""!==e.get("ctgyUuid")&&""!==e.get("subordinateUuid")||(l=!0)}),l?i.default.info("类别需要填写完整"):n(p.saveCard(t,a,function(){return e.setState({confirmModal:!0})},function(){return e.setState({confirmModal:!1})},E))}}else i.default.info("存货性质必选")}(t,a)})});return f.default.createElement(r.default,{width:"820px",visible:a,maskClosable:!1,title:N,onCancel:function(){return s()},className:"stock-contacts",footer:[f.default.createElement(u.default,{className:"footer-btn",key:"cancel",type:"ghost",onClick:function(){return s()}},"取 消"),f.default.createElement(u.default,{className:"footer-btn",key:"ok",type:"ghost",onClick:function(){D("insert",s)}},"保 存")]},f.default.createElement("div",{className:"jxc-config-card-modal-wrap"},f.default.createElement("div",{className:"jxc-config-card-modal-row"},f.default.createElement("div",{className:"jxc-config-card-modal-item"},f.default.createElement("label",{className:"jxc-config-card-modal-label"},"编码："),f.default.createElement("div",{className:"jxc-config-card-modal-input"},f.default.createElement(l.default,{placeholder:_.default.cardCode,value:L,onChange:function(e){return m.jxcConfigCheck.inputCheck("cardCode",e.target.value,function(){return n(p.changeLrAccountOutString(["inventorySettingCard","code"],e.target.value))})},onFocus:function(e){return e.target.select()}}))),f.default.createElement("div",{className:"jxc-config-card-modal-item"},f.default.createElement("label",{className:"jxc-config-card-modal-label"},"名称："),f.default.createElement("div",{className:"jxc-config-card-modal-input"},f.default.createElement(l.default,{placeholder:_.default.name,value:h,onChange:function(e){return n(p.changeLrAccountOutString(["inventorySettingCard","name"],e.target.value))},onFocus:function(e){return e.target.select()}})))),f.default.createElement("div",{className:"jxc-config-card-modal-row"},f.default.createElement("div",{className:"jxc-config-card-modal-item"},f.default.createElement("label",{className:"jxc-config-card-modal-label"},"存货性质："),f.default.createElement("div",{className:"jxc-config-card-modal-input"},f.default.createElement(S,{onChange:function(e){n(p.changeCardNature("inventoryNature",e.target.value)),6===e.target.value?(n(p.changeLrAccountOutString(["inventorySettingCard","inventoryAcId"],"1403")),n(p.changeLrAccountOutString(["inventorySettingCard","inventoryAcName"],"原材料"))):(n(p.changeLrAccountOutString(["inventorySettingCard","inventoryAcId"],"1405")),n(p.changeLrAccountOutString(["inventorySettingCard","inventoryAcName"],"库存商品")))},value:v},f.default.createElement(c.default,{key:"a",value:5},"库存商品"),f.default.createElement(c.default,{key:"b",value:6},"原材料"))))),f.default.createElement("div",{className:"jxc-config-card-modal-row"},f.default.createElement("div",{className:"jxc-config-card-modal-item"},f.default.createElement("label",{className:"jxc-config-card-modal-label"},"所属分类："),f.default.createElement("div",{className:"jxc-config-card-modal-input"},y.map(function(e,t){var a=E.some(function(t){return t===e.get("uuid")});return f.default.createElement("label",{style:{display:a?"":"none"},key:t},f.default.createElement(o.default,{checked:e.get("checked"),onChange:function(t){return n(p.changeCardCategoryStatus(e,t.target.checked))}}),e.get("name"),"    ")})))),f.default.createElement("div",{className:"category-box"},y.map(function(e,t){return e.get("checked")?f.default.createElement("div",{className:"jxc-config-card-modal-row select-row-with-two",key:e.get("name")},f.default.createElement("div",{className:"jxc-config-card-modal-item"},f.default.createElement("label",{className:"jxc-config-card-modal-label"},e.get("name"),"类别："),f.default.createElement("div",{className:"jxc-config-card-modal-input"},f.default.createElement(T.UpperClassSelect,{className:"jxc-config-modal-select",placeholder:"",treeData:e.get("tree")?e.get("tree"):[],treeDefaultExpandAll:!0,isLastSelect:!0,disabledParent:!0,value:e.get("selectUuid")?[e.get("selectName")]:[""],onSelect:function(t){n(p.changeCardCategoryType(e,t))}})))):null})),C?f.default.createElement("div",{className:"jxc-config-title"},"财务信息"):"",C?f.default.createElement("div",{className:"jxc-config-card-modal-row"},f.default.createElement("div",{className:"jxc-config-card-modal-item"},f.default.createElement("label",{className:"jxc-config-card-modal-label"},"存货科目："),f.default.createElement("div",{className:"jxc-config-card-modal-input"},f.default.createElement(T.SelectAc,{tipText:"必填，请选择科目",acId:b,acName:O,lrAclist:d,onChange:function(e){n(p.changeIUMangeCardAc(e,"inventoryAcId","inventoryAcName","inventorySettingCard"))}})))):"",f.default.createElement("div",{className:"modalBomb",style:{display:A?"":"none"}})))}}]),t}())||a);t.default=A},2546:function(e,t,n){},2548:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.exportToNotification=t.afterChImport=t.getFileUploadFetch=t.closeVcImportContent=t.beforeCHImport=t.selectCardAll=t.getCardListByType=t.modifyCardUsedStatus=t.deleteCardList=t.changeCardBoxStatus=t.beforeEditCard=t.getUndefineCard=t.changeUndefineCardAc=t.saveCard=t.changeCardNature=t.changeCardCategoryType=t.changeCardCategoryStatus=t.changeCardAc=t.changeCardContent=t.saveUndefineCard=t.beforeAddCard=t.getIUManageTypeInfo=t.confirmDeleteType=t.downType=t.upType=t.cancelIUManageType=t.changeCardTypeBoxChecked=t.beforeAddInventoryCardType=t.insertAddInventoryCardType=t.deleteInventoryType=t.saveInventoryCardType=t.changeCardTypeSelect=t.changeCardTypeContent=t.adjustCardTyepList=t.deleteHighType=t.beforeAddModalHighType=t.changeModalActiveHighType=t.refreshInventoryList=t.changeActiveHighType=t.editHighType=t.saveInventorySettingContent=t.changeHighTypeContent=t.getInventoryHighTypeList=t.inventorySettingInit=void 0;var a=d(n(37)),r=d(n(47));n(38),n(46);var l=s(n(2549)),u=(s(n(43)),d(n(52))),i=n(22),o=(s(n(30)),s(n(27))),c=(n(18),s(n(1229)));function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function d(e){return e&&e.__esModule?e:{default:e}}var f=r.default.confirm,g=function(e,t,n){e({type:l.SWITCH_LOADING_MASK});var a=t().inventorySettingState.get("anotherTabName");n.get("name")===a?(0,u.default)("getInventorySettingCardList","GET","listFrom=",function(t){(0,i.showMessage)(t)&&e({type:l.CHANGE_ACTIVE_INVENTORY_SETTING_HIGH_TYPE,name:n.get("name"),uuid:n.get("uuid"),cardList:t.data.resultList}),e({type:l.SWITCH_LOADING_MASK})}):(0,u.default)("getInventorySettingCardList","GET","listFrom="+n.get("uuid"),function(t){(0,i.showMessage)(t)&&(0,u.default)("getInventorySettingCardTypeList","GET","ctgyUuid="+n.get("uuid"),function(a){(0,i.showMessage)(a)&&e({type:l.CHANGE_ACTIVE_INVENTORY_SETTING_HIGH_TYPE,treelist:a.data.resultList,name:n.get("name"),uuid:n.get("uuid"),cardList:t.data.resultList})}),e({type:l.SWITCH_LOADING_MASK})})},m=(t.inventorySettingInit=function(){return function(e){(0,u.default)("getInventorySettingCardList","GET","listFrom=",function(t){(0,i.showMessage)(t)&&(0,u.default)("getInventoryHighTypeList","GET","",function(n){(0,i.showMessage)(n)&&e({type:l.INVENTORY_SETTING_INIT,title:n.data,cardList:t.data.resultList})})})}},t.getInventoryHighTypeList=function(){return function(e){(0,u.default)("getInventoryHighTypeList","GET","",function(t){(0,i.showMessage)(t)&&e({type:l.GET_INVENTORY_SETTING_HIGH_TYPE_LIST,title:t.data})})}},t.changeHighTypeContent=function(e,t){return function(n){n({type:l.CHANGE_INVENTORY_SETTING_HIGH_TYPE_CONTENT,name:e,value:t})}},t.saveInventorySettingContent=function(){return function(e,t){e({type:l.SWITCH_LOADING_MASK});var n=t().inventorySettingState.get("inventoryHighType").toJS();(0,u.default)("insertInventoryHighType","POST",JSON.stringify({psiData:n}),function(t){(0,i.showMessage)(t)&&0===t.code&&(e({type:l.GET_INVENTORY_SETTING_HIGH_TYPE_LIST,title:t.data}),a.default.info("保存成功"))}),e({type:l.SWITCH_LOADING_MASK})}},t.editHighType=function(e){return function(t,n){n().inventorySettingState.get("activeTapKey");var a=n().inventorySettingState.get("activeTapKeyUuid"),r=n().inventorySettingState.get("tags"),o="";1!=r.size&&(o=""===a?r.getIn([1,"uuid"]):a),t({type:l.SWITCH_LOADING_MASK}),(0,u.default)("getOneInventorySettingHighType","GET","uuid="+o,function(n){(0,i.showMessage)(n)&&(t({type:l.EDIT_INVENETORY_HIGH_TYPE,info:n.data}),e()),t({type:l.SWITCH_LOADING_MASK})})}},t.changeActiveHighType=function(e){return function(t,n){g(t,n,e)}},t.refreshInventoryList=function(e){return function(t,n){g(t,n,e)}},t.changeModalActiveHighType=function(e){return function(t){(0,u.default)("getOneInventorySettingHighType","GET","uuid="+e.get("uuid"),function(n){(0,i.showMessage)(n)&&t({type:l.CHANGE_MODAL_ACTIVE_HIGH_TYPE,info:n.data,name:e.get("name"),uuid:e.get("uuid")})})}},t.beforeAddModalHighType=function(){return function(e){e({type:l.INSERT_INVENTORY_SETTING_HGIH_TYPE})}},t.deleteHighType=function(e){return function(t,n){var r=n().inventorySettingState.get("activeInventoryTypeUuid");(0,u.default)("deleteInventorySettingHighType","POST",JSON.stringify({ctgyUuid:r}),function(n){(0,i.showMessage)(n)&&0===n.code&&(t({type:l.DELETE_INVENTORY_SETTING_HGIH_TYPE,title:n.data.resultList}),a.default.info("删除成功"),e())})}},t.adjustCardTyepList=function(e,t,n){return function(a,r){a({type:l.SWITCH_LOADING_MASK});var o=r().inventorySettingState.get("cardSelectList").toJS();o.map(function(t,n){t.subordinateName=e});var c=t,s=r().inventorySettingState.get("activeTapKeyUuid"),d=r().inventorySettingState.get("activeTreeKeyUuid");(0,u.default)("adjustInventorySettingCardTypeList","POST",JSON.stringify({cardList:o,subordinateUuid:c,adjustFrom:s,treeFrom:d}),function(e){(0,i.showMessage)(e)&&(a({type:l.ADJUST_INVENTORY_SETTING_CARD_TYPE_LIST,list:e.data.resultList}),n()),a({type:l.SWITCH_LOADING_MASK})})}},t.changeCardTypeContent=function(e,t){return function(n){n({type:l.CHANGE_INVENTORY_SETTING_CARD_TYPE_CONTENT,name:e,value:t})}},t.changeCardTypeSelect=function(e){return function(t){var n=e.split(o.TREE_JOIN_STR),a=n[1],r=n[0];t({type:l.SELECT_INVENTORY_SETTING_CARD_TYPE,parentName:a,parentUuid:r})}},t.saveInventoryCardType=function(e,t,n){return function(r,o){r({type:l.SWITCH_LOADING_MASK});var c=o().inventorySettingState.get("inventoryCardType").toJS();c.ctgyUuid=o().inventorySettingState.get("activeTapKeyUuid");var s=function(){r({type:l.SWITCH_LOADING_MASK}),(0,u.default)("addInventorySettingCardType","POST",JSON.stringify({psiData:c}),function(t){(0,i.showMessage)(t)&&(r({type:l.SAVE_INVENTORY_SETTING_CARD_TYPE,typeTree:t.data.resultList,uuid:c.uuid,btnFlag:e,typeInfo:t.data.info}),a.default.info("保存成功")),r({type:l.SWITCH_LOADING_MASK})})};(0,u.default)("adjustInventorySettingTypeTitleSame","POST",JSON.stringify({psiData:{parentUuid:c.parentUuid,name:c.name,uuid:c.uuid}}),function(e){(0,i.showMessage)(e)&&(e.data.repeat?(t(),f({title:"名称重复",content:"卡片名称与【编码："+e.data.card.code+"】卡片重复，确定保存吗？",onOk:function(){s(),n()},onCancel:function(){n()}})):s()),r({type:l.SWITCH_LOADING_MASK})})}},t.deleteInventoryType=function(){return function(e,t){e({type:l.INVENTORY_SETTING_TYPE_DELETE_BTN_SHOW})}},t.insertAddInventoryCardType=function(){return function(e){e({type:l.INSERT_INVENTORY_SETTING_CARD_TYPE})}},t.beforeAddInventoryCardType=function(e){return function(t){t({type:l.BEFORE_ADD_INVENTORY_SETTING_CARD_TYPE}),e()}},t.changeCardTypeBoxChecked=function(e){return function(t){t({type:l.CHANGE_INVENTORY_SETTING_CARD_TYPE_BOX_STATUS,list:e})}},t.cancelIUManageType=function(){return function(e,t){if(t().inventorySettingState.getIn(["inventorySettingBtnStatus","isAdd"])){var n=t().inventorySettingState.getIn(["inventorySettingBtnStatus","treeUuid"]);n===t().inventorySettingState.getIn(["typeTree",0,"uuid"])?e({type:l.CANCLE_INVENTORY_SETTING_TYPE_BTN,data:{}}):(e({type:l.SWITCH_LOADING_MASK}),(0,u.default)("getInventorySettingOneCardType","GET","uuid="+n,function(t){(0,i.showMessage)(t)&&e({type:l.CANCLE_INVENTORY_SETTING_TYPE_BTN,data:t.data}),e({type:l.SWITCH_LOADING_MASK})}))}else e({type:l.CANCLE_INVENTORY_SETTING_TYPE_BTN,data:{}})}},t.upType=function(){return function(e,t){e({type:l.SWITCH_LOADING_MASK});var n=t().inventorySettingState.getIn(["inventorySettingBtnStatus","treeUuid"]),a=t().inventorySettingState.getIn(["inventorySettingBtnStatus","upUuid"]),r=t().inventorySettingState.get("activeTapKeyUuid");(0,u.default)("swapInventorySettingTypePosition","POST",JSON.stringify({psiData:{selectedSubordinateUuid:n,swappedSubordinateUuid:a,categoryUuid:r}}),function(t){(0,i.showMessage)(t)&&e({type:l.CHANGE_INVENTORY_SETTING_TYPE_POSITION,list:t.data.resultList}),e({type:l.SWITCH_LOADING_MASK})})}},t.downType=function(){return function(e,t){e({type:l.SWITCH_LOADING_MASK});var n=t().inventorySettingState.getIn(["inventorySettingBtnStatus","treeUuid"]),a=t().inventorySettingState.getIn(["inventorySettingBtnStatus","downUuid"]),r=t().inventorySettingState.get("activeTapKeyUuid");(0,u.default)("swapInventorySettingTypePosition","POST",JSON.stringify({psiData:{selectedSubordinateUuid:n,swappedSubordinateUuid:a,categoryUuid:r}}),function(t){(0,i.showMessage)(t)&&e({type:l.CHANGE_INVENTORY_SETTING_TYPE_POSITION,list:t.data.resultList}),e({type:l.SWITCH_LOADING_MASK})})}},t.confirmDeleteType=function(){return function(e,t){e({type:l.SWITCH_LOADING_MASK});var n=t().inventorySettingState.get("typeTreeSelectList");if(0===n.size)return a.default.info("请选择要删除的类别"),void e({type:l.SWITCH_LOADING_MASK});var r=t().inventorySettingState.get("activeTapKeyUuid");(0,u.default)("deleteInventorySettingOneCardType","POST",JSON.stringify({ctgyUuid:r,deleteList:n}),function(t){(0,i.showMessage)(t)&&(e({type:l.CONFIRM_DELETE_INVENTORY_SETTING_TYPE,data:t.data.resultList}),a.default.info("删除成功")),e({type:l.SWITCH_LOADING_MASK})})}},t.getIUManageTypeInfo=function(e){return function(t,n){var a=n().inventorySettingState.getIn(["typeTree","0","uuid"])===e;a?t({type:l.GET_INVENTORY_SETTING_TYPE_CONTENT,uuid:e,data:{},isAll:a}):(t({type:l.SWITCH_LOADING_MASK}),(0,u.default)("getInventorySettingOneCardType","GET","uuid="+e,function(n){(0,i.showMessage)(n)&&t({type:l.GET_INVENTORY_SETTING_TYPE_CONTENT,uuid:e,data:n.data,isAll:a}),t({type:l.SWITCH_LOADING_MASK})}))}},t.beforeAddCard=function(e){return function(t,n){t({type:l.SWITCH_LOADING_MASK}),(0,u.default)("getIUManageCardLimitAndAc","GET","",function(e){(0,i.showMessage)(e)&&t({type:l.BEFORE_ADD_INVENTORY_SETTING_CARD,data:e.data}),t({type:l.SWITCH_LOADING_MASK})}),e()}},t.saveUndefineCard=function(e){return function(t,n){t({type:l.SWITCH_LOADING_MASK});var r=n().inventorySettingState.get("undefineCard").toJS();(0,u.default)("editInventorySettingUndefienCard","POST",JSON.stringify({psiData:r}),function(n){(0,i.showMessage)(n)&&(a.default.info("保存成功"),e()),t({type:l.SWITCH_LOADING_MASK})})}},t.changeCardContent=function(e,t){return function(n){n({type:l.CHANGE_INVENTORY_SETTING_CARD_CONTENT,name:e,value:t})}},t.changeCardAc=function(e,t,n){return function(a){var r=e.split(" ");a({type:l.CHANGE_INVENTORY_SETTING_CARD_AC,uuid:r[0],name:r[1],acId:t,acName:n})}},t.changeCardCategoryStatus=function(e,t){return function(n){(0,u.default)("getInventorySettingCardTypeList","GET","ctgyUuid="+e.get("uuid"),function(a){(0,i.showMessage)(a)&&n({type:l.CHANGE_INVENTORY_SETTING_CARD_CATEGORY_STATUS,list:a.data.resultList,item:e,value:t})})}},t.changeCardCategoryType=function(e,t){return function(n){var a=t.split(o.TREE_JOIN_STR);n({type:l.CHANGE_INVENTORY_SETTING_CARD_CATEGORY_TYPE,item:e,uuid:a[0],name:a[1]})}},t.changeCardNature=function(e,t){return function(n){n({type:l.CHANGE_INVENTORY_SETTING_CARD_NATURE,name:e,value:t})}},t.saveCard=function(e,t,n,r){return function(o,s){o({type:l.SWITCH_LOADING_MASK});var d=s().inventorySettingState.get("inventorySettingCard").toJS(),g=s().inventorySettingState.get("activeTapKeyUuid"),m=s().inventorySettingState.get("insertOrModify"),_=s().inventorySettingState.get("selectTypeId"),T=s().lrAccountState.get("cardTemp"),p={LB_YYSR:"acBusinessIncome",LB_YYZC:"acBusinessExpense",LB_YYWSR:"acBusinessOutIncome",LB_YYWZC:"acBusinessOutExpense",LB_JK:"acLoan",LB_TZ:"acInvest",LB_ZB:"acCapital",LB_CQZC:"acAssets",LB_FYZC:"acCost",LB_ZSKX:"acTemporaryReceipt",LB_ZFKX:"acTemporaryPay",LB_XCZC:"acPayment",LB_SFZC:"acTax"}[T.get("categoryType")],C=T.getIn([p,"stockRange"]),E=T.get("runningState"),S=function(){"insert"===m?(0,u.default)("addInventorySettingCard","POST",JSON.stringify({psiData:d,insertFrom:g,treeFrom:_,needAutoIncrementCode:"insert"!==e}),function(n){(0,i.showMessage)(n)&&(o({type:l.SAVE_INVENTORY_SETTING_CARD,list:n.data.resultList,flag:e,autoIncrementCode:n.data.autoIncrementCode}),t&&t(),a.default.info("保存成功"),C&&C.size&&o(c.getFirstStockCardList(C,E)))}):(0,u.default)("editInventorySettingCard","POST",JSON.stringify({psiData:d,modifyFrom:g,treeFrom:_}),function(e){(0,i.showMessage)(e)&&(o({type:l.SAVE_INVENTORY_SETTING_CARD,list:e.data.resultList}),a.default.info("修改成功"),t(),C&&C.size&&o(c.getFirstStockCardList(C,E)))})};(0,u.default)("adjustInventorySettingCardTitleSame","POST",JSON.stringify({psiData:{name:d.name,uuid:d.uuid}}),function(e){(0,i.showMessage)(e)&&(e.data.repeat?(n(),f({title:"名称重复",content:"卡片名称与【编码："+e.data.card.code+"】卡片重复，确定保存吗？",onOk:function(){S(),r()},onCancel:function(){r()}})):S()),o({type:l.SWITCH_LOADING_MASK})})}},t.changeUndefineCardAc=function(e,t,n){return function(a){var r=e.split(" ");a({type:l.CHANGE_INVENTORY_SETTING_UNDEFINE_CARD_AC,uuid:r[0],name:r[1],acId:t,acName:n})}},t.getUndefineCard=function(e){return function(t){(0,u.default)("getInventorySettingUndefienCard","GET","",function(e){(0,i.showMessage)(e)&&t({type:l.GET_INVENTORY_SETTING_UNDEFINE_CARD,data:e.data})}),e()}},t.beforeEditCard=function(e,t){return function(n){(0,u.default)("getInventorySettingOneCard","GET","uuid="+e.get("uuid"),function(e){(0,i.showMessage)(e)&&(n({type:l.BEFORE_EDIT_INVENTORY_SETTING_CARD,data:e.data}),t())})}},t.changeCardBoxStatus=function(e,t){return function(n){n({type:l.CHANGE_INVENTORY_SETTING_CARD_BOX_STATUS,status:e,uuid:t})}},t.deleteCardList=function(){return function(e,t){var n=t().inventorySettingState.get("activeTapKeyUuid"),r=t().inventorySettingState.get("activeTreeKeyUuid"),o=t().inventorySettingState.get("cardSelectList").toJS();(0,u.default)("deleteInventorySettingCardList","POST",JSON.stringify({deleteList:o,deleteFrom:n,treeFrom:r}),function(t){(0,i.showMessage)(t)&&(e({type:l.DELETE_INVENTORY_SETTING_CARD_LIST,list:t.data.resultList,treeList:t.data.typeList}),""===t.data.error?a.default.info("删除成功"):a.default.info(t.data.error))})}},t.modifyCardUsedStatus=function(e,t){return function(n){(0,u.default)("modifyInventorySettingCardUsedStatus","POST",JSON.stringify({psiData:{uuid:e,used:t}}),function(r){(0,i.showMessage)(r)&&(n({type:l.CHANGE_INVENTORY_SETTING_CARD_USED_STATUS,list:r.data.resultList,uuid:e,used:t}),a.default.info("修改成功"))})}},t.getCardListByType=function(e,t,n){return function(a){(0,u.default)("getInventorySettingCardListByType","GET","ctgyUuid="+e+"&&subordinateUuid="+t,function(e){(0,i.showMessage)(e)&&a({type:l.SELECT_INVENTORY_SETTING_CARD_BY_TYPE,list:e.data.resultList,uuid:t,name:n})})}},t.selectCardAll=function(e){return function(t){t({type:l.SELECT_INVENTORY_SETTING_CARD_ALL,value:e})}},t.beforeCHImport=function(){return{type:l.BEFORE_CH_IMPORT}},t.closeVcImportContent=function(){return{type:l.CLOSE_CH_IMPORT_CONTENT}}),_=(t.getFileUploadFetch=function(e){return function(t){(0,u.default)("chUpload","UPLOAD",e,function(e){if((0,i.showMessage)(e)){if(e.data){t({type:l.CHANGE_CH_IMPORT_NUM,name:"totalNumber",value:e.data.pages}),t({type:l.CHANGE_CH_IMPORT_NUM,name:"importKey",value:e.data.importKey}),t({type:l.CHANGE_CH_IMPORT_STATUS,value:!0});!function n(a){a<=e.data.pages&&setTimeout(function(){(0,u.default)("chImport","POST",JSON.stringify({importKey:e.data.importKey,current:a}),function(o){(0,i.showMessage)(o)?a<e.data.pages?n(a+1):(t({type:l.CHANGE_CH_IMPORT_STATUS,value:!1}),(0,u.default)("chImportError","GET","importKey="+e.data.importKey+"&needDownload=false",function(e){t(_(e))})):(r.default.error({title:"异常提示",content:"请求异常，请稍后重试"}),t(m()))}),t({type:l.CHANGE_CH_IMPORT_NUM,name:"curNumber",value:a})},500)}(1)}}else t(m())})}},t.afterChImport=function(e){return function(t){t({type:l.AFTER_CH_IMPORT,receivedData:e})}});t.exportToNotification=function(){return function(e){(0,u.default)("chExport","GET","",function(e){(0,i.showMessage)(e,"show")})}}},2549:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SWITCH_LOADING_MASK="SWITCH_LOADING_MASK",t.INIT_INVENTORYSETTING="INIT_INVENTORYSETTING",t.CHANGE_INVENTORY_SETTING_HIGH_TYPE_CONTENT="CHANGE_INVENTORY_SETTING_HIGH_TYPE_CONTENT",t.GET_INVENTORY_SETTING_HIGH_TYPE_LIST="GET_INVENTORY_SETTING_HIGH_TYPE_LIST",t.EDIT_INVENETORY_HIGH_TYPE="EDIT_INVENETORY_HIGH_TYPE",t.CHANGE_ACTIVE_INVENTORY_SETTING_HIGH_TYPE="CHANGE_ACTIVE_INVENTORY_SETTING_HIGH_TYPE",t.CHANGE_MODAL_ACTIVE_HIGH_TYPE="CHANGE_MODAL_ACTIVE_HIGH_TYPE",t.INSERT_INVENTORY_SETTING_HGIH_TYPE="INSERT_INVENTORY_SETTING_HGIH_TYPE",t.DELETE_INVENTORY_SETTING_HGIH_TYPE="DELETE_INVENTORY_SETTING_HGIH_TYPE",t.CHANGE_INVENTORY_SETTING_CARD_TYPE_CONTENT="CHANGE_INVENTORY_SETTING_CARD_TYPE_CONTENT",t.SELECT_INVENTORY_SETTING_CARD_TYPE="SELECT_INVENTORY_SETTING_CARD_TYPE",t.SAVE_INVENTORY_SETTING_CARD_TYPE="SAVE_INVENTORY_SETTING_CARD_TYPE",t.INSERT_INVENTORY_SETTING_CARD_TYPE="INSERT_INVENTORY_SETTING_CARD_TYPE",t.BEFORE_ADD_INVENTORY_SETTING_CARD_TYPE="BEFORE_ADD_INVENTORY_SETTING_CARD_TYPE",t.CHANGE_INVENTORY_SETTING_CARD_TYPE_BOX_STATUS="CHANGE_INVENTORY_SETTING_CARD_TYPE_BOX_STATUS",t.GET_INVENTORY_SETTING_TYPE_CONTENT="GET_INVENTORY_SETTING_TYPE_CONTENT",t.BEFORE_ADD_INVENTORY_SETTING_CARD="BEFORE_ADD_INVENTORY_SETTING_CARD",t.CHANGE_INVENTORY_SETTING_CARD_CONTENT="CHANGE_INVENTORY_SETTING_CARD_CONTENT",t.CHANGE_INVENTORY_SETTING_CARD_AC="CHANGE_INVENTORY_SETTING_CARD_AC",t.CHANGE_INVENTORY_SETTING_CARD_CATEGORY_STATUS="CHANGE_INVENTORY_SETTING_CARD_CATEGORY_STATUS",t.CHANGE_INVENTORY_SETTING_CARD_CATEGORY_TYPE="CHANGE_INVENTORY_SETTING_CARD_CATEGORY_TYPE",t.CHANGE_INVENTORY_SETTING_CARD_NATURE="CHANGE_INVENTORY_SETTING_CARD_NATURE",t.SAVE_INVENTORY_SETTING_CARD="SAVE_INVENTORY_SETTING_CARD",t.INVENTORY_SETTING_INIT="INVENTORY_SETTING_INIT",t.BEFORE_EDIT_INVENTORY_SETTING_CARD="BEFORE_EDIT_INVENTORY_SETTING_CARD",t.CHANGE_INVENTORY_SETTING_CARD_BOX_STATUS="CHANGE_INVENTORY_SETTING_CARD_BOX_STATUS",t.DELETE_INVENTORY_SETTING_CARD_LIST="DELETE_INVENTORY_SETTING_CARD_LIST",t.CHANGE_INVENTORY_SETTING_CARD_USED_STATUS="CHANGE_INVENTORY_SETTING_CARD_USED_STATUS",t.SELECT_INVENTORY_SETTING_CARD_BY_TYPE="SELECT_INVENTORY_SETTING_CARD_BY_TYPE",t.SELECT_INVENTORY_SETTING_CARD_ALL="SELECT_INVENTORY_SETTING_CARD_ALL",t.ADJUST_INVENTORY_SETTING_CARD_TYPE_LIST="ADJUST_INVENTORY_SETTING_CARD_TYPE_LIST",t.GET_INVENTORY_SETTING_UNDEFINE_CARD="GET_INVENTORY_SETTING_UNDEFINE_CARD",t.CHANGE_INVENTORY_SETTING_UNDEFINE_CARD_AC="CHANGE_INVENTORY_SETTING_UNDEFINE_CARD_AC",t.INVENTORY_SETTING_TYPE_DELETE_BTN_SHOW="INVENTORY_SETTING_TYPE_DELETE_BTN_SHOW",t.CONFIRM_DELETE_INVENTORY_SETTING_TYPE="CONFIRM_DELETE_INVENTORY_SETTING_TYPE",t.CANCLE_INVENTORY_SETTING_TYPE_BTN="CANCLE_INVENTORY_SETTING_TYPE_BTN",t.CHANGE_INVENTORY_SETTING_TYPE_POSITION="CHANGE_INVENTORY_SETTING_TYPE_POSITION",t.BEFORE_CH_IMPORT="BEFORE_CH_IMPORT",t.CLOSE_CH_IMPORT_CONTENT="CLOSE_CH_IMPORT_CONTENT",t.AFTER_CH_IMPORT="AFTER_CH_IMPORT",t.CHANGE_CH_IMPORT_NUM="CHANGE_CH_IMPORT_NUM",t.CHANGE_CH_IMPORT_STATUS="CHANGE_CH_IMPORT_STATUS"},2550:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(1),i=(r=u)&&r.__esModule?r:{default:r},o=n(17);n(18),function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(27)),n(127);var c=(0,o.immutableRenderDecorator)(a=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),l(t,[{key:"render",value:function(){return function(e){if(null==e)throw new TypeError("Cannot destructure undefined")}(this.props),i.default.createElement("div",{className:"lrAccount-title"},i.default.createElement("h1",null,"流水账1"))}}]),t}())||a;t.default=c},2551:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=L(n(32)),l=L(n(37)),u=L(n(100)),i=L(n(1230)),o=L(n(45)),c=L(n(129)),s=L(n(70)),d=L(n(171)),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(51),n(38),n(99),n(1231),n(55),n(128),n(69),n(170);var g=L(n(1)),m=n(17),_=I(n(27)),T=(n(22),n(127)),p=L(n(1476)),C=(I(n(1239)),I(n(1229))),E=I(n(1242)),S=n(18),A=L(n(6)),y=L(n(1281)),N=I(n(1243));function I(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function L(e){return e&&e.__esModule?e:{default:e}}d.default.TreeNode,s.default.TabPane;var h=(0,m.immutableRenderDecorator)(a=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={yllsVisible:!1},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,g.default.Component),f(t,[{key:"componentWillReceiveProps",value:function(e){this.props.homeState.get("homeActiveKey")===e.homeState.get("homeActiveKey")&&this.props.homeState.get("pageActive")===e.homeState.get("pageActive")||!0!==this.state.yllsVisible||this.setState({yllsVisible:!1})}},{key:"componentDidMount",value:function(){var e=this.props,t=e.calculateTemp,n=e.flags,a=e.dispatch,r=t.get("runningDate"),l=t.get("detail"),u=n.get("modify"),i=n.get("managerCategoryList");u&&l.forEach(function(e,t){e.get("beOpened")&&!i.get(t)&&a(C.getManagerCategoryList(t,e.get("assType")))}),r&&this.props.dispatch(C.getAccountObjectList(r))}},{key:"render",value:function(){var e=this,t=this.props,n=(t.onCancel,t.dispatch),a=(t.showRunningInfo,t.showRunningInfoModal,t.runningInfoModalType,t.modifyRunningModal,t.calculateTemp),s=t.disabledBeginDate,d=t.flags,f=t.accountList,m=t.hideCategoryList,I=t.configPermissionInfo,L=t.yllsState,h=t.panes,v=this.state.yllsVisible,O={LB_SFGL:"收付管理"},b=d.get("paymentType"),R=d.get("paymentInsertOrModify"),M=d.get("isQuery"),D=d.get("selectedKeys"),G=function(e,t,n){return t?e&&((0,A.default)(s)>e||e<(0,A.default)(n)):e&&(0,A.default)(s)>e},U=a.get("runningDate"),P=a.get("flowNumber"),F=a.get("runningAbstract"),B=a.get("handleAmount"),w=a.get("accountName"),Y=(a.get("amount"),d.get("selectList")),J=a.get("detail"),Z=a.get("cardList"),H=a.get("acList"),k=a.get("usedCard"),x=(d.get("issuedate"),d.get("modify")),X=d.get("totalAmount"),j=d.get("indexList"),K=d.get("accountType"),W=d.get("managerCategoryList"),z=a.get("handlingAmount"),V=d.get("showContactsModal"),Q=a.get("runningIndex"),q=a.get("runningState"),$=(a.get("contactsCardRange"),a.get("cardUuid")),ee=(a.get("direction"),a.get("flowType"),a.get("moedAmount")),te=a.get("beMoed"),ne=(d.get("isQueryByBusiness"),d.get("runningInsertOrModify"),d.get("MemberList")),ae=d.get("selectThingsList"),re=d.get("thingsList"),le=L.get("lsItemData"),ue=/^\d*\.?\d{0,2}$/,ie=void 0;ie="single"===K?1===Y.size:!(!J||!J.size)&&Y.size===J.size;var oe=[],ce=0,se=0;Z&&Z.size&&Z.forEach(function(e,t){oe.push(g.default.createElement(Option,{key:e.get("code"),value:""+e.get("code")+_.TREE_JOIN_STR+e.get("name")+_.TREE_JOIN_STR+e.get("uuid")},e.get("code")+" "+e.get("name")))}),H&&H.size&&H.map(function(e,t){oe.push(g.default.createElement(Option,{key:e.get("acId"),value:""+e.get("acId")+_.TREE_JOIN_STR+e.get("acFullName")+_.TREE_JOIN_STR+"ac"},e.get("acFullName")))});var de=[];return J&&J.size&&J.forEach(function(t,a){var r=t.get("runningState"),l=Number(t.get("notHandleAmount")),u=Number(t.get("handleAmount"));"STATE_YYSR_TS"!==r&&"STATE_YYZC_TG"!==r||(l=-Math.abs(l),u=-Math.abs(u));var i=function(e,t,n,a){var r=void 0;r=M?t.toFixed(2):x?(e+t).toFixed(2):e.toFixed(2);var l=void 0,u=void 0;return"debit"===n?"FLOW_INADVANCE"===a?(l=g.default.createElement("span",{className:"left-span"},r),ce-=Number(r)):(l=g.default.createElement("span",{className:"right-span"},r),ce+=Number(r)):"FLOW_INADVANCE"===a?(u=g.default.createElement("span",{className:"left-span"},r),se-=Number(r)):(u=g.default.createElement("span",{className:"right-span"},r),se+=Number(r)),{amount1:l,amount2:u}}(l,u,t.get("direction"),t.get("flowType")),s=i.amount1,d=i.amount2,f=Y.indexOf(t.get("uuid"))>-1;M?de.push(g.default.createElement(T.TableItem,{className:"lrAccount-table-sfgl-success-width",key:t.get("uuid")},g.default.createElement("li",null,t.get("runningDate")),g.default.createElement("li",null,g.default.createElement("span",null,t.get("flowNumber"))),g.default.createElement("li",{className:"over-dian"},g.default.createElement("span",null,t.get("categoryName"))),g.default.createElement("li",{className:"over-dian"},g.default.createElement("span",null,t.get("beOpened")?"期初余额":t.get("runningAbstract"))),g.default.createElement("li",null,s),g.default.createElement("li",null,d))):de.push(g.default.createElement(T.TableItem,{className:"lrAccount-table-sfgl-width",key:t.get("uuid")},g.default.createElement("li",{onClick:function(e){e.stopPropagation(),0===Q&&(t.get("beOpened")&&!W.get(a)&&n(C.getManagerCategoryList(a,t.get("assType"))),n(C.accountItemCheckboxCheck(f,t.get("uuid"),a)),n(C.accountTotalAmount(!0)))}},g.default.createElement(c.default,{checked:f,disabled:0!==Q})),g.default.createElement("li",null,t.get("runningDate")),g.default.createElement(T.TableOver,{textAlign:"left",className:"account-flowNumber",onClick:function(){n(N.getYllsBusinessData(t,function(){return e.setState({yllsVisible:!0})}))}},g.default.createElement("span",null,t.get("flowNumber"))),g.default.createElement("li",{className:"qichuye"},g.default.createElement("span",null,t.get("beOpened")&&f?g.default.createElement(o.default,{value:t.get("categoryName"),onSelect:function(e){return n(C.changeBeforeAmount(t,e,a))}},W.get(a)&&W.get(a).map(function(e,t){return g.default.createElement(Option,{key:t,value:""+e.get("code")+_.TREE_JOIN_STR+e.get("name")+_.TREE_JOIN_STR+e.get("uuid")},e.get("name"))})):t.get("categoryName"))),g.default.createElement("li",{className:"over-dian"},g.default.createElement("span",null,t.get("beOpened")?"期初余额":t.get("runningAbstract"))),g.default.createElement("li",null,s),g.default.createElement("li",null,d)))}),"LB_SFGL"===b?M?g.default.createElement("div",{className:"accountConf-modal-list accountConf-modal-list-hidden"},g.default.createElement("div",{className:"accountConf-modal-list-item"},g.default.createElement("label",null,"流水号："),g.default.createElement("div",null,P)),g.default.createElement("div",{className:"accountConf-modal-list-item"},g.default.createElement("label",null,"日期："),g.default.createElement("div",null,U)),g.default.createElement("div",{className:"accountConf-modal-list-item"},g.default.createElement("label",null,"流水类别："),g.default.createElement("div",null,O[b])),g.default.createElement("div",{className:"accountConf-modal-list-item"},g.default.createElement("label",null,"往来单位："),g.default.createElement("div",null,(k.get("code")?k.get("code"):"")+" "+(k.get("name")?k.get("name"):""))),g.default.createElement("div",{className:"accountConf-separator"}),g.default.createElement("div",{className:"accountConf-modal-list-item"},g.default.createElement("label",null,"摘要："),g.default.createElement("div",null,F)),g.default.createElement("div",{className:"accountConf-modal-list-item"},g.default.createElement("label",null,(X>=0?"收":"付")+"款金额："),g.default.createElement("div",null,void 0===B?"":B.toFixed(2))),g.default.createElement("div",{className:"accountConf-modal-list-item",style:{display:w?"":"none"}},g.default.createElement("label",null,"账户："),g.default.createElement("div",null,w)),te?g.default.createElement("div",{className:"accountConf-modal-list-item"},g.default.createElement("label",null,"抹零金额："),g.default.createElement("div",null,ee.toFixed(2))):"",g.default.createElement("div",{className:"accountConf-separator"}),g.default.createElement("div",{style:{margin:"10px 0"}},"核账详情："),g.default.createElement(T.TableAll,{className:"lrAccount-table"},g.default.createElement(T.TableTitle,{className:"lrAccount-table-sfgl-success-width",titleList:["日期","流水号","流水类别","摘要","收款核销","付款核销"]}),g.default.createElement(T.TableBody,null,de,g.default.createElement(T.TableItem,{className:"lrAccount-table-sfgl-success-width",key:"total"},g.default.createElement("li",null),g.default.createElement("li",null),g.default.createElement("li",null),g.default.createElement("li",null,"合计"),g.default.createElement("li",null,ce?ce<0?g.default.createElement("span",{className:"left-span"},Math.abs(ce).toFixed(2)):g.default.createElement("span",{className:"right-span"},ce.toFixed(2)):""),g.default.createElement("li",null,se?se<0?g.default.createElement("span",{className:"left-span"},Math.abs(se).toFixed(2)):g.default.createElement("span",{className:"right-span"},se.toFixed(2)):""))))):g.default.createElement("div",{className:"accountConf-modal-list accountConf-modal-list-hidden"},g.default.createElement("div",{className:"accountConf-modal-list-item"},g.default.createElement("label",null,"日期："),g.default.createElement("div",null,g.default.createElement(i.default,{allowClear:!1,disabled:0!=Q,disabledDate:function(e){if(x){var t=J.getIn([0,"runningDate"]);return G(e,x,t)}return G(e)},value:(0,A.default)(U),onChange:function(e){var t=e.format("YYYY-MM-DD");n(C.changeLrAccountCommonString("calculate","runningDate",t)),"LB_SFGL"===b&&"modify"===R||(n(C.getAccountObjectList(t)),$&&n(C.getBusinessList(t,$)))}}))),g.default.createElement("div",{className:"accountConf-modal-list-item"},g.default.createElement("label",null,"流水类别："),g.default.createElement("div",null,g.default.createElement(o.default,{disabled:x||"single"===K,value:O[b],onChange:function(e){n(C.changeLrAccountCommonString("",["flags","paymentType"],e))}},m&&m.size?m.map(function(e){return g.default.createElement(Option,{key:e.get("uuid"),value:e.get("categoryType")},e.get("name"))}):null))),g.default.createElement("div",{className:"accountConf-modal-list-item"},g.default.createElement("label",null,"往来单位："),g.default.createElement("div",{className:"chosen-right"},g.default.createElement(o.default,{showSearch:!0,disabled:x,combobox:!0,value:(k.get("code")?k.get("code"):"")+" "+(k.get("name")?k.get("name"):""),onChange:function(e){var t=e.split(_.TREE_JOIN_STR),a=t[0],r=t[1],l=t[2];n(C.changeLrAccountCommonString("calculate","cardUuid",l)),n(C.changeLrAccountCommonString("calculate",["usedCard","code"],a)),n(C.changeLrAccountCommonString("calculate",["usedCard","name"],r)),U&&n(C.getBusinessList(U,l))}},oe),g.default.createElement("div",{className:"chosen-word",onClick:function(){x||(n(C.getManagesCardList(U)),n(C.changeLrAccountCommonString("",["flags","currentCardType"],"contacts")))}},"选择"))),g.default.createElement("div",{className:"accountConf-modal-list-item"},g.default.createElement("label",null,"摘要："),g.default.createElement("div",null,g.default.createElement(u.default,{value:F,onChange:function(e){n(C.changeLrAccountCommonString("calculate","runningAbstract",e.target.value))}}))),g.default.createElement("div",{className:"accountConf-modal-list-item"},g.default.createElement("label",null,(X>=0?"收":"付")+"款金额："),g.default.createElement("div",null,g.default.createElement(u.default,{disabled:0!=Q,value:z,onChange:function(e){if(void 0!==e.target.value){var t=e.target.value.indexOf("。")>-1?e.target.value.replace("。","."):e.target.value;0===t.indexOf("0")&&"0"!=t&&t>=1&&(t=t.substr(1)),ue.test(t)||""===t?n(C.changeLrAccountCommonString("calculate","handlingAmount",t)):l.default.info("金额只能输入带两位小数的数字")}}}))),g.default.createElement("div",{className:"accountConf-modal-list-item",style:{display:z>0?"":"none"}},g.default.createElement("label",null,"账户："),g.default.createElement("div",{className:"lrls-account-box"},g.default.createElement(o.default,{disabled:0!=Q,value:w,onChange:function(e){return e||n(C.changeLrAccountAccountName("calculate","accountUuid","accountName",e))},onSelect:function(e){return n(C.changeLrAccountAccountName("calculate","accountUuid","accountName",e))}},f.getIn([0,"childList"]).map(function(e,t){return g.default.createElement(Option,{key:t,value:""+e.get("uuid")+_.TREE_JOIN_STR+e.get("name")},e.get("name"))})),g.default.createElement(r.default,{disabled:!I.getIn(["edit","permission"]),className:"title-right",type:"ghost",onClick:function(){n(C.changeLrAccountCommonString("",["flags","showAccountModal"],!0)),n(E.beforeInsertAccountConf("account","","fromLrAccount"))}},"新增"))),g.default.createElement("div",{className:"accountConf-modal-list-item"},g.default.createElement("span",{style:{marginRight:"10px"}},g.default.createElement(c.default,{checked:te,onChange:function(e){n(C.changeLrAccountCommonString("calculate","beMoed",!te))}})),g.default.createElement("label",{className:"large-width-label"},"应"+(X>=0?"收":"付")+"抹零")),te?g.default.createElement("div",{className:"accountConf-modal-list-item"},g.default.createElement("label",null,"抹零金额："),g.default.createElement("div",null,g.default.createElement(u.default,{value:ee,onChange:function(e){if(void 0!==e.target.value){var t=e.target.value.indexOf("。")>-1?e.target.value.replace("。","."):e.target.value;0===t.indexOf("0")&&"0"!=t&&t>=1&&(t=t.substr(1)),ue.test(t)||""===t?n(C.changeLrAccountCommonString("calculate","moedAmount",t)):l.default.info("金额只能输入带两位小数的数字")}}}))):"",g.default.createElement("div",{className:"accountConf-separator"}),g.default.createElement("div",{className:"lrAccount-detail-title"},g.default.createElement("div",{className:"lrAccount-detail-title-top"},"请勾选需要核账的流水："),g.default.createElement("div",{className:"lrAccount-detail-title-bottom"},g.default.createElement("span",null,"已勾选流水：",j.size,"条"),g.default.createElement("span",null,"待核销"+(X>=0?"收":"付")+"款金额：",g.default.createElement("span",null,X?Math.abs(X).toFixed(2):"0.00")))),g.default.createElement(T.TableAll,{className:"lrAccount-table"},g.default.createElement(T.TableTitle,{className:"lrAccount-table-sfgl-width",titleList:["日期","流水号","流水类别","摘要","预收/应收","预付/应付"],disabled:0!==Q,hasCheckbox:!0,selectAcAll:ie,onClick:function(e){e.stopPropagation(),0===Q&&(n("single"===K?C.accountItemCheckboxCheckAll(ie,(0,S.fromJS)([a])):C.accountItemCheckboxCheckAll(ie,J)),n(C.accountTotalAmount(!0)))}}),g.default.createElement(T.TableBody,null,de,g.default.createElement(T.TableItem,{className:"lrAccount-table-sfgl-width",key:"total"},g.default.createElement("li",null),g.default.createElement("li",null),g.default.createElement("li",null),g.default.createElement("li",null),g.default.createElement("li",null,"合计"),g.default.createElement("li",null,ce?ce<0?g.default.createElement("span",{className:"left-span"},Math.abs(ce).toFixed(2)):g.default.createElement("span",{className:"right-span"},Math.abs(ce).toFixed(2)):""),g.default.createElement("li",null,se?se<0?g.default.createElement("span",{className:"left-span"},Math.abs(se).toFixed(2)):g.default.createElement("span",{className:"right-span"},Math.abs(se).toFixed(2)):"")))),v?g.default.createElement(y.default,{yllsVisible:v,dispatch:n,yllsState:L,onClose:function(){return e.setState({yllsVisible:!1})},editLrAccountPermission:!0,panes:h,lsItemData:le,uuidList:J.filter(function(e,t){return!(t>0)||e.get("uuid")!==J.getIn([t-1,"uuid"])}),showDrawer:function(){return e.setState({yllsVisible:!0})},refreshList:function(){return n(C.getBusinessList(U,$))}}):"",g.default.createElement(p.default,{showContactsModal:V,MemberList:ne,thingsList:re,selectThingsList:ae,dispatch:n,currentCardType:"contacts",modalName:"showContactsModal",palceTemp:"calculate",runningState:q,runningDate:U,selectedKeys:D})):null}}]),t}())||a;t.default=h},2552:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=N(n(129)),l=N(n(14)),u=N(n(37)),i=N(n(100)),o=N(n(45)),c=N(n(1230)),s=N(n(70)),d=N(n(171)),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(128),n(78),n(38),n(99),n(55),n(1231),n(69),n(170);var g=N(n(1)),m=n(17),_=(y(n(27)),n(22)),T=n(127),p=N(n(2553)),C=(y(n(1239)),y(n(1229))),E=(y(n(1242)),n(18),N(n(1281))),S=y(n(1243)),A=N(n(6));function y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function N(e){return e&&e.__esModule?e:{default:e}}d.default.TreeNode,s.default.TabPane;var I=(0,m.immutableRenderDecorator)(a=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={showCommonChargeModal:!1,yllsVisible:!1},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,g.default.Component),f(t,[{key:"componentWillReceiveProps",value:function(e){this.props.homeState.get("homeActiveKey")===e.homeState.get("homeActiveKey")&&this.props.homeState.get("pageActive")===e.homeState.get("pageActive")||!0!==this.state.yllsVisible||this.setState({yllsVisible:!1})}},{key:"componentDidMount",value:function(){"insert"===this.props.flags.get("paymentInsertOrModify")&&this.props.dispatch(C.getProjectShareList())}},{key:"render",value:function(){var e=this,t=this.props,n=(t.onCancel,t.dispatch),a=(t.showRunningInfo,t.showRunningInfoModal,t.runningInfoModalType,t.modifyRunningModal,t.commonChargeTemp),s=t.disabledBeginDate,d=t.flags,f=(t.accountList,t.hideCategoryList),m=(t.configPermissionInfo,t.yllsState),y=t.panes,N=this.state.yllsVisible,I=/^-{0,1}\d*\.?\d{0,2}$/,L=d.get("paymentType"),h=(d.get("paymentInsertOrModify"),d.get("isQuery"),d.get("modify")),v=d.get("MemberList"),O=d.get("thingsList"),b=d.get("selectItem"),R=d.get("selectList"),M=d.get("selectThingsList"),D=d.get("selectedKeys"),G=a.get("runningDate"),U=a.get("runningAbstract"),P=(a.get("runningIndex"),a.get("paymentList")),F=a.get("projectCard"),B=a.get("flowNumber"),w=a.get("amount")?a.get("amount"):0,Y=function(e,t,n){return t?e&&((0,A.default)(s)>e||e<(0,A.default)(n)):e&&(0,A.default)(s)>e},J=m.get("lsItemData");return"LB_GGFYFT"===L?g.default.createElement("div",{className:"accountConf-modal-list accountConf-modal-list-hidden"},h?g.default.createElement("div",{className:"accountConf-modal-list-item"},g.default.createElement("label",null,"流水号："),g.default.createElement("div",null,B)):"",g.default.createElement("div",{className:"accountConf-modal-list-item"},g.default.createElement("label",null,"日期："),g.default.createElement("div",null,g.default.createElement(c.default,{allowClear:!1,disabledDate:function(e){if(h){var t=P.getIn([0,"runningDate"]);return Y(e,h,t)}return Y(e)},value:(0,A.default)(G),onChange:function(e){var t=e.format("YYYY-MM-DD");n(C.changeLrAccountCommonString("commonCharge","runningDate",t)),!h&&n(C.getProjectShareList(t))}}))),g.default.createElement("div",{className:"accountConf-modal-list-item"},g.default.createElement("label",null,"流水类别："),g.default.createElement("div",null,g.default.createElement(o.default,{disabled:h,value:{LB_GGFYFT:"项目公共费用分摊"}[L],onChange:function(e){n(C.changeLrAccountCommonString("",["flags","paymentType"],e))}},f&&f.size?f.map(function(e){return g.default.createElement(Option,{key:e.get("uuid"),value:e.get("categoryType")},e.get("name"))}):null))),g.default.createElement("div",{className:"accountConf-modal-list-item"},g.default.createElement("label",null,"摘要："),g.default.createElement("div",null,g.default.createElement(i.default,{value:U,onChange:function(e){n(C.changeLrAccountCommonString("commonCharge","runningAbstract",e.target.value))}}))),F.size?F.map(function(e,t){return g.default.createElement("div",null,g.default.createElement("div",null,(e.get("code")||"")+" "+(e.get("name")||"")),g.default.createElement("div",{className:"accountConf-modal-list-item"},g.default.createElement("label",null,"分摊金额:"),g.default.createElement("div",null,g.default.createElement(i.default,{disabled:0==w,value:e.get("amount")?e.get("amount"):"",onChange:function(e){var a=e.target.value.indexOf("。")>-1?e.target.value.replace("。","."):e.target.value;if(I.test(a)||""===a)if(Math.abs(a)>Math.abs(w))u.default.info("金额不能大于待分摊金额");else{var r=(Number(a)/Number(w)*100).toFixed(2);n(C.changeLrAccountCommonString("commonCharge",["projectCard",t,"amount"],e.target.value)),n(C.changeLrAccountCommonString("commonCharge",["projectCard",t,"percent"],r))}else u.default.info("金额只能输入带两位小数的数字")}})),g.default.createElement("span",{className:"percent-content"},"占比：",g.default.createElement(i.default,{style:{width:"39px",padding:0},value:e.get("percent")?e.get("percent"):"",onChange:function(e){var a=e.target.value.indexOf("。")>-1?e.target.value.replace("。","."):e.target.value;if(I.test(a)||""===a){var r=Number(e.target.value)/100;n(C.changeLrAccountCommonString("commonCharge",["projectCard",t,"percent"],a)),n(C.changeLrAccountCommonString("commonCharge",["projectCard",t,"amount"],(Number(w)*r).toFixed(2)))}else u.default.info("只能输入带两位小数的数字")}}),"%"),g.default.createElement(l.default,{type:"close",theme:"outlined",style:{cursor:"pointer",lineHeight:"240%"},onClick:function(){n(C.changeLrAccountCommonString("commonCharge","projectCard",F.splice(t,1)))}})))}):"",g.default.createElement("div",{className:"accountConf-modal-list-item"},g.default.createElement("label",null),g.default.createElement("div",{onClick:function(){e.setState({showCommonChargeModal:!0}),n(C.getChargeProjectCard())},style:{cursor:"pointer"}},g.default.createElement(l.default,{type:"plus",theme:"outlined"}),g.default.createElement("span",null,"添加分摊项目"))),g.default.createElement("div",{className:"accountConf-separator"}),g.default.createElement("div",{className:"lrAccount-detail-title"},g.default.createElement("div",{className:"lrAccount-detail-title-top"},"请勾选需要核账的流水："),g.default.createElement("div",{className:"lrAccount-detail-title-bottom"},g.default.createElement("span",null,"已勾选流水：",P?P.reduce(function(e,t){return t.get("beSelect")?e+1:e},0):"","条"),g.default.createElement("span",null,"待分摊金额：",g.default.createElement("span",null,w?Number(w).toFixed(2):"")))),g.default.createElement(T.TableAll,{className:"lrAccount-table"},g.default.createElement(T.TableTitle,{className:"lrAccount-table-sfgl-width",titleList:["日期","流水号","流水类别","摘要","类型","待处理金额"],selectAcAll:P.every(function(e){return e.get("beSelect")}),hasCheckbox:!0,onClick:function(e){if(e.stopPropagation(),P.every(function(e){return e.get("beSelect")})){var t=P.map(function(e){return e.set("beSelect",!1)});n(C.changeLrAccountCommonString("commonCharge","paymentList",t)),n(C.changeLrAccountCommonString("commonCharge","amount",0))}else{var a=P.map(function(e){return e.set("beSelect",!0)});n(C.changeLrAccountCommonString("commonCharge","paymentList",a)),n(C.changeLrAccountCommonString("commonCharge","amount",P.reduce(function(e,t){return e+Number(t.get("amount"))},0)))}}}),g.default.createElement(T.TableBody,null,P&&P.size?P.map(function(t,a){return g.default.createElement(T.TableItem,{className:"lrAccount-table-sfgl-width common-charge-list",key:t.get("uuid")},g.default.createElement("li",null,g.default.createElement(r.default,{checked:t.get("beSelect"),onClick:function(e){n(C.changeLrAccountCommonString("commonCharge",["paymentList",a,"beSelect"],e.target.checked)),n(C.calculateCommonChargeAmount(a,e.target.checked))}})),g.default.createElement("li",null,g.default.createElement("span",null,t.get("runningDate"))),g.default.createElement(T.TableOver,{textAlign:"left",className:"account-flowNumber",onClick:function(){n(S.getYllsBusinessData(t,function(){return e.setState({yllsVisible:!0})}))}},g.default.createElement("span",null,t.get("flowNumber"))),g.default.createElement("li",null,g.default.createElement("span",null,t.get("categoryName"))),g.default.createElement("li",null,g.default.createElement("span",null,t.get("runningAbstract"))),g.default.createElement("li",null,g.default.createElement("span",null,{LX_FYZC:"费用支出",LX_XCZC:"薪酬支出",LX_JK:"借款",LX_JTGZXJ:"计提工资薪金",LX_ZJTX:"折旧摊销"}[t.get("runningType")])),g.default.createElement(T.TableOver,{textAlign:"right"},g.default.createElement("span",{style:{marginRight:"4px"}},(0,_.formatNum)(Number(t.get("amount")).toFixed(2)))))}):"",g.default.createElement(T.TableItem,{className:"lrAccount-table-sfgl-width",key:"total"},g.default.createElement("li",null),g.default.createElement("li",null),g.default.createElement("li",null),g.default.createElement("li",null),g.default.createElement("li",null,"合计"),g.default.createElement("li",null),g.default.createElement(T.TableOver,{textAlign:"right"},g.default.createElement("span",{style:{marginRight:"4px"}},(0,_.formatNum)(P.reduce(function(e,t){return e+Number(t.get("amount"))},0).toFixed(2))))))),N?g.default.createElement(E.default,{yllsVisible:N,dispatch:n,yllsState:m,onClose:function(){return e.setState({yllsVisible:!1})},editLrAccountPermission:!0,panes:y,lsItemData:J,uuidList:P.filter(function(e){return"期初余额"!==e.get("runningAbstract")&&e.get("uuid")}),showDrawer:function(){return e.setState({yllsVisible:!0})},refreshList:function(){return n(C.getBusinessList(G,cardUuid))}}):"",g.default.createElement(p.default,{showCommonChargeModal:this.state.showCommonChargeModal,MemberList:v,thingsList:O,selectThingsList:M,dispatch:n,runningDate:G,selectedKeys:D,selectItem:b,selectList:R,projectCard:F,cancel:function(){e.setState({showCommonChargeModal:!1})}})):null}}]),t}())||a;t.default=I},2553:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=E(n(47)),l=E(n(1267)),u=E(n(129)),i=E(n(14)),o=E(n(100)),c=E(n(171)),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(46),n(1265),n(128),n(78),n(99),n(170);var d=E(n(1)),f=n(17),g=n(127),m=C(n(1229)),_=(C(n(1242)),C(n(1298)),C(n(1308))),T=(n(22),E(n(1589)),C(n(27))),p=n(18);function C(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function E(e){return e&&e.__esModule?e:{default:e}}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var A=c.default.TreeNode,y=(o.default.Group,(0,f.immutableRenderDecorator)(a=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),u=0;u<r;u++)l[u]=arguments[u];return n=a=S(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.state={inputValue:""},S(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,d.default.Component),s(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.dispatch,a=(t.contactsCategory,t.curCategory,t.curAccountUuid,t.issuedate,t.main,t.currentPage,t.pageCount,t.flags,t.hideCategoryList,t.disabledChangeCategory,t.PageTab,t.MemberList),s=t.searchCardContent,f=(t.searchList,t.changeInputValue,t.hasSearchContent,t.thingsList),C=t.selectThingsList,E=(t.currentCardType,t.palceTemp,t.modalName,t.runningState,t.categoryTypeObj,t.fromCarryOver,t.categoryUuid,t.runningDate,t.contactsRange,t.stockRange,t.selectedKeys),S=(t.projectRange,t.index,t.curAmount,t.showCommonChargeModal),y=t.selectItem,N=t.selectList,I=t.cancel,L=t.projectCard,h=a?function e(t,n,a){return t&&t.map(function(t,r){return t.childList&&t.childList.length?d.default.createElement(A,{key:""+t.uuid+T.TREE_JOIN_STR+t.name+T.TREE_JOIN_STR+a,title:t.name},e(t.childList,n,a+1)):d.default.createElement(A,{key:""+t.uuid+T.TREE_JOIN_STR+t.name+T.TREE_JOIN_STR+a,title:t.name,checkable:!0})})}(a.toJS(),["全部"],1):"";f.map(function(e){return{string:""+e.get("code")+T.TREE_JOIN_STR+e.get("name"),uuid:e.get("uuid")}});return d.default.createElement(r.default,{className:"select-modal",title:"选择项目",visible:S,onCancel:function(){I(),n(m.changeLrAccountCommonString("",["flags","selectedKeys"],"")),n(m.changeLrAccountCommonString("",["flags","selectList"],(0,p.fromJS)([]))),n(m.changeLrAccountCommonString("",["flags","selectItem"],(0,p.fromJS)([])))},onOk:function(){I(),n(m.changeLrAccountCommonString("commonCharge","projectCard",L.concat(y))),n(m.changeLrAccountCommonString("",["flags","selectedKeys"],"")),n(m.changeLrAccountCommonString("",["flags","selectList"],(0,p.fromJS)([]))),n(m.changeLrAccountCommonString("",["flags","selectItem"],(0,p.fromJS)([])))},width:"474px",height:"346px"},d.default.createElement("div",{className:"lsqc-contacts-card-top"},d.default.createElement("div",{className:"table-tree-container"},d.default.createElement(c.default,{defaultExpandAll:!0,onSelect:function(e){if(e[0]){var t=e[0].split(T.TREE_JOIN_STR),a=t[0],r=t[2];n("all"===a?m.getChargeProjectCard():m.getProjectSomeCardList(a,r))}},selectedKeys:E},d.default.createElement(A,{key:"all"+T.TREE_JOIN_STR+"1",title:"全部",checkable:!0}),h)),d.default.createElement(g.TableAll,{className:"contacts-table-right"},d.default.createElement("span",{className:"lsqc-serch"},d.default.createElement("span",{className:"lsqc-icon"},"搜索"),d.default.createElement(i.default,{className:"lsqc-serch-icon",type:"search",onClick:function(){n(_.searchCardList(s))}}),d.default.createElement(o.default,{placeholder:"",className:"lsqc-serch-input",onChange:function(t){e.setState({inputValue:t.target.value})}})),d.default.createElement("div",{className:"table-title-wrap"},d.default.createElement("ul",{className:"table-title table-title-charge"},d.default.createElement("li",null),d.default.createElement("li",null,d.default.createElement("span",null,"编号")),d.default.createElement("li",null,d.default.createElement("span",null,"名称")))),d.default.createElement(g.TableBody,null,C&&C.toJS().map(function(t){var a=N.indexOf(t.uuid)>-1,r=L.some(function(e){return e.get("uuid")===t.uuid});return(t.code+" "+t.name).indexOf(e.state.inputValue)>-1?d.default.createElement(g.TableItem,{className:"contacts-table-width-charge",key:t.uuid,onClick:function(e){e.stopPropagation()}},d.default.createElement("li",{onClick:function(e){e.stopPropagation(),!r&&n(m.chargeItemCheckboxCheck(a,t.uuid,t.code,t.name))}},d.default.createElement(u.default,{disabled:r,checked:a||r})),d.default.createElement("li",null,t.code),d.default.createElement("li",null,t.name)):""})))),d.default.createElement("div",{className:"charge-chosen-project"},"选择项目：",C.map(function(e){return N.indexOf(e.get("uuid"))>-1?d.default.createElement(l.default,{closable:!0,onClose:function(){n(m.chargeItemCheckboxCheck(!0,e.get("uuid")))}},e.get("code")," ",e.get("name")):""})))}}]),t}())||a);t.default=y},2554:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=T(n(89)),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(88);var u=T(n(1)),i=n(56),o=(_(n(27)),n(127),T(n(6))),c=(_(n(1239)),_(n(1229)),_(n(1242)),T(n(2555))),s=T(n(2556)),d=T(n(2557)),f=T(n(2558)),g=T(n(2559)),m=T(n(2560));n(18);function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function T(e){return e&&e.__esModule?e:{default:e}}r.default.Group;var p=(0,i.connect)(function(e){return e})(a=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default.Component),l(t,[{key:"componentDidMount",value:function(){}},{key:"shouldComponentUpdate",value:function(e){return this.props.lrCalculateState!=e.lrCalculateState||this.props.allState!=e.allState||this.props.lrAccountState!=e.lrAccountState||this.props.accountConfState!=e.accountConfState||this.props.configPermissionInfo!=e.configPermissionInfo||this.props.yllsState!=e.yllsState||this.props.panes!=e.panes||this.props.homeState.get("homeActiveKey")!==e.homeState.get("homeActiveKey")}},{key:"render",value:function(){var e=this.props,t=e.lrCalculateState,n=e.allState,a=e.dispatch,r=e.lrAccountState,l=e.accountConfState,i=e.configPermissionInfo,_=e.yllsState,T=e.panes,p=e.homeState,C=r.get("cardTemp"),E=r.get("calculateTemp"),S=r.get("flags"),A=n.get("allasscategorylist"),y=r.getIn(["flags","paymentType"]),N=r.get("hideCategoryList")?r.get("hideCategoryList").filter(function(e){return"LB_CHYE"!==e.get("categoryType")&&"LB_CHDB"!==e.get("categoryType")&&"LB_CHZZ"!==e.get("categoryType")}):r.get("hideCategoryList"),I=t.getIn(["flags","insertOrModify"]),L="",h="";1==Number(n.getIn(["period","firstmonth"]))?(h=12,L=Number(n.getIn(["period","firstyear"]))-1):(h=Number(n.getIn(["period","firstmonth"]))-1,L=Number(n.getIn(["period","firstyear"])));var v=new Date(L,h,1),O=function(e){return e&&(0,o.default)(v)>e};return({LB_JZCB:function(){return u.default.createElement(c.default,{lrCalculateState:t,accountConfState:l,dispatch:a,disabledDate:O,insertOrModify:I,allasscategorylist:A,hideCategoryList:N,calculateTemp:E,cardTemp:C,flags:S,yllsState:_,panes:T,homeState:p})},LB_FPRZ:function(){return u.default.createElement(s.default,{lrCalculateState:t,dispatch:a,disabledDate:O,accountConfState:l,insertOrModify:I,allasscategorylist:A,hideCategoryList:N,yllsState:_,panes:T,homeState:p})},LB_KJFP:function(){return u.default.createElement(d.default,{lrCalculateState:t,dispatch:a,disabledDate:O,accountConfState:l,insertOrModify:I,allasscategorylist:A,hideCategoryList:N,yllsState:_,panes:T,homeState:p})},LB_ZCWJZZS:function(){return u.default.createElement(f.default,{lrCalculateState:t,dispatch:a,disabledDate:O,accountConfState:l,insertOrModify:I,allasscategorylist:A,hideCategoryList:N,yllsState:_,panes:T,homeState:p})},LB_ZZ:function(){return u.default.createElement(g.default,{lrCalculateState:t,lrAccountState:r,dispatch:a,disabledDate:O,accountConfState:l,insertOrModify:I,allasscategorylist:A,hideCategoryList:N,configPermissionInfo:i,homeState:p})},LB_ZJTX:function(){return u.default.createElement(m.default,{lrCalculateState:t,lrAccountState:r,dispatch:a,flags:S,disabledDate:O,accountConfState:l,insertOrModify:I,allasscategorylist:A,hideCategoryList:N,configPermissionInfo:i,homeState:p})}}[y]||function(){return u.default.createElement("div",null,y,"惊不惊喜")})()}}]),t}())||a;t.default=p},2555:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=L(n(129)),l=L(n(100)),u=L(n(45)),i=L(n(1230)),o=L(n(89)),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(128),n(99),n(55),n(1231),n(88);var s=L(n(1)),d=n(17),f=n(18),g=I(n(27)),m=L(n(90)),_=n(22),T=L(n(1422)),p=n(127),C=(I(n(1239)),I(n(1229))),E=I(n(1298)),S=L(n(1281)),A=I(n(1243)),y=L(n(1476)),N=L(n(6));function I(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function L(e){return e&&e.__esModule?e:{default:e}}var h=o.default.Group,v=(0,d.immutableRenderDecorator)(a=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={index:0,yllsVisible:!1},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),c(t,[{key:"componentDidMount",value:function(){var e=this.props.lrCalculateState,t=e.getIn(["costTransferTemp","runningDate"]),n=e.getIn(["costTransferTemp","runningState"]);t&&this.props.dispatch(C.getCostStockList(t,n))}},{key:"componentWillReceiveProps",value:function(e){this.props.homeState.get("homeActiveKey")===e.homeState.get("homeActiveKey")&&this.props.homeState.get("pageActive")===e.homeState.get("pageActive")||!0!==this.state.yllsVisible||this.setState({yllsVisible:!1})}},{key:"render",value:function(){var e=this,t=this.props,n=t.lrCalculateState,a=t.dispatch,c=t.disabledDate,d=t.insertOrModify,I=t.allasscategorylist,L=t.hideCategoryList,v=(t.cardTemp,t.flags),O=(t.calculateTemp,t.yllsState),b=t.panes,R=this.state.yllsVisible,M=n.get("costTransferTemp"),D=n.get("costTransferList"),G=n.getIn(["flags","selectI"]),U=M.get("uuidList"),P=(M.get("carryoverBusinessUuid"),M.get("flowNumber")),F=(M.get("categoryUuid"),M.get("runningState")),B=M.get("runningDate"),w=M.get("runningAbstract"),Y=(M.get("carryoverAmount"),M.get("categoryName"),M.get("assList")),J=v.get("selectedKeys"),Z=(M.get("runningCategory").size?M.get("runningCategory"):(0,f.fromJS)([{childList:[]}]),"costTransferTemp"),H=(M.get("stockRange"),M.get("stockCardList")),k=M.get("cardUuid"),x=v.get("showContactsModal"),X=v.get("MemberList"),j=v.get("thingsList"),K=v.get("selectThingsList"),W=v.get("currentCardType"),z=v.get("costStockList"),V=M.get("stockCardUuidList"),Q=O.get("lsItemData"),q=0;D.forEach(function(e){U.indexOf(e.get("uuid"))>-1&&(q+=e.get("amount"))});var $=!!U.size&&D.every(function(e,t){return U.indexOf(e.get("uuid"))>-1}),ee=[],te=[];return H.map(function(e){te.push(e.get("uuid"))}),z&&z.size&&z.forEach(function(e,t){-1===te.indexOf(e.get("uuid"))&&ee.push(s.default.createElement(Option,{key:e.get("code"),value:""+e.get("code")+g.TREE_JOIN_STR+e.get("name")+g.TREE_JOIN_STR+e.get("uuid")},e.get("code")+" "+e.get("name")))}),s.default.createElement("div",{className:"accountConf-modal-list accountConf-modal-list-hidden"},"modify"===d&&P?s.default.createElement("div",{className:"accountConf-modal-list-item"},s.default.createElement("label",null,"流水号："),s.default.createElement("div",null,P)):"",s.default.createElement("div",{className:"accountConf-modal-list-item"},s.default.createElement("label",null,"日期："),s.default.createElement("div",null,s.default.createElement(i.default,{allowClear:!1,disabledDate:c,value:B?(0,N.default)(B):"",onChange:function(e){var t=e.format("YYYY-MM-DD");a(E.changeLrCalculateCommonState(Z,"runningDate",t)),"insert"===d&&(a(C.getCostStockList(t,F)),a(E.changeCalculateCommonString("costTransfer","cardUuid","")),a(E.changeCalculateCommonString("costTransfer",["stockCardRange","code"],"")),a(E.changeCalculateCommonString("costTransfer",["stockCardRange","name"],""))),a(E.getCostCategory(sessionStorage.getItem("psiSobId"),F,t))}}))),s.default.createElement("div",{className:"accountConf-modal-list-item"},s.default.createElement("label",null,"流水类别："),s.default.createElement("div",null,s.default.createElement(u.default,{disabled:"modify"===d,value:"成本结转",onChange:function(e){a(C.changeLrAccountCommonString("",["flags","paymentType"],e))}},L.map(function(e,t){return s.default.createElement(Option,{key:t,value:e.get("categoryType")},e.get("name"))})))),s.default.createElement("div",{className:"accountConf-modal-list-item"},s.default.createElement("label",null),s.default.createElement("div",null,s.default.createElement(h,{value:F,disabled:"modify"===d,onChange:function(e){a(E.changeLrCalculateCommonState(Z,"runningState",e.target.value)),a(E.changeLrCalculateCommonState(Z,"runningAbstract",{STATE_YYSR_XS:"销售存货结转成本",STATE_YYSR_TS:"销货退回结转成本"}[e.target.value])),a(E.getCostTransferList(e.target.value,B)),a(C.getCostStockList(B,e.target.value))}},s.default.createElement(o.default,{key:"a",value:"STATE_YYSR_XS"},"销售成本结转"),s.default.createElement(o.default,{key:"b",value:"STATE_YYSR_TS"},"退销转回成本")))),s.default.createElement("div",{className:"accountConf-separator"}),s.default.createElement("div",{className:"accountConf-modal-list-item"},s.default.createElement("label",null,"摘要："),s.default.createElement("div",null,s.default.createElement(l.default,{value:w,onChange:function(e){a(E.changeLrCalculateCommonState(Z,"runningAbstract",e.target.value))}}))),Y.size?Y.map(function(e,t){return s.default.createElement("div",{className:"accountConf-modal-list-item",key:t},s.default.createElement("label",null,e.get("assCategory"),"："),s.default.createElement(T.default,{assid:e.get("assId"),assname:e.get("assName"),asscategory:e.get("assCategory"),allasscategorylist:I,onChange:function(e){a(E.changeLrCostTransferRunningAssList(e,t))},className:"accountConf-modal-list-ass-select",dispatch:a}))}):"",s.default.createElement("div",{className:"accountConf-separator"}),H&&H.map(function(e,t){var n=void 0,r=0;return V&&V.map(function(t,a){t.get("uuid")===e.get("uuid")&&(n=t.get("uuid"),r+=t.get("amount"))}),s.default.createElement("div",null,s.default.createElement("div",{className:"accountConf-modal-list-item"},s.default.createElement("label",null,"存货："),s.default.createElement("div",{className:"chosen-right"},s.default.createElement(u.default,{showSearch:!0,combobox:!0,disabled:"modify"===d,value:(e.get("code")?e.get("code"):"")+" "+(e.get("name")?e.get("name"):""),onChange:function(n){var r=n.split(g.TREE_JOIN_STR),l=r[0],u=r[1],i=r[2],o=e.get("amount");a(E.changeCalculateCommonString("costTransfer",["stockCardList",t],(0,f.fromJS)({uuid:i,name:u,code:l,amount:o}))),a(E.getCostTransferList(F,B)),a(E.changeCalculateCommonString("costTransfer",["stockCardList",t,"amount"],""))}},ee),"modify"!==d?s.default.createElement("div",{className:"chosen-word",onClick:function(){a(C.getCostCardList(B,F,"showContactsModal")),a(C.changeLrAccountCommonString("",["flags","currentCardType"],"stock")),a(E.changeLrCalculateCommonState("flags","selectI",t))}},"选择"):""),"modify"===d?"":s.default.createElement("span",{className:"icon-content"},s.default.createElement("span",{className:"icon-plus-margin"},s.default.createElement(m.default,{type:"simple-plus",theme:"outlined",onClick:function(){a(E.changeStockList(H,t,"add"))}})),H.size>1?s.default.createElement("span",null,s.default.createElement(m.default,{type:"sob-delete",theme:"outlined",onClick:function(){a(E.changeStockList(H,t,"delete"))}})):"")),s.default.createElement("div",{className:"accountConf-modal-list-item"},s.default.createElement("label",null,"成本金额："),s.default.createElement("div",null,s.default.createElement(l.default,{value:e.get("amount"),disabled:"modify"!==d&&(0==q||e.getIn("uuid")===n),onChange:function(e){(/^[-\d]\d*\.?\d{0,2}$/g.test(e.target.value)||""===e.target.value)&&a(E.changeCalculateCommonString("costTransfer",["stockCardList",t,"amount"],e.target.value))}})),s.default.createElement("div",{className:"income-money"},"收入金额：",r.toFixed(2))))}),s.default.createElement("div",{className:"lrAccount-detail-title"},s.default.createElement("div",{className:"lrAccount-detail-title-top"},"请勾选需要核账的流水："),s.default.createElement("div",{className:"lrAccount-detail-title-bottom"},s.default.createElement("span",null,"已勾选流水：",U.size,"条"),s.default.createElement("span",null,"STATE_YYSR_XS"===F?"收入":"退销","金额合计:",s.default.createElement("span",null,(0,_.formatMoney)(q,2,""))))),s.default.createElement(p.TableAll,{className:"lrAccount-table"},s.default.createElement(p.TableTitle,{className:"account-cost-transfer-table-width",titleList:["日期","流水号","流水类别","摘要","存货","收入金额"],hasCheckbox:!0,selectAcAll:$,onClick:function(e){e.stopPropagation(),a(E.selectLrCalculateItemAll($,Z,"costTransferList"))}}),s.default.createElement(p.TableBody,null,D.map(function(t){return s.default.createElement(p.TableItem,{className:"account-cost-transfer-table-width",key:t.get("uuid")},s.default.createElement("li",{onClick:function(e){e.stopPropagation(),a(E.selectLrCalculateItem(t.get("uuid"),Z,t.get("stockCardUuid"),t.get("amount")))}},s.default.createElement(r.default,{checked:U.indexOf(t.get("uuid"))>-1})),s.default.createElement("li",null,t.get("runningDate")),s.default.createElement(p.TableOver,{textAlign:"left",className:"account-flowNumber",onClick:function(){a(A.getYllsBusinessData(t,function(){return e.setState({yllsVisible:!0})}))}},s.default.createElement("span",null,t.get("flowNumber"))),s.default.createElement("li",null,s.default.createElement("span",null,t.get("categoryName"))),s.default.createElement("li",null,s.default.createElement("span",null,t.get("runningAbstract"))),s.default.createElement("li",null,s.default.createElement("span",null,t.get("cardStockName"))),s.default.createElement("li",null,s.default.createElement("p",null,t.get("amount"))))}))),R?s.default.createElement(S.default,{yllsVisible:R,dispatch:a,yllsState:O,onClose:function(){return e.setState({yllsVisible:!1})},editLrAccountPermission:!0,panes:b,lsItemData:Q,uuidList:D.filter(function(e,t){return t>0?e.get("parentUuid")!==D.getIn([t-1,"parentUuid"])&&"期初值"!==e.get("runningAbstract"):"期初值"!==e.get("runningAbstract")}),showDrawer:function(){return e.setState({yllsVisible:!0})},refreshList:function(){return a(E.getCostTransferList(F,B))}}):"",s.default.createElement(y.default,{showContactsModal:x,MemberList:X,thingsList:j,selectThingsList:K,dispatch:a,currentCardType:W,modalName:"showContactsModal",palceTemp:"card",runningState:F,categoryTypeObj:"acBusinessIncome",fromCarryOver:!0,categoryUuid:k,runningDate:B,selectedKeys:J,index:G}))}}]),t}())||a;t.default=v},2556:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=y(n(129)),l=y(n(100)),u=y(n(45)),i=y(n(1230)),o=y(n(89)),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(128),n(99),n(55),n(1231),n(88);var s=y(n(1)),d=n(17),f=y(n(6)),g=A(n(27)),m=n(22),_=y(n(1422)),T=n(127),p=(A(n(1239)),A(n(1229))),C=A(n(1298)),E=(n(18),y(n(1281))),S=A(n(1243));function A(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function y(e){return e&&e.__esModule?e:{default:e}}var N=o.default.Group,I=(0,d.immutableRenderDecorator)(a=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={yllsVisible:!1},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),c(t,[{key:"componentWillReceiveProps",value:function(e){this.props.homeState.get("homeActiveKey")===e.homeState.get("homeActiveKey")&&this.props.homeState.get("pageActive")===e.homeState.get("pageActive")||!0!==this.state.yllsVisible||this.setState({yllsVisible:!1})}},{key:"componentDidMount",value:function(){var e=this.props.lrCalculateState.get("invoiceAuthTemp"),t=this.props.lrCalculateState.get("flags"),n=e.get("runningDate"),a=e.get("billAuthType");"insert"===t.get("insertOrModify")&&this.props.dispatch(C.getInvoiceAuthList(a,n))}},{key:"render",value:function(){var e=this,t=this.props,n=t.lrCalculateState,a=t.dispatch,c=t.disabledDate,d=t.insertOrModify,A=t.allasscategorylist,y=t.hideCategoryList,I=t.yllsState,L=t.panes,h=(t.showDrawer,this.state.yllsVisible),v=n.get("invoiceAuthTemp"),O=n.get("invoiceAuthList"),b=v.get("uuidList"),R=(v.get("authBusinessUuid"),v.get("flowNumber")),M=v.get("billAuthType"),D=v.get("runningDate"),G=v.get("runningAbstract"),U=(v.get("assList"),n.getIn(["rateAcAndAsslist","assList"])),P="invoiceAuthTemp",F=I.get("lsItemData"),B=0;O.forEach(function(e){b.indexOf(e.get("uuid"))>-1&&(B+=e.get("amount"))});var w=!!b.size&&O.every(function(e,t){return b.indexOf(e.get("uuid"))>-1});return s.default.createElement("div",{className:"accountConf-modal-list accountConf-modal-list-hidden"},"modify"===d&&R?s.default.createElement("div",{className:"accountConf-modal-list-item"},s.default.createElement("label",null,"流水号："),s.default.createElement("div",null,R)):"",s.default.createElement("div",{className:"accountConf-modal-list-item"},s.default.createElement("label",null,"日期："),s.default.createElement("div",null,s.default.createElement(i.default,{allowClear:!1,disabledDate:c,value:D?(0,f.default)(D):"",onChange:function(e){var t=e.format("YYYY-MM-DD");a(C.changeLrCalculateCommonState(P,"runningDate",t)),"insert"===d&&a(C.getInvoiceAuthList(M,t))}}))),s.default.createElement("div",{className:"accountConf-modal-list-item"},s.default.createElement("label",null,"流水类别："),s.default.createElement("div",null,s.default.createElement(u.default,{disabled:"modify"===d,value:"发票认证",onChange:function(e){a(p.changeLrAccountCommonString("",["flags","paymentType"],e))}},y.map(function(e,t){return s.default.createElement(Option,{key:e.get("type"),value:e.get("categoryType")},e.get("name"))})))),s.default.createElement("div",{className:"accountConf-modal-list-item"},s.default.createElement("label",null),s.default.createElement("div",null,s.default.createElement(N,{value:M,disabled:"modify"===d,onChange:function(e){a(C.changeLrCalculateCommonState(P,"billAuthType",e.target.value)),a(C.changeLrCalculateCommonState(P,"runningAbstract",{BILL_AUTH_TYPE_CG:"增值税专用发票认证",BILL_AUTH_TYPE_TG:"退购红字发票认证"}[e.target.value])),a(C.getInvoiceAuthList(e.target.value,D))}},s.default.createElement(o.default,{key:"a",value:"BILL_AUTH_TYPE_CG"},"采购发票认证"),s.default.createElement(o.default,{key:"b",value:"BILL_AUTH_TYPE_TG"},"退购发票认证")))),s.default.createElement("div",{className:"accountConf-separator"}),s.default.createElement("div",{className:"accountConf-modal-list-item"},s.default.createElement("label",null,"摘要："),s.default.createElement("div",null,s.default.createElement(l.default,{value:G,onChange:function(e){a(C.changeLrCalculateCommonState(P,"runningAbstract",e.target.value))}}))),U.size?U.map(function(e,t){if(e.get("type")===g.ACCOUNT_RATE_TYPE_OF_INPUT||e.get("type")===g.ACCOUNT_RATE_TYPE_OF_CERTIFIED)return s.default.createElement("div",{className:"accountConf-modal-list-item",key:t},s.default.createElement("label",null,e.get("assCategory"),"："),s.default.createElement(_.default,{assid:e.get("assId"),assname:e.get("assName"),asscategory:e.get("assCategory"),allasscategorylist:A,onChange:function(e){a(C.changeLrCalculateRateAssList(e,t))},className:"accountConf-modal-list-ass-select",dispatch:a}))}):"",s.default.createElement("div",{className:"accountConf-separator"}),s.default.createElement("div",{className:"lrAccount-detail-title"},s.default.createElement("div",{className:"lrAccount-detail-title-top"},"请勾选需要认证的流水发票："),s.default.createElement("div",{className:"lrAccount-detail-title-bottom"},s.default.createElement("span",null,"已勾选流水：",b.size,"条"),s.default.createElement("span",null,"待认证税额:",s.default.createElement("span",null,(0,m.formatMoney)(B,2,""))))),s.default.createElement(T.TableAll,{className:"lrAccount-table"},s.default.createElement(T.TableTitle,{className:"account-invoice-auth-table-width",titleList:["日期","流水号","流水类别","摘要","税额"],hasCheckbox:!0,selectAcAll:w,onClick:function(e){e.stopPropagation(),a(C.selectLrCalculateItemAll(w,P,"invoiceAuthList"))}}),s.default.createElement(T.TableBody,null,O.map(function(t){return s.default.createElement(T.TableItem,{className:"account-invoice-auth-table-width",key:t.get("uuid")},s.default.createElement("li",{onClick:function(e){e.stopPropagation(),a(C.selectLrCalculateItem(t.get("uuid"),P))}},s.default.createElement(r.default,{checked:b.indexOf(t.get("uuid"))>-1})),s.default.createElement("li",null,t.get("runningDate")),s.default.createElement(T.TableOver,{textAlign:"left",className:"account-flowNumber",onClick:function(){a(S.getYllsBusinessData(t,function(){return e.setState({yllsVisible:!0})}))}},s.default.createElement("span",null,t.get("flowNumber"))),s.default.createElement("li",null,s.default.createElement("span",null,t.get("categoryName"))),s.default.createElement("li",null,s.default.createElement("span",null,t.get("runningAbstract"))),s.default.createElement("li",null,s.default.createElement("p",null,"BILL_AUTH_TYPE_CG"===M?t.get("amount"):-t.get("amount"))))})),h?s.default.createElement(E.default,{yllsVisible:h,dispatch:a,yllsState:I,onClose:function(){return e.setState({yllsVisible:!1})},editLrAccountPermission:!0,panes:L,lsItemData:F,uuidList:O.filter(function(e){return"期初余额"!==e.get("runningAbstract")&&e.get("uuid")}),showDrawer:function(){return e.setState({yllsVisible:!0})},refreshList:function(){return a(C.getInvoiceAuthList(M,D))}}):""))}}]),t}())||a;t.default=I},2557:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=y(n(129)),l=y(n(100)),u=y(n(45)),i=y(n(1230)),o=y(n(89)),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(128),n(99),n(55),n(1231),n(88);var s=y(n(1)),d=n(17),f=y(n(6)),g=A(n(27)),m=n(22),_=y(n(1422)),T=n(127),p=y(n(1281)),C=A(n(1243)),E=(A(n(1239)),A(n(1229))),S=A(n(1298));n(18);function A(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function y(e){return e&&e.__esModule?e:{default:e}}var N=o.default.Group,I=(0,d.immutableRenderDecorator)(a=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={yllsVisible:!1},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),c(t,[{key:"componentWillReceiveProps",value:function(e){this.props.homeState.get("homeActiveKey")===e.homeState.get("homeActiveKey")&&this.props.homeState.get("pageActive")===e.homeState.get("pageActive")||!0!==this.state.yllsVisible||this.setState({yllsVisible:!1})}},{key:"componentDidMount",value:function(){var e=this.props.lrCalculateState.get("invoicingTemp"),t=this.props.lrCalculateState.get("flags"),n=e.get("runningDate"),a=e.get("billMakeOutType");"insert"===t.get("insertOrModify")&&this.props.dispatch(S.getInvoicingList(a,n))}},{key:"render",value:function(){var e=this,t=this.props,n=t.lrCalculateState,a=t.dispatch,c=t.disabledDate,d=t.accountConfState,A=t.insertOrModify,y=t.allasscategorylist,I=t.hideCategoryList,L=t.yllsState,h=t.panes,v=this.state.yllsVisible,O=d.getIn(["taxRateTemp","scale"]),b=n.get("invoicingTemp"),R=n.get("invoicingList"),M=b.get("uuidList"),D=(b.get("makeOutBusinessUuid"),b.get("flowNumber")),G=b.get("billMakeOutType"),U=b.get("runningDate"),P=b.get("runningAbstract"),F=n.getIn(["rateAcAndAsslist","assList"]),B=L.get("lsItemData"),w="invoicingTemp",Y=0;R.forEach(function(e){M.indexOf(e.get("uuid"))>-1&&(Y+=e.get("tax"))});var J=!!M.size&&R.every(function(e,t){return M.indexOf(e.get("uuid"))>-1});return s.default.createElement("div",{className:"accountConf-modal-list accountConf-modal-list-hidden"},"modify"===A&&D?s.default.createElement("div",{className:"accountConf-modal-list-item"},s.default.createElement("label",null,"流水号："),s.default.createElement("div",null,D)):"",s.default.createElement("div",{className:"accountConf-modal-list-item"},s.default.createElement("label",null,"日期："),s.default.createElement("div",null,s.default.createElement(i.default,{allowClear:!1,disabledDate:c,value:U?(0,f.default)(U):"",onChange:function(e){var t=e.format("YYYY-MM-DD");a(S.changeLrCalculateCommonState(w,"runningDate",t)),"insert"===A&&a(S.getInvoicingList(G,t))}}))),s.default.createElement("div",{className:"accountConf-modal-list-item"},s.default.createElement("label",null,"流水类别："),s.default.createElement("div",null,s.default.createElement(u.default,{disabled:"modify"===A,value:"开具发票",onChange:function(e){a(E.changeLrAccountCommonString("",["flags","paymentType"],e))}},I.map(function(e,t){return s.default.createElement(Option,{key:t,value:e.get("categoryType")},e.get("name"))})))),s.default.createElement("div",{className:"accountConf-modal-list-item"},s.default.createElement("label",null),s.default.createElement("div",null,s.default.createElement(N,{value:G,disabled:"modify"===A,onChange:function(e){a(S.changeLrCalculateCommonState(w,"billMakeOutType",e.target.value)),a(S.changeLrCalculateCommonState(w,"runningAbstract",{BILL_MAKE_OUT_TYPE_XS:"收入开具发票",BILL_MAKE_OUT_TYPE_TS:"退销开具红字发票"}[e.target.value])),a(S.getInvoicingList(e.target.value,U))}},s.default.createElement(o.default,{key:"a",value:"BILL_MAKE_OUT_TYPE_XS"},"销售开票"),s.default.createElement(o.default,{key:"b",value:"BILL_MAKE_OUT_TYPE_TS"},"退销开票")))),s.default.createElement("div",{className:"accountConf-separator"}),s.default.createElement("div",{className:"accountConf-modal-list-item"},s.default.createElement("label",null,"摘要："),s.default.createElement("div",null,s.default.createElement(l.default,{value:P,onChange:function(e){a(S.changeLrCalculateCommonState(w,"runningAbstract",e.target.value))}}))),F.size?F.map(function(e,t){var n=!1;if("small"===O?n=e.get("type")===g.ACCOUNT_RATE_TYPE_OF_PAYABLE||e.get("type")===g.ACCOUNT_RATE_TYPE_OF_NOTBILLING:"general"===O&&(n=e.get("type")===g.ACCOUNT_RATE_TYPE_OF_WAITOUTPUT||e.get("type")===g.ACCOUNT_RATE_TYPE_OF_OUTPUT),n)return s.default.createElement("div",{className:"accountConf-modal-list-item",key:t},s.default.createElement("label",null,e.get("assCategory"),"："),s.default.createElement(_.default,{assid:e.get("assId"),assname:e.get("assName"),asscategory:e.get("assCategory"),allasscategorylist:y,onChange:function(e){a(S.changeLrCalculateRateAssList(e,t))},className:"accountConf-modal-list-ass-select",dispatch:a}))}):"",s.default.createElement("div",{className:"accountConf-separator"}),s.default.createElement("div",{className:"lrAccount-detail-title"},s.default.createElement("div",{className:"lrAccount-detail-title-top"},"请勾选需要开具发票的流水："),s.default.createElement("div",{className:"lrAccount-detail-title-bottom"},s.default.createElement("span",null,"已勾选流水：",M.size,"条"),s.default.createElement("span",null,"待开发票税额:",s.default.createElement("span",null,(0,m.formatMoney)(Y,2,""))))),s.default.createElement(T.TableAll,{className:"lrAccount-table"},s.default.createElement(T.TableTitle,{className:"account-invoicing-table-width",titleList:["日期","流水号","流水类别","摘要","税额"],hasCheckbox:!0,selectAcAll:J,onClick:function(e){e.stopPropagation(),a(S.selectLrCalculateItemAll(J,w,"invoicingList"))}}),s.default.createElement(T.TableBody,null,R.map(function(t){return s.default.createElement(T.TableItem,{className:"account-invoicing-table-width",key:t.get("uuid")},s.default.createElement("li",{onClick:function(e){e.stopPropagation(),a(S.selectLrCalculateItem(t.get("uuid"),w))}},s.default.createElement(r.default,{checked:M.indexOf(t.get("uuid"))>-1})),s.default.createElement("li",null,t.get("runningDate")),s.default.createElement(T.TableOver,{textAlign:"left",className:"account-flowNumber",onClick:function(){a(C.getYllsBusinessData(t,function(){return e.setState({yllsVisible:!0})}))}},s.default.createElement("span",null,t.get("flowNumber"))),s.default.createElement("li",null,s.default.createElement("span",null,t.get("categoryName"))),s.default.createElement("li",null,s.default.createElement("span",null,t.get("runningAbstract"))),s.default.createElement("li",null,s.default.createElement("p",null,t.get("tax"))))})),v?s.default.createElement(p.default,{yllsVisible:v,dispatch:a,yllsState:L,onClose:function(){return e.setState({yllsVisible:!1})},editLrAccountPermission:!0,panes:h,lsItemData:B,uuidList:R.filter(function(e,t){return t>0?e.get("parentUuid")!==R.getIn([t-1,"parentUuid"])&&"期初值"!==e.get("runningAbstract"):"期初值"!==e.get("runningAbstract")}),showDrawer:function(){return e.setState({yllsVisible:!0})},refreshList:function(){return a(S.getInvoicingList(G,U))}}):""))}}]),t}())||a;t.default=I},2558:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=A(n(100)),l=A(n(45)),u=A(n(89)),i=A(n(1230)),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(99),n(55),n(88),n(1231);var c=A(n(1)),s=n(17),d=A(n(6)),f=S(n(27)),g=n(22),m=A(n(1422)),_=n(127),T=(S(n(1239)),S(n(1229))),p=S(n(1298)),C=(n(18),A(n(1281))),E=S(n(1243));function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function A(e){return e&&e.__esModule?e:{default:e}}var y=i.default.MonthPicker,N=(u.default.Group,(0,s.immutableRenderDecorator)(a=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={yllsVisible:!1},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.default.Component),o(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){this.props.homeState.get("homeActiveKey")===e.homeState.get("homeActiveKey")&&this.props.homeState.get("pageActive")===e.homeState.get("pageActive")||!0!==this.state.yllsVisible||this.setState({yllsVisible:!1})}},{key:"render",value:function(){var e=this,t=this.props,n=t.lrCalculateState,a=t.dispatch,u=t.disabledDate,o=t.insertOrModify,s=t.allasscategorylist,S=t.hideCategoryList,A=t.yllsState,N=t.panes,I=this.state.yllsVisible,L=n.get("transferOutTemp"),h=n.getIn(["rateAcAndAsslist","assList"]),v=(L.get("uuidList"),L.get("runningDate")),O=L.get("flowNumber"),b=L.get("runningAbstract"),R=L.get("handleMonth"),M=n.get("transferOutObj"),D=M.get("flowDtoList"),G=M.get("inputAmount"),U=M.get("inputCount"),P=M.get("outputAmount"),F=M.get("outputCount"),B=A.get("lsItemData");return c.default.createElement("div",{className:"accountConf-modal-list accountConf-modal-list-hidden"},"modify"===o&&O?c.default.createElement("div",{className:"accountConf-modal-list-item"},c.default.createElement("label",null,"流水号："),c.default.createElement("div",null,O)):"",c.default.createElement("div",{className:"accountConf-modal-list-item"},c.default.createElement("label",null,"日期："),c.default.createElement("div",null,c.default.createElement(i.default,{allowClear:!1,disabledDate:u,value:v?(0,d.default)(v):"",onChange:function(e){var t=e.format("YYYY-MM-DD");a(p.changeLrCalculateCommonState("transferOutTemp","runningDate",t))}}))),c.default.createElement("div",{className:"accountConf-modal-list-item"},c.default.createElement("label",null,"流水类别："),c.default.createElement("div",null,c.default.createElement(l.default,{disabled:"modify"===o,value:"转出未交增值税",onChange:function(e){a(T.changeLrAccountCommonString("",["flags","paymentType"],e))}},S.map(function(e,t){return c.default.createElement(Option,{key:t,value:e.get("categoryType")},e.get("name"))})))),c.default.createElement("div",{className:"accountConf-separator"}),c.default.createElement("div",{className:"accountConf-modal-list-item"},c.default.createElement("label",null,"摘要："),c.default.createElement("div",null,c.default.createElement(r.default,{value:b,onChange:function(e){a(p.changeLrCalculateCommonState("transferOutTemp","runningAbstract",e.target.value))}}))),h.size?h.map(function(e,t){if(e.get("type")===f.ACCOUNT_RATE_TYPE_OF_TURNOUTUNPAID||e.get("type")===f.ACCOUNT_RATE_TYPE_OF_UNPAID)return c.default.createElement("div",{className:"accountConf-modal-list-item",key:t},c.default.createElement("label",null,e.get("assCategory"),"："),c.default.createElement(m.default,{assid:e.get("assId"),assname:e.get("assName"),asscategory:e.get("assCategory"),allasscategorylist:s,onChange:function(e){a(p.changeLrCalculateRateAssList(e,t))},className:"accountConf-modal-list-ass-select",dispatch:a}))}):"",c.default.createElement("div",{className:"accountConf-separator"}),c.default.createElement("div",{className:"accountConf-modal-list-item"},c.default.createElement("label",{className:"large-width-label"},"处理税额月份："),c.default.createElement("div",null,c.default.createElement(y,{disabledDate:u,disabled:"modify"===o,value:R?(0,d.default)(R):"",onChange:function(e){var t=e.format("YYYY-MM");a(p.changeLrCalculateCommonState("transferOutTemp","handleMonth",t)),a(p.getTransferOutList(t))}}))),c.default.createElement("div",{className:"accountConf-modal-list-item"},c.default.createElement("label",null,"未交税额："),c.default.createElement("div",null,(0,g.formatMoney)(P-G,2,""))),c.default.createElement("div",{className:"accountConf-separator"}),c.default.createElement("div",{className:"accountConf-modal-list-item"},"销项税-流水数： ",F,"条； 合计税额： ",(0,g.formatMoney)(P,2,"")),c.default.createElement("div",{className:"accountConf-modal-list-item"},"进项税-流水数： ",U,"条； 合计税额： ",(0,g.formatMoney)(G,2,"")),c.default.createElement(_.TableAll,{className:"lrAccount-table"},c.default.createElement(_.TableTitle,{className:"account-transfer-out-table-width",titleList:["日期","流水号","流水类别","摘要","类型","税额"],hasCheckbox:!1}),c.default.createElement(_.TableBody,null,D.map(function(t){return c.default.createElement(_.TableItem,{className:"account-transfer-out-table-width",key:t.get("uuid")},c.default.createElement("li",null,t.get("runningDate")),c.default.createElement(_.TableOver,{textAlign:"left",className:"account-flowNumber",onClick:function(){a(E.getYllsBusinessData(t,function(){return e.setState({yllsVisible:!0})}))}},c.default.createElement("span",null,t.get("flowNumber"))),c.default.createElement("li",null,c.default.createElement("span",null,t.get("categoryName"))),c.default.createElement("li",null,c.default.createElement("span",null,t.get("runningAbstract"))),c.default.createElement("li",null,c.default.createElement("span",null,"bill_common"===t.get("billType")?"销项税":"进项税")),c.default.createElement("li",null,c.default.createElement("p",null,t.get("parentTax")?t.get("parentTax"):t.get("tax"))))})),I?c.default.createElement(C.default,{yllsVisible:I,dispatch:a,yllsState:A,onClose:function(){return e.setState({yllsVisible:!1})},editLrAccountPermission:!0,panes:N,lsItemData:B,uuidList:D.filter(function(e,t){return t>0?e.get("uuid")!==D.getIn([t-1,"uuid"])&&"期初值"!==e.get("runningAbstract"):"期初值"!==e.get("runningAbstract")}),showDrawer:function(){return e.setState({yllsVisible:!0})},refreshList:function(){return a(p.getTransferOutList(v))}}):""))}}]),t}())||a);t.default=N},2559:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=E(n(14)),l=E(n(1256)),u=E(n(100)),i=E(n(45)),o=E(n(89)),c=E(n(1230)),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(78),n(1257),n(99),n(55),n(88),n(1231);var d=E(n(1)),f=n(17),g=E(n(6)),m=C(n(27)),_=(n(22),E(n(1422)),n(127),C(n(1239)),C(n(1229))),T=C(n(1242)),p=C(n(1298));n(18);function C(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function E(e){return e&&e.__esModule?e:{default:e}}c.default.MonthPicker,o.default.Group;var S=(0,f.immutableRenderDecorator)(a=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={accountInput:""},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,d.default.Component),s(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.lrCalculateState,n=e.lrAccountState,a=e.dispatch,o=e.disabledDate,s=e.accountConfState,f=e.insertOrModify,C=(e.allasscategorylist,e.hideCategoryList),E=(e.configPermissionInfo,t.get("InternalTransferTemp")),S=E.get("runningDate"),A=E.get("runningAbstract"),y=E.get("amount"),N=E.get("flowNumber")?E.get("flowNumber"):n.getIn(["cardTemp","flowNumber"]),I=t.getIn(["InternalTransferTemp","fromAccountName"]),L=t.getIn(["InternalTransferTemp","toAccountName"]),h=s.get("accountList"),v="InternalTransferTemp";return d.default.createElement("div",{className:"accountConf-modal-list"},"modify"===f&&N?d.default.createElement("div",{className:"accountConf-modal-list-item"},d.default.createElement("label",null,"流水号："),d.default.createElement("div",null,N)):"",d.default.createElement("div",{className:"accountConf-modal-list-item"},d.default.createElement("label",null,"日期："),d.default.createElement("div",null,d.default.createElement(c.default,{allowClear:!1,disabledDate:o,value:S?(0,g.default)(S):"",onChange:function(e){var t=e.format("YYYY-MM-DD");a(p.changeLrCalculateCommonState(v,"runningDate",t))}}))),d.default.createElement("div",{className:"accountConf-modal-list-item"},d.default.createElement("label",null,"流水类别："),d.default.createElement("div",null,d.default.createElement(i.default,{disabled:"modify"===f,value:"内部转账",onChange:function(e){a(_.changeLrAccountCommonString("",["flags","paymentType"],e))}},C.map(function(e,t){return d.default.createElement(Option,{key:t,value:e.get("categoryType")},e.get("name"))})))),d.default.createElement("div",{className:"accountConf-separator"}),d.default.createElement("div",{className:"accountConf-modal-list-item"},d.default.createElement("label",null,"摘要："),d.default.createElement("div",null,d.default.createElement(u.default,{value:A,onChange:function(e){a(p.changeLrCalculateCommonState(v,"runningAbstract",e.target.value))}}))),d.default.createElement("div",{className:"accountConf-modal-list-item"},d.default.createElement("label",null,"金额："),d.default.createElement("div",null,d.default.createElement(u.default,{value:y,onChange:function(e){(/^[-\d]\d*\.?\d{0,2}$/g.test(e.target.value)||""===e.target.value)&&a(p.changeLrCalculateCommonState(v,"amount",e.target.value))}}))),d.default.createElement("div",{className:"accountConf-modal-list-item"},d.default.createElement("label",null,"转出账户："),d.default.createElement("div",{className:"lrls-account-box"},d.default.createElement(i.default,{showSearch:!0,value:I||"",dropdownRender:function(e){return d.default.createElement("div",null,e,d.default.createElement(l.default,{style:{margin:"4px 0"}}),d.default.createElement("div",{style:{padding:"8px",cursor:"pointer"},onMouseDown:function(){a(_.changeLrAccountCommonString("",["flags","showAccountModal"],!0)),a(T.beforeInsertAccountConf("account","","fromLrAccount"))}},d.default.createElement(r.default,{type:"plus"})," 新增账户"))},onSelect:function(e){a(p.changeLrAccountAccountName("InternalTransfer","fromAccountUuid","fromAccountName",e))}},h.getIn([0,"childList"]).map(function(e,t){return d.default.createElement(Option,{key:t,value:""+e.get("uuid")+m.TREE_JOIN_STR+e.get("name")},e.get("name"))})))),d.default.createElement("div",{className:"accountConf-modal-list-item"},d.default.createElement("label",null,"转入账户："),d.default.createElement("div",{className:"lrls-account-box"},d.default.createElement(i.default,{showSearch:!0,value:L||"",dropdownRender:function(e){return d.default.createElement("div",null,e,d.default.createElement(l.default,{style:{margin:"4px 0"}}),d.default.createElement("div",{style:{padding:"8px",cursor:"pointer"},onMouseDown:function(){a(_.changeLrAccountCommonString("",["flags","showAccountModal"],!0)),a(T.beforeInsertAccountConf("account","","fromLrAccount"))}},d.default.createElement(r.default,{type:"plus"})," 新增账户"))},onSelect:function(e){a(p.changeLrAccountAccountName("InternalTransfer","toAccountUuid","toAccountName",e))}},h.getIn([0,"childList"]).map(function(e,t){return d.default.createElement(Option,{key:t,value:""+e.get("uuid")+m.TREE_JOIN_STR+e.get("name")},e.get("name"))})))),d.default.createElement("div",{className:"accountConf-separator"}))}}]),t}())||a;t.default=S},2560:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=S(n(100)),l=S(n(1234)),u=S(n(45)),i=S(n(89)),o=S(n(1230)),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(99),n(1235),n(55),n(88),n(1231);var s=S(n(1)),d=n(17),f=S(n(6)),g=E(n(27)),m=(n(22),n(18)),_=(S(n(1422)),S(n(2561))),T=(n(127),E(n(1239)),E(n(1229))),p=(E(n(1242)),E(n(1298))),C=S(n(1476));function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function S(e){return e&&e.__esModule?e:{default:e}}o.default.MonthPicker,i.default.Group;var A=(0,d.immutableRenderDecorator)(a=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),c(t,[{key:"componentDidMount",value:function(){if("modify"===this.props.insertOrModify){var e=this.props.lrCalculateState.get("flags").get("projectRange");this.props.dispatch(p.getProjectCardList(e))}else this.props.dispatch(p.getAssetsList("LB_ZJTX"))}},{key:"render",value:function(){var e=this.props,t=e.lrCalculateState,n=e.lrAccountState,a=e.dispatch,i=e.flags,c=e.disabledDate,d=e.insertOrModify,E=(e.allasscategorylist,e.hideCategoryList),S=(e.configPermissionInfo,t.get("DepreciationTemp")),A=S.get("runningDate"),y=S.get("runningState"),N=S.get("runningAbstract"),I=S.get("amount"),L=S.get("flowNumber")?S.get("flowNumber"):n.getIn(["cardTemp","flowNumber"]),h=(t.getIn(["DepreciationTemp","fromAccountName"]),t.getIn(["DepreciationTemp","toAccountName"]),t.getIn(["DepreciationTemp","usedProject"])),v=t.getIn(["DepreciationTemp","dealTypeList"]),O=t.getIn(["flags","dealType"]),b=(t.getIn(["flags","dealCategory"]),t.get("flags")),R=b.get("projectList")?b.get("projectList"):(0,m.fromJS)([]),M=b.get("projectRange"),D=b.get("beProject"),G=t.getIn(["DepreciationTemp","projectCard"]),U=t.getIn(["flags","propertyCostList"]),P=t.getIn(["DepreciationTemp","propertyCost"]),F=i.get("showContactsModal"),B=i.get("MemberList"),w=i.get("thingsList"),Y=i.get("selectThingsList"),J=i.get("currentCardType"),Z=i.get("selectedKeys"),H={XZ_SALE:"销售费用",XZ_MANAGE:"管理费用",XZ_FINANCE:"财务费用","":""}[P],k="DepreciationTemp";return s.default.createElement("div",{className:"accountConf-modal-list"},"modify"===d&&L?s.default.createElement("div",{className:"accountConf-modal-list-item"},s.default.createElement("label",null,"流水号："),s.default.createElement("div",null,L)):"",s.default.createElement("div",{className:"accountConf-modal-list-item"},s.default.createElement("label",null,"日期："),s.default.createElement("div",null,s.default.createElement(o.default,{allowClear:!1,disabledDate:c,value:A?(0,f.default)(A):"",onChange:function(e){var t=e.format("YYYY-MM-DD");a(p.changeLrCalculateCommonState(k,"runningDate",t))}}))),s.default.createElement("div",{className:"accountConf-modal-list-item"},s.default.createElement("label",null,"流水类别："),s.default.createElement("div",null,s.default.createElement(u.default,{disabled:"modify"===d,value:"长期资产折旧摊销",onChange:function(e){a(T.changeLrAccountCommonString("",["flags","paymentType"],e))}},E.map(function(e,t){return s.default.createElement(Option,{key:t,value:e.get("categoryType")},e.get("name"))})))),s.default.createElement("div",{className:"accountConf-modal-list-item"},s.default.createElement("label",null,"处理类别："),s.default.createElement("div",{className:"list-item-box"},s.default.createElement(_.default,{disabled:"modify"===d,treeData:v,value:O,placeholder:"",parentDisabled:!0,onChange:function(e,t,n){var r=e.split(g.TREE_JOIN_STR),l=r[2].split("+"),u=r[1].split("+"),i="true"===r[4];a(p.changeLrCalculateCommonState("flags","dealType",r[0])),a(p.changeLrCalculateCommonState("flags","projectRange",l)),a(p.changeLrCalculateCommonState("flags","propertyCostList",(0,m.fromJS)(u))),a(p.changeLrCalculateCommonState("flags","beProject",i)),1===u.length&&a(p.changeLrCalculateCommonState(k,"propertyCost",u[0])),a(p.changeLrCalculateCommonState(k,"categoryUuid",r[3])),a(p.getProjectCardList(l))}}),O&&D?s.default.createElement(l.default,{className:"use-unuse-style",style:{marginLeft:".2rem"},checked:h,checkedChildren:"项目",onChange:function(){h||a(p.changeLrCalculateCommonState(k,"projectCard",(0,m.fromJS)([{name:"",code:"",uuid:"",amount:""}]))),a(p.changeLrCalculateCommonState(k,"usedProject",!h))}}):"")),U&&U.size>1?s.default.createElement("div",{className:"accountConf-modal-list-item"},s.default.createElement("label",null,"费用性质："),s.default.createElement("div",null,s.default.createElement(u.default,{value:H,onChange:function(e){a(p.changeLrCalculateCommonState(k,"propertyCost",e))}},U&&U.size?U.map(function(e,t){var n={XZ_SALE:"销售费用",XZ_MANAGE:"管理费用",XZ_FINANCE:"财务费用"}[e];return s.default.createElement(Option,{key:t,value:e},n)}):null))):"",s.default.createElement("div",{className:"calculate-separator"}),s.default.createElement("div",{className:"accountConf-modal-list-item"},s.default.createElement("label",null,"摘要："),s.default.createElement("div",null,s.default.createElement(r.default,{value:N,onChange:function(e){a(p.changeLrCalculateCommonState(k,"runningAbstract",e.target.value))}}))),h&&D?s.default.createElement("div",{className:"accountConf-modal-list-item"},s.default.createElement("label",null,"项目："),s.default.createElement("div",{className:"chosen-right"},s.default.createElement(u.default,{combobox:!0,showSearch:!0,value:("COMNCRD"!==G.get("code")&&G.get("code")?G.get("code"):"")+" "+(G.get("name")?G.get("name"):""),onChange:function(e){var t=e.split(g.TREE_JOIN_STR),n=t[0],r=t[1],l=t[2],u=G.get("amount");a(p.changeLrCalculateCommonState(k,"projectCard",(0,m.fromJS)({uuid:n,name:l,code:r,amount:u})))}},R.map(function(e,t){return s.default.createElement(Option,{key:t,value:""+e.get("uuid")+g.TREE_JOIN_STR+e.get("code")+g.TREE_JOIN_STR+e.get("name")},("COMNCRD"!==e.get("code")?e.get("code"):"")+" "+e.get("name"))})),s.default.createElement("div",{className:"chosen-word",onClick:function(){a(T.getProjectAllCardList(M,"showContactsModal")),a(T.changeLrAccountCommonString("",["flags","currentCardType"],"project"))}},"选择"))):"",s.default.createElement("div",{className:"accountConf-modal-list-item"},s.default.createElement("label",null,"金额："),s.default.createElement("div",null,s.default.createElement(r.default,{value:I,onChange:function(e){(/^[-\d]\d*\.?\d{0,2}$/g.test(e.target.value)||""===e.target.value)&&a(p.changeLrCalculateCommonState(k,"amount",e.target.value))}}))),s.default.createElement("div",{className:"accountConf-separator"}),s.default.createElement(C.default,{showContactsModal:F,MemberList:B,thingsList:w,selectThingsList:Y,dispatch:a,currentCardType:J,modalName:"showContactsModal",palceTemp:"card",fromDepreciation:!0,runningState:y,categoryTypeObj:"acBusinessIncome",selectedKeys:Z,projectRange:M,index:this.state.index,curAmount:this.state.curAmount,lrCalculateState:t}))}}]),t}())||a;t.default=A},2561:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=c(n(45)),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(55);var u=c(n(1)),i=n(17),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(27));n(18);function c(e){return e&&e.__esModule?e:{default:e}}var s=r.default.Option,d=(0,i.immutableRenderDecorator)(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default.Component),l(t,[{key:"render",value:function(){var e=this.props,t=(e.className,e.treeData),n=e.value,a=e.placeholder,l=e.onChange,i=(e.parentDisabled,e.disabled),c=[];return function e(t,n){return t.map(function(t,a){t.childList&&t.childList.length?e(t.childList,n+"_"+a):(1!=t.level||t.beSpecial)&&c.push(u.default.createElement(s,{disabled:!t.acAvailable&&"内部转账"!=name&&0!=n||"长期资产"==t.name||1===t.level&&!t.beSpecial,value:""+t.name+o.TREE_JOIN_STR+t.propertyCostList.join("+")+o.TREE_JOIN_STR+t.projectRange.join("+")+o.TREE_JOIN_STR+t.uuid+o.TREE_JOIN_STR+t.beProject,key:t.uuid},t.name))})}(t.getIn([0,"childList"]).toJS(),0),u.default.createElement(r.default,{combobox:!0,showSearch:!0,disabled:i,placeholder:a,dropdownStyle:{maxHeight:400,overflow:"auto"},treeDefaultExpandAll:!0,value:[n],onChange:l},c)}}]),t}())||a;t.default=d},2562:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=L(n(129)),l=L(n(37)),u=L(n(100)),i=L(n(1234)),o=L(n(45)),c=L(n(1230)),s=L(n(70)),d=L(n(171)),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(128),n(38),n(99),n(1235),n(55),n(1231),n(69),n(170);var g=L(n(1)),m=n(17),_=I(n(27)),T=n(22),p=n(127),C=L(n(1476)),E=(I(n(1239)),I(n(1229))),S=(I(n(1242)),n(18)),A=L(n(6)),y=L(n(1281)),N=I(n(1243));function I(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function L(e){return e&&e.__esModule?e:{default:e}}d.default.TreeNode,s.default.TabPane;var h=(0,m.immutableRenderDecorator)(a=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={yllsVisible:!1},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,g.default.Component),f(t,[{key:"componentDidMount",value:function(){this.props.dispatch(E.getAssetsCleaningCategory())}},{key:"componentWillReceiveProps",value:function(e){this.props.homeState.get("homeActiveKey")===e.homeState.get("homeActiveKey")&&this.props.homeState.get("pageActive")===e.homeState.get("pageActive")||!0!==this.state.yllsVisible||this.setState({yllsVisible:!1})}},{key:"render",value:function(){var e=this,t=this.props,n=(t.onCancel,t.dispatch),a=(t.showRunningInfo,t.showRunningInfoModal,t.runningInfoModalType,t.modifyRunningModal,t.CqzcTemp),s=t.disabledBeginDate,d=t.flags,f=(t.accountList,t.hideCategoryList),m=(t.configPermissionInfo,t.yllsState),I=t.panes,L=this.state.yllsVisible,h=d.get("paymentType"),v=d.get("paymentInsertOrModify"),O=(d.get("isQuery"),d.get("selectedKeys")),b=function(e,t,n){return t?e&&((0,A.default)(s)>e||e<(0,A.default)(n)):e&&(0,A.default)(s)>e},R=(d.get("selectList"),a.get("detail")),M=(a.get("cardList"),a.get("acList"),a.get("usedCard"),d.get("issuedate"),d.get("modify")),D=d.get("accountType"),G=(d.get("managerCategoryList"),a.get("handlingAmount"),d.get("showContactsModal")),U=(a.get("runningIndex"),a.get("contactsCardRange"),a.getIn(["detail","categoryName"])),P=a.getIn(["detail","beProject"]),F=a.getIn(["detail","runningDate"]),B=a.getIn(["detail","runningAbstract"]),w=a.getIn(["detail","usedProject"]),Y=a.getIn(["detail","categoryUuid"]),J=a.getIn(["detail","businessList"]),Z=a.getIn(["detail","acAssets","depreciationAmount"]),H=a.getIn(["detail","flowNumber"]),k=a.getIn(["detail","acAssets","originalAssetsAmount"]),x=a.getIn(["detail","netProfitAmount"]),X=a.getIn(["detail","lossAmount"]),j=a.getIn(["detail","projectCard"])?a.getIn(["detail","projectCard"]):(0,S.fromJS)([]),K=(a.get("direction"),a.get("projectRange")),W=a.get("assetsCategory"),z=a.get("projectList"),V=(a.get("flowType"),a.get("moedAmount"),d.get("isQueryByBusiness"),d.get("MemberList")),Q=d.get("selectThingsList"),q=d.get("thingsList"),$=J.size?J.reduce(function(e,t){return t.get("beSelect")?e+1:e},0):0,ee=J.size?J.reduce(function(e,t){return t.get("beSelect")?e+Number(t.get("amount"))-Number(t.get("tax")):e},0):0,te=/^\d*\.?\d{0,2}$/,ne=J.size&&J.every(function(e){return e.get("beSelect")}),ae=m.get("lsItemData");return"LB_JZSY"===h?g.default.createElement("div",{className:"accountConf-modal-list accountConf-modal-list-hidden"},"modify"===v?g.default.createElement("div",{className:"accountConf-modal-list-item"},g.default.createElement("label",null,"流水号"),g.default.createElement("div",null,H)):"",g.default.createElement("div",{className:"accountConf-modal-list-item"},g.default.createElement("label",null,"日期："),g.default.createElement("div",null,g.default.createElement(c.default,{allowClear:!1,disabledDate:function(e){if(M){var t=R.getIn(["businessList",0,"runningDate"]);return b(e,M,t)}return b(e)},value:(0,A.default)(F),onChange:function(e){var t=e.format("YYYY-MM-DD");n(E.changeLrAccountCommonString("Cqzc",["detail","runningDate"],t)),"modify"!==v&&Y&&n(E.getAssetsCarryoverList(t,Y))}}))),g.default.createElement("div",{className:"accountConf-modal-list-item"},g.default.createElement("label",null,"流水类别："),g.default.createElement("div",null,g.default.createElement(o.default,{disabled:M||"single"===D,value:{LB_JZSY:"长期资产处置损益"}[h],onChange:function(e){n(E.changeLrAccountCommonString("",["flags","paymentType"],e))}},f&&f.size?f.map(function(e){return g.default.createElement(Option,{key:e.get("uuid"),value:e.get("categoryType")},e.get("name"))}):null))),g.default.createElement("div",{className:"accountConf-modal-list-item"},g.default.createElement("label",null,"处理类别："),g.default.createElement("div",{className:"chosen-right",style:{display:"flex"}},g.default.createElement(p.RunCategorySelect,{treeData:W,value:U,placeholder:"",parentDisabled:!0,disabled:"modify"===v,onChange:function(e){var t=e.split(_.TREE_JOIN_STR);n(E.changeLrAccountCommonString("Cqzc",["detail","categoryUuid"],t[0])),n(E.changeLrAccountCommonString("Cqzc",["detail","categoryName"],t[1])),n(E.getAssetsCarryoverList(F,t[0]));var a=(0,S.fromJS)([]);!function e(t,n){t.map(function(t){t.get("uuid")===n&&t.get("beProject")?a=t.get("projectRange"):t.get("childList").size&&e(t.get("childList"),n)})}(W.getIn([0,"childList"]),t[0]),a.size?n(E.getJzsyProjectCardList(a)):n(E.changeLrAccountCommonString("Cqzc",["detail","beProject"],!1))}}),P?g.default.createElement(i.default,{className:"use-unuse-style lrls-jzsy-box",style:{margin:".1rem 0 0 .2rem"},checked:w,checkedChildren:"项目",onChange:function(){w||j.size?w&&n(E.changeLrAccountCommonString("Cqzc",["detail","projectCard"],(0,S.fromJS)([]))):n(E.changeLrAccountCommonString("Cqzc",["detail","projectCard"],(0,S.fromJS)([{uuid:"",amount:""}]))),n(E.changeLrAccountCommonString("Cqzc",["detail","usedProject"],!w))}}):"")),w?j.map(function(t,a){return g.default.createElement("div",{key:a,className:"project-content-area",style:j.size>1?{}:{border:"none",marginBottom:"0"}},g.default.createElement("div",{className:"accountConf-modal-list-item"},g.default.createElement("label",null,"项目："),g.default.createElement("div",{className:"chosen-right"},g.default.createElement(o.default,{combobox:!0,showSearch:!0,value:("COMNCRD"!==t.get("code")&&t.get("code")?t.get("code"):"")+" "+(t.get("name")?t.get("name"):""),onChange:function(e){var t=e.split(_.TREE_JOIN_STR),r=t[0],l=t[1],u=t[2];n(E.changeLrAccountCommonString("Cqzc",["detail","projectCard",a],(0,S.fromJS)({uuid:r,name:u,code:l})))}},z.filter(function(e){return"COMNCRD"!==e.get("code")}).map(function(e,t){return g.default.createElement(Option,{key:t,value:""+e.get("uuid")+_.TREE_JOIN_STR+e.get("code")+_.TREE_JOIN_STR+e.get("name")},("COMNCRD"!==e.get("code")?e.get("code"):"")+" "+e.get("name"))})),g.default.createElement("div",{className:"chosen-word",onClick:function(){n(E.getProjectAllCardList(K,"showContactsModal")),n(E.changeLrAccountCommonString("",["flags","currentCardType"],"project")),e.setState({index:a})}},"选择"))))}):null,g.default.createElement("div",{className:"accountConf-modal-list-item"},g.default.createElement("label",null,"摘要："),g.default.createElement("div",null,g.default.createElement(u.default,{value:B,onChange:function(e){n(E.changeLrAccountCommonString("Cqzc",["detail","runningAbstract"],e.target.value))}}))),g.default.createElement("div",{className:"accountConf-modal-list-item"},g.default.createElement("label",null,"净"+(x>=0?"收益":"损失")+"金额："),g.default.createElement("div",null,x>=0?x:X)),g.default.createElement("div",{className:"accountConf-modal-list-item"},g.default.createElement("label",null,"资产原值："),g.default.createElement("div",null,g.default.createElement(u.default,{value:k,onChange:function(e){if(void 0!==e.target.value){var t=e.target.value.indexOf("。")>-1?e.target.value.replace("。","."):e.target.value;0===t.indexOf("0")&&"0"!=t&&t>=1&&(t=t.substr(1)),te.test(t)||""===t?(n(E.changeLrAccountCommonString("Cqzc",["detail","acAssets","originalAssetsAmount"],t)),n(E.calculateGainForJzsy())):l.default.info("金额只能输入带两位小数的数字")}}}))),g.default.createElement("div",{className:"accountConf-modal-list-item"},g.default.createElement("label",null,"累计折旧摊销："),g.default.createElement("div",null,g.default.createElement(u.default,{value:Z,onChange:function(e){if(void 0!==e.target.value){var t=e.target.value.indexOf("。")>-1?e.target.value.replace("。","."):e.target.value;0===t.indexOf("0")&&"0"!=t&&t>=1&&(t=t.substr(1)),te.test(t)||""===t?(n(E.changeLrAccountCommonString("Cqzc",["detail","acAssets","depreciationAmount"],t)),n(E.calculateGainForJzsy())):l.default.info("金额只能输入带两位小数的数字")}}}))),g.default.createElement("div",{className:"accountConf-separator"}),g.default.createElement("div",{className:"lrAccount-detail-title"},g.default.createElement("div",{className:"lrAccount-detail-title-top"},"请勾选需要处理的流水："),g.default.createElement("div",{className:"lrAccount-detail-title-bottom"},g.default.createElement("span",null,"已勾选流水：",$,"条"),g.default.createElement("span",null,"处置金额合计：",g.default.createElement("span",null,(0,T.formatMoney)(ee,2,""))))),g.default.createElement(p.TableAll,{className:"lrAccount-table"},g.default.createElement(p.TableTitle,{className:"lrAccount-table-jzsy-width",titleList:["流水号","流水类别","金额"],hasCheckbox:!0,selectAcAll:ne,onClick:function(e){e.stopPropagation(),J.every(function(e){return e.get("beSelect")})?J.forEach(function(e,t){return n(E.changeLrAccountCommonString("Cqzc",["detail","businessList",t,"beSelect"],!1))}):J.forEach(function(e,t){return n(E.changeLrAccountCommonString("Cqzc",["detail","businessList",t,"beSelect"],!0))}),n(E.calculateGainForJzsy())}}),g.default.createElement(p.TableBody,null,J.size?J.map(function(t,a){return g.default.createElement(p.TableItem,{className:"lrAccount-table-jzsy-width",key:t.get("uuid")},g.default.createElement("li",{onClick:function(e){e.stopPropagation(),n(E.changeLrAccountCommonString("Cqzc",["detail","businessList",a,"beSelect"],!t.get("beSelect"))),n(E.calculateGainForJzsy())}},g.default.createElement(r.default,{checked:t.get("beSelect")})),g.default.createElement(p.TableOver,{textAlign:"left",className:"account-flowNumber",onClick:function(){n(N.getYllsBusinessData(t,function(){return e.setState({yllsVisible:!0})}))}},g.default.createElement("span",null,t.get("flowNumber"))),g.default.createElement("li",null,t.get("categoryName")),g.default.createElement("li",null,g.default.createElement("span",{style:{textAlign:"right"}},(0,T.formatMoney)(Number(t.get("amount"))-Number(t.get("tax")),2,""))))}):"")),g.default.createElement(C.default,{showContactsModal:G,MemberList:V,thingsList:q,selectThingsList:Q,dispatch:n,currentCardType:"project",modalName:"showContactsModal",palceTemp:"Cqzc",selectedKeys:O,projectRange:K,index:0}),L?g.default.createElement(y.default,{yllsVisible:L,dispatch:n,yllsState:m,onClose:function(){return e.setState({yllsVisible:!1})},editLrAccountPermission:!0,panes:I,lsItemData:ae,uuidList:J.filter(function(e){return"期初余额"!==e.get("runningAbstract")&&e.get("uuid")}),showDrawer:function(){return e.setState({yllsVisible:!0})},refreshList:function(){"modify"!==v&&Y&&n(E.getAssetsCarryoverList(F,Y))}}):""):null}}]),t}())||a;t.default=h},2563:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=C(n(47)),l=C(n(129)),u=C(n(100)),i=C(n(32)),o=C(n(37)),c=C(n(45)),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(46),n(128),n(99),n(51),n(38),n(55);var d=C(n(1)),f=n(17),g=p(n(27)),m=n(127),_=p(n(1242)),T=p(n(1229));n(18);function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function C(e){return e&&e.__esModule?e:{default:e}}var E=c.default.Option,S=(0,f.immutableRenderDecorator)(a=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={acId:""},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,d.default.Component),s(t,[{key:"render",value:function(){var e=this.props,t=e.dispatch,n=e.showModal,a=e.accountTemp,s=e.lrAclist,f=(e.accountList,e.simplifyStatus),p=a.get("name"),C=a.get("type"),S=a.get("acId"),A=a.get("acFullName"),y=a.get("openingName"),N=a.get("openingBank"),I=a.get("accountNumber"),L=a.get("beginAmount"),h=a.get("openInfo"),v=["1001","1002","1012"],O=s.filter(function(e){return v.some(function(t){return 0===e.get("acid").indexOf(t)})&&0===e.get("asscategorylist").size});var b=/^\d*\.?\d{0,2}$/,R=function(e){return({cash:function(){return"现金"},general:function(){return"一般户"},basic:function(){return"基本户"},Alipay:function(){return"支付宝"},WeChat:function(){return"微信"},other:function(){return"其它"}}[e]||function(){return"未匹配"})()};return d.default.createElement(r.default,{okText:"保存",visible:n,maskClosable:!1,title:"新增账户",onCancel:function(){return t(T.closeAccountconfModal())},footer:[d.default.createElement(i.default,{key:"ok",type:"ghost",onClick:function(){var e=function(){var e=[];return""===p?e.push("账户名称必填"):p.length>20&&e.push("账户名称最长20个字符"),""===S&&f&&e.push("关联科目必填"),""===C&&e.push("账户类型必填"),I.length>40&&e.push("卡号最长40个字符"),N.length>40&&e.push("银行户名最长40个字符"),y.length>40&&e.push("开户行／机构最长40个字符"),e}();e.length?o.default.info(e.join(",")):t(_.saveAccountConfAccount(!0,"fromLrAccount"))}},"保 存")]},d.default.createElement("div",{className:"lrls-account-add"},d.default.createElement("div",{className:"accountConf-modal-list"},d.default.createElement("div",{className:"accountConf-modal-list-item"},d.default.createElement("label",null,"账户名称："),d.default.createElement("div",null,d.default.createElement(u.default,{placeholder:"请输入便于识别的账户名",value:p,onChange:function(e){t(_.changeAccountConfCommonString("account","name",e.target.value))}}))),f?d.default.createElement("div",{className:"accountConf-modal-list-item"},d.default.createElement("label",null,"关联科目："),d.default.createElement("div",null,d.default.createElement(m.AcouontAcSelect,{lrAclist:O,acId:S,acName:A,tipText:"请点击选择所关联的科目",onChange:function(e){var n=e.split(g.TREE_JOIN_STR)[0],a=O.find(function(e){return e.get("acid")===n});t(_.selectAccountConfAllAc(a?n:"",a&&a.get("acfullname"),a&&a.get("asscategorylist"),"account",""))}}))):"",d.default.createElement("div",{className:"accountConf-modal-list-item"},d.default.createElement("label",null,"账户类型："),d.default.createElement("div",null,d.default.createElement(c.default,{placeholder:"（必填）",value:R(C),onChange:function(e){t(_.changeAccountConfCommonString("account","type",e))}},[{key:"cash",value:"现金"},{key:"general",value:"一般户"},{key:"basic",value:"基本户"},{key:"Alipay",value:"支付宝"},{key:"WeChat",value:"微信"},{key:"other",value:"其它"}].map(function(e,t){return d.default.createElement(E,{key:e.key,value:e.key},e.value)})))),f?"":d.default.createElement("div",{className:"accountConf-modal-list-item"},d.default.createElement("label",null,"期初余额："),d.default.createElement("div",null,d.default.createElement(u.default,{value:L,onChange:function(e){if(void 0!==e.target.value){var n=e.target.value.indexOf("。")>-1?e.target.value.replace("。","."):e.target.value;0===n.indexOf("0")&&"0"!=n&&n>=1&&(n=n.substr(1)),b.test(n)||""===n?t(_.changeAccountConfCommonString("account","beginAmount",n)):o.default.info("金额只能输入带两位小数的数字")}}}))),d.default.createElement(l.default,{onChange:function(e){t(_.changeAccountConfCommonString("account","openInfo",e.target.checked))},checked:h},"账户信息"),h?d.default.createElement("div",null,d.default.createElement("div",{style:{display:"cash"===C?"none":""},className:"accountConf-modal-list-item"},d.default.createElement("label",null,"账号："),d.default.createElement("div",null,d.default.createElement(u.default,{placeholder:"请输入账户号码",value:I,onChange:function(e){t(_.changeAccountConfCommonString("account","accountNumber",e.target.value))},onBlur:function(e){return t(_.changeAccountConfAccountNumber(R(C),I))}}))),d.default.createElement("div",{style:{display:"cash"===C?"none":""},className:"accountConf-modal-list-item"},d.default.createElement("label",null,"开户名："),d.default.createElement("div",null,d.default.createElement(u.default,{placeholder:"请输入账户的开户名称",value:y,onChange:function(e){t(_.changeAccountConfCommonString("account","openingName",e.target.value))}}))),d.default.createElement("div",{style:{display:"cash"===C?"none":""},className:"accountConf-modal-list-item"},d.default.createElement("label",null,"开户行/机构："),d.default.createElement("div",null,d.default.createElement(u.default,{placeholder:"请填入开户行或支付机构名称",value:N,onChange:function(e){t(_.changeAccountConfCommonString("account","openingBank",e.target.value))}})))):"")))}}]),t}())||a;t.default=S}}]);