(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{1223:function(e,t,n){},1224:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r,s,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=l(n(1)),c=l(n(0)),o=n(17);function l(e){return e&&e.__esModule?e:{default:e}}n(1223);var d=(0,o.immutableRenderDecorator)((s=r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default.Component),i(t,[{key:"render",value:function(){var e=this.props,t=e.type,n=e.className,a=e.onClick;return u.default.createElement("div",{className:"container-wrap container-width-"+t+" "+n,onClick:a},this.props.children)}}]),t}(),r.displayName="ContainerWrap",r.propTypes={type:c.default.string.isRequired,className:c.default.string.isRequired},a=s))||a;t.default=d},1226:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r,s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(1),u=(r=i)&&r.__esModule?r:{default:r},c=n(17);n(1223);var o=(0,c.immutableRenderDecorator)(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default.Component),s(t,[{key:"render",value:function(){return u.default.createElement("div",{className:"flex-title"},this.props.children)}}]),t}())||a;t.default=o},1227:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=l(n(176)),s=l(n(174)),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(175),n(173);var u=l(n(1)),c=n(17),o=n(127);function l(e){return e&&e.__esModule?e:{default:e}}n(1232);var d=(0,c.immutableRenderDecorator)(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default.Component),i(t,[{key:"render",value:function(){var e=this.props,t=e.pageItem,n=e.onClick,a=u.default.createElement(s.default,null,t.get("pageList").map(function(e,a){return u.default.createElement(s.default.Item,{key:e.get("key")},u.default.createElement("span",{className:"page-switch-item setting-common-ant-dropdown-menu-item",onClick:function(){n(t.get("key"),e.get("name"),e.get("key"))}},e.get("name")))}));return u.default.createElement("div",null,u.default.createElement(r.default,{overlay:a,trigger:["click"]},u.default.createElement("div",{className:"page-switch-button"},u.default.createElement(o.XfnIcon,{type:"Menu"}))))}}]),t}())||a;t.default=d},1232:function(e,t,n){},1244:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={name:"必填",code:"最长20个字符",remark:"选填(最多40个字符)",amount:"必填，请输入金额",selectAc:"选填，请选择科目",upperClass:"选择上级类别",cardCode:"必填，支持数字和大小写英文",specifications:"支持数字字母，不区分大小写，最长20个字符",specificationsTip:"选填，最长20个字符",unit:"必填，支持多单位",barCode:"选填，最长40个字符",companyAddress:"选填，最长40个字符",financeName:"选填，最长20个字符"}},1295:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.relativeCardTemp={name:"",code:"",isPayUnit:!0,isReceiveUnit:!0,payableAcName:"应付账款",receivableAcName:"应收账款",advanceAcName:"预收账款",prepaidAcName:"预付账款",payableAcId:"2202",receivableAcId:"1122",advanceAcId:"2203",prepaidAcId:"1123",companyAddress:"",companyTel:"",financeName:"",financeTel:"",remark:"",receivableOpened:"",advanceOpened:"",payableOpened:"",prepaidOpened:"",categoryTypeList:[],enablePrepaidAc:!0,enableAdvanceAc:!0,contacterInfo:!1,isCheckOut:!1},t.relativeHighTypeTemp={name:"",isPayUnit:!1,isReceiveUnit:!1,isAppliedInvoicing:!1,isAppliedLedger:!1,isAppliedWater:!0,advanceAcId:"",advanceAcName:"",payableAcId:"",payableAcName:"",prepaidAcId:"",prepaidAcName:"",receivableAcId:"",receivableAcName:""},t.relativeTypeBtnStatus={isAdd:!1,isDelete:!1,treeUuid:"",treeName:"全部",isUp:!1,isDown:!1,isEdit:!1,parentUuid:""},t.relativeTypeTemp={name:"",remark:"",parentName:"全部",parentUuid:"",currentUnitCtgyUuid:""},t.inventoryHighTypeTemp={name:"",uuid:"",isAppliedSale:!1,isAppliedPurchase:!1,isAppliedProduce:!1,isAppliedWater:!0,isAppliedInvoicing:!1},t.inventoryCardTypeTemp={parentUuid:"",name:"",remark:"",ctgyUuid:"",parentName:"",uuid:""},t.inventoryCardTemp={code:"",name:"",inventoryNature:5,inventoryAcName:"库存商品",inventoryAcId:"1405",opened:"",remark:"",isAppliedSale:!0,isAppliedPurchase:!0,isAppliedProduce:!1,categoryTypeList:[],contacterInfo:!1,isCheckOut:!1,warehouseList:[],isOpenedQuantity:!1,isUniformPrice:!1,unit:{unitList:[]},openedQuantity:"",unitPriceList:[]},t.inventorySettingBtnStatus={isAdd:!1,isDelete:!1,treeUuid:"",treeName:"全部",isUp:!1,isDown:!1,isEdit:!1,parentUuid:""},t.projectHighTypeTemp={name:"",commonFee:!1,uuid:""},t.projectCardTemp={name:"",code:"",selectUuid:"",selectName:"",categoryTypeList:[{ctgyUuid:"",subordinateUuid:""}]},t.projectTypeBtnStatus={isAdd:!1,isDelete:!1,treeUuid:"",treeName:"全部",isUp:!1,isDown:!1,upUuid:"",downUuid:"",isEdit:!1,parentUuid:""},t.projectTypeTemp={name:"",remark:"",parentName:"全部",parentUuid:"",uuid:""}},1301:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,n=arguments[1];return((e={},o(e,a.INIT_LR_ACOUNT_STATE,function(){return l}),o(e,a.INIT_LR_ACCOUNT,function(){var e=t.get("hideCategoryList");t.getIn(["flags","paymentType"]);if("init"===n.strJudgeType){var a=t.get("issues");t=l.set("issues",a)}if("saveAndNew"===n.strJudgeType){var s=l.get("cardTemp"),i=t.getIn(["cardTemp","payableRate"]),u=t.getIn(["cardTemp","outputRate"]),c=t.getIn(["cardTemp","scale"]),o=t.getIn(["cardTemp","runningDate"]),d=t.getIn(["cardTemp","categoryType"]),f=t.getIn(["cardTemp","name"]);t=t.setIn(["flags","insertOrModify"],"insert").setIn(["flags","runningInsertOrModify"],"insert").set("cardTemp",s).setIn(["cardTemp","payableRate"],i).setIn(["cardTemp","outputRate"],u).setIn(["cardTemp","categoryType"],d).setIn(["cardTemp","scale"],c).setIn(["cardTemp","runningDate"],o).setIn(["cardTemp","name"],f).setIn(["flags","isQueryByBusiness"],!1).setIn(["flags","specialStateforAssets"],!1).setIn(["flags","specialStateforAccrued"],!1).setIn(["flags","needRelaList"],!1).setIn(["flags","uuidList"],(0,r.fromJS)([])).setIn(["flags","isQuery"],!1).set("enclosureList",(0,r.fromJS)([])).set("label",(0,r.fromJS)([])).set("needDeleteUrl",(0,r.fromJS)([]))}else if("afterSave"===n.strJudgeType){var m=(0,r.fromJS)(n.receivedData),p=t.getIn(["flags","runningInsertOrModify"]),g=t.getIn(["cardTemp","runningState"]);t=t.set("cardTemp",m).setIn(["flags","insertOrModify"],"modify").setIn(["flags","amount"],m.get("amount")).setIn(["flags","runningInsertOrModify"],"modify").setIn(["flags","isQuery"],!0),n.callBackObj.flowNumber&&(t=t.setIn(["cardTemp","flowNumber"],n.callBackObj.flowNumber)),"insert"===p&&n.callBackObj.uuid&&(t=t.setIn(["cardTemp","uuid"],n.callBackObj.uuid)),"STATE_JK_ZFLX"!==g&&"STATE_TZ_SRGL"!==g&&"STATE_TZ_SRLX"!==g&&"STATE_ZB_ZFLR"!==g&&"STATE_XC_FF"!==g&&"STATE_XC_JN"!==g&&"STATE_SF_JN"!==g&&"STATE_ZS_TH"!==g&&"STATE_ZF_SH"!==g&&"STATE_SF_SFJM"!==g||(t=t.setIn(["flags","specialStateforAccrued"],!0))}else if("fromCxAccount"===n.strJudgeType){var y=(0,r.fromJS)(n.receivedData.result),I=y.get("enclosureList")?(0,r.fromJS)(y.get("enclosureList")):(0,r.fromJS)([]),T=y.get("runningState"),A=t.getIn(["cardTemp","scale"]),C=t.getIn(["flags","uuidList"]),L=t.getIn(["flags","paymentType"]),S=t.get("calculateTemp");t=l.set("cardTemp",y).set("calculateTemp",S).setIn(["flags","PageTab"],"business").setIn(["flags","insertOrModify"],"modify").setIn(["flags","paymentType"],L).setIn(["flags","runningInsertOrModify"],"modify").setIn(["flags","amount"],y.get("amount")).setIn(["flags","isQuery"],!0).setIn(["cardTemp","name"],y.get("categoryName")).set("hideCategoryList",e).set("enclosureList",I).setIn(["cardTemp","queryObj","amount"],y.get("amount")).setIn(["cardTemp","queryObj","handleAmount"],y.get("handleAmount")).setIn(["cardTemp","queryObj","offsetAmount"],y.get("offsetAmount")),"LB_XCZC"===y.get("categoryType")&&(t=t.setIn(["cardTemp","queryObj","personAccumulationAmount"],y.getIn(["acPayment","personAccumulationAmount"])).setIn(["cardTemp","queryObj","personSocialSecurityAmount"],y.getIn(["acPayment","personSocialSecurityAmount"])).setIn(["cardTemp","queryObj","incomeTaxAmount"],y.getIn(["acPayment","incomeTaxAmount"])).setIn(["cardTemp","queryObj","companySocialSecurityAmount"],y.getIn(["acPayment","companySocialSecurityAmount"])).setIn(["cardTemp","queryObj","companyAccumulationAmount"],y.getIn(["acPayment","companyAccumulationAmount"]))),"STATE_JK_ZFLX"!==T&&"STATE_TZ_SRGL"!==T&&"STATE_TZ_SRLX"!==T&&"STATE_ZB_ZFLR"!==T&&"STATE_XC_FF"!==T&&"STATE_XC_JN"!==T&&"STATE_SF_JN"!==T&&"STATE_ZS_TH"!==T&&"STATE_ZF_SH"!==T&&"STATE_SF_SFJM"!==T||!y.get("paymentList").size||(t=t.setIn(["flags","specialStateforAccrued"],!0)),(n.uuidList||C.size)&&(t=t.setIn(["flags","needRelaList"],!0)),n.uuidList?t=t.setIn(["flags","uuidList"],n.uuidList):C.size&&(t=t.setIn(["flags","uuidList"],C)),Number(y.get("amount"))===Number(y.get("currentAmount"))&&(t=t.setIn(["flags","allGetFlow"],!0)),t=t.setIn(["flags","isQueryByBusiness"],!0).setIn(["cardTemp","scale"],A).setIn(["flags","currentSwitchUuid"],n.uuid)}return t}),o(e,a.INIT_LR_ACCOUNT_SETTINGS,function(){return t=t.setIn(["cardTemp","payableRate"],n.rate.payableRate).setIn(["cardTemp","outputRate"],n.rate.outputRate).setIn(["cardTemp","scale"],n.rate.scale).set("hideCategoryList",(0,r.fromJS)(n.hideCategoryList))}),o(e,a.COST_TRANSFER_FROM_CXLS_JUMP_TO_LRLS,function(){var e=t.getIn(["flags","uuidList"]);return t=(t=l.setIn(["cardTemp","payableRate"],n.rate.payableRate).setIn(["cardTemp","outputRate"],n.rate.outputRate).setIn(["cardTemp","scale"],n.rate.scale).set("hideCategoryList",(0,r.fromJS)(n.hideCategoryList)).setIn(["flags","currentSwitchUuid"],n.item.get("uuid"))).setIn(["flags","PageTab"],"payment").setIn(["flags","paymentType"],"LB_JZCB"),n.fromRefresh&&(t=t.setIn(["flags","isQueryByBusiness"],!0).setIn(["flags","runningInsertOrModify"],"modify")),(n.uuidList||e.size)&&(t=t.setIn(["flags","needRelaList"],!0)),n.uuidList?t=t.setIn(["flags","uuidList"],n.uuidList):e.size&&(t=t.setIn(["flags","uuidList"],e)),t}),o(e,a.INVOICE_AUTH_FROM_CXLS_JUMP_TO_LRLS,function(){var e=t.getIn(["flags","uuidList"]);return t=(t=l.setIn(["cardTemp","payableRate"],n.rate.payableRate).setIn(["cardTemp","outputRate"],n.rate.outputRate).setIn(["cardTemp","scale"],n.rate.scale).set("hideCategoryList",(0,r.fromJS)(n.hideCategoryList)).setIn(["flags","currentSwitchUuid"],n.item.get("uuid"))).setIn(["flags","PageTab"],"payment").setIn(["flags","paymentType"],"LB_FPRZ"),n.fromRefresh&&(t=t.setIn(["flags","isQueryByBusiness"],!0).setIn(["flags","runningInsertOrModify"],"modify")),(n.uuidList||e.size)&&(t=t.setIn(["flags","needRelaList"],!0)),n.uuidList?t=t.setIn(["flags","uuidList"],n.uuidList):e.size&&(t=t.setIn(["flags","uuidList"],e)),t}),o(e,a.CALCULATE_FROM_CXLS_JUMP_TO_LRLS,function(){var e=t.getIn(["flags","uuidList"]);return t=(t=l.setIn(["cardTemp","payableRate"],n.rate.payableRate).setIn(["cardTemp","outputRate"],n.rate.outputRate).setIn(["cardTemp","scale"],n.rate.scale).set("hideCategoryList",(0,r.fromJS)(n.hideCategoryList))).setIn(["flags","PageTab"],"payment").setIn(["flags","paymentType"],n.pageType),n.fromRefresh&&(t=t.setIn(["flags","isQueryByBusiness"],!0).setIn(["flags","runningInsertOrModify"],"modify")),(n.uuidList||e.size)&&(t=t.setIn(["flags","needRelaList"],!0)),n.uuidList?t=t.setIn(["flags","uuidList"],n.uuidList):e.size&&(t=t.setIn(["flags","uuidList"],e)),t}),o(e,a.CALCULATE_CHANGE_QUERY,function(){return t=t.setIn(["flags","isQueryByBusiness"],!0).setIn(["flags","runningInsertOrModify"],"modify")}),o(e,a.INVOICING_FROM_CXLS_JUMP_TO_LRLS,function(){var e=t.getIn(["flags","uuidList"]);return t=(t=l.setIn(["cardTemp","payableRate"],n.rate.payableRate).setIn(["cardTemp","outputRate"],n.rate.outputRate).setIn(["cardTemp","scale"],n.rate.scale).set("hideCategoryList",(0,r.fromJS)(n.hideCategoryList)).setIn(["flags","currentSwitchUuid"],n.item.get("uuid"))).setIn(["flags","PageTab"],"payment").setIn(["flags","paymentType"],"LB_KJFP"),n.fromRefresh&&(t=t.setIn(["flags","isQueryByBusiness"],!0).setIn(["flags","runningInsertOrModify"],"modify")),(n.uuidList||e.size)&&(t=t.setIn(["flags","needRelaList"],!0)),n.uuidList?t=t.setIn(["flags","uuidList"],n.uuidList):e.size&&(t=t.setIn(["flags","uuidList"],e)),t}),o(e,a.SELECT_ACCOUNT_RUNNING_CATEGORY,function(){t=t.setIn(["flags","insertOrModify"],"modify").setIn(["flags","showModal"],!0).mergeIn(["cardTemp"],(0,r.fromJS)(n.name)).deleteIn(["cardTemp","parentUuid"]).setIn(["cardTemp","assetType"],""),n.name.beProject&&(t=t.setIn(["cardTemp","usedProject"],!0).setIn(["cardTemp","projectCard"],(0,r.fromJS)([{uuid:""}])));var e=t.getIn(["cardTemp","uuid"]);return t.setIn(["cardTemp","categoryUuid"],e)}),o(e,a.TRANSFER_OUT_FROM_CXLS_JUMP_TO_LRLS,function(){var e=t.getIn(["flags","uuidList"]);return(n.uuidList||e.size)&&(t=t.setIn(["flags","needRelaList"],!0)),n.uuidList?t=t.setIn(["flags","uuidList"],n.uuidList):e.size&&(t=t.setIn(["flags","uuidList"],e)),t.setIn(["flags","currentSwitchUuid"],n.item.get("uuid"))}),o(e,a.TRANSFER_OUT_FROM_CXLS_JUMP_TO_NBZZ,function(){var e=t.getIn(["flags","uuidList"]);return(n.uuidList||e.size)&&(t=t.setIn(["flags","needRelaList"],!0)),n.uuidList?t=t.setIn(["flags","uuidList"],n.uuidList):e.size&&(t=t.setIn(["flags","uuidList"],e)),t.setIn(["flags","currentSwitchUuid"],n.item.get("uuid"))}),o(e,a.TRANSFER_OUT_FROM_CXLS_JUMP_TO_ZJTX,function(){var e=t.getIn(["flags","uuidList"]);return(n.uuidList||e.size)&&(t=t.setIn(["flags","needRelaList"],!0)),n.uuidList?t=t.setIn(["flags","uuidList"],n.uuidList):e.size&&(t=t.setIn(["flags","uuidList"],e)),t.setIn(["flags","currentSwitchUuid"],n.item.get("uuid"))}),o(e,a.TRANSFER_OUT_FROM_CXLS_JUMP_TO_ZJTX,function(){var e=t.getIn(["flags","uuidList"]);return(n.uuidList||e.size)&&(t=t.setIn(["flags","needRelaList"],!0)),n.uuidList?t=t.setIn(["flags","uuidList"],n.uuidList):e.size&&(t=t.setIn(["flags","uuidList"],e)),t.setIn(["flags","currentSwitchUuid"],n.item.get("uuid"))}),o(e,a.SELECT_RUNNING_AC_INFO,function(){return t=t.setIn(["cardTemp",n.idPlace],n.acid).setIn(["cardTemp",n.namePlace],n.acFullName).setIn(["cardTemp",n.assPlace],(0,r.fromJS)([]))}),o(e,a.SELECT_ACCOUNT_ASS,function(){var e=n.assCategory,a=t.getIn(["cardTemp",n.place]),s=a.findIndex(function(t){return t.get("assCategory")===e});return t=-1===s?t.updateIn(["cardTemp",n.place],function(t){return t.set(t.size,(0,r.fromJS)({assId:n.assId,assName:n.assName,assCategory:e}))}):t.updateIn(["cardTemp",n.place],function(e){return e.setIn([s,"assId"],n.assId).setIn([s,"assName"],n.assName)})}),o(e,a.CHANGE_LR_ACCOUNT_COMMON_STRING,function(){return n.placeArr&&(t=t.setIn(n.placeArr,n.value)),n.place&&(t=t.set(n.place,n.value)),t}),o(e,a.GET_RUNNING_ACCOUNT_INFO,function(){switch(n.wordType){case"VAT":t=t.setIn(["cardTemp","paymentList"],(0,r.fromJS)(n.receivedData.resultList));break;case"socialSecurity":t=t.setIn(["cardTemp","socialSecurityAmount"],n.receivedData.socialSecurityAmount);break;case"fund":t=t.setIn(["cardTemp","accumulationAmount"],n.receivedData.accumulationAmount);break;case"sfAmount":t=t.setIn(["cardTemp","sfAmount"],n.receivedData.amount);break;case"other":t=t.setIn(["cardTemp","paymentList"],(0,r.fromJS)(n.receivedData.resultList));case"accruedZZS":t=t.setIn(["cardTemp","preAmount"],n.receivedData.amount);break;default:t=t.setIn(["cardTemp","payableAmount"],n.receivedData.amount).setIn(["cardTemp","preAmount"],n.receivedData.preAmount)}return t}),o(e,a.CHANGE_LR_ACCOUNT_ACCOUNT_NAME,function(){var e=n.value.split(i.TREE_JOIN_STR);return t=t.setIn([n.tab+"Temp",n.placeUUid],e[0]).setIn([n.tab+"Temp",n.placeName],e[1])}),o(e,a.CHANGE_ACCOUNT_BILL_TYPE,function(){var e=t.getIn(["cardTemp","taxRate"]);return e&&(t=t.setIn(["cardTemp","tax"],(Number(e)*Number(n.value)/100).toFixed(2))),t=t.setIn(["cardTemp","amount"],n.value)}),o(e,a.AUTO_CALCULATE_BILL_INFO,function(){var e=n.strJudgeType;return function(e,t){var n=t.getIn(["cardTemp","priceTaxTotal"]),a=Number(t.getIn(["cardTemp","taxRate"]))/100,r=t.getIn(["cardTemp","tax"]);"priceTaxTotal"==e?r=Number(n)-Number(n)/(1+a):"taxRate"==e&&(r=""==n?"":Number(n)-Number(n)/(1+a));return t=t.setIn(["cardTemp","tax"],Number(r).toFixed(2))}(e,t)}),o(e,a.CHANGE_ACCOUNT_TAX_RATE,function(){var e=t.getIn(["cardTemp","amount"]);n.value&&(t=t.setIn(["cardTemp","taxRate"],n.value));var a=t.getIn(["cardTemp","taxRate"]);return e&&(t=100==a?t.setIn(["cardTemp","tax"],e):t.setIn(["cardTemp","tax"],(Number(e)/(1+Number(a)/100)*Number(a)/100).toFixed(2))),t}),o(e,a.CHANGE_ACCOUNT_FZHS_MODAL_DISPLAY,function(){return t.updateIn(["flags","accountAssModalShow"],function(e){return!e})}),o(e,a.CHANGE_ACCOUNT_ASS_CATEGORY,function(){return t.setIn(["ass","asscategory"],n.assCategory)}),o(e,a.CHANGE_ACCOUNT_FZHS_MODAL_CLEAR,function(){return t.set("ass",l.get("ass")).updateIn(["flags","accountAssModalShow"],function(e){return!e})}),o(e,a.CHANGE_ACCOUNT_ASSID,function(){return t.setIn(["ass","assid"],n.value)}),o(e,a.CHANGE_ACCOUNT_ASSNAME,function(){return t.setIn(["ass","assname"],n.value)}),o(e,a.CHANGE_ACCOUNT_SALARY,function(){return t=t.setIn(["cardTemp","acPayment",n.place],n.value),n.checkplace&&(t=t.setIn(["flags",n.checkplace],n.checked)),t}),o(e,a.CALCULATE_AMOUNT,function(){var e=t.getIn(["cardTemp","acPayment","companyAccumulationAmount"]),n=t.getIn(["cardTemp","acPayment","personAccumulationAmount"]),a=t.getIn(["cardTemp","acPayment","companySocialSecurityAmount"]),r=t.getIn(["cardTemp","acPayment","personSocialSecurityAmount"]),s=t.getIn(["cardTemp","acPayment","incomeTaxAmount"]),i=t.getIn(["cardTemp","amount"]),u=(t.getIn(["cardTemp","categoryType"]),t.getIn(["cardTemp","propertyPay"])),c=void 0;switch(u){case"SX_GZXJ":c=(Number(i)-Number(n)-Number(r)-Number(s)).toFixed(2);break;case"SX_ZFGJJ":c=(Number(n)+Number(e)).toFixed(2);break;case"SX_SHBX":c=(Number(a)+Number(r)).toFixed(2);break;default:c=0}return t=t.setIn(["cardTemp","acPayment","actualAmount"],c)}),o(e,a.UPDATE_ACCOUNT_LIST,function(){var e=void 0;if(n.empty)return t.setIn([].concat(c(n.placeArr)),(0,r.fromJS)([]));var a=t.getIn(n.placeArr).toJS().some(function(t,a){if(t.assCategory===n.value.assCategory)return e=a,!0});return t=a?t.setIn([].concat(c(n.placeArr),[e]),(0,r.fromJS)(n.value)):t.updateIn(n.placeArr,function(e){return e.push((0,r.fromJS)(n.value))})}),o(e,a.CALCULATE_GAIN_OR_LOSS,function(){var e=n.place,a=n.diff,r=n.deletePlace;return t.setIn(e,a).deleteIn(r,a)}),o(e,a.INIT_PAYMENT_STATE,function(){var e=t.getIn(["flags","uuidList"]);if(t=t.set("calculateTemp",n.item).setIn(["flags","PageTab"],"payment").mergeIn(["calculateTemp"],(0,r.fromJS)(n.result)).setIn(["flags","selectList"],(0,r.fromJS)([])).setIn(["flags","indexList"],(0,r.fromJS)([])).setIn(["flags","paymentType"],"LB_SFGL").setIn(["calculateTemp","ass"],n.assName).setIn(["flags","modify"],!1).setIn(["flags","paymentInsertOrModify"],"modify").setIn(["calculateTemp","runningAbstract2"],n.item.get("runningAbstract")).setIn(["calculateTemp","runningDate2"],n.item.get("runningDate")).setIn(["flags","currentSwitchUuid"],n.item.get("uuid")).setIn(["flags","isQuery"],!0).set("enclosureList",(0,r.fromJS)(n.result.enclosureList)),"state_ts"===n.stateType&&(t=t.updateIn(["calculateTemp","handleAmount"],function(e){return-Math.abs(e)}).updateIn(["calculateTemp","notHandleAmount"],function(e){return-Math.abs(e)})),(n.uuidList||e.size)&&(t=t.setIn(["flags","needRelaList"],!0)),n.uuidList?t=t.setIn(["flags","uuidList"],n.uuidList):e.size&&(t=t.setIn(["flags","uuidList"],e)),n.fromCxls&&n.result.detail&&n.result.detail.length){var a=[],s=[];n.result.detail.map(function(e,t){a.push(e.uuid),s.push(t)}),t=t.setIn(["flags","selectList"],(0,r.fromJS)(a)).setIn(["flags","indexList"],(0,r.fromJS)(s))}return t}),o(e,a.GET_PAYMENT_PERIOD,function(){return(t=t.setIn(["calculateTemp","detail"],(0,r.fromJS)(n.receivedData)).setIn(["flags","isQuery"],!1)).setIn(["flags","selectList"],(0,r.fromJS)([])).setIn(["flags","indexList"],(0,r.fromJS)([])).setIn(["flags","totalAmount"],0)}),o(e,a.LRACCOUNT_ITEM_CHECKBOX_CHECK_ALL,function(){if(n.selectAll)return t.setIn(["flags","selectList"],(0,r.fromJS)([])).setIn(["flags","indexList"],(0,r.fromJS)([]));var e=n.list,a=[],s=[];return e&&e.size&&e.forEach(function(e,t){a.push(e.get("uuid")),s.push(t)}),t.setIn(["flags","selectList"],(0,r.fromJS)(a)).setIn(["flags","indexList"],(0,r.fromJS)(s))}),o(e,a.LRACCOUNT_ITEM_CHECKBOX_CHECK,function(){var e=t.getIn(["flags","selectList"]),a=t.getIn(["flags","indexList"]);if(n.checked){var r=e.splice(e.findIndex(function(e){return e===n.uuid}),1),s=a.splice(a.findIndex(function(e){return e===n.index}),1);return t.setIn(["flags","selectList"],r).setIn(["flags","indexList"],s)}var i=e.push(n.uuid),u=a.push(n.index);return t.setIn(["flags","selectList"],i).setIn(["flags","indexList"],u)}),o(e,a.INIT_LR_ACCOUNT_PAYMENT,function(){if(n.saveAndNew){var e=t.getIn(["calculateTemp","runningDate"]);t=t.set("calculateTemp",l.get("calculateTemp")).setIn(["calculateTemp","runningDate"],e).setIn(["flags","isQuery"],!1).setIn(["flags","modify"],!1).setIn(["flags","paymentInsertOrModify"],"insert").setIn(["flags","indexList"],(0,r.fromJS)([])).setIn(["flags","selectList"],(0,r.fromJS)([])).setIn(["flags","totalAmount"],0).setIn(["flags","accountType"],"notSingle").set("enclosureList",(0,r.fromJS)([])).set("label",(0,r.fromJS)([])).set("needDeleteUrl",(0,r.fromJS)([]))}else"insert"===n.paymentInsertOrModify&&(t=t.setIn(["calculateTemp","uuid"],n.currentUuid)),t=t.setIn(["flags","isQuery"],!0).setIn(["flags","modify"],!1).setIn(["flags","paymentInsertOrModify"],"modify");return t}),o(e,a.AFTER_SAVE_ACCOUNT_PAYMENT,function(){var e=n.result.enclosureList?n.result.enclosureList:[];return t.set("calculateTemp",(0,r.fromJS)(n.result)).setIn(["flags","accountType"],"notSingle").set("enclosureList",(0,r.fromJS)(e)).setIn(["flags","isQuery"],!0).setIn(["flags","modify"],!1).setIn(["calculateTemp","uuid"],n.currentUuid).setIn(["flags","paymentInsertOrModify"],"modify")}),o(e,a.LRACCOUNT_ITEM_SEARCH_CARD_LIST,function(){if(n.isSearch){var e=n.list.map(function(e){var t=e.string.split(i.TREE_JOIN_STR)[0],n=e.string.split(i.TREE_JOIN_STR)[1],a=e.uuid;return(0,r.fromJS)({code:t,name:n,uuid:a})});return t.setIn(["flags","selectThingsList"],(0,r.fromJS)(e))}return t.setIn(["flags","selectThingsList"],(0,r.fromJS)(n.list))}),o(e,a.ACCOUNT_IUMANAGE_LIST_TITLE,function(){return t.set("tags",(0,r.fromJS)(n.data))}),o(e,a.CHANGE_ACCOUNT_MANAGE_CARD_RELATION,function(){var e=t.get("tags"),a="";if(e.find(function(t,s){t.get("uuid")===n.tag.get("uuid")&&(e=e.setIn([s,"checked"],n.checked),t.get("selectUuid")&&(a=t.get("selectUuid")),n.checked&&(e=e.setIn([s,"tree"],(0,r.fromJS)(n.tree)),0===n.tree[0].childList.length&&(e=e.setIn([s,"selectUuid"],n.tree[0].uuid).setIn([s,"selectName"],n.tree[0].name),a=n.tree[0].uuid)))}),n.checked)t=t.setIn(["iuManageTypeCard","categoryTypeList"],t.getIn(["iuManageTypeCard","categoryTypeList"]).push((0,r.fromJS)({ctgyUuid:n.tag.get("uuid"),subordinateUuid:a})));else{var s=t.getIn(["iuManageTypeCard","categoryTypeList"]).findIndex(function(e,t){return e.get("ctgyUuid")===n.tag.get("uuid")});t=t.setIn(["iuManageTypeCard","categoryTypeList"],t.getIn(["iuManageTypeCard","categoryTypeList"]).delete(s))}return t=t.set("tags",e)}),o(e,a.ACCOUNT_SAVE_IUMANAGE_TYPE_CARD,function(){if("insertAndNew"===n.flag)t=t.setIn(["iuManageTypeCard","code"],n.code).setIn(["iuManageTypeCard","name"],"");else{var e=l.get("iuManageTypeCard");t=t.set("iuManageTypeCard",e)}return t}),o(e,a.ACCOUNT_CHANGE_IUMANAGE_CARD_AC,function(){return t=t.setIn([n.place,n.acId],n.uuid).setIn([n.place,n.acName],n.name)}),o(e,a.CHANGE_ACCOUNT_CARD_RELATION_TYPE,function(){return t.getIn(["iuManageTypeCard","categoryTypeList"]).find(function(e,a){e.get("ctgyUuid")===n.tag.get("uuid")&&(t=t.setIn(["iuManageTypeCard","categoryTypeList",a,"subordinateUuid"],n.uuid))}),t.get("tags").find(function(e,a){e.get("uuid")===n.tag.get("uuid")&&(t=t.set("tags",t.get("tags").setIn([a,"selectUuid"],n.uuid).setIn([a,"selectName"],n.name)))}),t}),o(e,a.ACCOUNT_CHANGE_INVENTORY_CARD_NATURE,function(){return t=t.setIn(["inventorySettingCard",n.name],n.value)}),o(e,a.ACCOUNT_CHANGE_INVENTORY_CARD_CATEGORY_STATUS,function(){var e="";if(t.get("tagsStock").find(function(a,s){if(a.get("uuid")===n.item.get("uuid"))return t=t.setIn(["tagsStock",s,"checked"],n.value).setIn(["tagsStock",s,"tree"],(0,r.fromJS)(n.list)),a.get("selectUuid")&&(e=a.get("selectUuid")),void(n.value&&0===n.list[0].childList.length&&(t=t.setIn(["tagsStock",s,"selectUuid"],n.list[0].uuid).setIn(["tagsStock",s,"selectName"],n.list[0].name),e=n.list[0].uuid))}),n.value){var a=(0,r.fromJS)({ctgyUuid:n.item.get("uuid"),subordinateUuid:e}),s=t.getIn(["inventorySettingCard","categoryTypeList"]).push(a);t=t.setIn(["inventorySettingCard","categoryTypeList"],s)}else{var i=t.getIn(["inventorySettingCard","categoryTypeList"]).findIndex(function(e,t){return e.get("ctgyUuid")===n.item.get("uuid")}),u=t.getIn(["inventorySettingCard","categoryTypeList"]).delete(i);t=t.setIn(["inventorySettingCard","categoryTypeList"],u)}return t}),o(e,a.ACCOUNT_CHANGE_INVENTORY_CARD_CATEGORY_TYPE,function(){return t.get("tagsStock").map(function(e,a){e.get("uuid")!==n.item.get("uuid")||(t=t.setIn(["tagsStock",a,"selectUuid"],n.uuid).setIn(["tagsStock",a,"selectName"],n.name))}),t.getIn(["inventorySettingCard","categoryTypeList"]).map(function(e,a){e.get("ctgyUuid")===n.item.get("uuid")&&(t=t.setIn(["inventorySettingCard","categoryTypeList",a,"subordinateUuid"],n.uuid))}),t}),o(e,a.ACCOUNT_SAVE_INVENTORY_SETTING_CARD,function(){return t=t.set("cardList",(0,r.fromJS)(n.list)),t="insertAndNew"===n.flag?t.setIn(["inventorySettingCard","name"],"").setIn(["inventorySettingCard","code"],n.autoIncrementCode):t.set("tagsStock",t.get("originTags"))}),o(e,a.ACCOUNT_INVENTORY_SETTING_INIT,function(){return n.title.unshift({name:t.get("anotherTabName"),uuid:""}),t=t.set("tagsStock",(0,r.fromJS)(n.title)).set("originTags",(0,r.fromJS)(n.title)).set("cardList",(0,r.fromJS)(n.cardList))}),o(e,a.INIT_RELA_CARD,function(){var e=l.get("iuManageTypeCard"),a=(t.getIn(["cardTemp","propertyCost"]),t.getIn(["cardTemp","assetType"]));return t.get("tags").map(function(e,n){t=t.setIn(["tags",n,"checked"],!1)}),t=t.set("iuManageTypeCard",e).setIn(["iuManageTypeCard","advanceAcId"],n.data.defaultAc.advanceAcId).setIn(["iuManageTypeCard","advanceAcName"],n.data.defaultAc.advanceAcName).setIn(["iuManageTypeCard","receivableAcId"],n.data.defaultAc.receivableAcId).setIn(["iuManageTypeCard","receivableAcName"],n.data.defaultAc.receivableAcName).setIn(["iuManageTypeCard","payableAcId"],n.data.defaultAc.payableAcId).setIn(["iuManageTypeCard","payableAcName"],n.data.defaultAc.payableAcName).setIn(["iuManageTypeCard","prepaidAcId"],n.data.defaultAc.prepaidAcId).setIn(["iuManageTypeCard","prepaidAcName"],n.data.defaultAc.prepaidAcName).setIn(["iuManageTypeCard","code"],n.data.code),t="XZ_CZZC"===a?t.setIn(["iuManageTypeCard","isPayUnit"],!1).setIn(["iuManageTypeCard","isReceiveUnit"],!0):"XZ_GJZC"===a?t.setIn(["iuManageTypeCard","isPayUnit"],!0).setIn(["iuManageTypeCard","isReceiveUnit"],!1):"debit"===n.direction?t.setIn(["iuManageTypeCard","isPayUnit"],!1).setIn(["iuManageTypeCard","isReceiveUnit"],!0):t.setIn(["iuManageTypeCard","isPayUnit"],!0).setIn(["iuManageTypeCard","isReceiveUnit"],!1)}),o(e,a.INIT_STOCK_CARD,function(){var e=l.get("inventorySettingCard");return t.get("tagsStock").map(function(e,n){t=t.setIn(["tagsStock",n,"checked"],!1)}),t=t.set("inventorySettingCard",e).setIn(["inventorySettingCard","inventoryAcId"],n.data.defaultAc.inventoryAcId).setIn(["inventorySettingCard","inventoryAcName"],n.data.defaultAc.inventoryAcName).setIn(["inventorySettingCard","code"],n.data.code),t="debit"===n.direction?t.setIn(["inventorySettingCard","isAppliedPurchase"],!1).setIn(["inventorySettingCard","isAppliedSale"],!0):t.setIn(["inventorySettingCard","isAppliedPurchase"],!0).setIn(["inventorySettingCard","isAppliedSale"],!1)}),o(e,a.CLOSE_ACCOUNTCONF_MODAL_LR,function(){return t.setIn(["flags","showAccountModal"],!1)}),o(e,a.CHARGE_ITEM_CHECKBOX_SELECT,function(){var e=t.getIn(["flags","selectList"]),a=t.getIn(["flags","selectItem"]);if(n.checked){var s=e.splice(e.findIndex(function(e){return e===n.uuid}),1),i=a.splice(e.findIndex(function(e){return e.uuid===n.uuid}),1);return t.setIn(["flags","selectList"],s).setIn(["flags","selectItem"],(0,r.fromJS)(i))}var u=e.push(n.uuid),c=a.push((0,r.fromJS)({uuid:n.uuid,name:n.name,code:n.code}));return t.setIn(["flags","selectList"],u).setIn(["flags","selectItem"],(0,r.fromJS)(c))}),o(e,a.INIT_COMMON_CHARGE,function(){var e=l.getIn(["flags","paymentInsertOrModify"]);if(n.saveAndNew){l.get("flags");var a=t.getIn(["commonChargeTemp","runningDate"]),s=l.get("commonChargeTemp");return t.set("commonChargeTemp",s).setIn(["commonChargeTemp","runningDate"],a).setIn(["flags","isQuery"],!1).setIn(["flags","modify"],!1).setIn(["flags","paymentInsertOrModify"],"insert").setIn(["flags","indexList"],(0,r.fromJS)([])).setIn(["flags","selectList"],(0,r.fromJS)([])).set("enclosureList",(0,r.fromJS)([])).set("label",(0,r.fromJS)([])).set("needDeleteUrl",(0,r.fromJS)([]))}return"insert"===e&&(t=t.setIn(["commonChargeTemp","uuid"],n.uuid).setIn(["commonChargeTemp","flowNumber"],n.flowNumber)),t.setIn(["flags","paymentInsertOrModify"],"modify").setIn(["flags","modify"],!0)}),o(e,a.INIT_COMMON_CHARGE_FROM_CXLS,function(){var e=t.getIn(["flags","uuidList"]);(n.uuidList||e.size)&&(t=t.setIn(["flags","needRelaList"],!0)),n.uuidList?t=t.setIn(["flags","uuidList"],n.uuidList):n.uuidList.size&&(t=t.setIn(["flags","uuidList"],n.uuidList));var a=n.data.enclosureList?n.data.enclosureList:[];return t.set("commonChargeTemp",(0,r.fromJS)(n.data)).set("enclosureList",(0,r.fromJS)(a)).setIn(["flags","PageTab"],"payment").setIn(["flags","paymentType"],"LB_GGFYFT").setIn(["flags","modify"],!0).setIn(["flags","paymentInsertOrModify"],"modify").setIn(["flags","currentSwitchUuid"],n.uuid)}),o(e,a.CHANGE_RUNNING_ENCLOSURE_LIST,function(){var e=[];return t.get("enclosureList").map(function(t){e.push(t)}),n.imgArr.forEach(function(t){e.push(t)}),t=t.set("enclosureList",(0,r.fromJS)(e)).set("enclosureCountUser",e.length)}),o(e,a.DELETE_UPLOAD_FJ_URL,function(){var e=[];return t.get("needDeleteUrl").map(function(t){e.push(t)}),t.get("enclosureList").map(function(a,r){r==n.index&&(e.push(t.getIn(["enclosureList",r]).set("beDelete",!0)),t=t.deleteIn(["enclosureList",r]))}),t=t.set("needDeleteUrl",(0,r.fromJS)(e)).set("enclosureCountUser",t.get("enclosureList").size)}),o(e,a.GET_LS_LABEL_FETCH,function(){return t=t.set("label",(0,r.fromJS)(n.receivedData.data)).set("tagModal",!0)}),o(e,a.CHANGE_LS_TAG_NAME,function(){return t.get("enclosureList").map(function(e,a){a==n.index&&(t=t.setIn(["enclosureList",a,"label"],n.value))}),t=t.set("tagModal",!1)}),o(e,a.AFTER_INSERT_JZSY,function(){var e=l.getIn(["flags","paymentInsertOrModify"]),a=l.get("CqzcTemp"),s=t.getIn(["CqzcTemp","detail","runningDate"]);return n.saveAndNew?t.set("CqzcTemp",a).setIn(["CqzcTemp","detail","runningDate"],s).setIn(["flags","isQuery"],!1).setIn(["flags","modify"],!1).setIn(["flags","paymentInsertOrModify"],"insert").set("enclosureList",(0,r.fromJS)([])).set("label",(0,r.fromJS)([])).set("needDeleteUrl",(0,r.fromJS)([])):("insert"===e&&(t=t.setIn(["CqzcTemp","detail","uuid"],n.uuid).setIn(["CqzcTemp","detail","flowNumber"],n.flowNumber)),t.setIn(["flags","paymentInsertOrModify"],"modify").setIn(["flags","modify"],!0))}),o(e,a.INIT_JZSY_FROM_CXLS,function(){var e=t.getIn(["flags","uuidList"]);return(n.uuidList||e.size)&&(t=t.setIn(["flags","needRelaList"],!0)),n.uuidList?t=t.setIn(["flags","uuidList"],n.uuidList):e.size&&(t=t.setIn(["flags","uuidList"],e)),t.setIn(["CqzcTemp","detail"],(0,r.fromJS)(n.data)).setIn(["flags","PageTab"],"payment").setIn(["flags","paymentType"],"LB_JZSY").setIn(["flags","modify"],!0).setIn(["flags","paymentInsertOrModify"],"modify").setIn(["flags","currentSwitchUuid"],n.uuid).set("enclosureList",(0,r.fromJS)(n.data.enclosureList))}),e)[n.type]||function(){return t})()};var a=u(n(1313)),r=n(18),s=n(22),i=u(n(27));function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function c(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=(0,r.fromJS)({flags:{issuedate:"",main:"duty",insertOrModify:"insert",runningInsertOrModify:"insert",paymentInsertOrModify:"insert",payOrReceive:"收",accountAssModalShow:!1,curCategory:"全部",curAccountUuid:"全部",assId:"",assCategory:"",acId:"",selectList:[],showRunningInfo:{},PageTab:"business",paymentType:"",paymentUuid:"",isQuery:!1,isQueryByBusiness:!1,modify:!1,indexList:[],personAccumulationAmountchecked:!0,personSocialSecurityAmountchecked:!0,incomeTaxAmountchecked:!0,pzFailedButtonShow:!1,specialStateforAccrued:!1,specialStateforAssets:!1,showContactsModal:!1,MemberList:[],thingsList:[],selectThingsList:[],managerCategoryList:[],amount:0,showAccountModal:!1,stockThingsList:[],contactsThingsList:[],needRelaList:!1,uuidList:[],costStockList:[],selectItem:[],totalAmount:0},iuManageTypeCard:{isPayUnit:!0,isReceiveUnit:!0,insertOrModify:"insert",categoryTypeList:[],receivableOpened:"0",advanceOpened:"0",payableOpened:"0",prepaidOpened:"0",name:"",code:"",companyAddress:"",companyTel:"",financeName:"",financeTel:"",remark:"",contacterInfo:!1,enableAdvanceAc:!0,enablePrepaidAc:!0},inventorySettingCard:{isAppliedPurchase:!0,isAppliedSale:!0,insertOrModify:"insert",categoryTypeList:[],receivableOpened:"0",advanceOpened:"0",payableOpened:"0",prepaidOpened:"0",name:"",code:"",isOpenedQuantity:!1},tags:[],tagsStock:[],calculateTemp:{paymentList:[],detail:[],runningIndex:0,usedCard:{code:"",name:""},runningDate:(0,s.formatDate)(),runningAbstract:"核销账款",contactsCardRange:{name:"",code:""},stockCardList:{name:"",code:""}},commonChargeTemp:{runningDate:(0,s.formatDate)().slice(0,10),projectCard:[],paymentList:[],runningAbstract:"公共费用分摊"},CqzcTemp:{projectRange:[],assetsCategory:[{childList:[]}],projectList:[],detail:{acAssets:{depreciationAmount:"",originalAssetsAmount:""},projectCard:[{uuid:"",name:"",code:""}],runningDate:(0,s.formatDate)().slice(0,10),runningAbstract:"长期资产处置损益",businessList:[]}},issues:[],cardTemp:{paymentList:[],uuid:"",name:"",property:"",flowNumber:"",runningAbstract:"",acAvailable:!0,canDelete:!1,runningIndex:0,categoryType:"",propertyCost:"",beCarryover:!1,runningState:"",runningDate:(0,s.formatDate)(),billType:"",billStates:"",priceTaxTotal:"",taxRate:0,tax:"",amount:"",handleAmount:"",notHandleAmount:"",offsetAmount:"",childList:[],running:[],taxPayState:"",propertyCostList:[],accountName:"",accountUuid:"",beCertified:!1,carryoverAmount:"",propertyPay:"",propertyAssets:"",propertyCarryover:"",propertyTax:"",propertyInvest:"",billAcList:[],billAssList:[],queryObj:{amount:0,handleAmount:0,companyAccumulationAmount:0,personAccumulationAmount:0,companySocialSecurityAmount:0,personSocialSecurityAmount:0,incomeTaxAmount:0},acCost:{saleAc:[{categoryUuid:"",acId:"",acKey:"",type:"",acFullName:"",assCategoryList:[]}],saleList:[{assId:"",assName:"",assCategory:[]}],manageAc:[],manageList:[],financeAc:[],financeList:[],deliveryAc:[],deliveryList:[],beManagemented:!1},acBusinessIncome:{incomeAc:[],incomeList:[],receivablesAc:[],receivablesList:[],inAdvanceAc:[],inAdvanceList:[],stockAc:[],stockList:[],carryoverAc:[],carryoverList:[],beManagemented:!1,beDeposited:!1,beCarryover:!1,stockCardList:{uuid:""}},acBusinessExpense:{payAc:[],payList:[],deliveryAc:[],deliveryList:[],inAdvanceAc:[],inAdvanceList:[],beManagemented:!1,beDeposited:!1},acBusinessOutIncome:{relationAc:[],relationList:[],receivablesAc:[],receivablesList:[],beManagemented:!1},acBusinessOutExpense:{relationAc:[],relationList:[],deliveryAc:[],deliveryList:[],beManagemented:!1},acTemporaryReceipt:{relationAc:[],relationList:[]},acTemporaryPay:{relationAc:[],relationList:[]},acPayment:{saleAc:[],saleList:[],manageAc:[],manageList:[],accruedAc:[],accruedList:[],fundAc:[],fundList:[],socialSecurityAc:[],socialSecurityList:[],incomeTaxAc:[],incomeTaxList:[],welfareAc:[],welfareList:[],beAccrued:!1,beWithholding:!1,beWelfare:!1,actualAmount:0,companyAccumulationAmount:"",personAccumulationAmount:"",companySocialSecurityAmount:"",personSocialSecurityAmount:"",incomeTaxAmount:""},acTax:{accruedAc:[],accruedList:[],payAc:[],payList:[],turnOutAc:[],turnOutList:[],inAdvanceAc:[],inAdvanceList:[],beAccrued:!1,beTurnOut:!1,beInAdvance:!1},acLoan:{loanAc:[],loanList:[],interestAc:[],interestList:[],unpaidInterestAc:[],unpaidInterestList:[],beAccrued:!1},acInvest:o({investAc:[],investList:[],profitAc:[],profitList:[],uncollectedProfitAc:[],uncollectedProfitList:[],uncollectedInterestAc:[],beAccrued:!1},"uncollectedInterestAc",[]),acCapital:{capitalAc:[],capitalList:[],unassignedAc:[],unassignedList:[],assignedAc:[],assignedList:[],payableAc:[],payableList:[],beAccrued:!1},acAssets:{assetsAc:[],assetsList:[],incomeAc:[],incomeList:[],lossAc:[],lossList:[],depreciationAc:[],depreciationList:[],cleaningAc:[],cleaningList:[],upgradeAc:[],upgradeList:[],receivablesAc:[],receivablesList:[],payableAc:[],payableList:[],beManagemented:!1,beCleaning:!1,netProfitAmount:"",originalAssetsAmount:"",depreciationAmount:"",cleaningAmount:"",upgradingAmount:""}},enclosureList:[],previewImageList:[],needDeleteUrl:[],tagModal:!1,label:[]})},1598:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=S(n(61)),s=S(n(182)),i=S(n(47)),u=S(n(132)),c=S(n(32)),o=S(n(129)),l=S(n(100)),d=S(n(37)),f=S(n(45)),m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},p=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(79),n(181),n(46),n(131),n(51),n(128),n(99),n(38),n(55);var g=S(n(1)),y=n(56),I=n(18),T=n(127),A=S(n(483)),C=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(27));n(2774);var L=n(52);function S(e){return e&&e.__esModule?e:{default:e}}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var E=f.default.Option,N=(0,y.connect)(function(e){return e})(a=function(e){function t(){var e,n,a;_(this,t);for(var r=arguments.length,s=Array(r),i=0;i<r;i++)s[i]=arguments[i];return n=a=v(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.state={cardCategory:a.props.categoryList.get(0),cardCategorySon:(0,I.fromJS)({}),isBatch:!1,isUnifyBefore:!1,UnifyWords:"",oneCardItem:(0,I.fromJS)({}),checkList:[],currentPage:1,confirmModal:!1},v(a,n)}return b(t,g.default.Component),p(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.visible,a=t.fromPage,r=t.categoryList,s=t.cardList,p=t.changeCategoryFunc,y=t.regretPages,L=t.onCancel,S=t.regretFunc,_=t.regretResultList,v=t.regretResultIndex,b=t.open,N=t.regretResultKey,O=t.downloadResult,R=t.downloadBefore,U=t.checkUsed,M=t.usedCardList,w=t.cardTypeList,J=t.homeState,k=this.state,P=k.cardCategory,x=k.isBatch,D=k.isUnifyBefore,F=k.UnifyWords,G=k.oneCardItem,j=k.currentPage,B=k.checkList,H=k.confirmModal,z=k.cardCategorySon,Z={relative:"往来卡片",project:"项目卡片",inventory:"存货卡片"}[a],X=[];D?B.forEach(function(e){var t=(F||"")+(e.newCode||"");X.push(m({},e,{newCode:t}))}):X=B;var Y=J.getIn(["data","userInfo","moduleInfo","RUNNING"]);return X.sort(function(e,t){return e.code.toUpperCase()>t.code.toUpperCase()?1:-1}),g.default.createElement("div",null,g.default.createElement(i.default,{visible:n,title:"反悔模式",width:800,okText:"信息确认",maskClosable:!1,onCancel:function(){return L()},onOk:function(){(x?B.length:G.get("uuid"))?(x?B.some(function(e){return!e.newCode}):!G.get("newCode"))?d.default.info("新编码不允许为空"):(x?X.some(function(e){return e.newCode.length>C.CODE_LENGTH}):(G.get("newCode")+(D&&F||"")).length>C.CODE_LENGTH)?d.default.info("新编码位数不能超过"+C.CODE_LENGTH+"位"):x&&X.some(function(e,t){return X.some(function(n,a){return n.code===e.newCode&&t<a})})?d.default.info("新编码禁止向后重复"):x&&X.some(function(e,t){return X.some(function(n,a){return n.newCode===e.newCode&&t!==a})})?d.default.info("新编码不允许重复"):e.setState({confirmModal:!0}):d.default.info("请选择卡片")}},g.default.createElement("div",{className:"regret-content"},g.default.createElement("div",{className:"regret-content-item"},g.default.createElement("label",null,"顶级类别："),g.default.createElement(l.default,{value:Z,className:"regret-input",disabled:!0})),g.default.createElement("div",{className:"regret-content-item"},g.default.createElement("label",null,"卡片类别："),g.default.createElement(f.default,{value:(P||(0,I.fromJS)({})).get("name"),onChange:function(t,n){var a=n.props.item;p(a,j,function(){return e.setState({cardCategory:a,cardCategorySon:(0,I.fromJS)({}),oneCardItem:(0,I.fromJS)({}),checkList:[]})})}},r.map(function(e){return g.default.createElement(E,{value:e.get("uuid"),item:e},e.get("name"))}))),P.get("name")&&P.get("uuid")?g.default.createElement("div",{className:"regret-content-item"},g.default.createElement("label",null,P.get("name"),"类别："),g.default.createElement(T.UpperClassSelect,{className:"jxc-config-modal-select",placeholder:"",treeData:w,treeDefaultExpandAll:!0,isLastSelect:!0,value:[(z||(0,I.fromJS)({})).get("name")||"全部"],onSelect:function(t,n){var a=n.props.item;p(a.set("parentUuid",P.get("uuid")),j,function(){return e.setState({cardCategorySon:a.set("parentUuid",P.get("uuid")),oneCardItem:(0,I.fromJS)({}),checkList:[]})})}})):"",x?"":g.default.createElement("div",{className:"regret-content-item"},g.default.createElement("label",null,"选择卡片："),g.default.createElement(A.default,{combobox:!0,showSearch:!0,value:(G.get("code")||"")+" "+(G.get("name")||""),onChange:function(t,n){e.setState({oneCardItem:n.props.item}),U([n.props.item.toJS()])}},s.map(function(e){return g.default.createElement(E,{key:e.get("uuid"),value:e.get("uuid"),item:e},e.get("code")+" "+e.get("name"))}))),g.default.createElement("div",{className:"regret-check"},g.default.createElement(o.default,{checked:x,onClick:function(){return e.setState({isBatch:!x,isUnifyBefore:!x&&D})}},"批量修改"),x?g.default.createElement(o.default,{checked:D,onClick:function(){return e.setState({isUnifyBefore:!D})}},"统一前缀"):"",D?g.default.createElement("span",{className:"regret-unify"},g.default.createElement(l.default,{placeholder:"请输入1-5位数字或字母前缀",onChange:function(t){/^[A-Za-z0-9]{0,5}$/.test(t.target.value)?e.setState({words:t.target.value}):d.default.info("请输入1-5位数字或字母前缀")},PointDisabled:!0,value:this.state.words}),g.default.createElement(c.default,{type:"primary",onClick:function(){return e.setState({UnifyWords:e.state.words})}},"确认")):""),x?g.default.createElement("div",{style:{marginBottom:10,color:"#999999"}},B.length?"已勾选卡片："+B.length+"个":"请勾选需要修改编号的卡片"):"",g.default.createElement("div",{style:{height:0},className:D?"regret-check-unify-content":"regret-check-no-unify-content"},g.default.createElement("div",{className:"regret-title"},g.default.createElement("span",null,x?g.default.createElement(o.default,{checked:s.every(function(e){return B.some(function(t){return t.uuid===e.get("uuid")})}),onClick:function(t){t.target.checked?s.forEach(function(e){!B.some(function(t){return t.uuid===e.get("uuid")})&&B.push(e.toJS())}):s.forEach(function(e){return B.splice(B.findIndex(function(t){return t.uuid===e.get("uuid")}),1)}),e.setState({checkList:B}),U(B)}},"卡片名称"):g.default.createElement("span",null,"卡片名称")),g.default.createElement("span",null,"原编码"),g.default.createElement("span",null,"流水"),D?g.default.createElement("span",null,"前缀"):"",D?g.default.createElement("span",null,"编码"):"",g.default.createElement("span",null,"新编码"))),g.default.createElement("div",{className:(D?"regret-check-unify-content":"regret-check-no-unify-content")+" regret-check-content"},x?s.map(function(t,n){return g.default.createElement("div",null,g.default.createElement("span",null,g.default.createElement(o.default,{checked:B.some(function(e){return e.uuid===t.get("uuid")}),onChange:function(n){n.target.checked?B.push(m({},t.toJS())):B.splice(B.findIndex(function(e){return e.uuid===t.get("uuid")}),1),e.setState({checkList:B}),U(B)}}),g.default.createElement("span",{className:"border-span"},t.get("name"))),g.default.createElement("span",null,g.default.createElement("span",{className:"border-span"},t.get("code"))),g.default.createElement("span",null,g.default.createElement("span",{className:"border-span"},B.some(function(e){return e.uuid===t.get("uuid")})?M.some(function(e){return e===t.get("uuid")})?"有":"":"待验证")),D?g.default.createElement("span",null,g.default.createElement("span",{className:"border-span"},F,F?g.default.createElement(T.XfnIcon,{type:"big-plus"}):"")):"",D&&B.findIndex(function(e){return e.uuid===t.get("uuid")})>-1?g.default.createElement("span",null,g.default.createElement(l.default,{PointDisable:!0,value:(B[B.findIndex(function(e){return e.uuid===t.get("uuid")})]||{}).newCode,placeholder:"请输入新编码",onFocus:function(){var a=B.findIndex(function(e){return e.uuid===s.getIn([n-1,"uuid"])}),r=B.findIndex(function(e){return e.uuid===t.get("uuid")}),i=a>=0&&B[a].newCode?B[a].newCode:"";if(i&&i.slice(-1)>=0&&r>0)if(0==i.slice(-1))B[r].newCode=i.slice(0,-1)+"1";else{var u=i.replace(/(?!0)\d+$/,""),c=i.slice(u.length);B[r].newCode=u+(Number(c)+1)}e.setState({checkList:B},function(){e["input"+n].select()})},ref:function(t){return e["input"+n]=t},onChange:function(n){var a=B.findIndex(function(e){return e.uuid===t.get("uuid")});/^[A-Za-z0-9]*$/.test(n.target.value)?(B[a].newCode=n.target.value,e.setState({checkList:B})):d.default.info("编码只支持输入数字和大小写英文")}})):"",B.findIndex(function(e){return e.uuid===t.get("uuid")})>-1?D||-1===B.findIndex(function(e){return e.uuid===t.get("uuid")})?g.default.createElement("span",null,g.default.createElement("span",{className:"border-span"},(F||"")+(B[B.findIndex(function(e){return e.uuid===t.get("uuid")})].newCode||""))):g.default.createElement("span",null,g.default.createElement(l.default,{PointDisabled:!0,value:(B[B.findIndex(function(e){return e.uuid===t.get("uuid")})]||{}).newCode,placeholder:"请输入编码",onFocus:function(){var a=B.findIndex(function(e){return e.uuid===s.getIn([n-1,"uuid"])}),r=B.findIndex(function(e){return e.uuid===t.get("uuid")}),i=a>=0&&B[a].newCode?B[a].newCode:"";if(i&&i.slice(-1)>=0&&r>0)if(0==i.slice(-1))B[r].newCode=i.slice(0,-1)+"1";else{var u=i.replace(/(?!0)\d+$/,""),c=i.slice(u.length);B[r].newCode=u+(Number(c)+1)}e.setState({checkList:B},function(){e["input"+n].select()})},ref:function(t){return e["input"+n]=t},onChange:function(n){var a=B.findIndex(function(e){return e.uuid===t.get("uuid")});/^[A-Za-z0-9]*$/.test(n.target.value)?(B[a].newCode=n.target.value,e.setState({checkList:B})):d.default.info("编码只支持输入数字和大小写英文")}})):"")}):g.default.createElement("div",null,g.default.createElement("span",null,g.default.createElement("span",{className:"border-span"},G.get("name"))),g.default.createElement("span",null,g.default.createElement("span",{className:"border-span"},G.get("code"))),g.default.createElement("span",null,g.default.createElement("span",{className:"border-span"},G.get("uuid")?M.some(function(e){return e===G.get("uuid")})?"有":"":"待验证")),D?g.default.createElement("span",null,g.default.createElement("span",{className:"border-span"},F,F?g.default.createElement(T.XfnIcon,{type:"big-plus"}):"")):"",D?g.default.createElement("span",null,g.default.createElement("span",{className:"border-span"})):"",g.default.createElement("span",null,!D&&G.get("uuid")?g.default.createElement(l.default,{PointDisabled:!0,value:G.get("newCode")||"",placeholder:"请输入编码",onFocus:function(e){e.target.select()},onChange:function(t){/^[A-Za-z0-9]*$/.test(t.target.value)?e.setState({oneCardItem:G.set("newCode",t.target.value)}):d.default.info("编码只支持输入数字和大小写英文")}}):g.default.createElement("span",{className:"border-span"})))),x?g.default.createElement(u.default,{size:"small",current:j,total:10*y,onChange:function(t){return p(P,t,function(){e.setState({currentPage:t})})}}):"")),H?g.default.createElement(h,{visible:H,typeName:z.get("uuid")?z.get("name"):P.get("name"),typeCat:z.get("uuid")?P.get("name")+"类别：":"卡片类别：",regretResultList:_,regretResultIndex:v,cardList:x?X:[m({},G.toJS(),{newCode:D?(F||"")+(G.get("newCode")||""):G.get("newCode")})],onCancel:function(){e.setState({confirmModal:!1})},openBefore:b,closeBefore:close,regretFunc:S,regretResultKey:N,downloadResult:O,downloadBefore:R,RUNNING:Y}):"")}}]),t}())||a;t.default=N;var h=function(e){function t(){var e,n,a;_(this,t);for(var r=arguments.length,s=Array(r),i=0;i<r;i++)s[i]=arguments[i];return n=a=v(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.state={confirm:!1,regretConfirm:!1,currentPage:1},v(a,n)}return b(t,g.default.Component),p(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.typeName,a=t.typeCat,f=t.visible,m=t.cardList,p=t.onCancel,y=t.regretFunc,A=t.regretResultList,S=t.regretResultIndex,_=(t.openBefore,t.closeBefore,t.regretResultKey),v=(t.downloadResult,t.downloadBefore),b=t.RUNNING,E=this.state,N=E.confirm,h=E.regretConfirm,O=E.currentPage,R=m.length>C.CONFIG_PAGE_SIZE?parseInt(m.length/C.CONFIG_PAGE_SIZE)+1:1;return g.default.createElement(i.default,{visible:f,title:h?"执行结果":"信息确认",width:480,okText:"执行",maskClosable:!1,onCancel:function(){p()},onOk:function(){N&&(y(m),e.setState({regretConfirm:!0}))},footer:h?[g.default.createElement("a",{className:"ant-btn ant-btn-primary",style:{lineHeight:"28px"},href:b?L.ROOTPKT+"/data/download/card/regret/code?key="+_+"&needResult=true":"javascript:void(0)",onClick:function(){b||d.default.info("权益未开启或已过期，请开通或续费")}},"下载至本地")]:[g.default.createElement(c.default,{onClick:function(){p()}},"取消"),g.default.createElement(c.default,{type:"primary",disabled:!N,onClick:function(){N&&(y(m),e.setState({regretConfirm:!0}))}},"执行")]},g.default.createElement("div",{className:"regret-content"},h?g.default.createElement(s.default,{className:"regret-progress",size:"small",percent:S/m.length*100}):"",g.default.createElement("div",{className:"regret-content-item"},g.default.createElement("label",null,a),g.default.createElement("div",{className:"regret-input"},g.default.createElement(l.default,{value:n,disabled:!0}))),g.default.createElement("div",{style:{height:0},className:h?"regret-result":"regret-confirm"},g.default.createElement("div",{className:"regret-title"},g.default.createElement("span",null,"卡片名称"),g.default.createElement("span",null,"原编码"),g.default.createElement("span",null,"新编码"),h?g.default.createElement("span",null,"执行结果"):"")),g.default.createElement("div",{className:"regret-check-content "+(h?"regret-result":"regret-confirm")},m.filter(function(e,t){return t<O*C.CONFIG_PAGE_SIZE&&t>=(O-1)*C.CONFIG_PAGE_SIZE}).map(function(e){var t=A.find(function(t){return t.get("cardUuid")===e.uuid})||(0,I.fromJS)({}),n=t.get("result"),a="";switch(n){case"S":a="成功";break;case"F":a="失败";break;default:a=""}return g.default.createElement("div",null,g.default.createElement("span",{className:"border-span"},e.name),g.default.createElement("span",{className:"border-span"},e.code),g.default.createElement("span",{className:"border-span"},e.newCode),h?g.default.createElement("span",{className:"border-span",style:"F"===n?{color:"#ff0000"}:{}},a,"失败"===a?g.default.createElement(r.default,{placement:"right",title:t.get("errorInfo")||" "},g.default.createElement(T.XfnIcon,{type:"editTip",style:{marginLeft:"5px",lineHeight:"28px",color:"#333"}})):""):"")})),g.default.createElement("div",{className:"regret-page "+(h?"regret-page-confirm":"")},g.default.createElement(u.default,{size:"small",current:O,total:10*R,onChange:function(t){return e.setState({currentPage:t})},style:h?{}:{float:"initial"}}),h?"":g.default.createElement(c.default,{type:"primary",disabled:b,onClick:function(){v(m)}},"下载至本地"),g.default.createElement("a",{className:"regret-download-click",style:{display:"none"},href:L.ROOTPKT+"/data/download/card/regret/code?key="+_},"下载至本地")),h?"":g.default.createElement("div",{className:"tips"},"若单次修改数据量过大，可能耗时较长，在结束前请勿关闭本页面"),h?"":g.default.createElement("div",null,g.default.createElement(o.default,{checked:N,onClick:function(){return e.setState({confirm:!N})}},"确认批量修改上述核算对象编码"))))}}]),t}()},2774:function(e,t,n){}}]);