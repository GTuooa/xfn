(window.webpackJsonp=window.webpackJsonp||[]).push([[76],{1172:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.view=t.reducer=void 0;var a=o(n(2301)),r=o(n(1557)),s=o(n(1355)),i=o(n(1290));function o(e){return e&&e.__esModule?e:{default:e}}var c={assmxbState:r.default,lrpzState:s.default,pzBombState:i.default};t.reducer=c,t.view=a.default},1223:function(e,t,n){},1224:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r,s,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=l(n(1)),c=l(n(0)),u=n(17);function l(e){return e&&e.__esModule?e:{default:e}}n(1223);var d=(0,u.immutableRenderDecorator)((s=r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),i(t,[{key:"render",value:function(){var e=this.props,t=e.type,n=e.className,a=e.onClick;return o.default.createElement("div",{className:"container-wrap container-width-"+t+" "+n,onClick:a},this.props.children)}}]),t}(),r.displayName="ContainerWrap",r.propTypes={type:c.default.string.isRequired,className:c.default.string.isRequired},a=s))||a;t.default=d},1226:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r,s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(1),o=(r=i)&&r.__esModule?r:{default:r},c=n(17);n(1223);var u=(0,c.immutableRenderDecorator)(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),s(t,[{key:"render",value:function(){return o.default.createElement("div",{className:"flex-title"},this.props.children)}}]),t}())||a;t.default=u},1227:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=l(n(176)),s=l(n(174)),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(175),n(173);var o=l(n(1)),c=n(17),u=n(127);function l(e){return e&&e.__esModule?e:{default:e}}n(1232);var d=(0,c.immutableRenderDecorator)(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),i(t,[{key:"render",value:function(){var e=this.props,t=e.pageItem,n=e.onClick,a=o.default.createElement(s.default,null,t.get("pageList").map(function(e,a){return o.default.createElement(s.default.Item,{key:e.get("key")},o.default.createElement("span",{className:"page-switch-item setting-common-ant-dropdown-menu-item",onClick:function(){n(t.get("key"),e.get("name"),e.get("key"))}},e.get("name")))}));return o.default.createElement("div",null,o.default.createElement(r.default,{overlay:a,trigger:["click"]},o.default.createElement("div",{className:"page-switch-button"},o.default.createElement(u.XfnIcon,{type:"Menu"}))))}}]),t}())||a;t.default=d},1232:function(e,t,n){},1234:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return T});var a=n(1),r=n(5),s=n(1251),i=n.n(s),o=n(2),c=n.n(o),u=n(24),l=n(180),d=n(14),f=(n(21),n(1599)),p=n(20);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function y(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var T=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=y(this,_(t).call(this,e))).saveSwitch=function(e){n.rcSwitch=e},n.renderSwitch=function(e){var t,r=e.getPrefixCls,s=n.props,o=s.prefixCls,f=s.size,p=s.loading,g=s.className,v=void 0===g?"":g,y=s.disabled,_=r("switch",o),h=c()(v,(m(t={},"".concat(_,"-small"),"small"===f),m(t,"".concat(_,"-loading"),p),t)),T=p?a.createElement(d.default,{type:"loading",className:"".concat(_,"-loading-icon")}):null;return a.createElement(l.a,{insertExtraNode:!0},a.createElement(i.a,b({},Object(u.a)(n.props,["loading"]),{prefixCls:_,className:h,disabled:y||p,ref:n.saveSwitch,loadingIcon:T})))},Object(p.a)("checked"in e||!("value"in e),"Switch","`value` is not validate prop, do you mean `checked`?"),n}var n,r,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,a["Component"]),n=t,(r=[{key:"focus",value:function(){this.rcSwitch.focus()}},{key:"blur",value:function(){this.rcSwitch.blur()}},{key:"render",value:function(){return a.createElement(f.a,null,this.renderSwitch)}}])&&v(n.prototype,r),s&&v(n,s),t}();T.__ANT_SWITCH=!0,T.propTypes={prefixCls:r.string,size:r.oneOf(["small","default","large"]),className:r.string}},1235:function(e,t,n){"use strict";n.r(t);n(33),n(1253)},1251:function(e,t,n){e.exports=n(1252)},1252:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),s=n(0),i=n.n(s),o=n(15);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function u(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function l(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=n(2),m=function(e){function t(e){var n,a,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,r=d(t).call(this,e),g(p(p(n=!r||"object"!=typeof r&&"function"!=typeof r?p(a):r)),"handleClick",function(e){var t=n.state.checked,a=n.props.onClick,r=!t;n.setChecked(r,e),a&&a(r,e)}),g(p(p(n)),"handleKeyDown",function(e){37===e.keyCode?n.setChecked(!1,e):39===e.keyCode&&n.setChecked(!0,e)}),g(p(p(n)),"handleMouseUp",function(e){var t=n.props.onMouseUp;n.node&&n.node.blur(),t&&t(e)}),g(p(p(n)),"saveNode",function(e){n.node=e});var s=!1;return s="checked"in e?!!e.checked:!!e.defaultChecked,n.state={checked:s},n}var n,s,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,a["Component"]),n=t,i=[{key:"getDerivedStateFromProps",value:function(e){var t={},n=e.checked;return"checked"in e&&(t.checked=!!n),t}}],(s=[{key:"componentDidMount",value:function(){var e=this.props,t=e.autoFocus,n=e.disabled;t&&!n&&this.focus()}},{key:"setChecked",value:function(e,t){var n=this.props,a=n.disabled,r=n.onChange;a||("checked"in this.props||this.setState({checked:e}),r&&r(e,t))}},{key:"focus",value:function(){this.node.focus()}},{key:"blur",value:function(){this.node.blur()}},{key:"render",value:function(){var e,t=this.props,n=t.className,a=t.prefixCls,s=t.disabled,i=t.loadingIcon,o=t.checkedChildren,l=t.unCheckedChildren,d=u(t,["className","prefixCls","disabled","loadingIcon","checkedChildren","unCheckedChildren"]),f=this.state.checked,p=b((g(e={},n,!!n),g(e,a,!0),g(e,"".concat(a,"-checked"),f),g(e,"".concat(a,"-disabled"),s),e));return r.a.createElement("button",c({},d,{type:"button",role:"switch","aria-checked":f,disabled:s,className:p,ref:this.saveNode,onKeyDown:this.handleKeyDown,onClick:this.handleClick,onMouseUp:this.handleMouseUp}),i,r.a.createElement("span",{className:"".concat(a,"-inner")},f?o:l))}}])&&l(n.prototype,s),i&&l(n,i),t}();m.propTypes={className:i.a.string,prefixCls:i.a.string,disabled:i.a.bool,checkedChildren:i.a.any,unCheckedChildren:i.a.any,onChange:i.a.func,onMouseUp:i.a.func,onClick:i.a.func,tabIndex:i.a.number,checked:i.a.bool,defaultChecked:i.a.bool,autoFocus:i.a.bool,loadingIcon:i.a.node},m.defaultProps={prefixCls:"rc-switch",checkedChildren:null,unCheckedChildren:null,className:"",defaultChecked:!1},Object(o.polyfill)(m),t.default=m},1253:function(e,t,n){},1290:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,n=arguments[1];return((e={},i(e,r.INIT_PZ_BOMB,function(){var e=n.receivedData.jvlist;if(e.length<5){for(var r=e.length,s=[],i=0;i<5-r;i++)console.log(i),s.push({jvdirection:"",jvabstract:"",acid:"",acfullname:"",jvamount:"",asslist:[],acunitOpen:"0",jvcount:"",price:"",jvunit:"",fcStatus:"0",fcNumber:"",exchange:"",standardAmount:""});e=e.concat(s)}return t=function(e){var t=0,n=0;return e.get("jvList").forEach(function(e){"credit"==e.get("jvdirection")?t+=Number(e.get("jvamount")):"debit"==e.get("jvdirection")&&(n+=Number(e.get("jvamount")))}),(e=(e=e.setIn(["flags","creditTotal"],t?t.toFixed(2).toString():"0.00")).setIn(["flags","debitTotal"],n?n.toFixed(2).toString():"0.00")).setIn(["flags","totalBalance"],Number((n-t).toFixed(2)))}(t=t.set("jvList",(0,a.fromJS)(e))).set("createdBy",n.receivedData.createdby).set("closedBy",n.receivedData.closedby).set("reviewedBy",n.receivedData.reviewedby).set("vcDate",n.receivedData.vcdate).set("vcIndex",n.receivedData.vcindex).set("year",n.receivedData.year).set("month",n.receivedData.month).set("createdTime",n.receivedData.createdtime).set("modifiedTime",n.receivedData.modifiedtime).set("enclosureList",(0,a.fromJS)(n.receivedData.enclosureList)).set("enclosureCountUser",n.receivedData.enclosureCountUser).setIn(["flags","voucherIndexList"],n.voucherIndexList).setIn(["flags","voucherIdx"],n.voucherIdx).set("receivedData",(0,a.fromJS)(n.receivedData))}),i(e,r.PZBOMB_REVIEWEDBY_VC,function(){return t.set("reviewedBy",n.reviewedBy).setIn(["receivedData","reviewedby"],n.reviewedBy)}),i(e,r.CANCEL_PZBOMB_REVIEWEDBY_VC,function(){return t.set("reviewedBy","").setIn(["receivedData","reviewedby"],"")}),e)[n.type]||function(){return t})()};var a=n(18),r=s(n(1246));s(n(27));function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=(0,a.fromJS)({flags:{debitTotal:"0.00",creditTotal:"0.00",voucherIndexList:[],voucherIdx:0},vcIndex:"",year:"",month:"",vcDate:"",createdTime:"",modifiedTime:"",createdBy:"",closedBy:"",reviewedBy:"",enclosureCountUser:"",jvList:[],enclosureList:[]})},1338:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.changeAcMxbChooseValue=t.handleShowMoreColumn=t.handleColumnAccountTable=t.getMoreColumnData=t.showMutilColumnAccount=t.assMxbTransferToLrpz=t.mxbTransferToLrpz=t.mxbConvenientPaymentToLrpz=t.changeMxbChooseMorePeriods=t.getSubsidiaryLedgerFetch=t.getMxbAclistFetch=t.getPeriodAndMxbAclistFetch=void 0;var a=g(n(37)),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};n(38);var s=n(22),i=p(n(1339)),o=g(n(31)),c=p(n(30)),u=n(18),l=p(n(27)),d=p(n(43)),f=p(n(60));function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function g(e){return e&&e.__esModule?e:{default:e}}t.getPeriodAndMxbAclistFetch=function(e){return function(t){t(b(e,"true"))}},t.getMxbAclistFetch=function(e){return function(t){t(b(e))}};var b=function(e,t){return function(n,a){n({type:i.SWITCH_LOADING_MASK});var r=e.issuedate,c=e.endissuedate;(0,o.default)("getreportacdetailtree","POST",JSON.stringify({begin:r||"",end:c||"",getPeriod:t}),function(a){if((0,s.showMessage)(a))if("true"==t){var o=n(d.everyTableGetPeriod(a)),u=r||o.substr(0,4)+"-"+o.substr(6,2),l=c||o.substr(0,4)+"-"+o.substr(6,2);e.issuedate=u,e.endissuedate=l,n(m(a.data.tree,e))}else n(m(a.data.tree,e));else n({type:i.INIT_MXB});n({type:i.SWITCH_LOADING_MASK})})}},m=function(e,t){return function(n){n({type:i.GET_MXB_ACLIST,receivedData:e}),e[0]?(t.acId=t.acId?t.acId:e[0].acId,n(v(t))):(n({type:i.AFTER_GET_SUBSIDIARY_LEDGER_FETCH_NOAC,param:t}),a.default.info("当前账期无凭证"))}},v=t.getSubsidiaryLedgerFetch=function(e,t){return function(n,a){var r=e.issuedate,u=e.endissuedate,l=e.acId,d=e.assId,f=e.assCategory,p=e.currentPage?e.currentPage:1,g=e.condition?e.condition:"";if(r){n({type:i.SWITCH_LOADING_MASK});var b=r||"",m=u||"";(0,o.default)("getreportacdetail","POST",JSON.stringify({begin:b,end:m,acId:l||"",assId:d||"",assCategory:f||"",pageNum:p,condition:g,pageSize:"500"}),function(a){(0,s.showMessage)(a)&&(n({type:i.AFTER_GET_SUBSIDIARY_LEDGER_FETCH,receivedData:a.data.detail,param:e}),n({type:i.SHOW_MULTI_COLUMN_ACCOUNT_TABLE,ifShow:!1}),a.data.detail.needDownSize&&c.Alert("本次查询数据量较大，目前仅返回前7500条。若需查询后续数据，请缩小账期及科目范围。")),t&&t(),n({type:i.SWITCH_LOADING_MASK})})}}},y=(t.changeMxbChooseMorePeriods=function(e){return{type:i.CHANGE_MXB_CHOOSE_MORE_PERIODS,chooseperiods:e}},function(e,t){return function(n,a){var r=a().allState,s=e||r.getIn(["period","openedyear"]),i=t||r.getIn(["period","openedmonth"]),o="";if(s){var c=new Date(s,i,0),u=new Date,l=(new Date).getFullYear(),d=(new Date).getMonth()+1;o=c<u?c:Number(s)==Number(l)&&Number(i)==Number(d)?u:new Date(s,Number(i)-1,1)}else o=new Date;return o}}),_=(t.mxbConvenientPaymentToLrpz=function(e,t,n){return function(a,s){var i=s().allState,o=a(y()),c=i.getIn(["categoryAclist","资产"]).filter(function(e){return 0===e.get("acid").indexOf("1002")}),d=(0,u.fromJS)({});0===c.size?d=(0,u.fromJS)({}):1===c.size?d=c.get(0):c.size>1&&(c.forEach(function(e,t){t>0&&0===d.size&&c.getIn([t-1,"acid"])!==e.get("upperid")&&(d=c.get(t-1))}),0===d.size&&(d=c.get(c.size-1)));var f=[],p=d.get("asscategorylist"),g=s().allState.get("allasscategorylist");0!==d.size&&0!==p.size&&d.get("asscategorylist").map(function(e){var t=g.find(function(t){return t.get("asscategory")===e}).getIn(["asslist",0]),n={assid:t.get("assid"),assname:t.get("assname"),asscategory:e};f.push(n)});var b=[],m="",v="",O="",E="",S="",C=0,I={},A={};if(n){if("assmxb"===n){var w=s().assmxbState;I=w.get("reportassdetail"),m="收"+I.get("assname")+"应收账款",v="支付"+I.get("assname")+"应付账款",C=I.get("closingbalance"),O=I.get("acid"),E=I.get("acname"),S=I.get("acfullname"),I.get("direction");var N=(A=i.get("aclist").filter(function(e){return 0===e.get("acid").indexOf(O)}).get(0)).get("asscategorylist"),M={assid:I.get("assid"),assname:I.get("assname"),asscategory:w.get("currentAssCategory")};b.push(M),N.map(function(e){if(e!==w.get("currentAssCategory")){var t=s().assmxbState,n={assid:t.get("assidTwo"),assname:t.get("assNameTwo").split(l.TREE_JOIN_STR)[1],asscategory:t.get("asscategoryTwo")};b.push(n)}})}}else{I=s().kmmxbState.get("ledger"),m="收"+(I.get("assName")?I.get("assName")+"应收账款":I.get("acName")),v="支付"+(I.get("assName")?I.get("assName")+"应付账款":I.get("acName")),C=I.get("allBalanceAmount"),O=I.get("acId"),E=I.get("acName"),S=I.get("acFullName"),I.get("direction");var j=I.get("acId");if(0!==(A=i.get("aclist").filter(function(e){return 0===e.get("acid").indexOf(j)}).get(0)).get("asscategorylist").size){var x={assid:I.get("assId"),assname:I.get("assName"),asscategory:t};b.push(x)}}var P={},L={},D={};"1"!==d.get("fcStatus")&&"1"!==A.get("fcStatus")||a(T()),"1"===d.get("fcStatus")&&(P={fcStatus:d.get("fcStatus"),fcNumber:"CNY",exchange:"1"===d.get("fcStatus")?1:"",standardAmount:"1"===d.get("fcStatus")?C:""}),"1"===A.get("fcStatus")&&(L={fcStatus:A.get("fcStatus"),fcNumber:"CNY",exchange:"1"===A.get("fcStatus")?1:"",standardAmount:"1"===A.get("fcStatus")?C:""}),"1"===d.get("acunitOpen")&&a(h(d.get("acid"),o,"1122"===e?0:1)),"1"===A.get("acunitOpen")&&(D={acunitOpen:"1",jvcount:"",price:"",jvunit:A.get("acunit")});var R=void 0;if(n?"assmxb"===n&&(R={1122:function(){return(0,u.fromJS)([r({jvdirection:"debit",jvabstract:m,acid:d.size?d.get("acid"):"",acname:d.size?d.get("acname"):"",acfullname:d.size?d.get("acfullname"):"",jvamount:C,asslist:f},P),r({jvdirection:"credit",jvabstract:m,acid:O,acname:E,acfullname:S,jvamount:C,asslist:b},D,L)])},2202:function(){return(0,u.fromJS)([r({jvdirection:"debit",jvabstract:v,acid:O,acname:E,acfullname:S,jvamount:-C,asslist:b},D,L),r({jvdirection:"credit",jvabstract:v,acid:d.size?d.get("acid"):"",acname:d.size?d.get("acname"):"",acfullname:d.size?d.get("acfullname"):"",jvamount:-C,asslist:f},P)])}}[e]()):R={1122:function(){return(0,u.fromJS)([r({jvdirection:"debit",jvabstract:m,acid:d.size?d.get("acid"):"",acname:d.size?d.get("acname"):"",acfullname:d.size?d.get("acfullname"):"",jvamount:C,asslist:f},P),r({jvdirection:"credit",jvabstract:m,acid:O,acname:E,acfullname:S,jvamount:C,asslist:b},D,L)])},2202:function(){return(0,u.fromJS)([r({jvdirection:"debit",jvabstract:v,acid:O,acname:E,acfullname:S,jvamount:C,asslist:b},D,L),r({jvdirection:"credit",jvabstract:v,acid:d.size?d.get("acid"):"",acname:d.size?d.get("acname"):"",acfullname:d.size?d.get("acfullname"):"",jvamount:C,asslist:f},P)])}}[e](),R.size<4)for(var k=0;R.size<4;k++)R=R.push((0,u.fromJS)({jvdirection:"",jvabstract:"",acid:"",acname:"",acfullname:"",jvamount:"",asslist:[]}));a(_(R,o))}},t.mxbTransferToLrpz=function(e,t,n){return function(a,r){var s=(0,u.fromJS)([]),i=0,o=!0,c=r().allState,l=a(y(t,n)),d={};if(c.getIn(["categoryAclist","成本"]).forEach(function(e){d[e.get("acid")]=e}),e.forEach(function(e){var t=d[e.get("acId")];i="debit"===t.get("direction")?i+e.get("closingbalance"):i-e.get("closingbalance");var n={jvdirection:"debit"===t.get("direction")?"credit":"debit",jvabstract:"结转成本",acid:e.get("acId"),acname:e.get("acName"),acfullname:t.get("acfullname"),jvamount:e.get("closingbalance"),asslist:[]};"1"===t.get("acunitOpen")&&(n.acunitOpen="1",n.jvcount="",n.price="",n.jvunit=t.get("acunit")),"1"===t.get("fcStatus")&&(o&&(a(T()),o=!1),n.fcStatus="1",n.fcNumber="CNY",n.exchange=1,n.standardAmount=e.get("closingbalance")),s=s.push((0,u.fromJS)(n)),0}),(s=s.push((0,u.fromJS)({jvdirection:i>0?"debit":"credit",jvabstract:"结转成本",acid:"",acname:"",acfullname:"",jvamount:Number(i.toFixed(2))>0?Number(i.toFixed(2)):-Number(i.toFixed(2)),asslist:[]}))).size<4)for(var f=0;s.size<4;f++)s=s.push((0,u.fromJS)({jvdirection:"",jvabstract:"",acid:"",acname:"",acfullname:"",jvamount:"",asslist:[]}));a(_(s,l))}},t.assMxbTransferToLrpz=function(e,t,n,a,s){return function(i,o){o().allState;var c=i(y(a,s)),l=(0,u.fromJS)([]),d=0,f=0,p=!0;if(e.forEach(function(e){var a={},s={};if("1"===e.get("acunitOpen")&&(s={acunitOpen:"1",jvcount:"",price:"",jvunit:e.get("acunit")}),e.get("assList").size)for(var o=0;o<e.get("assList").size;o++){var c=e.getIn(["assList",o,"closingbalance"]);if(0!==c&&(!n||n&&e.getIn(["assList",o,"assid"])===n)){if(++f>=30)break;d="debit"===e.get("direction")?d+c:d-c,"1"===e.get("fcStatus")&&(p&&(i(T()),p=!1),a={fcStatus:"1",fcNumber:"CNY",exchange:"1"===e.get("fcStatus")?1:"",standardAmount:c}),l=l.push((0,u.fromJS)(r({jvdirection:"debit"===e.get("direction")?"credit":"debit",jvabstract:"结转成本",acid:e.get("acid"),acname:e.get("acname"),acfullname:e.get("acfullname"),jvamount:c},a,s,{asslist:[{assid:t.getIn([0,"assid"]),assname:t.getIn([0,"assname"]),asscategory:t.getIn([0,"asscategory"])},{assid:e.getIn(["assList",o,"assid"]),assname:e.getIn(["assList",o,"assname"]),asscategory:e.getIn(["assList",o,"asscategory"])}]})))}}else++f<29&&(d="debit"===e.get("direction")?d+e.get("closingbalance"):d-e.get("closingbalance"),"1"===e.get("fcStatus")&&(p&&(i(T()),p=!1),a={fcStatus:"1",fcNumber:"CNY",exchange:"1"===e.get("fcStatus")?1:"",standardAmount:e.get("closingbalance")}),l=l.push((0,u.fromJS)(r({jvdirection:"debit"===e.get("direction")?"credit":"debit",jvabstract:"结转成本",acid:e.get("acid"),acname:e.get("acname"),acfullname:e.get("acfullname"),jvamount:e.get("closingbalance")},a,s,{asslist:[{assid:t.getIn([0,"assid"]),assname:t.getIn([0,"assname"]),asscategory:t.getIn([0,"asscategory"])}]}))))}),(l=l.push((0,u.fromJS)({jvdirection:d>0?"debit":"credit",jvabstract:"结转成本",acid:"",acname:"",acfullname:"",jvamount:Number(d.toFixed(2))>0?Number(d.toFixed(2)):-Number(d.toFixed(2)),asslist:[]}))).size<4)for(var g=0;l.size<4;g++)l=l.push((0,u.fromJS)({jvdirection:"",jvabstract:"",acid:"",acname:"",acfullname:"",jvamount:"",asslist:[]}));i(_(l,c))}},function(e,t){return function(n,a){sessionStorage.setItem("lrpzHandleMode","insert"),n(f.addPageTabPane("EditPanes","Lrpz","Lrpz","录入凭证")),n(f.addHomeTabpane("Edit","Lrpz","录入凭证")),(0,o.default)("getLastVcIndex","POST",JSON.stringify({year:new s.DateLib(t).getYear(),month:new s.DateLib(t).getMonth()}),function(a){if((0,s.showMessage)(a)){var r={jvList:e,receivedData:a.data,vcDate:new s.DateLib(t)};n({type:i.INIT_LRPZ,strJudgeEnter:"oneKeyCollection",data:r})}})}}),h=function(e,t,n){return function(a){var r=new s.DateLib(t);(0,o.default)("getAmountData","POST",JSON.stringify({acid:e,date:r.toString(),year:r.getYear(),month:r.getMonth()}),function(e){(0,s.showMessage)(e)&&a({type:i.GET_AMOUNT_TYPE_MXB_DATA,receivedData:e.data,idx:n})})}},T=function(){return function(e){(0,o.default)("getFCList","GET","",function(t){(0,s.showMessage)(t)&&e({type:i.GET_FC_LIST_DATA_MXB_FETCH,receivedData:t.data})})}};t.showMutilColumnAccount=function(e){return function(t){t({type:i.SHOW_MULTI_COLUMN_ACCOUNT,show:e})}},t.getMoreColumnData=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"1";return function(r,c){r({type:i.SWITCH_LOADING_MASK}),(0,o.default)("getreportacdetailcolumn","POST",JSON.stringify({begin:e||"",end:t||"",acId:n,pageSize:"500",pageNum:a}),function(n){(0,s.showMessage)(n)?(r({type:i.SWITCH_LOADING_MASK}),r({type:i.SET_MULTI_COLUMN_ACCOUNT_TABLE_DATA,receivedData:n.data,issuedate:e,endissuedate:t}),r({type:i.SHOW_MULTI_COLUMN_ACCOUNT_TABLE,ifShow:!0}),r({type:i.SHOW_MULTI_COLUMN_ACCOUNT,show:!1}),r({type:i.SHOW_MORE_COLUMN,show:!1})):r({type:i.SWITCH_LOADING_MASK})})}},t.handleColumnAccountTable=function(){return function(e){e({type:i.SHOW_MULTI_COLUMN_ACCOUNT_TABLE,ifShow:!1}),e({type:i.SHOW_MULTI_COLUMN_ACCOUNT,show:!0})}},t.handleShowMoreColumn=function(e){return function(t){t({type:i.SHOW_MORE_COLUMN,show:e})}},t.changeAcMxbChooseValue=function(e){return{type:i.CHANGE_AC_MXB_CHOOSE_VALUE,chooseValue:e}}},1339:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SWITCH_LOADING_MASK="SWITCH_LOADING_MASK",t.INIT_MXB="INIT_MXB",t.AFTER_GET_SUBSIDIARY_LEDGER_FETCH="AFTER_GET_SUBSIDIARY_LEDGER_FETCH",t.AFTER_GET_SUBSIDIARY_LEDGER_FETCH_NOAC="AFTER_GET_SUBSIDIARY_LEDGER_FETCH_NOAC",t.GET_MXB_ACLIST="GET_MXB_ACLIST",t.CHANGE_MXB_CHOOSE_MORE_PERIODS="CHANGE_MXB_CHOOSE_MORE_PERIODS",t.INIT_LRPZ="INIT_LRPZ",t.GET_AMOUNT_TYPE_MXB_DATA="GET_AMOUNT_TYPE_MXB_DATA",t.GET_FC_LIST_DATA_MXB_FETCH="GET_FC_LIST_DATA_MXB_FETCH",t.SHOW_MULTI_COLUMN_ACCOUNT="SHOW_MULTI_COLUMN_ACCOUNT",t.SHOW_MULTI_COLUMN_ACCOUNT_TABLE="SHOW_MULTI_COLUMN_ACCOUNT_TABLE",t.SET_MULTI_COLUMN_ACCOUNT_TABLE_DATA="SET_MULTI_COLUMN_ACCOUNT_TABLE_DATA",t.SHOW_MORE_COLUMN="SHOW_MORE_COLUMN",t.CHANGE_AC_MXB_CHOOSE_VALUE="CHANGE_AC_MXB_CHOOSE_VALUE"},1446:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SWITCH_LOADING_MASK="SWITCH_LOADING_MASK",t.INIT_ASSMXB="INIT_ASSMXB",t.GET_ASS_MXB_ACLIST_TFETCH="GET_ASS_MXB_ACLIST_TFETCH",t.GET_REPORT_ASS_DETAIL_FETCH="GET_REPORT_ASS_DETAIL_FETCH",t.CHANGE_ASSMXB_CHOOSEPERIODS="CHANGE_ASSMXB_CHOOSEPERIODS"},1503:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.changeAssmxbChooseperiods=t.getreportassdetailFetch=t.getAssMxbAclistFetch=t.getPeriodAndMxbAclistFetch=void 0;var a,r=n(18),s=n(22),i=l(n(1446)),o=l(n(43)),c=n(31),u=(a=c)&&a.__esModule?a:{default:a};function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}t.getPeriodAndMxbAclistFetch=function(e,t,n,a){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"",c=arguments[7];return function(u){n||(n=u(o.getDefaultAssCategoryOfAssMxbAndAssYeb())),u(d(e,t,n,a,r,s,i,c,"true"))}},t.getAssMxbAclistFetch=function(e,t,n,a){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"",p=arguments[7];return function(g){p?(0,u.default)("reportassac","POST",JSON.stringify({begin:e?""+e.substr(0,4)+e.substr(6,2):"",end:e?""+t.substr(0,4)+t.substr(6,2):"",asscategory:n}),function(u){if((0,s.showMessage)(u))g(f(u.data,e,t,n,a,r,c,l,p));else if(16004===u.code){var b=g(o.getDefaultAssCategoryOfAssMxbAndAssYeb());g(d("","",b,"","","","","","true"))}else g({type:i.INIT_ASSMXB})}):g(d(e,t,n,a,r,c,l,p))}};var d=function e(t,n,a,r,c,l,d,p,g){return function(b){b({type:i.SWITCH_LOADING_MASK}),(0,u.default)("reportassac","POST",JSON.stringify({begin:t?""+t.substr(0,4)+t.substr(6,2):"",end:t?""+n.substr(0,4)+n.substr(6,2):"",asscategory:a,getPeriod:g}),function(u){if((0,s.showMessage)(u))if("true"==g){var m=b(o.everyTableGetPeriod(u)),v=t||m,y=n||m;b(f(u.data.jsonArray,v,y,a,r,c,l,d,p))}else b(f(u.data,t,n,a,r,c,l,d,p));else if(16004===u.code){var _=b(o.getDefaultAssCategoryOfAssMxbAndAssYeb());b(e("","",_,"","","","","","true"))}else b({type:i.INIT_ASSMXB});b({type:i.SWITCH_LOADING_MASK})})}},f=function(e,t,n,a,s,o,c,u){var l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:"";return function(d){if(d({type:i.GET_ASS_MXB_ACLIST_TFETCH,receivedData:e,asscategory:a,endissuedate:n,issuedate:t}),s){var f=(0,r.fromJS)(e).findIndex(function(e){return e.get("assid")===s}),g="",b="";if(l){var m=(0,r.fromJS)(e).filter(function(e){return e.get("assid")===s});if(m.size&&(g=m.getIn([0,"acDtoList"]).findIndex(function(e){return e.get("acid")===l})),o){var v=m.getIn([0,"acDtoList"]).filter(function(e){return e.get("acid")===l});v.size&&(b=v.getIn([0,"assList"]).findIndex(function(e){return e.get("assid")===o}))}}d(p(t,n,l,s,a,o,c,u,"1",f+(""===g?"":"-"+g)+(""===b?"":"-"+b)))}else if(e.length){var y=e[0].assid;d(p(t,n,l,y,a,o,c,u,"1",0))}else d({type:i.GET_REPORT_ASS_DETAIL_FETCH,receivedData:{jvlist:[]},currentPage:0,pageCount:0,assidTwo:o,asscategoryTwo:c,assNameTwo:u})}},p=t.getreportassdetailFetch=function(e,t,n,a,r,o,c,l){var d=arguments.length>8&&void 0!==arguments[8]?arguments[8]:"1",f=arguments[9],p=arguments[10];return function(g){var b=""+e.substr(0,4)+e.substr(6,2),m=""+t.substr(0,4)+t.substr(6,2);g({type:i.SWITCH_LOADING_MASK}),(0,u.default)("reportassdetail","POST",JSON.stringify({begin:b,end:m,acid:n||"",assid:a,asscategory:r,currentPage:d,pageSize:"500",assIdTwo:o,assCategoryTwo:c}),function(e){(0,s.showMessage)(e)&&g({type:i.GET_REPORT_ASS_DETAIL_FETCH,receivedData:e.data.pageData,currentPage:e.data.currentPage,pageCount:e.data.pageCount,assidTwo:o,asscategoryTwo:c,assNameTwo:l,selectedKeys:f}),p&&p(),g({type:i.SWITCH_LOADING_MASK})})}};t.changeAssmxbChooseperiods=function(e){return{type:i.CHANGE_ASSMXB_CHOOSEPERIODS,bool:e}}},1557:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,n=arguments[1];return((e={},s(e,r.INIT_ASSMXB,function(){return i}),s(e,r.GET_ASS_MXB_ACLIST_TFETCH,function(){return t.set("assmxbAclist",(0,a.fromJS)(n.receivedData)).set("currentAssCategory",n.asscategory).set("issuedate",n.issuedate).set("endissuedate",n.endissuedate)}),s(e,r.GET_REPORT_ASS_DETAIL_FETCH,function(){return t.set("reportassdetail",(0,a.fromJS)(n.receivedData)).set("currentPage",n.currentPage).set("pageCount",n.pageCount).set("assidTwo",n.assidTwo).set("asscategoryTwo",n.asscategoryTwo).set("assNameTwo",n.assNameTwo).set("selectedKeys",n.selectedKeys?n.selectedKeys:i.get("selectedKeys"))}),s(e,r.CHANGE_ASSMXB_CHOOSEPERIODS,function(){return void 0===n.bool?t.update("chooseperiods",function(e){return!e}):t.set("chooseperiods",n.bool)}),e)[n.type]||function(){return t})()};var a=n(18),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1446));function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=(0,a.fromJS)({issuedate:"",endissuedate:"",currentAssCategory:"客户",chooseperiods:!1,selectedKeys:"0",currentPage:1,pageCount:0,assidTwo:"",asscategoryTwo:"",assNameTwo:"",assmxbAclist:[],reportassdetail:{acid:"",acname:"",acfullname:"",debit:0,credit:0,direction:"debit",openingbalance:0,closingbalance:0,assid:"",assname:"",jvlist:[],code:0,message:"成功"}})},1732:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r,s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(1),o=(r=i)&&r.__esModule?r:{default:r},c=(n(18),n(17)),u=f(n(1276)),l=f(n(43)),d=n(127);function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var p=(0,c.immutableRenderDecorator)(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),s(t,[{key:"render",value:function(){var e=this.props,t=e.jvitem,n=e.vcindexList,a=e.assDirection,r=e.dispatch,s=e.className,i=e.idx;return o.default.createElement(d.TableItem,{className:s,line:i},o.default.createElement("li",null,t.get("vcdate")),o.default.createElement(d.TableOver,{textAlign:"center",isLink:!0,onClick:function(){r(u.getPzVcFetch(t.get("vcdate").substr(0,7),t.get("vcindex"),n.findIndex(function(e){return e==[t.get("vcdate"),t.get("vcindex")].join("_")}),n)),r(l.showPzBomb(!0,"AssMxb"))}},"记 ",t.get("vcindex")," 号"),o.default.createElement(d.TableOver,{textAlign:"left"},t.get("jvabstract")),o.default.createElement("li",null,"debit"===t.get("jvdirection")?o.default.createElement(d.Amount,null,t.get("jvamount")):""),o.default.createElement("li",null,"debit"===t.get("jvdirection")?"":o.default.createElement(d.Amount,null,t.get("jvamount"))),o.default.createElement("li",null,a?"借":"贷"),o.default.createElement("li",null,o.default.createElement(d.Amount,null,a?t.get("balance"):-t.get("balance"))))}}]),t}())||a;t.default=p},2301:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=A(n(37)),s=A(n(32)),i=A(n(129)),o=A(n(45)),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(38),n(51),n(128),n(55);var u=A(n(1)),l=n(56),d=n(18),f=I(n(1503)),p=I(n(43)),g=I(n(1338)),b=I(n(60)),m=A(n(1227)),v=(A(n(1732)),A(n(2302))),y=A(n(2304)),_=n(22),h=n(31),T=I(n(27)),O=I(n(30)),E=n(127),S=A(n(1224)),C=A(n(1226));function I(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function A(e){return e&&e.__esModule?e:{default:e}}n(2305);var w=o.default.Option,N=(0,l.connect)(function(e){return e})(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default.Component),c(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.dispatch;e.allState;"home"===sessionStorage.getItem("previousPage")&&(sessionStorage.setItem("previousPage",""),t(f.getPeriodAndMxbAclistFetch()))}},{key:"shouldComponentUpdate",value:function(e){return this.props.allState!=e.allState||this.props.assmxbState!=e.assmxbState||this.props.homeState!=e.homeState}},{key:"render",value:function(){var e=this.props,t=e.dispatch,n=e.allState,a=e.assmxbState,c=e.homeState,l=c.getIn(["data","userInfo","pageController","BALANCE_DETAIL","preDetailList","ASS_BALANCE_STATEMENT","detailList"]),I=c.getIn(["permissionInfo","Report"]),A=c.getIn(["permissionInfo","Pz"]),N=n.get("assTags"),M=n.get("issues"),j=(n.getIn(["period","firstyear"]),a.get("issuedate")),x=a.get("endissuedate"),P=a.get("currentAssCategory"),L=a.get("chooseperiods"),D=a.get("selectedKeys"),R=a.get("assmxbAclist"),k=R.toJS(),U=a.get("reportassdetail"),z=U.get("acid"),F=U.get("acfullname"),B=U.get("assid"),H=U.get("assname"),G=a.get("assidTwo"),J=a.get("asscategoryTwo"),X=a.get("assNameTwo"),W=U.get("closingbalance"),K=U.get("openingbalance"),Y=U.get("debit"),V=U.get("credit"),Z=U.get("jvlist"),q=void 0===a.get("currentPage")?0:a.get("currentPage"),Q=void 0===a.get("pageCount")?0:a.get("pageCount"),$=n.getIn(["period","openedyear"]),ee=n.getIn(["period","openedmonth"]),te="全部"==X||""==X?"":X.split(T.TREE_JOIN_STR)[1],ne="全部"==X||""==X?"":J;"全部"===te&&(te="",ne="");var ae=M.findIndex(function(e){return e===j}),re=M.slice(0,ae),se={},ie=Z&&Z.size?Z.map(function(e){return[e.get("vcdate"),e.get("vcindex")].join("_")}).filter(function(e){return!se[e]&&(se[e]=!0)}):(0,d.fromJS)([]),oe=["1122","2202"],ce=function(e){if(e){if(oe.indexOf(e.substr(0,4))>-1&&R.size){var t=R.filter(function(e){return e.get("assid")===B}),n=t.size?t.getIn([0,"acDtoList"]):(0,d.fromJS)([]),a=n.size?n.find(function(t){return t.get("acid")===e}):(0,d.fromJS)({});return-1===n.map(function(e){return e.get("upperid")}).indexOf(e)&&(!(a&&a.size&&a.get("assList")&&a.get("assList").size)||!!G)}return!1}return!1}(z),ue=!1,le=(0,d.fromJS)({}),de=(0,d.fromJS)([]),fe=(0,d.fromJS)([]),pe=x.substr(0,4),ge=x.substr(6,2);if(B){var be=(new _.DateLib).getYear(),me=(new _.DateLib).getMonth(),ve=!1;if(new Date(pe,ge)<=new Date(be,me)&&new Date($,ee)<=new Date(pe,ge)&&(ve=!0),ve){var ye=(le=R.filter(function(e){return e.get("assid")===B})).size?le.getIn([0,"acDtoList"]):(0,d.fromJS)([]),_e=(fe=ye.size?ye.filter(function(e){return 0===e.get("acid").indexOf("4")}):fe).size?fe.map(function(e){return e.get("upperid")}):(0,d.fromJS)([]);z?0===z.indexOf("4")&&fe.size&&(de=fe.filter(function(e){var t=0===e.get("acid").indexOf(z),n=_e.indexOf(e.get("acid"))<0,a=e.get("assList").size?e.get("assList").some(function(e){return 0!==e.get("closingbalance")}):0!==e.get("closingbalance");return!!(t&&n&&a)})):ye.every(function(e){return 0===e.get("acid").indexOf("4")})&&(de=ye.filter(function(e){var t=_e.indexOf(e.get("acid"))<0,n=e.get("assList").size?e.get("assList").some(function(e){return 0!==e.get("closingbalance")}):0!==e.get("closingbalance");return!(!t||!n)})),ue=!!de.size}}var he=c.get("pageList"),Te=c.getIn(["views","isSpread"]),Oe=c.getIn(["views","URL_POSTFIX"]),Ee=c.getIn(["views","isPlay"]);return u.default.createElement(S.default,{type:"mxb-one",className:"assMxb"},u.default.createElement(C.default,null,u.default.createElement("div",{className:"flex-title-left"},Te||he.getIn(["Mxb","pageList"]).size<=1?"":u.default.createElement(m.default,{pageItem:he.get("Mxb"),onClick:function(e,n,a){-1===he.getIn(["Mxb","pageList"]).indexOf("辅助明细表")&&sessionStorage.setItem("previousPage","home"),t(b.addPageTabPane("MxbPanes",a,a,n)),t(b.addHomeTabpane(e,a,n))}}),u.default.createElement(o.default,{className:"title-date",value:j,onChange:function(e){return t(f.getAssMxbAclistFetch(e,e,P))}},M.map(function(e,t){return u.default.createElement(w,{key:t,value:e},e)})),u.default.createElement("span",{className:"title-checkboxtext",onClick:function(){L&&x!==j&&t(f.getAssMxbAclistFetch(j,j,P)),t(f.changeAssmxbChooseperiods())}},u.default.createElement(i.default,{className:"title-checkbox",checked:L}),u.default.createElement("span",null,"至")),u.default.createElement(o.default,{disabled:!L,className:"title-date",value:x===j?"":x,onChange:function(e){return t(f.getAssMxbAclistFetch(j,e,P,B))}},re.map(function(e,t){return u.default.createElement(w,{key:t,value:e},e)})),u.default.createElement("span",{className:"assmxbcategory-select"},u.default.createElement("span",{className:"assmxbcategory-select-title"},"辅助类别："),u.default.createElement("span",null,u.default.createElement(o.default,{style:{width:150},className:"assmxbcategory-select-item",value:P,onChange:function(e){return t(f.getAssMxbAclistFetch(j,x,e))}},N.map(function(e){return u.default.createElement(w,{key:e,value:e},e)}))))),u.default.createElement("div",{className:"flex-title-right"},u.default.createElement(s.default,{style:{display:ce&&0!=U.get("closingbalance")&&A.getIn(["edit","permission"])?"":"none"},className:"title-right",type:"ghost",onClick:function(){return t(g.mxbConvenientPaymentToLrpz(z.substr(0,4),P,"assmxb"))}},"一键收/付款"),ue&&(!G||W)&&A.getIn(["edit","permission"])?u.default.createElement(s.default,{className:"title-right",type:"ghost",onClick:function(){if(G)t(g.assMxbTransferToLrpz(de,le,G,pe,ge));else{var e=0;de.forEach(function(t){return t.get("assList").size?e+=t.get("assList").size:e++}),e>=30?O.Alert("处理分录数量过大，系统将处理前29条分录。您可多次操作“一键结转”直至全部处理完毕。","","",function(){return t(g.assMxbTransferToLrpz(de,le,G,pe,ge))}):t(g.assMxbTransferToLrpz(de,le,G,pe,ge))}}},"一键结转"):"",u.default.createElement("span",{className:"title-right title-dropdown"},u.default.createElement(E.Export,{isAdmin:I.getIn(["exportExcel","permission"]),type:"fourth",exportDisable:!j||Ee,excelDownloadUrl:h.ROOT+"/excel/export/AssSubOne?"+Oe+"&begin="+(j?j.substr(0,4)+""+j.substr(6,2):"")+"&end="+(x?x.substr(0,4)+""+x.substr(6,2):"")+"&acid="+(z||"")+"&assid="+(B||"")+"&assName="+(H?encodeURI(encodeURI(H)):"")+"&asscategory="+encodeURI(encodeURI(P))+"&asscategoryTwo="+encodeURI(encodeURI(ne))+"&assNameTwo="+encodeURI(encodeURI(te))+"&assIdTwo="+G,ddExcelCallback:function(e){(0,_.judgePermission)(l.get("EXPORT_STATEMENT_EXCEL")).disabled?r.default.info("当前角色无该请求权限"):t(p.allExportReceiverlist(e,"assmxbexcelsubone",{begin:j.substr(0,4)+""+j.substr(6,2),end:x.substr(0,4)+""+x.substr(6,2),acid:z||"",assid:B||"",assname:H||"",asscategory:P,asscategoryTwo:ne,assNameTwo:te,assIdTwo:G}))},PDFDownloadUrl:h.ROOT+"/pdf/exportsubass?"+Oe+"&begin="+(j?""+j.substr(0,4)+j.substr(6,2):"")+"&end="+(x?""+x.substr(0,4)+x.substr(6,2):"")+"&acid="+z+"&assid="+(B||"")+"&assName="+(H?encodeURI(encodeURI(H)):"")+"&asscategory="+encodeURI(encodeURI(P))+"&asscategoryTwo="+encodeURI(encodeURI(ne))+"&assNameTwo="+encodeURI(encodeURI(te))+"&assIdTwo="+G,ddPDFCallback:function(e){(0,_.judgePermission)(l.get("EXPORT_STATEMENT_PDF")).disabled?r.default.info("当前角色无该请求权限"):t(p.allExportReceiverlist(e,"pdfassmxboneexport",{begin:""+j.substr(0,4)+j.substr(6,2),end:""+x.substr(0,4)+x.substr(6,2),assName:""+(H||""),assid:""+(B||""),acid:""+(z||""),asscategory:""+(P||""),asscategoryTwo:ne,assNameTwo:te,assIdTwo:G}))},allexcelDownloadUrl:h.ROOT+"/excel/export/AssSubAll?"+Oe+"&begin="+(j?j.substr(0,4)+""+j.substr(6,2):"")+"&end="+(x?x.substr(0,4)+""+x.substr(6,2):"")+"&asscategory="+encodeURI(encodeURI(P)),allddExcelCallback:function(e){(0,_.judgePermission)(l.get("EXPORT_STATEMENT_EXCEL")).disabled?r.default.info("当前角色无该请求权限"):t(p.allExportReceiverlist(e,"assmxbexcelsuball",{begin:j.substr(0,4)+""+j.substr(6,2),end:x.substr(0,4)+""+x.substr(6,2),asscategory:P}))},allPDFDownloadUrl:h.ROOT+"/pdf/exportsubassall?"+Oe+"&begin="+(j?""+j.substr(0,4)+j.substr(6,2):"")+"&end="+(x?""+x.substr(0,4)+x.substr(6,2):"")+"&asscategory="+(P?encodeURI(encodeURI(P)):encodeURI(encodeURI(""))),allddPDFCallback:function(e){(0,_.judgePermission)(l.get("EXPORT_STATEMENT_PDF")).disabled?r.default.info("当前角色无该请求权限"):t(p.allExportReceiverlist(e,"pdfassmxballexport",{begin:""+j.substr(0,4)+j.substr(6,2),end:""+x.substr(0,4)+x.substr(6,2),asscategory:""+(P||"")}))},onErrorSendMsg:function(e,n,a){t(p.sendMessageToDeveloper({title:"导出发送钉钉文件异常",message:"type:"+e+",valueFirst:"+n+",valueSecond:"+a,remark:"辅助明细表"}))}})),u.default.createElement(s.default,{className:"title-right refresh-btn",type:"ghost",onClick:function(){t(p.freshMxbPage("辅助明细表")),t(f.getPeriodAndMxbAclistFetch(j,x,P,B,G,J,X,z))}},"刷新"))),u.default.createElement(E.TableWrap,{className:"table-normal-with-new table-flex-mxb",notPosition:!0},u.default.createElement(y.default,{acid:z,assid:B,debit:Y,credit:V,assname:H,assjvlist:Z,acfullname:F,closingbalance:W,openingbalance:K,dispatch:t,vcindexList:ie,currentPage:q,pageCount:Q,assNameTwo:X,paginationCallBack:function(e){return t(f.getreportassdetailFetch(j,x,z||"",B,P,G,J,X,e,D))}}),u.default.createElement(v.default,{assmxbAclist:R,selectedKeys:D,dispatch:t,issuedate:j,endissuedate:x,cascadeAclist:(0,_.assMxbTree)(k)})))}}]),t}())||a;t.default=N},2302:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=g(n(14)),s=g(n(45)),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(78),n(55);var o=g(n(1)),c=n(17),u=g(n(2303)),l=p(n(27)),d=p(n(1503)),f=n(127);function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function g(e){return e&&e.__esModule?e:{default:e}}var b=(0,c.immutableRenderDecorator)(a=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={isSearching:!1},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),i(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.assmxbAclist,a=t.selectedKeys,i=t.dispatch,c=t.issuedate,p=t.endissuedate,g=t.cascadeAclist,b=this.state.isSearching;return o.default.createElement(f.TableTree,null,o.default.createElement(s.default,{showSearch:!0,searchPlaceholder:"搜索辅助核算项目",className:"table-right-table-input",optionFilterProp:"children",notFoundContent:"无法找到相应科目",onSelect:function(t){if(!b){e.setState({isSearching:!0});var n=t.split("_");i(d.getreportassdetailFetch(c,p,"",n[1],n[2],"","","","1",n[0],function(){e.setState({isSearching:!1})}))}},showArrow:!1},n.map(function(e,t){return o.default.createElement(s.default.Option,{key:t,value:t+"_"+e.get("assid")+"_"+e.get("asscategory")},e.get("assid")+" "+e.get("assname"))})),o.default.createElement(r.default,{type:"search",className:"table-right-table-input-search"}),o.default.createElement("div",{className:"table-right-tree",style:{paddingTop:"3px"}},o.default.createElement(u.default,{cascadeAclist:g,selectedKeys:a,onSelect:function(e){if(0!==e.length&&0!==e[0].indexOf("disable")){var t=e[0],a="",r="",s="",o="",u="",f="全部",g=t.split("-");1===g.length?(r=n.getIn([t,"assid"]),s=n.getIn([t,"asscategory"])):2===g.length?(r=n.getIn([g[0],"assid"]),s=n.getIn([g[0],"asscategory"]),a=n.getIn([g[0],"acDtoList",g[1],"acid"])):(r=n.getIn([g[0],"assid"]),s=n.getIn([g[0],"asscategory"]),a=n.getIn([g[0],"acDtoList",g[1],"acid"]),o=n.getIn([g[0],"acDtoList",g[1],"assList",g[2],"assid"]),f=n.getIn([g[0],"acDtoList",g[1],"assList",g[2],"assname"]),u=n.getIn([g[0],"acDtoList",g[1],"asscategoryTwo"])),i(d.getreportassdetailFetch(c,p,a,r,s,o,u,""+o+l.TREE_JOIN_STR+f,"1",e[0]))}}})))}}]),t}())||a;t.default=b},2303:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=c(n(171)),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(170);var i=c(n(1)),o=n(17);function c(e){return e&&e.__esModule?e:{default:e}}var u=r.default.TreeNode,l=(0,o.immutableRenderDecorator)(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),s(t,[{key:"render",value:function(){var e=this.props,t=e.cascadeAclist,n=e.onSelect,a=[e.selectedKeys];return i.default.createElement(r.default,{defaultExpandAll:!1,selectedKeys:a,onSelect:n},function e(t){return t.map(function(t){return t.children?i.default.createElement(u,{key:t.key,title:t.title,className:t.disableTime?"assmxb-fzhs-disable":""},e(t.children)):i.default.createElement(u,{key:t.key,title:t.title,className:t.disableTime?"assmxb-fzhs-disable":""})})}(t))}}]),t}())||a;t.default=l},2304:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=d(n(1234)),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(1235);var i=d(n(1)),o=(n(18),n(17)),c=d(n(1732)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(27)),l=n(127);function d(e){return e&&e.__esModule?e:{default:e}}var f=(0,o.immutableRenderDecorator)(a=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={assDirection:!0},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),s(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.acid,a=t.assid,s=t.debit,o=t.credit,d=t.assname,f=t.assjvlist,p=t.acfullname,g=t.closingbalance,b=t.openingbalance,m=t.dispatch,v=t.vcindexList,y=t.currentPage,_=t.pageCount,h=t.assNameTwo,T=t.paginationCallBack,O=this.state.assDirection,E="";return h.split(u.TREE_JOIN_STR).length>1&&"全部"!==h.split(u.TREE_JOIN_STR)[1]&&(E=h.replace(u.TREE_JOIN_STR,"_")),i.default.createElement(l.TableAll,{shadowTop:"51px",type:"mxb"},i.default.createElement("div",{className:"assmxz-left-table-first-tit"},"辅助项目: ",a?a+"_"+d+" "+E:"无"),i.default.createElement("div",{className:"assmxz-left-table-second-tit"},"科       目: ",n?n+"_"+p:"全部"),i.default.createElement(l.TableTitle,{titleList:["日期","凭证字号","摘要","借方","贷方","方向","余额"],className:"assmxz-table-width"}),i.default.createElement(l.TableBody,null,i.default.createElement(l.TableItem,{className:"assmxz-table-width assmxz-table-justify"},i.default.createElement("li",null),i.default.createElement("li",null),i.default.createElement("li",null,"     期初余额"),i.default.createElement("li",null),i.default.createElement("li",null),i.default.createElement("li",null,i.default.createElement(r.default,{className:"use-unuse-style lend-bg",checked:!O,checkedChildren:"贷",unCheckedChildren:"借",style:{width:43},onChange:function(){return e.setState({assDirection:!O})}})),i.default.createElement("li",null,i.default.createElement(l.Amount,null,O?b:-b))),(f||[]).map(function(e,t){return i.default.createElement(c.default,{key:t,jvitem:e,idx:t,dispatch:m,vcindexList:v,assDirection:O,className:"assmxz-table-width assmxz-table-justify"})}),i.default.createElement(l.TableItem,{className:"assmxz-table-width assmxz-table-justify",line:f.size?f.size:2},i.default.createElement("li",null),i.default.createElement("li",null),i.default.createElement("li",null,"     本期合计"),i.default.createElement("li",null,i.default.createElement(l.Amount,null,s)),i.default.createElement("li",null,i.default.createElement(l.Amount,null,o)),i.default.createElement("li",null,O),i.default.createElement("li",null,i.default.createElement(l.Amount,null,O?g:-g)))),i.default.createElement(l.TablePagination,{currentPage:y,pageCount:_,paginationCallBack:function(e){return T(e)}}))}}]),t}())||a;t.default=f},2305:function(e,t,n){}}]);