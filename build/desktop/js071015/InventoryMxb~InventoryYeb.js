(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{1223:function(t,e,a){},1224:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s,r,i,n=function(){function t(t,e){for(var a=0;a<e.length;a++){var s=e[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(e,a,s){return a&&t(e.prototype,a),s&&t(e,s),e}}(),u=c(a(1)),o=c(a(0)),d=a(17);function c(t){return t&&t.__esModule?t:{default:t}}a(1223);var _=(0,d.immutableRenderDecorator)((i=r=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,u.default.Component),n(e,[{key:"render",value:function(){var t=this.props,e=t.type,a=t.className,s=t.onClick;return u.default.createElement("div",{className:"container-wrap container-width-"+e+" "+a,onClick:s},this.props.children)}}]),e}(),r.displayName="ContainerWrap",r.propTypes={type:o.default.string.isRequired,className:o.default.string.isRequired},s=i))||s;e.default=_},1226:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s,r,i=function(){function t(t,e){for(var a=0;a<e.length;a++){var s=e[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(e,a,s){return a&&t(e.prototype,a),s&&t(e,s),e}}(),n=a(1),u=(r=n)&&r.__esModule?r:{default:r},o=a(17);a(1223);var d=(0,o.immutableRenderDecorator)(s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,u.default.Component),i(e,[{key:"render",value:function(){return u.default.createElement("div",{className:"flex-title"},this.props.children)}}]),e}())||s;e.default=d},1269:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s,r=g(a(14)),i=g(a(37)),n=g(a(100)),u=g(a(45)),o=g(a(1230)),d=function(){function t(t,e){for(var a=0;a<e.length;a++){var s=e[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(e,a,s){return a&&t(e.prototype,a),s&&t(e,s),e}}();a(78),a(38),a(99),a(55),a(1231);var c=g(a(1)),_=g(a(6)),l=a(17),T=a(127),E=a(22);function g(t){return t&&t.__esModule?t:{default:t}}function S(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}a(1284);var f=o.default.RangePicker,y=(u.default.Option,n.default.Group,(0,l.immutableRenderDecorator)(s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,c.default.Component),d(e,[{key:"render",value:function(){var t,e=this.props,a=e.issuedate,s=e.endissuedate,n=(e.beginMonth,e.endMonth,e.issues),d=e.changePeriodCallback,l=e.chooseValue,g=e.changeChooseperiodsStatu,y=n?n.findIndex(function(t){return t===a||t.substr(0,4)+"-"+t.substr(6,2)===a}):0,p=n?n.slice(0,y):[],C=function(t,e,a){var s="",r="";return a?1==e?(r=12,s=Number(t)-1):(r=Number(e)-1,s=Number(t)):(r=Number(e),s=Number(t)),{openedyear:s,openedmonth:r}},O=s||a,N=n.get(0),b=n.get(n.size-1),M="",I="";if(n.size){var L=C(b.substr(0,4),b.substr(6,2),!0).openedyear,R=C(b.substr(0,4),b.substr(6,2),!0).openedmonth,h=C(N.substr(0,4),N.substr(6,2)).openedyear,A=C(N.substr(0,4),N.substr(6,2)).openedmonth;M=new Date(L,R,1),I=new Date(h,A,1)}var V=function(t){return t&&((0,_.default)(M)>t||!((0,_.default)(I)>t))},P=[];switch(l){case"MONTH":P.push(c.default.createElement("span",{className:"muti-period-more-select"},c.default.createElement(u.default,{className:"title-more-choose-date",value:a?"-"===a.substr(4,1)?a.substr(0,4)+"年第"+a.substr(5,2)+"期":a:"",showArrow:!0,dropdownMatchSelectWidth:!1,onChange:function(t){return(0,E.debounce)(function(){-1===t.indexOf("Invalid")?d(t,t):i.default.info("日期格式错误，请刷新重试")})()}},n?n.map(function(t,e){return c.default.createElement(u.default.Option,{key:e,value:t.substr(0,4)+"-"+t.substr(6,2)},t)}):""),c.default.createElement(r.default,{type:"calendar",className:"title-more-calendar"})));break;case"MONTH_MONTH":P.push(c.default.createElement("div",{className:"title-more-choose-month-month"},c.default.createElement(u.default,{showArrow:!1,value:a,onChange:function(t){return d(t,t)},dropdownMatchSelectWidth:!1},n?n.map(function(t,e){return c.default.createElement(u.default.Option,{key:e,value:t.substr(0,4)+"-"+t.substr(6,2)},t.substr(0,4)+"-"+t.substr(6,2))}):""),c.default.createElement("span",{className:"choose-month-month-separator"},"~"),c.default.createElement(u.default,{showArrow:!1,value:s===a?"":s,onChange:function(t){return d(a,t)},dropdownMatchSelectWidth:!1},p.map(function(t,e){return c.default.createElement(u.default.Option,{key:e,value:t.substr(0,4)+"-"+t.substr(6,2)},t.substr(0,4)+"-"+t.substr(6,2))}))));break;case"DATE":P.push(c.default.createElement(o.default,{value:a?(0,_.default)(a,"YYYY-MM-DD"):"",allowClear:!1,disabledDate:V,className:"title-more-choose-date",onChange:function(t){return(0,E.debounce)(function(){var e=t.format("YYYY-MM-DD");-1===e.indexOf("Invalid")?d(e,e):i.default.info("日期格式错误，请刷新重试")})()},suffixIcon:c.default.createElement(r.default,{type:"down"})}));break;case"DATE_DATE":P.push(c.default.createElement(f,(S(t={disabledDate:V,className:"title-more-choose-month",allowClear:!1,value:a?[(0,_.default)(a,"YYYY-MM-DD"),(0,_.default)(O,"YYYY-MM-DD")]:[],format:"YYYY-MM-DD"},"allowClear",!1),S(t,"onChange",function(t,e){return(0,E.debounce)(function(){if(e.length>1){var t=e[0],a=e[1];-1===t.indexOf("Invalid")?(a.indexOf("Invalid")>-1&&(a=""),d(t,a)):i.default.info("日期格式错误，请刷新重试")}})()}),S(t,"suffixIcon",c.default.createElement(r.default,{type:"down"})),t)))}return c.default.createElement("div",{className:"common-data-change-box"},P,c.default.createElement(u.default,{className:"title-more-choose",dropdownMatchSelectWidth:!1,value:"",showArrow:!1,onChange:function(t){g(t);var e="-"===a.substr(4,1)?a:a.substr(0,4)+"-"+a.substr(6,2),s="-"===O.substr(4,1)?O:O.substr(0,4)+"-"+O.substr(6,2),r="MONTH"===t||"MONTH_MONTH"===t?(0,_.default)(e,"YYYY-MM").format("YYYY-MM"):(0,_.default)(e,"YYYY-MM-DD").format("YYYY-MM-DD"),n="MONTH"===t||"MONTH_MONTH"===t?(0,_.default)(s,"YYYY-MM").format("YYYY-MM"):(0,_.default)(s,"YYYY-MM-DD").format("YYYY-MM-DD");-1===r.indexOf("Invalid")?(n.indexOf("Invalid")>-1&&(n=""),d(r,"MONTH"===t||"DATE"===t?r:n)):i.default.info("日期格式错误，请刷新重试")}},c.default.createElement(u.default.Option,{value:"MONTH",key:"MONTH"},"按账期查询"),c.default.createElement(u.default.Option,{value:"DATE",key:"DATE"},"按日期查询"),c.default.createElement(u.default.Option,{value:"MONTH_MONTH",key:"MONTH_MONTH"},"按账期区间查询"),c.default.createElement(u.default.Option,{value:"DATE_DATE",key:"DATE_DATE"},"按日期区间查询")),c.default.createElement(T.XfnIcon,{type:"calendar-change",className:"title-more-choose-calendar"}))}}]),e}())||s);e.default=y},1284:function(t,e,a){},1371:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.changeDetailCurrentPages=e.getSerialListRunningFollow=e.changeInventoryMxbCommonValue=e.getSerialList=e.changeInventoryMxbCardInit=e.filterCardClear=e.changeItemCheckboxCheck=e.getInventoryMxbAssistList=e.getInventoryMxbBatchList=e.changeCommonValue=e.getDecimalScale=e.changeOtherTypeBalanceDirection=e.setOtherTypeStockStoreValue=e.setOtherTypeListValue=e.getOtherTypeMxbDataList=e.getOtherTypeStockTypeList=e.getOtherTypeStockCardDetail=e.getOtherTypeStockCategory=e.getOtherTypeStockStore=e.changeInventoryMxbType=e.handleInventoryMxbChooseStatus=e.changeJrAbstract=e.getInventoryMxbData=e.getStockStoreTree=e.getStockDetailCard=e.getInventoryMxbStockCategoryTree=e.setInventoryMxbDate=e.setCategoryValue=e.setStockStoreValue=e.getInventoryStockStore=e.setInventoryCardValue=e.getInventoryMxbStockCategory=e.changeInventoryYebChooseMorePeriods=e.refreshInventoryMxbList=e.getInventoryMxbDataFromYeb=e.getInventoryMxbInitData=void 0;var s=_(a(37));a(38);var r=c(a(1720)),i=_(a(52)),n=a(22),u=(c(a(30)),c(a(27))),o=a(18),d=c(a(102));function c(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}function _(t){return t&&t.__esModule?t:{default:t}}var l=function(t){var e="",a=[],s="",r=[],i="",n=[];return t&&t.size&&t.map(function(t){switch(t.get("index")){case 0:e=t.get("assistClassificationUuid"),t.get("propertyList")&&t.get("propertyList").size&&t.get("propertyList").map(function(t){a.push(t.get("assistPropertyUuid"))});break;case 1:s=t.get("assistClassificationUuid"),t.get("propertyList")&&t.get("propertyList").size&&t.get("propertyList").map(function(t){r.push(t.get("assistPropertyUuid"))});break;case 2:i=t.get("assistClassificationUuid"),t.get("propertyList")&&t.get("propertyList").size&&t.get("propertyList").map(function(t){n.push(t.get("assistPropertyUuid"))})}}),{assistClassificationUuid1:e,assistPropertyUuid1List:a,assistClassificationUuid2:s,assistPropertyUuid2List:r,assistClassificationUuid3:i,assistPropertyUuid3List:n}},T=(e.getInventoryMxbInitData=function(){return function(t){t({type:r.SWITCH_LOADING_MASK}),(0,i.default)("getInventoryMxbCardDetail","POST",JSON.stringify({begin:"",end:"",needPeriod:"true",pageNum:1,pageSize:u.MXB_CARD_PAGE_SIZE}),function(e){if((0,n.showMessage)(e)){var a=t(d.reportGetIssuedateAndFreshPeriod(e)),s=t(d.reportGetIssuedateAndFreshPeriod(e));if(e.data.cardList.length>0){var o=a.substr(0,4)+"-"+a.substr(6,2);(0,i.default)("getInventoryStockDetail","POST",JSON.stringify({begin:o,end:o,stockCardUuid:e.data.cardList[0].stockCardUuid,pageNum:1,pageSize:u.MXB_PAGE_SIZE}),function(i){(0,n.showMessage)(i)&&(t({type:r.SWITCH_LOADING_MASK}),t({type:r.SET_INVENTORY_MXB_INIT_DATA,issuedate:a,endissuedate:s,cardList:e.data.cardList,dataList:i.data.detail.detailList,balanceData:i.data.detail,cardValue:e.data.cardList[0].stockCardUuid,cardPageNum:e.data.currentPage?e.data.currentPage:1,cardPages:e.data.pages?e.data.pages:1,detailCurrentPage:i.data.detail.currentPage?i.data.detail.currentPage:1,detailPages:i.data.detail.pages?i.data.detail.pages:1}),t(E(o,o,"","",e.data.cardList[0].stockCardUuid)))}),t(T())}else t({type:r.SWITCH_LOADING_MASK}),t({type:r.SET_INVENTORY_MXB_INIT_DATA,issuedate:a,endissuedate:s,cardList:[],dataList:[],balanceData:{},cardValue:"",cardPageNum:1,cardPages:1,detailCurrentPage:1,detailPages:1});t(b())}})}},e.getInventoryMxbDataFromYeb=function(t,e,a,s,o,c,_,l,E,g){return function(a,E){var S="",f="";"全部"!==o&&(S=o.split("-")[1],f=o.split("-")[o.split("-").length-1]),a({type:r.CHANGE_INVENTORY_MXB_TYPE,value:l}),a(b()),"Inventory"===l?((0,i.default)("getInventoryMxbCardDetail","POST",JSON.stringify({begin:"-"===t.substr(4,1)?t:t.substr(0,4)+"-"+t.substr(6,2),end:"-"===e.substr(4,1)?e:e.substr(0,4)+"-"+e.substr(6,2),topCategoryUuid:S,subCategoryUuid:S===f?"":f,needPeriod:"true",isType:!1,pageNum:1,pageSize:u.MXB_CARD_PAGE_SIZE}),function(l){(0,n.showMessage)(l)&&(a(d.reportGetIssuedateAndFreshPeriod(l)),l.data.cardList.length&&(0,i.default)("getInventoryMxbStockStore","POST",JSON.stringify({begin:"-"===t.substr(4,1)?t:t.substr(0,4)+"-"+t.substr(6,2),end:"-"===e.substr(4,1)?e:e.substr(0,4)+"-"+e.substr(6,2),stockCardUuid:s,isType:!1}),function(d){(0,n.showMessage)(d)&&(d.data.storeList.length?(0,i.default)("getInventoryStockDetail","POST",JSON.stringify({begin:"-"===t.substr(4,1)?t:t.substr(0,4)+"-"+t.substr(6,2),end:"-"===e.substr(4,1)?e:e.substr(0,4)+"-"+e.substr(6,2),topCategoryUuid:S,subCategoryUuid:S===f?"":f,stockCardUuid:s,storeCardUuid:c,isType:!1,pageNum:1,pageSize:u.MXB_PAGE_SIZE}),function(i){if((0,n.showMessage)(i)){var u="";!function t(e){return e.map(function(e){e.uuid==c&&(u=e.name),e.childList.length>0&&t(e.childList)})}(d.data.storeList),a({type:r.GET_INVENTORY_MXB_FROM_YEB,issuedate:t,endissuedate:e,dataList:i.data.detail.detailList,balanceData:i.data.detail,cardList:l.data.cardList,cardValue:s,stockStoreList:d.data.storeList,stockStoreValue:c,stockStoreLabel:u,topCategoryUuid:S,subCategoryUuid:S===f?"":f,categoryValue:o,chooseValue:_,cardPageNum:l.data.currentPage?l.data.currentPage:1,cardPages:l.data.pages?l.data.pages:1,detailCurrentPage:i.data.detail.currentPage?i.data.detail.currentPage:1,detailPages:i.data.detail.pages?i.data.detail.pages:1})}}):(0,i.default)("getInventoryStockDetail","POST",JSON.stringify({begin:"-"===t.substr(4,1)?t:t.substr(0,4)+"-"+t.substr(6,2),end:"-"===e.substr(4,1)?e:e.substr(0,4)+"-"+e.substr(6,2),topCategoryUuid:S,subCategoryUuid:S===f?"":f,stockCardUuid:s,isType:!1}),function(i){(0,n.showMessage)(i)&&a({type:r.GET_INVENTORY_MXB_FROM_YEB,issuedate:t,endissuedate:e,dataList:i.data.detail.detailList,balanceData:i.data.detail,cardList:l.data.cardList,cardValue:s,stockStoreList:[],stockStoreValue:"",stockStoreLabel:"",topCategoryUuid:S,subCategoryUuid:S===f?"":f,categoryValue:o,chooseValue:_,cardPageNum:l.data.currentPage?l.data.currentPage:1,cardPages:l.data.pages?l.data.pages:1,detailCurrentPage:i.data.detail.currentPage?i.data.detail.currentPage:1,detailPages:i.data.detail.pages?i.data.detail.pages:1})}))}))}),a(T(t,e,!1))):(a({type:r.SET_OTHER_TYPE_MXB_INIT_DATA,otherTypeStockStoreValue:c,chooseValue:_,typeListValue:g,categoryValue:o,cardValue:s,topCategoryUuid:S,subCategoryUuid:S===f?"":f}),a({type:r.SET_INVENTORY_MXB_DATE,issuedate:t,endissuedate:e}),a(y()))}},e.refreshInventoryMxbList=function(){return function(t,e){t({type:r.SWITCH_LOADING_MASK});var a=e().inventoryMxbState,o=a.get("issuedate"),c=a.get("endissuedate");if(!o)return s.default.info("账期异常，请刷新再试",2);var _=a.get("cardValue"),T=a.get("stockCardMessage"),E=a.get("stockStoreValue"),g=a.get("jrAbstract"),S=a.get("categoryValue"),f=a.get("chooseAssistCard"),y=a.get("chooseBatchCard"),p=a.get("cardPageNum"),C=a.get("detailCurrentPage"),O=l(f),N=O.assistClassificationUuid1,b=O.assistPropertyUuid1List,M=O.assistClassificationUuid2,I=O.assistPropertyUuid2List,L=O.assistClassificationUuid3,R=O.assistPropertyUuid3List;(0,i.default)("getInventoryMxbStockCategory","POST",JSON.stringify({begin:o?"-"===o.substr(4,1)?o:o.substr(0,4)+"-"+o.substr(6,2):"",end:c?"-"===c.substr(4,1)?c:c.substr(0,4)+"-"+c.substr(6,2):""}),function(e){if((0,n.showMessage)(e)){var s=!1,l="",f="";!function t(e,a){return e.map(function(e,r){a+"-"+e.uuid===S&&(s=!0),e.childList&&e.childList.length&&t(e.childList,a+"-"+e.uuid)})}(e.data.categoryList,""),s?(l=a.get("topCategoryUuid"),f=a.get("subCategoryUuid"),t({type:r.SET_INVENTORY_MXB_CATEGORY_REFRESH,data:e.data.categoryList,categoryValue:S,topCategoryUuid:l,subCategoryUuid:f})):t({type:r.SET_INVENTORY_MXB_CATEGORY_REFRESH,data:e.data.categoryList,categoryValue:"全部",topCategoryUuid:"",subCategoryUuid:""}),(0,i.default)("getInventoryMxbCardDetail","POST",JSON.stringify({begin:"-"===o.substr(4,1)?o:o.substr(0,4)+"-"+o.substr(6,2),end:"-"===c.substr(4,1)?c:c.substr(0,4)+"-"+c.substr(6,2),topCategoryUuid:l,subCategoryUuid:f,needPeriod:"true",pageNum:p,pageSize:u.MXB_CARD_PAGE_SIZE}),function(e){if((0,n.showMessage)(e))if(e.data.cardList.length){t(d.reportGetIssuedateAndFreshPeriod(e));var a=!1;e.data.cardList.map(function(t){t.stockCardUuid==_&&(a=!0)}),a?(t({type:r.REFRESH_INVENTORY_MXB_CARD_LIST,cardList:e.data.cardList,cardValue:_,stockCardMessage:T,cardPageNum:e.data.currentPage?e.data.currentPage:1,cardPages:e.data.pages?e.data.pages:1}),(0,i.default)("getInventoryMxbStockStore","POST",JSON.stringify({begin:"-"===o.substr(4,1)?o:o.substr(0,4)+"-"+o.substr(6,2),end:"-"===c.substr(4,1)?c:c.substr(0,4)+"-"+c.substr(6,2),topCategoryUuid:l||"",subCategoryUuid:f||"",stockCardUuid:_||""}),function(e){if((0,n.showMessage)(e)){var a=!1;if(e.data.storeList.length){!function t(e){return e.map(function(e){e.uuid==E&&(a=!0),e.childList.length>0&&t(e.childList)})}(e.data.storeList),t(a?{type:r.REFRESH_INVENORT_MXB_STOCK_STORE,data:e.data.storeList}:{type:r.SET_INVENTORY_MXB_STOCK_STORE,data:e.data.storeList})}else t({type:r.SET_INVENTORY_MXB_STOCK_STORE,data:e.data.storeList});(0,i.default)("getInventoryStockDetail","POST",JSON.stringify({begin:"-"===o.substr(4,1)?o:o.substr(0,4)+"-"+o.substr(6,2),end:"-"===c.substr(4,1)?c:c.substr(0,4)+"-"+c.substr(6,2),topCategoryUuid:l||"",subCategoryUuid:f||"",stockCardUuid:_,storeCardUuid:a?E:e.data.storeList.length?e.data.storeList[0].uuid:"",jrAbstract:g||"",assistClassificationUuid1:N,assistPropertyUuid1List:b,assistClassificationUuid2:M,assistPropertyUuid2List:I,assistClassificationUuid3:L,assistPropertyUuid3List:R,batchUuidList:y,pageNum:C,pageSize:u.MXB_PAGE_SIZE}),function(e){(0,n.showMessage)(e)&&(t({type:r.SWITCH_LOADING_MASK}),t({type:r.REFRESH_INVENTORY_MXB,dataList:e.data.detail.detailList,balanceData:e.data.detail,detailCurrentPage:e.data.detail.currentPage?e.data.detail.currentPage:1,detailPages:e.data.detail.pages?e.data.detail.pages:1}))})}})):(t({type:r.REFRESH_INVENTORY_MXB_CARD_LIST,cardList:e.data.cardList,cardValue:e.data.cardList[0].stockCardUuid,stockCardMessage:e.data.cardList[0],cardPageNum:e.data.currentPage?e.data.currentPage:1,cardPages:e.data.pages?e.data.pages:1}),(0,i.default)("getInventoryMxbStockStore","POST",JSON.stringify({begin:"-"===o.substr(4,1)?o:o.substr(0,4)+"-"+o.substr(6,2),end:"-"===c.substr(4,1)?c:c.substr(0,4)+"-"+c.substr(6,2),topCategoryUuid:l||"",subCategoryUuid:f||"",stockCardUuid:e.data.cardList[0].stockCardUuid}),function(a){if((0,n.showMessage)(a)){var s=!1;if(a.data.storeList.length){!function t(e){return e.map(function(e){e.uuid==E&&(s=!0),e.childList.length>0&&t(e.childList)})}(a.data.storeList),t(s?{type:r.REFRESH_INVENORT_MXB_STOCK_STORE,data:a.data.storeList}:{type:r.SET_INVENTORY_MXB_STOCK_STORE,data:a.data.storeList})}else t({type:r.SET_INVENTORY_MXB_STOCK_STORE,data:a.data.storeList});(0,i.default)("getInventoryStockDetail","POST",JSON.stringify({begin:"-"===o.substr(4,1)?o:o.substr(0,4)+"-"+o.substr(6,2),end:"-"===c.substr(4,1)?c:c.substr(0,4)+"-"+c.substr(6,2),topCategoryUuid:l||"",subCategoryUuid:f||"",stockCardUuid:e.data.cardList[0].stockCardUuid,storeCardUuid:s?E:a.data.storeList.length?a.data.storeList[0].uuid:"",jrAbstract:g||"",assistClassificationUuid1:N,assistPropertyUuid1List:b,assistClassificationUuid2:M,assistPropertyUuid2List:I,assistClassificationUuid3:L,assistPropertyUuid3List:R,batchUuidList:y,pageNum:C,pageSize:u.MXB_PAGE_SIZE}),function(e){(0,n.showMessage)(e)&&(t({type:r.SWITCH_LOADING_MASK}),t({type:r.REFRESH_INVENTORY_MXB,dataList:e.data.detail.detailList,balanceData:e.data.detail,detailCurrentPage:e.data.detail.currentPage?e.data.detail.currentPage:1,detailPages:e.data.detail.pages?e.data.detail.pages:1}))})}}))}else t({type:r.SWITCH_LOADING_MASK});else t({type:r.SWITCH_LOADING_MASK})})}})}},e.changeInventoryYebChooseMorePeriods=function(){return function(t){t({type:r.CHANGE_INVENTORY_MXB_CHOOSE_MORE_PERIODS})}},e.getInventoryMxbStockCategory=function(t,e,a){return function(s,u){var o=u().inventoryMxbState.get(o);(0,i.default)("getInventoryMxbStockCategory","POST",JSON.stringify({begin:t?"-"===t.substr(4,1)?t:t.substr(0,4)+"-"+t.substr(6,2):"",end:e?"-"===e.substr(4,1)?e:e.substr(0,4)+"-"+e.substr(6,2):"",isType:a||!1}),function(t){if((0,n.showMessage)(t)){!function t(e){return e.map(function(e){e.uuid==o&&!0,e.childList.length>0&&t(e.childList)})}(t.data.categoryList),s({type:r.SET_INVENTORY_MXB_CATEGORY,data:t.data.categoryList})}})}}),E=(e.setInventoryCardValue=function(t){return function(e){e({type:r.SET_INVENTORY_MXB_CARD_VALUE,value:t})}},e.getInventoryStockStore=function(t,e,a,s,u){return function(o){(0,i.default)("getInventoryMxbStockStore","POST",JSON.stringify({begin:"-"===t.substr(4,1)?t:t.substr(0,4)+"-"+t.substr(6,2),end:"-"===e.substr(4,1)?e:e.substr(0,4)+"-"+e.substr(6,2),topCategoryUuid:a||"",subCategoryUuid:s||"",stockCardUuid:u||""}),function(t){(0,n.showMessage)(t)&&o({type:r.SET_INVENTORY_MXB_STOCK_STORE,data:t.data.storeList})})}}),g=(e.setStockStoreValue=function(t,e){return function(a){a({type:r.SET_INVENTORY_MXB_STOCK_STORE_VALUE,value:t,name:e})}},e.setCategoryValue=function(t,e,a){return function(s){s({type:r.SET_INVENTORY_MXB_CATEGORY_VALUE,value:t,topCategoryUuid:e,subCategoryUuid:a})}},e.setInventoryMxbDate=function(t,e){return function(a){a({type:r.SET_INVENTORY_MXB_DATE,issuedate:t,endissuedate:e})}},e.getInventoryMxbStockCategoryTree=function(t,e){return function(a){(0,i.default)("getInventoryMxbStockCategory","POST",JSON.stringify({begin:"-"===t.substr(4,1)?t:t.substr(0,4)+"-"+t.substr(6,2),end:"-"===e.substr(4,1)?e:e.substr(0,4)+"-"+e.substr(6,2),isType:!1}),function(s){(0,n.showMessage)(s)&&(a({type:r.SET_INVENTORY_MXB_CATEGORY_LIST,data:s.data.categoryList,issuedate:t,endissuedate:e}),a(g("","")))})}},e.getStockDetailCard=function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return function(s,o){var d=o().inventoryMxbState.get("issuedate"),c=o().inventoryMxbState.get("endissuedate");(0,i.default)("getInventoryMxbCardDetail","POST",JSON.stringify({begin:"-"===d.substr(4,1)?d:d.substr(0,4)+"-"+d.substr(6,2),end:"-"===c.substr(4,1)?c:c.substr(0,4)+"-"+c.substr(6,2),topCategoryUuid:t,subCategoryUuid:e,isType:!1,pageNum:a,pageSize:u.MXB_CARD_PAGE_SIZE}),function(a){if((0,n.showMessage)(a)){s({type:r.SET_INVENTORY_MXB_CARD_LIST,cardList:a.data.cardList,cardPageNum:a.data.currentPage?a.data.currentPage:1,cardPages:a.data.pages?a.data.pages:1});var i=o().inventoryMxbState.get("cardValue");s(S(t,e,i))}})}}),S=e.getStockStoreTree=function(t,e,a){return function(s,u){var o=u().inventoryMxbState.get("issuedate"),d=u().inventoryMxbState.get("endissuedate");(0,i.default)("getInventoryMxbStockStore","POST",JSON.stringify({begin:"-"===o.substr(4,1)?o:o.substr(0,4)+"-"+o.substr(6,2),end:"-"===d.substr(4,1)?d:d.substr(0,4)+"-"+d.substr(6,2),topCategoryUuid:t||"",subCategoryUuid:e||"",stockCardUuid:a||"",isType:!1}),function(i){if((0,n.showMessage)(i)){s({type:r.SET_INVENTORY_MXB_STOCK_STORE,data:i.data.storeList});var o=u().inventoryMxbState.get("stockStoreValue");s(f(t,e,a,o))}})}},f=e.getInventoryMxbData=function(t,e,a,s){return function(o,d){o({type:r.SWITCH_LOADING_MASK});var c=d().inventoryMxbState,_=c.get("issuedate"),T=c.get("endissuedate"),E=c.get("jrAbstract"),g=c.get("chooseAssistCard"),S=c.get("chooseBatchCard"),f=c.get("detailCurrentPage"),y=l(g),p=y.assistClassificationUuid1,C=y.assistPropertyUuid1List,O=y.assistClassificationUuid2,N=y.assistPropertyUuid2List,b=y.assistClassificationUuid3,M=y.assistPropertyUuid3List;(0,i.default)("getInventoryStockDetail","POST",JSON.stringify({begin:"-"===_.substr(4,1)?_:_.substr(0,4)+"-"+_.substr(6,2),end:"-"===T.substr(4,1)?T:T.substr(0,4)+"-"+T.substr(6,2),topCategoryUuid:t||"",subCategoryUuid:e||"",stockCardUuid:a||"",storeCardUuid:s||"",jrAbstract:E||"",isType:!1,assistClassificationUuid1:p,assistPropertyUuid1List:C,assistClassificationUuid2:O,assistPropertyUuid2List:N,assistClassificationUuid3:b,assistPropertyUuid3List:M,batchUuidList:S,pageNum:f,pageSize:u.MXB_PAGE_SIZE}),function(t){(0,n.showMessage)(t)&&(o({type:r.SWITCH_LOADING_MASK}),o({type:r.SET_INVENTORY_MXB_DATA,dataList:t.data.detail.detailList,balanceData:t.data.detail,detailCurrentPage:t.data.detail.currentPage?t.data.detail.currentPage:1,detailPages:t.data.detail.pages?t.data.detail.pages:1}))})}},y=(e.changeJrAbstract=function(t){return function(e){e({type:r.CHANGE_INVENTORY_MXB_JR_ABSTRACT,value:t})}},e.handleInventoryMxbChooseStatus=function(t){return function(e){e({type:r.HANDLE_INVENTORY_MXB_CHOOSE_STATUS,value:t})}},e.changeInventoryMxbType=function(t){return function(e){e({type:r.CHANGE_INVENTORY_MXB_TYPE,value:t})}},e.getOtherTypeStockStore=function(){return function(t,e){var a=e().inventoryMxbState.get("issuedate"),s=e().inventoryMxbState.get("endissuedate");(0,i.default)("getInventoryMxbStockStore","POST",JSON.stringify({begin:"-"===a.substr(4,1)?a:a.substr(0,4)+"-"+a.substr(6,2),end:"-"===s.substr(4,1)?s:s.substr(0,4)+"-"+s.substr(6,2),isType:!0}),function(a){if((0,n.showMessage)(a)){var s=e().inventoryMxbState.get("otherTypeStockStoreValue"),i=!1;if(function t(e){return e.map(function(e){e.uuid==s&&(i=!0),e.childList.length>0&&t(e.childList)})}(a.data.storeList),i)t({type:r.SET_OTHER_TYPE_STOCK_STORE_LIST,list:a.data.storeList,value:s}),t(p(s));else{var u=a.data.storeList.length?a.data.storeList[0].uuid:"";t({type:r.SET_OTHER_TYPE_STOCK_STORE_LIST,list:a.data.storeList,value:u}),t(p(u))}}})}}),p=e.getOtherTypeStockCategory=function(t){return function(e,a){var s=a().inventoryMxbState.get("issuedate"),u=a().inventoryMxbState.get("endissuedate");(0,i.default)("getInventoryMxbStockCategory","POST",JSON.stringify({begin:"-"===s.substr(4,1)?s:s.substr(0,4)+"-"+s.substr(6,2),end:"-"===u.substr(4,1)?u:u.substr(0,4)+"-"+u.substr(6,2),isType:!0,storeCardUuid:t||""}),function(s){if((0,n.showMessage)(s)){var i=!1,u=a().inventoryMxbState,o=u.get("categoryValue");!function t(e,a){return e.map(function(e,s){a+"-"+e.uuid===o&&(i=!0),e.childList&&e.childList.length&&t(e.childList,a+"-"+e.uuid)})}(s.data.categoryList,""),i?(e({type:r.SET_INVENTORY_MXB_CATEGORY_REFRESH,data:s.data.categoryList,categoryValue:o,topCategoryUuid:u.get("topCategoryUuid"),subCategoryUuid:u.get("subCategoryUuid")}),e(C(t,u.get("topCategoryUuid"),u.get("subCategoryUuid")))):(e({type:r.SET_INVENTORY_MXB_CATEGORY_REFRESH,data:s.data.categoryList,categoryValue:"全部",topCategoryUuid:"",subCategoryUuid:""}),e(C(t,"","")))}})}},C=e.getOtherTypeStockCardDetail=function(t,e,a){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return function(o,c){var _=c().inventoryMxbState.get("issuedate"),l=c().inventoryMxbState.get("endissuedate");(0,i.default)("getInventoryMxbCardDetail","POST",JSON.stringify({begin:"-"===_.substr(4,1)?_:_.substr(0,4)+"-"+_.substr(6,2),end:"-"===l.substr(4,1)?l:l.substr(0,4)+"-"+l.substr(6,2),isType:!0,storeCardUuid:t||"",topCategoryUuid:e||"",subCategoryUuid:a||"",needPeriod:"true",pageNum:s,pageSize:u.MXB_CARD_PAGE_SIZE}),function(s){if((0,n.showMessage)(s)){o(d.reportGetIssuedateAndFreshPeriod(s));var i=c().inventoryMxbState.get("cardValue"),u=c().inventoryMxbState.get("stockCardMessage"),_=!1;if(s.data.cardList.map(function(t){t.stockCardUuid==i&&(_=!0)}),_)o({type:r.REFRESH_INVENTORY_MXB_CARD_LIST,cardList:s.data.cardList,cardValue:i,stockCardMessage:u,cardPageNum:s.data.currentPage?s.data.currentPage:1,cardPages:s.data.pages?s.data.pages:1}),o(O(t,e,a,i));else{o(I());var l=s.data.cardList.length?s.data.cardList[0].stockCardUuid:"";o({type:r.REFRESH_INVENTORY_MXB_CARD_LIST,cardList:s.data.cardList,cardValue:l,stockCardMessage:s.data.cardList.length?s.data.cardList[0]:{stockCardUuid:"",openAssist:!1,openBatch:!1,openSerial:!1,openShelfLife:!1,sockCardName:""},cardPageNum:s.data.currentPage?s.data.currentPage:1,cardPages:s.data.pages?s.data.pages:1}),o(O(t,e,a,l))}}})}},O=e.getOtherTypeStockTypeList=function(t,e,a,s){return function(u,o){var d=o().inventoryMxbState.get("issuedate"),c=o().inventoryMxbState.get("endissuedate");(0,i.default)("getInventoryTypeList","POST",JSON.stringify({begin:"-"===d.substr(4,1)?d:d.substr(0,4)+"-"+d.substr(6,2),end:"-"===c.substr(4,1)?c:c.substr(0,4)+"-"+c.substr(6,2),isType:!0,storeCardUuid:t||"",topCategoryUuid:e||"",subCategoryUuid:a||"",stockCardUuid:s||""}),function(i){if((0,n.showMessage)(i)){var d=o().inventoryMxbState.get("typeListValue"),c=!1;!function t(e){return e.map(function(e){e.acId===d&&(c=!0),e.childList&&e.childList.length&&t(e.childList)})}(i.data.typeList),c?(u({type:r.SET_OTHER_TYPE_MXB_STOCK_TYPE_LIST,typeListValue:d,list:i.data.typeList}),u(N(t,e,a,s,d))):(u({type:r.SET_OTHER_TYPE_MXB_STOCK_TYPE_LIST,typeListValue:"全部",list:i.data.typeList}),u(N(t,e,a,s,"")))}})}},N=e.getOtherTypeMxbDataList=function(t,e,a,s,o,d){return function(d,c){d({type:r.SWITCH_LOADING_MASK});var _=c().inventoryMxbState,T=_.get("issuedate"),E=_.get("endissuedate"),g=_.get("jrAbstract"),S=(_.get("balanceChanged"),_.get("chooseAssistCard")),f=_.get("chooseBatchCard"),y=_.get("detailCurrentPage"),p=l(S),C=p.assistClassificationUuid1,O=p.assistPropertyUuid1List,N=p.assistClassificationUuid2,b=p.assistPropertyUuid2List,M=p.assistClassificationUuid3,I=p.assistPropertyUuid3List;(0,i.default)("getInventoryStockDetail","POST",JSON.stringify({begin:"-"===T.substr(4,1)?T:T.substr(0,4)+"-"+T.substr(6,2),end:"-"===E.substr(4,1)?E:E.substr(0,4)+"-"+E.substr(6,2),isType:!0,storeCardUuid:t||"",topCategoryUuid:e||"",subCategoryUuid:a||"",stockCardUuid:s||"",acId:o||"",jrAbstract:g||"",assistClassificationUuid1:C,assistPropertyUuid1List:O,assistClassificationUuid2:N,assistPropertyUuid2List:b,assistClassificationUuid3:M,assistPropertyUuid3List:I,batchUuidList:f,pageNum:y,pageSize:u.MXB_PAGE_SIZE}),function(t){(0,n.showMessage)(t)&&(d({type:r.SWITCH_LOADING_MASK}),d({type:r.SET_INVENTORY_MXB_DATA,dataList:t.data.detail.detailList,balanceData:t.data.detail,detailCurrentPage:t.data.detail.currentPage?t.data.detail.currentPage:1,detailPages:t.data.detail.pages?t.data.detail.pages:1}),d({type:r.SET_OTHER_TYPE_MXB_BALANCE_DIRECTION,value:t.data.detail.allBalanceDirection,changed:!1}))})}},b=(e.setOtherTypeListValue=function(t){return function(e){e({type:r.SET_OTHER_TYPE_MXB_STOCK_TYPE_LIST_VALUE,value:t})}},e.setOtherTypeStockStoreValue=function(t){return function(e){e({type:r.SET_OTHER_TYPE_MXB_STOCK_STORE_VALUE,value:t})}},e.changeOtherTypeBalanceDirection=function(t,e){return function(a){a({type:r.SET_OTHER_TYPE_MXB_BALANCE_DIRECTION,value:t,changed:e})}},e.getDecimalScale=function(){return function(t){t({type:r.SWITCH_LOADING_MASK}),(0,i.default)("getInventoryYebDecimalScale","GET","",function(e){t({type:r.SWITCH_LOADING_MASK}),t({type:r.CHANGE_DECIMAL_OF_CONFIG_MXB,receiveData:e.data.scale})})}}),M=e.changeCommonValue=function(t,e){return{type:r.INVENTORY_MXB_CHANGE_COMMON_VALUE,name:t,value:e}},I=(e.getInventoryMxbBatchList=function(t,e,a,s,u){return function(o){(0,i.default)("getInventoryMxbBatchList","POST",JSON.stringify({begin:t,end:e,stockCardUuid:a,storeCardUuid:s,isType:"Inventory"!==u}),function(t){(0,n.showMessage)(t)&&o({type:r.GET_INVENTORY_MXB_BATCH_LIST,receiveData:t.data.batchList})})}},e.getInventoryMxbAssistList=function(t,e,a,s,u){return function(o){(0,i.default)("getInventoryMxbAssistList","POST",JSON.stringify({begin:t,end:e,stockCardUuid:a,storeCardUuid:s,isType:"Inventory"!==u,needPeriod:!1}),function(t){o({type:r.SWITCH_LOADING_MASK,loadingType:"minus"}),(0,n.showMessage)(t)&&o({type:r.GET_INVENTORY_MXB_ASSIST_LIST,receiveData:t.data.assistList})})}},e.changeItemCheckboxCheck=function(t,e,a,s,i){return{type:r.INVENTORY_MXB_CHANGE_ITEM_CHECKBOX_CHECKED,checked:t,uuid:e,curSelectUuidName:a,allList:s,isAll:i}},e.filterCardClear=function(){return{type:r.INVENTORY_MXB_FILTER_CARD_CLEAR}},e.changeInventoryMxbCardInit=function(t){return{type:r.CHANGE_INVENTORY_MXB_CARD_VALUE,value:t}});e.getSerialList=function(t,e,a,s){return function(r,u){var o,d,c,_=t.jrJvUuid,l="in"===a?"inUuid":"outJrJvUuid";_?(0,i.default)("getSerialList","POST",JSON.stringify((c=_,(d=l)in(o={inventoryUuid:e})?Object.defineProperty(o,d,{value:c,enumerable:!0,configurable:!0,writable:!0}):o[d]=c,o)),function(t){(0,n.showMessage)(t)&&s&&s(t.data)}):s&&s()}},e.changeInventoryMxbCommonValue=function(t,e){return function(a){a({type:r.CHANGE_INVENTORY_COMMON_VALUE,place:t,value:e})}},e.getSerialListRunningFollow=function(t,e){return function(a){a({type:r.SWITCH_LOADING_MASK}),(0,i.default)("getInventoryMxbSerialListFollow","POST",JSON.stringify({stockCardUuid:t,serialUuid:e}),function(t){(0,n.showMessage)(t)&&(a(M("serialFollow",(0,o.fromJS)(t.data.serialFollow))),a(M("chooseSerialUuid",e))),a({type:r.SWITCH_LOADING_MASK})})}},e.changeDetailCurrentPages=function(t){return function(e){e({type:r.CHANGE_INVENTORY_DETAIL_PAGES_VALUE,value:t})}}},1720:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.INIT_INVENTORY_MXB="INIT_INVENTORY_MXB",e.SWITCH_LOADING_MASK="SWITCH_LOADING_MASK",e.SET_INVENTORY_MXB_INIT_DATA="SET_INVENTORY_MXB_INIT_DATA",e.CHANGE_INVENTORY_MXB_CHOOSE_MORE_PERIODS="CHANGE_INVENTORY_MXB_CHOOSE_MORE_PERIODS",e.SET_INVENTORY_MXB_CATEGORY_LIST="SET_INVENTORY_MXB_CATEGORY_LIST",e.SET_INVENTORY_MXB_CARD_VALUE="SET_INVENTORY_MXB_CARD_VALUE",e.SET_INVENTORY_MXB_STOCK_STORE="SET_INVENTORY_MXB_STOCK_STORE",e.SET_INVENTORY_MXB_STOCK_STORE_VALUE="SET_INVENTORY_MXB_STOCK_STORE_VALUE",e.SET_INVENTORY_MXB_CATEGORY_VALUE="SET_INVENTORY_MXB_CATEGORY_VALUE",e.SET_INVENTORY_MXB_DATE="SET_INVENTORY_MXB_DATE",e.SET_INVENTORY_MXB_CARD_LIST="SET_INVENTORY_MXB_CARD_LIST",e.SET_INVENTORY_MXB_DATA="SET_INVENTORY_MXB_DATA",e.REFRESH_INVENTORY_MXB="REFRESH_INVENTORY_MXB",e.REFRESH_INVENORT_MXB_STOCK_STORE="REFRESH_INVENORT_MXB_STOCK_STORE",e.REFRESH_INVENTORY_MXB_CARD_LIST="REFRESH_INVENTORY_MXB_CARD_LIST",e.GET_INVENTORY_MXB_FROM_YEB="GET_INVENTORY_MXB_FROM_YEB",e.SET_INVENTORY_MXB_CATEGORY="SET_INVENTORY_MXB_CATEGORY",e.SET_INVENTORY_MXB_CATEGORY_REFRESH="SET_INVENTORY_MXB_CATEGORY_REFRESH",e.CHANGE_INVENTORY_MXB_JR_ABSTRACT="CHANGE_INVENTORY_MXB_JR_ABSTRACT",e.HANDLE_INVENTORY_MXB_CHOOSE_STATUS="HANDLE_INVENTORY_MXB_CHOOSE_STATUS",e.CHANGE_INVENTORY_MXB_TYPE="CHANGE_INVENTORY_MXB_TYPE",e.SET_OTHER_TYPE_STOCK_STORE_LIST="SET_OTHER_TYPE_STOCK_STORE_LIST",e.SET_OTHER_TYPE_MXB_INIT_DATA="SET_OTHER_TYPE_MXB_INIT_DATA",e.SET_OTHER_TYPE_MXB_STOCK_TYPE_LIST="SET_OTHER_TYPE_MXB_STOCK_TYPE_LIST",e.SET_OTHER_TYPE_MXB_STOCK_TYPE_LIST_VALUE="SET_OTHER_TYPE_MXB_STOCK_TYPE_LIST_VALUE",e.SET_OTHER_TYPE_MXB_STOCK_STORE_VALUE="SET_OTHER_TYPE_MXB_STOCK_STORE_VALUE",e.SET_OTHER_TYPE_MXB_BALANCE_DIRECTION="SET_OTHER_TYPE_MXB_BALANCE_DIRECTION",e.CHANGE_DECIMAL_OF_CONFIG_MXB="CHANGE_DECIMAL_OF_CONFIG_MXB",e.INVENTORY_MXB_CHANGE_COMMON_VALUE="INVENTORY_MXB_CHANGE_COMMON_VALUE",e.GET_INVENTORY_MXB_BATCH_LIST="GET_INVENTORY_MXB_BATCH_LIST",e.GET_INVENTORY_MXB_ASSIST_LIST="GET_INVENTORY_MXB_ASSIST_LIST",e.INVENTORY_MXB_CHANGE_ITEM_CHECKBOX_CHECKED="INVENTORY_MXB_CHANGE_ITEM_CHECKBOX_CHECKED",e.INVENTORY_MXB_FILTER_CARD_CLEAR="INVENTORY_MXB_FILTER_CARD_CLEAR",e.CHANGE_INVENTORY_MXB_CARD_VALUE="CHANGE_INVENTORY_MXB_CARD_VALUE",e.CHANGE_INVENTORY_COMMON_VALUE="CHANGE_INVENTORY_COMMON_VALUE",e.CHANGE_INVENTORY_DETAIL_PAGES_VALUE="CHANGE_INVENTORY_DETAIL_PAGES_VALUE"},1721:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n,a=arguments[1];return((t={},i(t,r.INIT_INVENTORY_MXB,function(){return n}),i(t,r.SET_INVENTORY_MXB_INIT_DATA,function(){return e.set("issuedate",a.issuedate).set("endissuedate",a.endissuedate).set("cardList",a.cardList).set("dataList",a.dataList).set("balanceData",a.balanceData).set("cardValue",a.cardValue).set("cardPageNum",a.cardPageNum).set("cardPages",a.cardPages).set("detailCurrentPage",a.detailCurrentPage).set("detailPages",a.detailPages)}),i(t,r.SET_INVENTORY_MXB_CATEGORY_LIST,function(){return e.set("categoryList",a.data).set("categoryValue","全部").set("topCategoryUuid","").set("subCategoryUuid","").set("issuedate",a.issuedate).set("endissuedate",a.endissuedate)}),i(t,r.SET_INVENTORY_MXB_DATE,function(){return e.set("issuedate",a.issuedate).set("endissuedate",a.endissuedate)}),i(t,r.CHANGE_INVENTORY_MXB_CHOOSE_MORE_PERIODS,function(){return e.update("chooseperiods",function(t){return!t})}),i(t,r.SET_INVENTORY_MXB_CARD_VALUE,function(){return e.set("cardValue",a.value.stockCardUuid).set("stockCardMessage",(0,s.fromJS)(a.value))}),i(t,r.SET_INVENTORY_MXB_STOCK_STORE,function(){return a.data.length>0?e.set("stockStoreList",a.data).set("stockStoreValue",a.data[0].uuid).set("stockStoreLabel",a.data[0].name):e.set("stockStoreList",a.data).set("stockStoreValue","").set("stockStoreLabel","")}),i(t,r.SET_INVENTORY_MXB_STOCK_STORE_VALUE,function(){return e.set("stockStoreValue",a.value).set("stockStoreLabel",a.name)}),i(t,r.SET_INVENTORY_MXB_CATEGORY_VALUE,function(){return e.set("categoryValue",a.value).set("topCategoryUuid",a.topCategoryUuid).set("subCategoryUuid",a.subCategoryUuid)}),i(t,r.SET_INVENTORY_MXB_CARD_LIST,function(){var t=[];for(var r in a.cardList)t.push(a.cardList[r].stockCardUuid);return a.cardList.length?(e=e.set("cardPageNum",a.cardPageNum).set("cardPages",a.cardPages),t.includes(e.get("cardValue"))?e.set("cardList",a.cardList):e.set("cardList",a.cardList).set("cardValue",a.cardList[0].stockCardUuid).set("chooseBatchCard",(0,s.fromJS)([])).set("chooseAssistCard",(0,s.fromJS)([])).set("showAssist",!1).set("showBatch",!1).set("stockCardMessage",(0,s.fromJS)(a.cardList[0]))):e.set("cardList",a.cardList).set("cardValue","").set("chooseBatchCard",(0,s.fromJS)([])).set("chooseAssistCard",(0,s.fromJS)([])).set("showAssist",!1).set("showBatch",!1).set("stockCardMessage",(0,s.fromJS)({stockCardUuid:"",openAssist:!1,openBatch:!1,openSerial:!1,openShelfLife:!1,sockCardName:""})).set("cardPageNum",1).set("cardPages",1)}),i(t,r.SET_INVENTORY_MXB_DATA,function(){return e.set("dataList",a.dataList).set("balanceData",a.balanceData).set("detailCurrentPage",a.detailCurrentPage).set("detailPages",a.detailPages)}),i(t,r.REFRESH_INVENTORY_MXB,function(){return e.set("dataList",a.dataList).set("balanceData",a.balanceData).set("detailCurrentPage",a.detailCurrentPage).set("detailPages",a.detailPages)}),i(t,r.REFRESH_INVENORT_MXB_STOCK_STORE,function(){return e.set("stockStoreList",a.data)}),i(t,r.REFRESH_INVENTORY_MXB_CARD_LIST,function(){return e.set("cardList",a.cardList).set("cardValue",a.cardValue).set("stockCardMessage",(0,s.fromJS)(a.stockCardMessage)).set("cardPageNum",a.cardPageNum).set("cardPages",a.cardPages)}),i(t,r.GET_INVENTORY_MXB_FROM_YEB,function(){return e.set("issuedate",a.issuedate).set("endissuedate",a.endissuedate).set("cardList",a.cardList).set("dataList",a.dataList).set("balanceData",a.balanceData).set("cardValue",a.cardValue).set("stockStoreList",a.stockStoreList).set("stockStoreValue",a.stockStoreValue).set("stockStoreLabel",a.stockStoreLabel).set("topCategoryUuid",a.topCategoryUuid).set("subCategoryUuid",a.subCategoryUuid).set("categoryValue",a.categoryValue).set("chooseValue",a.chooseValue).set("chooseValue",a.chooseValue).set("cardPageNum",a.cardPageNum).set("cardPages",a.cardPages).set("detailCurrentPage",a.detailCurrentPage).set("detailPages",a.detailPages)}),i(t,r.SET_INVENTORY_MXB_CATEGORY,function(){return e.set("categoryList",a.data).set("categoryValue","全部").set("topCategoryUuid","").set("subCategoryUuid","")}),i(t,r.CHANGE_INVENTORY_MXB_JR_ABSTRACT,function(){return e.set("jrAbstract",a.value)}),i(t,r.HANDLE_INVENTORY_MXB_CHOOSE_STATUS,function(){return e.set("chooseValue",a.value)}),i(t,r.SET_INVENTORY_MXB_CATEGORY_REFRESH,function(){return e.set("categoryList",a.data).set("categoryValue",a.categoryValue).set("topCategoryUuid",a.topCategoryUuid).set("subCategoryUuid",a.subCategoryUuid)}),i(t,r.CHANGE_INVENTORY_MXB_TYPE,function(){return e.set("inventoryType",a.value)}),i(t,r.SET_OTHER_TYPE_MXB_INIT_DATA,function(){return e.set("typeListValue",a.typeListValue).set("otherTypeStockStoreValue",a.otherTypeStockStoreValue).set("categoryValue",a.categoryValue).set("cardValue",a.cardValue).set("topCategoryUuid",a.topCategoryUuid).set("subCategoryUuid",a.subCategoryUuid).set("chooseValue",a.chooseValue)}),i(t,r.SET_OTHER_TYPE_STOCK_STORE_LIST,function(){return e.set("otherTypeStockStoreList",a.list).set("otherTypeStockStoreValue",a.value)}),i(t,r.SET_OTHER_TYPE_MXB_STOCK_TYPE_LIST,function(){return e.set("typeListValue",a.typeListValue).set("typeList",a.list)}),i(t,r.SET_OTHER_TYPE_MXB_STOCK_TYPE_LIST_VALUE,function(){return e.set("typeListValue",a.value)}),i(t,r.SET_OTHER_TYPE_MXB_STOCK_STORE_VALUE,function(){return e.set("otherTypeStockStoreValue",a.value)}),i(t,r.SET_OTHER_TYPE_MXB_BALANCE_DIRECTION,function(){return e.set("allBalanceDirection",a.value).set("balanceChanged",a.changed)}),i(t,r.CHANGE_DECIMAL_OF_CONFIG_MXB,function(){return e.set("quantityScale",a.receiveData.quantityScale).set("priceScale",a.receiveData.priceScale)}),i(t,r.INVENTORY_MXB_CHANGE_COMMON_VALUE,function(){return e.set(a.name,a.value)}),i(t,r.GET_INVENTORY_MXB_BATCH_LIST,function(){var t=a.receiveData,r=[];return t&&t.length&&t.map(function(t){r.push({uuid:t.batchUuid,code:t.batch,name:t.expirationDate?"("+t.expirationDate+")":""})}),e=e.set("batchList",(0,s.fromJS)(r))}),i(t,r.GET_INVENTORY_MXB_ASSIST_LIST,function(){return e=e.set("assistList",(0,s.fromJS)(a.receiveData))}),i(t,r.INVENTORY_MXB_CHANGE_ITEM_CHECKBOX_CHECKED,function(){var t=e.get(a.curSelectUuidName),s=t;return a.isAll?(a.allList.map(function(t,e){s=a.checked?s.splice(s.findIndex(function(e){return e===t.get("uuid")}),1):-1===s.indexOf(t.get("uuid"))?s.push(t.get("uuid")):s}),e=e.set(a.curSelectUuidName,s)):(s=a.checked?s.splice(t.findIndex(function(t){return t===a.uuid}),1):-1===s.indexOf(a.uuid)?t.push(a.uuid):t,e.set(a.curSelectUuidName,s))}),i(t,r.INVENTORY_MXB_FILTER_CARD_CLEAR,function(){return e=e.set("chooseBatchCard",(0,s.fromJS)([])).set("chooseAssistCard",(0,s.fromJS)([]))}),i(t,r.CHANGE_INVENTORY_MXB_CARD_VALUE,function(){return e=e.set("showAssist",!1).set("showBatch",!1).set("chooseBatchCard",(0,s.fromJS)([])).set("chooseAssistCard",(0,s.fromJS)([]))}),i(t,r.CHANGE_INVENTORY_COMMON_VALUE,function(){return e=e.setIn([].concat(function(t){if(Array.isArray(t)){for(var e=0,a=Array(t.length);e<t.length;e++)a[e]=t[e];return a}return Array.from(t)}(a.place)),a.value.toJS())}),i(t,r.CHANGE_INVENTORY_DETAIL_PAGES_VALUE,function(){return e=e.set("detailCurrentPage",a.value)}),t)[a.type]||function(){return e})()};var s=a(18),r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}(a(1720));function i(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var n=(0,s.fromJS)({chooseperiods:!1,issuedate:"",endissuedate:"",chooseValue:"MONTH",cardList:[],cardValue:"",dataList:[],balanceData:{},categoryList:[],categoryValue:"全部",topCategoryUuid:"",subCategoryUuid:"",stockStoreList:[],stockStoreValue:"",stockStoreLabel:"",jrAbstract:"",inventoryType:"Inventory",typeList:[],typeListValue:"全部",otherTypeStockStoreList:[],otherTypeStockStoreValue:"",allBalanceDirection:"debit",balanceChanged:!1,quantityScale:"",priceScale:"",showAssist:!1,showBatch:!1,modalName:"",stockCardMessage:{stockCardUuid:"",openAssist:!1,openBatch:!1,openSerial:!1,openShelfLife:!1,sockCardName:""},batchList:[],chooseBatchCard:[],curSelectBatchUuid:[],assistList:[],curSelectAssistUuid:[],chooseAssistCard:[],serialList:[],serialFollow:{},showSerialDrawer:!1,chooseSerialUuid:"",detailCurrentPage:1,detailPages:1,cardPages:1,cardPageNum:1})}}]);