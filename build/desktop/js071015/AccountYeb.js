(window.webpackJsonp=window.webpackJsonp||[]).push([[82],{1163:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.view=t.reducer=void 0;var a=u(n(2233)),l=u(n(2239)),r=u(n(1708));function u(e){return e&&e.__esModule?e:{default:e}}var o={accountYebState:l.default,accountMxbState:r.default};t.reducer=o,t.view=a.default},1705:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.changeAccountYebChooseValue=t.getAccountYebBalanceList=t.getPeriodAndAccountYebBalanceList=void 0;var a,l=i(n(1706)),r=n(52),u=(a=r)&&a.__esModule?a:{default:a},o=(n(18),n(22)),c=(i(n(30)),i(n(102)));function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}t.getPeriodAndAccountYebBalanceList=function(e,t){return function(n,a){n({type:l.SWITCH_LOADING_MASK});var r=e?"-"===e.substr(4,1)?e:e.substr(0,4)+"-"+e.substr(6,2):"",i=t?"-"===t.substr(4,1)?t:t.substr(0,4)+"-"+t.substr(6,2):"";(0,u.default)("getAccountYebReport","POST",JSON.stringify({begin:r,end:i,needPeriod:"true"}),function(a){if(n({type:l.SWITCH_LOADING_MASK}),(0,o.showMessage)(a)){var r=n(c.reportGetIssuedateAndFreshPeriod(a));n({type:l.AFTER_GET_PERIOD_AND_ACCOUNT_YEB_BALANCE_LIST,receivedData:a.data,issuedate:e||r,endissuedate:t||r})}})}},t.getAccountYebBalanceList=function(e,t){return function(n,a){n({type:l.SWITCH_LOADING_MASK});var r=e?"-"===e.substr(4,1)?e:e.substr(0,4)+"-"+e.substr(6,2):"",c=t?"-"===t.substr(4,1)?t:t.substr(0,4)+"-"+t.substr(6,2):"";(0,u.default)("getAccountYebReport","POST",JSON.stringify({begin:r,end:c}),function(a){(0,o.showMessage)(a)&&n({type:l.AFTER_GET_PERIOD_AND_ACCOUNT_YEB_BALANCE_LIST,receivedData:a.data,issuedate:e,endissuedate:t}),n({type:l.SWITCH_LOADING_MASK})})}},t.changeAccountYebChooseValue=function(e){return{type:l.CHANGE_ACCOUNT_YEB_CHOOSE_VALUE,chooseValue:e}}},1706:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SWITCH_LOADING_MASK="SWITCH_LOADING_MASK",t.INIT_ACCOUNTYEB="INIT_ACCOUNTYEB",t.AFTER_GET_PERIOD_AND_ACCOUNT_YEB_BALANCE_LIST="AFTER_GET_PERIOD_AND_ACCOUNT_YEB_BALANCE_LIST",t.CHANGE_ACCOUNT_YEB_CHOOSE_VALUE="CHANGE_ACCOUNT_YEB_CHOOSE_VALUE"},2233:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,l,r,u=C(n(32)),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(51);var c=C(n(1)),i=C(n(0)),s=n(56),f=n(18);n(2234);var d=n(22),p=C(n(1227)),b=C(n(1224)),m=C(n(1226)),_=C(n(1269)),E=(O(n(27)),n(127)),y=n(52),h=C(n(2236)),v=O(n(1705)),g=O(n(60)),A=O(n(43));function O(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function C(e){return e&&e.__esModule?e:{default:e}}var T=(0,s.connect)(function(e){return e})((r=l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.default.Component),o(t,[{key:"componentDidMount",value:function(){this.props.dispatch(v.getPeriodAndAccountYebBalanceList())}},{key:"shouldComponentUpdate",value:function(e){return this.props.allState!=e.allState||this.props.accountYebState!=e.accountYebState||this.props.homeState!=e.homeState}},{key:"render",value:function(){var e=this.props,t=e.allState,n=e.homeState,a=e.dispatch,l=e.accountYebState,r=n.getIn(["permissionInfo","Report"]),o=l.get("issuedate"),i=l.get("endissuedate"),s=l.getIn(["views","chooseValue"]),f=l.get("accountBalanceList"),O=l.get("totalBalance"),C=t.get("accountIssues"),T=n.get("pageList"),w=n.getIn(["views","isSpread"]),P=n.getIn(["views","URL_POSTFIX"]),N=n.getIn(["views","isPlay"]),S=o?"-"===o.substr(4,1)?o:o.substr(0,4)+"-"+o.substr(6,2):"",I=i?"-"===i.substr(4,1)?i:i.substr(0,4)+"-"+i.substr(6,2):"";return c.default.createElement(b.default,{type:"yeb-seven",className:"account-yeb"},c.default.createElement(m.default,null,c.default.createElement("div",{className:"flex-title-left"},w||T.getIn(["Yeb","pageList"]).size<=1?"":c.default.createElement(p.default,{pageItem:T.get("Yeb"),onClick:function(e,t,n){a(g.addPageTabPane("YebPanes",n,n,t)),a(g.addHomeTabpane(e,n,t))}}),c.default.createElement(_.default,{issuedate:o,endissuedate:i,issues:C,chooseValue:s,changeChooseperiodsStatu:function(e){return a(v.changeAccountYebChooseValue(e))},changePeriodCallback:function(e,t){return a(v.getAccountYebBalanceList(e,t))}})),c.default.createElement("div",{className:"flex-title-right"},c.default.createElement("span",{className:"title-right title-dropdown"},c.default.createElement(E.Export,{isAdmin:r.getIn(["exportExcel","permission"]),type:"first",exportDisable:!S||!r.getIn(["exportExcel","permission"])||N,excelDownloadUrl:y.ROOT+"/jr/excel/export/account/balance?"+P+"&begin="+S+"&end="+I,ddExcelCallback:function(e){return a(A.allExportReceiverlist(e,"sendAccountExcelbalance",{begin:S,end:I}))},onErrorSendMsg:function(e,t,n){a(A.sendMessageToDeveloper({title:"导出发送钉钉文件异常",message:"type:"+e+",valueFirst:"+t+",valueSecond:"+n,remark:"账户余额表"}))}})),c.default.createElement(u.default,{className:"title-right",type:"ghost",onClick:function(){return(0,d.debounce)(function(){a(v.getPeriodAndAccountYebBalanceList(o,i))})()}},"刷新"))),c.default.createElement(h.default,{dispatch:a,issuedate:o,endissuedate:i,accountBalanceList:f,totalBalance:O,chooseValue:s}))}}]),t}(),l.displayName="AccountYeb",l.propTypes={allState:i.default.instanceOf(f.Map),dispatch:i.default.func},a=r))||a;t.default=T},2234:function(e,t,n){},2236:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=f(n(1)),u=n(17),o=(n(18),n(127)),c=n(22),i=f(n(2237)),s=f(n(2238));!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(27));function f(e){return e&&e.__esModule?e:{default:e}}var d=(0,u.immutableRenderDecorator)(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),l(t,[{key:"render",value:function(){var e=this.props,t=e.dispatch,n=e.issuedate,a=e.endissuedate,l=e.accountBalanceList,u=e.totalBalance,f=e.chooseValue;return r.default.createElement(o.TableWrap,{notPosition:!0},r.default.createElement(o.TableAll,{type:"zhyeb",newTable:"true"},r.default.createElement(s.default,{className:"account-yeb-table-width account-yeb-table-title"}),r.default.createElement(o.TableBody,null,l&&l.map(function(e,l){return r.default.createElement(i.default,{key:l,className:"account-yeb-table-width account-yeb-table-item",item:e,line:l+1,dispatch:t,issuedate:n,endissuedate:a,chooseValue:f})}),r.default.createElement(o.TableItem,{className:"account-yeb-table-width account-yeb-table-item",line:l.size?l.size+1:1},r.default.createElement("li",null,"合计"),r.default.createElement("li",null),r.default.createElement("li",null,r.default.createElement("span",null,r.default.createElement(o.Amount,null,(0,c.numberCalculate)(u.get("openDebit"),u.get("openCredit"),2,"subtract")))),r.default.createElement("li",null,r.default.createElement("span",null,r.default.createElement(o.Amount,null,u.get("currentDebit"))),r.default.createElement("span",null,r.default.createElement(o.Amount,null,u.get("currentCredit"))),r.default.createElement("span",null,r.default.createElement(o.Amount,null,u.get("yearDebit"))),r.default.createElement("span",null,r.default.createElement(o.Amount,null,u.get("yearCredit")))),r.default.createElement("li",null,r.default.createElement("span",null,r.default.createElement(o.Amount,null,(0,c.numberCalculate)(u.get("closeDebit"),u.get("closeCredit"),2,"subtract"))))))))}}]),t}())||a;t.default=d},2237:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,l,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(1),o=(l=u)&&l.__esModule?l:{default:l},c=n(17),i=n(127),s=n(22),f=p(n(60)),d=(p(n(1705)),p(n(1510)));function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var b=(0,c.immutableRenderDecorator)(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.item,n=e.dispatch,a=e.line,l=e.className,r=e.issuedate,u=e.endissuedate,c=e.chooseValue;return o.default.createElement(i.TableItem,{line:a,className:l},o.default.createElement(i.TableOver,{textAlign:"left",isLink:!0,onClick:function(){sessionStorage.setItem("previousPage","accountMx"),n(f.addPageTabPane("MxbPanes","AccountMxb","AccountMxb","账户明细表")),n(f.addHomeTabpane("Mxb","AccountMxb","账户明细表")),n(d.getAccountMxbBalanceListFromAccountYeb(r,u,t.get("uuid"))),n(d.getAccountMxbTree(r,u,t.get("uuid"))),n(d.changeAccountMxbChooseValue(c))}},t.get("name")),o.default.createElement(i.TableOver,{textAlign:"center"},{cash:"现金",general:"一般户",basic:"基本户",Alipay:"支付宝",WeChat:"微信",other:"其它",spare:"备用金"}[t.get("type")]),o.default.createElement("li",null,o.default.createElement("span",null,o.default.createElement(i.Amount,null,(0,s.numberCalculate)(t.get("openDebit"),t.get("openCredit"),2,"subtract")))),o.default.createElement("li",null,o.default.createElement("span",null,o.default.createElement(i.Amount,null,t.get("currentDebit"))),o.default.createElement("span",null,o.default.createElement(i.Amount,null,t.get("currentCredit"))),o.default.createElement("span",null,o.default.createElement(i.Amount,null,t.get("yearDebit"))),o.default.createElement("span",null,o.default.createElement(i.Amount,null,t.get("yearCredit")))),o.default.createElement("li",null,o.default.createElement("span",null,o.default.createElement(i.Amount,null,(0,s.numberCalculate)(t.get("closeDebit"),t.get("closeCredit"),2,"subtract")))))}}]),t}())||a;t.default=b},2238:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,l,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(1),o=(l=u)&&l.__esModule?l:{default:l};var c=(0,n(17).immutableRenderDecorator)(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),r(t,[{key:"render",value:function(){var e=this.props.className;return o.default.createElement("div",{className:"table-title-wrap"},o.default.createElement("ul",{className:e},o.default.createElement("li",null,o.default.createElement("span",null,"账户")),o.default.createElement("li",null,o.default.createElement("span",null,"类型")),o.default.createElement("li",null,o.default.createElement("span",null,"期初余额")),o.default.createElement("li",null,o.default.createElement("div",null,o.default.createElement("span",null,"本期收付额"),o.default.createElement("span",null,"本年累计收付额")),o.default.createElement("div",null,o.default.createElement("span",null,"收款额"),o.default.createElement("span",null,"付款额"),o.default.createElement("span",null,"收款额"),o.default.createElement("span",null,"付款额"))),o.default.createElement("li",null,o.default.createElement("span",null,"期末余额"))))}}]),t}())||a;t.default=c},2239:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,n=arguments[1];return((e={},r(e,l.INIT_ACCOUNTYEB,function(){return u}),r(e,l.AFTER_GET_PERIOD_AND_ACCOUNT_YEB_BALANCE_LIST,function(){return t.set("issuedate",n.issuedate).set("endissuedate",n.endissuedate).set("accountBalanceList",(0,a.fromJS)(n.receivedData.accountBalanceList)).set("totalBalance",(0,a.fromJS)(n.receivedData.totalBalance))}),r(e,l.CHANGE_ACCOUNT_YEB_CHOOSE_VALUE,function(){return t.setIn(["views","chooseValue"],n.chooseValue)}),e)[n.type]||function(){return t})()};var a=n(18),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1706));function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=(0,a.fromJS)({views:{chooseValue:"MONTH"},issuedate:"",endissuedate:"",accountBalanceList:{},totalBalance:{}})}}]);