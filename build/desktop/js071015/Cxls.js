(window.webpackJsonp=window.webpackJsonp||[]).push([[60,2,3,24],{1187:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.view=t.reducer=void 0;var a=o(n(2439)),r=o(n(1391)),u=o(n(1334)),i=o(n(1301)),l=o(n(1358)),s=o(n(1335)),c=o(n(1290));function o(e){return e&&e.__esModule?e:{default:e}}var d={accountConfState:u.default,cxlsState:r.default,lrAccountState:i.default,lrCalculateState:l.default,yllsState:s.default,pzBombState:c.default};t.reducer=d,t.view=a.default},1227:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=o(n(176)),u=o(n(174)),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(175),n(173);var l=o(n(1)),s=n(17),c=n(127);function o(e){return e&&e.__esModule?e:{default:e}}n(1232);var d=(0,s.immutableRenderDecorator)(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),i(t,[{key:"render",value:function(){var e=this.props,t=e.pageItem,n=e.onClick,a=l.default.createElement(u.default,null,t.get("pageList").map(function(e,a){return l.default.createElement(u.default.Item,{key:e.get("key")},l.default.createElement("span",{className:"page-switch-item setting-common-ant-dropdown-menu-item",onClick:function(){n(t.get("key"),e.get("name"),e.get("key"))}},e.get("name")))}));return l.default.createElement("div",null,l.default.createElement(r.default,{overlay:a,trigger:["click"]},l.default.createElement("div",{className:"page-switch-button"},l.default.createElement(c.XfnIcon,{type:"Menu"}))))}}]),t}())||a;t.default=d},1232:function(e,t,n){},1239:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getInitLraccountJzsy=t.deleteSingleFlow=t.jumpCommonCharge=t.changeBeforeAmount=t.getManagerCategoryList=t.insertManagerModal=t.setDefineMadalInitState=t.setInvioceMadalInitState=t.setCarryoverMadalInitState=t.setManageMadalInitState=t.changeCxAccountCommonOutString=t.changeCxAccountCommonString=t.changeCurrentPage=t.jumpCalculateCxToLr=t.getBusinessBeforeSwitch=t.insertlrAccountInvioceDefineModal=t.insertlrAccountInvioceModal=t.insertlrAccountJzsyModal=t.insertlrAccountCarryoverModal=t.insertlrAccountManagerModal=t.getBusinessDefineModal=t.getBusinessInvioceModal=t.calculateGainForJzsy=t.getBusinessJzsyModal=t.getBusinessCarryoverModal=t.getBusinessManagerModal=t.getBusinessPayment=t.beforeRunningPayOrReceive=t.currentPz=t.deleteVcItemFetch=t.getAccountDimensionFetch=t.afterModifyAccountAllList=t.changePzCommonString=t.runningInsertVc=t.deleteAccountItemCardAndRunning=t.accountItemCheckboxCheck=t.accountItemCheckboxCheckAll=t.getBusinessList=t.getPeriodAndBusinessList=t.cxlsDownloadEnclosure=void 0;var a=A(n(37)),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};n(38);var u=C(n(1274)),i=A(n(52)),l=n(18),s=n(22),c=C(n(30)),o=C(n(27)),d=C(n(43)),f=C(n(60)),g=C(n(1243)),m=C(n(1245)),p=C(n(1242)),_=C(n(1229)),T=C(n(1249));function C(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function A(e){return e&&e.__esModule?e:{default:e}}t.cxlsDownloadEnclosure=function(e,t){return function(n){n(_.lsDownloadEnclosure(e,t))}},t.getPeriodAndBusinessList=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"allWater",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return function(r,l){r({type:u.SWITCH_LOADING_MASK});var c="allWater"==t?"getRunningBusinessList":"getRunning"+t+"List",f=(l().cxlsState,""===a?1:a);(0,i.default)(c,"POST",JSON.stringify({year:e?e.substr(0,4):"",month:e?e.substr(6,2):"",getPeriod:"true",accountUuid:n,currentPage:f,pageSize:o.CXLS_LIMIE_LENGTH}),function(a){if(r({type:u.SWITCH_LOADING_MASK}),(0,s.showMessage)(a)){var i=a.data.periodDtoJson.openedyear+"年第"+a.data.periodDtoJson.openedmonth+"期",l=e||i,c=a.data.periodDtoJson?r(d.everyTableGetIssuedate(a.data.periodDtoJson)):"";r({type:u.GET_BUSINESS_LIST,receivedData:a.data.result.childList,receivedExtra:a.data.result,period:a.data.periodDtoJson,issuedate:l,getPeriod:"true",issues:c,waterType:t,accountUuid:n,currentPage:f,pageCount:a.data.pageCount})}}),r(p.getRunningAccount())}};var y=t.getBusinessList=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",f=arguments.length>6&&void 0!==arguments[6]&&arguments[6],g=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return function(m,p){m({type:u.SWITCH_LOADING_MASK});var _="allWater"==t?"getRunningBusinessList":"getRunning"+t+"List",T=g&&n?n.split(o.TREE_JOIN_STR)[0]:"",C=p().cxlsState,A=""===r?C.get("currentPage"):r,y=c?C.getIn(["flags","searchType"]):"";(0,i.default)(_,"POST",JSON.stringify({year:e?e.substr(0,4):"",month:e?e.substr(6,2):"",accountUuid:T,getPeriod:"true",orderBy:l,searchType:y,searchContent:c,isAsc:f,currentPage:A,pageSize:o.CXLS_LIMIE_LENGTH,isAccount:g}),function(r){if(m({type:u.SWITCH_LOADING_MASK}),(0,s.showMessage)(r)){var i=r.data.periodDtoJson?m(d.everyTableGetIssuedate(r.data.periodDtoJson)):"";m({type:u.GET_BUSINESS_LIST,receivedData:r.data.result.childList,receivedExtra:r.data.result,period:r.data.periodDtoJson,issuedate:e,issues:i,waterType:t,accountUuid:n,currentPage:A,isAsc:f,orderBy:l,isAccount:g,pageCount:r.data.pageCount,getPeriod:"true"}),r.data.result.msg&&a.default.info(r.data.result.msg)}})}},E=(t.accountItemCheckboxCheckAll=function(e,t){return{type:u.CXLS_ITEM_CHECKBOX_CHECK_ALL,selectAll:e,list:t}},t.accountItemCheckboxCheck=function(e,t){return{type:u.CXLS_ITEM_CHECKBOX_CHECK,checked:e,item:t}},t.deleteAccountItemCardAndRunning=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments[2];return function(r,l){var o=n||l().cxlsState.getIn(["flags","selectList"]),d="reality"==e?"payment":"business",f=l().cxlsState,g=f.getIn(["flags","issuedate"]),m=f.getIn(["flags","mainWater"]),p=f.getIn(["flags","isAsc"]),_=f.getIn(["flags","isAccount"]),T=f.getIn(["flags","curAccountUuid"]);c.Confirm({message:"确定删除？",title:"温馨提示",buttonLabels:["取消","确定"],onSuccess:function(e){1===e.buttonIndex&&(r({type:u.SWITCH_LOADING_MASK}),(0,i.default)("deleteRunning"+d,"POST",JSON.stringify({deleteList:o}),function(e){if((0,s.showMessage)(e)){if(e.message)if(e.data.errorList.length){var n=e.data.errorList.join(",");a.default.error(n)}else a.default.success(e.message);r(y(g,m,T,"","",t,p,_))}r({type:u.SWITCH_LOADING_MASK})}))}})}},t.runningInsertVc=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",l=arguments[4],c=arguments[5],o=arguments[6],d=arguments[7];return function(f,m){var p=m().cxlsState,_=p.get("currentPage"),T=p.getIn(["flags","mainWater"]),C=p.getIn(["flags","curAccountUuid"]),A=p.getIn(["flags","isAsc"]),S=p.getIn(["flags","isAccount"]),L=0;f(E(["flags","pzDealNum"],L)),f(E(["flags","pzDealType"],"insert"));var v=e.sort(function(e,t){return parseInt(e.get("flowNumber"))-parseInt(t.get("flowNumber"))});if(e&&e.size>1)f(E(["flags","pzDealStatus"],!0)),function e(u){var l=0,c=setInterval(function(){l<.9?f(E(["flags","pzDealNum"],L+(l+=.01))):(clearInterval(c),f(E(["flags","pzDealNum"],L)))},100);(0,i.default)("insertRunning"+t+"Vc","POST",JSON.stringify({uuidList:[u]}),function(t){if((0,s.showMessage)(t))if(t.message)if(t.data.result.length){var u=t.data.result.join(",");a.default.error(u),clearInterval(c),f(E(["flags","pzDealStatus"],!1)),f(y(n,T,C,_,"",r,A,S))}else f(E(["flags","pzDealNum"],L+=1)),L<v.size?(clearInterval(c),e(v.getIn([L,"uuid"]))):(clearInterval(c),f(E(["flags","pzDealStatus"],!1)),f(y(n,T,C,_,"",r,A,S)));else clearInterval(c),f(E(["flags","pzDealStatus"],!1));else clearInterval(c),f(E(["flags","pzDealStatus"],!1)),f(y(n,T,C,_,"",r,A,S))})}(v.getIn([0,"uuid"]));else{var N=e.getIn([0,"uuid"]);f({type:u.SWITCH_LOADING_MASK}),(0,i.default)("insertRunning"+t+"Vc","POST",JSON.stringify({uuidList:[N]}),function(e){if(f({type:u.SWITCH_LOADING_MASK}),(0,s.showMessage)(e)&&e.message){if(e.data.result.length){var t=e.data.result.join(",");a.default.error(t)}else a.default.success(e.message);c&&c()||f(I()),l&&f(g.getYllsBusinessData(o,d))}})}}},t.changePzCommonString=function(e,t){return function(n){n({type:u.CHANGE_PZ_COMMON_STRING,name:e,value:t})}}),I=t.afterModifyAccountAllList=function(e){return function(t,n){var a=n().cxlsState,r=a.getIn(["flags","issuedate"]),l=a.getIn(["flags","mainWater"]),c=a.getIn(["flags","curAccountUuid"]),f=a.getIn(["flags","isAccount"]),g=a.getIn(["flags","isAsc"]),m=a.get("currentPage"),p="allWater"==l?"getRunningBusinessList":"getRunning"+l+"List",_=f&&c?c.split(o.TREE_JOIN_STR)[0]:"";t({type:u.SWITCH_LOADING_MASK}),(0,i.default)(p,"POST",JSON.stringify({year:r?r.substr(0,4):"",month:r?r.substr(6,2):"",accountUuid:_,getPeriod:"true",orderBy:"",isAsc:g,currentPage:m,pageSize:o.CXLS_LIMIE_LENGTH,isAccount:f}),function(n){if(t({type:u.SWITCH_LOADING_MASK}),(0,s.showMessage)(n)){var a=n.data.periodDtoJson?t(d.everyTableGetIssuedate(n.data.periodDtoJson)):"";t({type:u.GET_BUSINESS_LIST,receivedData:n.data.result.childList,receivedExtra:n.data.result,period:n.data.periodDtoJson,issuedate:r,issues:a,isReflash:e,waterType:l,isAccount:f,accountUuid:c,currentPage:m,isAsc:g,pageCount:n.data.pageCount,getPeriod:"true"})}})}},S=(t.getAccountDimensionFetch=function(e,t,n,a,r,u,i){return function(l){l(S(e,t,n,a,r,u,i))}},function(e,t,n,a,r,l,c,o){return function(e){(0,i.default)("getRunningSettingInfo","GET","",function(t){(0,s.showMessage)(t)&&e({type:u.GET_CXLSCONF_ALL_SETTINGS,receivedData:t.data})})}}),L=(t.deleteVcItemFetch=function(e,t,n,a,r,l,c,o,d){return function(f,m){var p=m().cxlsState,_=p.get("currentPage"),T=p.getIn(["flags","mainWater"]),C=p.getIn(["flags","isAccount"]),A=p.getIn(["flags","isAsc"]),S=p.getIn(["flags","curAccountUuid"]),L=0;f(E(["flags","pzDealNum"],L)),f(E(["flags","pzDealType"],"delete"));n&&n.length>1?(f(E(["flags","pzDealStatus"],!0)),function u(l){var c=0,o=setInterval(function(){c<.99?f(E(["flags","pzDealNum"],L+(c+=.01))):(clearInterval(o),f(E(["flags","pzDealNum"],L+.99)))},100);(0,i.default)("deletevc","POST",JSON.stringify({year:e,month:t,vcindexlist:[l]}),function(e){(0,s.showMessage)(e,"show")?(L+=1,f(E(["flags","pzDealNum"],Math.floor(L))),L<n.length?(clearInterval(o),u(n[L])):(clearInterval(o),f(E(["flags","pzDealStatus"],!1)),f(y(a,T,S,_,"",r,A,C)))):(clearInterval(o),f(E(["flags","pzDealStatus"],!1)),f(y(a,T,S,_,"",r,A,C)))})}(n[0])):(f({type:u.SWITCH_LOADING_MASK}),(0,i.default)("deletevc","POST",JSON.stringify({year:e,month:t,vcindexlist:n}),function(e){if(f({type:u.SWITCH_LOADING_MASK}),(0,s.showMessage)(e,"show")){var t=m().cxlsState;t.get("currentPage"),t.getIn(["flags","mainWater"]),t.getIn(["flags","curAccountUuid"]),t.getIn(["flags","isAsc"]),t.getIn(["flags","isAccount"]);c&&c()||f(I()),l&&f(g.getYllsBusinessData(o,d))}}))}},t.currentPz=function(e,t,n){return{type:u.SET_CURRENT_PZ,year:e,month:t,vcIndexList:n}},t.beforeRunningPayOrReceive=function(e,t,n,a,r){return function(i){n<0&&(n=-n,e="收"===e?"付":"收"),i({type:u.BEFORE_RUNNING_PAY_OR_RECEIVE,payDirection:e,assList:t,notHandleAmount:n,uuidList:a,runningList:r})}},t.getBusinessPayment=function(e,t,n){return function(a){a({type:u.SWITCH_LOADING_MASK});var r=e.get("uuid");(0,i.default)("getRunningBusiness","GET","uuid="+r,function(r){if(a({type:u.SWITCH_LOADING_MASK}),(0,s.showMessage)(r)){var i=r.data.result,l=void 0,c=i.assList;if(c&&c.length)l=c[0].assId+" "+c[0].assName;else{var o=i.acList;l=o.length?o[0].acFullName:""}a({type:u.INIT_PAYMENT_STATE,item:e,result:i,assName:l,stateType:t,uuidList:n,fromCxls:!0}),a(_.getRunningSettingInfo()),a(_.accountTotalAmount()),a(f.addPageTabPane("EditPanes","LrAccount","LrAccount","录入流水")),a(f.addHomeTabpane("Edit","LrAccount","录入流水"))}})}}),v=(t.getBusinessManagerModal=function(e,t,n){return function(a,r){a({type:u.SWITCH_LOADING_MASK});var c=e.get("uuid"),o=e.get("beOpened"),d=e.get("assType"),f=r().lrCalculateState,g=f.getIn(["calculateTemp","usedCard"]),m=f.getIn(["calculateTemp","cardUuid"]);(0,i.default)("getRunningBusiness","GET","uuid="+c,function(e){a({type:u.SWITCH_LOADING_MASK}),(0,s.showMessage)(e)&&(a(N("runningFlowTemp",(0,l.fromJS)(e.data.result))),a(N(["runningFlowTemp","magenerType"],n)),a(N(["modalTemp","uuidList"],(0,l.fromJS)([{uuid:c,assType:d}]))),a(N(["modalTemp","handlingAmount"],e.data.result.notHandleAmount)),a(N(["modalTemp","runningAbstract"],e.data.result.runningAbstract)),a(N(["modalTemp","beOpened"],o)),a(N(["modalTemp","assType"],d)),o&&(a(N(["modalTemp","usedCard"],g)),a(N(["modalTemp","cardUuid"],m)),a(h(0,d))),t())})}},t.getBusinessCarryoverModal=function(e,t,n){return function(n){n({type:u.SWITCH_LOADING_MASK});var a=e.get("uuid");(0,i.default)("getRunningBusiness","GET","uuid="+a,function(e){if(n({type:u.SWITCH_LOADING_MASK}),(0,s.showMessage)(e)){var a=e.data.result;n(N("runningFlowTemp",(0,l.fromJS)(e.data.result))),n(N(["modalTemp","uuidList"],(0,l.fromJS)([a.uuid]))),n(N(["modalTemp","runningState"],a.runningState)),n(N(["modalTemp","categoryUuid"],a.categoryUuid)),n(N(["modalTemp","runningAbstract"],a.runningAbstract)),n(N(["modalTemp","stockCardList"],a.acBusinessIncome.stockCardList)),t()}})}},t.getBusinessJzsyModal=function(e,t,n){return function(n,a){n({type:u.SWITCH_LOADING_MASK});var c=e.get("uuid");(0,i.default)("getRunningBusiness","GET","uuid="+c,function(e){if(n({type:u.SWITCH_LOADING_MASK}),(0,s.showMessage)(e)){var c=e.data.result;if(n(N("runningFlowTemp",(0,l.fromJS)(e.data.result))),n(N(["modalTemp","uuidList"],(0,l.fromJS)([c.uuid]))),n(N(["modalTemp","runningState"],c.runningState)),n(N(["modalTemp","categoryUuid"],c.categoryUuid)),n(N(["modalTemp","runningAbstract"],c.runningAbstract)),n(N(["modalTemp","amount"],c.amount-c.tax)),n(N(["modalTemp","businessList"],(0,l.fromJS)(r({},e.data.result,{beSelect:!0})))),e.data.result.beProject){var o=a().homeState.getIn(["data","userInfo","sobInfo","sobId"]),d=e.data.result.projectRange;(0,i.default)("getProjectCardList","POST",JSON.stringify({sobId:o,categoryList:d,needCommonCard:!1}),function(e){(0,s.showMessage)(e)&&n(N(["flags","projectList"],(0,l.fromJS)(e.data.result)))})}t()}})}},t.calculateGainForJzsy=function(){return function(e,t){var n=t().cxlsState,a=n.get("modalTemp"),r=n.get("runningFlowTemp"),i=r.get("amount")-r.get("tax"),l=a.getIn(["acAssets","depreciationAmount"])?a.getIn(["acAssets","depreciationAmount"]):0,s=a.getIn(["acAssets","originalAssetsAmount"])?a.getIn(["acAssets","originalAssetsAmount"]):0;console.log(l,s);var c=(Number(s)-Number(l)).toFixed(2),o=Math.abs(c-i).toFixed(2),d=void 0,f=void 0;Number(c)<=i?(d=["modalTemp","netProfitAmount"],f=["modalTemp","lossAmount"]):(d=["modalTemp","lossAmount"],f=["modalTemp","netProfitAmount"]),(s||l)&&e({type:u.CXLS_CALCULATE_GAIN_OR_LOSS,deletePlace:f,place:d,diff:o})}},t.getBusinessInvioceModal=function(e,t,n){return function(n){n({type:u.SWITCH_LOADING_MASK});var a=e.get("uuid");(0,i.default)("getRunningBusiness","GET","uuid="+a,function(e){if(n({type:u.SWITCH_LOADING_MASK}),(0,s.showMessage)(e)){var a=e.data.result,r={STATE_YYSR_TS:"BILL_MAKE_OUT_TYPE_TS",STATE_YYSR_XS:"BILL_MAKE_OUT_TYPE_XS"}[a.runningState];n(N(["modalTemp","uuidList"],(0,l.fromJS)([a.uuid]))),n(N(["modalTemp","categoryUuid"],a.categoryUuid)),n(N(["modalTemp","runningAbstract"],a.runningAbstract)),n(N(["modalTemp","billMakeOutType"],r)),t()}})}},t.getBusinessDefineModal=function(e,t,n){return function(n){n({type:u.SWITCH_LOADING_MASK});var a=e.get("uuid");(0,i.default)("getRunningBusiness","GET","uuid="+a,function(e){if(n({type:u.SWITCH_LOADING_MASK}),(0,s.showMessage)(e)){var a=e.data.result,r={STATE_YYZC_GJ:"BILL_AUTH_TYPE_CG",STATE_YYZC_TG:"BILL_AUTH_TYPE_TG"}[a.runningState]||"BILL_AUTH_TYPE_CG";n(N(["modalTemp","uuidList"],(0,l.fromJS)([a.uuid]))),n(N(["modalTemp","runningAbstract"],a.runningAbstract)),n(N(["modalTemp","categoryUuid"],a.categoryUuid)),n(N(["modalTemp","billAuthType"],r)),t()}})}},t.insertlrAccountManagerModal=function(e,t,n){return function(a,r){var c=r().cxlsState,o=c.get("runningFlowTemp"),d=c.get("modalTemp"),f=d.get("runningDate"),g=d.get("runningAbstract"),m=d.get("accountUuid"),p=d.get("handlingAmount"),_=d.get("beOpened"),T=d.get("uuidList").toJS(),C=_?d.get("cardUuid"):o.getIn([t,"contactsCardRange","uuid"]);a({type:u.SWITCH_LOADING_MASK}),(0,i.default)("insertRunningpayment","POST",JSON.stringify({runningDate:f,runningAbstract:g,accountUuid:m,amount:p,uuidList:T,cardUuid:C,uuid:""}),function(t){a({type:u.SWITCH_LOADING_MASK}),(0,s.showMessage)(t)&&(e(),a(N("modalTemp",(0,l.fromJS)({runningDate:(0,s.formatDate)()}))),a("fromcalCultion"===n?b():I()))})}},t.insertlrAccountCarryoverModal=function(e,t){return function(n,a){var r=a().cxlsState.get("modalTemp"),c=r.get("uuidList"),o=r.get("runningState"),d=r.get("runningDate"),f=r.get("runningAbstract"),g=r.get("stockCardList"),m=r.get("carryoverAmount"),p=[];g&&g.map(function(e){p.push({uuid:e.uuid,amount:m})}),n({type:u.SWITCH_LOADING_MASK}),(0,i.default)("insertCarryoverItem","POST",JSON.stringify({uuidList:c,runningState:o,runningDate:d,cardList:p,runningAbstract:f}),function(a){(0,s.showMessage)(a,"show")&&(e(),n(N("modalTemp",(0,l.fromJS)({runningDate:(0,s.formatDate)()}))),n("fromcalCultion"===t?b():I())),n({type:u.SWITCH_LOADING_MASK})})}},t.insertlrAccountJzsyModal=function(e,t){return function(n,a){var c=a().cxlsState.get("modalTemp").toJS();n({type:u.SWITCH_LOADING_MASK}),(0,i.default)("insertAssetsCleaning","POST",JSON.stringify(r({},c)),function(a){(0,s.showMessage)(a,"show")&&(e(),n(N("modalTemp",(0,l.fromJS)({runningDate:(0,s.formatDate)()}))),n("fromcalCultion"===t?b():I())),n({type:u.SWITCH_LOADING_MASK})})}},t.insertlrAccountInvioceModal=function(e,t){return function(n,a){var r=a().cxlsState.get("modalTemp");n({type:u.SWITCH_LOADING_MASK}),(0,i.default)("insertBusinessMakeoutItem","POST",JSON.stringify(r),function(a){(0,s.showMessage)(a,"show")&&(e(),n(N("modalTemp",(0,l.fromJS)({runningDate:(0,s.formatDate)()}))),n("fromcalCultion"===t?b():I())),n({type:u.SWITCH_LOADING_MASK})})}},t.insertlrAccountInvioceDefineModal=function(e,t){return function(n,a){var r=a().cxlsState.get("modalTemp");n({type:u.SWITCH_LOADING_MASK}),(0,i.default)("insertBusinessAuthItem","POST",JSON.stringify(r),function(a){(0,s.showMessage)(a,"show")&&(e(),n(N("modalTemp",(0,l.fromJS)({runningDate:(0,s.formatDate)()}))),n("fromcalCultion"===t?b():I())),n({type:u.SWITCH_LOADING_MASK})})}},t.getBusinessBeforeSwitch=function(e,t){return function(n){var a=e.get("parentUuid")?e.get("parentUuid"):e.get("uuid"),r=e.get("beBusiness"),u=e.get("runningState");n(r||"STATE_ZZ"===u?"STATE_YYSR_JZCB"===u?v(e,"modify","LB_JZCB"):"STATE_FPRZ_CG"===u||"STATE_FPRZ_TG"===u?v(e,"modify","LB_FPRZ"):"STATE_KJFP_XS"===u||"STATE_KJFP_TS"===u?v(e,"modify","LB_KJFP"):"STATE_ZCWJZZS"===u?v(e,"modify","LB_ZCWJZZS"):"STATE_ZZ"===u?v(e,"modify","LB_ZZ"):"STATE_CQZC_ZJTX"===u?v(e,"modify","LB_ZJTX"):"STATE_GGFYFT"===u?O(e,t):"STATE_CQZC_JZSY"===u?_.getInitLraccountJzsy(e,t):m.getRunningBusinessDuty("",a):L(e))}},t.jumpCalculateCxToLr=function(e,t,n,a){return function(r,l){r({type:u.SWITCH_LOADING_MASK});var c=e.get("parentUuid")?e.get("parentUuid"):e.get("uuid");(0,i.default)("getRunningBusiness","GET","uuid="+c,function(l){(0,s.showMessage)(l)?(0,i.default)("getRunningSettingInfo","GET","",function(i){if((0,s.showMessage)(l)){var c={LB_JZCB:function(){return"COST_TRANSFER_FROM_CXLS_JUMP_TO_LRLS"},LB_FPRZ:function(){return"INVOICE_AUTH_FROM_CXLS_JUMP_TO_LRLS"},LB_KJFP:function(){return"INVOICING_FROM_CXLS_JUMP_TO_LRLS"},LB_ZCWJZZS:function(){return"TRANSFER_OUT_FROM_CXLS_JUMP_TO_LRLS"},LB_ZZ:function(){return"TRANSFER_OUT_FROM_CXLS_JUMP_TO_NBZZ"},LB_ZJTX:function(){return"TRANSFER_OUT_FROM_CXLS_JUMP_TO_ZJTX"}}[n]();r({type:u.GET_ACCOUNTCONF_ALL_SETTINGS,receivedData:i.data}),r({type:u.CALCULATE_FROM_CXLS_JUMP_TO_LRLS,pageType:n,rate:i.data.rate,hideCategoryList:i.data.hideCategoryList}),r({type:u.CALCULATE_CHANGE_QUERY}),r({type:u[c],item:e,receivedData:l.data,insertOrModify:t,fromRefresh:!0,rate:i.data.rate,hideCategoryList:i.data.hideCategoryList,uuidList:a}),r({type:u.SWITCH_LOADING_MASK}),r(f.addPageTabPane("EditPanes","LrAccount","LrAccount","录入流水")),r(f.addHomeTabpane("Edit","LrAccount","录入流水"))}else r({type:u.SWITCH_LOADING_MASK})}):r({type:u.SWITCH_LOADING_MASK})})}}),N=(t.changeCurrentPage=function(e,t){return function(n){n({type:u.CHANGE_CURRENT_PAGE_FZHE,assList:e,value:t})}},t.changeCxAccountCommonString=function(e,t,n){return function(a){var r="string"==typeof t?[e+"Temp",t]:[e+"Temp"].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t));"flags"===t[0]&&(r=t),a({type:u.CHANGE_CX_ACCOUNT_COMMON_STRING,tab:e,placeArr:r,value:n})}},t.changeCxAccountCommonOutString=function(e,t){return function(n){n("string"==typeof e?{type:u.CHANGE_CX_ACCOUNT_COMMON_STRING,place:e,value:t}:{type:u.CHANGE_CX_ACCOUNT_COMMON_STRING,placeArr:e,value:t})}}),h=(t.setManageMadalInitState=function(){return function(e,t){var n=t().calculationState,a=n.getIn(["payManageList","childList"]),r=(n.getIn(["flags","selectDate"]),n.getIn(["flags","selectList"])),u=n.getIn(["calculateTemp","cardUuid"]),i=n.getIn(["calculateTemp","usedCard"]),s=[],c=0;r.forEach(function(e){var t=a.find(function(t){return t.get("uuid")===e}),n=t.get("direction"),r=t.get("flowType"),u=t.get("assType");s.push({uuid:e,assType:u});var i=t.get("notHandleAmount"),l=t.get("runningState");"STATE_YYSR_TS"!==l&&"STATE_YYZC_TG"!==l||(i=-Math.abs(i)),"debit"===n?"FLOW_INADVANCE"===r?c-=Number(i):c+=Number(i):"FLOW_INADVANCE"===r?c+=Number(i):c-=Number(i)}),e(N(["modalTemp","uuidList"],(0,l.fromJS)(s))),e(N(["modalTemp","handlingAmount"],c)),e(N(["modalTemp","cardUuid"],u)),e(N(["modalTemp","usedCard"],i))}},t.setCarryoverMadalInitState=function(){return function(e,t){var n=t().calculationState,a=n.getIn(["flags","selectList"]),r=n.getIn(["calculateTemp","stockUuid"]),u=n.getIn(["flags","costTransferType"]);e(N(["modalTemp","uuidList"],a)),e(N(["modalTemp","runningState"],u)),e(N(["modalTemp","cardList"],(0,l.fromJS)([{uuid:r,amount:""}])))}},t.setInvioceMadalInitState=function(){return function(e,t){var n=t().calculationState,a=n.getIn(["flags","selectList"]),r=n.getIn(["flags","invoicingType"]);e(N(["modalTemp","uuidList"],a)),e(N(["modalTemp","billMakeOutType"],r))}},t.setDefineMadalInitState=function(){return function(e,t){var n=t().calculationState,a=n.getIn(["flags","selectList"]),r=n.getIn(["flags","certifiedType"]);e(N(["modalTemp","uuidList"],a)),e(N(["modalTemp","billAuthType"],r))}},t.insertManagerModal=function(e){return function(t,n){var a=n().cxlsState.get("modalTemp"),r=a.get("runningDate"),c=a.get("runningAbstract"),o=a.get("accountUuid"),d=a.get("cardUuid"),f=a.get("handlingAmount")?Math.abs(a.get("handlingAmount")):0,g=a.get("uuidList").toJS();t({type:u.SWITCH_LOADING_MASK}),(0,i.default)("insertRunningpayment","POST",JSON.stringify({runningDate:r,runningAbstract:c,accountUuid:o,amount:f,uuidList:g,cardUuid:d,uuid:""}),function(n){t({type:u.SWITCH_LOADING_MASK}),(0,s.showMessage)(n)&&(e(),t(N("modalTemp",(0,l.fromJS)({runningDate:(0,s.formatDate)(),uuidList:[]}))),t(b()))})}},t.getManagerCategoryList=function(e,t){return function(n){(0,i.default)("getManagerCategoryList","POST",JSON.stringify({assType:t}),function(t){n(N(["flags","managerCategoryList",e],(0,l.fromJS)(t.data)))})}}),O=(t.changeBeforeAmount=function(e,t,n){return function(a,r){t.split(o.TREE_JOIN_STR)[0];var u=t.split(o.TREE_JOIN_STR)[1],i=t.split(o.TREE_JOIN_STR)[2],s=e.get("uuid");a(N(["modalTemp","uuidList",n],(0,l.fromJS)({beOpened:!0,categoryUuid:i,uuid:s,categoryName:u})))}},t.jumpCommonCharge=function(e,t){return function(n){var a=e.get("uuid");n({type:u.SWITCH_LOADING_MASK}),(0,i.default)("getRunningBusiness","GET","uuid="+a,function(e){n({type:u.SWITCH_LOADING_MASK}),(0,s.showMessage)(e)&&n({type:u.INIT_COMMON_CHARGE_FROM_CXLS,data:e.data.result,uuidList:t,uuid:a}),n(_.getRunningSettingInfo()),n(f.addPageTabPane("EditPanes","LrAccount","LrAccount","录入流水")),n(f.addHomeTabpane("Edit","LrAccount","录入流水"))})}}),b=function(){return function(e,t){var n=t().calculationState,a=n.get("flags"),r=n.getIn(["calculateTemp","cardUuid"]),u=n.getIn(["calculateTemp","stockUuid"]),i=a.get("issuedate"),l=a.get("curCategory"),s=a.get("isCheck"),c=a.get("accountingType"),o=n.get("certificationList"),d=n.get("invoicingList"),f=o.get("billAuthType"),g=d.get("billMakeOutType"),m=n.getIn(["costTransferList","runningState"]);switch(c){case"manages":e(T.getCalculateList(i,c,"",l,r,s,""));break;case"invoicing":e(T.getCalculateInvoicingList(i,l,g,""));break;case"certification":e(T.getCalculateCertificationList(i,l,f,""));break;case"costTransfer":e(T.getCalculateCarryoverList(i,m,"","",u))}}};t.deleteSingleFlow=function(e,t){return function(n){var r=[e];c.Confirm({message:"确定删除？",title:"温馨提示",buttonLabels:["取消","确定"],onSuccess:function(e){1===e.buttonIndex&&(n({type:u.SWITCH_LOADING_MASK}),(0,i.default)("deleteRunningbusiness","POST",JSON.stringify({deleteList:r}),function(e){if((0,s.showMessage)(e)){if(e.message)if(e.data.errorList.length){var r=e.data.errorList.join(",");a.default.error(r)}else a.default.success(e.message);!e.data.errorList.length&&t()}n({type:u.SWITCH_LOADING_MASK})}))}})}},t.getInitLraccountJzsy=function(e,t){return function(n){var a=e.get("uuid");n({type:u.SWITCH_LOADING_MASK}),(0,i.default)("getRunningBusiness","GET","uuid="+a,function(e){n({type:u.SWITCH_LOADING_MASK}),(0,s.showMessage)(e)&&(n({type:u.INIT_JZSY_FROM_CXLS,data:e.data.result,uuidList:t,uuid:a}),e.data.result.beProject&&n(_.getJzsyProjectCardList(e.data.result.projectRange))),n(_.getRunningSettingInfo()),n(f.addPageTabPane("EditPanes","LrAccount","LrAccount","录入流水")),n(f.addHomeTabpane("Edit","LrAccount","录入流水")),n(_.calculateGainForJzsy())})}}},1242:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.saveRegretMessage=t.changeRegretCancle=t.changeRegretAccountCommonString=t.changeRegretAccountAccountName=t.getRegretCategory=t.changeItemDisableStatus=t.disabledCategory=t.enabledCategory=t.swapRunningItem=t.emptyAccountCheck=t.changeDefaultAccount=t.changeCardCheckboxArrOut=t.changeCardCheckboxArr=t.changeAccountConfcCheckboxArr=t.deleteAccountConfAccount=t.deleteAccountConfRunning=t.saveAccountConfTaxRate=t.saveAccountConfAccount=t.saveAccountConfRunningCategory=t.changeAccountConfAccountNumber=t.selectAccountConfMultipleAc=t.selectAccountConfAllAc=t.changeAccountConfRunningCategory=t.changeAccountConfCommonFlagsString=t.changeAccountConfCommonString=t.selectAccountConfUpperCategory=t.accountConfTaxRateSettingScale=t.selectOrUnselectAccountAll=t.accountconfAccountCheckboxCheck=t.accountconfRunningCheckboxCheck=t.accountConfRunningTriangleSwitch=t.closeAccountconfModal=t.beforeModifyaccountConfRunning=t.beforeModifyaccountConfRunningOld=t.beforeInsertAccountConf=t.changeAccountConfCurrentPage=t.getRunningTaxRate=t.getRunningAccount=t.getRunningCategory=void 0;var a=d(n(37)),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};n(38);var u=o(n(1273)),i=d(n(52)),l=n(22),s=o(n(30)),c=n(18);function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}t.getRunningCategory=function(){return function(e){e({type:u.SWITCH_LOADING_MASK}),(0,i.default)("getRunningCategory","GET","",function(t){e({type:u.SWITCH_LOADING_MASK}),(0,l.showMessage)(t)&&e({type:u.GET_RUNNING_CATEGORY,receivedData:t.data})})}},t.getRunningAccount=function(){return function(e){(0,i.default)("getRunningAccount","GET","",function(t){(0,l.showMessage)(t)&&e({type:u.GET_RUNNING_ACCOUNT,receivedData:t.data})})}};var g=t.getRunningTaxRate=function(){return function(e){(0,i.default)("getRunningTaxRate","GET","",function(t){(0,l.showMessage)(t)&&e({type:u.GET_RUNNING_TAX_RATE,receivedData:t.data})})}},m=(t.changeAccountConfCurrentPage=function(e){return{type:u.CHANGE_ACCOUNTCONF_CURRENTPAGE,currentPage:e}},t.beforeInsertAccountConf=function(e,t,n){return function(a){if(t){var r=t.get("uuid");"running"===e?(a({type:u.SWITCH_LOADING_MASK}),(0,i.default)("getRunningDetail","GET","uuid="+r,function(r){if(a({type:u.SWITCH_LOADING_MASK}),(0,l.showMessage)(r)){var i=r.data.result;a({type:u.BEFORE_INSERT_ACCOUNTCONF,currentPage:e,item:t,data:i,insertFrom:n})}})):a({type:u.BEFORE_INSERT_ACCOUNTCONF,currentPage:e,item:t,insertFrom:n})}else a({type:u.BEFORE_INSERT_ACCOUNTCONF,currentPage:e,item:t,insertFrom:n})}}),p=(t.beforeModifyaccountConfRunningOld=function(e,t,n){return{type:u.BEFORE_MODIFY_ACCOUNTCONF_RUNNING_OLD,currentPage:e,item:t,old:n}},t.beforeModifyaccountConfRunning=function(e,t){return function(n){var a=t.get("uuid");(0,i.default)("getRunningDetail","GET","uuid="+a,function(a){if((0,l.showMessage)(a)){var r=a.data.result;n({type:u.BEFORE_MODIFY_ACCOUNTCONF_RUNNING_OLD,currentPage:e,name:r,item:t})}})}},t.closeAccountconfModal=function(){return{type:u.CLOSE_ACCOUNTCONF_MODAL}},t.accountConfRunningTriangleSwitch=function(e,t){return{type:u.ACCOUNTCONF_RUNNING_TRIANGLE_SWITCH,showChild:e,uuid:t}},t.accountconfRunningCheckboxCheck=function(e,t){return{type:u.ACCOUNTCONF_RUNNING_CHECKBOX_CHECK,item:e,upperArr:t}},t.accountconfAccountCheckboxCheck=function(e,t){return{type:u.ACCOUNTCONF_ACCOUNT_CHECKBOX_CHECK,checked:e,uuid:t}},t.selectOrUnselectAccountAll=function(e){return{type:u.SELECT_OR_UNSELECT_ACCOUNT_ALL,selectAll:e}},t.accountConfTaxRateSettingScale=function(e){return{type:u.ACCOUNTCONF_TAX_RATE_SETTING_SCALE,value:e}},t.selectAccountConfUpperCategory=function(e){return{type:u.SELECT_ACCOUNTCONF_UPPER_CATEGORY,value:e}},t.changeAccountConfCommonString=function(e,t,n){return function(a){var r="string"==typeof t?[e+"Temp",t]:[e+"Temp"].concat(f(t));a({type:u.CHANGE_ACCOUNTCONF_COMMON_STRING,placeArr:r,value:n})}},t.changeAccountConfCommonFlagsString=function(e,t){return function(n){var a="string"==typeof e?["flags",e]:["flags"].concat(f(e));n({type:u.CHANGE_ACCOUNTCONF_COMMON_STRING,placeArr:a,value:t})}}),_=t.changeAccountConfRunningCategory=function(e){return function(t){t({type:u.CHANGE_ACCOUNTCONF_COMMON_STRING,placeArr:["runningCategory",0],value:e})}},T=(t.selectAccountConfAllAc=function(e,t,n,a,r){return{type:u.SELECT_ACCOUNTCONF_ALL_AC,acId:e,acFullName:t,asscategorylist:n,tab:a,place:r}},t.selectAccountConfMultipleAc=function(e,t,n,a){return function(r){var i="string"==typeof t?["runningTemp",t]:["runningTemp"].concat(f(t));r({type:u.SELECT_ACCOUNTCONF_MULTIPLE_AC,acList:e,placeArr:i,assList:n,assPlace:a})}}),C=(t.changeAccountConfAccountNumber=function(e,t){return{type:u.CHANGE_ACCOUNTCONF_ACCOUNT_NUMBER,accountType:e,value:t}},t.saveAccountConfRunningCategory=function(e){return function(t,n){t({type:u.SWITCH_LOADING_MASK});var a=n().accountConfState,s=a.getIn(["flags","insertOrModify"]),o=a.get("runningTemp"),d=o.get("parentUuid"),f=o.get("categoryType"),g=o.get("level"),p=o.toJS(),_=A(f);for(var T in _)delete p[_[T]];(0,i.default)(s+"RunningCategory","POST",JSON.stringify(r({},p)),function(n){(0,l.showMessage)(n)&&t(e?m("running",(0,c.fromJS)({uuid:d,level:g})):{type:u.AFTER_UPDATE_ACCOUNTCONF_RUNNING_CATEGORY,receivedData:n.data}),t({type:u.SWITCH_LOADING_MASK})})}},t.saveAccountConfAccount=function(e,t){return function(n,a){n({type:u.SWITCH_LOADING_MASK});var s=a().accountConfState,c=s.getIn(["flags","insertOrModify"]),o=s.get("accountTemp").toJS();(0,i.default)(c+"RunningAccount","POST",JSON.stringify(r({},o)),function(a){(0,l.showMessage)(a)&&(n({type:u.AFTER_UPDATE_ACCOUNTCONF_ACCOUNT,saveAndNew:e,receivedData:a.data}),"fromLrAccount"===t&&n({type:u.CHANGE_LR_ACCOUNT_COMMON_STRING,tab:"",placeArr:["flags","showAccountModal"],value:!1})),n({type:u.SWITCH_LOADING_MASK})})}},t.saveAccountConfTaxRate=function(e){return function(e,t){e({type:u.SWITCH_LOADING_MASK});var n=t().accountConfState,c=(n.getIn(["flags","insertOrModify"]),n.get("taxRateTemp")),o=c.get("scale"),d={};if("small"===o){var f=c.get("payableAcId"),m=c.get("notBillingAcId"),_=c.get("payableRate");d={payableAcId:f,notBillingAcId:m,payableRate:_,scale:o}}else{var T=c.get("inputAcId"),C=c.get("certifiedAcId"),A=c.get("outputAcId"),y=c.get("waitOutputAcId"),E=c.get("turnOutUnpaidAcId"),I=c.get("unpaidAcId"),S=c.get("preAcId"),L=c.get("outputRate");d={inputAcId:T,certifiedAcId:C,outputAcId:A,waitOutputAcId:y,turnOutUnpaidAcId:E,unpaidAcId:I,outputRate:L,scale:o,preAcId:S}}(0,i.default)("canModifyRunningTaxRate","POST",JSON.stringify(r({},d)),function(t){t.data.result.hasBusiness?t.data.result.canModify?(e({type:u.SWITCH_LOADING_MASK}),s.Confirm({message:t.data.result.msg,title:"温馨提示",buttonLabels:["取消","确定"],onSuccess:function(t){1===t.buttonIndex?(0,i.default)("modifyRunningTaxRate","POST",JSON.stringify(r({},d)),function(t){(0,l.showMessage)(t,"show")&&e(p("isTaxQuery",!0))}):e(g())}})):(a.default.error(t.data.result.msg),e(g()),e({type:u.SWITCH_LOADING_MASK})):(0,i.default)("modifyRunningTaxRate","POST",JSON.stringify(r({},d)),function(t){(0,l.showMessage)(t,"show")&&e(p("isTaxQuery",!0)),e({type:u.SWITCH_LOADING_MASK})})})}},t.deleteAccountConfRunning=function(){return function(e,t){var n=t().accountConfState.getIn(["flags","runningSelect"]);0!==n.size&&s.Confirm({message:"确定删除？",title:"温馨提示",buttonLabels:["取消","确定"],onSuccess:function(t){1===t.buttonIndex&&(e({type:u.SWITCH_LOADING_MASK}),(0,i.default)("deleteRunningCategory","POST",JSON.stringify({deleteList:n}),function(t){(0,l.showMessage)(t)&&(a.default.success(t.message),e({type:u.AFTER_UPDATE_ACCOUNTCONF_RUNNING_CATEGORY,receivedData:t.data})),e({type:u.SWITCH_LOADING_MASK})}))}})}},t.deleteAccountConfAccount=function(){return function(e,t){var n=t().accountConfState.getIn(["flags","accountSelect"]);0!==n.size&&s.Confirm({message:"确定删除？",title:"温馨提示",buttonLabels:["取消","确定"],onSuccess:function(t){1===t.buttonIndex&&(e({type:u.SWITCH_LOADING_MASK}),(0,i.default)("deleteRunningAccount","POST",JSON.stringify({deleteList:n}),function(t){(0,l.showMessage)(t)&&e({type:u.AFTER_UPDATE_ACCOUNTCONF_ACCOUNT,receivedData:t.data}),e({type:u.SWITCH_LOADING_MASK})}))}})}},t.changeAccountConfcCheckboxArr=function(e,t){return function(n){var a=[];t.forEach(function(e){switch(e){case"销售费用":a.push("XZ_SALE");break;case"管理费用":a.push("XZ_MANAGE");break;case"财务费用":a.push("XZ_FINANCE")}}),n({type:u.CHANGE_ACCOUNTCONF_PROPERTY,placeArr:e,valArr:a})}},t.changeCardCheckboxArr=function(e,t,n,a){return function(r,i){var l=i().accountConfState.getIn(["runningTemp",e,t]),s=void 0;s=a?l.update(function(e){return e.concat(n)}):l.update(function(e){return e.filter(function(e){return e!==n})});var c=["runningTemp",e,t];r({type:u.CHANGE_ACCOUNTCONF_PROPERTY,placeArr:c,valArr:s})}},t.changeCardCheckboxArrOut=function(e,t,n){return function(a,r){var i=r().accountConfState.getIn(["runningTemp",e]),l=void 0;l=n?i.update(function(e){return e.concat(t)}):i.update(function(e){return e.filter(function(e){return e!==t})});var s=["runningTemp",e];a({type:u.CHANGE_ACCOUNTCONF_PROPERTY,placeArr:s,valArr:l})}},t.changeDefaultAccount=function(e,t,n){return function(a){var r={SX_SHBX:"AC_JT_YFSB",SX_ZFGJJ:"AC_JT_YFGJJ",SX_QTXC:"AC_JT_YFXC",SX_QYSDS:["AC_YFQYSDS","AC_QYSDS"],SX_QTSF:["AC_YFSF","AC_SF"],SX_GRSF:"AC_SDS",SX_FLF:"AC_FLF",SX_GQ:["AC_TZ","AC_TZ_SY"],SX_ZQ:["AC_TZ","AC_TZ_SY"],SX_GDZC:["AC_ZC_ASSETS","AC_ZC_CLEANING","AC_ZC_ZJ"],SX_WXZC:["AC_ZC_ASSETS","AC_ZC_CLEANING","AC_ZC_ZJ"],SX_TZXFDC:["AC_ZC_ASSETS","AC_ZC_CLEANING","AC_ZC_ZJ"]}[t],u=function(e,t,n){var a=e.find(function(e){return e.get("type")===t&&e.get("property")===n});return{acId:a?a.get("acId"):"",acFullName:a?a.get("acFullName"):""}};"SX_GRSF"===t?a(T([u(e,r,t)],[n,"payAc"])):"string"==typeof r?a(T([u(e,r,t)],[n,"accruedAc"])):"SX_QYSDS"===t||"SX_QTSF"===t?(a(T([u(e,r[0],t)],[n,"accruedAc"])),a(T([u(e,r[1],t)],[n,"payAc"]))):"SX_GQ"===t||"SX_ZQ"===t?(a(T([u(e,r[0],t)],[n,"investAc"])),a(T([u(e,r[1],t)],[n,"profitAc"]))):"SX_GDZC"!==t&&"SX_WXZC"!==t&&"SX_TZXFDC"!==t||(a(T([u(e,r[0],t)],[n,"assetsAc"])),a(T([u(e,r[1],t)],[n,"cleaningAc"])),a(T([u(e,r[2],t)],[n,"depreciationAc"])))}},t.emptyAccountCheck=function(e){return function(t){e.forEach(function(e){var n=e.tab,a=e.place,r=e.value,i="string"==typeof a?[n+"Temp",a]:[n+"Temp"].concat(f(a));t({type:u.CHANGE_ACCOUNTCONF_COMMON_STRING,placeArr:i,value:r})})}},t.swapRunningItem=function(e,t){return function(n){n({type:u.SWITCH_LOADING_MASK}),(0,i.default)("runningSwapItem","POST",JSON.stringify({fromCategoryUuid:e,toCategoryUuid:t}),function(e){(0,l.showMessage)(e)&&n(_((0,c.fromJS)(e.data.categoryList[0]))),n({type:u.SWITCH_LOADING_MASK})})}},t.enabledCategory=function(e){return function(t){t({type:u.SWITCH_LOADING_MASK}),(0,i.default)("enabledCategory","POST",JSON.stringify({enabledList:e}),function(n){(0,l.showMessage)(n)&&t(C(e[0],!1)),t({type:u.SWITCH_LOADING_MASK})})}},t.disabledCategory=function(e,t){return function(t){t({type:u.SWITCH_LOADING_MASK}),(0,i.default)("disabledCategory","POST",JSON.stringify({disabledList:e}),function(n){if((0,l.showMessage)(n)){var a=n.data.parentList;t(C(e[0],!0,a))}t({type:u.SWITCH_LOADING_MASK})})}},t.changeItemDisableStatus=function(e,t,n){return function(a,r){var i=r().accountConfState,l=i.getIn(["runningCategory",0,"childList"]),s=i.getIn(["runningCategory",0,"disableList"]),c=[e];t&&n.length&&(c=c.concat(n));var o=function e(n,r,i,l){r&&r.size&&r.find(function(r,s){if(n.find(function(e){return e===r.get("uuid")}))return a({type:u.CHANGE_ITEM_DISABLE_STATUS,placeArr:[].concat(f(i),[s]),disabled:t}),!0;e(n,r.get("childList"),[].concat(f(i),[s,"childList"]),l),e(n,r.get("disableList"),[].concat(f(i),[s,"disableList"]),l)})};o(c,l,["childList"],!0),o(c,s,["disableList"],!0)}}),A=function(e){var t={LB_YYSR:"acBusinessIncome",LB_YYZC:"acBusinessExpense",LB_YYWSR:"acBusinessOutIncome",LB_YYWZC:"acBusinessOutExpense",LB_JK:"acLoan",LB_TZ:"acInvest",LB_ZB:"acCapital",LB_CQZC:"acAssets",LB_FYZC:"acCost",LB_ZSKX:"acTemporaryReceipt",LB_ZFKX:"acTemporaryPay",LB_XCZC:"acPayment",LB_SFZC:"acTax"}[e],n=["acAssets","acBusinessExpense","acBusinessIncome","acBusinessOutExpense","acBusinessOutIncome","acCapital","acCost","acInvest","acLoan","acPayment","acTax","acTemporaryReceipt","acTemporaryPay"];return n.splice(n.indexOf(t),1),n},y=(t.getRegretCategory=function(){return function(e){e({type:u.SWITCH_LOADING_MASK}),(0,i.default)("getRegretCategory","GET","",function(t){(0,l.showMessage)(t)&&e({type:u.GET_REGRET_CATEGORY,receivedData:t.data}),e({type:u.SWITCH_LOADING_MASK})})}},t.changeRegretAccountAccountName=function(e,t,n,a,r,i){return{type:u.CHANGE_REGRET_ACCOUNT_ACCOUNT_NAME,tab:e,placeUUid:t,placeName:n,isBalance:a,isBusiness:r,value:i}},t.changeRegretAccountCommonString=function(e,t,n){return function(a){var r="string"==typeof t?[e+"Temp",t]:[e+"Temp"].concat(f(t));"flags"===t[0]&&(r=t),a({type:u.CHANGE_REGRET_ACCOUNT_COMMON_STRING,tab:e,placeArr:r,value:n})}});t.changeRegretCancle=function(){return{type:u.CHANGE_REGRET_CANCLE}},t.saveRegretMessage=function(){return function(e,t){var n=t().accountConfState,a=n.getIn(["regretTemp","subordinateName"]),r=n.getIn(["regretTemp","categoryUuid"]);e({type:u.SWITCH_LOADING_MASK}),(0,i.default)("saveRegretMessage","POST",JSON.stringify({name:a,uuid:r}),function(t){(0,l.showMessage)(t)?(e({type:u.GET_RUNNING_CATEGORY,receivedData:t.data}),e(y("regret","showConfirmModal",!1))):(e(y("regret","showConfirmModal",!1)),e(y("regret","showModal",!0))),e({type:u.SWITCH_LOADING_MASK})})}}},1243:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cancelYllsVisible=t.getYllsBusinessData=void 0;var a,r=n(52),u=(a=r)&&a.__esModule?a:{default:a},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1270)),l=n(22);t.getYllsBusinessData=function(e,t){return function(n){var a=e.get("parentUuid")?e.get("parentUuid"):e.get("uuid");a&&n({type:i.SWITCH_LOADING_MASK}),a&&(0,u.default)("getRunningBusiness","GET","uuid="+a,function(a){(0,l.showMessage)(a)?(n({type:i.SWITCH_LOADING_MASK}),n({type:i.GET_YLLS_BUSINESS_DATA,item:a.data.result,curItem:e}),t&&t()):n({type:i.SWITCH_LOADING_MASK})})}},t.cancelYllsVisible=function(){return function(e){e({type:i.CANCEL_YLLS_VISIBLE})}}},1245:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.changeItemChildShow=t.deleteRunningVc=t.showRelatePaymentFetch=t.showRelateBusinessFetch=t.modifyRunningPayment=t.getRunningPayment=t.getRunningBusinessDuty=void 0;var a,r=f(n(1278)),u=n(52),i=(a=u)&&a.__esModule?a:{default:a},l=n(18),s=n(22),c=f(n(30)),o=(f(n(27)),f(n(1229))),d=f(n(60));function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}t.getRunningBusinessDuty=function(e,t,n,a,u){return function(u,c){console.log(n);var f=c().accountConfState.get("runningCategory");u({type:r.SWITCH_LOADING_MASK}),(0,i.default)("getRunningBusiness","GET","uuid="+t,function(i){if(u({type:r.SWITCH_LOADING_MASK}),(0,s.showMessage)(i)){var c=i.data.result.categoryUuid,g=(0,l.fromJS)([]);!function e(t){return t.map(function(t){t.get("uuid")===c&&(g=g.push(t)),t.get("childList")&&t.get("childList").size&&e(t.get("childList"))})}(f);var m={LB_YYSR:"acBusinessIncome",LB_YYZC:"acBusinessExpense",LB_YYWSR:"acBusinessOutIncome",LB_YYWZC:"acBusinessOutExpense",LB_JK:"acLoan",LB_TZ:"acInvest",LB_ZB:"acCapital",LB_CQZC:"acAssets",LB_FYZC:"acCost",LB_ZSKX:"acTemporaryReceipt",LB_ZFKX:"acTemporaryPay",LB_XCZC:"acPayment",LB_SFZC:"acTax"}[i.data.result.categoryType],p=i.data.result.runningState,_=i.data.result[m].beManagemented,T=i.data.result[m].contactsRange,C=i.data.result[m].stockRange,A=i.data.result.beProject,y=i.data.result.projectRange,E=i.data.result.propertyCarryover;"STATE_JK_ZFLX"!==p&&"STATE_TZ_SRGL"!==p&&"STATE_TZ_SRLX"!==p&&"STATE_ZB_ZFLR"!==p&&"STATE_XC_JN"!==p&&"STATE_XC_FF"!==p&&"STATE_SF_JN"!==p&&"STATE_ZS_TH"!==p&&"STATE_ZF_SH"!==p&&"STATE_SF_SFJM"!==p||u(o.changeLrAccountCommonString("",["flags","specialStateforAccrued"],!0)),u(o.getRunningSettingInfo()),u(d.addPageTabPane("EditPanes","LrAccount","LrAccount","录入流水")),u(d.addHomeTabpane("Edit","LrAccount","录入流水")),u({type:r.INIT_LR_ACCOUNT,strJudgeType:"fromCxAccount",receivedData:i.data,category:g,canMakeVc:a,flowNumber:e,uuidList:n,uuid:t}),"STATE_CQZC_JZSY"===p&&u(o.calculateGain()),A&&u(o.getProjectCardList(y,i.data.result)),_&&u(o.getFirstContactsCardList(T,p)),"SX_HW"===E&&u(o.getFirstStockCardList(C,p))}})}},t.getRunningPayment=function(e,t){return function(n){n({type:r.SWITCH_LOADING_MASK}),(0,i.default)("getRunningPayment","GET","uuid="+e,function(e){n({type:r.SWITCH_LOADING_MASK}),(0,s.showMessage)(e)&&(t(),n({type:r.SHOW_RELATE_PAYMENT_FETCH,receivedData:e.data.result}))})}},t.modifyRunningPayment=function(){return{type:r.MODIFY_RUNNING_PAYMENT}},t.showRelateBusinessFetch=function(e,t){return function(n){n({type:r.SWITCH_LOADING_MASK}),(0,i.default)("getRunningBusinessDuty","GET","uuid="+e,function(e){n({type:r.SWITCH_LOADING_MASK}),(0,s.showMessage)(e)&&(t(),n({type:r.SHOW_RELATE_PAYMENT_FETCH,receivedData:e.data.result}))})}},t.showRelatePaymentFetch=function(e,t){return function(n){n({type:r.SWITCH_LOADING_MASK}),(0,i.default)("getRunningPayment","GET","uuid="+e,function(e){n({type:r.SWITCH_LOADING_MASK}),(0,s.showMessage)(e)&&(t(),n({type:r.SHOW_RELATE_PAYMENT_FETCH,receivedData:e.data.result}))})}},t.deleteRunningVc=function(e,t){return function(n,a){c.Confirm({message:"确定删除？",title:"温馨提示",buttonLabels:["取消","确定"],onSuccess:function(u){1===u.buttonIndex&&(n({type:r.SWITCH_LOADING_MASK}),(0,i.default)("deletevc","POST",JSON.stringify({year:t.substr(0,4),month:t.substr(5,2),vcindexlist:[e]}),function(e){if(n({type:r.SWITCH_LOADING_MASK}),(0,s.showMessage)(e)){var t=a().accountState,u=t.getIn(["flags","issuedate"]),i=t.getIn(["flags","main"]),l=t.getIn(["flags","curCategory"]),c=t.getIn(["flags","curAccountUuid"]),o=t.getIn(["flags","assId"]),d=t.getIn(["flags","assCategory"]),f=t.getIn(["flags","acId"]);n(getAccountDimensionFetch(u,i,l,c,f,d,o))}}))}})}},t.changeItemChildShow=function(e){return{type:r.CHANGE_ITEM_CHILD_SHOW,idx:e}}},1246:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SWITCH_LOADING_MASK="SWITCH_LOADING_MASK",t.INIT_PZ_BOMB="INIT_PZ_BOMB",t.PZBOMB_REVIEWEDBY_VC="PZBOMB_REVIEWEDBY_VC",t.CANCEL_PZBOMB_REVIEWEDBY_VC="CANCEL_PZBOMB_REVIEWEDBY_VC"},1249:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.changeItemChildShow=t.deleteRunningVc=t.showRelatePaymentFetch=t.showRelateBusinessFetch=t.modifyRunningPayment=t.getRunningPayment=t.getRunningBusinessDuty=t.deleteAccountItemCardAndRunning=t.accountItemCheckboxCheckAll=t.accountItemCheckboxCheck=t.saveAccountPayOrReceive=t.oneClickPayment=t.beforeRunningPayOrReceive=t.changeAccountAccountName=t.changeAccountCommonString=t.afterModifyAccountAllList=t.changeSearchType=t.changeCalculateCommonString=t.getFirstStockCardList=t.getAccountObjectList=t.getCostCategoryListInfo=t.getAuthCategoryListInfo=t.getMakeoutCategoryListInfo=t.getManageCategoryListInfo=t.getCalculateCarryoverList=t.getCalculateCertificationList=t.getCalculateInvoicingList=t.getCalculateList=t.getPeriodCalculateList=void 0;var a,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u=m(n(1277)),i=n(52),l=(a=i)&&a.__esModule?a:{default:a},s=n(22),c=m(n(30)),o=n(18),d=m(n(60)),f=m(n(43)),g=m(n(1229));function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.getPeriodCalculateList=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"manages",n=arguments[2];arguments[3],arguments[4];return function(a){a({type:u.SWITCH_LOADING_MASK}),a(L(e));(0,l.default)("getManageList","POST",JSON.stringify({year:e?e.substr(0,4):"",month:e?e.substr(6,2):"",categoryUuid:"",cardUuid:"",isCheck:!1,getPeriod:n}),function(e){if((0,s.showMessage)(e)){var n;a(f.AccountTableGetPeriod(e));a((p(n={type:u.GET_CALCULATE_LIST,receivedData:e.data.result,period:e.data.periodDtoJson,issuedate:"",getPeriod:"true",isCheck:!1,categoryUuid:""},"isCheck",!1),p(n,"searchType","SEARCH_TYPE_DATE"),p(n,"accountingType",t),n))}a({type:u.SWITCH_LOADING_MASK})})}};var _=t.getCalculateList=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"manages",n=(arguments[2],arguments[3]),a=arguments[4],r=arguments[5],i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"",c=arguments[7];return function(o,d){o({type:u.SWITCH_LOADING_MASK});var f=d().calculationState,g=i?f.getIn(["flags","searchType"]):"";t=t||f.getIn(["flags","accountingType"]),r=(!0===r||!1===r)&&r,(0,l.default)("getManageList","POST",JSON.stringify({year:e?e.substr(0,4):"",month:e?e.substr(6,2):"",categoryUuid:n?"全部"===n?"":n:f.getIn(["flags","categoryUuid"]),cardUuid:a,isCheck:r,getPeriod:"",searchType:g,searchContent:i}),function(a){o({type:u.SWITCH_LOADING_MASK}),(0,s.showMessage)(a)&&(g=""==g?"SEARCH_TYPE_DATE":g,o({type:u.GET_CALCULATE_LIST,receivedData:a.data.result,period:a.data.periodDtoJson,issuedate:e,getPeriod:"",isCheck:r,searchType:g,curCategory:n,accountingType:t}))}),c||o(y("",a,r))}},T=t.getCalculateInvoicingList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments[4];return function(i,c){i({type:u.SWITCH_LOADING_MASK});var o=c().calculationState,d=a?o.getIn(["flags","searchType"]):"";(0,l.default)("getBusinessMakeoutList","POST",JSON.stringify({runningDate:"",categoryUuid:t?"全部"===t?"":t:o.getIn(["flags","categoryUuid"]),billMakeOutType:n,searchType:d,searchContent:a}),function(a){i({type:u.SWITCH_LOADING_MASK}),(0,s.showMessage)(a)&&(d=""==d?"SEARCH_TYPE_DATE":d,i({type:u.GET_CALCULATE_INVOICING_LIST,receivedData:a.data.result,curCategory:t,billMakeOutType:n,searchType:d,runningDate:e}))}),r||i(E("",n))}},C=t.getCalculateCertificationList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments[4];return function(i,c){i({type:u.SWITCH_LOADING_MASK});var o=c().calculationState,d=a?o.getIn(["flags","searchType"]):"";(0,l.default)("getBusinessAuthList","POST",JSON.stringify({runningDate:"",categoryUuid:t?"全部"===t?"":t:o.getIn(["flags","categoryUuid"]),billAuthType:n,searchType:d,searchContent:a}),function(a){i({type:u.SWITCH_LOADING_MASK}),(0,s.showMessage)(a)&&(d=""==d?"SEARCH_TYPE_DATE":d,i({type:u.GET_CALCULATE_CERTIFICATE_LIST,receivedData:a.data.result,curCategory:t,billAuthType:n,searchType:d,runningDate:e}))}),r||i(I("",n))}},A=t.getCalculateCarryoverList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments[3],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";return function(i,c){i({type:u.SWITCH_LOADING_MASK}),i(v(e,t));var o=c().calculationState,d=""===r?[]:[r],f=n?o.getIn(["flags","searchType"]):"";(0,l.default)("getCarryoverList","POST",JSON.stringify({runningDate:"",runningState:t,searchType:f,searchContent:n,cardUuidList:d}),function(n){i({type:u.SWITCH_LOADING_MASK}),(0,s.showMessage)(n)&&(f=""==f?"SEARCH_TYPE_DATE":f,i({type:u.GET_CALCULATE_COST_LIST,receivedData:n.data.result,runningState:t,searchType:f,runningDate:e}))}),a||i(S("",t))}},y=t.getManageCategoryListInfo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(a,r){(0,l.default)("getRunningManageCategory","POST",JSON.stringify({runningDate:e,cardUuid:t,isCheck:n}),function(e){(0,s.showMessage)(e)&&a({type:u.GET_MANAGE_CATEGORY_DETAIL,receivedData:e.data,isCheck:n})})}},E=t.getMakeoutCategoryListInfo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(n,a){(0,l.default)("getRunningMakeoutCategory","POST",JSON.stringify({runningDate:e,billMakeOutType:t}),function(e){(0,s.showMessage)(e)&&n({type:u.GET_MANAGE_CATEGORY_DETAIL,receivedData:e.data})})}},I=t.getAuthCategoryListInfo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(n,a){(0,l.default)("getRunningAuthCategory","POST",JSON.stringify({runningDate:e,billAuthType:t}),function(e){(0,s.showMessage)(e)&&n({type:u.GET_MANAGE_CATEGORY_DETAIL,receivedData:e.data})})}},S=t.getCostCategoryListInfo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(n,a){(0,l.default)("getRunningCarryoverCategory","POST",JSON.stringify({runningDate:e,runningState:t}),function(e){(0,s.showMessage)(e)&&n({type:u.GET_MANAGE_CATEGORY_DETAIL,receivedData:e.data})})}},L=t.getAccountObjectList=function(e){return function(e){(0,l.default)("getBusinessManagerCardList","POST",JSON.stringify({}),function(t){(0,s.showMessage)(t)&&(e(N("calculate","cardList",(0,o.fromJS)(t.data.cardList))),t.data.categoryList&&e(N("calculate","typeList",(0,o.fromJS)(t.data.categoryList))))})}},v=t.getFirstStockCardList=function(e,t){return function(n,a){a().homeState.getIn(["data","userInfo","sobInfo","sobId"]);(0,l.default)("getCostStock","POST",JSON.stringify({runningDate:e,runningState:t}),function(e){(0,s.showMessage)(e)&&n(N("calculate","stockThingsList",(0,o.fromJS)(e.data.result)))})}},N=t.changeCalculateCommonString=function(e,t,n){return function(a){var r="string"==typeof t?[e+"Temp",t]:[e+"Temp"].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t));"flags"===t[0]&&(r=t),a({type:u.CHANGE_CALCULATE_COMMON_STRING,tab:e,placeArr:r,value:n})}},h=(t.changeSearchType=function e(t,n){return function(a){switch(n){case"manages":a(_()),a(e(["calculateTemp","usedCard"],(0,o.fromJS)({name:"",code:"全部"})));break;case"invoicing":a(T());break;case"certification":a(C());break;case"costTransfer":a(A()),a(e(["calculateTemp","stockCard"],(0,o.fromJS)({name:"",code:"全部"})))}a({type:u.CHANGE_TYPE_OF_SEARCH,placeArr:t,value:n})}},t.afterModifyAccountAllList=function(e){return function(e,t){var n=t().calculationState,a=n.getIn(["flags","issuedate"]),r=n.getIn(["flags","accountingType"]),u=n.getIn(["flags","curCategory"]),i=(n.getIn(["calculateTemp","ass","assid"]),n.getIn(["calculateTemp","ass","asscategory"]),n.getIn(["calculateTemp","ass","acId"]),n.getIn(["calculateTemp","cardUuid"])),l=n.getIn(["flags","isCheck"]),s=n.getIn(["invoicingList","billMakeOutType"]),c=n.getIn(["certificationList","billAuthType"]),o=n.getIn(["costTransferList","runningState"]);switch(r){case"manages":e(_(a,r,"true",u,i,l));break;case"invoicing":e(T("",u,s));break;case"certification":e(C("",u,c));break;case"costTransfer":e(A("",o))}}}),O=(t.changeAccountCommonString=function(e,t,n){return{type:u.CHANGE_ACCOUNT_COMMON_STRING,tab:e,place:t,value:n}},t.changeAccountAccountName=function(e,t,n,a){return{type:u.CHANGE_ACCOUNT_ACCOUNT_NAME,tab:e,placeUUid:t,placeName:n,value:a}},t.beforeRunningPayOrReceive=function(e,t,n,a,r){return function(i){n<0&&(n=-n,e="收"===e?"付":"收"),i({type:u.BEFORE_RUNNING_PAY_OR_RECEIVE,payDirection:e,assList:t,notHandleAmount:n,uuidList:a,runningList:r})}});t.oneClickPayment=function(e){return function(t,n){var a=n().calculationState,r=a.getIn(["flags","selectList"]),u=a.getIn(["payManageList","childList"]),i=a.getIn(["flags","assId"]),l=a.getIn(["flags","assCategory"]),s=a.getIn(["flags","acId"]),c=a.get("mediumAcAssList"),d="";s?c.get("acList").forEach(function(e){e.get("acId")===s&&(d=e.get("acName"))}):c.get("category").forEach(function(e){e.get("category")===l&&e.get("assList").forEach(function(e){e.get("assId")===i&&(d=e.get("assName"))})});var f=(0,o.fromJS)([]),g=(0,o.fromJS)([]),m=(0,o.fromJS)([]),p=(0,o.fromJS)([]);if(u.forEach(function(e){r.indexOf(e.get("uuid"))>-1&&(m=m.push(e),p=p.push(e.get("uuid")),"income"===e.get("property")||"otherIncome"===e.get("property")?g=g.push(e):f=f.push(e))}),g.size&&f.size){var _=0,T=0;g.forEach(function(e){return _+=e.get("notHandleAmount")}),f.forEach(function(e){return T+=e.get("notHandleAmount")});var C=_-T;if(C>0){t(O("收",d,C,p,m))}else{t(O("付",d,-C,p,m))}e()}else if(g.size&&!f.size){var A="收",y=0;g.forEach(function(e){y+=e.get("notHandleAmount"),p.push(e.get("uuid"))}),y<0&&(A="付",y=-y),t(O(A,d,y,p,m)),e()}else if(!g.size&&f.size){var E="付",I=0;f.forEach(function(e){I+=e.get("notHandleAmount"),p.push(e.get("uuid"))}),I<0&&(E="收",I=-I),t(O(E,d,I,p,m)),e()}else console.log("异常情况：未匹配")}},t.saveAccountPayOrReceive=function(e){return function(t,n){var a=n().calculationState,u=a.getIn(["flags","runningInsertOrModify"]),i=a.get("runningTemp").toJS();(0,l.default)(u+"Runningpayment","POST",JSON.stringify(r({},i)),function(n){(0,s.showMessage)(n)&&(t(h()),e())})}},t.accountItemCheckboxCheck=function(e,t,n){return{type:u.ACCOUNT_ITEM_CHECKBOX_SELECT,checked:e,uuid:t,runningDate:n}},t.accountItemCheckboxCheckAll=function(e,t){return{type:u.PAY_RECEIVE_ITEM_CHECKBOX_CHECK_ALL,selectAll:e,listName:t}},t.deleteAccountItemCardAndRunning=function(e){return function(e,t){var n=t().calculationState.getIn(["flags","selectList"]);c.Confirm({message:"确定删除？",title:"温馨提示",buttonLabels:["取消","确定"],onSuccess:function(t){1===t.buttonIndex&&(e({type:u.SWITCH_LOADING_MASK}),(0,l.default)("deleteRunningbusiness","POST",JSON.stringify({deleteList:n}),function(t){if((0,s.showMessage)(t)){if(t.data.errorList.length){var n=t.data.errorList.reduce(function(e,t){return e+","+t});c.Alert(n)}e(h())}e({type:u.SWITCH_LOADING_MASK})}))}})}},t.getRunningBusinessDuty=function(e,t,n,a){return function(a,r){var i=r().accountConfState.get("runningCategory");a({type:u.SWITCH_LOADING_MASK}),(0,l.default)("getNewRunningBusiness","GET","oriUuid="+t,function(t){if(a({type:u.SWITCH_LOADING_MASK}),(0,s.showMessage)(t)){var r=t.data.result.categoryUuid,l=(0,o.fromJS)([]);!function e(t){return t.map(function(t){t.get("uuid")===r&&(l=l.push(t)),t.get("childList")&&t.get("childList").size&&e(t.get("childList"))})}(i);var c=t.data.result.runningState;"STATE_JK_ZFLX"!==c&&"STATE_TZ_SRGL"!==c&&"STATE_TZ_SRLX"!==c&&"STATE_ZB_ZFLR"!==c&&"STATE_ZS_TH"!==c&&"STATE_ZF_SH"!==c||a(g.changeLrAccountCommonString("",["flags","specialStateforAccrued"],!0)),a(g.getRunningSettingInfo()),a(d.addPageTabPane("EditPanes","LrAccount","LrAccount","录入流水")),a(d.addHomeTabpane("Edit","LrAccount","录入流水")),a({type:u.INIT_LR_ACCOUNT,strJudgeType:"fromCxAccount",receivedData:t.data,category:l,canMakeVc:n,flowNumber:e}),"STATE_CQZC_JZSY"===c&&a(g.calculateGain())}})}},t.getRunningPayment=function(e,t){return function(n){n({type:u.SWITCH_LOADING_MASK}),(0,l.default)("getRunningPayment","GET","uuid="+e,function(e){n({type:u.SWITCH_LOADING_MASK}),(0,s.showMessage)(e)&&(t(),n({type:u.SHOW_RELATE_PAYMENT_FETCH,receivedData:e.data.result}))})}},t.modifyRunningPayment=function(){return{type:u.MODIFY_RUNNING_PAYMENT}},t.showRelateBusinessFetch=function(e,t){return function(n){n({type:u.SWITCH_LOADING_MASK}),(0,l.default)("getRunningBusinessDuty","GET","uuid="+e,function(e){n({type:u.SWITCH_LOADING_MASK}),(0,s.showMessage)(e)&&(t(),n({type:u.SHOW_RELATE_PAYMENT_FETCH,receivedData:e.data.result}))})}},t.showRelatePaymentFetch=function(e,t){return function(n){n({type:u.SWITCH_LOADING_MASK}),(0,l.default)("getRunningPayment","GET","uuid="+e,function(e){n({type:u.SWITCH_LOADING_MASK}),(0,s.showMessage)(e)&&(t(),n({type:u.SHOW_RELATE_PAYMENT_FETCH,receivedData:e.data.result}))})}},t.deleteRunningVc=function(e,t){return function(n,a){c.Confirm({message:"确定删除？",title:"温馨提示",buttonLabels:["取消","确定"],onSuccess:function(r){1===r.buttonIndex&&(n({type:u.SWITCH_LOADING_MASK}),(0,l.default)("deletevc","POST",JSON.stringify({year:t.substr(0,4),month:t.substr(5,2),vcindexlist:[e]}),function(e){if(n({type:u.SWITCH_LOADING_MASK}),(0,s.showMessage)(e)){var t=a().calculationState,r=t.getIn(["flags","issuedate"]),i=t.getIn(["flags","main"]),l=t.getIn(["flags","curCategory"]),c=(t.getIn(["flags","curAccountUuid"]),t.getIn(["flags","assId"]),t.getIn(["flags","assCategory"]),t.getIn(["flags","acId"]),t.getIn(["flags","isCheck"])),o=t.getIn(["calculateTemp","cardUuid"]);n(_(r,i,"",l,o,c))}}))}})}},t.changeItemChildShow=function(e){return{type:u.CHANGE_ITEM_CHILD_SHOW,idx:e}}},1250:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r,u,i=T(n(14)),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(78);var s=T(n(1)),c=T(n(0)),o=n(18),d=n(17);n(1258);var f=_(n(30)),g=T(n(1260)),m=T(n(1264)),p=_(n(60));function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function T(e){return e&&e.__esModule?e:{default:e}}var C=(0,d.immutableRenderDecorator)((u=r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={rotate:0,magnificationRate:1,imgWpercent:0,idx:""},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),l(t,[{key:"componentDidMount",value:function(){this.props.dispatch(p.setDdConfig())}},{key:"componentWillReceiveProps",value:function(e,t){0==this.props.preview&&1==e.preview&&this.setState({rotate:0,magnificationRate:1,imgWpercent:0,idx:e.page,maxLimit:40,minLimit:40})}},{key:"render",value:function(){var e=this,t=this.props,n=t.preview,a=t.downloadPermission,r=t.previewImgArr,u=t.closePreviewModal,l=t.downloadEnclosure,c=t.dispatch,o=(t.page,t.type,t.uploadKeyJson,this.state),d=o.idx,p=o.rotate,_=o.magnificationRate,T=o.imgWpercent,C=o.maxLimit,A=o.minLimit,y=r.get(d);return s.default.createElement("div",{className:"preview",style:{display:n?"":"none"},onClick:function(e){}},s.default.createElement("div",{className:"nav"},s.default.createElement("button",{onClick:function(){return e.setState({idx:d-1,imgWpercent:0,rotate:0})},disabled:0==d},s.default.createElement(i.default,{type:"left-circle"}),s.default.createElement("div",null,"上一张")),s.default.createElement("button",{disabled:y&&"TRUE"!==y.get("imageOrFile"),onClick:function(){return e.setState({rotate:p+90})}},s.default.createElement(i.default,{type:"reload"}),s.default.createElement("div",null,"旋转")),y&&"application/pdf"===y.get("mimeType")?s.default.createElement("button",{disabled:.5===_,onClick:function(){e.setState({magnificationRate:_-.5})}},s.default.createElement(i.default,{type:"zoom-out"}),s.default.createElement("div",null,"缩小")):s.default.createElement("button",{disabled:-A>=T,onClick:function(){e.setState({imgWpercent:T-10})}},s.default.createElement(i.default,{type:"minus-circle"}),s.default.createElement("div",null,"缩小")),y&&"application/pdf"==y.get("mimeType")?s.default.createElement("button",{disabled:_>=4||"application/pdf"!==y.get("mimeType"),onClick:function(){e.setState({magnificationRate:_+.5})}},s.default.createElement(i.default,{type:"zoom-in"}),s.default.createElement("div",null,"放大")):s.default.createElement("button",{disabled:T>=C,onClick:function(){e.setState({imgWpercent:T+10})}},s.default.createElement(i.default,{type:"plus-circle"}),s.default.createElement("div",null,"放大")),s.default.createElement("button",{disabled:!a},a?s.default.createElement("span",{onClick:function(){return l(r.getIn([d,"signedUrl"]),r.getIn([d,"fileName"]))}},s.default.createElement(i.default,{type:"download"}),s.default.createElement("div",null,"下载")):s.default.createElement("a",null,s.default.createElement(i.default,{type:"download"}),s.default.createElement("div",null,"下载"))),s.default.createElement("button",{disabled:!(y&&"application/pdf"==y.get("mimeType")),onClick:function(){y&&"application/pdf"==y.get("mimeType")&&f.openLink({url:r.getIn([d,"signedUrl"])})}},s.default.createElement(i.default,{type:"printer"}),s.default.createElement("div",null,"打印")),s.default.createElement("button",{onClick:function(){return e.setState({idx:d+1,imgWpercent:0,rotate:0})},disabled:d===r.size-1},s.default.createElement(i.default,{type:"right-circle"}),s.default.createElement("div",null,"下一张"))),y&&"TRUE"===y.get("imageOrFile")&&n?s.default.createElement(m.default,{imgUrl:""+y.get("signedUrl"),imgWpercent:T,rotate:p,preview:n,maxLimit:C,minLimit:A}):"",y&&"application/pdf"===y.get("mimeType")&&n?s.default.createElement(g.default,{pdfUrl:""+y.get("signedUrl"),dispatch:c,magnificationRate:_,preview:n}):"",s.default.createElement("div",{className:"img-box",style:{display:y&&"application/pdf"!==y.get("mimeType")&&"TRUE"!==y.get("imageOrFile")?"":"none"}},s.default.createElement("div",{className:"img-box-contain"},s.default.createElement("div",{className:"img-box-contain-overflow"},s.default.createElement("div",{className:"noSupport"},s.default.createElement(i.default,{type:"file"}),s.default.createElement("p",null,"仅图片及PDF格式支持预览"))))),s.default.createElement("div",{className:"btnBar"},s.default.createElement("div",{className:"title"},"预览"),s.default.createElement("div",{onClick:u,className:"closeBtn"},s.default.createElement(i.default,{type:"close"}))))}}]),t}(),r.displayName="EnclosurePreview",r.propTypes={preview:c.default.bool,downloadPermission:c.default.bool,previewImgArr:c.default.instanceOf(o.List),closePreviewModal:c.default.func,dispatch:c.default.func,page:c.default.number,type:c.default.string},a=u))||a;t.default=C},1258:function(e,t,n){},1260:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r,u,i=m(n(14)),l=m(n(37)),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(78),n(38);var c=m(n(1)),o=m(n(0)),d=n(17);n(1261);n(127),g(n(30));var f=g(n(1263));function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function m(e){return e&&e.__esModule?e:{default:e}}var p=(0,d.immutableRenderDecorator)((u=r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderPdf=function(e){var t=document.getElementById("canvas_wrapper");t.innerHTML="";var a=atob(e),r=window.PDFJS;if(!r)return n.setState({networkFaild:!0}),l.default.info("网路问题导致PDF预览相关文件加载失败",2);if(r.cMapUrl="https://cdn.jsdelivr.net/npm/pdfjs-dist@2.0.288/cmaps/",r.cMapPacked=!0,!r.getDocument)return n.setState({networkFaild:!0}),l.default.info("网路问题导致PDF预览相关文件加载失败",2);var u=r.getDocument({data:a}),i=n;u.promise.then(function(e){var n="";e.numPages;for(var a=0;a<e.numPages;a++)(n=document.createElement("canvas")).id="pdf_canvas_"+a,t.appendChild(n);for(var r=function(t){e.getPage(t+1).then(function(e){var n=e.getViewport(i.props.magnificationRate),a=document.getElementById("pdf_canvas_"+t);a.width=n.width,a.height=n.height;var r=a.getContext("2d");return e.render({canvasContext:r,viewport:n}).promise})},u=0;u<e.numPages;u++)r(u)}).catch(function(e){document.getElementById("canvas_wrapper").innerHTML="",i.setState({broken:!0})})},n.state={base64:"",broken:!1,networkFaild:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.default.Component),s(t,[{key:"componentDidMount",value:function(){var e=this;this.props.dispatch(f.getCxpzUploadEnclosure(this.props.pdfUrl,function(t){t&&(e.setState({base64:t,broken:!1}),e.renderPdf(t))}))}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.props.magnificationRate!==e.magnificationRate&&this.renderPdf(this.state.base64),this.props.pdfUrl!==e.pdfUrl&&this.props.dispatch(f.getCxpzUploadEnclosure(e.pdfUrl,function(e){e&&(t.setState({base64:e,broken:!1,networkFaild:!1}),t.renderPdf(e))}))}},{key:"render",value:function(){var e=this.props,t=(e.pdfUrl,e.dispatch,e.magnificationRate,this.state),n=t.broken,a=t.networkFaild;return c.default.createElement("div",{className:"img-box"},c.default.createElement("div",{className:"img-box-contain"},c.default.createElement("div",{className:"pdf-box-contain-overflow"},c.default.createElement("div",{className:"pdf_canvas_main"},c.default.createElement("div",{className:"pdf_canvas_pdf"},c.default.createElement("div",{id:"canvas_wrapper"}))),n?c.default.createElement("div",{className:"noSupport"},c.default.createElement(i.default,{type:"file"}),c.default.createElement("p",null,"PDF文件损坏，无法预览")):"",a?c.default.createElement("div",{className:"noSupport"},c.default.createElement(i.default,{type:"file"}),c.default.createElement("p",null,"网络异常，无法预览")):"")))}}]),t}(),r.displayName="PdfPreview",r.propTypes={pdfUrl:o.default.string,dispatch:o.default.func,magnificationRate:o.default.number},a=u))||a;t.default=p},1261:function(e,t,n){},1263:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCxpzUploadEnclosure=void 0;var a,r=n(31),u=(a=r)&&a.__esModule?a:{default:a},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1246)),l=(n(18),n(22));t.getCxpzUploadEnclosure=function(e,t){return function(n){n({type:i.SWITCH_LOADING_MASK}),e.indexOf("xfn-ddy-annex-bucket.oss-accelerate")>0&&(e=e.replace("xfn-ddy-annex-bucket.oss-accelerate","xfn-ddy-annex-bucket.oss-cn-hangzhou-internal")),(0,u.default)("uploadGetEnclosure","POST",JSON.stringify({enclosureUrl:e}),function(e){(0,l.showMessage)(e)?t(e.data.enclosureFile):t(""),n({type:i.SWITCH_LOADING_MASK})})}}},1264:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r,u,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=c(n(1)),s=c(n(0));function c(e){return e&&e.__esModule?e:{default:e}}var o=(0,n(17).immutableRenderDecorator)((u=r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.drawImgScal=function(e,t,a,r){var u,i,l,s,c,o=t/100,d=a/100,f=r/100;u=n.refs.bargraphCanvas,i=u.getContext("2d"),(l=new Image).onload=function(){!0,g()},l.src=e;var g=function(){-f<=o&&o<=d&&(0===o?(s=l.width>960?960:l.width*Number(1+o),c=l.width>960?960*l.height/l.width:l.height*Number(1+o)):(s=l.width>960?960*Number(1+o):l.width*Number(1+o),c=l.width>960?960*l.height/l.width*Number(1+o):l.height*Number(1+o)),n.setState({imgHeight:c,imgWidth:s}),u.width=s,u.height=c,i.clearRect(0,0,s,c),i.drawImage(l,0,0,l.width,l.height,0,0,s,c))}},n.state={imgHeight:0,imgWidth:0},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),i(t,[{key:"componentDidMount",value:function(){this.drawImgScal(this.props.imgUrl,this.props.imgWpercent,this.props.maxLimit,this.props.minLimit)}},{key:"componentWillReceiveProps",value:function(e){this.props.imgUrl!==e.imgUrl&&this.drawImgScal(e.imgUrl,e.imgWpercent,this.props.maxLimit,this.props.minLimit),this.props.imgUrl===e.imgUrl&&this.props.imgWpercent!==e.imgWpercent&&this.drawImgScal(this.props.imgUrl,e.imgWpercent,this.props.maxLimit,this.props.minLimit)}},{key:"isVertail",value:function(e){return!(e<90)&&(90===e||e%180!=0)}},{key:"render",value:function(){var e=this.props,t=(e.imgUrl,e.imgWpercent,e.rotate),n=this.state,a=n.imgHeight,r=n.imgWidth,u=0,i=0;return this.isVertail(t)?(a>960&&(u=a-960),r>960&&(i=r-960)):(r>960&&(u=r-960),a>960&&(i=a/2+10)),l.default.createElement("div",{className:"img-box"},l.default.createElement("div",{className:"img-box-contain"},l.default.createElement("div",{className:"img-box-contain-overflow"},l.default.createElement("canvas",{ref:"bargraphCanvas",style:{transform:"rotate("+t+"deg)",marginLeft:u+"px",marginTop:i+"px",display:"block"}}))))}}]),t}(),r.displayName="ImgPreview",r.propTypes={imgUrl:s.default.string,imgWpercent:s.default.number,rotate:s.default.number,maxLimit:s.default.number,minLimit:s.default.number},a=u))||a;t.default=o},1270:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SWITCH_LOADING_MASK="SWITCH_LOADING_MASK",t.INIT_YLLS="INIT_YLLS",t.GET_YLLS_BUSINESS_DATA="GET_YLLS_BUSINESS_DATA",t.CANCEL_YLLS_VISIBLE="CANCEL_YLLS_VISIBLE"},1273:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SWITCH_LOADING_MASK="SWITCH_LOADING_MASK",t.INIT_ACCOUNTCONF="INIT_ACCOUNTCONF",t.GET_ACCOUNTCONF_ALL_SETTINGS="GET_ACCOUNTCONF_ALL_SETTINGS",t.GET_RUNNING_CATEGORY="GET_RUNNING_CATEGORY",t.GET_RUNNING_ACCOUNT="GET_RUNNING_ACCOUNT",t.GET_RUNNING_TAX_RATE="GET_RUNNING_TAX_RATE",t.CHANGE_ACCOUNTCONF_CURRENTPAGE="CHANGE_ACCOUNTCONF_CURRENTPAGE",t.BEFORE_INSERT_ACCOUNTCONF="BEFORE_INSERT_ACCOUNTCONF",t.BEFORE_MODIFY_ACCOUNTCONF_RUNNING_OLD="BEFORE_MODIFY_ACCOUNTCONF_RUNNING_OLD",t.CLOSE_ACCOUNTCONF_MODAL="CLOSE_ACCOUNTCONF_MODAL",t.ACCOUNTCONF_RUNNING_TRIANGLE_SWITCH="ACCOUNTCONF_RUNNING_TRIANGLE_SWITCH",t.ACCOUNTCONF_RUNNING_CHECKBOX_CHECK="ACCOUNTCONF_RUNNING_CHECKBOX_CHECK",t.SELECT_OR_UNSELECT_RUNNING_ALL="SELECT_OR_UNSELECT_RUNNING_ALL",t.SELECT_OR_UNSELECT_ACCOUNT_ALL="SELECT_OR_UNSELECT_ACCOUNT_ALL",t.ACCOUNTCONF_ACCOUNT_CHECKBOX_CHECK="ACCOUNTCONF_ACCOUNT_CHECKBOX_CHECK",t.ACCOUNTCONF_TAX_RATE_SETTING_SCALE="ACCOUNTCONF_TAX_RATE_SETTING_SCALE",t.SELECT_ACCOUNTCONF_UPPER_CATEGORY="SELECT_ACCOUNTCONF_UPPER_CATEGORY",t.CHANGE_ACCOUNTCONF_COMMON_STRING="CHANGE_ACCOUNTCONF_COMMON_STRING",t.CHANGE_ACCOUNTCONF_ACCOUNT_NUMBER="CHANGE_ACCOUNTCONF_ACCOUNT_NUMBER",t.SELECT_ACCOUNTCONF_ALL_AC="SELECT_ACCOUNTCONF_ALL_AC",t.SELECT_ACCOUNTCONF_MULTIPLE_AC="SELECT_ACCOUNTCONF_MULTIPLE_AC",t.AFTER_UPDATE_ACCOUNTCONF_RUNNING_CATEGORY="AFTER_UPDATE_ACCOUNTCONF_RUNNING_CATEGORY",t.AFTER_UPDATE_ACCOUNTCONF_ACCOUNT="AFTER_UPDATE_ACCOUNTCONF_ACCOUNT",t.CHANGE_ACCOUNTCONF_PROPERTY="CHANGE_ACCOUNTCONF_PROPERTY",t.CHANGE_ITEM_DISABLE_STATUS="CHANGE_ITEM_DISABLE_STATUS",t.GET_REGRET_CATEGORY="GET_REGRET_CATEGORY",t.CHANGE_REGRET_ACCOUNT_ACCOUNT_NAME="CHANGE_REGRET_ACCOUNT_ACCOUNT_NAME",t.CHANGE_REGRET_ACCOUNT_COMMON_STRING="CHANGE_REGRET_ACCOUNT_COMMON_STRING",t.CHANGE_REGRET_CANCLE="CHANGE_REGRET_CANCLE",t.SAVE_REGRET_MESSAGE="SAVE_REGRET_MESSAGE",t.CHANGE_LR_ACCOUNT_COMMON_STRING="CHANGE_LR_ACCOUNT_COMMON_STRING"},1274:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SWITCH_LOADING_MASK="SWITCH_LOADING_MASK",t.GET_BUSINESS_LIST="GET_BUSINESS_LIST",t.CHANGE_CX_ACCOUNT_COMMON_STRING="CHANGE_CX_ACCOUNT_COMMON_STRING",t.CXLS_ITEM_CHECKBOX_CHECK_ALL="CXLS_ITEM_CHECKBOX_CHECK_ALL",t.CXLS_ITEM_CHECKBOX_CHECK="CXLS_ITEM_CHECKBOX_CHECK",t.GET_CXLSCONF_ALL_SETTINGS="GET_CXLSCONF_ALL_SETTINGS",t.SET_CURRENT_PZ="SET_CURRENT_PZ",t.GET_ACCOUNTCONF_ALL_SETTINGS="GET_ACCOUNTCONF_ALL_SETTINGS",t.CALCULATE_FROM_CXLS_JUMP_TO_LRLS="CALCULATE_FROM_CXLS_JUMP_TO_LRLS",t.TRANSFER_OUT_FROM_CXLS_JUMP_TO_LRLS="TRANSFER_OUT_FROM_CXLS_JUMP_TO_LRLS",t.COST_TRANSFER_FROM_CXLS_JUMP_TO_LRLS="COST_TRANSFER_FROM_CXLS_JUMP_TO_LRLS",t.INVOICE_AUTH_FROM_CXLS_JUMP_TO_LRLS="INVOICE_AUTH_FROM_CXLS_JUMP_TO_LRLS",t.INVOICING_FROM_CXLS_JUMP_TO_LRLS="INVOICING_FROM_CXLS_JUMP_TO_LRLS",t.TRANSFER_OUT_FROM_CXLS_JUMP_TO_NBZZ="TRANSFER_OUT_FROM_CXLS_JUMP_TO_NBZZ",t.TRANSFER_OUT_FROM_CXLS_JUMP_TO_ZJTX="TRANSFER_OUT_FROM_CXLS_JUMP_TO_ZJTX",t.AFTER_SAVE_ACCOUNT_PAYMENT="AFTER_SAVE_ACCOUNT_PAYMENT",t.INIT_PAYMENT_STATE="INIT_PAYMENT_STATE",t.INIT_LR_ACCOUNT_SETTINGS="INIT_LR_ACCOUNT_SETTINGS",t.CALCULATE_CHANGE_QUERY="CALCULATE_CHANGE_QUERY",t.CHANGE_PZ_COMMON_STRING="CHANGE_PZ_COMMON_STRING",t.INIT_CXLS="INIT_CXLS",t.INIT_COMMON_CHARGE_FROM_CXLS="INIT_COMMON_CHARGE_FROM_CXLS",t.INIT_JZSY_FROM_CXLS="INIT_JZSY_FROM_CXLS",t.CXLS_CALCULATE_GAIN_OR_LOSS="CXLS_CALCULATE_GAIN_OR_LOSS"},1276:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.changeMessageMask=t.deletePzBombVcFetch=t.getPzVcFetch=t.changeJvDirectionByKey=t.changeFocusInput=t.shortcut=t.afterCopyClick=t.judgeTitleFixed=t.afterLrVcImport=t.closeLrImportContent=t.beforeLrVcImport=t.errorExlDown=t.getFileUploadFetch=t.autoCalculateAll=t.changeJvExchange=t.changeJvStandardAmount=t.changeJvItemNumber=t.getFCListDataFetch=t.getAcCloseBalance=t.autoCalculate=t.changeJvPrice=t.changeJvCount=t.getAmountDataFetch=t.changeLrAssName=t.getAssNextCode=t.changeLrAssId=t.changeLrFzhsModalClear=t.changeLrAssCategory=t.changeLrFzhsModalDisplay=t.changePzAcUnitText=t.changeLrAcAmountStateText=t.changeLrAcDirectionText=t.changeLrCategoryText=t.changeLrAcNameText=t.changeLrAcidText=t.changelrAcModalClear=t.changelrAcModalDisplay=t.checkEnclosureList=t.getLabelFetch=t.initLabel=t.getUploadCallbackFetch=t.getUploadGetTokenFetch=t.changeEnclosureList=t.changeVcEnclosureCountUser=t.deleteUploadImgUrl=t.changeTagName=t.getDraftItemFetch=t.draftSaveFetch=t.deleteVcFetch=t.clearLrpz=t.cancelReviewedJvlist=t.reviewedJvlist=t.saveJvItemFetch=t.cancleAssInput=t.changeTreeSelectContent=t.changeAcModalDisplay=t.showAssDisableModal=t.changeJvAss=t.refreshAcItemAsslist=t.changeJvAc=t.changeJvAmount=t.changeJvDirection=t.copyJvAbstract=t.changeJvAbstract=t.deleteJvItem=t.insertJvItem=t.changeVoucherDate=t.changeVcId=t.getVcFetch=t.initAndGetLastVcIdFetch=t.switchLoadingMask=t.initLrpz=void 0;var a=m(n(37));n(38);var r=g(n(1341)),u=m(n(31)),i=n(22),l=n(18),s=g(n(30)),c=g(n(27)),o=g(n(1239)),d=g(n(43)),f=g(n(60));function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function m(e){return e&&e.__esModule?e:{default:e}}function p(e){return{year:e.substr(0,4),month:e.substr(5,2)}}var _=t.initLrpz=function(e,t){return{type:r.INIT_LRPZ,strJudgeEnter:e,data:t}},T=(t.switchLoadingMask=function(){return{type:r.SWITCH_LOADING_MASK}},t.initAndGetLastVcIdFetch=function(e,t){return function(n){var a=new i.DateLib(t);(0,u.default)("getLastVcIndex","POST",JSON.stringify({year:a.getYear(),month:a.getMonth()}),function(t){if((0,i.showMessage)(t)){var r={receivedData:t.data,vcDate:a};n(_(e,r))}})}},t.getVcFetch=function(e,t,n,a){return function(r,s){var c=p(e),o=n,d=a?(0,l.fromJS)(a):a;d&&d.size>1&&(d.get(0)>d.get(1)&&(d=d.reverse(),o=d.size-o-1));var f=s().lrpzState.getIn(["flags","voucherIndexList"]).size-1,g=n==f;if("home"===sessionStorage.getItem("enterLrpz")&&g&&"TRUE"===sessionStorage.getItem("lastVcIsSave"))return sessionStorage.setItem("lrpzHandleMode","insert"),r(_("getVc",{changedIdx:o,vcIndexList:d}));(0,u.default)("getvc","POST",JSON.stringify({year:c.year,month:c.month,vcindex:t}),function(e){if((0,i.showMessage)(e)){sessionStorage.setItem("lrpzHandleMode","modify");var t={receivedData:e.data,changedIdx:o,vcIndexList:d};r(_("getVcFetch",t)),(0,l.fromJS)(e.data.jvlist).some(function(e){return e.get("fcNumber")})&&r(A("modify"))}})}}),C=(t.changeVcId=function(e){return{type:r.CHANGE_VC_ID,vcIndex:e}},t.changeVoucherDate=function(e,t){return function(n){var a=new i.DateLib(e);a.toString().substr(0,7)==t.substr(0,7)?n({type:r.CHANGE_VOUCHER_DATE,vcDate:a.toString()}):(0,u.default)("getLastVcIndex","POST",JSON.stringify({year:a.getYear(),month:a.getMonth()}),function(e){if((0,i.showMessage)(e)){var t={receivedData:e.data,vcDate:a};n(_("getLastVcIdFetch",t))}})}},t.insertJvItem=function(e){return{type:r.INSERT_JV_ITEM,idx:e}},t.deleteJvItem=function(e){return{type:r.DELETE_JV_ITEM,idx:e}},t.changeJvAbstract=function(e,t,n){return{type:r.CHANGE_JV_ABSTRACT,jvAbstract:e,idx:t,bIfTrueLostFocus:n}},t.copyJvAbstract=function(e){return{type:r.COPY_JV_ABSTRACT,idx:e}},t.changeJvDirection=function(e,t){return{type:r.CHANGE_JV_DIRECTION,idx:e,jvDirection:t}},t.changeJvAmount=function(e,t,n){return{type:r.CHANGE_JV_AMOUNT,amount:e,idx:t,jvDirection:n}},t.changeJvAc=function(e,t,n,a,u,i){return{type:r.CHANGE_JV_AC,idx:e,acId:t,acName:n,acFullName:a,assCategorys:u,acunitOpen:i}},t.refreshAcItemAsslist=function(e,t,n){return{type:r.REFRESH_ACITEM_ASSLIST,idx:e,newAsslist:t,assDropListFull:n}},t.changeJvAss=function(e,t,n){return{type:r.CHANGE_JV_ASS,idx:e,assCategory:t,value:n}},t.showAssDisableModal=function(e){return{type:r.SHOW_LRPZ_ASS_DISABLE_MODAL,asscategory:e||""}},t.changeAcModalDisplay=function(e){return{type:r.CHANGE_AC_MODAL_DISPLAY,idx:e}},t.changeTreeSelectContent=function(e){return{type:r.CHANGE_TREE_SELECT_CONTENT,info:e}},t.cancleAssInput=function(e,t){return{type:r.CANCLE_ASS_INPUT,idx:e,value:t}},t.saveJvItemFetch=function e(t,n,o,d){return function(f,g){sessionStorage.setItem("reDirect",t);var m=g().lrpzState,p=m.get("jvList").filter(function(e){return e.get("acid")||e.get("jvabstract")||e.get("jvamount")}),T="/annex/"+g().homeState.getIn(["data","userInfo","sobInfo","sobId"])+"/"+g().homeState.getIn(["data","userInfo","useruuid"])+"/"+(new Date).getTime(),C=[];if(0==p.size)return s.Alert("凭证分录不能为空");if(p.map(function(e,t){var n=e.get("jvabstract").trim();if(n){if("结转本期损益"===n){var a=t+1;C.push("第"+a+'行摘要"结转本期损益"为系统保留摘要字段，请通过"结账"功能结转本期损益')}else if("结转本年利润"===n){var r=t+1;C.push("第"+r+'行摘要"结转本年利润"为系统保留摘要字段，请通过"结账"功能结转本年利润')}else if("期末汇兑损益"===n){var u=t+1;C.push("第"+u+'行摘要"期末汇兑损益"为系统保留摘要字段，请通过"结账"功能调整汇兑损益')}else if("计提折旧摊销费用"===n){var i=t+1;C.push("第"+i+'行摘要"计提折旧摊销费用"为系统保留摘要字段，请通过系统相关功能生成折旧摊销凭证')}}else{var l=t+1;C.push("第"+l+"行存在未填写完整的摘要")}if(e.get("jvabstract").length>c.LRPZ_ABSTRACT_LENGTH){var s=t+1;C.push("第"+s+"行摘要长度不能超过"+c.LRPZ_ABSTRACT_LENGTH+"个字符")}if(!e.get("acid")){var o=t+1;C.push("第"+o+"行存在未填写完整的科目")}if(!e.get("jvamount")&&0!==e.get("jvamount")){var d=t+1;C.push("第"+d+"行存在未填写完整的金额")}if(e.get("jvamount")&&e.get("price")&&"1"==e.get("acunitOpen")&&!e.get("jvcount")){var f=t+1;C.push("第"+f+"行存在未填写完整的数量")}var g=m.getIn(["flags","currencyList"]).find(function(e){return"1"==e.get("standard")}),_=g?g.get("fcNumber"):void 0;if(e.get("fcNumber")==_&&e.get("standardAmount")&&e.get("jvamount")&&Number(e.get("standardAmount"))!=Number(e.get("jvamount"))){var T=t+1;C.push("第"+T+"行为本位币："+g.get("name")+"，请调整汇率为1")}if(e.get("jvamount")&&"1"==e.get("fcStatus")&&!e.get("standardAmount")&&e.get("fcNumber")==_){var A=g?g.get("fcNumber"):"",y=g?g.get("exchange"):"";p=p.setIn([t,"fcNumber"],A).setIn([t,"exchange"],y).setIn([t,"standardAmount"],e.get("jvamount"))}}),C.length)return s.Alert(C.reduce(function(e,t){return e+","+t}));if(Number(m.getIn(["flags","debitTotal"]))!==Number(m.getIn(["flags","creditTotal"])))return s.Alert("借贷不平衡");if(!m.get("vcIndex"))return s.Alert("凭证号未输入");if(!m.get("vcDate"))return s.Alert("日期未输入");f({type:r.SWITCH_LOADING_MASK});var A=p.update(function(e){return e.map(function(e,t){return e.set("jvindex",++t)})});({modify:function(){var e=(0,l.fromJS)({oldvcindex:m.get("oldVcIndex"),oldyear:m.get("oldYear"),oldmonth:m.get("oldMonth"),createdtime:m.get("createdTime"),createdby:m.get("createdBy"),closedby:m.get("closedby")?m.get("closedby"):"",reviewedby:m.get("reviewedBy"),vcindex:m.get("vcIndex"),year:m.get("year"),month:m.get("month"),vcdate:m.get("vcDate"),jvlist:A,enclosureList:m.get("enclosureList"),dirUrl:T,autoEncode:n,enclosureCountUser:m.get("enclosureCountUser")?m.get("enclosureCountUser"):""});(0,u.default)("modifyVc","POST",JSON.stringify(e),function(c){if(15e3===c.code)s.Alert("这有可能是因为分录的摘要中包含特殊字符（表情及异形字等），请修改后重试。若还出现该错误，请联系客服人员支持。");else if(15002===c.code)d.getIn(["arrange","permission"])?o():s.Alert("凭证号已存在");else if((0,i.showMessage)(c)){if(""!=n){var g=(0,l.fromJS)({vcindex:c.data.vcindex,year:m.get("year"),month:m.get("month")});(0,u.default)("uploadgetfile","POST",JSON.stringify(g),function(e){(0,i.showMessage)(e)&&f({type:r.GET_UPLOAD,receivedData:e.data})})}if("true"===t)(0,u.default)("getLastVcIndex","POST",JSON.stringify(e),function(t){if((0,i.showMessage)(t)){a.default.success("保存成功");var n={receivedData:t.data,vcDate:new i.DateLib(e.get("vcdate")),voucherValueStart:[e.get("vcdate"),e.get("vcindex")].join("_"),voucherValueEnd:[e.get("vcdate"),t.data].join("_")};sessionStorage.setItem("lastVcIsSave","TRUE"),sessionStorage.setItem("lrpzHandleMode","insert"),f(_("initAndGetLastVcIdFetchAndVcList",n))}});else{a.default.success("保存成功");var p={receivedData:{oldvcindex:e.get("vcindex"),oldyear:e.get("oldyear"),oldmonth:e.get("oldmonth"),createdtime:e.get("createdtime"),createdby:e.get("createdby"),closedby:e.get("closedby"),reviewedby:e.get("reviewedby"),vcindex:c.data.vcindex,year:e.get("year"),month:e.get("month"),vcdate:e.get("vcdate"),jvlist:A,enclosureList:m.get("enclosureList").toJS(),enclosureCountUser:m.get("enclosureCountUser")},changedIdx:"",vcIndexList:[]};sessionStorage.setItem("lrpzHandleMode","modify"),f(_("getVcFetch",p))}}f({type:r.SWITCH_LOADING_MASK})})},insert:function(){var c=(0,l.fromJS)({vcindex:m.get("vcIndex"),year:m.get("year"),month:m.get("month"),vcdate:m.get("vcDate"),jvlist:A,vcModelKey:m.get("vcKey"),enclosureList:m.get("enclosureList"),dirUrl:T,autoEncode:n,enclosureCountUser:m.get("enclosureCountUser")});(0,u.default)("insertVc","POST",JSON.stringify(c),function(n){0===n.code?p(n,c):15e3===n.code?s.Alert("这有可能是因为分录的摘要中包含特殊字符（表情及异形字等），请修改后重试。若还出现该错误，请联系客服人员支持。"):15002===n.code?d.getIn(["arrange","permission"])?o():(a.default.info("凭证号重复，系统自动编号"),f(e(t,!0,o,d))):(0,i.showMessage)(n),f({type:r.SWITCH_LOADING_MASK})});var p=function(e,n){var s=(0,l.fromJS)({vcindex:e.data.vcindex,year:m.get("year"),month:m.get("month")});if("true"===t)(0,u.default)("getLastVcIndex","POST",JSON.stringify(n),function(e){if((0,i.showMessage)(e)){var t={receivedData:e.data,vcDate:new i.DateLib(n.get("vcdate")),voucherValueStart:[n.get("vcdate"),n.get("vcindex")].join("_"),voucherValueEnd:[n.get("vcdate"),e.data].join("_")};sessionStorage.setItem("lastVcIsSave","TRUE"),sessionStorage.setItem("lrpzHandleMode","insert"),f(_("initAndGetLastVcIdFetchAndVcList",t)),(0,u.default)("getperiod","GET","",function(e){(0,i.showMessage)(e)&&(a.default.success("保存成功"),f({type:r.GET_PERIOD_FETCH,receivedData:e}))})}});else{(0,u.default)("uploadgetfile","POST",JSON.stringify(s),function(e){(0,i.showMessage)(e)&&f({type:r.GET_UPLOAD,receivedData:e.data})});var c=(0,i.formatDate)(),o=g().homeState.getIn(["data","userInfo","username"]),d={receivedData:{oldvcindex:n.get("vcindex"),oldyear:n.get("oldyear"),oldmonth:n.get("oldmonth"),createdtime:c,createdby:o,closedby:n.get("closedby"),reviewedby:n.get("reviewedby"),vcindex:e.data.vcindex,year:n.get("year"),month:n.get("month"),vcdate:n.get("vcdate"),jvlist:A,enclosureList:m.get("enclosureList").toJS(),enclosureCountUser:m.get("enclosureCountUser")},changedIdx:"",vcIndexList:[]};sessionStorage.setItem("lastVcIsSave","FALSE"),sessionStorage.setItem("lrpzHandleMode","modify"),f(_("getVcFetch",d)),(0,u.default)("getperiod","GET","",function(e){(0,i.showMessage)(e)&&(a.default.success("保存成功"),f({type:r.GET_PERIOD_FETCH,receivedData:e}))})}}}})[sessionStorage.getItem("lrpzHandleMode")]()}},t.reviewedJvlist=function(e,t,n,a,l){return function(c,o){c({type:r.SWITCH_LOADING_MASK});var d=o().homeState.getIn(["data","userInfo","username"]);(0,u.default)("reviewVc","POST",JSON.stringify({year:e,month:t,vcindexlist:[n],action:"QUERY_VC-AUDIT"}),function(e){c({type:r.SWITCH_LOADING_MASK}),(0,i.showMessage)(e)&&(0===e.data.fail?a?(c({type:r.PZBOMB_REVIEWEDBY_VC,reviewedBy:d}),l&&l()):c({type:r.REVIEWEDBY_VC,reviewedBy:d}):s.Alert(e.data.failList[0]))})}},t.cancelReviewedJvlist=function(e,t,n,a,l){return function(c){c({type:r.SWITCH_LOADING_MASK}),(0,u.default)("cancelReviewVc","POST",JSON.stringify({year:e,month:t,vcindexlist:[n],action:"QUERY_VC-CANCEL_AUDIT"}),function(e){c({type:r.SWITCH_LOADING_MASK}),(0,i.showMessage)(e)&&(0===e.data.fail?a?(c({type:r.CANCEL_PZBOMB_REVIEWEDBY_VC}),l&&l()):c({type:r.CANCEL_REVIEWEDBY_VC}):s.Alert(e.data.failList[0]))})}},t.clearLrpz=function(){return{type:r.CLEAR_LRPZ}}),A=(t.deleteVcFetch=function(){return function(e,t){e({type:r.SWITCH_LOADING_MASK});var n=t().lrpzState,a=n.getIn(["flags","voucherIdx"]),l=n.getIn(["flags","voucherIndexList"]),s="",c="";l.size&&(a+1<l.size?(s=a+1,c=a):a-1!=-1&&(s=a-1,c=a-1)),(0,u.default)("deletevc","POST",JSON.stringify({year:n.get("oldYear"),month:n.get("oldMonth"),vcindexlist:[n.get("oldVcIndex")],action:"SAVE_VC-RUD_VC"}),function(t){if(e({type:r.SWITCH_LOADING_MASK}),(0,i.showMessage)(t))if(-1!=s&&""!=s){var n=l.delete(a);e(T(l.get(s).split("_")[0],l.get(s).split("_")[1],c,n))}else"Home"===sessionStorage.getItem("enterLrpz")?(sessionStorage.setItem("lrpzHandleMode","insert"),e(C())):e(f.removeHomeTabpane("Edit"))})}},t.draftSaveFetch=function(e){return function(e,t){var n=t().lrpzState,o=[];if(n.get("jvList").filter(function(e){return e.get("acid")||e.get("jvabstract")||e.get("jvamount")}).map(function(e,t){if(e.get("jvabstract").length>c.LRPZ_ABSTRACT_LENGTH){var n=t+1;o.push("第"+n+"行摘要长度不能超过"+c.LRPZ_ABSTRACT_LENGTH+"个字符")}}),o.length)return s.Alert(o.reduce(function(e,t){return e+","+t}));if(!n.get("vcIndex"))return s.Alert("凭证号未输入");if(!n.get("vcDate"))return s.Alert("日期未输入");var d=n.get("jvList").update(function(e){return e.filter(function(e){return e.get("acid")||e.get("jvabstract")||e.get("jvamount")}).map(function(e,t){return e.set("jvindex",++t)})});if(n.get("vcKey")){var f=(0,l.fromJS)({createdtime:n.get("createdTime"),createdby:n.get("createdBy"),closedby:n.get("closedby"),reviewedby:n.get("reviewedBy"),vcindex:n.get("vcIndex"),year:n.get("year"),month:n.get("month"),vcdate:n.get("vcDate"),vckey:n.get("vcKey"),jvlist:d,enclosureCountUser:n.get("enclosureCountUser")});(0,u.default)("modifydraft","POST",JSON.stringify(f),function(t){(0,i.showMessage)(t)&&("1"==n.getIn(["flags","locked"])?a.default.success("新增草稿成功"):"1"==t.data.isModify?a.default.success("修改草稿成功"):a.default.success("新增草稿成功"),e({type:r.TEMPORARY_SAVE_FETCH,receivedData:t.data.vckey}))})}else{var g=(0,l.fromJS)({vcindex:n.get("vcIndex"),year:n.get("year"),month:n.get("month"),vcdate:n.get("vcDate"),jvlist:d,enclosureCountUser:n.get("enclosureCountUser")});(0,u.default)("insertdraft","POST",JSON.stringify(g),function(t){(0,i.showMessage)(t)&&(a.default.success("新增草稿成功"),e({type:r.TEMPORARY_SAVE_FETCH,receivedData:t.data}))})}}},t.getDraftItemFetch=function(e,t,n){return function(a,r){var l=r().allState;(0,u.default)("getdraft","POST",JSON.stringify({vckey:e}),function(r){if((0,i.showMessage)(r)){var s=r.data;if("1"==r.data.locked){var c="",o=l.getIn(["period","openedyear"]),d=l.getIn(["period","openedmonth"]);if(o){var f=new Date(o,d,0),g=new Date,m=(new Date).getYear(),p=(new Date).getMonth()+1;c=f<g?f:o==m&&d==p?g:new Date(o,d,1)}else c=new Date;(0,u.default)("getLastVcIndex","POST",JSON.stringify({year:new i.DateLib(c).getYear(),month:new i.DateLib(c).getMonth()}),function(r){if((0,i.showMessage)(r)){var u={receivedData:s,draftList:n,changeDraftIdx:t,vcKey:e,vcIndex:r.data,vcDate:new i.DateLib(c)};a(_("getVcIdAndGetDraftItemFetch",u))}})}else{a(_("getDraftItemFetch",{receivedData:s,draftList:n,changeDraftIdx:t,vcKey:e}))}}})}},t.changeTagName=function(e,t){return{type:r.CHANGE_TAG_NAME,index:e,value:t}},t.deleteUploadImgUrl=function(e){return{type:r.DELETE_UPLOAD_IMG_URL,index:e}},t.changeVcEnclosureCountUser=function(e){return{type:r.CHANGE_VC_ENCLOSURE_COUNT_USER,value:e}},t.changeEnclosureList=function(e){return{type:r.CHANGE_ENCLOSURE_LIST,imgArr:e}},t.getUploadGetTokenFetch=function(){return function(e,t){var n=t().allState.get("expire"),a=Date.parse(new Date)/1e3;console.log(n,a,n<a+300),n<a+300&&(0,u.default)("aliyunOssPolicy","GET","",function(t){e({type:r.AFTER_GET_UPLOAD_SIGNATURE,receivedData:t.data,code:t.code})})}},t.getUploadCallbackFetch=function(e,t,n,a){return function(a){(0,u.default)("uploadgetfile","POST",JSON.stringify({vcindex:e,year:t,month:n}),function(e){(0,i.showMessage)(e)})}},t.initLabel=function(){return function(e){(0,u.default)("initLabel","POST","",function(e){(0,i.showMessage)(e)})}},t.getLabelFetch=function(){return function(e){(0,u.default)("getFjLabelData","POST","",function(t){(0,i.showMessage)(t)&&e({type:r.GET_LABEL_FETCH,receivedData:t})})}},t.checkEnclosureList=function(e,t,n,a,l,s,c){return function(e){var t=[];t.push({fileName:a,enclosurePath:s.data.enclosurePath,size:(s.data.size/1024).toFixed(2),imageOrFile:s.data.mimeType.toString().toUpperCase().indexOf("IMAGE")>-1?"TRUE":"FALSE",label:"无标签",beDelete:!1,mimeType:s.data.mimeType}),(0,u.default)("insertEnclosure","POST",JSON.stringify({enclosureList:t}),function(t){(0,i.showMessage)(t)&&e({type:r.CHANGE_ENCLOSURE_LIST,imgArr:t.data.enclosureList}),c&&e({type:r.SWITCH_LOADING_MASK})})}},t.changelrAcModalDisplay=function(){return{type:r.CHANGE_LR_AC_MODAL_DISPLAY}},t.changelrAcModalClear=function(){return{type:r.CHANGE_LR_AC_MODAL_CLEAR}},t.changeLrAcidText=function(e,t){return{type:r.CHANGE_LR_ACID_TEXT,acId:e,acList:t}},t.changeLrAcNameText=function(e){return{type:r.CHANGE_LR_ACNAME_TEXT,acName:e}},t.changeLrCategoryText=function(e){return{type:r.CHANGE_LR_CATEGORY_TEXT,category:e}},t.changeLrAcDirectionText=function(e){return{type:r.CHANGE_LR_AC_DIRECTON_TEXT,category:e}},t.changeLrAcAmountStateText=function(){return{type:r.CHANGE_LR_AMOUNT_TEXT}},t.changePzAcUnitText=function(e){return{type:r.CHANGE_LR_AC_UNIT_TEXT,unit:e}},t.changeLrFzhsModalDisplay=function(){return{type:r.CHANGE_LR_FZHS_MODAL_DISPLAY}},t.changeLrAssCategory=function(e){return{type:r.CHANGE_LR_ASS_CATEGORY,asscategory:e}},t.changeLrFzhsModalClear=function(){return{type:r.CHANGE_LR_FZHS_MODAL_CLEAR}},t.changeLrAssId=function(e){return{type:r.CHANGE_LR_ASS_ID,assId:e}},t.getAssNextCode=function(e){return function(t,n){(0,u.default)("getassinput","GET","assCategory="+e,function(e){(0,i.showMessage)(e)&&t({type:r.CHANGE_LR_ASS_ID,assId:e.data.newAssId})})}},t.changeLrAssName=function(e){return{type:r.CHANGE_LR_ASS_NAME,assName:e}},t.getAmountDataFetch=function(e,t,n,a,l,s,c){return function(o){var d=new i.DateLib(t);(0,u.default)("getAmountData","POST",JSON.stringify({acid:e,date:t,year:d.getYear(),month:d.getMonth(),asscategory:a,assid:l,asscategoryTwo:s,assidTwo:c}),function(e){(0,i.showMessage)(e)&&o({type:r.GET_AMOUNT_DATA,receivedData:e.data,idx:n})})}},t.changeJvCount=function(e,t,n){return{type:r.CHANGE_JV_COUNT,jvCount:e,idx:t,unitDecimalCount:n}},t.changeJvPrice=function(e,t){return{type:r.CHANGE_JV_PRICE,jvPrice:e,idx:t}},t.autoCalculate=function(e,t,n){return{type:r.AUTO_CALCULATE,idx:e,value:t,unitDecimalCount:n}},t.getAcCloseBalance=function(e,t,n,a,l,s,c){return function(o){var d=new i.DateLib(t);(0,u.default)("getAcCloseBalance","POST",JSON.stringify({acid:e,year:d.getYear(),month:d.getMonth(),asscategory:a,assid:l,asscategoryTwo:s,assidTwo:c}),function(e){(0,i.showMessage)(e)&&o({type:r.GET_AC_CLOSE_BALANCE,receivedData:e.data,idx:n})})}},t.getFCListDataFetch=function(e){return function(t){(0,u.default)("getFCList","GET","",function(n){(0,i.showMessage)(n)&&t({type:r.GET_FC_LIST_DATA_FETCH,receivedData:n.data,idx:e})})}}),y=(t.changeJvItemNumber=function(e,t){return{type:r.CHANGE_JV_ITEM_NUMBER,idx:e,value:t}},t.changeJvStandardAmount=function(e,t){return{type:r.CHANGE_JV_STANDAR_AMOUNT,idx:e,value:t}},t.changeJvExchange=function(e,t){return{type:r.CHANGE_JV_EXCHANGE,idx:e,value:t}},t.autoCalculateAll=function(e,t,n){return{type:r.AUTO_CALCULATE_ALL,idx:e,value:t,unitDecimalCount:n}},t.getFileUploadFetch=function(e,t){return function(n,a){n({type:r.SWITCH_LOADING_MASK}),(0,u.default)("vcImport","UPLOAD",e,function(e){if(n({type:r.SWITCH_LOADING_MASK}),(0,i.showMessage)(e)){n(y(e)),t();var l=500;e.data.total>400&&(l=2e3);!function e(t){var s=setTimeout(function(){var l=a().lrpzState.getIn(["flags","showLrModalMask"]);(0,u.default)("acImportProgress","GET","accessToken="+t,function(a){(0,i.showMessage)(a)&&(n({type:r.GET_LRPZ_IMPORT_PROGRESS,receivedData:a,accessToken:t}),a.data.progress>=100&&a.data.successList.length>0&&(0,u.default)("getperiod","GET","",function(e){n({type:r.GET_PERIOD_FETCH,receivedData:e})}),l&&a.data.progress<100&&e(t))}),clearTimeout(s)},l)}(e.data.accessToken)}})}},t.errorExlDown=function(){return function(e,t){var n=t().lrpzState.getIn(["importProgressInfo","accessToken"]);e({type:r.SWITCH_LOADING_MASK}),(0,u.default)("downVcError","POST",JSON.stringify({accessToken:n}),function(t){e({type:r.SWITCH_LOADING_MASK})})}},t.beforeLrVcImport=function(){return{type:r.BEFORE_LR_VC_IMPORT}},t.closeLrImportContent=function(){return{type:r.CLOSE_LR_IMPORT_CONTENT}},t.afterLrVcImport=function(e){return function(t){t({type:r.AFTER_LR_VC_IMPORT,receivedData:e})}}),E=(t.judgeTitleFixed=function(){return{type:r.JUDGE_TITLE_FIXED}},t.afterCopyClick=function(e){return{type:r.AFTER_COPY_CLICL,jvList:e}},t.shortcut=function(){return{type:r.SHORT_CUT}},t.changeFocusInput=function(e){return{type:r.CHANGE_FOCUS_INPUT,ref:e}},t.changeJvDirectionByKey=function(e,t){return{type:r.CHANGE_JV_DIRECTION_BY_KEY,idx:e,direction:t}},t.getPzVcFetch=function(e,t,n,a){return function(s){var c=p(e),o=n,d=a?(0,l.fromJS)(a):a;(0,u.default)("getvc","POST",JSON.stringify({year:c.year,month:c.month,vcindex:t}),function(e){(0,i.showMessage)(e)&&s({type:r.INIT_PZ_BOMB,receivedData:e.data,voucherIdx:o,voucherIndexList:d})})}});t.deletePzBombVcFetch=function(){return function(e,t){e({type:r.SWITCH_LOADING_MASK});var n=t().pzBombState,a=n.getIn(["flags","voucherIdx"]),l=n.getIn(["flags","voucherIndexList"]),s="",c="";l.size&&(a+1<l.size?(s=a+1,c=a):a-1!=-1&&(s=a-1,c=a-1)),(0,u.default)("deletevc","POST",JSON.stringify({year:n.get("year"),month:n.get("month"),vcindexlist:[n.get("vcIndex")],action:"COMMON-DELETE"}),function(n){if(e({type:r.SWITCH_LOADING_MASK}),(0,i.showMessage)(n)){if(t().homeState.get("panes").some(function(e){return"查询流水"===e.get("title")})){var u=t().cxlsState,f=u.get("currentPage"),g=u.getIn(["flags","mainWater"]),m=u.getIn(["flags","curAccountUuid"]),p=u.getIn(["flags","issuedate"]);e(o.getBusinessList(p,g,m,f))}if(-1!=s&&""!=s){var _=l.delete(a);e(E(l.get(s).split("_")[0],l.get(s).split("_")[1],c,_))}else e(d.showPzBomb(!1))}})}},t.changeMessageMask=function(){return{type:r.CHANGE_LRPZ_MESSAGEMASK}}},1277:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SWITCH_LOADING_MASK="SWITCH_LOADING_MASK",t.ACCOUNT_CHANGE_VIEW_DIMENSION="ACCOUNT_CHANGE_VIEW_DIMENSION",t.GET_MANAGE_CATEGORY_DETAIL="GET_MANAGE_CATEGORY_DETAIL",t.GET_CALCULATE_LIST="GET_CALCULATE_LIST",t.GET_CALCULATE_INVOICING_LIST="GET_CALCULATE_INVOICING_LIST",t.GET_CALCULATE_CERTIFICATE_LIST="GET_CALCULATE_CERTIFICATE_LIST",t.GET_CALCULATE_COST_LIST="GET_CALCULATE_COST_LIST",t.CHANGE_CALCULATE_COMMON_STRING="CHANGE_CALCULATE_COMMON_STRING",t.CHANGE_ACCOUNT_AMOUNT_SUM="CHANGE_ACCOUNT_AMOUNT_SUM",t.CHANGE_ACCOUNT_COMMON_STRING="CHANGE_ACCOUNT_COMMON_STRING",t.CHANGE_ACCOUNT_ACCOUNT_NAME="CHANGE_ACCOUNT_ACCOUNT_NAME",t.BEFORE_RUNNING_PAY_OR_RECEIVE="BEFORE_RUNNING_PAY_OR_RECEIVE",t.ACCOUNT_ITEM_CHECKBOX_SELECT="ACCOUNT_ITEM_CHECKBOX_SELECT",t.PAY_RECEIVE_ITEM_CHECKBOX_CHECK_ALL="PAY_RECEIVE_ITEM_CHECKBOX_CHECK_ALL",t.INIT_RUNNING_BUSINESS_OR_PAY_CARD="INIT_RUNNING_BUSINESS_OR_PAY_CARD",t.MODIFY_RUNNING_PAYMENT="MODIFY_RUNNING_PAYMENT",t.SHOW_RELATE_PAYMENT_FETCH="SHOW_RELATE_PAYMENT_FETCH",t.CHANGE_ITEM_CHILD_SHOW="CHANGE_ITEM_CHILD_SHOW",t.CHANGE_TYPE_OF_SEARCH="CHANGE_TYPE_OF_SEARCH",t.INIT_SEARCH_CALCULATION="INIT_SEARCH_CALCULATION"},1278:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SWITCH_LOADING_MASK="SWITCH_LOADING_MASK",t.GET_BUSINESS_LIST="GET_BUSINESS_LIST",t.CHANGE_CX_ACCOUNT_COMMON_STRING="CHANGE_CX_ACCOUNT_COMMON_STRING",t.CXLS_ITEM_CHECKBOX_CHECK_ALL="CXLS_ITEM_CHECKBOX_CHECK_ALL",t.CXLS_ITEM_CHECKBOX_CHECK="CXLS_ITEM_CHECKBOX_CHECK",t.GET_CXLSCONF_ALL_SETTINGS="GET_CXLSCONF_ALL_SETTINGS",t.SET_CURRENT_PZ="SET_CURRENT_PZ",t.SHOW_RELATE_PAYMENT_FETCH="SHOW_RELATE_PAYMENT_FETCH",t.CHANGE_ITEM_CHILD_SHOW="CHANGE_ITEM_CHILD_SHOW",t.INIT_LR_ACCOUNT="INIT_LR_ACCOUNT",t.MODIFY_RUNNING_PAYMENT="MODIFY_RUNNING_PAYMENT"},1281:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=M(n(1234)),u=M(n(45)),i=M(n(100)),l=M(n(1230)),s=M(n(1366)),c=M(n(37)),o=M(n(14)),d=M(n(47)),f=M(n(32)),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(1235),n(55),n(99),n(1231),n(1356),n(38),n(78),n(46),n(51);var m=M(n(1)),p=n(17),_=n(18),T=n(127),C=M(n(6)),A=b(n(27)),y=n(482),E=n(22),I=n(1330),S=n(1331),L=b(n(1243)),v=b(n(1239)),N=b(n(1245));n(1332);var h=M(n(1250)),O=n(43);function b(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function M(e){return e&&e.__esModule?e:{default:e}}var R=(0,p.immutableRenderDecorator)(a=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.onChangeActiveKey=function(){return e.setState({activeKey:e.state.activeKey.length>0?[]:["1"]})},e.state={activeKey:["1"],deleteModal:!1,tagModal:!1,tagValue:"无标签",currentIdx:"",preview:!1,rotate:0,page:0,wpercent:1,manageModal:!1,carryoverModal:!1,invioceModal:!1,defineModal:!1,jzsyModal:!1,isSeleck:!1,deleteHasFj:!1},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,m.default.Component),g(t,[{key:"render",value:function(){var e=this,t=this.props,n=(t.yllsVisible,t.dispatch),a=t.onClose,g=(t.yllsState,t.editLrAccountPermission),p=t.panes,b=t.lsItemData,M=t.uuidList,R=t.showDrawer,D=t.refreshList,P=t.lryl,U=t.isClose,G=t.fromCxls,w=t.curItem,J=(t.intelligentStatus,t.magenerType),F=t.contactsCardRange,H=t.categoryTypeObj,x=t.issuedate,B=t.inputValue,k=t.simplifyStatus,Z=t.editPzPermission,Y=t.reviewLrAccountPermission,K=t.projectList,j=this.state,X=j.activeKey,z=(j.tagValue,j.currentIdx,j.preview),V=(j.tagModal,j.rotate,j.page),W=(j.wpercent,j.manageModal),Q=j.carryoverModal,q=j.invioceModal,$=j.defineModal,ee=(j.deleteModal,j.jzsyModal),te=(j.isSeleck,j.deleteHasFj,this.props.modalTemp?this.props.modalTemp:(0,_.fromJS)({})),ne=this.props.accountList?this.props.accountList:(0,_.fromJS)({}),ae=[],re=void 0,ue=void 0;b&&b.get("vcList")&&b.get("vcList").map(function(e,t){ae.push(e.get("vcIndex")),re=e.get("year"),ue=e.get("month")});var ie=k?Z:Y,le=function(e){return(0,y.beforejumpCxToLr)(e,p,d.default)},se=b.get("beBusiness"),ce=b.get("runningState"),oe=b.get("categoryType"),de=(b.get("debitAmount"),b.get("creditAmount"),b.get("parentCategoryList")),fe=b.get("categoryName")?b.get("categoryName"):"",ge=(y.categoryTypeName[b.get("categoryType")]&&y.categoryTypeName[b.get("categoryType")],y.runningStateType[b.get("runningState")]?y.runningStateType[b.get("runningState")]:""),me=("LB_FYZC"===b.get("categoryType")||b.get("categoryType"),b.get("parentUuid")?b.get("parentUuid"):b.get("uuid")),pe=({LB_YYSR:function(){return m.default.createElement(I.Yysz,{lsItemData:b,activeKey:X,onChangeActiveKey:e.onChangeActiveKey})},LB_YYZC:function(){return m.default.createElement(I.Yysz,{lsItemData:b,activeKey:X,onChangeActiveKey:e.onChangeActiveKey})},LB_FYZC:function(){return m.default.createElement(I.Fyzc,{lsItemData:b,activeKey:X,onChangeActiveKey:e.onChangeActiveKey})},LB_XCZC:function(){return m.default.createElement(I.Xczc,{lsItemData:b,activeKey:X,onChangeActiveKey:e.onChangeActiveKey})},LB_SFZC:function(){return m.default.createElement(I.Sfzc,{lsItemData:b,activeKey:X,onChangeActiveKey:e.onChangeActiveKey})},LB_CQZC:function(){return m.default.createElement(I.Cqzc,{lsItemData:b,activeKey:X,onChangeActiveKey:e.onChangeActiveKey})},LB_YYWSR:function(){return m.default.createElement(I.Yywsz,{lsItemData:b,activeKey:X,onChangeActiveKey:e.onChangeActiveKey})},LB_YYWZC:function(){return m.default.createElement(I.Yywsz,{lsItemData:b,activeKey:X,onChangeActiveKey:e.onChangeActiveKey})},LB_ZSKX:function(){return m.default.createElement(I.Zszf,{lsItemData:b,activeKey:X,onChangeActiveKey:e.onChangeActiveKey})},LB_ZFKX:function(){return m.default.createElement(I.Zszf,{lsItemData:b,activeKey:X,onChangeActiveKey:e.onChangeActiveKey})},LB_JK:function(){return m.default.createElement(I.JkTzZb,{lsItemData:b,activeKey:X,onChangeActiveKey:e.onChangeActiveKey})},LB_TZ:function(){return m.default.createElement(I.JkTzZb,{lsItemData:b,activeKey:X,onChangeActiveKey:e.onChangeActiveKey})},LB_ZB:function(){return m.default.createElement(I.JkTzZb,{lsItemData:b,activeKey:X,onChangeActiveKey:e.onChangeActiveKey})},LB_ZZ:function(){return m.default.createElement(S.Nbzz,{lsItemData:b,activeKey:X,onChangeActiveKey:e.onChangeActiveKey})},LB_ZJTX:function(){return m.default.createElement(S.Zjtx,{lsItemData:b,activeKey:X,onChangeActiveKey:e.onChangeActiveKey})},LB_JZCB:function(){return m.default.createElement(S.Jzcb,{lsItemData:b,activeKey:X,onChangeActiveKey:e.onChangeActiveKey})},LB_GGFYFT:function(){return m.default.createElement(S.Xmft,{lsItemData:b,activeKey:X,onChangeActiveKey:e.onChangeActiveKey})},LB_ZCWJZZS:function(){return m.default.createElement(S.Zcwjzzs,{lsItemData:b,activeKey:X,onChangeActiveKey:e.onChangeActiveKey})},LB_KJFP:function(){return m.default.createElement(S.FpKr,{lsItemData:b,activeKey:X,onChangeActiveKey:e.onChangeActiveKey})},LB_FPRZ:function(){return m.default.createElement(S.FpKr,{lsItemData:b,activeKey:X,onChangeActiveKey:e.onChangeActiveKey})},LB_JZSY:function(){return m.default.createElement(S.Jzsy,{lsItemData:b,activeKey:X,onChangeActiveKey:e.onChangeActiveKey})}}[oe]||function(){return m.default.createElement(I.Other,{lsItemData:b,activeKey:X,onChangeActiveKey:e.onChangeActiveKey})})(),_e=void 0;if(se){var Te="其他流水"===de.get(0)&&de.size>1?de.slice(1):"其他流水"!==de.get(0)?de:[];_e="LB_ZJTX"===oe?"长期资产折旧摊销":b.get("propertyCost")&&"LB_XCZC"!==oe&&"LB_FYZC"!==oe||b.get("assetType")&&"LB_CQZC"===oe?""+Te.reduce(function(e,t){return e+t+"_"},"")+fe:"LB_JZSY"===oe?"长期资产处置损益":""+Te.reduce(function(e,t){return e+t+"_"},"")+fe+(ge?"("+ge+")":"")}else _e="收付管理";var Ce=b.get("enclosureList")?b.get("enclosureList").filter(function(e){return"TRUE"===e.get("imageOrFile")||"application/pdf"==e.get("mimeType")}):(0,_.fromJS)([]);return m.default.createElement("div",null,m.default.createElement(s.default,{className:"ylls-wrap",width:479,placement:"right",closable:!1,onClose:a,visible:!0,mask:!1},m.default.createElement("div",{className:"ylls-title"},m.default.createElement("span",{className:"ylls-title-text"},"查看流水"),m.default.createElement("span",{onClick:a,className:"ylls-title-icon"},m.default.createElement(o.default,{type:"close"}))),m.default.createElement("div",{className:"ylls-opration-wrap"},G?m.default.createElement("div",{key:"z4",className:"ylls-title-btn"},m.default.createElement(f.default,{type:"ghost",className:"handle-btn",disabled:!ie||U,onClick:function(){b.get("beCertificate")?n(v.deleteVcItemFetch(re,ue,ae,x,B,!0,D,w,R)):n(v.runningInsertVc((0,_.fromJS)([{uuid:w.get("parentUuid")?w.get("parentUuid"):w.get("uuid"),flowNumber:w.get("flowNumber")}]),"Business",x,B,!0,D,w,R))}},b.get("beCertificate")?k?"删除凭证":"反审核":k?"生成凭证":"审核")):"",G?function(t){t.get("waitReceiving"),t.get("waitPaying");var a=t.get("makeOut"),r=t.get("carryover"),u=t.get("certified"),i=t.get("received"),l=t.get("receiving"),s=(t.get("turnOut"),t.get("payed")),c=t.get("paying"),o=t.get("shouldReturn"),d=t.get("runningType"),p=[];switch(c){case"1":case"3":p.push(m.default.createElement("div",{key:"z3",className:"ylls-title-btn"},m.default.createElement(f.default,{type:"ghost",className:"handle-btn",disabled:!g,onClick:function(){n(v.getBusinessManagerModal(t,function(){e.setState({manageModal:!0})},"credit"))}},"付款")))}switch(i){case"1":case"3":p.push(m.default.createElement("div",{key:"c3",className:"ylls-title-btn"},m.default.createElement(f.default,{type:"ghost",className:"handle-btn",disabled:!g,onClick:function(){n(v.getBusinessManagerModal(t,function(){e.setState({manageModal:!0})},"debit"))}},"退款")))}switch(s){case"1":case"3":p.push(m.default.createElement("div",{key:"d3",className:"ylls-title-btn"},m.default.createElement(f.default,{type:"ghost",className:"handle-btn",disabled:!g,onClick:function(){n(v.getBusinessManagerModal(t,function(){e.setState({manageModal:!0})},"debit"))}},"退款")))}switch(l){case"1":case"3":p.push(m.default.createElement("div",{key:"e3",className:"ylls-title-btn"},m.default.createElement(f.default,{type:"ghost",className:"handle-btn",disabled:!g,onClick:function(){n(v.getBusinessManagerModal(t,function(){e.setState({manageModal:!0})},"debit"))}},"收款")))}switch(o){case"1":case"3":p.push(m.default.createElement("div",{key:"f3",className:"ylls-title-btn"},m.default.createElement(f.default,{type:"ghost",className:"handle-btn",disabled:!g,onClick:function(){n(v.getBusinessManagerModal(t,function(){e.setState({manageModal:!0})},"credit"))}},"退")))}return 1==a&&p.push(m.default.createElement(f.default,{type:"ghost",className:"handle-btn",disabled:!g,onClick:function(){n(v.getBusinessInvioceModal(t,function(){e.setState({invioceModal:!0})}))}},"开票")),1==r&&"LX_ZZS_YKP"!==d&&"LX_ZZS_WKP"!==d&&"LX_ZZS_YRZ"!==d&&"LX_ZZS_WRZ"!==d?p.push(m.default.createElement("div",{className:"ylls-title-btn"},m.default.createElement(f.default,{type:"ghost",className:"handle-btn",disabled:!g,onClick:function(){n("LB_CQZC"===oe?v.getBusinessJzsyModal(t,function(){e.setState({jzsyModal:!0})}):v.getBusinessCarryoverModal(t,function(){e.setState({carryoverModal:!0})}))}},"结转"))):1==r&&"LB_CQZC"===oe&&m.default.createElement("div",{className:"ylls-title-btn"},m.default.createElement(f.default,{type:"ghost",className:"handle-btn",disabled:!g,onClick:function(){n(v.getBusinessJzsyModal(t,function(){e.setState({jzsyModal:!0})}))}},"结转")),1==u&&p.push(m.default.createElement(f.default,{type:"ghost",className:"handle-btn",disabled:!g,onClick:function(){n(v.getBusinessDefineModal(t,function(){e.setState({defineModal:!0})}))}},"认证")),p}(b):"",m.default.createElement("span",{className:M.some(function(e,t){return(e.get("parentUuid")?e.get("parentUuid"):e.get("uuid"))===me&&0===t})?"ylls-opration-icon-disabled":"ylls-opration-icon",onClick:function(){if(!M.some(function(e,t){return(e.get("parentUuid")?e.get("parentUuid"):e.get("uuid"))===me&&0===t})){var e=M.findIndex(function(e){return(e.get("parentUuid")?e.get("parentUuid"):e.get("uuid"))===me})-1;n(L.getYllsBusinessData(M.get(e),R))}}},m.default.createElement(o.default,{type:"left-square"})),m.default.createElement("span",{className:M.some(function(e,t){return(e.get("parentUuid")?e.get("parentUuid"):e.get("uuid"))===me&&t===M.size-1})?"ylls-opration-icon-disabled":"ylls-opration-icon",onClick:function(){if(!M.some(function(e,t){return(e.get("parentUuid")?e.get("parentUuid"):e.get("uuid"))===me&&t===M.size-1})){var e=M.findIndex(function(e){return(e.get("parentUuid")?e.get("parentUuid"):e.get("uuid"))===me})+1;n(L.getYllsBusinessData(M.get(e),R))}}},m.default.createElement(o.default,{type:"right-square"})),m.default.createElement("span",{className:g?"ylls-opration-icon":"ylls-opration-icon-disabled",onClick:function(){g&&(a(),se||"STATE_ZZ"===ce?"STATE_YYSR_JZCB"===ce?le(function(){return n(v.jumpCalculateCxToLr(b,"modify","LB_JZCB",M))}):"STATE_FPRZ_CG"===ce||"STATE_FPRZ_TG"===ce?le(function(){return n(v.jumpCalculateCxToLr(b,"modify","LB_FPRZ",M))}):"STATE_KJFP_XS"===ce||"STATE_KJFP_TS"===ce?le(function(){return n(v.jumpCalculateCxToLr(b,"modify","LB_KJFP",M))}):"STATE_ZCWJZZS"===ce?le(function(){return n(v.jumpCalculateCxToLr(b,"modify","LB_ZCWJZZS",M))}):"STATE_ZZ"===ce?le(function(){return n(v.jumpCalculateCxToLr(b,"modify","LB_ZZ",M))}):"STATE_CQZC_ZJTX"===ce?le(function(){return n(v.jumpCalculateCxToLr(b,"modify","LB_ZJTX",M))}):"STATE_GGFYFT"===ce?le(function(){return n(v.jumpCommonCharge(b,M))}):"STATE_CQZC_JZSY"===ce?le(function(){return n(v.getInitLraccountJzsy(b,M))}):n(N.getRunningBusinessDuty(b.get("flowNumber"),b.get("uuid"),M)):n(v.getBusinessPayment(b,"",M)))}},m.default.createElement(T.XfnIcon,{type:"sob-edit",disabled:!g,style:{fontSize:"22px",position:"relative",top:"1px"}})),P?"":m.default.createElement("span",{className:g&&!U?"ylls-opration-icon":"ylls-opration-icon-disabled",onClick:function(){if(g&&!U)if(M.some(function(e,t){return(e.get("parentUuid")?e.get("parentUuid"):e.get("uuid"))===me&&t===M.size-1}))n(v.deleteSingleFlow(me,function(){a(),D()}));else{var e=M.findIndex(function(e){return(e.get("parentUuid")?e.get("parentUuid"):e.get("uuid"))===me})+1;n(v.deleteSingleFlow(me,function(){n(L.getYllsBusinessData(M.get(e),function(){D()}))}))}}},m.default.createElement(T.XfnIcon,{type:"sob-delete"}))),m.default.createElement("div",{className:"ylls-drawer-content"},m.default.createElement("ul",{className:"ylls-item-detail"},m.default.createElement("li",null,m.default.createElement("span",null,"流水号："),m.default.createElement("span",null,b.get("flowNumber"))),m.default.createElement("li",null,m.default.createElement("span",null,"日期："),m.default.createElement("span",null,b.get("runningDate"))),m.default.createElement("li",null,m.default.createElement("span",null,"类别："),m.default.createElement("span",null,_e))),se?pe:m.default.createElement(S.Sfgl,{lsItemData:b,activeKey:X,onChangeActiveKey:this.onChangeActiveKey}),m.default.createElement("div",{style:{overflow:"hidden"}},(b.get("enclosureList")||[]).map(function(t,a){return m.default.createElement("div",{className:"upload",key:a},m.default.createElement("div",{className:"plus",onClick:function(){if("TRUE"===t.get("imageOrFile")||"application/pdf"==t.get("mimeType")){var n=0;Ce.forEach(function(e,a){t.get("enclosurePath")!==e.get("enclosurePath")||(n=a)}),e.setState({preview:!0,rotate:0,page:n})}else c.default.warn("仅图片及PDF格式支持预览")}},m.default.createElement("img",{src:(0,E.showImg)(t.get("imageOrFile"),t.get("fileName"))})),m.default.createElement("div",null,m.default.createElement("p",null,t.get("fileName")),m.default.createElement("span",null,t.get("size")>=1024?(t.get("size")/1024).toFixed(2)+"M":t.get("size")+"kb"),m.default.createElement("span",{style:{display:g?"":"none"},onClick:function(){return n(v.cxlsDownloadEnclosure(t.get("signedUrl"),t.get("fileName")))}},m.default.createElement(o.default,{type:"download"})),"无标签"===t.get("label")?"":m.default.createElement("span",{className:"tag"},t.get("label"))))})),m.default.createElement(h.default,{page:V,dispatch:n,preview:z,downloadPermission:g,previewImgArr:Ce,downloadEnclosure:function(e,t){return n((0,O.allDownloadEnclosure)(e,t))},closePreviewModal:function(){return e.setState({preview:!1})},type:"ls"}))),m.default.createElement(d.default,{visible:W,onCancel:function(){e.setState({manageModal:!1}),n(v.changeCxAccountCommonOutString("modalTemp",(0,_.fromJS)({runningDate:(0,E.formatDate)()})))},className:"single-manager",title:("debit"===J?"收款":"付款")+"核销",okText:"保存",onOk:function(){n(v.insertlrAccountManagerModal(function(){e.setState({manageModal:!1}),n(L.getYllsBusinessData(b,R))},H))}},m.default.createElement("div",{className:"manager-content"},m.default.createElement("div",null,m.default.createElement("label",null,"往来单位："),(F&&F.get("code"))+" "+(F&&F.get("name"))),m.default.createElement("div",{className:"manager-item"},m.default.createElement("label",null,"日期："),m.default.createElement(l.default,{allowClear:!1,value:te.get("runningDate")?(0,C.default)(te.get("runningDate")):"",onChange:function(e){var t=e.format("YYYY-MM-DD");n(v.changeCxAccountCommonOutString(["modalTemp","runningDate"],t))}})),m.default.createElement("div",{className:"manager-item"},m.default.createElement("label",null,"摘要："),m.default.createElement(i.default,{value:te.get("runningAbstract"),onChange:function(e){n(v.changeCxAccountCommonOutString(["modalTemp","runningAbstract"],e.target.value))}})),m.default.createElement("div",{className:"manager-item"},m.default.createElement("label",null,("debit"===J?"收款":"付款")+"金额："),m.default.createElement(i.default,{value:te.get("handlingAmount"),onChange:function(e){(0,E.numberTest)(e,function(e){n(v.changeCxAccountCommonOutString(["modalTemp","handlingAmount"],e))})}})),m.default.createElement("div",{className:"manager-item"},m.default.createElement("label",null,"账户："),m.default.createElement(u.default,{value:te.get("accountName"),onChange:function(e){var t=e.split(A.TREE_JOIN_STR)[0];e.split(A.TREE_JOIN_STR)[1];n(v.changeCxAccountCommonOutString(["modalTemp","accountName"],e)),n(v.changeCxAccountCommonOutString(["modalTemp","accountUuid"],t))}},ne.getIn([0,"childList"])?ne.getIn([0,"childList"]).map(function(e,t){return m.default.createElement(Option,{key:t,value:""+e.get("uuid")+A.TREE_JOIN_STR+e.get("name")},e.get("name"))}):[])))),m.default.createElement(d.default,{visible:Q,onCancel:function(){e.setState({carryoverModal:!1}),n(v.changeCxAccountCommonOutString("modalTemp",(0,_.fromJS)({runningDate:(0,E.formatDate)()})))},className:"single-manager",title:"成本结转",okText:"保存",onOk:function(){n(v.insertlrAccountCarryoverModal(function(){e.setState({carryoverModal:!1}),n(L.getYllsBusinessData(b,R))},H))}},m.default.createElement("div",{className:"manager-content"},m.default.createElement("div",{className:"manager-item"},m.default.createElement("label",null,"日期："),m.default.createElement(l.default,{allowClear:!1,value:te.get("runningDate")?(0,C.default)(te.get("runningDate")):"",onChange:function(e){var t=e.format("YYYY-MM-DD");n(v.changeCxAccountCommonOutString(["modalTemp","runningDate"],t))}})),m.default.createElement("div",{className:"manager-item"},m.default.createElement("label",null,"摘要："),m.default.createElement(i.default,{value:te.get("runningAbstract"),onChange:function(e){n(v.changeCxAccountCommonOutString(["modalTemp","runningAbstract"],e.target.value))}})),m.default.createElement("div",{className:"manager-item"},m.default.createElement("label",null,"金额："),m.default.createElement(i.default,{value:te.get("carryoverAmount"),onChange:function(e){(0,E.numberTest)(e,function(e){n(v.changeCxAccountCommonOutString(["modalTemp","carryoverAmount"],e))})}})))),m.default.createElement(d.default,{visible:q,onCancel:function(){e.setState({invioceModal:!1}),n(v.changeCxAccountCommonOutString("modalTemp",(0,_.fromJS)({runningDate:(0,E.formatDate)()})))},className:"single-manager",title:"开具发票",okText:"保存",onOk:function(){n(v.insertlrAccountInvioceModal(function(){e.setState({invioceModal:!1}),n(L.getYllsBusinessData(b,R))},H))}},m.default.createElement("div",{className:"manager-content"},m.default.createElement("div",{className:"manager-item"},m.default.createElement("label",null,"日期："),m.default.createElement(l.default,{allowClear:!1,value:te.get("runningDate")?(0,C.default)(te.get("runningDate")):"",onChange:function(e){var t=e.format("YYYY-MM-DD");n(v.changeCxAccountCommonOutString(["modalTemp","runningDate"],t))}})),m.default.createElement("div",{className:"manager-item"},m.default.createElement("label",null,"摘要："),m.default.createElement(i.default,{value:te.get("runningAbstract"),onChange:function(e){n(v.changeCxAccountCommonOutString(["modalTemp","runningAbstract"],e.target.value))}})))),m.default.createElement(d.default,{visible:$,onCancel:function(){e.setState({defineModal:!1}),n(v.changeCxAccountCommonOutString("modalTemp",(0,_.fromJS)({runningDate:(0,E.formatDate)()})))},className:"single-manager",title:"发票认证",okText:"保存",onOk:function(){n(v.insertlrAccountInvioceDefineModal(function(){e.setState({defineModal:!1}),n(L.getYllsBusinessData(b,R))},H))}},m.default.createElement("div",{className:"manager-content"},m.default.createElement("div",{className:"manager-item"},m.default.createElement("label",null,"日期："),m.default.createElement(l.default,{allowClear:!1,value:te.get("runningDate")?(0,C.default)(te.get("runningDate")):"",onChange:function(e){var t=e.format("YYYY-MM-DD");n(v.changeCxAccountCommonOutString(["modalTemp","runningDate"],t))}})),m.default.createElement("div",{className:"manager-item"},m.default.createElement("label",null,"摘要："),m.default.createElement(i.default,{value:te.get("runningAbstract"),onChange:function(e){n(v.changeCxAccountCommonOutString(["modalTemp","runningAbstract"],e.target.value))}})))),m.default.createElement(d.default,{visible:ee,onCancel:function(){e.setState({jzsyModal:!1}),n(v.changeCxAccountCommonOutString("modalTemp",(0,_.fromJS)({runningDate:(0,E.formatDate)()})))},className:"single-manager",title:"结转损益",okText:"保存",onOk:function(){n(v.insertlrAccountJzsyModal(function(){return e.setState({jzsyModal:!1})}))}},m.default.createElement("div",{className:"manager-content"},m.default.createElement("div",{className:"manager-item"},m.default.createElement("label",null,"日期："),m.default.createElement(l.default,{allowClear:!1,value:te.get("runningDate")?(0,C.default)(te.get("runningDate")):"",onChange:function(e){var t=e.format("YYYY-MM-DD");n(v.changeCxAccountCommonOutString(["modalTemp","runningDate"],t))}}),b&&b.get("beProject")?m.default.createElement(r.default,{className:"use-unuse-style",style:{marginLeft:".2rem"},checked:te.get("usedProject"),checkedChildren:"项目",onChange:function(){n(v.changeCxAccountCommonOutString(["modalTemp","usedProject"],!te.get("usedProject")))}}):""),m.default.createElement("div",{className:"manager-item"},m.default.createElement("label",null,"摘要："),m.default.createElement(i.default,{value:te.get("runningAbstract"),onChange:function(e){n(v.changeCxAccountCommonOutString(["modalTemp","runningAbstract"],e.target.value))}})),te.get("usedProject")?m.default.createElement("div",{className:"manager-item"},m.default.createElement("label",null,"项目："),m.default.createElement(u.default,{combobox:!0,showSearch:!0,value:(te.getIn(["projectCard","code"])?te.getIn(["projectCard","code"]):"")+" "+(te.getIn(["projectCard","name"])?te.getIn(["projectCard","name"]):""),onChange:function(e){var t=e.split(A.TREE_JOIN_STR),a=t[0],r=t[1],u=t[2];n(v.changeCxAccountCommonOutString(["modalTemp","projectCard"],(0,_.fromJS)({uuid:a,code:r,name:u})))}},K&&K.map(function(e,t){return m.default.createElement(Option,{key:t,value:""+e.get("uuid")+A.TREE_JOIN_STR+e.get("code")+A.TREE_JOIN_STR+e.get("name")},e.get("code")+" "+e.get("name"))}))):"",m.default.createElement("div",{className:"manager-item"},m.default.createElement("label",null,te.get("netProfitAmount")>0?"净收益金额：":"净损失金额："),te.get("netProfitAmount")>0?te.get("netProfitAmount"):te.get("lossAmount")),m.default.createElement("div",{className:"manager-item"},m.default.createElement("label",null,"资产原值："),m.default.createElement(i.default,{value:te.getIn(["acAssets","originalAssetsAmount"]),onChange:function(e){(0,E.numberTest)(e,function(e){n(v.changeCxAccountCommonOutString(["modalTemp","acAssets","originalAssetsAmount"],e)),n(v.calculateGainForJzsy())})}})),m.default.createElement("div",{className:"manager-item"},m.default.createElement("label",null,"累计折旧摊销："),m.default.createElement(i.default,{value:te.getIn(["acAssets","depreciationAmount"]),onChange:function(e){(0,E.numberTest)(e,function(e){n(v.changeCxAccountCommonOutString(["modalTemp","acAssets","depreciationAmount"],e)),n(v.calculateGainForJzsy())})}})),m.default.createElement("div",{className:"manager-item"},m.default.createElement("label",null,"处置金额："),w?(0,E.formatMoney)(w.get("amount")-w.get("tax")):""))))}}]),t}())||a;t.default=R},1290:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,n=arguments[1];return((e={},i(e,r.INIT_PZ_BOMB,function(){var e=n.receivedData.jvlist;if(e.length<5){for(var r=e.length,u=[],i=0;i<5-r;i++)console.log(i),u.push({jvdirection:"",jvabstract:"",acid:"",acfullname:"",jvamount:"",asslist:[],acunitOpen:"0",jvcount:"",price:"",jvunit:"",fcStatus:"0",fcNumber:"",exchange:"",standardAmount:""});e=e.concat(u)}return t=function(e){var t=0,n=0;return e.get("jvList").forEach(function(e){"credit"==e.get("jvdirection")?t+=Number(e.get("jvamount")):"debit"==e.get("jvdirection")&&(n+=Number(e.get("jvamount")))}),(e=(e=e.setIn(["flags","creditTotal"],t?t.toFixed(2).toString():"0.00")).setIn(["flags","debitTotal"],n?n.toFixed(2).toString():"0.00")).setIn(["flags","totalBalance"],Number((n-t).toFixed(2)))}(t=t.set("jvList",(0,a.fromJS)(e))).set("createdBy",n.receivedData.createdby).set("closedBy",n.receivedData.closedby).set("reviewedBy",n.receivedData.reviewedby).set("vcDate",n.receivedData.vcdate).set("vcIndex",n.receivedData.vcindex).set("year",n.receivedData.year).set("month",n.receivedData.month).set("createdTime",n.receivedData.createdtime).set("modifiedTime",n.receivedData.modifiedtime).set("enclosureList",(0,a.fromJS)(n.receivedData.enclosureList)).set("enclosureCountUser",n.receivedData.enclosureCountUser).setIn(["flags","voucherIndexList"],n.voucherIndexList).setIn(["flags","voucherIdx"],n.voucherIdx).set("receivedData",(0,a.fromJS)(n.receivedData))}),i(e,r.PZBOMB_REVIEWEDBY_VC,function(){return t.set("reviewedBy",n.reviewedBy).setIn(["receivedData","reviewedby"],n.reviewedBy)}),i(e,r.CANCEL_PZBOMB_REVIEWEDBY_VC,function(){return t.set("reviewedBy","").setIn(["receivedData","reviewedby"],"")}),e)[n.type]||function(){return t})()};var a=n(18),r=u(n(1246));u(n(27));function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=(0,a.fromJS)({flags:{debitTotal:"0.00",creditTotal:"0.00",voucherIndexList:[],voucherIdx:0},vcIndex:"",year:"",month:"",vcDate:"",createdTime:"",modifiedTime:"",createdBy:"",closedBy:"",reviewedBy:"",enclosureCountUser:"",jvList:[],enclosureList:[]})},1292:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(1),l=(r=i)&&r.__esModule?r:{default:r},s=n(17),c=n(22);var o=(0,s.immutableRenderDecorator)(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),u(t,[{key:"render",value:function(){var e=this.props.itemData,t=e.get("tax"),n=e.get("taxRate"),a=(e.get("billStates"),e.get("billType")),r=a?"bill_other"===a?"其他票据":{bill_common:"发票(税额"+(0,c.formatMoney)(t,2,"")+"，税率"+n+"%)",bill_special:"增值税发票(税额"+(0,c.formatMoney)(t,2,"")+"，税率"+n+"%)"}[a]:"";return a?l.default.createElement("li",null,l.default.createElement("span",null,"票据："),l.default.createElement("span",null,r)):""}}]),t}())||a;t.default=o},1293:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=o(n(14)),u=o(n(1272)),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(78),n(1271);var l=o(n(1)),s=n(17),c=n(22);function o(e){return e&&e.__esModule?e:{default:e}}var d=u.default.Panel,f=(0,s.immutableRenderDecorator)(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),i(t,[{key:"render",value:function(){var e=this.props,t=e.title,n=(e.lsItemData,e.activeKey),a=e.onChangeActiveKey,i=e.itemList,s=e.amountStr,o=e.amountStr2,f=l.default.createElement("div",{className:n.length>0?"ylls-item-child-title":"ylls-item-child-title-no"},l.default.createElement("span",null,t),l.default.createElement("span",null,n.length>0?"收起":"展开",l.default.createElement(r.default,{type:n.length>0?"up":"down"})));return l.default.createElement("div",{className:"ylls-item-child-list"},i&&i.size?l.default.createElement(u.default,{bordered:!1,activeKey:n,onChange:a},l.default.createElement(d,{showArrow:!1,header:f,key:"1"},l.default.createElement("ul",null,i.map(function(e,t){return l.default.createElement("li",{className:"ylls-item-child-item",key:t},l.default.createElement("div",null,l.default.createElement("span",null,""+e.get("categoryName")),l.default.createElement("span",null,"流水号：",e.get("flowNumber"))),l.default.createElement("div",null,l.default.createElement("span",null,"金额"),l.default.createElement("span",null,"amount-tax"===s?(0,c.formatMoney)(Number(e.get("amount"))-Number(e.get("tax")),2,""):s?(0,c.formatMoney)(e.get(s)?e.get(s):e.get(o),2,""):(0,c.formatMoney)(e.get("handleAmount"),2,""))))})))):"")}}]),t}())||a;t.default=f},1301:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,n=arguments[1];return((e={},c(e,a.INIT_LR_ACOUNT_STATE,function(){return o}),c(e,a.INIT_LR_ACCOUNT,function(){var e=t.get("hideCategoryList");t.getIn(["flags","paymentType"]);if("init"===n.strJudgeType){var a=t.get("issues");t=o.set("issues",a)}if("saveAndNew"===n.strJudgeType){var u=o.get("cardTemp"),i=t.getIn(["cardTemp","payableRate"]),l=t.getIn(["cardTemp","outputRate"]),s=t.getIn(["cardTemp","scale"]),c=t.getIn(["cardTemp","runningDate"]),d=t.getIn(["cardTemp","categoryType"]),f=t.getIn(["cardTemp","name"]);t=t.setIn(["flags","insertOrModify"],"insert").setIn(["flags","runningInsertOrModify"],"insert").set("cardTemp",u).setIn(["cardTemp","payableRate"],i).setIn(["cardTemp","outputRate"],l).setIn(["cardTemp","categoryType"],d).setIn(["cardTemp","scale"],s).setIn(["cardTemp","runningDate"],c).setIn(["cardTemp","name"],f).setIn(["flags","isQueryByBusiness"],!1).setIn(["flags","specialStateforAssets"],!1).setIn(["flags","specialStateforAccrued"],!1).setIn(["flags","needRelaList"],!1).setIn(["flags","uuidList"],(0,r.fromJS)([])).setIn(["flags","isQuery"],!1).set("enclosureList",(0,r.fromJS)([])).set("label",(0,r.fromJS)([])).set("needDeleteUrl",(0,r.fromJS)([]))}else if("afterSave"===n.strJudgeType){var g=(0,r.fromJS)(n.receivedData),m=t.getIn(["flags","runningInsertOrModify"]),p=t.getIn(["cardTemp","runningState"]);t=t.set("cardTemp",g).setIn(["flags","insertOrModify"],"modify").setIn(["flags","amount"],g.get("amount")).setIn(["flags","runningInsertOrModify"],"modify").setIn(["flags","isQuery"],!0),n.callBackObj.flowNumber&&(t=t.setIn(["cardTemp","flowNumber"],n.callBackObj.flowNumber)),"insert"===m&&n.callBackObj.uuid&&(t=t.setIn(["cardTemp","uuid"],n.callBackObj.uuid)),"STATE_JK_ZFLX"!==p&&"STATE_TZ_SRGL"!==p&&"STATE_TZ_SRLX"!==p&&"STATE_ZB_ZFLR"!==p&&"STATE_XC_FF"!==p&&"STATE_XC_JN"!==p&&"STATE_SF_JN"!==p&&"STATE_ZS_TH"!==p&&"STATE_ZF_SH"!==p&&"STATE_SF_SFJM"!==p||(t=t.setIn(["flags","specialStateforAccrued"],!0))}else if("fromCxAccount"===n.strJudgeType){var _=(0,r.fromJS)(n.receivedData.result),T=_.get("enclosureList")?(0,r.fromJS)(_.get("enclosureList")):(0,r.fromJS)([]),C=_.get("runningState"),A=t.getIn(["cardTemp","scale"]),y=t.getIn(["flags","uuidList"]),E=t.getIn(["flags","paymentType"]),I=t.get("calculateTemp");t=o.set("cardTemp",_).set("calculateTemp",I).setIn(["flags","PageTab"],"business").setIn(["flags","insertOrModify"],"modify").setIn(["flags","paymentType"],E).setIn(["flags","runningInsertOrModify"],"modify").setIn(["flags","amount"],_.get("amount")).setIn(["flags","isQuery"],!0).setIn(["cardTemp","name"],_.get("categoryName")).set("hideCategoryList",e).set("enclosureList",T).setIn(["cardTemp","queryObj","amount"],_.get("amount")).setIn(["cardTemp","queryObj","handleAmount"],_.get("handleAmount")).setIn(["cardTemp","queryObj","offsetAmount"],_.get("offsetAmount")),"LB_XCZC"===_.get("categoryType")&&(t=t.setIn(["cardTemp","queryObj","personAccumulationAmount"],_.getIn(["acPayment","personAccumulationAmount"])).setIn(["cardTemp","queryObj","personSocialSecurityAmount"],_.getIn(["acPayment","personSocialSecurityAmount"])).setIn(["cardTemp","queryObj","incomeTaxAmount"],_.getIn(["acPayment","incomeTaxAmount"])).setIn(["cardTemp","queryObj","companySocialSecurityAmount"],_.getIn(["acPayment","companySocialSecurityAmount"])).setIn(["cardTemp","queryObj","companyAccumulationAmount"],_.getIn(["acPayment","companyAccumulationAmount"]))),"STATE_JK_ZFLX"!==C&&"STATE_TZ_SRGL"!==C&&"STATE_TZ_SRLX"!==C&&"STATE_ZB_ZFLR"!==C&&"STATE_XC_FF"!==C&&"STATE_XC_JN"!==C&&"STATE_SF_JN"!==C&&"STATE_ZS_TH"!==C&&"STATE_ZF_SH"!==C&&"STATE_SF_SFJM"!==C||!_.get("paymentList").size||(t=t.setIn(["flags","specialStateforAccrued"],!0)),(n.uuidList||y.size)&&(t=t.setIn(["flags","needRelaList"],!0)),n.uuidList?t=t.setIn(["flags","uuidList"],n.uuidList):y.size&&(t=t.setIn(["flags","uuidList"],y)),Number(_.get("amount"))===Number(_.get("currentAmount"))&&(t=t.setIn(["flags","allGetFlow"],!0)),t=t.setIn(["flags","isQueryByBusiness"],!0).setIn(["cardTemp","scale"],A).setIn(["flags","currentSwitchUuid"],n.uuid)}return t}),c(e,a.INIT_LR_ACCOUNT_SETTINGS,function(){return t=t.setIn(["cardTemp","payableRate"],n.rate.payableRate).setIn(["cardTemp","outputRate"],n.rate.outputRate).setIn(["cardTemp","scale"],n.rate.scale).set("hideCategoryList",(0,r.fromJS)(n.hideCategoryList))}),c(e,a.COST_TRANSFER_FROM_CXLS_JUMP_TO_LRLS,function(){var e=t.getIn(["flags","uuidList"]);return t=(t=o.setIn(["cardTemp","payableRate"],n.rate.payableRate).setIn(["cardTemp","outputRate"],n.rate.outputRate).setIn(["cardTemp","scale"],n.rate.scale).set("hideCategoryList",(0,r.fromJS)(n.hideCategoryList)).setIn(["flags","currentSwitchUuid"],n.item.get("uuid"))).setIn(["flags","PageTab"],"payment").setIn(["flags","paymentType"],"LB_JZCB"),n.fromRefresh&&(t=t.setIn(["flags","isQueryByBusiness"],!0).setIn(["flags","runningInsertOrModify"],"modify")),(n.uuidList||e.size)&&(t=t.setIn(["flags","needRelaList"],!0)),n.uuidList?t=t.setIn(["flags","uuidList"],n.uuidList):e.size&&(t=t.setIn(["flags","uuidList"],e)),t}),c(e,a.INVOICE_AUTH_FROM_CXLS_JUMP_TO_LRLS,function(){var e=t.getIn(["flags","uuidList"]);return t=(t=o.setIn(["cardTemp","payableRate"],n.rate.payableRate).setIn(["cardTemp","outputRate"],n.rate.outputRate).setIn(["cardTemp","scale"],n.rate.scale).set("hideCategoryList",(0,r.fromJS)(n.hideCategoryList)).setIn(["flags","currentSwitchUuid"],n.item.get("uuid"))).setIn(["flags","PageTab"],"payment").setIn(["flags","paymentType"],"LB_FPRZ"),n.fromRefresh&&(t=t.setIn(["flags","isQueryByBusiness"],!0).setIn(["flags","runningInsertOrModify"],"modify")),(n.uuidList||e.size)&&(t=t.setIn(["flags","needRelaList"],!0)),n.uuidList?t=t.setIn(["flags","uuidList"],n.uuidList):e.size&&(t=t.setIn(["flags","uuidList"],e)),t}),c(e,a.CALCULATE_FROM_CXLS_JUMP_TO_LRLS,function(){var e=t.getIn(["flags","uuidList"]);return t=(t=o.setIn(["cardTemp","payableRate"],n.rate.payableRate).setIn(["cardTemp","outputRate"],n.rate.outputRate).setIn(["cardTemp","scale"],n.rate.scale).set("hideCategoryList",(0,r.fromJS)(n.hideCategoryList))).setIn(["flags","PageTab"],"payment").setIn(["flags","paymentType"],n.pageType),n.fromRefresh&&(t=t.setIn(["flags","isQueryByBusiness"],!0).setIn(["flags","runningInsertOrModify"],"modify")),(n.uuidList||e.size)&&(t=t.setIn(["flags","needRelaList"],!0)),n.uuidList?t=t.setIn(["flags","uuidList"],n.uuidList):e.size&&(t=t.setIn(["flags","uuidList"],e)),t}),c(e,a.CALCULATE_CHANGE_QUERY,function(){return t=t.setIn(["flags","isQueryByBusiness"],!0).setIn(["flags","runningInsertOrModify"],"modify")}),c(e,a.INVOICING_FROM_CXLS_JUMP_TO_LRLS,function(){var e=t.getIn(["flags","uuidList"]);return t=(t=o.setIn(["cardTemp","payableRate"],n.rate.payableRate).setIn(["cardTemp","outputRate"],n.rate.outputRate).setIn(["cardTemp","scale"],n.rate.scale).set("hideCategoryList",(0,r.fromJS)(n.hideCategoryList)).setIn(["flags","currentSwitchUuid"],n.item.get("uuid"))).setIn(["flags","PageTab"],"payment").setIn(["flags","paymentType"],"LB_KJFP"),n.fromRefresh&&(t=t.setIn(["flags","isQueryByBusiness"],!0).setIn(["flags","runningInsertOrModify"],"modify")),(n.uuidList||e.size)&&(t=t.setIn(["flags","needRelaList"],!0)),n.uuidList?t=t.setIn(["flags","uuidList"],n.uuidList):e.size&&(t=t.setIn(["flags","uuidList"],e)),t}),c(e,a.SELECT_ACCOUNT_RUNNING_CATEGORY,function(){t=t.setIn(["flags","insertOrModify"],"modify").setIn(["flags","showModal"],!0).mergeIn(["cardTemp"],(0,r.fromJS)(n.name)).deleteIn(["cardTemp","parentUuid"]).setIn(["cardTemp","assetType"],""),n.name.beProject&&(t=t.setIn(["cardTemp","usedProject"],!0).setIn(["cardTemp","projectCard"],(0,r.fromJS)([{uuid:""}])));var e=t.getIn(["cardTemp","uuid"]);return t.setIn(["cardTemp","categoryUuid"],e)}),c(e,a.TRANSFER_OUT_FROM_CXLS_JUMP_TO_LRLS,function(){var e=t.getIn(["flags","uuidList"]);return(n.uuidList||e.size)&&(t=t.setIn(["flags","needRelaList"],!0)),n.uuidList?t=t.setIn(["flags","uuidList"],n.uuidList):e.size&&(t=t.setIn(["flags","uuidList"],e)),t.setIn(["flags","currentSwitchUuid"],n.item.get("uuid"))}),c(e,a.TRANSFER_OUT_FROM_CXLS_JUMP_TO_NBZZ,function(){var e=t.getIn(["flags","uuidList"]);return(n.uuidList||e.size)&&(t=t.setIn(["flags","needRelaList"],!0)),n.uuidList?t=t.setIn(["flags","uuidList"],n.uuidList):e.size&&(t=t.setIn(["flags","uuidList"],e)),t.setIn(["flags","currentSwitchUuid"],n.item.get("uuid"))}),c(e,a.TRANSFER_OUT_FROM_CXLS_JUMP_TO_ZJTX,function(){var e=t.getIn(["flags","uuidList"]);return(n.uuidList||e.size)&&(t=t.setIn(["flags","needRelaList"],!0)),n.uuidList?t=t.setIn(["flags","uuidList"],n.uuidList):e.size&&(t=t.setIn(["flags","uuidList"],e)),t.setIn(["flags","currentSwitchUuid"],n.item.get("uuid"))}),c(e,a.TRANSFER_OUT_FROM_CXLS_JUMP_TO_ZJTX,function(){var e=t.getIn(["flags","uuidList"]);return(n.uuidList||e.size)&&(t=t.setIn(["flags","needRelaList"],!0)),n.uuidList?t=t.setIn(["flags","uuidList"],n.uuidList):e.size&&(t=t.setIn(["flags","uuidList"],e)),t.setIn(["flags","currentSwitchUuid"],n.item.get("uuid"))}),c(e,a.SELECT_RUNNING_AC_INFO,function(){return t=t.setIn(["cardTemp",n.idPlace],n.acid).setIn(["cardTemp",n.namePlace],n.acFullName).setIn(["cardTemp",n.assPlace],(0,r.fromJS)([]))}),c(e,a.SELECT_ACCOUNT_ASS,function(){var e=n.assCategory,a=t.getIn(["cardTemp",n.place]),u=a.findIndex(function(t){return t.get("assCategory")===e});return t=-1===u?t.updateIn(["cardTemp",n.place],function(t){return t.set(t.size,(0,r.fromJS)({assId:n.assId,assName:n.assName,assCategory:e}))}):t.updateIn(["cardTemp",n.place],function(e){return e.setIn([u,"assId"],n.assId).setIn([u,"assName"],n.assName)})}),c(e,a.CHANGE_LR_ACCOUNT_COMMON_STRING,function(){return n.placeArr&&(t=t.setIn(n.placeArr,n.value)),n.place&&(t=t.set(n.place,n.value)),t}),c(e,a.GET_RUNNING_ACCOUNT_INFO,function(){switch(n.wordType){case"VAT":t=t.setIn(["cardTemp","paymentList"],(0,r.fromJS)(n.receivedData.resultList));break;case"socialSecurity":t=t.setIn(["cardTemp","socialSecurityAmount"],n.receivedData.socialSecurityAmount);break;case"fund":t=t.setIn(["cardTemp","accumulationAmount"],n.receivedData.accumulationAmount);break;case"sfAmount":t=t.setIn(["cardTemp","sfAmount"],n.receivedData.amount);break;case"other":t=t.setIn(["cardTemp","paymentList"],(0,r.fromJS)(n.receivedData.resultList));case"accruedZZS":t=t.setIn(["cardTemp","preAmount"],n.receivedData.amount);break;default:t=t.setIn(["cardTemp","payableAmount"],n.receivedData.amount).setIn(["cardTemp","preAmount"],n.receivedData.preAmount)}return t}),c(e,a.CHANGE_LR_ACCOUNT_ACCOUNT_NAME,function(){var e=n.value.split(i.TREE_JOIN_STR);return t=t.setIn([n.tab+"Temp",n.placeUUid],e[0]).setIn([n.tab+"Temp",n.placeName],e[1])}),c(e,a.CHANGE_ACCOUNT_BILL_TYPE,function(){var e=t.getIn(["cardTemp","taxRate"]);return e&&(t=t.setIn(["cardTemp","tax"],(Number(e)*Number(n.value)/100).toFixed(2))),t=t.setIn(["cardTemp","amount"],n.value)}),c(e,a.AUTO_CALCULATE_BILL_INFO,function(){var e=n.strJudgeType;return function(e,t){var n=t.getIn(["cardTemp","priceTaxTotal"]),a=Number(t.getIn(["cardTemp","taxRate"]))/100,r=t.getIn(["cardTemp","tax"]);"priceTaxTotal"==e?r=Number(n)-Number(n)/(1+a):"taxRate"==e&&(r=""==n?"":Number(n)-Number(n)/(1+a));return t=t.setIn(["cardTemp","tax"],Number(r).toFixed(2))}(e,t)}),c(e,a.CHANGE_ACCOUNT_TAX_RATE,function(){var e=t.getIn(["cardTemp","amount"]);n.value&&(t=t.setIn(["cardTemp","taxRate"],n.value));var a=t.getIn(["cardTemp","taxRate"]);return e&&(t=100==a?t.setIn(["cardTemp","tax"],e):t.setIn(["cardTemp","tax"],(Number(e)/(1+Number(a)/100)*Number(a)/100).toFixed(2))),t}),c(e,a.CHANGE_ACCOUNT_FZHS_MODAL_DISPLAY,function(){return t.updateIn(["flags","accountAssModalShow"],function(e){return!e})}),c(e,a.CHANGE_ACCOUNT_ASS_CATEGORY,function(){return t.setIn(["ass","asscategory"],n.assCategory)}),c(e,a.CHANGE_ACCOUNT_FZHS_MODAL_CLEAR,function(){return t.set("ass",o.get("ass")).updateIn(["flags","accountAssModalShow"],function(e){return!e})}),c(e,a.CHANGE_ACCOUNT_ASSID,function(){return t.setIn(["ass","assid"],n.value)}),c(e,a.CHANGE_ACCOUNT_ASSNAME,function(){return t.setIn(["ass","assname"],n.value)}),c(e,a.CHANGE_ACCOUNT_SALARY,function(){return t=t.setIn(["cardTemp","acPayment",n.place],n.value),n.checkplace&&(t=t.setIn(["flags",n.checkplace],n.checked)),t}),c(e,a.CALCULATE_AMOUNT,function(){var e=t.getIn(["cardTemp","acPayment","companyAccumulationAmount"]),n=t.getIn(["cardTemp","acPayment","personAccumulationAmount"]),a=t.getIn(["cardTemp","acPayment","companySocialSecurityAmount"]),r=t.getIn(["cardTemp","acPayment","personSocialSecurityAmount"]),u=t.getIn(["cardTemp","acPayment","incomeTaxAmount"]),i=t.getIn(["cardTemp","amount"]),l=(t.getIn(["cardTemp","categoryType"]),t.getIn(["cardTemp","propertyPay"])),s=void 0;switch(l){case"SX_GZXJ":s=(Number(i)-Number(n)-Number(r)-Number(u)).toFixed(2);break;case"SX_ZFGJJ":s=(Number(n)+Number(e)).toFixed(2);break;case"SX_SHBX":s=(Number(a)+Number(r)).toFixed(2);break;default:s=0}return t=t.setIn(["cardTemp","acPayment","actualAmount"],s)}),c(e,a.UPDATE_ACCOUNT_LIST,function(){var e=void 0;if(n.empty)return t.setIn([].concat(s(n.placeArr)),(0,r.fromJS)([]));var a=t.getIn(n.placeArr).toJS().some(function(t,a){if(t.assCategory===n.value.assCategory)return e=a,!0});return t=a?t.setIn([].concat(s(n.placeArr),[e]),(0,r.fromJS)(n.value)):t.updateIn(n.placeArr,function(e){return e.push((0,r.fromJS)(n.value))})}),c(e,a.CALCULATE_GAIN_OR_LOSS,function(){var e=n.place,a=n.diff,r=n.deletePlace;return t.setIn(e,a).deleteIn(r,a)}),c(e,a.INIT_PAYMENT_STATE,function(){var e=t.getIn(["flags","uuidList"]);if(t=t.set("calculateTemp",n.item).setIn(["flags","PageTab"],"payment").mergeIn(["calculateTemp"],(0,r.fromJS)(n.result)).setIn(["flags","selectList"],(0,r.fromJS)([])).setIn(["flags","indexList"],(0,r.fromJS)([])).setIn(["flags","paymentType"],"LB_SFGL").setIn(["calculateTemp","ass"],n.assName).setIn(["flags","modify"],!1).setIn(["flags","paymentInsertOrModify"],"modify").setIn(["calculateTemp","runningAbstract2"],n.item.get("runningAbstract")).setIn(["calculateTemp","runningDate2"],n.item.get("runningDate")).setIn(["flags","currentSwitchUuid"],n.item.get("uuid")).setIn(["flags","isQuery"],!0).set("enclosureList",(0,r.fromJS)(n.result.enclosureList)),"state_ts"===n.stateType&&(t=t.updateIn(["calculateTemp","handleAmount"],function(e){return-Math.abs(e)}).updateIn(["calculateTemp","notHandleAmount"],function(e){return-Math.abs(e)})),(n.uuidList||e.size)&&(t=t.setIn(["flags","needRelaList"],!0)),n.uuidList?t=t.setIn(["flags","uuidList"],n.uuidList):e.size&&(t=t.setIn(["flags","uuidList"],e)),n.fromCxls&&n.result.detail&&n.result.detail.length){var a=[],u=[];n.result.detail.map(function(e,t){a.push(e.uuid),u.push(t)}),t=t.setIn(["flags","selectList"],(0,r.fromJS)(a)).setIn(["flags","indexList"],(0,r.fromJS)(u))}return t}),c(e,a.GET_PAYMENT_PERIOD,function(){return(t=t.setIn(["calculateTemp","detail"],(0,r.fromJS)(n.receivedData)).setIn(["flags","isQuery"],!1)).setIn(["flags","selectList"],(0,r.fromJS)([])).setIn(["flags","indexList"],(0,r.fromJS)([])).setIn(["flags","totalAmount"],0)}),c(e,a.LRACCOUNT_ITEM_CHECKBOX_CHECK_ALL,function(){if(n.selectAll)return t.setIn(["flags","selectList"],(0,r.fromJS)([])).setIn(["flags","indexList"],(0,r.fromJS)([]));var e=n.list,a=[],u=[];return e&&e.size&&e.forEach(function(e,t){a.push(e.get("uuid")),u.push(t)}),t.setIn(["flags","selectList"],(0,r.fromJS)(a)).setIn(["flags","indexList"],(0,r.fromJS)(u))}),c(e,a.LRACCOUNT_ITEM_CHECKBOX_CHECK,function(){var e=t.getIn(["flags","selectList"]),a=t.getIn(["flags","indexList"]);if(n.checked){var r=e.splice(e.findIndex(function(e){return e===n.uuid}),1),u=a.splice(a.findIndex(function(e){return e===n.index}),1);return t.setIn(["flags","selectList"],r).setIn(["flags","indexList"],u)}var i=e.push(n.uuid),l=a.push(n.index);return t.setIn(["flags","selectList"],i).setIn(["flags","indexList"],l)}),c(e,a.INIT_LR_ACCOUNT_PAYMENT,function(){if(n.saveAndNew){var e=t.getIn(["calculateTemp","runningDate"]);t=t.set("calculateTemp",o.get("calculateTemp")).setIn(["calculateTemp","runningDate"],e).setIn(["flags","isQuery"],!1).setIn(["flags","modify"],!1).setIn(["flags","paymentInsertOrModify"],"insert").setIn(["flags","indexList"],(0,r.fromJS)([])).setIn(["flags","selectList"],(0,r.fromJS)([])).setIn(["flags","totalAmount"],0).setIn(["flags","accountType"],"notSingle").set("enclosureList",(0,r.fromJS)([])).set("label",(0,r.fromJS)([])).set("needDeleteUrl",(0,r.fromJS)([]))}else"insert"===n.paymentInsertOrModify&&(t=t.setIn(["calculateTemp","uuid"],n.currentUuid)),t=t.setIn(["flags","isQuery"],!0).setIn(["flags","modify"],!1).setIn(["flags","paymentInsertOrModify"],"modify");return t}),c(e,a.AFTER_SAVE_ACCOUNT_PAYMENT,function(){var e=n.result.enclosureList?n.result.enclosureList:[];return t.set("calculateTemp",(0,r.fromJS)(n.result)).setIn(["flags","accountType"],"notSingle").set("enclosureList",(0,r.fromJS)(e)).setIn(["flags","isQuery"],!0).setIn(["flags","modify"],!1).setIn(["calculateTemp","uuid"],n.currentUuid).setIn(["flags","paymentInsertOrModify"],"modify")}),c(e,a.LRACCOUNT_ITEM_SEARCH_CARD_LIST,function(){if(n.isSearch){var e=n.list.map(function(e){var t=e.string.split(i.TREE_JOIN_STR)[0],n=e.string.split(i.TREE_JOIN_STR)[1],a=e.uuid;return(0,r.fromJS)({code:t,name:n,uuid:a})});return t.setIn(["flags","selectThingsList"],(0,r.fromJS)(e))}return t.setIn(["flags","selectThingsList"],(0,r.fromJS)(n.list))}),c(e,a.ACCOUNT_IUMANAGE_LIST_TITLE,function(){return t.set("tags",(0,r.fromJS)(n.data))}),c(e,a.CHANGE_ACCOUNT_MANAGE_CARD_RELATION,function(){var e=t.get("tags"),a="";if(e.find(function(t,u){t.get("uuid")===n.tag.get("uuid")&&(e=e.setIn([u,"checked"],n.checked),t.get("selectUuid")&&(a=t.get("selectUuid")),n.checked&&(e=e.setIn([u,"tree"],(0,r.fromJS)(n.tree)),0===n.tree[0].childList.length&&(e=e.setIn([u,"selectUuid"],n.tree[0].uuid).setIn([u,"selectName"],n.tree[0].name),a=n.tree[0].uuid)))}),n.checked)t=t.setIn(["iuManageTypeCard","categoryTypeList"],t.getIn(["iuManageTypeCard","categoryTypeList"]).push((0,r.fromJS)({ctgyUuid:n.tag.get("uuid"),subordinateUuid:a})));else{var u=t.getIn(["iuManageTypeCard","categoryTypeList"]).findIndex(function(e,t){return e.get("ctgyUuid")===n.tag.get("uuid")});t=t.setIn(["iuManageTypeCard","categoryTypeList"],t.getIn(["iuManageTypeCard","categoryTypeList"]).delete(u))}return t=t.set("tags",e)}),c(e,a.ACCOUNT_SAVE_IUMANAGE_TYPE_CARD,function(){if("insertAndNew"===n.flag)t=t.setIn(["iuManageTypeCard","code"],n.code).setIn(["iuManageTypeCard","name"],"");else{var e=o.get("iuManageTypeCard");t=t.set("iuManageTypeCard",e)}return t}),c(e,a.ACCOUNT_CHANGE_IUMANAGE_CARD_AC,function(){return t=t.setIn([n.place,n.acId],n.uuid).setIn([n.place,n.acName],n.name)}),c(e,a.CHANGE_ACCOUNT_CARD_RELATION_TYPE,function(){return t.getIn(["iuManageTypeCard","categoryTypeList"]).find(function(e,a){e.get("ctgyUuid")===n.tag.get("uuid")&&(t=t.setIn(["iuManageTypeCard","categoryTypeList",a,"subordinateUuid"],n.uuid))}),t.get("tags").find(function(e,a){e.get("uuid")===n.tag.get("uuid")&&(t=t.set("tags",t.get("tags").setIn([a,"selectUuid"],n.uuid).setIn([a,"selectName"],n.name)))}),t}),c(e,a.ACCOUNT_CHANGE_INVENTORY_CARD_NATURE,function(){return t=t.setIn(["inventorySettingCard",n.name],n.value)}),c(e,a.ACCOUNT_CHANGE_INVENTORY_CARD_CATEGORY_STATUS,function(){var e="";if(t.get("tagsStock").find(function(a,u){if(a.get("uuid")===n.item.get("uuid"))return t=t.setIn(["tagsStock",u,"checked"],n.value).setIn(["tagsStock",u,"tree"],(0,r.fromJS)(n.list)),a.get("selectUuid")&&(e=a.get("selectUuid")),void(n.value&&0===n.list[0].childList.length&&(t=t.setIn(["tagsStock",u,"selectUuid"],n.list[0].uuid).setIn(["tagsStock",u,"selectName"],n.list[0].name),e=n.list[0].uuid))}),n.value){var a=(0,r.fromJS)({ctgyUuid:n.item.get("uuid"),subordinateUuid:e}),u=t.getIn(["inventorySettingCard","categoryTypeList"]).push(a);t=t.setIn(["inventorySettingCard","categoryTypeList"],u)}else{var i=t.getIn(["inventorySettingCard","categoryTypeList"]).findIndex(function(e,t){return e.get("ctgyUuid")===n.item.get("uuid")}),l=t.getIn(["inventorySettingCard","categoryTypeList"]).delete(i);t=t.setIn(["inventorySettingCard","categoryTypeList"],l)}return t}),c(e,a.ACCOUNT_CHANGE_INVENTORY_CARD_CATEGORY_TYPE,function(){return t.get("tagsStock").map(function(e,a){e.get("uuid")!==n.item.get("uuid")||(t=t.setIn(["tagsStock",a,"selectUuid"],n.uuid).setIn(["tagsStock",a,"selectName"],n.name))}),t.getIn(["inventorySettingCard","categoryTypeList"]).map(function(e,a){e.get("ctgyUuid")===n.item.get("uuid")&&(t=t.setIn(["inventorySettingCard","categoryTypeList",a,"subordinateUuid"],n.uuid))}),t}),c(e,a.ACCOUNT_SAVE_INVENTORY_SETTING_CARD,function(){return t=t.set("cardList",(0,r.fromJS)(n.list)),t="insertAndNew"===n.flag?t.setIn(["inventorySettingCard","name"],"").setIn(["inventorySettingCard","code"],n.autoIncrementCode):t.set("tagsStock",t.get("originTags"))}),c(e,a.ACCOUNT_INVENTORY_SETTING_INIT,function(){return n.title.unshift({name:t.get("anotherTabName"),uuid:""}),t=t.set("tagsStock",(0,r.fromJS)(n.title)).set("originTags",(0,r.fromJS)(n.title)).set("cardList",(0,r.fromJS)(n.cardList))}),c(e,a.INIT_RELA_CARD,function(){var e=o.get("iuManageTypeCard"),a=(t.getIn(["cardTemp","propertyCost"]),t.getIn(["cardTemp","assetType"]));return t.get("tags").map(function(e,n){t=t.setIn(["tags",n,"checked"],!1)}),t=t.set("iuManageTypeCard",e).setIn(["iuManageTypeCard","advanceAcId"],n.data.defaultAc.advanceAcId).setIn(["iuManageTypeCard","advanceAcName"],n.data.defaultAc.advanceAcName).setIn(["iuManageTypeCard","receivableAcId"],n.data.defaultAc.receivableAcId).setIn(["iuManageTypeCard","receivableAcName"],n.data.defaultAc.receivableAcName).setIn(["iuManageTypeCard","payableAcId"],n.data.defaultAc.payableAcId).setIn(["iuManageTypeCard","payableAcName"],n.data.defaultAc.payableAcName).setIn(["iuManageTypeCard","prepaidAcId"],n.data.defaultAc.prepaidAcId).setIn(["iuManageTypeCard","prepaidAcName"],n.data.defaultAc.prepaidAcName).setIn(["iuManageTypeCard","code"],n.data.code),t="XZ_CZZC"===a?t.setIn(["iuManageTypeCard","isPayUnit"],!1).setIn(["iuManageTypeCard","isReceiveUnit"],!0):"XZ_GJZC"===a?t.setIn(["iuManageTypeCard","isPayUnit"],!0).setIn(["iuManageTypeCard","isReceiveUnit"],!1):"debit"===n.direction?t.setIn(["iuManageTypeCard","isPayUnit"],!1).setIn(["iuManageTypeCard","isReceiveUnit"],!0):t.setIn(["iuManageTypeCard","isPayUnit"],!0).setIn(["iuManageTypeCard","isReceiveUnit"],!1)}),c(e,a.INIT_STOCK_CARD,function(){var e=o.get("inventorySettingCard");return t.get("tagsStock").map(function(e,n){t=t.setIn(["tagsStock",n,"checked"],!1)}),t=t.set("inventorySettingCard",e).setIn(["inventorySettingCard","inventoryAcId"],n.data.defaultAc.inventoryAcId).setIn(["inventorySettingCard","inventoryAcName"],n.data.defaultAc.inventoryAcName).setIn(["inventorySettingCard","code"],n.data.code),t="debit"===n.direction?t.setIn(["inventorySettingCard","isAppliedPurchase"],!1).setIn(["inventorySettingCard","isAppliedSale"],!0):t.setIn(["inventorySettingCard","isAppliedPurchase"],!0).setIn(["inventorySettingCard","isAppliedSale"],!1)}),c(e,a.CLOSE_ACCOUNTCONF_MODAL_LR,function(){return t.setIn(["flags","showAccountModal"],!1)}),c(e,a.CHARGE_ITEM_CHECKBOX_SELECT,function(){var e=t.getIn(["flags","selectList"]),a=t.getIn(["flags","selectItem"]);if(n.checked){var u=e.splice(e.findIndex(function(e){return e===n.uuid}),1),i=a.splice(e.findIndex(function(e){return e.uuid===n.uuid}),1);return t.setIn(["flags","selectList"],u).setIn(["flags","selectItem"],(0,r.fromJS)(i))}var l=e.push(n.uuid),s=a.push((0,r.fromJS)({uuid:n.uuid,name:n.name,code:n.code}));return t.setIn(["flags","selectList"],l).setIn(["flags","selectItem"],(0,r.fromJS)(s))}),c(e,a.INIT_COMMON_CHARGE,function(){var e=o.getIn(["flags","paymentInsertOrModify"]);if(n.saveAndNew){o.get("flags");var a=t.getIn(["commonChargeTemp","runningDate"]),u=o.get("commonChargeTemp");return t.set("commonChargeTemp",u).setIn(["commonChargeTemp","runningDate"],a).setIn(["flags","isQuery"],!1).setIn(["flags","modify"],!1).setIn(["flags","paymentInsertOrModify"],"insert").setIn(["flags","indexList"],(0,r.fromJS)([])).setIn(["flags","selectList"],(0,r.fromJS)([])).set("enclosureList",(0,r.fromJS)([])).set("label",(0,r.fromJS)([])).set("needDeleteUrl",(0,r.fromJS)([]))}return"insert"===e&&(t=t.setIn(["commonChargeTemp","uuid"],n.uuid).setIn(["commonChargeTemp","flowNumber"],n.flowNumber)),t.setIn(["flags","paymentInsertOrModify"],"modify").setIn(["flags","modify"],!0)}),c(e,a.INIT_COMMON_CHARGE_FROM_CXLS,function(){var e=t.getIn(["flags","uuidList"]);(n.uuidList||e.size)&&(t=t.setIn(["flags","needRelaList"],!0)),n.uuidList?t=t.setIn(["flags","uuidList"],n.uuidList):n.uuidList.size&&(t=t.setIn(["flags","uuidList"],n.uuidList));var a=n.data.enclosureList?n.data.enclosureList:[];return t.set("commonChargeTemp",(0,r.fromJS)(n.data)).set("enclosureList",(0,r.fromJS)(a)).setIn(["flags","PageTab"],"payment").setIn(["flags","paymentType"],"LB_GGFYFT").setIn(["flags","modify"],!0).setIn(["flags","paymentInsertOrModify"],"modify").setIn(["flags","currentSwitchUuid"],n.uuid)}),c(e,a.CHANGE_RUNNING_ENCLOSURE_LIST,function(){var e=[];return t.get("enclosureList").map(function(t){e.push(t)}),n.imgArr.forEach(function(t){e.push(t)}),t=t.set("enclosureList",(0,r.fromJS)(e)).set("enclosureCountUser",e.length)}),c(e,a.DELETE_UPLOAD_FJ_URL,function(){var e=[];return t.get("needDeleteUrl").map(function(t){e.push(t)}),t.get("enclosureList").map(function(a,r){r==n.index&&(e.push(t.getIn(["enclosureList",r]).set("beDelete",!0)),t=t.deleteIn(["enclosureList",r]))}),t=t.set("needDeleteUrl",(0,r.fromJS)(e)).set("enclosureCountUser",t.get("enclosureList").size)}),c(e,a.GET_LS_LABEL_FETCH,function(){return t=t.set("label",(0,r.fromJS)(n.receivedData.data)).set("tagModal",!0)}),c(e,a.CHANGE_LS_TAG_NAME,function(){return t.get("enclosureList").map(function(e,a){a==n.index&&(t=t.setIn(["enclosureList",a,"label"],n.value))}),t=t.set("tagModal",!1)}),c(e,a.AFTER_INSERT_JZSY,function(){var e=o.getIn(["flags","paymentInsertOrModify"]),a=o.get("CqzcTemp"),u=t.getIn(["CqzcTemp","detail","runningDate"]);return n.saveAndNew?t.set("CqzcTemp",a).setIn(["CqzcTemp","detail","runningDate"],u).setIn(["flags","isQuery"],!1).setIn(["flags","modify"],!1).setIn(["flags","paymentInsertOrModify"],"insert").set("enclosureList",(0,r.fromJS)([])).set("label",(0,r.fromJS)([])).set("needDeleteUrl",(0,r.fromJS)([])):("insert"===e&&(t=t.setIn(["CqzcTemp","detail","uuid"],n.uuid).setIn(["CqzcTemp","detail","flowNumber"],n.flowNumber)),t.setIn(["flags","paymentInsertOrModify"],"modify").setIn(["flags","modify"],!0))}),c(e,a.INIT_JZSY_FROM_CXLS,function(){var e=t.getIn(["flags","uuidList"]);return(n.uuidList||e.size)&&(t=t.setIn(["flags","needRelaList"],!0)),n.uuidList?t=t.setIn(["flags","uuidList"],n.uuidList):e.size&&(t=t.setIn(["flags","uuidList"],e)),t.setIn(["CqzcTemp","detail"],(0,r.fromJS)(n.data)).setIn(["flags","PageTab"],"payment").setIn(["flags","paymentType"],"LB_JZSY").setIn(["flags","modify"],!0).setIn(["flags","paymentInsertOrModify"],"modify").setIn(["flags","currentSwitchUuid"],n.uuid).set("enclosureList",(0,r.fromJS)(n.data.enclosureList))}),e)[n.type]||function(){return t})()};var a=l(n(1313)),r=n(18),u=n(22),i=l(n(27));function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function s(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=(0,r.fromJS)({flags:{issuedate:"",main:"duty",insertOrModify:"insert",runningInsertOrModify:"insert",paymentInsertOrModify:"insert",payOrReceive:"收",accountAssModalShow:!1,curCategory:"全部",curAccountUuid:"全部",assId:"",assCategory:"",acId:"",selectList:[],showRunningInfo:{},PageTab:"business",paymentType:"",paymentUuid:"",isQuery:!1,isQueryByBusiness:!1,modify:!1,indexList:[],personAccumulationAmountchecked:!0,personSocialSecurityAmountchecked:!0,incomeTaxAmountchecked:!0,pzFailedButtonShow:!1,specialStateforAccrued:!1,specialStateforAssets:!1,showContactsModal:!1,MemberList:[],thingsList:[],selectThingsList:[],managerCategoryList:[],amount:0,showAccountModal:!1,stockThingsList:[],contactsThingsList:[],needRelaList:!1,uuidList:[],costStockList:[],selectItem:[],totalAmount:0},iuManageTypeCard:{isPayUnit:!0,isReceiveUnit:!0,insertOrModify:"insert",categoryTypeList:[],receivableOpened:"0",advanceOpened:"0",payableOpened:"0",prepaidOpened:"0",name:"",code:"",companyAddress:"",companyTel:"",financeName:"",financeTel:"",remark:"",contacterInfo:!1,enableAdvanceAc:!0,enablePrepaidAc:!0},inventorySettingCard:{isAppliedPurchase:!0,isAppliedSale:!0,insertOrModify:"insert",categoryTypeList:[],receivableOpened:"0",advanceOpened:"0",payableOpened:"0",prepaidOpened:"0",name:"",code:"",isOpenedQuantity:!1},tags:[],tagsStock:[],calculateTemp:{paymentList:[],detail:[],runningIndex:0,usedCard:{code:"",name:""},runningDate:(0,u.formatDate)(),runningAbstract:"核销账款",contactsCardRange:{name:"",code:""},stockCardList:{name:"",code:""}},commonChargeTemp:{runningDate:(0,u.formatDate)().slice(0,10),projectCard:[],paymentList:[],runningAbstract:"公共费用分摊"},CqzcTemp:{projectRange:[],assetsCategory:[{childList:[]}],projectList:[],detail:{acAssets:{depreciationAmount:"",originalAssetsAmount:""},projectCard:[{uuid:"",name:"",code:""}],runningDate:(0,u.formatDate)().slice(0,10),runningAbstract:"长期资产处置损益",businessList:[]}},issues:[],cardTemp:{paymentList:[],uuid:"",name:"",property:"",flowNumber:"",runningAbstract:"",acAvailable:!0,canDelete:!1,runningIndex:0,categoryType:"",propertyCost:"",beCarryover:!1,runningState:"",runningDate:(0,u.formatDate)(),billType:"",billStates:"",priceTaxTotal:"",taxRate:0,tax:"",amount:"",handleAmount:"",notHandleAmount:"",offsetAmount:"",childList:[],running:[],taxPayState:"",propertyCostList:[],accountName:"",accountUuid:"",beCertified:!1,carryoverAmount:"",propertyPay:"",propertyAssets:"",propertyCarryover:"",propertyTax:"",propertyInvest:"",billAcList:[],billAssList:[],queryObj:{amount:0,handleAmount:0,companyAccumulationAmount:0,personAccumulationAmount:0,companySocialSecurityAmount:0,personSocialSecurityAmount:0,incomeTaxAmount:0},acCost:{saleAc:[{categoryUuid:"",acId:"",acKey:"",type:"",acFullName:"",assCategoryList:[]}],saleList:[{assId:"",assName:"",assCategory:[]}],manageAc:[],manageList:[],financeAc:[],financeList:[],deliveryAc:[],deliveryList:[],beManagemented:!1},acBusinessIncome:{incomeAc:[],incomeList:[],receivablesAc:[],receivablesList:[],inAdvanceAc:[],inAdvanceList:[],stockAc:[],stockList:[],carryoverAc:[],carryoverList:[],beManagemented:!1,beDeposited:!1,beCarryover:!1,stockCardList:{uuid:""}},acBusinessExpense:{payAc:[],payList:[],deliveryAc:[],deliveryList:[],inAdvanceAc:[],inAdvanceList:[],beManagemented:!1,beDeposited:!1},acBusinessOutIncome:{relationAc:[],relationList:[],receivablesAc:[],receivablesList:[],beManagemented:!1},acBusinessOutExpense:{relationAc:[],relationList:[],deliveryAc:[],deliveryList:[],beManagemented:!1},acTemporaryReceipt:{relationAc:[],relationList:[]},acTemporaryPay:{relationAc:[],relationList:[]},acPayment:{saleAc:[],saleList:[],manageAc:[],manageList:[],accruedAc:[],accruedList:[],fundAc:[],fundList:[],socialSecurityAc:[],socialSecurityList:[],incomeTaxAc:[],incomeTaxList:[],welfareAc:[],welfareList:[],beAccrued:!1,beWithholding:!1,beWelfare:!1,actualAmount:0,companyAccumulationAmount:"",personAccumulationAmount:"",companySocialSecurityAmount:"",personSocialSecurityAmount:"",incomeTaxAmount:""},acTax:{accruedAc:[],accruedList:[],payAc:[],payList:[],turnOutAc:[],turnOutList:[],inAdvanceAc:[],inAdvanceList:[],beAccrued:!1,beTurnOut:!1,beInAdvance:!1},acLoan:{loanAc:[],loanList:[],interestAc:[],interestList:[],unpaidInterestAc:[],unpaidInterestList:[],beAccrued:!1},acInvest:c({investAc:[],investList:[],profitAc:[],profitList:[],uncollectedProfitAc:[],uncollectedProfitList:[],uncollectedInterestAc:[],beAccrued:!1},"uncollectedInterestAc",[]),acCapital:{capitalAc:[],capitalList:[],unassignedAc:[],unassignedList:[],assignedAc:[],assignedList:[],payableAc:[],payableList:[],beAccrued:!1},acAssets:{assetsAc:[],assetsList:[],incomeAc:[],incomeList:[],lossAc:[],lossList:[],depreciationAc:[],depreciationList:[],cleaningAc:[],cleaningList:[],upgradeAc:[],upgradeList:[],receivablesAc:[],receivablesList:[],payableAc:[],payableList:[],beManagemented:!1,beCleaning:!1,netProfitAmount:"",originalAssetsAmount:"",depreciationAmount:"",cleaningAmount:"",upgradingAmount:""}},enclosureList:[],previewImageList:[],needDeleteUrl:[],tagModal:!1,label:[]})},1330:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Other=t.JkTzZb=t.Zszf=t.Yywsz=t.Cqzc=t.Sfzc=t.Xczc=t.Fyzc=t.Yysz=void 0;var a,r=f(n(1272)),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(1271);var i=f(n(1)),l=n(17),s=n(22),c=n(482),o=f(n(1292)),d=f(n(1293));function f(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _=r.default.Panel;t.Yysz=(0,l.immutableRenderDecorator)(a=function(e){function t(){return g(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,i.default.Component),u(t,[{key:"render",value:function(){var e=this.props,t=e.lsItemData,n=e.activeKey,a=e.onChangeActiveKey,r=c.categoryTypeAll[t.get("categoryType")],u=t.getIn([r,"beManagemented"]),l=t.getIn([r,"stockCardList"]),f=t.get("runningState"),g=t.get("accountName"),m=t.get("usedProject"),p=t.get("projectCard"),_=t.get("amount"),T=t.get("propertyCarryover");return i.default.createElement("div",null,i.default.createElement("ul",{className:"ylls-item-detail"},i.default.createElement("li",null,i.default.createElement("span",null,"摘要："),i.default.createElement("span",null,t.get("runningAbstract"))),u?i.default.createElement("li",null,i.default.createElement("span",null,"往来单位："),i.default.createElement("span",null,t.getIn(["usedCard","code"])+"_"+t.getIn(["usedCard","name"]))):"",m&&p&&p.size?p.map(function(e){return i.default.createElement("div",{key:e.get("uuid")},i.default.createElement("li",null,i.default.createElement("span",null,"项目："),i.default.createElement("span",null,("COMNCRD"!==e.get("code")?e.get("code")+"_":"")+e.get("name"))),p.size>1?i.default.createElement("li",{key:e.get("uuid")},i.default.createElement("span",null,"金额："),i.default.createElement("span",null,(0,s.formatMoney)(e.get("amount"),2,""))):"")}):"","SX_HW"===T&&"STATE_YYSR_DJ"!==f&&"STATE_YYZC_DJ"!==f&&l&&l.size?l.map(function(e){return i.default.createElement("div",{key:e.get("uuid")},i.default.createElement("li",null,i.default.createElement("span",null,"存货："),i.default.createElement("span",null,e.get("code")+"_"+e.get("name"))),l.size>1?i.default.createElement("li",{key:e.get("uuid")},i.default.createElement("span",null,"金额："),i.default.createElement("span",null,(0,s.formatMoney)(e.get("amount"),2,""))):"")}):"",i.default.createElement("li",null,i.default.createElement("span",null,p&&p.size>1||l&&l.size>1?"总":"","金额："),i.default.createElement("span",null,(0,s.formatMoney)(t.get("amount"),2,""))),g&&(u&&Number(_)===Number(t.get("currentAmount"))||!u||"STATE_YYSR_DJ"===f||"STATE_YYZC_DJ"===f)?i.default.createElement("li",null,i.default.createElement("span",null,"账户："),i.default.createElement("span",null,t.get("accountName"))):"","STATE_YYSR_DJ"!==f&&"STATE_YYZC_DJ"!==f?i.default.createElement(o.default,{itemData:t}):""),u?i.default.createElement(d.default,{title:"核销情况",lsItemData:t,activeKey:n,onChangeActiveKey:a,itemList:t.get("paymentList")}):"")}}]),t}())||a,t.Fyzc=function(e){function t(){return g(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,i.default.Component),u(t,[{key:"render",value:function(){var e=this.props,t=e.lsItemData,n=e.activeKey,a=e.onChangeActiveKey,r=c.categoryTypeAll[t.get("categoryType")],u=t.getIn([r,"beManagemented"]),l=t.get("usedProject"),f=t.get("projectCard"),g=t.get("accountName"),m=t.get("runningState");return i.default.createElement("div",null,i.default.createElement("ul",{className:"ylls-item-detail"},"STATE_FY_DJ"!==m?i.default.createElement("li",null,i.default.createElement("span",null,"费用性质："),i.default.createElement("span",null,{XZ_MANAGE:"管理费用",XZ_FINANCE:"财务费用",XZ_SALE:"销售费用"}[t.get("propertyCost")])):"",i.default.createElement("li",null,i.default.createElement("span",null,"摘要："),i.default.createElement("span",null,t.get("runningAbstract"))),u?i.default.createElement("li",null,i.default.createElement("span",null,"往来单位："),i.default.createElement("span",null,t.getIn(["usedCard","code"])+"_"+t.getIn(["usedCard","name"]))):"",l&&f&&f.size?f.map(function(e){return i.default.createElement("div",{key:e.get("uuid")},i.default.createElement("li",null,i.default.createElement("span",null,"项目："),i.default.createElement("span",null,("COMNCRD"!==e.get("code")?e.get("code")+"_":"")+e.get("name"))),f.size>1?i.default.createElement("li",{key:e.get("uuid")},i.default.createElement("span",null,"金额："),i.default.createElement("span",null,(0,s.formatMoney)(e.get("amount"),2,""))):"")}):"",i.default.createElement("li",null,i.default.createElement("span",null,f&&f.size>1?"总":"","金额："),i.default.createElement("span",null,(0,s.formatMoney)(t.get("amount"),2,""))),g?i.default.createElement("li",null,i.default.createElement("span",null,"账户："),i.default.createElement("span",null,t.get("accountName"))):"","STATE_FY_DJ"!==m?i.default.createElement(o.default,{itemData:t}):""),i.default.createElement(d.default,{title:"核销情况",lsItemData:t,activeKey:n,onChangeActiveKey:a,itemList:t.get("paymentList")}))}}]),t}(),t.Xczc=function(e){function t(){return g(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,i.default.Component),u(t,[{key:"render",value:function(){var e=this.props,t=e.lsItemData,n=e.activeKey,a=e.onChangeActiveKey,u=c.categoryTypeAll[t.get("categoryType")],l=t.getIn([u,"beAccrued"]),o=t.getIn([u,"personAccumulationAmount"]),f=t.getIn([u,"personSocialSecurityAmount"]),g=t.getIn([u,"incomeTaxAmount"]),m=t.getIn([u,"companySocialSecurityAmount"]),p=t.getIn([u,"companyAccumulationAmount"]),T=t.getIn([u,"actualAmount"]),C=t.get("usedProject"),A=t.get("projectCard"),y=t.get("accountName"),E=t.get("amount"),I=t.get("propertyPay"),S=t.get("runningState");return i.default.createElement("div",null,i.default.createElement("ul",{className:"ylls-item-detail"},"STATE_XC_JT"!==S&&("STATE_XC_JN"!==S&&"STATE_XC_FF"!==S||l)?"":i.default.createElement("li",null,i.default.createElement("span",null,"费用性质："),i.default.createElement("span",null,{XZ_MANAGE:"管理费用",XZ_FINANCE:"财务费用",XZ_SALE:"销售费用"}[t.get("propertyCost")])),i.default.createElement("li",null,i.default.createElement("span",null,"摘要："),i.default.createElement("span",null,t.get("runningAbstract"))),C&&A&&A.size?A.map(function(e){return i.default.createElement("div",{key:e.get("uuid")},i.default.createElement("li",null,i.default.createElement("span",null,"项目："),i.default.createElement("span",null,("COMNCRD"!==e.get("code")?e.get("code")+"_":"")+e.get("name"))),A.size>1?i.default.createElement("li",{key:e.get("uuid")},i.default.createElement("span",null,"金额："),i.default.createElement("span",null,(0,s.formatMoney)(e.get("amount")))):"")}):"","STATE_XC_JT"===S||"SX_QTXC"===I||"SX_FLF"===I?i.default.createElement("li",null,i.default.createElement("span",null,A&&A.size>1?"总":"","金额："),i.default.createElement("span",null,(0,s.formatMoney)(E,2,""))):"","SX_GZXJ"===I&&"STATE_XC_FF"===S?i.default.createElement("li",null,i.default.createElement("span",null,"工资薪金："),i.default.createElement("span",null,(0,s.formatMoney)(t.get("amount"),2,""))):"",y&&"STATE_XC_JT"!==S?i.default.createElement("li",null,i.default.createElement("span",null,"账户："),i.default.createElement("span",null,t.get("accountName"))):""),!l||"STATE_XC_JN"!==S&&"STATE_XC_FF"!==S||"SX_QTXC"===I?"":i.default.createElement("div",{className:"ylls-item-child-list"},i.default.createElement(r.default,{bordered:!1,activeKey:"1"},i.default.createElement(_,{showArrow:!1,header:i.default.createElement("div",{className:"ylls-item-child-title"},i.default.createElement("span",null,"实际支付金额："+("STATE_XC_JN"===S?(0,s.formatMoney)(E,2,""):(0,s.formatMoney)(T,2,"")))),key:"1"},i.default.createElement("div",{className:"ylls-item-content"},"SX_SHBX"===I?i.default.createElement("span",null,"社会保险(公司部分)：",(0,s.formatMoney)(m,2,"")):"","SX_SHBX"===I||"SX_GZXJ"===I?i.default.createElement("span",null,"SX_SHBX"===I?"代缴":"代扣","社会保险(个人部分)：",(0,s.formatMoney)(f,2,"")):"","SX_ZFGJJ"===I?i.default.createElement("span",null,"公积金(公司部分)：",(0,s.formatMoney)(p,2,"")):"","SX_ZFGJJ"===I||"SX_GZXJ"===I?i.default.createElement("span",null,"SX_ZFGJJ"===I?"代缴":"代扣","公积金(个人部分)：",(0,s.formatMoney)(o,2,"")):"","SX_GZXJ"===I?i.default.createElement("span",null,"代扣个人所得税：",(0,s.formatMoney)(g,2,"")):"")))),"SX_QTXC"!==I?i.default.createElement(d.default,{title:"核销情况",lsItemData:t,activeKey:n,onChangeActiveKey:a,itemList:t.get("detail")}):"","SX_QTXC"===I||"STATE_XC_JT"===S?i.default.createElement(d.default,{title:"核销情况",lsItemData:t,activeKey:n,onChangeActiveKey:a,itemList:t.get("paymentList")}):"")}}]),t}(),t.Sfzc=function(e){function t(){return g(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,i.default.Component),u(t,[{key:"render",value:function(){var e=this.props,t=e.lsItemData,n=e.activeKey,a=e.onChangeActiveKey,r=t.get("offsetAmount"),u=t.get("handleAmount"),l=t.get("amount"),c=t.get("beReduce"),o=t.get("reduceAmount"),f=t.get("usedProject"),g=t.get("projectCard"),m=t.get("accountName"),p=t.get("propertyTax"),_=t.get("runningState");return i.default.createElement("div",null,i.default.createElement("ul",{className:"ylls-item-detail"},i.default.createElement("li",null,i.default.createElement("span",null,"摘要："),i.default.createElement("span",null,t.get("runningAbstract"))),f&&g&&g.size?g.map(function(e){return i.default.createElement("div",{key:e.get("uuid")},i.default.createElement("li",null,i.default.createElement("span",null,"项目："),i.default.createElement("span",null,("COMNCRD"!==e.get("code")?e.get("code")+"_":"")+e.get("name"))),g.size>1?i.default.createElement("li",{key:e.get("uuid")},i.default.createElement("span",null,"金额："),i.default.createElement("span",null,(0,s.formatMoney)(e.get("amount")))):"")}):"","SX_ZZS"===p&&"STATE_SF_YJZZS"!==_?i.default.createElement("li",null,i.default.createElement("span",null,"处理税费："),i.default.createElement("span",null,(0,s.formatMoney)(Number(r)+Number(u)+(c&&o?Number(o):0),2,""))):"","SX_ZZS"===p&&"STATE_SF_YJZZS"!==_?i.default.createElement("li",null,i.default.createElement("span",null,"预交抵扣金额："),i.default.createElement("span",null,(0,s.formatMoney)(r,2,""))):"",i.default.createElement("li",null,i.default.createElement("span",null,g&&g.size>1?"总":"","金额："),i.default.createElement("span",null,"SX_ZZS"===p&&"STATE_SF_YJZZS"!==_?(0,s.formatMoney)(u,2,""):(0,s.formatMoney)(l,2,""))),m?i.default.createElement("li",null,i.default.createElement("span",null,"账户："),i.default.createElement("span",null,t.get("accountName"))):"",c&&o?i.default.createElement("li",null,i.default.createElement("span",null,"减免金额："),i.default.createElement("span",null,(0,s.formatMoney)(o,2,""))):""),i.default.createElement(d.default,{title:"核销情况",lsItemData:t,activeKey:n,onChangeActiveKey:a,itemList:t.get("paymentList")}))}}]),t}(),t.Cqzc=function(e){function t(){return g(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,i.default.Component),u(t,[{key:"render",value:function(){var e=this.props,t=e.lsItemData,n=e.activeKey,a=e.onChangeActiveKey,u=c.categoryTypeAll[t.get("categoryType")],l=t.getIn([u,"beManagemented"]),f=t.getIn([u,"netProfitAmount"]),g=t.getIn([u,"lossAmount"]),m=t.getIn([u,"originalAssetsAmount"]),p=t.getIn([u,"depreciationAmount"]),T=t.get("usedProject"),C=t.get("projectCard"),A=t.get("accountName"),y=t.get("assetType"),E=t.get("businessList"),I=t.get("runningState"),S=t.getIn([u,"cleaningAmount"]),L=c.runningStateType[I]?c.runningStateType[I]:"";return i.default.createElement("div",null,i.default.createElement("ul",{className:"ylls-item-detail"},i.default.createElement("li",null,i.default.createElement("span",null,"处理类型："),i.default.createElement("span",null,{XZ_CZZC:"处置资产",XZ_ZJTX:"折旧摊销",XZ_GJZC:"购进资产"}[t.get("assetType")],L?"("+L+")":"")),i.default.createElement("li",null,i.default.createElement("span",null,"摘要："),i.default.createElement("span",null,t.get("runningAbstract"))),l&&"STATE_CQZC_JZSY"!==I&&"XZ_ZJTX"!==y?i.default.createElement("li",null,i.default.createElement("span",null,"往来单位："),i.default.createElement("span",null,t.getIn(["usedCard","code"])+"_"+t.getIn(["usedCard","name"]))):"",T&&C&&C.size?C.map(function(e){return i.default.createElement("div",{key:e.get("uuid")},i.default.createElement("li",null,i.default.createElement("span",null,"项目："),i.default.createElement("span",null,("COMNCRD"!==e.get("code")?e.get("code")+"_":"")+e.get("name"))),C.size>1?i.default.createElement("li",{key:e.get("uuid")},i.default.createElement("span",null,"金额："),i.default.createElement("span",null,(0,s.formatMoney)(e.get("amount"),2,""))):"")}):"","STATE_CQZC_JZSY"!==I?i.default.createElement("li",null,i.default.createElement("span",null,C&&C.size>1?"总":"","金额："),i.default.createElement("span",null,(0,s.formatMoney)(t.get("amount"),2,""))):"",A&&"STATE_CQZC_JZSY"!==I?i.default.createElement("li",null,i.default.createElement("span",null,"账户："),i.default.createElement("span",null,t.get("accountName"))):"","XZ_ZJTX"!==y?i.default.createElement(o.default,{itemData:t}):""),"XZ_CZZC"===y&&E&&E.size&&"STATE_CQZC_JZSY"!==I?i.default.createElement("div",{className:"ylls-item-child-list"},i.default.createElement(r.default,{bordered:!1,activeKey:"1"},i.default.createElement(_,{showArrow:!1,header:i.default.createElement("div",{className:"ylls-item-child-title"},i.default.createElement("span",null,"处置损益")),key:"1"},i.default.createElement("ul",null,i.default.createElement("li",{className:"ylls-item-child-item",key:1},i.default.createElement("div",null,i.default.createElement("span",null,E.getIn([0,"categoryName"])),i.default.createElement("span",null,"流水号：",E.getIn([0,"flowNumber"])))))))):"","STATE_CQZC_JZSY"===I?i.default.createElement("div",{className:"ylls-item-child-list"},i.default.createElement(r.default,{bordered:!1,activeKey:"1"},i.default.createElement(_,{showArrow:!1,header:i.default.createElement("div",{className:"ylls-item-child-title"},i.default.createElement("span",null,"处置损益")),key:"1"},i.default.createElement("div",{className:"ylls-item-content"},f>0?i.default.createElement("span",null,"净收益金额：",(0,s.formatMoney)(f,2,"")):i.default.createElement("span",null,"净损失金额：",(0,s.formatMoney)(g,2,"")),i.default.createElement("span",null,"资产原值：",(0,s.formatMoney)(m,2,"")),i.default.createElement("span",null,"累计折旧余额：",(0,s.formatMoney)(p,2,"")),i.default.createElement("span",null,"处置收入：",(0,s.formatMoney)(S,2,"")))))):"",i.default.createElement(d.default,{title:"核销情况",lsItemData:t,activeKey:n,onChangeActiveKey:a,itemList:t.get("paymentList")}),"STATE_CQZC_JZSY"===I?i.default.createElement(d.default,{title:"核销情况",lsItemData:t,activeKey:n,onChangeActiveKey:a,itemList:t.get("businessList"),amountStr:"amount-tax"}):"")}}]),t}(),t.Yywsz=function(e){function t(){return g(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,i.default.Component),u(t,[{key:"render",value:function(){var e=this.props,t=e.lsItemData,n=(e.activeKey,e.onChangeActiveKey,c.categoryTypeAll[t.get("categoryType")]),a=t.getIn([n,"beManagemented"]),r=t.get("usedProject"),u=t.get("projectCard"),l=t.get("accountName");return i.default.createElement("div",null,i.default.createElement("ul",{className:"ylls-item-detail"},i.default.createElement("li",null,i.default.createElement("span",null,"摘要："),i.default.createElement("span",null,t.get("runningAbstract"))),a?i.default.createElement("li",null,i.default.createElement("span",null,"往来单位："),i.default.createElement("span",null,t.getIn(["usedCard","code"])+"_"+t.getIn(["usedCard","name"]))):"",r&&u&&u.size?u.map(function(e){return i.default.createElement("div",{key:e.get("uuid")},i.default.createElement("li",null,i.default.createElement("span",null,"项目："),i.default.createElement("span",null,("COMNCRD"!==e.get("code")?e.get("code")+"_":"")+e.get("name"))),u.size>1?i.default.createElement("li",{key:e.get("uuid")},i.default.createElement("span",null,"金额："),i.default.createElement("span",null,(0,s.formatMoney)(e.get("amount"),2,""))):"")}):"",i.default.createElement("li",null,i.default.createElement("span",null,u&&u.size>1?"总":"","金额："),i.default.createElement("span",null,(0,s.formatMoney)(t.get("amount"),2,""))),l?i.default.createElement("li",null,i.default.createElement("span",null,"账户："),i.default.createElement("span",null,t.get("accountName"))):""))}}]),t}(),t.Zszf=function(e){function t(){return g(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,i.default.Component),u(t,[{key:"render",value:function(){var e=this.props,t=e.lsItemData,n=e.activeKey,a=e.onChangeActiveKey,r=(c.categoryTypeAll[t.get("categoryType")],t.get("usedProject")),u=t.get("projectCard"),l=t.get("accountName");return i.default.createElement("div",null,i.default.createElement("ul",{className:"ylls-item-detail"},i.default.createElement("li",null,i.default.createElement("span",null,"摘要："),i.default.createElement("span",null,t.get("runningAbstract"))),r&&u&&u.size?u.map(function(e){return i.default.createElement("div",{key:e.get("uuid")},i.default.createElement("li",null,i.default.createElement("span",null,"项目："),i.default.createElement("span",null,("COMNCRD"!==e.get("code")?e.get("code")+"_":"")+e.get("name"))),u.size>1?i.default.createElement("li",{key:e.get("uuid")},i.default.createElement("span",null,"金额："),i.default.createElement("span",null,(0,s.formatMoney)(e.get("amount"),2,""))):"")}):"",i.default.createElement("li",null,i.default.createElement("span",null,u&&u.size>1?"总":"","金额："),i.default.createElement("span",null,(0,s.formatMoney)(t.get("amount"),2,""))),l?i.default.createElement("li",null,i.default.createElement("span",null,"账户："),i.default.createElement("span",null,t.get("accountName"))):""),i.default.createElement(d.default,{title:"核销情况",lsItemData:t,activeKey:n,onChangeActiveKey:a,itemList:t.get("paymentList")}))}}]),t}(),t.JkTzZb=function(e){function t(){return g(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,i.default.Component),u(t,[{key:"render",value:function(){var e=this.props,t=e.lsItemData,n=e.activeKey,a=e.onChangeActiveKey,r=c.categoryTypeAll[t.get("categoryType")],u=(t.getIn([r,"beManagemented"]),t.get("usedProject")),l=t.get("projectCard"),o=t.get("accountName"),f=(t.get("propertyCost"),t.get("businessList"),t.get("runningState")),g=c.runningStateType[f]?c.runningStateType[f]:"";return i.default.createElement("div",null,i.default.createElement("ul",{className:"ylls-item-detail"},i.default.createElement("li",null,i.default.createElement("span",null,"处理类型："),i.default.createElement("span",null,{XZ_QDJK:"取得借款",XZ_CHLX:"偿还利息",XZ_CHBJ:"偿还本金",XZ_DWTZ:"对外投资",XZ_QDSY:"取得收益",XZ_SHTZ:"收回投资",XZ_ZZ:"增资",XZ_LRFP:"利润分配",XZ_JZ:"减资"}[t.get("propertyCost")],g?"("+g+")":"")),i.default.createElement("li",null,i.default.createElement("span",null,"摘要："),i.default.createElement("span",null,t.get("runningAbstract"))),u&&l&&l.size?l.map(function(e){return i.default.createElement("div",{key:e.get("uuid")},i.default.createElement("li",null,i.default.createElement("span",null,"项目："),i.default.createElement("span",null,("COMNCRD"!==e.get("code")?e.get("code")+"_":"")+e.get("name"))),l.size>1?i.default.createElement("li",{key:e.get("uuid")},i.default.createElement("span",null,"金额："),i.default.createElement("span",null,(0,s.formatMoney)(e.get("amount"),2,""))):"")}):"",i.default.createElement("li",null,i.default.createElement("span",null,l&&l.size>1?"总":"","金额："),i.default.createElement("span",null,(0,s.formatMoney)(t.get("amount"),2,""))),o?i.default.createElement("li",null,i.default.createElement("span",null,"账户："),i.default.createElement("span",null,t.get("accountName"))):""),i.default.createElement(d.default,{title:"核销情况",lsItemData:t,activeKey:n,onChangeActiveKey:a,itemList:t.get("paymentList")}))}}]),t}(),t.Other=function(e){function t(){return g(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,i.default.Component),u(t,[{key:"render",value:function(){var e=this.props;e.lsItemData,e.activeKey,e.onChangeActiveKey;return i.default.createElement("div",null,"没写")}}]),t}()},1331:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Jzsy=t.Xmft=t.Zcwjzzs=t.FpKr=t.Jzcb=t.Sfgl=t.Zjtx=t.Nbzz=void 0;var a=c(n(1272)),r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(1271);var u=c(n(1)),i=(n(17),n(22)),l=n(482),s=(c(n(1292)),c(n(1293)));function c(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}a.default.Panel,t.Nbzz=function(e){function t(){return o(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,u.default.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.lsItemData;e.activeKey,e.onChangeActiveKey;return u.default.createElement("div",null,u.default.createElement("ul",{className:"ylls-item-detail"},u.default.createElement("li",null,u.default.createElement("span",null,"摘要："),u.default.createElement("span",null,t.get("runningAbstract"))),u.default.createElement("li",null,u.default.createElement("span",null,"金额："),u.default.createElement("span",null,(0,i.formatMoney)(t.get("amount"),2,""))),u.default.createElement("li",null,u.default.createElement("span",null,"转出账户："),u.default.createElement("span",null,t.getIn(["childList",0,"accountName"]))),u.default.createElement("li",null,u.default.createElement("span",null,"转入账户："),u.default.createElement("span",null,t.getIn(["childList",1,"accountName"])))))}}]),t}(),t.Zjtx=function(e){function t(){return o(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,u.default.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.lsItemData,n=(e.activeKey,e.onChangeActiveKey,{XZ_SALE:"销售费用",XZ_MANAGE:"管理费用",XZ_FINANCE:"财务费用","":""}[t.get("propertyCost")]);return u.default.createElement("div",null,u.default.createElement("ul",{className:"ylls-item-detail"},u.default.createElement("li",null,u.default.createElement("span",null,"处理类别："),u.default.createElement("span",null,t.get("categoryName"))),t.get("propertyCostList")&&t.get("propertyCostList").size>1?u.default.createElement("li",null,u.default.createElement("span",null,"费用性质："),u.default.createElement("span",null,n)):"",u.default.createElement("li",null,u.default.createElement("span",null,"摘要："),u.default.createElement("span",null,t.get("runningAbstract"))),t.get("usedProject")?u.default.createElement("li",null,u.default.createElement("span",null,"项目："),u.default.createElement("span",null,t.getIn(["projectCard",0,"code"])+" "+t.getIn(["projectCard",0,"name"]))):"",u.default.createElement("li",null,u.default.createElement("span",null,"金额："),u.default.createElement("span",null,(0,i.formatMoney)(t.get("amount"),2,"")))))}}]),t}(),t.Sfgl=function(e){function t(){return o(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,u.default.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.lsItemData,n=e.activeKey,a=e.onChangeActiveKey,r=(l.categoryTypeAll[t.get("categoryType")],t.get("accountName")),c=t.get("moedAmount");return u.default.createElement("div",null,u.default.createElement("ul",{className:"ylls-item-detail"},u.default.createElement("li",null,u.default.createElement("span",null,"往来单位："),u.default.createElement("span",null,t.getIn(["usedCard","code"])+"_"+t.getIn(["usedCard","name"]))),u.default.createElement("li",null,u.default.createElement("span",null,"摘要："),u.default.createElement("span",null,t.get("runningAbstract"))),u.default.createElement("li",null,u.default.createElement("span",null,"金额："),u.default.createElement("span",null,(0,i.formatMoney)(t.get("amount"),2,""))),r?u.default.createElement("li",null,u.default.createElement("span",null,"账户："),u.default.createElement("span",null,r)):"",c>0?u.default.createElement("li",null,u.default.createElement("span",null,"抹零金额："),u.default.createElement("span",null,(0,i.formatMoney)(c))):""),u.default.createElement(s.default,{title:"核销情况",lsItemData:t,activeKey:n,onChangeActiveKey:a,itemList:t.get("detail")}))}}]),t}(),t.Jzcb=function(e){function t(){return o(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,u.default.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.lsItemData,n=e.activeKey,a=e.onChangeActiveKey,r={STATE_YYSR_JZCB:"acBusinessIncome",STATE_YYZC_JZCB:"acBusinessExpense"}[t.get("runningState")],l=t.getIn([r,"stockCardList"]);return u.default.createElement("div",null,u.default.createElement("ul",{className:"ylls-item-detail"},u.default.createElement("li",null,u.default.createElement("span",null,"摘要："),u.default.createElement("span",null,t.get("runningAbstract"))),l&&l.size?l.map(function(e){return u.default.createElement("div",{key:e.get("uuid")},u.default.createElement("li",null,u.default.createElement("span",null,"存货："),u.default.createElement("span",null,e.get("code")+"_"+e.get("name"))),u.default.createElement("li",null,u.default.createElement("span",null,"成本金额："),u.default.createElement("span",null,(0,i.formatMoney)(e.get("amount"),2,""))))}):""),u.default.createElement(s.default,{title:"核销情况",lsItemData:t,activeKey:n,onChangeActiveKey:a,itemList:t.get("businessList"),amountStr:"amount"}))}}]),t}(),t.FpKr=function(e){function t(){return o(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,u.default.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.lsItemData,n=e.activeKey,a=e.onChangeActiveKey,r=l.categoryTypeAll[t.get("categoryType")];t.getIn([r,"stockCardList"]);return u.default.createElement("div",null,u.default.createElement("ul",{className:"ylls-item-detail"},u.default.createElement("li",null,u.default.createElement("span",null,"摘要："),u.default.createElement("span",null,t.get("runningAbstract")))),u.default.createElement(s.default,{title:"核销情况",lsItemData:t,activeKey:n,onChangeActiveKey:a,itemList:t.get("businessList"),amountStr:"tax"}))}}]),t}(),t.Zcwjzzs=function(e){function t(){return o(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,u.default.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.lsItemData,n=e.activeKey,a=e.onChangeActiveKey,r=l.categoryTypeAll[t.get("categoryType")],c=(t.getIn([r,"stockCardList"]),0),o=0,d=0,f=0;return t.get("businessList").forEach(function(e){"bill_common"===e.get("billType")?(c+=1,o+=e.get("parentTax")?e.get("parentTax"):e.get("tax")):(d+=1,f+=e.get("parentTax")?e.get("parentTax"):e.get("tax"))}),u.default.createElement("div",null,u.default.createElement("ul",{className:"ylls-item-detail"},u.default.createElement("li",null,u.default.createElement("span",null,"摘要："),u.default.createElement("span",null,t.get("runningAbstract"))),u.default.createElement("li",null,u.default.createElement("span",null,"处理税额月份："),u.default.createElement("span",null,t.getIn(["businessList",0,"runningDate"]).substr(0,7))),u.default.createElement("li",null,u.default.createElement("span",null,"未交税额："),u.default.createElement("span",null,(0,i.formatMoney)(o-f,2,""))),u.default.createElement("li",null,u.default.createElement("span",null,"销项税-流水数： ",c,"条；")," ",u.default.createElement("span",null,"合计税额： ",(0,i.formatNum)(o.toFixed(2)))),u.default.createElement("li",null,u.default.createElement("span",null,"进项税-流水数： ",d,"条；")," ",u.default.createElement("span",null,"合计税额： ",(0,i.formatNum)(f.toFixed(2))))),u.default.createElement(s.default,{title:"核销情况",lsItemData:t,activeKey:n,onChangeActiveKey:a,itemList:t.get("businessList"),amountStr:"parentTax",amountStr2:"tax"}))}}]),t}(),t.Xmft=function(e){function t(){return o(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,u.default.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.lsItemData,n=e.activeKey,a=e.onChangeActiveKey,r=l.categoryTypeAll[t.get("categoryType")],c=(t.getIn([r,"stockCardList"]),t.get("projectCard"));return u.default.createElement("div",null,u.default.createElement("ul",{className:"ylls-item-detail"},u.default.createElement("li",null,u.default.createElement("span",null,"摘要："),u.default.createElement("span",null,t.get("runningAbstract"))),c&&c.size?c.map(function(e){return u.default.createElement("div",{key:e.get("uuid")},u.default.createElement("li",null,u.default.createElement("span",null,"项目："),u.default.createElement("span",null,("COMNCRD"!==e.get("code")?e.get("code")+"_":"")+e.get("name"))),c.size>1?u.default.createElement("li",{key:e.get("uuid")},u.default.createElement("span",null,"金额："),u.default.createElement("span",null,(0,i.formatMoney)(e.get("amount"),2,""))):"")}):""),u.default.createElement(s.default,{title:"核销情况",lsItemData:t,activeKey:n,onChangeActiveKey:a,itemList:t.get("paymentList"),amountStr:"amount"}))}}]),t}(),t.Jzsy=function(e){function t(){return o(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,u.default.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.lsItemData,n=e.activeKey,a=e.onChangeActiveKey,r=l.categoryTypeAll[t.get("categoryType")],c=t.getIn([r,"netProfitAmount"]),o=t.getIn([r,"lossAmount"]),d=t.get("projectCard");return u.default.createElement("div",null,u.default.createElement("ul",{className:"ylls-item-detail"},u.default.createElement("li",null,u.default.createElement("span",null,"处理类别："),u.default.createElement("span",null,t.get("categoryName"))),u.default.createElement("li",null,u.default.createElement("span",null,"摘要："),u.default.createElement("span",null,t.get("runningAbstract"))),d&&d.size?d.map(function(e){return u.default.createElement("div",{key:e.get("uuid")},u.default.createElement("li",null,u.default.createElement("span",null,"项目："),u.default.createElement("span",null,("COMNCRD"!==e.get("code")?e.get("code")+"_":"")+e.get("name"))))}):"",u.default.createElement("li",null,u.default.createElement("span",null,"净"+(c>0?"收益":"损失")+"金额："),u.default.createElement("span",null,(0,i.formatMoney)(c>0?c:o))),u.default.createElement("li",null,u.default.createElement("span",null,"资产原值："),u.default.createElement("span",null,(0,i.formatMoney)(t.getIn([r,"originalAssetsAmount"])))),u.default.createElement("li",null,u.default.createElement("span",null,"累计折旧摊销："),u.default.createElement("span",null,(0,i.formatMoney)(t.getIn([r,"depreciationAmount"]),2)))),u.default.createElement(s.default,{title:"核销情况",lsItemData:t,activeKey:n,onChangeActiveKey:a,itemList:t.get("businessList"),amountStr:"amount-tax"}))}}]),t}()},1332:function(e,t,n){},1334:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,n=arguments[1];return((e={},l(e,r.INIT_ACCOUNTCONF,function(){return c}),l(e,r.GET_ACCOUNTCONF_ALL_SETTINGS,function(){return t=t.set("runningCategory",(0,a.fromJS)(n.receivedData.categoryList)).set("accountList",(0,a.fromJS)(n.receivedData.accountList)).set("taxRateTemp",(0,a.fromJS)(n.receivedData.rate))}),l(e,r.GET_RUNNING_CATEGORY,function(){var e=[];return n.receivedData.resultList[0].childList.forEach(function(t){return e.push(t.uuid)}),t.set("runningCategory",(0,a.fromJS)(n.receivedData.resultList)).setIn(["flags","runningShowChild"],(0,a.fromJS)(e)).set("taxRateTemp",(0,a.fromJS)(n.receivedData.rate))}),l(e,r.GET_RUNNING_ACCOUNT,function(){return t.set("accountList",(0,a.fromJS)(n.receivedData.resultList))}),l(e,r.GET_RUNNING_TAX_RATE,function(){return t.set("taxRateTemp",(0,a.fromJS)(n.receivedData.result))}),l(e,r.CHANGE_ACCOUNTCONF_CURRENTPAGE,function(){return t.setIn(["flags","currentPage"],n.currentPage)}),l(e,r.BEFORE_INSERT_ACCOUNTCONF,function(){if(t=t.setIn(["flags","insertOrModify"],"insert").set(n.currentPage+"Temp",c.get(n.currentPage+"Temp")),"account"===n.currentPage?t=t.setIn(["flags","showZHModal"],!0):"fromLrAccount"!==n.insertFrom&&(t=t.setIn(["flags","showModal"],!0)),n.data&&"running"===n.currentPage){var e=n.data.categoryType,r={LB_YYSR:"acBusinessIncome",LB_YYZC:"acBusinessExpense",LB_YYWSR:"acBusinessOutIncome",LB_YYWZC:"acBusinessOutExpense",LB_JK:"acLoan",LB_TZ:"acInvest",LB_ZB:"acCapital",LB_CQZC:"acAssets",LB_FYZC:"acCost",LB_ZSKX:"acTemporaryReceipt",LB_ZFKX:"acTemporaryPay",LB_XCZC:"acPayment",LB_SFZC:"acTax"}[e];n.data&&"running"===n.currentPage&&(t=t.set(n.currentPage+"Temp",(0,a.fromJS)(n.data)).setIn([n.currentPage+"Temp","name"],"").setIn([n.currentPage+"Temp","uuid"],"").setIn([n.currentPage+"Temp","runningAbstract"],"").setIn([n.currentPage+"Temp","level"],n.item.get("level")).setIn([n.currentPage+"Temp",r,"currentContactsRange"],(0,a.fromJS)(n.data[r].contactsRange)).setIn([n.currentPage+"Temp",r,"currentStockRange"],(0,a.fromJS)(n.data[r].stockRange)).setIn([n.currentPage+"Temp","curPropertyCostList"],(0,a.fromJS)(n.data.propertyCostList)).setIn([n.currentPage+"Temp","currentProjectRange"],(0,a.fromJS)(n.data.projectRange)));var u=t.getIn(["flags","insertOrModify"]);"LB_CQZC"===n.data.categoryType&&"insert"===u&&"长期资产"===n.data.name&&("SX_GDZC"===n.data.propertyAssets&&!n.data.acAssets.canInsertFixed||"SX_WXZC"===n.data.propertyAssets&&!n.data.acAssets.canInsertUnVisible||"SX_TZXFDC"===n.data.propertyAssets&&!n.data.acAssets.canInsertEstate)&&(t=t.setIn([n.currentPage+"Temp","propertyAssets"],"")),t=t.setIn([n.currentPage+"Temp","property"],n.data.property).setIn([n.currentPage+"Temp","parentUuid"],n.item.get("uuid")).setIn([n.currentPage+"Temp","parentName"],n.data.name).setIn([n.currentPage+"Temp","categoryType"],n.data.categoryType)}return t}),l(e,r.BEFORE_MODIFY_ACCOUNTCONF_RUNNING_OLD,function(){return t="account"===n.currentPage?t.setIn(["flags","showZHModal"],!0):t.setIn(["flags","showModal"],!0),n.old?t.setIn(["flags","insertOrModify"],"modify").set(n.currentPage+"Temp",n.item):t.setIn(["flags","insertOrModify"],"modify").set(n.currentPage+"Temp",(0,a.fromJS)(n.name)).setIn([n.currentPage+"Temp","categoryType"],(0,a.fromJS)(n.name).get("categoryType")).setIn([n.currentPage+"Temp","parentUuid"],n.item.get("parentUuid")).setIn([n.currentPage+"Temp","parentName"],n.item.get("parentName")).setIn([n.currentPage+"Temp","currentPropertyPay"],n.item.get("propertyPay")).setIn([n.currentPage+"Temp","currentPropertyTax"],n.item.get("propertyTax")).setIn([n.currentPage+"Temp","currentPropertyAssets"],n.item.get("propertyAssets")).setIn(["runningTemp","currentPropertyInvest"],n.item.get("propertyInvest"))}),l(e,r.CLOSE_ACCOUNTCONF_MODAL,function(){return t.setIn(["flags","showModal"],!1).setIn(["flags","showZHModal"],!1)}),l(e,r.ACCOUNTCONF_RUNNING_TRIANGLE_SWITCH,function(){var e=t.getIn(["flags","runningShowChild"]);if(n.showChild){var a=e.splice(e.findIndex(function(e){return e===n.uuid}),1);return t.setIn(["flags","runningShowChild"],a)}var r=e.push(n.uuid);return t.setIn(["flags","runningShowChild"],r)}),l(e,r.ACCOUNTCONF_RUNNING_CHECKBOX_CHECK,function(){var e=n.upperArr,a=n.item,r=t.getIn(["flags","runningSelect"]);if(-1===r.indexOf(a.get("uuid"))){var u=function e(t){return t.map(function(t){-1===r.indexOf(t.get("uuid"))&&(r=r.push(t.get("uuid")),t.get("childList")&&t.get("childList").size&&e(t.get("childList")),t.get("disableList")&&t.get("disableList").size&&e(t.get("disableList")))})};return r=r.push(a.get("uuid")),a.get("childList")&&a.get("childList").size&&u(a.get("childList")),a.get("disableList")&&a.get("disableList").size&&u(a.get("disableList")),t=t.setIn(["flags","runningSelect"],r)}var i=function e(t){return t.map(function(t){if(r.indexOf(t.get("uuid"))>-1){var n=r.findIndex(function(e){return e===t.get("uuid")});r=r.splice(n,1)}t.get("childList")&&t.get("childList").size&&e(t.get("childList")),t.get("disableList")&&t.get("disableList").size&&e(t.get("disableList"))})},l=r.findIndex(function(e){return e===a.get("uuid")});return r=r.splice(l,1),a.get("childList")&&a.get("childList").size&&i(a.get("childList")),a.get("disableList")&&a.get("disableList").size&&i(a.get("disableList")),r=r.filter(function(t){return-1===e.indexOf(t)}),t.setIn(["flags","runningSelect"],r)}),l(e,r.SELECT_OR_UNSELECT_ACCOUNT_ALL,function(){if(n.selectAll)return t.setIn(["flags","accountSelect"],(0,a.fromJS)([]));var e=t.getIn(["accountList",0,"childList"]),r=[];return e.forEach(function(e){return r.push(e.get("uuid"))}),t.setIn(["flags","accountSelect"],(0,a.fromJS)(r))}),l(e,r.ACCOUNTCONF_ACCOUNT_CHECKBOX_CHECK,function(){var e=t.getIn(["flags","accountSelect"]);if(n.checked){var a=e.splice(e.findIndex(function(e){return e===n.uuid}),1);return t.setIn(["flags","accountSelect"],a)}var r=e.push(n.uuid);return t.setIn(["flags","accountSelect"],r)}),l(e,r.ACCOUNTCONF_TAX_RATE_SETTING_SCALE,function(){return t.setIn(["taxRateTemp","scale"],n.value)}),l(e,r.SELECT_ACCOUNTCONF_UPPER_CATEGORY,function(){var e=n.value.split(u.TREE_JOIN_STR);return t.setIn(["runningTemp","parentUuid"],e[0]).setIn(["runningTemp","parentName"],e[1]).setIn(["runningTemp","property"],e[2]).setIn(["runningTemp","categoryType"],e[3]).setIn(["runningTemp","beSpecial"],"业务收入"===e[1]||"成本支出"===e[1])}),l(e,r.CHANGE_ACCOUNTCONF_COMMON_STRING,function(){return t.setIn(n.placeArr,n.value)}),l(e,r.CHANGE_ACCOUNTCONF_ACCOUNT_NUMBER,function(){var e=t.getIn(["accountTemp","name"]);return""===e&&(t=t.setIn(["accountTemp","name"],n.accountType+""+(n.value.length>4?n.value.substr(n.value.length-4):n.value))),t}),l(e,r.SELECT_ACCOUNTCONF_ALL_AC,function(){return t.setIn([n.tab+"Temp",n.place?n.place+"AcId":"acId"],n.acId).setIn([n.tab+"Temp",n.place?n.place+"AcFullName":"acFullName"],n.acFullName).setIn([n.tab+"Temp",n.place?n.place+"AssCategory":"assCategoryList"],n.asscategorylist)}),l(e,r.SELECT_ACCOUNTCONF_MULTIPLE_AC,function(){return t=t.setIn(n.placeArr,(0,a.fromJS)(n.acList)),n.assPlace&&(t=t.setIn(["runningTemp",n.assPlace],(0,a.fromJS)(n.assList))),t}),l(e,r.AFTER_UPDATE_ACCOUNTCONF_RUNNING_CATEGORY,function(){return t=(t=t.set("runningCategory",(0,a.fromJS)(n.receivedData.resultList)).setIn(["flags","runningSelect"],(0,a.fromJS)([]))).setIn(["flags","showModal"],!1).setIn(["flags","showZHModal"],!1)}),l(e,r.AFTER_UPDATE_ACCOUNTCONF_ACCOUNT,function(){return t=t.set("accountList",(0,a.fromJS)(n.receivedData.resultList)),t=n.saveAndNew?t.set("accountTemp",c.get("accountTemp")):t.setIn(["flags","showModal"],!1).setIn(["flags","showZHModal"],!1)}),l(e,r.CHANGE_ACCOUNTCONF_PROPERTY,function(){return t=t.setIn(n.placeArr,(0,a.fromJS)(n.valArr))}),l(e,r.CHANGE_ITEM_DISABLE_STATUS,function(){var e=t.getIn(["runningCategory",0].concat(s(n.placeArr))).toJS(),r=function e(t){for(var a in t)t[a].canUse=!n.disabled,t[a].childList.length&&e(t[a].childList),t[a].disableList&&t[a].disableList.length&&e(t[a].disableList)};return e.childList&&e.childList.length&&r(e.childList),e.disableList&&e.disableList.length&&r(e.disableList),t.setIn(["runningCategory",0].concat(s(n.placeArr)),(0,a.fromJS)(e)).setIn(["runningCategory",0].concat(s(n.placeArr),["canUse"]),!n.disabled)}),l(e,r.GET_REGRET_CATEGORY,function(){return t.set("regretCategory",(0,a.fromJS)(n.receivedData.result))}),l(e,r.CHANGE_REGRET_ACCOUNT_ACCOUNT_NAME,function(){var e=n.value.split(u.TREE_JOIN_STR);return t=t.setIn([n.tab+"Temp",n.placeUUid],e[0]).setIn([n.tab+"Temp",n.placeName],e[1]).setIn([n.tab+"Temp",n.isBalance],e[2]).setIn([n.tab+"Temp",n.isBusiness],e[3])}),l(e,r.CHANGE_REGRET_ACCOUNT_COMMON_STRING,function(){return n.placeArr&&(t=t.setIn(n.placeArr,n.value)),n.place&&(t=t.set(n.place,n.value)),t}),l(e,r.CHANGE_REGRET_CANCLE,function(){return t=t.setIn(["regretTemp","categoryUuid"],"").setIn(["regretTemp","categoryName"],"请选择流水类别").setIn(["regretTemp","isBalance"],"").setIn(["regretTemp","isBusiness"],"").setIn(["regretTemp","subordinateName"],"").setIn(["regretTemp","showModal"],!1).setIn(["regretTemp","showConfirmModal"],!1)}),e)[n.type]||function(){return t})()};var a=n(18),r=(n(22),i(n(1273))),u=i(n(27));function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var c=(0,a.fromJS)({flags:{currentPage:"running",insertOrModify:"insert",showModal:!1,showZHModal:!1,isTaxQuery:!0,runningSelect:[],accountSelect:[],runningShowChild:[],currentAccount:{uuid:"",name:""},currentAss:{assId:"",assCategory:"",assName:""},selectAcList:[],selectDepositedAcList:[],selectCarryoverAcList:[],selectStockAcList:[]},runningTemp:{property:"",uuid:"",name:"",parentUuid:"",parentName:"",runningAbstract:"",propertyPay:"",propertyAssets:"",propertyCarryover:"",propertyCostList:[],propertyTax:"",categoryType:"",propertyInvest:"",acList:[],canDelete:!0,beSpecial:!1,acAvailable:!0,acBusinessIncome:{incomeAc:[],incomeList:[],receivablesAc:[],receivablesList:[],inAdvanceAc:[],inAdvanceList:[],stockAc:[],stockList:[],carryoverAc:[],carryoverList:[],beManagemented:!1,beDeposited:!1,beCarryover:!0},acBusinessExpense:{payAc:[],payList:[],deliveryAc:[],deliveryList:[],inAdvanceAc:[],inAdvanceList:[],beManagemented:!1,beDeposited:!1},acBusinessOutIncome:{relationAc:[],relationList:[],receivablesAc:[],receivablesList:[],beManagemented:!1},acBusinessOutExpense:{relationAc:[],relationList:[],deliveryAc:[],deliveryList:[],beManagemented:!1},acCost:{saleAc:[],saleList:[{assId:"",assName:"",assCategory:[""]}],manageAc:[],manageList:[],financeAc:[],financeList:[],beManagemented:!1,deliveryAc:[],deliveryList:[]},acPayment:{saleAc:[],saleList:[],manageAc:[],manageList:[],accruedAc:[],accruedList:[],fundAc:[],fundList:[],socialSecurityAc:[],socialSecurityList:[],incomeTaxAc:[],incomeTaxList:[],welfareAc:[],welfareList:[],beAccrued:!1,beWithholding:!1,beWelfare:!1},acTax:{accruedAc:[],accruedList:[],payAc:[],payList:[],turnOutAc:[],turnOutList:[],inAdvanceAc:[],inAdvanceList:[],beAccrued:!1,beTurnOut:!1,beInAdvance:!1},acTemporaryReceipt:{relationAc:[],relationList:[]},acTemporaryPay:{relationAc:[],relationList:[]},acLoan:{loanAc:[],loanList:[],interestAc:[],interestList:[],unpaidInterestAc:[],unpaidInterestList:[],beManagemented:!1},acInvest:{investAc:[],investList:[],profitAc:[],profitList:[],uncollectedProfitAc:[],uncollectedProfitList:[],uncollectedInterestAc:[],beManagemented:!1},acCapital:{capitalAc:[],capitalList:[],unassignedAc:[],unassignedList:[],assignedAc:[],assignedList:[],payableAc:[],payableList:[],beManagemented:!1},acAssets:{assetsAc:[],assetsList:[],incomeAc:[],incomeList:[],lossAc:[],lossList:[],depreciationAc:[],depreciationList:[],cleaningAc:[],cleaningList:[],upgradeAc:[],upgradeList:[],receivablesAc:[],receivablesList:[],deliveryAc:[],deliveryList:[],beManagemented:!1,beCleaning:!1}},accountTemp:{uuid:"00000001",type:"general",name:"",openingName:"",openingBank:"",accountNumber:"",beginAmount:"",acId:"",acFullName:"",openInfo:!1},taxRateTemp:{scale:"small",payableAcId:"",payableAcFullName:"",payableAssCategory:[],payableRate:"3",notBillingAcId:"",notBillingAcFullName:"",notBillingAssCategory:[],inputAcId:"",inputAcFullName:"",inputAssCategory:[],certifiedAcId:"",certifiedAcFullName:"",certifiedAssCategory:[],waitOutputAcId:"",waitOutputAcFullName:"",waitOutputAssCategory:[],outputAcId:"",outputAcFullName:"",outputAssCategory:[],turnOutUnpaidAcId:"",turnOutUnpaidAcFullName:"",turnOutUnpaidAssCategory:"",unpaidAcId:"",unpaidAcFullName:"",unpaidAssCategory:"",outputRate:"17"},runningCategory:[{childList:[]}],regretCategory:[{childList:[]}],regretTemp:{categoryName:"请选择流水类别",categoryUuid:"",isBalance:"",isBusiness:"",subordinateName:"",showConfirmModal:!1,showModal:!1},accountList:[{uuid:"0000000",type:"",name:"全部",openingName:"",openingBank:"",accountNumber:"",acId:"",acFullName:"",childList:[]}]})},1335:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,n=arguments[1];return((e={},u(e,r.INIT_YLLS,function(){return i}),u(e,r.GET_YLLS_BUSINESS_DATA,function(){return t.set("lsItemData",(0,a.fromJS)(n.item)).set("curItem",(0,a.fromJS)(n.curItem))}),e)[n.type]||function(){return t})()};var a=n(18),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1270));function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=(0,a.fromJS)({views:{},lsItemData:{},curItem:{}})},1341:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SWITCH_LOADING_MASK="SWITCH_LOADING_MASK",t.INIT_LRPZ="INIT_LRPZ",t.CHANGE_VC_ID="CHANGE_VC_ID",t.CHANGE_VOUCHER_DATE="CHANGE_VOUCHER_DATE",t.INSERT_JV_ITEM="INSERT_JV_ITEM",t.DELETE_JV_ITEM="DELETE_JV_ITEM",t.CHANGE_JV_ABSTRACT="CHANGE_JV_ABSTRACT",t.COPY_JV_ABSTRACT="COPY_JV_ABSTRACT",t.CHANGE_JV_DIRECTION="CHANGE_JV_DIRECTION",t.CHANGE_JV_AMOUNT="CHANGE_JV_AMOUNT",t.REFRESH_ACITEM_ASSLIST="REFRESH_ACITEM_ASSLIST",t.CHANGE_JV_AC="CHANGE_JV_AC",t.CHANGE_JV_ASS="CHANGE_JV_ASS",t.CANCLE_ASS_INPUT="CANCLE_ASS_INPUT",t.CHANGE_LRPZ_ASS_INFO="CHANGE_LRPZ_ASS_INFO",t.SHOW_LRPZ_ASS_DISABLE_MODAL="SHOW_LRPZ_ASS_DISABLE_MODAL",t.CHANGE_AC_MODAL_DISPLAY="CHANGE_AC_MODAL_DISPLAY",t.CHANGE_TREE_SELECT_CONTENT="CHANGE_TREE_SELECT_CONTENT",t.REVIEWEDBY_VC="REVIEWEDBY_VC",t.CANCEL_REVIEWEDBY_VC="CANCEL_REVIEWEDBY_VC",t.CLEAR_LRPZ="CLEAR_LRPZ",t.TEMPORARY_SAVE_FETCH="TEMPORARY_SAVE_FETCH",t.GET_LABEL_FETCH="GET_LABEL_FETCH",t.CHANGE_TAG_NAME="CHANGE_TAG_NAME",t.DELETE_UPLOAD_IMG_URL="DELETE_UPLOAD_IMG_URL",t.CHANGE_ENCLOSURE_LIST="CHANGE_ENCLOSURE_LIST",t.GET_UPLOAD="GET_UPLOAD",t.CHANGE_LR_AC_MODAL_DISPLAY="CHANGE_LR_AC_MODAL_DISPLAY",t.CHANGE_LR_AC_MODAL_CLEAR="CHANGE_LR_AC_MODAL_CLEAR",t.CHANGE_LR_ACID_TEXT="CHANGE_LR_ACID_TEXT",t.CHANGE_LR_ACNAME_TEXT="CHANGE_LR_ACNAME_TEXT",t.CHANGE_LR_CATEGORY_TEXT="CHANGE_LR_CATEGORY_TEXT",t.CHANGE_LR_AC_DIRECTON_TEXT="CHANGE_LR_AC_DIRECTON_TEXT",t.CHANGE_LR_AMOUNT_TEXT="CHANGE_LR_AMOUNT_TEXT",t.CHANGE_LR_AC_UNIT_TEXT="CHANGE_LR_AC_UNIT_TEXT",t.CHANGE_LR_FZHS_MODAL_DISPLAY="CHANGE_LR_FZHS_MODAL_DISPLAY",t.CHANGE_LR_ASS_CATEGORY="CHANGE_LR_ASS_CATEGORY",t.CHANGE_LR_FZHS_MODAL_CLEAR="CHANGE_LR_FZHS_MODAL_CLEAR",t.CHANGE_LR_ASS_ID="CHANGE_LR_ASS_ID",t.CHANGE_LR_ASS_NAME="CHANGE_LR_ASS_NAME",t.GET_AMOUNT_DATA="GET_AMOUNT_DATA",t.GET_AMOUNT_TYPE_MXB_DATA="GET_AMOUNT_TYPE_MXB_DATA",t.CHANGE_JV_COUNT="CHANGE_JV_COUNT",t.CHANGE_JV_PRICE="CHANGE_JV_PRICE",t.AUTO_CALCULATE="AUTO_CALCULATE",t.GET_AC_CLOSE_BALANCE="GET_AC_CLOSE_BALANCE",t.GET_FC_LIST_DATA_FETCH="GET_FC_LIST_DATA_FETCH",t.GET_FC_LIST_DATA_MXB_FETCH="GET_FC_LIST_DATA_MXB_FETCH",t.CHANGE_JV_ITEM_NUMBER="CHANGE_JV_ITEM_NUMBER",t.CHANGE_JV_STANDAR_AMOUNT="CHANGE_JV_STANDAR_AMOUNT",t.CHANGE_JV_EXCHANGE="CHANGE_JV_EXCHANGE",t.AUTO_CALCULATE_ALL="AUTO_CALCULATE_ALL",t.BEFORE_LR_VC_IMPORT="BEFORE_LR_VC_IMPORT",t.CLOSE_LR_IMPORT_CONTENT="CLOSE_LR_IMPORT_CONTENT",t.AFTER_LR_VC_IMPORT="AFTER_LR_VC_IMPORT",t.AFTER_COPY_CLICL="AFTER_COPY_CLICL",t.JUDGE_TITLE_FIXED="JUDGE_TITLE_FIXED",t.SHORT_CUT="SHORT_CUT",t.CHANGE_JV_DIRECTION_BY_KEY="CHANGE_JV_DIRECTION_BY_KEY",t.CHANGE_FOCUS_INPUT="CHANGE_FOCUS_INPUT",t.AFTER_GET_ASS_FETCH="AFTER_GET_ASS_FETCH",t.AFTER_GET_AC_LIST_FETCH="AFTER_GET_AC_LIST_FETCH",t.GET_PERIOD_FETCH="GET_PERIOD_FETCH",t.INIT_PZ_BOMB="INIT_PZ_BOMB",t.PZBOMB_REVIEWEDBY_VC="PZBOMB_REVIEWEDBY_VC",t.CANCEL_PZBOMB_REVIEWEDBY_VC="CANCEL_PZBOMB_REVIEWEDBY_VC",t.CHANGE_VC_ENCLOSURE_COUNT_USER="CHANGE_VC_ENCLOSURE_COUNT_USER",t.GET_LRPZ_IMPORT_PROGRESS="GET_LRPZ_IMPORT_PROGRESS",t.CHANGE_LRPZ_MESSAGEMASK="CHANGE_LRPZ_MESSAGEMASK",t.AFTER_GET_UPLOAD_SIGNATURE="AFTER_GET_UPLOAD_SIGNATURE"},1358:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,n=arguments[1];return((e={},s(e,u.INIT_LR_CALCULATE_STATE,function(){return c}),s(e,u.SET_INVOIC_ASSLIST_FROM_SETTINGS,function(){return t=o(n.rate,t)}),s(e,u.CHANGE_LR_CALCULATE_COMMON_STATE,function(){return t.setIn([n.parent,n.position],n.value)}),s(e,u.CHANGE_LR_COST_TRANSFER_CATEGORY_UUID_AND_NAME,function(){if(n.acBusinessIncome.beCarryover){var e=n.acBusinessIncome.carryoverAc[0],r=n.acBusinessIncome.stockAc[0];t=(t=t.setIn(["costTransferTemp","acList"],(0,a.fromJS)([{acId:e.acId,acName:e.acFullName,type:e.type}])).updateIn(["costTransferTemp","acList"],function(e){return e.push((0,a.fromJS)({acId:r.acId,acName:r.acFullName,type:r.type}))})).setIn(["costTransferTemp","assList"],(0,a.fromJS)([])),e.assCategoryList.length&&e.assCategoryList.forEach(function(n){t=t.updateIn(["costTransferTemp","assList"],function(t){return t.push((0,a.fromJS)({assId:"",assCategory:n,assName:"",type:e.type}))})}),r.assCategoryList.length&&r.assCategoryList.forEach(function(e){t=t.updateIn(["costTransferTemp","assList"],function(t){return t.push((0,a.fromJS)({assId:"",assCategory:e,assName:"",type:r.type}))})})}return t=t.setIn(["costTransferTemp","categoryUuid"],n.valueList[0]).setIn(["costTransferTemp","categoryName"],n.valueList[1]).setIn(["costTransferTemp","stockRange"],(0,a.fromJS)(n.acBusinessIncome.stockRange))}),s(e,u.CHANGE_LR_COST_TRANSFER_RUNNING_ASSLIST,function(){var e=n.ass.split(i.TREE_JOIN_STR);return t=t.setIn(["costTransferTemp","assList",n.index,"assId"],e[0]).setIn(["costTransferTemp","assList",n.index,"assName"],e[1])}),s(e,u.CHANGE_LR_CALCULATE_RATE_ASSLIST,function(){var e=n.ass.split(i.TREE_JOIN_STR);return t=t.setIn(["rateAcAndAsslist","assList",n.index,"assId"],e[0]).setIn(["rateAcAndAsslist","assList",n.index,"assName"],e[1])}),s(e,u.SELECT_LR_CALCULATE_ITEM,function(){var e=t.getIn([n.Tem,"uuidList"]),r=t.getIn([n.Tem,"stockCardUuidList"]);if(-1===e.indexOf(n.uuid))e=e.push(n.uuid),r=r.push({uuid:n.stockCardUuid,amount:n.amount,onlyId:n.uuid});else{var u=e.findIndex(function(e){return e===n.uuid}),i=r.findIndex(function(e){return e.get("onlyId")===n.uuid});e=e.splice(u,1),r=r.splice(i,1)}var l=r.toJS();return t=t.setIn([n.Tem,"uuidList"],e).setIn([n.Tem,"stockCardUuidList"],(0,a.fromJS)(l))}),s(e,u.SELECT_LR_CALCULATE_ITEM_ALL,function(){if(n.selectAll)return t.setIn([n.Tem,"uuidList"],(0,a.fromJS)([])).setIn([n.Tem,"stockCardUuidList"],(0,a.fromJS)([]));var e=t.get(n.ListName),r=[],u=[];return e.forEach(function(e){r.push(e.get("uuid")),u.push({uuid:e.get("stockCardUuid"),amount:e.get("amount")})}),t.setIn([n.Tem,"uuidList"],(0,a.fromJS)(r)).setIn([n.Tem,"stockCardUuidList"],(0,a.fromJS)(u))}),s(e,u.AFTER_GET_COMMON_LIST,function(){return t=t.set(n.ListName,(0,a.fromJS)(n.receivedData.result)).setIn([n.temp,"uuidList"],(0,a.fromJS)([])).setIn([n.temp,"stockCardUuidList"],(0,a.fromJS)([]))}),s(e,u.AFTER_GET_TRANSFER_OUT_LIST,function(){return t=t.set("transferOutObj",(0,a.fromJS)(n.receivedData))}),s(e,u.AFTER_SUCCESS_INSERT_CARRYOVER_ITEM,function(){if(n.saveAndNew){var e=t.getIn(["costTransferTemp","runningDate"]);t=t.setIn(["flags","insertOrModify"],"insert").set("costTransferTemp",c.get("costTransferTemp")).setIn(["costTransferTemp","runningDate"],e).set("costTransferList",c.get("costTransferList"))}else t=t.setIn(["flags","insertOrModify"],"modify").setIn(["costTransferTemp","carryoverBusinessUuid"],n.carryoverBusinessUuid);return t}),s(e,u.AFTER_SUCCESS_INSERT_INVOICEAUTH_ITEM,function(){if(n.saveAndNew){var e=t.getIn(["invoiceAuthTemp","runningDate"]);t=t.setIn(["flags","insertOrModify"],"insert").setIn(["invoiceAuthTemp","runningDate"],e).set("invoiceAuthTemp",c.get("invoiceAuthTemp")).set("invoiceAuthList",c.get("invoiceAuthList"))}else t=t.setIn(["flags","insertOrModify"],"modify").setIn(["invoiceAuthTemp","authBusinessUuid"],n.authBusinessUuid);return t}),s(e,u.AFTER_SUCCESS_INSERT_INTERNALTRANSFER_ITEM,function(){return t=n.saveAndNew?t.setIn(["flags","insertOrModify"],"insert").set("InternalTransferTemp",c.get("InternalTransferTemp")):t.setIn(["flags","insertOrModify"],"modify").set("InternalTransferTemp",c.get("InternalTransferTemp"))}),s(e,u.CHANGE_LR_ACCOUNT_ACCOUNT_NAME,function(){var e=n.value.split(i.TREE_JOIN_STR);return t=t.setIn([n.tab+"Temp",n.placeUUid],e[0]).setIn([n.tab+"Temp",n.placeName],e[1])}),s(e,u.INIT_CLR_ACCOUNT,function(){t.get("hideCategoryList"),t.getIn(["flags","paymentType"]);if("saveAndNew"===n.strJudgeType){var e=t.getIn([n.temp,"runningDate"]),r=c.get(n.temp);t=t.setIn(["flags","insertOrModify"],"insert").setIn(["flags","runningInsertOrModify"],"insert").setIn(["flags","dealType"],"").set(n.temp,r).setIn([n.temp,"runningDate"],e)}if("afterSave"===n.strJudgeType){var u=(0,a.fromJS)(n.receivedData),i=t.getIn(["flags","insertOrModify"]);t=t.set(n.temp,u).setIn(["flags","insertOrModify"],"modify").setIn(["flags","runningInsertOrModify"],"modify").setIn([n.temp,"flowNumber"],n.callBackObj.flowNumber),"insert"===i&&(t=t.setIn([n.temp,"uuid"],n.callBackObj.uuid))}return t}),s(e,u.AFTER_SUCCESS_INSERT_INVOICING_ITEM,function(){if(n.saveAndNew){var e=t.getIn(["invoicingTemp","runningDate"]);t=t.setIn(["flags","insertOrModify"],"insert").set("invoicingTemp",c.get("invoicingTemp")).setIn(["invoicingTemp","runningDate"],e).set("invoicingList",c.get("invoicingList"))}else t=t.setIn(["flags","insertOrModify"],"modify").setIn(["invoicingTemp","makeOutBusinessUuid"],n.makeOutBusinessUuid);return t}),s(e,u.AFTER_SUCCESS_INSERT_TRANSFER_OUT_ITEM,function(){if(n.saveAndNew){var e=t.getIn(["transferOutTemp","runningDate"]);t=t.setIn(["flags","insertOrModify"],"insert").setIn(["transferOutTemp","runningDate"],e).set("transferOutTemp",c.get("transferOutTemp")).set("transferOutObj",c.get("transferOutObj"))}else t=t.setIn(["flags","insertOrModify"],"modify").setIn(["transferOutTemp","turnOutBusinessUuid"],n.turnOutBusinessUuid);return t}),s(e,u.AFTER_SUCCESS_INSERT_LB_ZZ_ITEM,function(){if(n.saveAndNew){var e=t.getIn(["InternalTransferTemp","runningDate"]);t=t.setIn(["flags","insertOrModify"],"insert").setIn(["InternalTransferTemp","runningDate"],e).set("InternalTransferTemp",c.get("InternalTransferTemp")).set("InternalTransferTemp",c.get("InternalTransferTemp"))}else t=t.setIn(["flags","insertOrModify"],"modify");return t}),s(e,u.TRANSFER_OUT_FROM_CXLS_JUMP_TO_NBZZ,function(){var e=n.item,r=(0,a.fromJS)(n.receivedData.result),u=(0,a.fromJS)(n.receivedData.result.childList),i=void 0,l=void 0,s=void 0,o=void 0;u.map(function(e,t){"LX_NBZC"==e.get("runningType")&&(i=e.get("accountName"),s=e.get("accountUuid")),"LX_NBZR"==e.get("runningType")&&(l=e.get("accountName"),o=e.get("accountUuid"))});var d=r.get("enclosureList")?r.get("enclosureList"):(0,a.fromJS)([]);return t=c.setIn(["flags","insertOrModify"],n.insertOrModify).setIn(["InternalTransferTemp","uuid"],e.get("uuid")).setIn(["InternalTransferTemp","runningDate"],e.get("runningDate")).setIn(["InternalTransferTemp","runningAbstract"],e.get("runningAbstract")).setIn(["InternalTransferTemp","runningState"],r.get("runningState")).setIn(["InternalTransferTemp","amount"],r.get("amount")).setIn(["InternalTransferTemp","fromAccountName"],i).setIn(["InternalTransferTemp","toAccountName"],l).setIn(["InternalTransferTemp","fromAccountUuid"],s).setIn(["InternalTransferTemp","toAccountUuid"],o).setIn(["InternalTransferTemp","flowNumber"],r.get("flowNumber")).setIn(["InternalTransferTemp","enclosureList"],d)}),s(e,u.TRANSFER_OUT_FROM_CXLS_JUMP_TO_ZJTX,function(){var e=n.item,r=(0,a.fromJS)(n.receivedData.result),u=r.get("enclosureList")?r.get("enclosureList"):(0,a.fromJS)([]);return t=c.setIn(["flags","insertOrModify"],n.insertOrModify).setIn(["flags","dealType"],r.get("categoryName")).set(["DepreciationTemp"],(0,a.fromJS)(r)).setIn(["DepreciationTemp","uuid"],e.get("uuid")).setIn(["DepreciationTemp","propertyCost"],r.get("propertyCost")).setIn(["flags","propertyCostList"],r.get("propertyCostList")).setIn(["DepreciationTemp","usedProject"],r.get("usedProject")).setIn(["DepreciationTemp","categoryUuid"],r.get("categoryUuid")).setIn(["DepreciationTemp","projectCard"],r.getIn(["projectCard",0])).setIn(["DepreciationTemp","runningDate"],e.get("runningDate")).setIn(["DepreciationTemp","runningAbstract"],e.get("runningAbstract")).setIn(["DepreciationTemp","runningState"],r.get("runningState")).setIn(["DepreciationTemp","amount"],r.get("amount")).setIn(["DepreciationTemp","flowNumber"],r.get("flowNumber")).setIn(["flags","projectRange"],r.get("projectRange")).setIn(["DepreciationTemp","enclosureList"],u)}),s(e,u.COST_TRANSFER_FROM_CXLS_JUMP_TO_LRLS,function(){var e=n.item,r=(0,a.fromJS)(n.receivedData.result),u=n.receivedData.result.acBusinessIncome.stockCardList;if(t=c.setIn(["flags","insertOrModify"],n.insertOrModify).setIn(["costTransferTemp","runningDate"],e.get("runningDate")).setIn(["flags","projectRange"],r.get("projectRange")).setIn(["costTransferTemp","runningAbstract"],e.get("runningAbstract")).setIn(["costTransferTemp","categoryUuid"],r.get("categoryUuid")).setIn(["costTransferTemp","categoryName"],r.get("categoryName")).setIn(["costTransferTemp","stockCardList"],(0,a.fromJS)(u)),"modify"===n.insertOrModify){var i=r.get("enclosureList")?r.get("enclosureList"):(0,a.fromJS)([]);t=t.setIn(["costTransferTemp","carryoverBusinessUuid"],e.get("uuid")).setIn(["costTransferTemp","flowNumber"],e.get("flowNumber")).setIn(["costTransferTemp","runningState"],"LX_JZCB"===e.get("runningType")?"STATE_YYSR_XS":"STATE_YYSR_TS").setIn(["costTransferTemp","carryoverAmount"],e.get("notHandleAmount")).setIn(["costTransferTemp","uuidList"],r.get("businessList").map(function(e){return e.get("uuid")})).setIn(["costTransferTemp","enclosureList"],i);var l=[];r.getIn(["businessList"]).map(function(e){l.push({uuid:e.get("stockCardUuid"),amount:e.get("amount")})}),t=t.set("costTransferList",r.getIn(["businessList"])).setIn(["costTransferTemp","stockCardUuidList"],(0,a.fromJS)(l));r.getIn(["acBusinessIncome","carryoverAc",0]),r.getIn(["acBusinessIncome","stockAc",0]),r.getIn(["acBusinessIncome","carryoverList"]),r.getIn(["acBusinessIncome","stockList"])}else{t=(t=t.setIn(["costTransferTemp","carryoverBusinessUuid"],"").setIn(["costTransferTemp","runningState"],e.get("runningState")).setIn(["costTransferTemp","carryoverAmount"],"").setIn(["costTransferTemp","uuidList"],(0,a.fromJS)([e.get("uuid")]))).set("costTransferList",(0,a.fromJS)([e]));var s=r.getIn(["acBusinessIncome","carryoverAc",0]),o=r.getIn(["acBusinessIncome","stockAc",0]);t=t.setIn(["costTransferTemp","acList"],(0,a.fromJS)([{acId:s.get("acId"),acName:s.get("acFullName"),type:s.get("type")}])).updateIn(["costTransferTemp","acList"],function(e){return e.push((0,a.fromJS)({acId:o.get("acId"),acName:o.get("acFullName"),type:o.get("type")}))}),s.get("assCategoryList").size&&s.get("assCategoryList").forEach(function(e){t=t.updateIn(["costTransferTemp","assList"],function(t){return t.push((0,a.fromJS)({assId:"",assCategory:e,assName:"",type:s.get("type")}))})}),o.get("assCategoryList").size&&o.get("assCategoryList").forEach(function(e){t=t.updateIn(["costTransferTemp","assList"],function(t){return t.push((0,a.fromJS)({assId:"",assCategory:e,assName:"",type:o.get("type")}))})})}return t}),s(e,u.INVOICE_AUTH_FROM_CXLS_JUMP_TO_LRLS,function(){var e=n.item,r=(0,a.fromJS)(n.receivedData.result);if(t=c.setIn(["flags","insertOrModify"],n.insertOrModify).setIn(["invoiceAuthTemp","runningDate"],e.get("runningDate")).setIn(["invoiceAuthTemp","runningAbstract"],e.get("runningAbstract")).setIn(["invoiceAuthTemp","categoryUuid"],r.get("categoryUuid")),"modify"===n.insertOrModify){var u=r.get("enclosureList")?r.get("enclosureList"):(0,a.fromJS)([]);t=(t=t.setIn(["invoiceAuthTemp","authBusinessUuid"],e.get("uuid")).setIn(["invoiceAuthTemp","enclosureList"],u).setIn(["invoiceAuthTemp","flowNumber"],e.get("flowNumber")).setIn(["invoiceAuthTemp","billAuthType"],"LX_FPRZ_CG"===e.get("runningType")?"BILL_AUTH_TYPE_CG":"BILL_AUTH_TYPE_TG").setIn(["invoiceAuthTemp","uuidList"],r.get("businessList").map(function(e){return e.get("uuid")}))).set("invoiceAuthList",r.getIn(["businessList"]));var i=r.get("billAcList"),l=r.get("billAssList");t=o(n.rate,t,i,l)}else t=(t=t.setIn(["invoiceAuthTemp","authBusinessUuid"],"").setIn(["invoiceAuthTemp","billAuthType"],"LX_ZZS_WRZ"===e.get("runningType")?"BILL_AUTH_TYPE_CG":"BILL_AUTH_TYPE_TG").setIn(["invoiceAuthTemp","uuidList"],(0,a.fromJS)([e.get("uuid")]))).set("invoiceAuthList",(0,a.fromJS)([e])),t=o(n.rate,t);return t}),s(e,u.INVOICING_FROM_CXLS_JUMP_TO_LRLS,function(){var e=n.item,r=(0,a.fromJS)(n.receivedData.result);if(t=c.setIn(["flags","insertOrModify"],n.insertOrModify).setIn(["invoicingTemp","runningDate"],e.get("runningDate")).setIn(["invoicingTemp","runningAbstract"],e.get("runningAbstract")).setIn(["invoicingTemp","categoryUuid"],r.get("categoryUuid")),"modify"===n.insertOrModify){var u=r.get("enclosureList")?r.get("enclosureList"):(0,a.fromJS)([]);t=(t=t.setIn(["invoicingTemp","makeOutBusinessUuid"],e.get("uuid")).setIn(["invoicingTemp","flowNumber"],e.get("flowNumber")).setIn(["invoiceAuthTemp","enclosureList"],u).setIn(["invoicingTemp","billMakeOutType"],"LX_KJFP_XS"===e.get("runningType")?"BILL_MAKE_OUT_TYPE_XS":"BILL_MAKE_OUT_TYPE_TS").setIn(["invoicingTemp","uuidList"],r.get("businessList").map(function(e){return e.get("uuid")}))).set("invoicingList",r.getIn(["businessList"]));var i=r.get("billAcList"),l=r.get("billAssList");t=o(n.rate,t,i,l)}else t=(t=t.setIn(["invoicingTemp","makeOutBusinessUuid"],"").setIn(["invoicingTemp","billMakeOutType"],"LX_ZZS_WKP"===e.get("runningType")?"BILL_MAKE_OUT_TYPE_XS":"BILL_MAKE_OUT_TYPE_TS").setIn(["invoicingTemp","uuidList"],(0,a.fromJS)([e.get("uuid")]))).set("invoicingList",(0,a.fromJS)([r])),t=o(n.rate,t);return t}),s(e,u.TRANSFER_OUT_FROM_CXLS_JUMP_TO_LRLS,function(){var e=n.item,r=(0,a.fromJS)(n.receivedData.result),u=r.get("enclosureList")?r.get("enclosureList"):(0,a.fromJS)([]);t=c.setIn(["flags","insertOrModify"],n.insertOrModify).setIn(["transferOutTemp","runningDate"],e.get("runningDate")).setIn(["transferOutTemp","flowNumber"],e.get("flowNumber")).setIn(["transferOutTemp","runningAbstract"],e.get("runningAbstract")).setIn(["transferOutTemp","categoryUuid"],r.get("categoryUuid")).setIn(["transferOutTemp","turnOutBusinessUuid"],e.get("uuid")).setIn(["transferOutTemp","handleMonth"],r.getIn(["businessList",0,"runningDate"]).substr(0,7)).setIn(["transferOutTemp","uuidList"],r.get("businessList").map(function(e){return e.get("uuid")})).setIn(["transferOutTemp","enclosureList"],u);var i=r.get("billAcList"),l=r.get("billAssList");t=o(n.rate,t,i,l);var s=0,d=0,f=0,g=0;return r.get("businessList").forEach(function(e){"bill_common"===e.get("billType")?(g+=1,f+=e.get("parentTax")?e.get("parentTax"):e.get("tax")):(d+=1,s+=e.get("parentTax")?e.get("parentTax"):e.get("tax"))}),t=t.setIn(["transferOutObj","flowDtoList"],r.get("businessList")).setIn(["transferOutObj","inputAmount"],s).setIn(["transferOutObj","inputCount"],d).setIn(["transferOutObj","outputAmount"],f).setIn(["transferOutObj","outputCount"],g)}),s(e,u.GET_COST_CATEGORY,function(){return t=t.setIn(["costTransferTemp","runningCategory"],(0,a.fromJS)(n.receivedData.categoryList))}),s(e,u.CHANGE_CALCULATE_COMMON_STRING,function(){return n.placeArr&&(t=t.setIn(n.placeArr,n.value)),n.place&&(t=t.set(n.place,n.value)),t}),s(e,u.CHANGE_CALCULATE_ENCLOSURE_LIST,function(){var e=[];return t.getIn([n.place,"enclosureList"]).map(function(t){e.push(t)}),n.imgArr.forEach(function(t){e.push(t)}),t=t.setIn([n.place,"enclosureList"],(0,a.fromJS)(e)).setIn([n.place,"enclosureCountUser"],e.length)}),s(e,u.DELETE_CALCULATE_UPLOAD_FJ_URL,function(){var e=[];return t.getIn([n.place,"needDeleteUrl"]).map(function(t){e.push(t)}),t.getIn([n.place,"enclosureList"]).map(function(a,r){r==n.index&&(e.push(t.getIn([n.place,"enclosureList",r]).set("beDelete",!0)),t=t.deleteIn([n.place,"enclosureList",r]))}),t=t.setIn([n.place,"needDeleteUrl"],(0,a.fromJS)(e)).setIn([n.place,"enclosureCountUser"],t.getIn([n.place,"enclosureList"]).size)}),s(e,u.GET_CAL_LABEL_FETCH,function(){return t=t.setIn([n.setPlace,"label"],(0,a.fromJS)(n.receivedData.data)).set("tagModal",!0)}),s(e,u.CHANGE_CAL_TAG_NAME,function(){return t.getIn([n.setPlace,"enclosureList"]).map(function(e,a){a==n.index&&(t=t.setIn([n.setPlace,"enclosureList",a,"label"],n.value))}),t=t.set("tagModal",!1)}),s(e,u.GET_DEAL_TYPE_CATEGORY,function(){return t=t.setIn(["DepreciationTemp","dealTypeList",0,"childList"],(0,a.fromJS)(n.receivedData[0].childList))}),e)[n.type]||function(){return t})()};var a=n(18),r=n(22),u=l(n(1342)),i=l(n(27));function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=(0,a.fromJS)({flags:{circleStatus:!0,runningInsertOrModify:"insert",insertOrModify:"insert",selectI:0,dealType:"",projectList:[],projectRange:[],propertyCostList:[],dealCategory:[],beProject:!1},costTransferTemp:{carryoverBusinessUuid:"",uuidList:[],stockCardUuidList:[],categoryUuid:"",runningState:"STATE_YYSR_XS",runningDate:(0,r.formatDate)(),runningAbstract:"销售存货结转成本",carryoverAmount:"",categoryName:"",acList:[],assList:[],stockList:[],stockCardList:[{code:"",name:"",amount:""}],cardUuid:"",runningCategory:[{childList:[]}],enclosureList:[],needDeleteUrl:[],tagModal:!1,label:[]},rateAcAndAsslist:{acList:[],assList:[]},invoiceAuthTemp:{authBusinessUuid:"",uuidList:[],billAuthType:"BILL_AUTH_TYPE_CG",runningDate:(0,r.formatDate)(),runningAbstract:"增值税专用发票认证",categoryUuid:"",acList:[],assList:[],enclosureList:[],needDeleteUrl:[],tagModal:!1,label:[]},invoicingTemp:{makeOutBusinessUuid:"",uuidList:[],billMakeOutType:"BILL_MAKE_OUT_TYPE_XS",runningDate:(0,r.formatDate)(),runningAbstract:"收入开具发票",categoryUuid:"",acList:[],assList:[],enclosureList:[],needDeleteUrl:[],tagModal:!1,label:[]},transferOutTemp:{uuidList:[],turnOutBusinessUuid:"",runningDate:(0,r.formatDate)(),runningAbstract:"转出未交增值税",handleMonth:"",enclosureList:[],needDeleteUrl:[],tagModal:!1,label:[]},InternalTransferTemp:{uuid:"",runningState:"STATE_ZZ",runningDate:(0,r.formatDate)(),runningAbstract:"内部转账",amount:"",categoryType:"",categoryUuid:"",fromAccountUuid:"",toAccountUuid:"",accountChildList:[],enclosureList:[],needDeleteUrl:[],tagModal:!1,label:[]},DepreciationTemp:{uuid:"",runningState:"STATE_CQZC_ZJTX",runningDate:(0,r.formatDate)(),runningAbstract:"资产折旧摊销",amount:"",categoryType:"",categoryUuid:"",assetType:"XZ_ZJTX",dealTypeList:[{childList:[]}],usedProject:!1,projectCard:{name:"",code:"",uuid:"",amount:""},propertyCost:"",enclosureList:[],needDeleteUrl:[],tagModal:!1,label:[]},costTransferList:[],invoiceAuthList:[],invoicingList:[],transferOutObj:{flowDtoList:[],inputAmount:"",inputCount:"",outputAmount:"",outputCount:""},vcKey:0});function o(e,t,n,r){var u=[],l=[];("small"===e.scale?[{name:"payable",type:i.ACCOUNT_RATE_TYPE_OF_PAYABLE},{name:"notBilling",type:i.ACCOUNT_RATE_TYPE_OF_NOTBILLING}]:[{name:"input",type:i.ACCOUNT_RATE_TYPE_OF_INPUT},{name:"certified",type:i.ACCOUNT_RATE_TYPE_OF_CERTIFIED},{name:"waitOutput",type:i.ACCOUNT_RATE_TYPE_OF_WAITOUTPUT},{name:"output",type:i.ACCOUNT_RATE_TYPE_OF_OUTPUT},{name:"turnOutUnpaid",type:i.ACCOUNT_RATE_TYPE_OF_TURNOUTUNPAID},{name:"unpaid",type:i.ACCOUNT_RATE_TYPE_OF_UNPAID}]).forEach(function(t){u.push({acId:e[t.name+"AcId"],acName:e[t.name+"AcFullName"],type:t.type}),e[t.name+"AssCategory"].forEach(function(e){l.push({assId:"",assName:"",assCategory:e,type:t.type})})});var s=(0,a.fromJS)(u),c=(0,a.fromJS)(l);return n&&n.size&&n.forEach(function(e){var t=e.get("type");s=s.update(function(n){return n.map(function(n){return n.get("type")===t?n.set("acId",e.get("acId")).set("acName",e.get("acName")):n})})}),r&&r.size&&r.forEach(function(e){var t=e.get("type"),n=e.get("assCategory");c=c.update(function(a){return a.map(function(a){return a.get("type")===t&&a.get("assCategory")===n?a.set("assId",e.get("assId")).set("assName",e.get("assName")):a})})}),t.setIn(["rateAcAndAsslist","acList"],s).setIn(["rateAcAndAsslist","assList"],c)}},1391:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,n=arguments[1];return((e={},s(e,r.INIT_CXLS,function(){return c}),s(e,r.GET_BUSINESS_LIST,function(){if(n.isReflash&&(t=t.set("businessTemp",c)),"true"===n.getPeriod&&(t=t.set("period",(0,a.fromJS)(n.period)).set("issues",(0,a.fromJS)(n.issues))),n.accountUuid&&n.isAccount){var e=n.accountUuid.split(u.TREE_JOIN_STR);t=t.setIn(["flags","curAccountUuid"],(0,a.fromJS)(n.accountUuid)).setIn(["flags","accountName"],(0,a.fromJS)(e[1]))}else t=t.setIn(["flags","curAccountUuid"],"").setIn(["flags","accountName"],"");switch(n.orderBy){case"SEARCH_ORDER_DATE":t=t.setIn(["orderByList","dateSortType"],n.isAsc);break;case"SEARCH_ORDER_CATEGORY_TYPE":t=t.setIn(["orderByList","categorySortType"],n.isAsc);break;case"SEARCH_ORDER_AMOUNT":t=t.setIn(["orderByList","amountSortType"],n.isAsc);break;case"SEARCH_ORDER_CREATE_NAME":t=t.setIn(["orderByList","nameSortType"],n.isAsc)}var r=n.receivedExtra,i=(r.childList,function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(r,["childList"]));for(var l in i)t=t.setIn(["flags",l],i[l]);return t.set("businessTemp",(0,a.fromJS)(n.receivedData)).set("pageCount",n.pageCount).set("currentPage",n.currentPage).setIn(["flags","mainWater"],(0,a.fromJS)(n.waterType)).setIn(["flags","issuedate"],(0,a.fromJS)(n.issuedate)).setIn(["flags","isAccount"],(0,a.fromJS)(n.isAccount)).setIn(["flags","isAsc"],(0,a.fromJS)(n.isAsc)).setIn(["flags","selectList"],(0,a.fromJS)([])).setIn(["flags","pzSelectAllList"],(0,a.fromJS)([])).setIn(["flags","currentVcIndex"],(0,a.fromJS)([]))}),s(e,r.CHANGE_CX_ACCOUNT_COMMON_STRING,function(){return n.placeArr&&(t=t.setIn(n.placeArr,n.value)),n.place&&(t=t.set(n.place,n.value)),t}),s(e,r.CXLS_ITEM_CHECKBOX_CHECK_ALL,function(){if(n.selectAll)return t.setIn(["flags","selectList"],(0,a.fromJS)([])).setIn(["flags","pzSelectAllList"],(0,a.fromJS)([])).setIn(["flags","currentVcIndex"],(0,a.fromJS)([]));var e=n.list,r=[],u=[],i=[];return e.forEach(function(e){r.push(e.get("uuid")),e.get("vcList")&&e.get("vcList").size?e.get("vcList").map(function(e){i.push(e.get("vcIndex")),t=t.setIn(["flags","currentYear"],e.get("year")).setIn(["flags","currentMonth"],e.get("month"))}):u.push((0,a.fromJS)({uuid:e.get("uuid"),flowNumber:e.get("flowNumber")}))}),t.setIn(["flags","selectList"],(0,a.fromJS)(r)).setIn(["flags","pzSelectAllList"],(0,a.fromJS)(u)).setIn(["flags","currentVcIndex"],(0,a.fromJS)(i))}),s(e,r.CXLS_ITEM_CHECKBOX_CHECK,function(){var e=t.getIn(["flags","selectList"]),r=t.getIn(["flags","pzSelectAllList"]),u=t.getIn(["flags","currentVcIndex"]);if(n.checked){var i=e.splice(e.findIndex(function(e){return e===n.item.get("uuid")}),1),l=r,s=u;return n.item.get("vcList")&&n.item.get("vcList").size?n.item.get("vcList").map(function(e){s=s.splice(s.findIndex(function(t){return t===e.get("vcIndex")}),1)}):l=r.splice(r.findIndex(function(e){return e.get("uuid")===n.item.get("uuid")}),1),t.setIn(["flags","selectList"],(0,a.fromJS)(i)).setIn(["flags","pzSelectAllList"],(0,a.fromJS)(l)).setIn(["flags","currentVcIndex"],(0,a.fromJS)(s))}var c=e.push(n.item.get("uuid")),o=r,d=u;return n.item.get("vcList")&&n.item.get("vcList").size?n.item.get("vcList").map(function(e){d=d.push(e.get("vcIndex")),t=t.setIn(["flags","currentYear"],e.get("year")).setIn(["flags","currentMonth"],e.get("month"))}):o=r.push((0,a.fromJS)({uuid:n.item.get("uuid"),flowNumber:n.item.get("flowNumber")})),t.setIn(["flags","selectList"],(0,a.fromJS)(c)).setIn(["flags","pzSelectAllList"],(0,a.fromJS)(o)).setIn(["flags","currentVcIndex"],(0,a.fromJS)(d))}),s(e,r.GET_CXLSCONF_ALL_SETTINGS,function(){return t=t.set("runningCategory",(0,a.fromJS)(n.receivedData.categoryList)).set("accountList",(0,a.fromJS)(n.receivedData.accountList)).set("taxRateTemp",(0,a.fromJS)(n.receivedData.rate))}),s(e,r.SET_CURRENT_PZ,function(){return t=t.setIn(["flags","currentYear"],n.year).setIn(["flags","currentMonth"],n.month).setIn(["flags","currentVcIndex"],(0,a.fromJS)(n.vcIndexList))}),s(e,r.CHANGE_PZ_COMMON_STRING,function(){return t=t.setIn(n.name,n.value)}),s(e,r.CXLS_CALCULATE_GAIN_OR_LOSS,function(){var e=n.place,a=n.diff,r=n.deletePlace;return t.setIn(e,a).deleteIn(r,a)}),e)[n.type]||function(){return t})()};var a=n(18),r=l(n(1274)),u=l(n(27)),i=n(22);function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=(0,a.fromJS)({flags:{issuedate:"",main:"duty",mainWater:"allWater",insertOrModify:"insert",runningInsertOrModify:"insert",payOrReceive:"收",accountAssModalShow:!1,curCategory:"全部",curAccountUuid:"",accountName:"全部",assId:"",assCategory:"",acId:"",selectList:[],pzSelectAllList:[],pzDealNum:0,pzDealStatus:!1,showRunningInfo:{},currentYear:"",currentMonth:"",currentVcIndex:[],searchType:"SEARCH_TYPE_CATEGORY_TYPE",managerCategoryList:[],pzDealType:"",projectList:[]},orderByList:{dateSortType:!1,categorySortType:!1,amountSortType:!1,nameSortType:!1,orderByArr:[]},businessTemp:{},runningFlowTemp:{},modalTemp:{runningDate:(0,i.formatDate)(),uuidList:[]},period:{closedmonth:"",closedyear:"",firstmonth:"",firstyear:"",lastmonth:"",lastyear:""},issues:[],currentPage:1,pageCount:1})},2439:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=T(n(182)),u=T(n(45)),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(181),n(55);var l=T(n(1)),s=n(56),c=n(18);n(2440);var o=T(n(2442)),d=T(n(2443)),f=T(n(1281)),g=n(127),m=(_(n(27)),n(482)),p=_(n(1239));_(n(43));function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function T(e){return e&&e.__esModule?e:{default:e}}u.default.Option;var C=(0,s.connect)(function(e){return e})(a=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={showCardModal:!1,showRunningModal:!1,showPayOrReceive:!1,payList:(0,c.fromJS)([]),receivedList:(0,c.fromJS)([]),showRunningInfoModal:!1,runningInfoModalType:!1,inputValue:"",yllsVisible:!1},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),i(t,[{key:"componentDidMount",value:function(){this.props.dispatch(p.getPeriodAndBusinessList())}}]),i(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.props.accountConfState!==e.accountConfState||this.props.allState!==e.allState||this.props.homeState!==e.homeState||this.props.cxlsState!==e.cxlsState||this.props.yllsState!==e.yllsState||this.props.lrAccountState!==e.lrAccountState||this.state!==t}},{key:"componentWillReceiveProps",value:function(e){this.props.homeState.get("homeActiveKey")===e.homeState.get("homeActiveKey")&&this.props.homeState.get("pageActive")===e.homeState.get("pageActive")||!0!==this.state.yllsVisible||this.setState({yllsVisible:!1})}},{key:"render",value:function(){var e=this,t=this.props,n=t.allState,a=t.accountConfState,u=t.dispatch,i=t.cxlsState,s=t.homeState,c=t.yllsState,_=t.lrAccountState,T=this.state,C=(T.showCardModal,T.showRunningModal,T.showPayOrReceive,T.payList,T.receivedList,T.showRunningInfoModal,T.runningInfoModalType,T.inputValue),A=T.yllsVisible,y=s.getIn(["permissionInfo","LrAccount"]),E=y.getIn(["edit","permission"]),I=y.getIn(["review","permission"]),S=s.getIn(["permissionInfo","Pz"]).getIn(["edit","permission"]),L=(n.get("allasscategorylist"),s.get("pageList")),v=s.getIn(["views","isSpread"]),N=s.get("panes"),h=i.get("issues"),O=(n.get("isAdOrOp"),i.get("businessTemp")),b=i.getIn(["flags","issuedate"]),M=i.get("flags"),R=i.getIn(["flags","main"]),D=i.getIn(["flags","mainWater"]),P=i.getIn(["flags","currentAccount"]),U=i.getIn(["flags","currentAss"]),G=i.getIn(["flags","curCategory"]),w=i.getIn(["flags","curAccountUuid"]),J=(i.getIn(["flags","insertOrModify"]),i.getIn(["flags","accountAssModalShow"]),i.getIn(["flags","runningInsertOrModify"]),i.getIn(["flags","payOrReceive"]),i.getIn(["flags","selectList"])),F=i.getIn(["flags","pzSelectAllList"]),H=i.getIn(["flags","currentVcIndex"]),x=i.getIn(["flags","assId"]),B=i.getIn(["flags","assCategory"]),k=i.getIn(["flags","acId"]),Z=(i.getIn(["flags","showRunningInfo"]),i.getIn(["flags","accountName"])),Y=i.getIn(["flags","searchType"]),K=i.getIn(["orderByList","dateSortType"]),j=i.getIn(["orderByList","categorySortType"]),X=i.getIn(["orderByList","amountSortType"]),z=i.getIn(["orderByList","nameSortType"]),V=(i.get("runningTemp"),i.get("cardTemp"),i.get("modalTemp")),W=i.get("dutyList"),Q=(i.get("realityList"),i.get("waitPayList")),q=i.get("mediumAcAssList"),$=(i.get("budgetList"),i.get("runningCategory"),a.get("accountList")),ee=(i.get("taxRateTemp"),i.getIn(["flags","pzDealNum"])),te=i.getIn(["flags","pzDealStatus"]),ne="insert"==i.getIn(["flags","pzDealType"])?F:H,ae=ne.size?(100*ee/ne.size).toFixed(2):0,re=s.getIn(["data","userInfo","sobInfo","moduleInfo"]),ue=!!re&&re.indexOf("GL")>-1,ie=!!re&&re.indexOf("RUNNING_GL")>-1,le=c.get("lsItemData"),se=c.get("curItem"),ce=i.get("runningFlowTemp"),oe=(ce.get("runningDate"),ce.get("magenerType")),de=ce.get("categoryType"),fe=m.categoryTypeAll[de],ge=ce.getIn([fe,"contactsCardRange"]),me=(_.getIn(["flags","uuidList"]),M.get("isClose")),pe=M.get("projectList");return l.default.createElement("div",{className:"cxls"},l.default.createElement(o.default,{issues:h,issuedate:b,searchType:Y,inputValue:C,main:R,mainWater:D,accountName:Z,accountList:$,currentAccount:P,currentAss:U,dispatch:u,curCategory:G,curAccountUuid:w,assId:x,assCategory:B,acId:k,selectList:J,pzSelectAllList:F,mediumAcAssList:q,changeInputValue:function(t){return e.setState({inputValue:t})},newCard:function(){return e.setState({showCardModal:!0})},newRunning:function(){return e.setState({showRunningModal:!0})},payOrReceiveOnClick:function(){return e.setState({showPayOrReceive:!0})},setReceivedList:function(t){return e.setState({receivedList:t})},setPayList:function(t){return e.setState({payList:t})},pageList:L,isSpread:v,editLrAccountPermission:E,editPzPermission:S,reviewLrAccountPermission:I,simplifyStatus:ue,flags:M}),A?l.default.createElement(f.default,{yllsVisible:A,dispatch:u,yllsState:c,onClose:function(){return e.setState({yllsVisible:!1})},editLrAccountPermission:E,panes:N,lsItemData:le,uuidList:O,showDrawer:function(){return e.setState({yllsVisible:!0})},refreshList:function(){return u(p.afterModifyAccountAllList(!0))},fromCxls:!0,curItem:se,modalTemp:V,intelligentStatus:ie,magenerType:oe,contactsCardRange:ge,categoryTypeObj:fe,accountList:$,issuedate:b,inputValue:C,isClose:me,simplifyStatus:ue,editPzPermission:S,reviewLrAccountPermission:I,projectList:pe}):"",l.default.createElement(g.TableWrap,{className:"table-cxls-wrap"},te?l.default.createElement("div",{className:"cxls-pz-progress"},l.default.createElement("div",{class:"cxls-pz-modal-mask"}),l.default.createElement(r.default,{className:"pz-progress-percentage",type:"circle",percent:ae,width:80})):"",l.default.createElement(d.default,{issuedate:b,inputValue:C,dateSortType:K,categorySortType:j,amountSortType:X,nameSortType:z,selectList:J,cxlsState:i,dutyList:W,main:R,mainWater:D,curAccountUuid:w,waitPayList:Q,dispatch:u,openCardModal:function(){return e.setState({showCardModal:!0})},openRunningModal:function(){return e.setState({showRunningModal:!0})},businessTemp:O,panes:N,accountList:$,editLrAccountPermission:E,reviewLrAccountPermission:I,editPzPermission:S,simplifyStatus:ue,intelligentStatus:ie,showDrawer:function(){return e.setState({yllsVisible:!0})},onClose:function(){return e.setState({yllsVisible:!1})}})))}}]),t}())||a;t.default=C},2440:function(e,t,n){},2442:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=y(n(47)),u=y(n(32)),i=y(n(129)),l=y(n(100)),s=y(n(14)),c=y(n(45)),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(46),n(51),n(128),n(99),n(78),n(55);var d=y(n(1)),f=n(17),g=(n(127),n(22),A(n(1239))),m=(n(18),A(n(27))),p=A(n(60)),_=A(n(43)),T=A(n(1229)),C=y(n(1227));function A(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function y(e){return e&&e.__esModule?e:{default:e}}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var I=(0,f.immutableRenderDecorator)(a=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,u=Array(r),i=0;i<r;i++)u[i]=arguments[i];return n=a=E(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),a.state={deleteAllModal:!1},E(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,d.default.Component),o(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.issuedate,a=t.inputValue,o=t.changeInputValue,f=t.main,A=t.searchType,y=t.mainWater,E=t.accountList,I=t.accountName,S=(t.currentAccount,t.currentAss,t.dispatch),L=(t.newCard,t.newRunning,t.issues),v=(t.curCategory,t.curAccountUuid),N=(t.assId,t.assCategory,t.acId),h=t.selectList,O=t.pzSelectAllList,b=t.mediumAcAssList,M=(t.payOrReceiveOnClick,t.setReceivedList,t.setPayList,t.isSpread),R=t.pageList,D=t.editLrAccountPermission,P=t.reviewLrAccountPermission,U=t.editPzPermission,G=t.simplifyStatus,w=t.flags,J=this.state.deleteAllModal,F=G?U:P,H={SEARCH_TYPE_CATEGORY_TYPE:function(){return"流水类别"},SEARCH_TYPE_ABSTRACT:function(){return"摘要"},SEARCH_TYPE_RUNNING_TYPE:function(){return"类型"},SEARCH_TYPE_AMOUNT:function(){return"金额"},SEARCH_TYPE_CREATE_NAME:function(){return"制单人"}}[A](),x=[{value:"全部",key:""}];"waitFor"===f&&(b.get("acList").size&&b.get("acList").forEach(function(e){N===e.get("acId")&&e.get("acId")+" "+e.get("acName"),x.push({value:e.get("acId")+" "+e.get("acName"),key:e.get("acId")})}),b.get("category").size&&b.get("category").forEach(function(e){e.get("assList").forEach(function(e){x.push({value:e.get("assCategory")+" "+e.get("assId")+" "+e.get("assName"),key:""+m.TREE_JOIN_STR+e.get("assCategory")+m.TREE_JOIN_STR+e.get("assId")})})}));var B="reality"===f?"Payment":"Business",k=w.get("isAccount"),Z=w.get("isAsc"),Y=w.get("isClose");return d.default.createElement("div",{className:"title"},M||R.getIn(["Search","pageList"]).size<=1?"":d.default.createElement(C.default,{pageItem:R.get("Search"),onClick:function(e,t,n){S(p.addPageTabPane("SearchPanes",n,n,t)),S(p.addHomeTabpane(e,n,t))}}),d.default.createElement(c.default,{className:"title-date title-date-margin-right",value:n,onChange:function(e){S(g.getBusinessList(e,"allWater",v)),S(g.changeCxAccountCommonOutString(["flags","searchType"],"SEARCH_TYPE_CATEGORY_TYPE")),o("")}},L.map(function(e,t){return d.default.createElement(Option,{key:t,value:e},e)})),d.default.createElement("span",{className:"cxls-serch"},d.default.createElement(c.default,{style:{width:88},className:"cxls-type-choose",defaultValue:"流水类别",value:H,onChange:function(e){S(g.changeCxAccountCommonString("",["flags","searchType"],e))},onSelect:function(e){return S(g.changeCxAccountCommonString("",["flags","searchType"],e))}},[{value:"SEARCH_TYPE_CATEGORY_TYPE",key:"流水类别"},{value:"SEARCH_TYPE_ABSTRACT",key:"摘要"},{value:"SEARCH_TYPE_RUNNING_TYPE",key:"类型"},{value:"SEARCH_TYPE_AMOUNT",key:"金额"},{value:"SEARCH_TYPE_CREATE_NAME",key:"制单人"}].map(function(e,t){return d.default.createElement(Option,{key:e.key,value:e.value},e.key)})),d.default.createElement(s.default,{className:"cxls-serch-icon",type:"search",onClick:function(){S(g.getBusinessList(n,y,v,"","",a,Z,k))}}),d.default.createElement(l.default,{placeholder:"搜索流水",className:"cxls-serch-input",value:a,onChange:function(e){return o(e.target.value)},onKeyDown:function(e){e.keyCode==m.ENTER_KEY_CODE&&(o(a),S(g.getBusinessList(n,y,v,"","",a,Z,k)))}})),d.default.createElement("span",{style:{lineHeight:"28px"}},d.default.createElement(i.default,{checked:k,onChange:function(e){S(g.getBusinessList(n,y,v,"","",a,!!e.target.checked,e.target.checked))}}),"查看账户"+(k?"：":""),k?d.default.createElement(c.default,{style:{width:120},value:I,onChange:function(e){return e||S(g.getBusinessList(n,y,e,"","",a,Z,k))},onSelect:function(e){return S(g.getBusinessList(n,y,e,"","",a,Z,k))}},d.default.createElement(Option,{key:"",value:""},"全部"),E.getIn([0,"childList"]).map(function(e,t){return d.default.createElement(Option,{key:t,value:""+e.get("uuid")+m.TREE_JOIN_STR+e.get("name")},e.get("name"))})):""),d.default.createElement("div",{className:"pcxls-account",style:{display:Y?"block":"none"}},"已结账"),d.default.createElement(u.default,{type:"ghost",className:"title-right",onClick:function(){o(""),S(g.afterModifyAccountAllList(!0)),S(_.freshSearchPage("查询流水"))}},"刷新"),d.default.createElement(u.default,{type:"ghost",disabled:!h.size||!D,className:"title-right",onClick:function(){S(g.deleteAccountItemCardAndRunning(!0,a))}},"删除"),d.default.createElement(u.default,{className:"title-right four-word-btn",type:"ghost",onClick:function(){S(p.addPageTabPane("SearchPanes","Calculation","Calculation","核算与管理")),S(p.addHomeTabpane("Search","Calculation","核算与管理"))}},"核算与管理"),d.default.createElement(u.default,{type:"ghost",disabled:!h.size||!F||!O.size,className:"title-right",onClick:function(){S(g.runningInsertVc(O,B,n,a))}},G?"生成凭证":"审核"),d.default.createElement(u.default,{className:"title-right four-word-btn",type:"ghost",disabled:!D,onClick:function(){S(T.getRunningSettingInfo()),S(p.addPageTabPane("EditPanes","LrAccount","LrAccount","录入流水")),S(p.addHomeTabpane("Edit","LrAccount","录入流水"))}},"新增"),d.default.createElement(u.default,{type:"ghost",disabled:!h.size||!F||!w.get("currentVcIndex").size,className:"title-right",onClick:function(){F&&G&&e.setState({deleteAllModal:!0}),F&&!G&&S(g.deleteVcItemFetch(w.get("currentYear"),w.get("currentMonth"),w.get("currentVcIndex").toJS(),n,a))}},G?"删除凭证":"反审核"),d.default.createElement(r.default,{ref:"modal",visible:J,title:"提示",onCancel:function(){return e.setState({deleteAllModal:!1})},footer:[d.default.createElement(u.default,{key:"back",type:"ghost",size:"large",onClick:function(){return e.setState({deleteAllModal:!1})}},"取消"),d.default.createElement(u.default,{key:"submit",type:"primary",size:"large",onClick:function(){e.setState({deleteAllModal:!1}),S(g.deleteVcItemFetch(w.get("currentYear"),w.get("currentMonth"),w.get("currentVcIndex").toJS(),n,a))}},"确定")]},d.default.createElement("p",null,"确定删除凭证吗？")))}}]),t}())||a;t.default=I},2443:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=g(n(1)),i=n(17),l=(n(18),n(127)),s=g(n(2444)),c=g(n(2445)),o=(f(n(27)),n(22)),d=f(n(1239));function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function g(e){return e&&e.__esModule?e:{default:e}}var m=(0,i.immutableRenderDecorator)(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.main,n=e.mainWater,a=(e.dutyList,e.waitPayList,e.dispatch),r=e.selectList,i=e.openCardModal,f=e.openRunningModal,g=e.businessTemp,m=e.issuedate,p=e.curAccountUuid,_=e.panes,T=e.cxlsState,C=e.dateSortType,A=e.categorySortType,y=e.amountSortType,E=e.nameSortType,I=e.inputValue,S=e.accountList,L=e.editLrAccountPermission,v=e.reviewLrAccountPermission,N=e.editPzPermission,h=e.simplifyStatus,O=e.intelligentStatus,b=e.showDrawer,M=e.onClose,R=!!g.size&&r.size===g.size,D=T.get("currentPage"),P=T.get("pageCount"),U=T.getIn(["flags","mainWater"]),G=T.getIn(["flags","isAccount"]),w=T.getIn(["flags","isAsc"]),J=T.getIn(["flags","curAccountUuid"]),F=T.getIn(["flags","debitAmount"]),H=T.getIn(["flags","creditAmount"]),x=T.getIn(["flags","openedAmount"]),B=T.getIn(["flags","endedAmount"]);return u.default.createElement(l.TableAll,{type:"with-plus"},u.default.createElement(s.default,{className:G?"account-waitFor-table-width":"account-duty-table-width",main:t,mainWater:n,dispatch:a,curAccountUuid:p,selectAcAll:R,issuedate:m,dateSortType:C,categorySortType:A,amountSortType:y,nameSortType:E,inputValue:I,simplifyStatus:h,isAccount:G,isAsc:w,intelligentStatus:O,onClick:function(){return a(d.accountItemCheckboxCheckAll(R,g))}}),u.default.createElement(l.TableBody,null,G?u.default.createElement("div",null,u.default.createElement("ul",{className:"table-item account-waitFor-table-width"},u.default.createElement("li",null),u.default.createElement("li",null),u.default.createElement("li",null),u.default.createElement("li",null),u.default.createElement(l.TableOver,{textAlign:"left"},"期初余额"),u.default.createElement("li",null),u.default.createElement("li",null),u.default.createElement("li",null),u.default.createElement(l.TableOver,{textAlign:"right"},x?(0,o.formatMoney)(x):""),u.default.createElement("li",null),u.default.createElement("li",null),u.default.createElement("li",null))):"",g.map(function(e,n){return u.default.createElement(c.default,{issuedate:m,key:n,item:e,line:n,className:G?"account-waitFor-table-width":"account-duty-table-width",main:t,dispatch:a,selectList:r,openCardModal:i,openRunningModal:f,panes:_,cxlsState:T,accountList:S,editLrAccountPermission:L,reviewLrAccountPermission:v,editPzPermission:N,simplifyStatus:h,intelligentStatus:O,uuidList:g,showDrawer:b,onClose:M,inputValue:I})}),G?u.default.createElement("ul",{className:"table-item account-waitFor-table-width"},u.default.createElement("li",null),u.default.createElement("li",null),u.default.createElement(l.TableOver,{textAlign:"left"},"合计"),u.default.createElement("li",null),u.default.createElement("li",null),u.default.createElement(l.TableOver,{textAlign:"left"},"收入"),u.default.createElement(l.TableOver,{textAlign:"right"},F?(0,o.formatMoney)(F):""),u.default.createElement(l.TableOver,{textAlign:"right"},H?(0,o.formatMoney)(H):""),u.default.createElement(l.TableOver,{textAlign:"right"},B?(0,o.formatMoney)(B):""),u.default.createElement("li",null),u.default.createElement("li",null),u.default.createElement("li",null)):""),u.default.createElement(l.TablePagination,{currentPage:D,pageCount:P,paginationCallBack:function(e){return a(d.getBusinessList(m,U,J,e))}}))}}]),t}())||a;t.default=m},2444:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=c(n(129)),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(128);var i=c(n(1)),l=n(17),s=(n(18),function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1239)));function c(e){return e&&e.__esModule?e:{default:e}}var o=(0,l.immutableRenderDecorator)(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),u(t,[{key:"render",value:function(){var e=this.props,t=e.dispatch,n=e.className,a=e.main,u=e.mainWater,l=e.onClick,c=e.issuedate,o=e.curAccountUuid,d=e.selectAcAll,f=(e.dateSortType,e.categorySortType,e.amountSortType,e.nameSortType,e.inputValue),g=e.simplifyStatus,m=e.isAccount,p=e.isAsc;return i.default.createElement("div",{className:"table-title-wrap"},i.default.createElement("ul",{className:n?n+" table-title":"table-title"},i.default.createElement("li",{onClick:l},i.default.createElement(r.default,{checked:d})),i.default.createElement("li",{onClick:function(){t(s.getBusinessList(c,u,o,"","SEARCH_ORDER_DATE",f,!p,m))}},i.default.createElement("span",null,"日期"),i.default.createElement("span",{className:"cxls-sort-icon"})),i.default.createElement("li",null,i.default.createElement("span",null,"流水号")),i.default.createElement("li",{onClick:function(){t(s.getBusinessList(c,u,o,"","SEARCH_ORDER_CATEGORY_TYPE",f,!p,m))}},i.default.createElement("span",null,"流水类别"),i.default.createElement("span",{className:"cxls-sort-icon"})),i.default.createElement("li",null,i.default.createElement("span",null,"摘要")),i.default.createElement("li",null,i.default.createElement("span",null,"类型")),m?i.default.createElement("li",null,i.default.createElement("span",null,"收款额")):i.default.createElement("li",{onClick:function(){t(s.getBusinessList(c,u,o,"","SEARCH_ORDER_AMOUNT",f,!p,m))}},i.default.createElement("span",null,"金额"),i.default.createElement("span",{className:"cxls-sort-icon"})),m?i.default.createElement("li",null,i.default.createElement("span",null,"付款额")):"",m?i.default.createElement("li",null,i.default.createElement("span",null,"余额")):"",i.default.createElement("li",null,i.default.createElement("span",null,"状态")),i.default.createElement("li",{onClick:function(){t(s.getBusinessList(c,u,o,"","SEARCH_ORDER_CREATE_NAME",f,!p,m))}},i.default.createElement("span",null,"制单人"),i.default.createElement("span",{className:"cxls-sort-icon"})),i.default.createElement("li",{style:{display:"waitFor"==a?"none":""},onClick:function(){t(s.getBusinessList(c,u,o,"","SEARCH_ORDER_CERTIFICATE",f,!p,m))}},i.default.createElement("span",null,g?"凭证":"审核"),i.default.createElement("span",{className:"cxls-sort-icon"}))))}}]),t}())||a;t.default=o},2445:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=M(n(1234)),u=M(n(45)),i=M(n(100)),l=M(n(1230)),s=M(n(14)),c=M(n(176)),o=M(n(174)),d=M(n(61)),f=M(n(129)),g=M(n(32)),m=M(n(47)),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(1235),n(55),n(99),n(1231),n(78),n(175),n(173),n(79),n(128),n(51),n(46);var _=M(n(1)),T=n(17),C=n(18),A=n(127),y=(b(n(30)),M(n(6))),E=n(22),I=b(n(27)),S=n(482),L=b(n(1245)),v=b(n(1239)),N=b(n(1276)),h=b(n(43)),O=b(n(1243));function b(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function M(e){return e&&e.__esModule?e:{default:e}}function R(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var D=(0,T.immutableRenderDecorator)(a=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,u=Array(r),i=0;i<r;i++)u[i]=arguments[i];return n=a=R(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),a.state={show:!1,deleteModal:!1,isSeleck:!1,deleteHasFj:!1,manageModal:!1,carryoverModal:!1,invioceModal:!1,defineModal:!1,jzsyModal:!1,yllsVisible:!1},R(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,_.default.Component),p(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.className,a=t.item,p=t.line,T=(t.main,t.dispatch),b=t.selectList,M=(t.openCardModal,t.openRunningModal,t.issuedate),R=t.panes,D=t.cxlsState,P=t.accountList,U=t.editLrAccountPermission,G=t.reviewLrAccountPermission,w=t.editPzPermission,J=t.simplifyStatus,F=t.intelligentStatus,H=t.uuidList,x=t.showDrawer,B=t.onClose,k=t.inputValue,Z=this.state,Y=Z.deleteModal,K=Z.isSeleck,j=Z.deleteHasFj,X=Z.manageModal,z=Z.carryoverModal,V=Z.show,W=Z.invioceModal,Q=Z.defineModal,q=(Z.yllsVisible,Z.jzsyModal),$=J?w:G,ee=(a.get("direction"),Number(a.get("amount")),a.get("beManagemented"),D.get("flags")),te=ee.get("isClose"),ne=ee.get("isAccount"),ae=ee.get("projectList"),re=D.get("runningFlowTemp"),ue=(Number(a.get("handleAmount")),a.get("assList")),ie=(ue.size?ue.map(function(e){return e.get("assName")}):(0,C.fromJS)([]),re.get("categoryType")),le=D.get("modalTemp"),se=S.categoryTypeAll[ie],ce=re.getIn([se,"contactsCardRange"]),oe=(re.get("runningDate"),re.get("magenerType")),de=function(e){return(0,S.beforejumpCxToLr)(e,R,m.default)},fe=[],ge=void 0,me=void 0;a.get("vcList").map(function(e,t){fe.push(e.get("vcIndex")),ge=e.get("year"),me=e.get("month")});var pe=function(t){var n=t.get("waitReceiving"),a=t.get("waitPaying"),r=t.get("makeOut"),u=t.get("carryover"),i=t.get("certified"),l=t.get("received"),s=t.get("receiving"),c=t.get("turnOut"),o=t.get("payed"),d=t.get("paying"),f=t.get("shouldReturn"),m=t.get("runningType"),p=t.get("categoryType"),C=[],A=[];switch(n){case"1":C.push(_.default.createElement("div",{key:"a1"},_.default.createElement("span",null,"暂收款")));break;case"2":C.push(_.default.createElement("div",{key:"a2"},_.default.createElement("span",null,"全部核销")));break;case"3":C.push(_.default.createElement("div",{key:"a3"},_.default.createElement("span",null,"部分核销")))}switch(a){case"1":C.push(_.default.createElement("div",{key:"b1"},_.default.createElement("span",null,"暂付款")));break;case"2":C.push(_.default.createElement("div",{key:"b2"},_.default.createElement("span",null,"全部核销")));break;case"3":C.push(_.default.createElement("div",{key:"b3"},_.default.createElement("span",null,"部分核销")))}switch(d){case"1":C.push(_.default.createElement("div",{key:"z1"},_.default.createElement("span",null,"应付款"),_.default.createElement(g.default,{type:"ghost",className:"handle-btn",disabled:!U,onClick:function(){T(v.getBusinessManagerModal(t,function(){e.setState({manageModal:!0})},"credit"))}},"付"))),U&&A.push({name:"付款",onClick:function(){T(v.getBusinessManagerModal(t,function(){e.setState({manageModal:!0})},"credit"))}});break;case"2":C.push(_.default.createElement("div",{key:"z2"},_.default.createElement("span",null,"全部付款")));break;case"3":C.push(_.default.createElement("div",{key:"z3"},_.default.createElement("span",null,"部分付款"),_.default.createElement(g.default,{type:"ghost",className:"handle-btn",disabled:!U,onClick:function(){T(v.getBusinessManagerModal(t,function(){e.setState({manageModal:!0})},"credit"))}},"付"))),U&&A.push({name:"付款",onClick:function(){T(v.getBusinessManagerModal(t,function(){e.setState({manageModal:!0})},"credit"))}})}switch(l){case"1":C.push(_.default.createElement("div",{key:"c1"},_.default.createElement("span",null,"预收款"),_.default.createElement(g.default,{type:"ghost",className:"handle-btn",disabled:!U,onClick:function(){T(v.getBusinessManagerModal(t,function(){e.setState({manageModal:!0})},"credit"))}},"退"))),U&&A.push({name:"退款",onClick:function(){T(v.getBusinessManagerModal(t,function(){e.setState({manageModal:!0})},"credit"))}});break;case"2":C.push(_.default.createElement("div",{key:"c2"},_.default.createElement("span",null,"全部核销")));break;case"3":C.push(_.default.createElement("div",{key:"c3"},_.default.createElement("span",null,"部分核销"),_.default.createElement(g.default,{type:"ghost",className:"handle-btn",disabled:!U,onClick:function(){T(v.getBusinessManagerModal(t,function(){e.setState({manageModal:!0})},"debit"))}},"退"))),U&&A.push({name:"付款",onClick:function(){T(v.getBusinessManagerModal(t,function(){e.setState({manageModal:!0})},"credit"))}})}switch(o){case"1":C.push(_.default.createElement("div",{key:"d1"},_.default.createElement("span",null,"预付款"),_.default.createElement(g.default,{type:"ghost",disabled:!U,className:"handle-btn",onClick:function(){T(v.getBusinessManagerModal(t,function(){e.setState({manageModal:!0})},"debit"))}},"退")));break;case"2":C.push(_.default.createElement("div",{key:"d2"},_.default.createElement("span",null,"全部核销")));break;case"3":C.push(_.default.createElement("div",{key:"d3"},_.default.createElement("span",null,"部分核销"),_.default.createElement(g.default,{type:"ghost",className:"handle-btn",disabled:!U,onClick:function(){T(v.getBusinessManagerModal(t,function(){e.setState({manageModal:!0})},"debit"))}},"退"))),U&&A.push({name:"付款",onClick:function(){T(v.getBusinessManagerModal(t,function(){e.setState({manageModal:!0})},"credit"))}})}switch(s){case"1":C.push(_.default.createElement("div",{key:"e1"},_.default.createElement("span",null,"应收款"),_.default.createElement(g.default,{type:"ghost",className:"handle-btn",disabled:!U,onClick:function(){T(v.getBusinessManagerModal(t,function(){e.setState({manageModal:!0})},"debit"))}},"收"))),U&&A.push({name:"收款",onClick:function(){T(v.getBusinessManagerModal(t,function(){e.setState({manageModal:!0})},"debit"))}});break;case"2":C.push(_.default.createElement("div",{key:"e2"},_.default.createElement("span",null,"全部收款")));break;case"3":C.push(_.default.createElement("div",{key:"e3"},_.default.createElement("span",null,"部分收款"),_.default.createElement(g.default,{type:"ghost",className:"handle-btn",disabled:!U,onClick:function(){T(v.getBusinessManagerModal(t,function(){e.setState({manageModal:!0})},"debit"))}},"收"))),U&&A.push({name:"收款",onClick:function(){T(v.getBusinessManagerModal(t,function(){e.setState({manageModal:!0})},"debit"))}})}switch(f){case"1":C.push(_.default.createElement("div",{key:"f1"},_.default.createElement("span",null,"应退款"),_.default.createElement(g.default,{type:"ghost",className:"handle-btn",disabled:!U,onClick:function(){T(v.getBusinessManagerModal(t,function(){e.setState({manageModal:!0})},"credit"))}},"退"))),U&&A.push({name:"退款",onClick:function(){T(v.getBusinessManagerModal(t,function(){e.setState({manageModal:!0})},"credit"))}});break;case"2":C.push(_.default.createElement("div",{key:"f2"},_.default.createElement("span",null,"全部退款")));break;case"3":C.push(_.default.createElement("div",{key:"f3"},_.default.createElement("span",null,"部分退款"),_.default.createElement(g.default,{type:"ghost",className:"handle-btn",disabled:!U,onClick:function(){T(v.getBusinessManagerModal(t,function(){e.setState({manageModal:!0})},"credit"))}},"退"))),U&&A.push({name:"退款",onClick:function(){T(v.getBusinessManagerModal(t,function(){e.setState({manageModal:!0})},"credit"))}})}return 0!=r&&(1==r?(C.push(_.default.createElement("div",{key:"3"},_.default.createElement("span",null,"未开票"),_.default.createElement(g.default,{type:"ghost",className:"handle-btn",disabled:!U,onClick:function(){T(v.getBusinessInvioceModal(t,function(){e.setState({invioceModal:!0})}))}},"开票"))),U&&A.push({name:"开票",onClick:function(){T(v.getBusinessInvioceModal(t,function(){e.setState({invioceModal:!0})}))}})):C.push(_.default.createElement("div",{key:"h"},_.default.createElement("span",null,"已开票")))),0!=u&&(1==u?(C.push(_.default.createElement("div",{key:"4"},_.default.createElement("span",null,"未结转"),"LX_ZZS_YKP"!==m&&"LX_ZZS_WKP"!==m&&"LX_ZZS_YRZ"!==m&&"LX_ZZS_WRZ"!==m?_.default.createElement(g.default,{type:"ghost",className:"handle-btn",disabled:!U,onClick:function(){T("LB_CQZC"===p?v.getBusinessJzsyModal(t,function(){e.setState({jzsyModal:!0})}):v.getBusinessCarryoverModal(t,function(){e.setState({carryoverModal:!0})}))}},"结转"):null)),"LX_ZZS_YKP"!==m&&"LX_ZZS_WKP"!==m&&"LX_ZZS_YRZ"!==m&&"LX_ZZS_WRZ"!==m&&U&&("LB_CQZC"===p?A.push({name:"结转",onClick:function(){T(v.getBusinessJzsyModal(t,function(){e.setState({jzsyModal:!0})}))}}):A.push({name:"结转",onClick:function(){T(v.getBusinessCarryoverModal(t,function(){e.setState({carryoverModal:!0})}))}}))):C.push(_.default.createElement("div",{key:"i"},_.default.createElement("span",null,"已结转")))),0!=i&&(1==i?(C.push(_.default.createElement("div",{key:"5"},_.default.createElement("span",null,"未认证"),_.default.createElement(g.default,{type:"ghost",className:"handle-btn",disabled:!U,onClick:function(){T(v.getBusinessDefineModal(t,function(){e.setState({defineModal:!0})}))}},"认证"))),U&&A.push({name:"退款",onClick:function(){T(v.getBusinessDefineModal(t,function(){e.setState({defineModal:!0})}))}})):C.push(_.default.createElement("div",{key:"j"},_.default.createElement("span",null,"已认证")))),0!=c&&(1==c?C.push(_.default.createElement("div",{key:"zc"},_.default.createElement("span",null,"未转出"))):C.push(_.default.createElement("div",{key:"zc"},_.default.createElement("span",null,"已转出")))),{elementList:C,rightElementList:A}},_e=!!b&&b.indexOf(a.get("uuid"))>-1,Te=a.get("beBusiness"),Ce=a.get("runningState"),Ae=(a.get("uuid"),a),ye=(a.get("debitAmount"),a.get("creditAmount"),function(e){T(O.getYllsBusinessData(e,x))});return _.default.createElement("div",null,_.default.createElement(A.TableItem,{line:p+1,className:n,heightAuto:!0,key:a.get("uuid")},_.default.createElement("li",{onClick:function(e){e.stopPropagation(),T(v.accountItemCheckboxCheck(_e,a))}},_.default.createElement(f.default,{checked:_e})),_.default.createElement(A.TableOver,null,a.get("runningDate")),_.default.createElement(A.TableOver,{textAlign:"left"},_.default.createElement("span",{className:"account-flowNumber"},_.default.createElement(c.default,{overlay:_.default.createElement(o.default,{className:"cxls-menu-content"},_.default.createElement(o.default.Item,{key:"del",disabled:!U||te,onClick:function(){T(v.deleteAccountItemCardAndRunning(!0,k,[a.get("uuid")]))}},_.default.createElement(d.default,{placement:"right",title:U?te?"结账后不允许该操作":"":"权限不足"},_.default.createElement("span",{className:"setting-common-ant-dropdown-menu-item"},"删除"))),_.default.createElement(o.default.Divider,null),_.default.createElement(o.default.Item,{key:"sh",disabled:!$||te,onClick:function(){a.get("beCertificate")?T(v.deleteVcItemFetch(ge,me,fe,M,k)):T(v.runningInsertVc((0,C.fromJS)([{uuid:a.get("uuid"),flowNumber:a.get("flowNumber")}]),"Business",M,k))}},_.default.createElement(d.default,{placement:"right",title:$?te?"结账后不允许该操作":"":"权限不足"},_.default.createElement("span",{className:"setting-common-ant-dropdown-menu-item"},a.get("beCertificate")?J?"删除凭证":"反审核":J?"生成凭证":"审核"))),pe(a).rightElementList.map(function(e,t){return _.default.createElement(o.default.Item,{key:t,onClick:e.onClick},_.default.createElement("span",{className:"setting-common-ant-dropdown-menu-item"},e.name))}),_.default.createElement(o.default.Item,{key:"edit",disabled:!U,onClick:function(){Te||"STATE_ZZ"===Ce?"STATE_YYSR_JZCB"===Ce?de(function(){return T(v.jumpCalculateCxToLr(a,"modify","LB_JZCB",H))}):"STATE_FPRZ_CG"===Ce||"STATE_FPRZ_TG"===Ce?de(function(){return T(v.jumpCalculateCxToLr(a,"modify","LB_FPRZ",H))}):"STATE_KJFP_XS"===Ce||"STATE_KJFP_TS"===Ce?de(function(){return T(v.jumpCalculateCxToLr(a,"modify","LB_KJFP",H))}):"STATE_ZCWJZZS"===Ce?de(function(){return T(v.jumpCalculateCxToLr(a,"modify","LB_ZCWJZZS",H))}):"STATE_ZZ"===Ce?de(function(){return T(v.jumpCalculateCxToLr(a,"modify","LB_ZZ",H))}):"STATE_CQZC_ZJTX"===Ce?de(function(){return T(v.jumpCalculateCxToLr(a,"modify","LB_ZJTX",H))}):"STATE_GGFYFT"===Ce?de(function(){return T(v.jumpCommonCharge(a,H))}):"STATE_CQZC_JZSY"===Ce?de(function(){return T(v.getInitLraccountJzsy(a,H))}):T(L.getRunningBusinessDuty(a.get("flowNumber"),a.get("uuid"),H)):T(v.getBusinessPayment(a,"",H))}},_.default.createElement(d.default,{placement:"right",title:U?"":"权限不足"},_.default.createElement("span",{className:"setting-common-ant-dropdown-menu-item"},"修改")))),placement:"topCenter",trigger:["contextMenu"]},_.default.createElement("span",{className:"ant-dropdown-link",onClick:function(){ye(a)}},a.get("flowNumber")+(a.get("runningIndex")?"_"+a.get("runningIndex"):"")))),a.get("childList").size?V?_.default.createElement(s.default,{type:"up",onClick:function(t){t.stopPropagation(),e.setState({show:!1})},className:"account-show",style:{marginLeft:5}}):_.default.createElement(s.default,{type:"down",onClick:function(t){t.stopPropagation(),e.setState({show:!0})},className:"account-show",style:{marginLeft:5}}):null),_.default.createElement(A.TableOver,{textAlign:"left",liOnClice:B},a.get("categoryName")),_.default.createElement(A.TableOver,{textAlign:"left",liOnClice:B},a.get("runningAbstract")+(a.get("cardAbstract")?a.get("cardAbstract"):"")),_.default.createElement(A.TableOver,{textAlign:"left",liOnClice:B},S.type[a.get("runningType")]),ne?_.default.createElement(A.TableOver,{textAlign:"right"},a.get("debitAmount")?(0,E.formatMoney)(a.get("debitAmount")):""):_.default.createElement(A.TableOver,{textAlign:"right"},_.default.createElement("div",{style:{marginRight:"4px"}},function(e){return"LB_FYZC"===e.get("categoryType")||"LB_GGFYFT"===e.get("categoryType")||"LX_YJDK"===e.get("runningType")||"LX_SFJM"===e.get("runningType")||"LX_DKSHBX"===e.get("runningType")||"LX_DKSDS"===e.get("runningType")}(a)&&Number(a.get("amount"))<0?"-"+(0,E.formatNum)(Math.abs(a.get("amount")).toFixed(2)):(0,E.formatNum)(Math.abs(a.get("amount")).toFixed(2)))),ne?_.default.createElement(A.TableOver,{textAlign:"right"},a.get("creditAmount")?a.get("creditAmount")<0?"-"+(0,E.formatNum)(Math.abs(a.get("creditAmount")).toFixed(2)):(0,E.formatMoney)(a.get("creditAmount")):""):"",ne?_.default.createElement(A.TableOver,{textAlign:"right"},a.get("endAmount")?a.get("endAmount")<0?"-"+(0,E.formatNum)(Math.abs(a.get("endAmount")).toFixed(2)):(0,E.formatMoney)(a.get("endAmount")):""):"",_.default.createElement(A.TableOver,{textAlign:"left"},pe(a).elementList),_.default.createElement(A.TableOver,{textAlign:"left"},a.get("createName")),_.default.createElement("li",null,a.get("vcList")&&a.get("vcList").size?J?_.default.createElement("span",{style:{width:"100%"}},a.get("vcList").map(function(t,n){return _.default.createElement("div",{className:"cxls-have-vc",key:n},_.default.createElement("span",{className:"current-underline current-underline-color",style:{color:$?"#222":"#ccc"},onClick:function(){if($){var e=a.get("vcList").toJS().map(function(e){return e.year+"-"+e.month+"-01_"+e.vcIndex});T(N.getPzVcFetch([t.get("year"),t.get("month")].join("-"),t.get("vcIndex"),n,e)),T(h.showPzBomb(!0,"Cxpz"))}}},"记-"+t.get("vcIndex")),_.default.createElement("span",{className:"current-underline current-underline-color",style:{color:$?"#222":"#ccc"},onClick:function(){$&&(e.setState({deleteModal:!0}),T(v.currentPz(t.get("year"),t.get("month"),[t.get("vcIndex")])))}},"删除"))})):F?_.default.createElement("span",{style:{width:"100%"}},a.get("vcList").map(function(e,t){return _.default.createElement("div",{className:"cxls-have-vc",key:t},_.default.createElement("span",{className:"current-underline current-underline-color",style:{color:$?"#222":"#ccc"},onClick:function(){if($){var n=a.get("vcList").toJS().map(function(e){return e.year+"-"+e.month+"-01_"+e.vcIndex});T(N.getPzVcFetch([e.get("year"),e.get("month")].join("-"),e.get("vcIndex"),t,n)),T(h.showPzBomb(!0,"Cxpz"))}}},"记-"+e.get("vcIndex")),_.default.createElement("span",{className:"current-underline current-underline-color",style:{color:$?"#222":"#ccc"},onClick:function(){$&&T(v.deleteVcItemFetch(e.get("year"),e.get("month"),[e.get("vcIndex")],M,k))}},"反审核"))})):_.default.createElement("span",null,_.default.createElement(g.default,{type:"ghost",disabled:!$,onClick:function(){$&&T(v.deleteVcItemFetch(ge,me,fe,M,k))}},"反审核")):_.default.createElement("span",null,_.default.createElement(g.default,{type:"ghost",disabled:a.get("beCertificate")||!$,onClick:function(){return T(v.runningInsertVc((0,C.fromJS)([{uuid:a.get("uuid"),flowNumber:a.get("flowNumber")}]),"Business",M,k))}},J?"生成凭证":"审核")))),a.get("childList").size&&V?a.get("childList").map(function(e){var t=e.get("assList");e.get("beBusiness"),e.get("runningState"),t.size?t.map(function(e){return e.get("assName")}):(0,C.fromJS)([]),(0,E.formatNum)(Math.abs(e.get("amount")).toFixed(2));return _.default.createElement(A.TableItem,{line:p+1,className:n,heightAuto:!0,key:e.get("uuid")},_.default.createElement("li",null,_.default.createElement(f.default,{checked:_e})),_.default.createElement(A.TableOver,null),_.default.createElement(A.TableOver,{isLink:!0,textAlign:"left",onClick:function(){ye(Ae)}},e.get("flowNumber")+(e.get("runningIndex")?"_"+e.get("runningIndex"):"")),_.default.createElement(A.TableOver,{textAlign:"left"},e.get("categoryName")),_.default.createElement(A.TableOver,{textAlign:"left"},e.get("runningAbstract")+(e.get("cardAbstract")?e.get("cardAbstract"):"")),_.default.createElement(A.TableOver,{textAlign:"left"},S.type[e.get("runningType")]),_.default.createElement(A.TableOver,{textAlign:"right"},_.default.createElement("div",{style:{marginRight:"4px"}},ne&&"debit"===e.get("direction")?Number(e.get("displayAmount"))<0?"-"+(0,E.formatNum)(Math.abs(e.get("displayAmount")).toFixed(2)):(0,E.formatNum)(Number(e.get("displayAmount")).toFixed(2)):ne?"":Number(e.get("amount"))<0?"-"+(0,E.formatNum)(Math.abs(e.get("amount")).toFixed(2)):(0,E.formatNum)(Number(e.get("amount")).toFixed(2)))),ne?_.default.createElement(A.TableOver,{textAlign:"right"},"credit"===e.get("direction")?Number(e.get("displayAmount"))<0?"-"+(0,E.formatNum)(Math.abs(e.get("displayAmount")).toFixed(2)):e.get("displayAmount")>0?(0,E.formatNum)(Number(e.get("displayAmount")).toFixed(2)):"":""):"",ne?_.default.createElement(A.TableOver,{textAlign:"right"},e.get("endAmount")<0?"-"+(0,E.formatNum)(Math.abs(e.get("endAmount")).toFixed(2)):e.get("endAmount")>0?(0,E.formatNum)(Number(e.get("endAmount")).toFixed(2)):""):"",_.default.createElement(A.TableOver,{textAlign:"left"},pe(e).elementList),_.default.createElement("li",null),_.default.createElement("li",null))}):null,_.default.createElement(m.default,{ref:"modal",visible:Y,title:"提示",onCancel:function(){return e.setState({deleteModal:!1})},footer:[_.default.createElement(g.default,{key:"back",type:"ghost",size:"large",onClick:function(){return e.setState({deleteModal:!1})}},"取消"),_.default.createElement(g.default,{key:"submit",type:"primary",size:"large",disabled:!!j&&!K,onClick:function(){e.setState({deleteModal:!1,isSeleck:!1}),T(v.deleteVcItemFetch(ee.get("currentYear"),ee.get("currentMonth"),ee.get("currentVcIndex").toJS(),M,k))}},"确定")]},_.default.createElement("p",{style:{display:j?"none":""}},F?"确定反审核吗？":"确定删除凭证吗？")),_.default.createElement(m.default,{visible:X,onCancel:function(){e.setState({manageModal:!1}),T(v.changeCxAccountCommonOutString("modalTemp",(0,C.fromJS)({runningDate:(0,E.formatDate)()})))},className:"single-manager",title:("debit"===oe?"收款":"付款")+"核销",okText:"保存",onOk:function(){T(v.insertlrAccountManagerModal(function(){return e.setState({manageModal:!1})},se))}},_.default.createElement("div",{className:"manager-content"},_.default.createElement("div",null,_.default.createElement("label",null,"往来单位："),(ce&&ce.get("code"))+" "+(ce&&ce.get("name"))),_.default.createElement("div",{className:"manager-item"},_.default.createElement("label",null,"日期："),_.default.createElement(l.default,{allowClear:!1,value:le.get("runningDate")?(0,y.default)(le.get("runningDate")):"",onChange:function(e){var t=e.format("YYYY-MM-DD");T(v.changeCxAccountCommonOutString(["modalTemp","runningDate"],t))}})),_.default.createElement("div",{className:"manager-item"},_.default.createElement("label",null,"摘要："),_.default.createElement(i.default,{value:le.get("runningAbstract"),onChange:function(e){T(v.changeCxAccountCommonOutString(["modalTemp","runningAbstract"],e.target.value))}})),_.default.createElement("div",{className:"manager-item"},_.default.createElement("label",null,("debit"===oe?"收款":"付款")+"金额："),_.default.createElement(i.default,{value:le.get("handlingAmount"),onChange:function(e){(0,E.numberTest)(e,function(e){T(v.changeCxAccountCommonOutString(["modalTemp","handlingAmount"],e))})}})),_.default.createElement("div",{className:"manager-item"},_.default.createElement("label",null,"账户："),_.default.createElement(u.default,{value:le.get("accountName"),onChange:function(e){var t=e.split(I.TREE_JOIN_STR)[0];e.split(I.TREE_JOIN_STR)[1];T(v.changeCxAccountCommonOutString(["modalTemp","accountName"],e)),T(v.changeCxAccountCommonOutString(["modalTemp","accountUuid"],t))}},P.getIn([0,"childList"]).map(function(e,t){return _.default.createElement(Option,{key:t,value:""+e.get("uuid")+I.TREE_JOIN_STR+e.get("name")},e.get("name"))}))))),_.default.createElement(m.default,{visible:z,onCancel:function(){e.setState({carryoverModal:!1}),T(v.changeCxAccountCommonOutString("modalTemp",(0,C.fromJS)({runningDate:(0,E.formatDate)()})))},className:"single-manager",title:"成本结转",okText:"保存",onOk:function(){T(v.insertlrAccountCarryoverModal(function(){return e.setState({carryoverModal:!1})}))}},_.default.createElement("div",{className:"manager-content"},_.default.createElement("div",{className:"manager-item"},_.default.createElement("label",null,"日期："),_.default.createElement(l.default,{allowClear:!1,value:le.get("runningDate")?(0,y.default)(le.get("runningDate")):"",onChange:function(e){var t=e.format("YYYY-MM-DD");T(v.changeCxAccountCommonOutString(["modalTemp","runningDate"],t))}})),_.default.createElement("div",{className:"manager-item"},_.default.createElement("label",null,"摘要："),_.default.createElement(i.default,{value:le.get("runningAbstract"),onChange:function(e){T(v.changeCxAccountCommonOutString(["modalTemp","runningAbstract"],e.target.value))}})),_.default.createElement("div",{className:"manager-item"},_.default.createElement("label",null,"金额："),_.default.createElement(i.default,{value:le.get("carryoverAmount"),onChange:function(e){(0,E.numberTest)(e,function(e){T(v.changeCxAccountCommonOutString(["modalTemp","carryoverAmount"],e))})}})))),_.default.createElement(m.default,{visible:q,onCancel:function(){e.setState({jzsyModal:!1}),T(v.changeCxAccountCommonOutString("modalTemp",(0,C.fromJS)({runningDate:(0,E.formatDate)()})))},className:"single-manager",title:"结转损益",okText:"保存",onOk:function(){T(v.insertlrAccountJzsyModal(function(){return e.setState({jzsyModal:!1})}))}},_.default.createElement("div",{className:"manager-content"},_.default.createElement("div",{className:"manager-item"},_.default.createElement("label",null,"日期："),_.default.createElement(l.default,{allowClear:!1,value:le.get("runningDate")?(0,y.default)(le.get("runningDate")):"",onChange:function(e){var t=e.format("YYYY-MM-DD");T(v.changeCxAccountCommonOutString(["modalTemp","runningDate"],t))}}),re.get("beProject")?_.default.createElement(r.default,{className:"use-unuse-style",style:{marginLeft:"10px"},checked:le.get("usedProject"),checkedChildren:"项目",onChange:function(){T(v.changeCxAccountCommonOutString(["modalTemp","usedProject"],!le.get("usedProject")))}}):""),_.default.createElement("div",{className:"manager-item"},_.default.createElement("label",null,"摘要："),_.default.createElement(i.default,{value:le.get("runningAbstract"),onChange:function(e){T(v.changeCxAccountCommonOutString(["modalTemp","runningAbstract"],e.target.value))}})),le.get("usedProject")?_.default.createElement("div",{className:"manager-item"},_.default.createElement("label",null,"项目："),_.default.createElement(u.default,{combobox:!0,showSearch:!0,value:(le.getIn(["projectCard","code"])?le.getIn(["projectCard","code"]):"")+" "+(le.getIn(["projectCard","name"])?le.getIn(["projectCard","name"]):""),onChange:function(e){var t=e.split(I.TREE_JOIN_STR),n=t[0],a=t[1],r=t[2];T(v.changeCxAccountCommonOutString(["modalTemp","projectCard"],(0,C.fromJS)({uuid:n,code:a,name:r})))}},ae.map(function(e,t){return _.default.createElement(Option,{key:t,value:""+e.get("uuid")+I.TREE_JOIN_STR+e.get("code")+I.TREE_JOIN_STR+e.get("name")},e.get("code")+" "+e.get("name"))}))):"",_.default.createElement("div",{className:"manager-item"},_.default.createElement("label",null,le.get("netProfitAmount")>0?"净收益金额：":"净损失金额："),le.get("netProfitAmount")>0?le.get("netProfitAmount"):le.get("lossAmount")),_.default.createElement("div",{className:"manager-item"},_.default.createElement("label",null,"资产原值："),_.default.createElement(i.default,{value:le.getIn(["acAssets","originalAssetsAmount"]),onChange:function(e){(0,E.numberTest)(e,function(e){T(v.changeCxAccountCommonOutString(["modalTemp","acAssets","originalAssetsAmount"],e)),T(v.calculateGainForJzsy())})}})),_.default.createElement("div",{className:"manager-item"},_.default.createElement("label",null,"累计折旧摊销："),_.default.createElement(i.default,{value:le.getIn(["acAssets","depreciationAmount"]),onChange:function(e){(0,E.numberTest)(e,function(e){T(v.changeCxAccountCommonOutString(["modalTemp","acAssets","depreciationAmount"],e)),T(v.calculateGainForJzsy())})}})),_.default.createElement("div",{className:"manager-item"},_.default.createElement("label",null,"处置金额："),(0,E.formatMoney)(re.get("amount")-re.get("tax"))))),_.default.createElement(m.default,{visible:W,onCancel:function(){e.setState({invioceModal:!1}),T(v.changeCxAccountCommonOutString("modalTemp",(0,C.fromJS)({runningDate:(0,E.formatDate)()})))},className:"single-manager",title:"开具发票",okText:"保存",onOk:function(){T(v.insertlrAccountInvioceModal(function(){return e.setState({invioceModal:!1})}))}},_.default.createElement("div",{className:"manager-content"},_.default.createElement("div",{className:"manager-item"},_.default.createElement("label",null,"日期："),_.default.createElement(l.default,{allowClear:!1,value:le.get("runningDate")?(0,y.default)(le.get("runningDate")):"",onChange:function(e){var t=e.format("YYYY-MM-DD");T(v.changeCxAccountCommonOutString(["modalTemp","runningDate"],t))}})),_.default.createElement("div",{className:"manager-item"},_.default.createElement("label",null,"摘要："),_.default.createElement(i.default,{value:le.get("runningAbstract"),onChange:function(e){T(v.changeCxAccountCommonOutString(["modalTemp","runningAbstract"],e.target.value))}})))),_.default.createElement(m.default,{visible:Q,onCancel:function(){e.setState({defineModal:!1}),T(v.changeCxAccountCommonOutString("modalTemp",(0,C.fromJS)({runningDate:(0,E.formatDate)()})))},className:"single-manager",title:"发票认证",okText:"保存",onOk:function(){T(v.insertlrAccountInvioceDefineModal(function(){return e.setState({defineModal:!1})}))}},_.default.createElement("div",{className:"manager-content"},_.default.createElement("div",{className:"manager-item"},_.default.createElement("label",null,"日期："),_.default.createElement(l.default,{allowClear:!1,value:le.get("runningDate")?(0,y.default)(le.get("runningDate")):"",onChange:function(e){var t=e.format("YYYY-MM-DD");T(v.changeCxAccountCommonOutString(["modalTemp","runningDate"],t))}})),_.default.createElement("div",{className:"manager-item"},_.default.createElement("label",null,"摘要："),_.default.createElement(i.default,{value:le.get("runningAbstract"),onChange:function(e){T(v.changeCxAccountCommonOutString(["modalTemp","runningAbstract"],e.target.value))}})))))}}]),t}())||a;t.default=D}}]);