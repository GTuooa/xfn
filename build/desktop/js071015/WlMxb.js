(window.webpackJsonp=window.webpackJsonp||[]).push([[70,2,24],{1178:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.view=t.reducer=void 0;var a=o(n(2352)),r=o(n(1334)),u=o(n(1564)),i=o(n(1301)),l=o(n(1358)),s=o(n(1335));function o(e){return e&&e.__esModule?e:{default:e}}var c={accountConfState:r.default,wlmxState:u.default,lrAccountState:i.default,lrCalculateState:l.default,yllsState:s.default};t.reducer=c,t.view=a.default},1227:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=c(n(176)),u=c(n(174)),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(175),n(173);var l=c(n(1)),s=n(17),o=n(127);function c(e){return e&&e.__esModule?e:{default:e}}n(1232);var d=(0,s.immutableRenderDecorator)(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),i(t,[{key:"render",value:function(){var e=this.props,t=e.pageItem,n=e.onClick,a=l.default.createElement(u.default,null,t.get("pageList").map(function(e,a){return l.default.createElement(u.default.Item,{key:e.get("key")},l.default.createElement("span",{className:"page-switch-item setting-common-ant-dropdown-menu-item",onClick:function(){n(t.get("key"),e.get("name"),e.get("key"))}},e.get("name")))}));return l.default.createElement("div",null,l.default.createElement(r.default,{overlay:a,trigger:["click"]},l.default.createElement("div",{className:"page-switch-button"},l.default.createElement(o.XfnIcon,{type:"Menu"}))))}}]),t}())||a;t.default=d},1232:function(e,t,n){},1239:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getInitLraccountJzsy=t.deleteSingleFlow=t.jumpCommonCharge=t.changeBeforeAmount=t.getManagerCategoryList=t.insertManagerModal=t.setDefineMadalInitState=t.setInvioceMadalInitState=t.setCarryoverMadalInitState=t.setManageMadalInitState=t.changeCxAccountCommonOutString=t.changeCxAccountCommonString=t.changeCurrentPage=t.jumpCalculateCxToLr=t.getBusinessBeforeSwitch=t.insertlrAccountInvioceDefineModal=t.insertlrAccountInvioceModal=t.insertlrAccountJzsyModal=t.insertlrAccountCarryoverModal=t.insertlrAccountManagerModal=t.getBusinessDefineModal=t.getBusinessInvioceModal=t.calculateGainForJzsy=t.getBusinessJzsyModal=t.getBusinessCarryoverModal=t.getBusinessManagerModal=t.getBusinessPayment=t.beforeRunningPayOrReceive=t.currentPz=t.deleteVcItemFetch=t.getAccountDimensionFetch=t.afterModifyAccountAllList=t.changePzCommonString=t.runningInsertVc=t.deleteAccountItemCardAndRunning=t.accountItemCheckboxCheck=t.accountItemCheckboxCheckAll=t.getBusinessList=t.getPeriodAndBusinessList=t.cxlsDownloadEnclosure=void 0;var a=C(n(37)),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};n(38);var u=y(n(1274)),i=C(n(52)),l=n(18),s=n(22),o=y(n(30)),c=y(n(27)),d=y(n(43)),f=y(n(60)),g=y(n(1243)),m=y(n(1245)),p=y(n(1242)),_=y(n(1229)),T=y(n(1249));function y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function C(e){return e&&e.__esModule?e:{default:e}}t.cxlsDownloadEnclosure=function(e,t){return function(n){n(_.lsDownloadEnclosure(e,t))}},t.getPeriodAndBusinessList=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"allWater",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return function(r,l){r({type:u.SWITCH_LOADING_MASK});var o="allWater"==t?"getRunningBusinessList":"getRunning"+t+"List",f=(l().cxlsState,""===a?1:a);(0,i.default)(o,"POST",JSON.stringify({year:e?e.substr(0,4):"",month:e?e.substr(6,2):"",getPeriod:"true",accountUuid:n,currentPage:f,pageSize:c.CXLS_LIMIE_LENGTH}),function(a){if(r({type:u.SWITCH_LOADING_MASK}),(0,s.showMessage)(a)){var i=a.data.periodDtoJson.openedyear+"年第"+a.data.periodDtoJson.openedmonth+"期",l=e||i,o=a.data.periodDtoJson?r(d.everyTableGetIssuedate(a.data.periodDtoJson)):"";r({type:u.GET_BUSINESS_LIST,receivedData:a.data.result.childList,receivedExtra:a.data.result,period:a.data.periodDtoJson,issuedate:l,getPeriod:"true",issues:o,waterType:t,accountUuid:n,currentPage:f,pageCount:a.data.pageCount})}}),r(p.getRunningAccount())}};var A=t.getBusinessList=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",f=arguments.length>6&&void 0!==arguments[6]&&arguments[6],g=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return function(m,p){m({type:u.SWITCH_LOADING_MASK});var _="allWater"==t?"getRunningBusinessList":"getRunning"+t+"List",T=g&&n?n.split(c.TREE_JOIN_STR)[0]:"",y=p().cxlsState,C=""===r?y.get("currentPage"):r,A=o?y.getIn(["flags","searchType"]):"";(0,i.default)(_,"POST",JSON.stringify({year:e?e.substr(0,4):"",month:e?e.substr(6,2):"",accountUuid:T,getPeriod:"true",orderBy:l,searchType:A,searchContent:o,isAsc:f,currentPage:C,pageSize:c.CXLS_LIMIE_LENGTH,isAccount:g}),function(r){if(m({type:u.SWITCH_LOADING_MASK}),(0,s.showMessage)(r)){var i=r.data.periodDtoJson?m(d.everyTableGetIssuedate(r.data.periodDtoJson)):"";m({type:u.GET_BUSINESS_LIST,receivedData:r.data.result.childList,receivedExtra:r.data.result,period:r.data.periodDtoJson,issuedate:e,issues:i,waterType:t,accountUuid:n,currentPage:C,isAsc:f,orderBy:l,isAccount:g,pageCount:r.data.pageCount,getPeriod:"true"}),r.data.result.msg&&a.default.info(r.data.result.msg)}})}},E=(t.accountItemCheckboxCheckAll=function(e,t){return{type:u.CXLS_ITEM_CHECKBOX_CHECK_ALL,selectAll:e,list:t}},t.accountItemCheckboxCheck=function(e,t){return{type:u.CXLS_ITEM_CHECKBOX_CHECK,checked:e,item:t}},t.deleteAccountItemCardAndRunning=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments[2];return function(r,l){var c=n||l().cxlsState.getIn(["flags","selectList"]),d="reality"==e?"payment":"business",f=l().cxlsState,g=f.getIn(["flags","issuedate"]),m=f.getIn(["flags","mainWater"]),p=f.getIn(["flags","isAsc"]),_=f.getIn(["flags","isAccount"]),T=f.getIn(["flags","curAccountUuid"]);o.Confirm({message:"确定删除？",title:"温馨提示",buttonLabels:["取消","确定"],onSuccess:function(e){1===e.buttonIndex&&(r({type:u.SWITCH_LOADING_MASK}),(0,i.default)("deleteRunning"+d,"POST",JSON.stringify({deleteList:c}),function(e){if((0,s.showMessage)(e)){if(e.message)if(e.data.errorList.length){var n=e.data.errorList.join(",");a.default.error(n)}else a.default.success(e.message);r(A(g,m,T,"","",t,p,_))}r({type:u.SWITCH_LOADING_MASK})}))}})}},t.runningInsertVc=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",l=arguments[4],o=arguments[5],c=arguments[6],d=arguments[7];return function(f,m){var p=m().cxlsState,_=p.get("currentPage"),T=p.getIn(["flags","mainWater"]),y=p.getIn(["flags","curAccountUuid"]),C=p.getIn(["flags","isAsc"]),S=p.getIn(["flags","isAccount"]),L=0;f(E(["flags","pzDealNum"],L)),f(E(["flags","pzDealType"],"insert"));var N=e.sort(function(e,t){return parseInt(e.get("flowNumber"))-parseInt(t.get("flowNumber"))});if(e&&e.size>1)f(E(["flags","pzDealStatus"],!0)),function e(u){var l=0,o=setInterval(function(){l<.9?f(E(["flags","pzDealNum"],L+(l+=.01))):(clearInterval(o),f(E(["flags","pzDealNum"],L)))},100);(0,i.default)("insertRunning"+t+"Vc","POST",JSON.stringify({uuidList:[u]}),function(t){if((0,s.showMessage)(t))if(t.message)if(t.data.result.length){var u=t.data.result.join(",");a.default.error(u),clearInterval(o),f(E(["flags","pzDealStatus"],!1)),f(A(n,T,y,_,"",r,C,S))}else f(E(["flags","pzDealNum"],L+=1)),L<N.size?(clearInterval(o),e(N.getIn([L,"uuid"]))):(clearInterval(o),f(E(["flags","pzDealStatus"],!1)),f(A(n,T,y,_,"",r,C,S)));else clearInterval(o),f(E(["flags","pzDealStatus"],!1));else clearInterval(o),f(E(["flags","pzDealStatus"],!1)),f(A(n,T,y,_,"",r,C,S))})}(N.getIn([0,"uuid"]));else{var v=e.getIn([0,"uuid"]);f({type:u.SWITCH_LOADING_MASK}),(0,i.default)("insertRunning"+t+"Vc","POST",JSON.stringify({uuidList:[v]}),function(e){if(f({type:u.SWITCH_LOADING_MASK}),(0,s.showMessage)(e)&&e.message){if(e.data.result.length){var t=e.data.result.join(",");a.default.error(t)}else a.default.success(e.message);o&&o()||f(I()),l&&f(g.getYllsBusinessData(c,d))}})}}},t.changePzCommonString=function(e,t){return function(n){n({type:u.CHANGE_PZ_COMMON_STRING,name:e,value:t})}}),I=t.afterModifyAccountAllList=function(e){return function(t,n){var a=n().cxlsState,r=a.getIn(["flags","issuedate"]),l=a.getIn(["flags","mainWater"]),o=a.getIn(["flags","curAccountUuid"]),f=a.getIn(["flags","isAccount"]),g=a.getIn(["flags","isAsc"]),m=a.get("currentPage"),p="allWater"==l?"getRunningBusinessList":"getRunning"+l+"List",_=f&&o?o.split(c.TREE_JOIN_STR)[0]:"";t({type:u.SWITCH_LOADING_MASK}),(0,i.default)(p,"POST",JSON.stringify({year:r?r.substr(0,4):"",month:r?r.substr(6,2):"",accountUuid:_,getPeriod:"true",orderBy:"",isAsc:g,currentPage:m,pageSize:c.CXLS_LIMIE_LENGTH,isAccount:f}),function(n){if(t({type:u.SWITCH_LOADING_MASK}),(0,s.showMessage)(n)){var a=n.data.periodDtoJson?t(d.everyTableGetIssuedate(n.data.periodDtoJson)):"";t({type:u.GET_BUSINESS_LIST,receivedData:n.data.result.childList,receivedExtra:n.data.result,period:n.data.periodDtoJson,issuedate:r,issues:a,isReflash:e,waterType:l,isAccount:f,accountUuid:o,currentPage:m,isAsc:g,pageCount:n.data.pageCount,getPeriod:"true"})}})}},S=(t.getAccountDimensionFetch=function(e,t,n,a,r,u,i){return function(l){l(S(e,t,n,a,r,u,i))}},function(e,t,n,a,r,l,o,c){return function(e){(0,i.default)("getRunningSettingInfo","GET","",function(t){(0,s.showMessage)(t)&&e({type:u.GET_CXLSCONF_ALL_SETTINGS,receivedData:t.data})})}}),L=(t.deleteVcItemFetch=function(e,t,n,a,r,l,o,c,d){return function(f,m){var p=m().cxlsState,_=p.get("currentPage"),T=p.getIn(["flags","mainWater"]),y=p.getIn(["flags","isAccount"]),C=p.getIn(["flags","isAsc"]),S=p.getIn(["flags","curAccountUuid"]),L=0;f(E(["flags","pzDealNum"],L)),f(E(["flags","pzDealType"],"delete"));n&&n.length>1?(f(E(["flags","pzDealStatus"],!0)),function u(l){var o=0,c=setInterval(function(){o<.99?f(E(["flags","pzDealNum"],L+(o+=.01))):(clearInterval(c),f(E(["flags","pzDealNum"],L+.99)))},100);(0,i.default)("deletevc","POST",JSON.stringify({year:e,month:t,vcindexlist:[l]}),function(e){(0,s.showMessage)(e,"show")?(L+=1,f(E(["flags","pzDealNum"],Math.floor(L))),L<n.length?(clearInterval(c),u(n[L])):(clearInterval(c),f(E(["flags","pzDealStatus"],!1)),f(A(a,T,S,_,"",r,C,y)))):(clearInterval(c),f(E(["flags","pzDealStatus"],!1)),f(A(a,T,S,_,"",r,C,y)))})}(n[0])):(f({type:u.SWITCH_LOADING_MASK}),(0,i.default)("deletevc","POST",JSON.stringify({year:e,month:t,vcindexlist:n}),function(e){if(f({type:u.SWITCH_LOADING_MASK}),(0,s.showMessage)(e,"show")){var t=m().cxlsState;t.get("currentPage"),t.getIn(["flags","mainWater"]),t.getIn(["flags","curAccountUuid"]),t.getIn(["flags","isAsc"]),t.getIn(["flags","isAccount"]);o&&o()||f(I()),l&&f(g.getYllsBusinessData(c,d))}}))}},t.currentPz=function(e,t,n){return{type:u.SET_CURRENT_PZ,year:e,month:t,vcIndexList:n}},t.beforeRunningPayOrReceive=function(e,t,n,a,r){return function(i){n<0&&(n=-n,e="收"===e?"付":"收"),i({type:u.BEFORE_RUNNING_PAY_OR_RECEIVE,payDirection:e,assList:t,notHandleAmount:n,uuidList:a,runningList:r})}},t.getBusinessPayment=function(e,t,n){return function(a){a({type:u.SWITCH_LOADING_MASK});var r=e.get("uuid");(0,i.default)("getRunningBusiness","GET","uuid="+r,function(r){if(a({type:u.SWITCH_LOADING_MASK}),(0,s.showMessage)(r)){var i=r.data.result,l=void 0,o=i.assList;if(o&&o.length)l=o[0].assId+" "+o[0].assName;else{var c=i.acList;l=c.length?c[0].acFullName:""}a({type:u.INIT_PAYMENT_STATE,item:e,result:i,assName:l,stateType:t,uuidList:n,fromCxls:!0}),a(_.getRunningSettingInfo()),a(_.accountTotalAmount()),a(f.addPageTabPane("EditPanes","LrAccount","LrAccount","录入流水")),a(f.addHomeTabpane("Edit","LrAccount","录入流水"))}})}}),N=(t.getBusinessManagerModal=function(e,t,n){return function(a,r){a({type:u.SWITCH_LOADING_MASK});var o=e.get("uuid"),c=e.get("beOpened"),d=e.get("assType"),f=r().lrCalculateState,g=f.getIn(["calculateTemp","usedCard"]),m=f.getIn(["calculateTemp","cardUuid"]);(0,i.default)("getRunningBusiness","GET","uuid="+o,function(e){a({type:u.SWITCH_LOADING_MASK}),(0,s.showMessage)(e)&&(a(v("runningFlowTemp",(0,l.fromJS)(e.data.result))),a(v(["runningFlowTemp","magenerType"],n)),a(v(["modalTemp","uuidList"],(0,l.fromJS)([{uuid:o,assType:d}]))),a(v(["modalTemp","handlingAmount"],e.data.result.notHandleAmount)),a(v(["modalTemp","runningAbstract"],e.data.result.runningAbstract)),a(v(["modalTemp","beOpened"],c)),a(v(["modalTemp","assType"],d)),c&&(a(v(["modalTemp","usedCard"],g)),a(v(["modalTemp","cardUuid"],m)),a(O(0,d))),t())})}},t.getBusinessCarryoverModal=function(e,t,n){return function(n){n({type:u.SWITCH_LOADING_MASK});var a=e.get("uuid");(0,i.default)("getRunningBusiness","GET","uuid="+a,function(e){if(n({type:u.SWITCH_LOADING_MASK}),(0,s.showMessage)(e)){var a=e.data.result;n(v("runningFlowTemp",(0,l.fromJS)(e.data.result))),n(v(["modalTemp","uuidList"],(0,l.fromJS)([a.uuid]))),n(v(["modalTemp","runningState"],a.runningState)),n(v(["modalTemp","categoryUuid"],a.categoryUuid)),n(v(["modalTemp","runningAbstract"],a.runningAbstract)),n(v(["modalTemp","stockCardList"],a.acBusinessIncome.stockCardList)),t()}})}},t.getBusinessJzsyModal=function(e,t,n){return function(n,a){n({type:u.SWITCH_LOADING_MASK});var o=e.get("uuid");(0,i.default)("getRunningBusiness","GET","uuid="+o,function(e){if(n({type:u.SWITCH_LOADING_MASK}),(0,s.showMessage)(e)){var o=e.data.result;if(n(v("runningFlowTemp",(0,l.fromJS)(e.data.result))),n(v(["modalTemp","uuidList"],(0,l.fromJS)([o.uuid]))),n(v(["modalTemp","runningState"],o.runningState)),n(v(["modalTemp","categoryUuid"],o.categoryUuid)),n(v(["modalTemp","runningAbstract"],o.runningAbstract)),n(v(["modalTemp","amount"],o.amount-o.tax)),n(v(["modalTemp","businessList"],(0,l.fromJS)(r({},e.data.result,{beSelect:!0})))),e.data.result.beProject){var c=a().homeState.getIn(["data","userInfo","sobInfo","sobId"]),d=e.data.result.projectRange;(0,i.default)("getProjectCardList","POST",JSON.stringify({sobId:c,categoryList:d,needCommonCard:!1}),function(e){(0,s.showMessage)(e)&&n(v(["flags","projectList"],(0,l.fromJS)(e.data.result)))})}t()}})}},t.calculateGainForJzsy=function(){return function(e,t){var n=t().cxlsState,a=n.get("modalTemp"),r=n.get("runningFlowTemp"),i=r.get("amount")-r.get("tax"),l=a.getIn(["acAssets","depreciationAmount"])?a.getIn(["acAssets","depreciationAmount"]):0,s=a.getIn(["acAssets","originalAssetsAmount"])?a.getIn(["acAssets","originalAssetsAmount"]):0;console.log(l,s);var o=(Number(s)-Number(l)).toFixed(2),c=Math.abs(o-i).toFixed(2),d=void 0,f=void 0;Number(o)<=i?(d=["modalTemp","netProfitAmount"],f=["modalTemp","lossAmount"]):(d=["modalTemp","lossAmount"],f=["modalTemp","netProfitAmount"]),(s||l)&&e({type:u.CXLS_CALCULATE_GAIN_OR_LOSS,deletePlace:f,place:d,diff:c})}},t.getBusinessInvioceModal=function(e,t,n){return function(n){n({type:u.SWITCH_LOADING_MASK});var a=e.get("uuid");(0,i.default)("getRunningBusiness","GET","uuid="+a,function(e){if(n({type:u.SWITCH_LOADING_MASK}),(0,s.showMessage)(e)){var a=e.data.result,r={STATE_YYSR_TS:"BILL_MAKE_OUT_TYPE_TS",STATE_YYSR_XS:"BILL_MAKE_OUT_TYPE_XS"}[a.runningState];n(v(["modalTemp","uuidList"],(0,l.fromJS)([a.uuid]))),n(v(["modalTemp","categoryUuid"],a.categoryUuid)),n(v(["modalTemp","runningAbstract"],a.runningAbstract)),n(v(["modalTemp","billMakeOutType"],r)),t()}})}},t.getBusinessDefineModal=function(e,t,n){return function(n){n({type:u.SWITCH_LOADING_MASK});var a=e.get("uuid");(0,i.default)("getRunningBusiness","GET","uuid="+a,function(e){if(n({type:u.SWITCH_LOADING_MASK}),(0,s.showMessage)(e)){var a=e.data.result,r={STATE_YYZC_GJ:"BILL_AUTH_TYPE_CG",STATE_YYZC_TG:"BILL_AUTH_TYPE_TG"}[a.runningState]||"BILL_AUTH_TYPE_CG";n(v(["modalTemp","uuidList"],(0,l.fromJS)([a.uuid]))),n(v(["modalTemp","runningAbstract"],a.runningAbstract)),n(v(["modalTemp","categoryUuid"],a.categoryUuid)),n(v(["modalTemp","billAuthType"],r)),t()}})}},t.insertlrAccountManagerModal=function(e,t,n){return function(a,r){var o=r().cxlsState,c=o.get("runningFlowTemp"),d=o.get("modalTemp"),f=d.get("runningDate"),g=d.get("runningAbstract"),m=d.get("accountUuid"),p=d.get("handlingAmount"),_=d.get("beOpened"),T=d.get("uuidList").toJS(),y=_?d.get("cardUuid"):c.getIn([t,"contactsCardRange","uuid"]);a({type:u.SWITCH_LOADING_MASK}),(0,i.default)("insertRunningpayment","POST",JSON.stringify({runningDate:f,runningAbstract:g,accountUuid:m,amount:p,uuidList:T,cardUuid:y,uuid:""}),function(t){a({type:u.SWITCH_LOADING_MASK}),(0,s.showMessage)(t)&&(e(),a(v("modalTemp",(0,l.fromJS)({runningDate:(0,s.formatDate)()}))),a("fromcalCultion"===n?b():I()))})}},t.insertlrAccountCarryoverModal=function(e,t){return function(n,a){var r=a().cxlsState.get("modalTemp"),o=r.get("uuidList"),c=r.get("runningState"),d=r.get("runningDate"),f=r.get("runningAbstract"),g=r.get("stockCardList"),m=r.get("carryoverAmount"),p=[];g&&g.map(function(e){p.push({uuid:e.uuid,amount:m})}),n({type:u.SWITCH_LOADING_MASK}),(0,i.default)("insertCarryoverItem","POST",JSON.stringify({uuidList:o,runningState:c,runningDate:d,cardList:p,runningAbstract:f}),function(a){(0,s.showMessage)(a,"show")&&(e(),n(v("modalTemp",(0,l.fromJS)({runningDate:(0,s.formatDate)()}))),n("fromcalCultion"===t?b():I())),n({type:u.SWITCH_LOADING_MASK})})}},t.insertlrAccountJzsyModal=function(e,t){return function(n,a){var o=a().cxlsState.get("modalTemp").toJS();n({type:u.SWITCH_LOADING_MASK}),(0,i.default)("insertAssetsCleaning","POST",JSON.stringify(r({},o)),function(a){(0,s.showMessage)(a,"show")&&(e(),n(v("modalTemp",(0,l.fromJS)({runningDate:(0,s.formatDate)()}))),n("fromcalCultion"===t?b():I())),n({type:u.SWITCH_LOADING_MASK})})}},t.insertlrAccountInvioceModal=function(e,t){return function(n,a){var r=a().cxlsState.get("modalTemp");n({type:u.SWITCH_LOADING_MASK}),(0,i.default)("insertBusinessMakeoutItem","POST",JSON.stringify(r),function(a){(0,s.showMessage)(a,"show")&&(e(),n(v("modalTemp",(0,l.fromJS)({runningDate:(0,s.formatDate)()}))),n("fromcalCultion"===t?b():I())),n({type:u.SWITCH_LOADING_MASK})})}},t.insertlrAccountInvioceDefineModal=function(e,t){return function(n,a){var r=a().cxlsState.get("modalTemp");n({type:u.SWITCH_LOADING_MASK}),(0,i.default)("insertBusinessAuthItem","POST",JSON.stringify(r),function(a){(0,s.showMessage)(a,"show")&&(e(),n(v("modalTemp",(0,l.fromJS)({runningDate:(0,s.formatDate)()}))),n("fromcalCultion"===t?b():I())),n({type:u.SWITCH_LOADING_MASK})})}},t.getBusinessBeforeSwitch=function(e,t){return function(n){var a=e.get("parentUuid")?e.get("parentUuid"):e.get("uuid"),r=e.get("beBusiness"),u=e.get("runningState");n(r||"STATE_ZZ"===u?"STATE_YYSR_JZCB"===u?N(e,"modify","LB_JZCB"):"STATE_FPRZ_CG"===u||"STATE_FPRZ_TG"===u?N(e,"modify","LB_FPRZ"):"STATE_KJFP_XS"===u||"STATE_KJFP_TS"===u?N(e,"modify","LB_KJFP"):"STATE_ZCWJZZS"===u?N(e,"modify","LB_ZCWJZZS"):"STATE_ZZ"===u?N(e,"modify","LB_ZZ"):"STATE_CQZC_ZJTX"===u?N(e,"modify","LB_ZJTX"):"STATE_GGFYFT"===u?h(e,t):"STATE_CQZC_JZSY"===u?_.getInitLraccountJzsy(e,t):m.getRunningBusinessDuty("",a):L(e))}},t.jumpCalculateCxToLr=function(e,t,n,a){return function(r,l){r({type:u.SWITCH_LOADING_MASK});var o=e.get("parentUuid")?e.get("parentUuid"):e.get("uuid");(0,i.default)("getRunningBusiness","GET","uuid="+o,function(l){(0,s.showMessage)(l)?(0,i.default)("getRunningSettingInfo","GET","",function(i){if((0,s.showMessage)(l)){var o={LB_JZCB:function(){return"COST_TRANSFER_FROM_CXLS_JUMP_TO_LRLS"},LB_FPRZ:function(){return"INVOICE_AUTH_FROM_CXLS_JUMP_TO_LRLS"},LB_KJFP:function(){return"INVOICING_FROM_CXLS_JUMP_TO_LRLS"},LB_ZCWJZZS:function(){return"TRANSFER_OUT_FROM_CXLS_JUMP_TO_LRLS"},LB_ZZ:function(){return"TRANSFER_OUT_FROM_CXLS_JUMP_TO_NBZZ"},LB_ZJTX:function(){return"TRANSFER_OUT_FROM_CXLS_JUMP_TO_ZJTX"}}[n]();r({type:u.GET_ACCOUNTCONF_ALL_SETTINGS,receivedData:i.data}),r({type:u.CALCULATE_FROM_CXLS_JUMP_TO_LRLS,pageType:n,rate:i.data.rate,hideCategoryList:i.data.hideCategoryList}),r({type:u.CALCULATE_CHANGE_QUERY}),r({type:u[o],item:e,receivedData:l.data,insertOrModify:t,fromRefresh:!0,rate:i.data.rate,hideCategoryList:i.data.hideCategoryList,uuidList:a}),r({type:u.SWITCH_LOADING_MASK}),r(f.addPageTabPane("EditPanes","LrAccount","LrAccount","录入流水")),r(f.addHomeTabpane("Edit","LrAccount","录入流水"))}else r({type:u.SWITCH_LOADING_MASK})}):r({type:u.SWITCH_LOADING_MASK})})}}),v=(t.changeCurrentPage=function(e,t){return function(n){n({type:u.CHANGE_CURRENT_PAGE_FZHE,assList:e,value:t})}},t.changeCxAccountCommonString=function(e,t,n){return function(a){var r="string"==typeof t?[e+"Temp",t]:[e+"Temp"].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t));"flags"===t[0]&&(r=t),a({type:u.CHANGE_CX_ACCOUNT_COMMON_STRING,tab:e,placeArr:r,value:n})}},t.changeCxAccountCommonOutString=function(e,t){return function(n){n("string"==typeof e?{type:u.CHANGE_CX_ACCOUNT_COMMON_STRING,place:e,value:t}:{type:u.CHANGE_CX_ACCOUNT_COMMON_STRING,placeArr:e,value:t})}}),O=(t.setManageMadalInitState=function(){return function(e,t){var n=t().calculationState,a=n.getIn(["payManageList","childList"]),r=(n.getIn(["flags","selectDate"]),n.getIn(["flags","selectList"])),u=n.getIn(["calculateTemp","cardUuid"]),i=n.getIn(["calculateTemp","usedCard"]),s=[],o=0;r.forEach(function(e){var t=a.find(function(t){return t.get("uuid")===e}),n=t.get("direction"),r=t.get("flowType"),u=t.get("assType");s.push({uuid:e,assType:u});var i=t.get("notHandleAmount"),l=t.get("runningState");"STATE_YYSR_TS"!==l&&"STATE_YYZC_TG"!==l||(i=-Math.abs(i)),"debit"===n?"FLOW_INADVANCE"===r?o-=Number(i):o+=Number(i):"FLOW_INADVANCE"===r?o+=Number(i):o-=Number(i)}),e(v(["modalTemp","uuidList"],(0,l.fromJS)(s))),e(v(["modalTemp","handlingAmount"],o)),e(v(["modalTemp","cardUuid"],u)),e(v(["modalTemp","usedCard"],i))}},t.setCarryoverMadalInitState=function(){return function(e,t){var n=t().calculationState,a=n.getIn(["flags","selectList"]),r=n.getIn(["calculateTemp","stockUuid"]),u=n.getIn(["flags","costTransferType"]);e(v(["modalTemp","uuidList"],a)),e(v(["modalTemp","runningState"],u)),e(v(["modalTemp","cardList"],(0,l.fromJS)([{uuid:r,amount:""}])))}},t.setInvioceMadalInitState=function(){return function(e,t){var n=t().calculationState,a=n.getIn(["flags","selectList"]),r=n.getIn(["flags","invoicingType"]);e(v(["modalTemp","uuidList"],a)),e(v(["modalTemp","billMakeOutType"],r))}},t.setDefineMadalInitState=function(){return function(e,t){var n=t().calculationState,a=n.getIn(["flags","selectList"]),r=n.getIn(["flags","certifiedType"]);e(v(["modalTemp","uuidList"],a)),e(v(["modalTemp","billAuthType"],r))}},t.insertManagerModal=function(e){return function(t,n){var a=n().cxlsState.get("modalTemp"),r=a.get("runningDate"),o=a.get("runningAbstract"),c=a.get("accountUuid"),d=a.get("cardUuid"),f=a.get("handlingAmount")?Math.abs(a.get("handlingAmount")):0,g=a.get("uuidList").toJS();t({type:u.SWITCH_LOADING_MASK}),(0,i.default)("insertRunningpayment","POST",JSON.stringify({runningDate:r,runningAbstract:o,accountUuid:c,amount:f,uuidList:g,cardUuid:d,uuid:""}),function(n){t({type:u.SWITCH_LOADING_MASK}),(0,s.showMessage)(n)&&(e(),t(v("modalTemp",(0,l.fromJS)({runningDate:(0,s.formatDate)(),uuidList:[]}))),t(b()))})}},t.getManagerCategoryList=function(e,t){return function(n){(0,i.default)("getManagerCategoryList","POST",JSON.stringify({assType:t}),function(t){n(v(["flags","managerCategoryList",e],(0,l.fromJS)(t.data)))})}}),h=(t.changeBeforeAmount=function(e,t,n){return function(a,r){t.split(c.TREE_JOIN_STR)[0];var u=t.split(c.TREE_JOIN_STR)[1],i=t.split(c.TREE_JOIN_STR)[2],s=e.get("uuid");a(v(["modalTemp","uuidList",n],(0,l.fromJS)({beOpened:!0,categoryUuid:i,uuid:s,categoryName:u})))}},t.jumpCommonCharge=function(e,t){return function(n){var a=e.get("uuid");n({type:u.SWITCH_LOADING_MASK}),(0,i.default)("getRunningBusiness","GET","uuid="+a,function(e){n({type:u.SWITCH_LOADING_MASK}),(0,s.showMessage)(e)&&n({type:u.INIT_COMMON_CHARGE_FROM_CXLS,data:e.data.result,uuidList:t,uuid:a}),n(_.getRunningSettingInfo()),n(f.addPageTabPane("EditPanes","LrAccount","LrAccount","录入流水")),n(f.addHomeTabpane("Edit","LrAccount","录入流水"))})}}),b=function(){return function(e,t){var n=t().calculationState,a=n.get("flags"),r=n.getIn(["calculateTemp","cardUuid"]),u=n.getIn(["calculateTemp","stockUuid"]),i=a.get("issuedate"),l=a.get("curCategory"),s=a.get("isCheck"),o=a.get("accountingType"),c=n.get("certificationList"),d=n.get("invoicingList"),f=c.get("billAuthType"),g=d.get("billMakeOutType"),m=n.getIn(["costTransferList","runningState"]);switch(o){case"manages":e(T.getCalculateList(i,o,"",l,r,s,""));break;case"invoicing":e(T.getCalculateInvoicingList(i,l,g,""));break;case"certification":e(T.getCalculateCertificationList(i,l,f,""));break;case"costTransfer":e(T.getCalculateCarryoverList(i,m,"","",u))}}};t.deleteSingleFlow=function(e,t){return function(n){var r=[e];o.Confirm({message:"确定删除？",title:"温馨提示",buttonLabels:["取消","确定"],onSuccess:function(e){1===e.buttonIndex&&(n({type:u.SWITCH_LOADING_MASK}),(0,i.default)("deleteRunningbusiness","POST",JSON.stringify({deleteList:r}),function(e){if((0,s.showMessage)(e)){if(e.message)if(e.data.errorList.length){var r=e.data.errorList.join(",");a.default.error(r)}else a.default.success(e.message);!e.data.errorList.length&&t()}n({type:u.SWITCH_LOADING_MASK})}))}})}},t.getInitLraccountJzsy=function(e,t){return function(n){var a=e.get("uuid");n({type:u.SWITCH_LOADING_MASK}),(0,i.default)("getRunningBusiness","GET","uuid="+a,function(e){n({type:u.SWITCH_LOADING_MASK}),(0,s.showMessage)(e)&&(n({type:u.INIT_JZSY_FROM_CXLS,data:e.data.result,uuidList:t,uuid:a}),e.data.result.beProject&&n(_.getJzsyProjectCardList(e.data.result.projectRange))),n(_.getRunningSettingInfo()),n(f.addPageTabPane("EditPanes","LrAccount","LrAccount","录入流水")),n(f.addHomeTabpane("Edit","LrAccount","录入流水")),n(_.calculateGainForJzsy())})}}},1242:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.saveRegretMessage=t.changeRegretCancle=t.changeRegretAccountCommonString=t.changeRegretAccountAccountName=t.getRegretCategory=t.changeItemDisableStatus=t.disabledCategory=t.enabledCategory=t.swapRunningItem=t.emptyAccountCheck=t.changeDefaultAccount=t.changeCardCheckboxArrOut=t.changeCardCheckboxArr=t.changeAccountConfcCheckboxArr=t.deleteAccountConfAccount=t.deleteAccountConfRunning=t.saveAccountConfTaxRate=t.saveAccountConfAccount=t.saveAccountConfRunningCategory=t.changeAccountConfAccountNumber=t.selectAccountConfMultipleAc=t.selectAccountConfAllAc=t.changeAccountConfRunningCategory=t.changeAccountConfCommonFlagsString=t.changeAccountConfCommonString=t.selectAccountConfUpperCategory=t.accountConfTaxRateSettingScale=t.selectOrUnselectAccountAll=t.accountconfAccountCheckboxCheck=t.accountconfRunningCheckboxCheck=t.accountConfRunningTriangleSwitch=t.closeAccountconfModal=t.beforeModifyaccountConfRunning=t.beforeModifyaccountConfRunningOld=t.beforeInsertAccountConf=t.changeAccountConfCurrentPage=t.getRunningTaxRate=t.getRunningAccount=t.getRunningCategory=void 0;var a=d(n(37)),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};n(38);var u=c(n(1273)),i=d(n(52)),l=n(22),s=c(n(30)),o=n(18);function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}t.getRunningCategory=function(){return function(e){e({type:u.SWITCH_LOADING_MASK}),(0,i.default)("getRunningCategory","GET","",function(t){e({type:u.SWITCH_LOADING_MASK}),(0,l.showMessage)(t)&&e({type:u.GET_RUNNING_CATEGORY,receivedData:t.data})})}},t.getRunningAccount=function(){return function(e){(0,i.default)("getRunningAccount","GET","",function(t){(0,l.showMessage)(t)&&e({type:u.GET_RUNNING_ACCOUNT,receivedData:t.data})})}};var g=t.getRunningTaxRate=function(){return function(e){(0,i.default)("getRunningTaxRate","GET","",function(t){(0,l.showMessage)(t)&&e({type:u.GET_RUNNING_TAX_RATE,receivedData:t.data})})}},m=(t.changeAccountConfCurrentPage=function(e){return{type:u.CHANGE_ACCOUNTCONF_CURRENTPAGE,currentPage:e}},t.beforeInsertAccountConf=function(e,t,n){return function(a){if(t){var r=t.get("uuid");"running"===e?(a({type:u.SWITCH_LOADING_MASK}),(0,i.default)("getRunningDetail","GET","uuid="+r,function(r){if(a({type:u.SWITCH_LOADING_MASK}),(0,l.showMessage)(r)){var i=r.data.result;a({type:u.BEFORE_INSERT_ACCOUNTCONF,currentPage:e,item:t,data:i,insertFrom:n})}})):a({type:u.BEFORE_INSERT_ACCOUNTCONF,currentPage:e,item:t,insertFrom:n})}else a({type:u.BEFORE_INSERT_ACCOUNTCONF,currentPage:e,item:t,insertFrom:n})}}),p=(t.beforeModifyaccountConfRunningOld=function(e,t,n){return{type:u.BEFORE_MODIFY_ACCOUNTCONF_RUNNING_OLD,currentPage:e,item:t,old:n}},t.beforeModifyaccountConfRunning=function(e,t){return function(n){var a=t.get("uuid");(0,i.default)("getRunningDetail","GET","uuid="+a,function(a){if((0,l.showMessage)(a)){var r=a.data.result;n({type:u.BEFORE_MODIFY_ACCOUNTCONF_RUNNING_OLD,currentPage:e,name:r,item:t})}})}},t.closeAccountconfModal=function(){return{type:u.CLOSE_ACCOUNTCONF_MODAL}},t.accountConfRunningTriangleSwitch=function(e,t){return{type:u.ACCOUNTCONF_RUNNING_TRIANGLE_SWITCH,showChild:e,uuid:t}},t.accountconfRunningCheckboxCheck=function(e,t){return{type:u.ACCOUNTCONF_RUNNING_CHECKBOX_CHECK,item:e,upperArr:t}},t.accountconfAccountCheckboxCheck=function(e,t){return{type:u.ACCOUNTCONF_ACCOUNT_CHECKBOX_CHECK,checked:e,uuid:t}},t.selectOrUnselectAccountAll=function(e){return{type:u.SELECT_OR_UNSELECT_ACCOUNT_ALL,selectAll:e}},t.accountConfTaxRateSettingScale=function(e){return{type:u.ACCOUNTCONF_TAX_RATE_SETTING_SCALE,value:e}},t.selectAccountConfUpperCategory=function(e){return{type:u.SELECT_ACCOUNTCONF_UPPER_CATEGORY,value:e}},t.changeAccountConfCommonString=function(e,t,n){return function(a){var r="string"==typeof t?[e+"Temp",t]:[e+"Temp"].concat(f(t));a({type:u.CHANGE_ACCOUNTCONF_COMMON_STRING,placeArr:r,value:n})}},t.changeAccountConfCommonFlagsString=function(e,t){return function(n){var a="string"==typeof e?["flags",e]:["flags"].concat(f(e));n({type:u.CHANGE_ACCOUNTCONF_COMMON_STRING,placeArr:a,value:t})}}),_=t.changeAccountConfRunningCategory=function(e){return function(t){t({type:u.CHANGE_ACCOUNTCONF_COMMON_STRING,placeArr:["runningCategory",0],value:e})}},T=(t.selectAccountConfAllAc=function(e,t,n,a,r){return{type:u.SELECT_ACCOUNTCONF_ALL_AC,acId:e,acFullName:t,asscategorylist:n,tab:a,place:r}},t.selectAccountConfMultipleAc=function(e,t,n,a){return function(r){var i="string"==typeof t?["runningTemp",t]:["runningTemp"].concat(f(t));r({type:u.SELECT_ACCOUNTCONF_MULTIPLE_AC,acList:e,placeArr:i,assList:n,assPlace:a})}}),y=(t.changeAccountConfAccountNumber=function(e,t){return{type:u.CHANGE_ACCOUNTCONF_ACCOUNT_NUMBER,accountType:e,value:t}},t.saveAccountConfRunningCategory=function(e){return function(t,n){t({type:u.SWITCH_LOADING_MASK});var a=n().accountConfState,s=a.getIn(["flags","insertOrModify"]),c=a.get("runningTemp"),d=c.get("parentUuid"),f=c.get("categoryType"),g=c.get("level"),p=c.toJS(),_=C(f);for(var T in _)delete p[_[T]];(0,i.default)(s+"RunningCategory","POST",JSON.stringify(r({},p)),function(n){(0,l.showMessage)(n)&&t(e?m("running",(0,o.fromJS)({uuid:d,level:g})):{type:u.AFTER_UPDATE_ACCOUNTCONF_RUNNING_CATEGORY,receivedData:n.data}),t({type:u.SWITCH_LOADING_MASK})})}},t.saveAccountConfAccount=function(e,t){return function(n,a){n({type:u.SWITCH_LOADING_MASK});var s=a().accountConfState,o=s.getIn(["flags","insertOrModify"]),c=s.get("accountTemp").toJS();(0,i.default)(o+"RunningAccount","POST",JSON.stringify(r({},c)),function(a){(0,l.showMessage)(a)&&(n({type:u.AFTER_UPDATE_ACCOUNTCONF_ACCOUNT,saveAndNew:e,receivedData:a.data}),"fromLrAccount"===t&&n({type:u.CHANGE_LR_ACCOUNT_COMMON_STRING,tab:"",placeArr:["flags","showAccountModal"],value:!1})),n({type:u.SWITCH_LOADING_MASK})})}},t.saveAccountConfTaxRate=function(e){return function(e,t){e({type:u.SWITCH_LOADING_MASK});var n=t().accountConfState,o=(n.getIn(["flags","insertOrModify"]),n.get("taxRateTemp")),c=o.get("scale"),d={};if("small"===c){var f=o.get("payableAcId"),m=o.get("notBillingAcId"),_=o.get("payableRate");d={payableAcId:f,notBillingAcId:m,payableRate:_,scale:c}}else{var T=o.get("inputAcId"),y=o.get("certifiedAcId"),C=o.get("outputAcId"),A=o.get("waitOutputAcId"),E=o.get("turnOutUnpaidAcId"),I=o.get("unpaidAcId"),S=o.get("preAcId"),L=o.get("outputRate");d={inputAcId:T,certifiedAcId:y,outputAcId:C,waitOutputAcId:A,turnOutUnpaidAcId:E,unpaidAcId:I,outputRate:L,scale:c,preAcId:S}}(0,i.default)("canModifyRunningTaxRate","POST",JSON.stringify(r({},d)),function(t){t.data.result.hasBusiness?t.data.result.canModify?(e({type:u.SWITCH_LOADING_MASK}),s.Confirm({message:t.data.result.msg,title:"温馨提示",buttonLabels:["取消","确定"],onSuccess:function(t){1===t.buttonIndex?(0,i.default)("modifyRunningTaxRate","POST",JSON.stringify(r({},d)),function(t){(0,l.showMessage)(t,"show")&&e(p("isTaxQuery",!0))}):e(g())}})):(a.default.error(t.data.result.msg),e(g()),e({type:u.SWITCH_LOADING_MASK})):(0,i.default)("modifyRunningTaxRate","POST",JSON.stringify(r({},d)),function(t){(0,l.showMessage)(t,"show")&&e(p("isTaxQuery",!0)),e({type:u.SWITCH_LOADING_MASK})})})}},t.deleteAccountConfRunning=function(){return function(e,t){var n=t().accountConfState.getIn(["flags","runningSelect"]);0!==n.size&&s.Confirm({message:"确定删除？",title:"温馨提示",buttonLabels:["取消","确定"],onSuccess:function(t){1===t.buttonIndex&&(e({type:u.SWITCH_LOADING_MASK}),(0,i.default)("deleteRunningCategory","POST",JSON.stringify({deleteList:n}),function(t){(0,l.showMessage)(t)&&(a.default.success(t.message),e({type:u.AFTER_UPDATE_ACCOUNTCONF_RUNNING_CATEGORY,receivedData:t.data})),e({type:u.SWITCH_LOADING_MASK})}))}})}},t.deleteAccountConfAccount=function(){return function(e,t){var n=t().accountConfState.getIn(["flags","accountSelect"]);0!==n.size&&s.Confirm({message:"确定删除？",title:"温馨提示",buttonLabels:["取消","确定"],onSuccess:function(t){1===t.buttonIndex&&(e({type:u.SWITCH_LOADING_MASK}),(0,i.default)("deleteRunningAccount","POST",JSON.stringify({deleteList:n}),function(t){(0,l.showMessage)(t)&&e({type:u.AFTER_UPDATE_ACCOUNTCONF_ACCOUNT,receivedData:t.data}),e({type:u.SWITCH_LOADING_MASK})}))}})}},t.changeAccountConfcCheckboxArr=function(e,t){return function(n){var a=[];t.forEach(function(e){switch(e){case"销售费用":a.push("XZ_SALE");break;case"管理费用":a.push("XZ_MANAGE");break;case"财务费用":a.push("XZ_FINANCE")}}),n({type:u.CHANGE_ACCOUNTCONF_PROPERTY,placeArr:e,valArr:a})}},t.changeCardCheckboxArr=function(e,t,n,a){return function(r,i){var l=i().accountConfState.getIn(["runningTemp",e,t]),s=void 0;s=a?l.update(function(e){return e.concat(n)}):l.update(function(e){return e.filter(function(e){return e!==n})});var o=["runningTemp",e,t];r({type:u.CHANGE_ACCOUNTCONF_PROPERTY,placeArr:o,valArr:s})}},t.changeCardCheckboxArrOut=function(e,t,n){return function(a,r){var i=r().accountConfState.getIn(["runningTemp",e]),l=void 0;l=n?i.update(function(e){return e.concat(t)}):i.update(function(e){return e.filter(function(e){return e!==t})});var s=["runningTemp",e];a({type:u.CHANGE_ACCOUNTCONF_PROPERTY,placeArr:s,valArr:l})}},t.changeDefaultAccount=function(e,t,n){return function(a){var r={SX_SHBX:"AC_JT_YFSB",SX_ZFGJJ:"AC_JT_YFGJJ",SX_QTXC:"AC_JT_YFXC",SX_QYSDS:["AC_YFQYSDS","AC_QYSDS"],SX_QTSF:["AC_YFSF","AC_SF"],SX_GRSF:"AC_SDS",SX_FLF:"AC_FLF",SX_GQ:["AC_TZ","AC_TZ_SY"],SX_ZQ:["AC_TZ","AC_TZ_SY"],SX_GDZC:["AC_ZC_ASSETS","AC_ZC_CLEANING","AC_ZC_ZJ"],SX_WXZC:["AC_ZC_ASSETS","AC_ZC_CLEANING","AC_ZC_ZJ"],SX_TZXFDC:["AC_ZC_ASSETS","AC_ZC_CLEANING","AC_ZC_ZJ"]}[t],u=function(e,t,n){var a=e.find(function(e){return e.get("type")===t&&e.get("property")===n});return{acId:a?a.get("acId"):"",acFullName:a?a.get("acFullName"):""}};"SX_GRSF"===t?a(T([u(e,r,t)],[n,"payAc"])):"string"==typeof r?a(T([u(e,r,t)],[n,"accruedAc"])):"SX_QYSDS"===t||"SX_QTSF"===t?(a(T([u(e,r[0],t)],[n,"accruedAc"])),a(T([u(e,r[1],t)],[n,"payAc"]))):"SX_GQ"===t||"SX_ZQ"===t?(a(T([u(e,r[0],t)],[n,"investAc"])),a(T([u(e,r[1],t)],[n,"profitAc"]))):"SX_GDZC"!==t&&"SX_WXZC"!==t&&"SX_TZXFDC"!==t||(a(T([u(e,r[0],t)],[n,"assetsAc"])),a(T([u(e,r[1],t)],[n,"cleaningAc"])),a(T([u(e,r[2],t)],[n,"depreciationAc"])))}},t.emptyAccountCheck=function(e){return function(t){e.forEach(function(e){var n=e.tab,a=e.place,r=e.value,i="string"==typeof a?[n+"Temp",a]:[n+"Temp"].concat(f(a));t({type:u.CHANGE_ACCOUNTCONF_COMMON_STRING,placeArr:i,value:r})})}},t.swapRunningItem=function(e,t){return function(n){n({type:u.SWITCH_LOADING_MASK}),(0,i.default)("runningSwapItem","POST",JSON.stringify({fromCategoryUuid:e,toCategoryUuid:t}),function(e){(0,l.showMessage)(e)&&n(_((0,o.fromJS)(e.data.categoryList[0]))),n({type:u.SWITCH_LOADING_MASK})})}},t.enabledCategory=function(e){return function(t){t({type:u.SWITCH_LOADING_MASK}),(0,i.default)("enabledCategory","POST",JSON.stringify({enabledList:e}),function(n){(0,l.showMessage)(n)&&t(y(e[0],!1)),t({type:u.SWITCH_LOADING_MASK})})}},t.disabledCategory=function(e,t){return function(t){t({type:u.SWITCH_LOADING_MASK}),(0,i.default)("disabledCategory","POST",JSON.stringify({disabledList:e}),function(n){if((0,l.showMessage)(n)){var a=n.data.parentList;t(y(e[0],!0,a))}t({type:u.SWITCH_LOADING_MASK})})}},t.changeItemDisableStatus=function(e,t,n){return function(a,r){var i=r().accountConfState,l=i.getIn(["runningCategory",0,"childList"]),s=i.getIn(["runningCategory",0,"disableList"]),o=[e];t&&n.length&&(o=o.concat(n));var c=function e(n,r,i,l){r&&r.size&&r.find(function(r,s){if(n.find(function(e){return e===r.get("uuid")}))return a({type:u.CHANGE_ITEM_DISABLE_STATUS,placeArr:[].concat(f(i),[s]),disabled:t}),!0;e(n,r.get("childList"),[].concat(f(i),[s,"childList"]),l),e(n,r.get("disableList"),[].concat(f(i),[s,"disableList"]),l)})};c(o,l,["childList"],!0),c(o,s,["disableList"],!0)}}),C=function(e){var t={LB_YYSR:"acBusinessIncome",LB_YYZC:"acBusinessExpense",LB_YYWSR:"acBusinessOutIncome",LB_YYWZC:"acBusinessOutExpense",LB_JK:"acLoan",LB_TZ:"acInvest",LB_ZB:"acCapital",LB_CQZC:"acAssets",LB_FYZC:"acCost",LB_ZSKX:"acTemporaryReceipt",LB_ZFKX:"acTemporaryPay",LB_XCZC:"acPayment",LB_SFZC:"acTax"}[e],n=["acAssets","acBusinessExpense","acBusinessIncome","acBusinessOutExpense","acBusinessOutIncome","acCapital","acCost","acInvest","acLoan","acPayment","acTax","acTemporaryReceipt","acTemporaryPay"];return n.splice(n.indexOf(t),1),n},A=(t.getRegretCategory=function(){return function(e){e({type:u.SWITCH_LOADING_MASK}),(0,i.default)("getRegretCategory","GET","",function(t){(0,l.showMessage)(t)&&e({type:u.GET_REGRET_CATEGORY,receivedData:t.data}),e({type:u.SWITCH_LOADING_MASK})})}},t.changeRegretAccountAccountName=function(e,t,n,a,r,i){return{type:u.CHANGE_REGRET_ACCOUNT_ACCOUNT_NAME,tab:e,placeUUid:t,placeName:n,isBalance:a,isBusiness:r,value:i}},t.changeRegretAccountCommonString=function(e,t,n){return function(a){var r="string"==typeof t?[e+"Temp",t]:[e+"Temp"].concat(f(t));"flags"===t[0]&&(r=t),a({type:u.CHANGE_REGRET_ACCOUNT_COMMON_STRING,tab:e,placeArr:r,value:n})}});t.changeRegretCancle=function(){return{type:u.CHANGE_REGRET_CANCLE}},t.saveRegretMessage=function(){return function(e,t){var n=t().accountConfState,a=n.getIn(["regretTemp","subordinateName"]),r=n.getIn(["regretTemp","categoryUuid"]);e({type:u.SWITCH_LOADING_MASK}),(0,i.default)("saveRegretMessage","POST",JSON.stringify({name:a,uuid:r}),function(t){(0,l.showMessage)(t)?(e({type:u.GET_RUNNING_CATEGORY,receivedData:t.data}),e(A("regret","showConfirmModal",!1))):(e(A("regret","showConfirmModal",!1)),e(A("regret","showModal",!0))),e({type:u.SWITCH_LOADING_MASK})})}}},1243:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cancelYllsVisible=t.getYllsBusinessData=void 0;var a,r=n(52),u=(a=r)&&a.__esModule?a:{default:a},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1270)),l=n(22);t.getYllsBusinessData=function(e,t){return function(n){var a=e.get("parentUuid")?e.get("parentUuid"):e.get("uuid");a&&n({type:i.SWITCH_LOADING_MASK}),a&&(0,u.default)("getRunningBusiness","GET","uuid="+a,function(a){(0,l.showMessage)(a)?(n({type:i.SWITCH_LOADING_MASK}),n({type:i.GET_YLLS_BUSINESS_DATA,item:a.data.result,curItem:e}),t&&t()):n({type:i.SWITCH_LOADING_MASK})})}},t.cancelYllsVisible=function(){return function(e){e({type:i.CANCEL_YLLS_VISIBLE})}}},1245:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.changeItemChildShow=t.deleteRunningVc=t.showRelatePaymentFetch=t.showRelateBusinessFetch=t.modifyRunningPayment=t.getRunningPayment=t.getRunningBusinessDuty=void 0;var a,r=f(n(1278)),u=n(52),i=(a=u)&&a.__esModule?a:{default:a},l=n(18),s=n(22),o=f(n(30)),c=(f(n(27)),f(n(1229))),d=f(n(60));function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}t.getRunningBusinessDuty=function(e,t,n,a,u){return function(u,o){console.log(n);var f=o().accountConfState.get("runningCategory");u({type:r.SWITCH_LOADING_MASK}),(0,i.default)("getRunningBusiness","GET","uuid="+t,function(i){if(u({type:r.SWITCH_LOADING_MASK}),(0,s.showMessage)(i)){var o=i.data.result.categoryUuid,g=(0,l.fromJS)([]);!function e(t){return t.map(function(t){t.get("uuid")===o&&(g=g.push(t)),t.get("childList")&&t.get("childList").size&&e(t.get("childList"))})}(f);var m={LB_YYSR:"acBusinessIncome",LB_YYZC:"acBusinessExpense",LB_YYWSR:"acBusinessOutIncome",LB_YYWZC:"acBusinessOutExpense",LB_JK:"acLoan",LB_TZ:"acInvest",LB_ZB:"acCapital",LB_CQZC:"acAssets",LB_FYZC:"acCost",LB_ZSKX:"acTemporaryReceipt",LB_ZFKX:"acTemporaryPay",LB_XCZC:"acPayment",LB_SFZC:"acTax"}[i.data.result.categoryType],p=i.data.result.runningState,_=i.data.result[m].beManagemented,T=i.data.result[m].contactsRange,y=i.data.result[m].stockRange,C=i.data.result.beProject,A=i.data.result.projectRange,E=i.data.result.propertyCarryover;"STATE_JK_ZFLX"!==p&&"STATE_TZ_SRGL"!==p&&"STATE_TZ_SRLX"!==p&&"STATE_ZB_ZFLR"!==p&&"STATE_XC_JN"!==p&&"STATE_XC_FF"!==p&&"STATE_SF_JN"!==p&&"STATE_ZS_TH"!==p&&"STATE_ZF_SH"!==p&&"STATE_SF_SFJM"!==p||u(c.changeLrAccountCommonString("",["flags","specialStateforAccrued"],!0)),u(c.getRunningSettingInfo()),u(d.addPageTabPane("EditPanes","LrAccount","LrAccount","录入流水")),u(d.addHomeTabpane("Edit","LrAccount","录入流水")),u({type:r.INIT_LR_ACCOUNT,strJudgeType:"fromCxAccount",receivedData:i.data,category:g,canMakeVc:a,flowNumber:e,uuidList:n,uuid:t}),"STATE_CQZC_JZSY"===p&&u(c.calculateGain()),C&&u(c.getProjectCardList(A,i.data.result)),_&&u(c.getFirstContactsCardList(T,p)),"SX_HW"===E&&u(c.getFirstStockCardList(y,p))}})}},t.getRunningPayment=function(e,t){return function(n){n({type:r.SWITCH_LOADING_MASK}),(0,i.default)("getRunningPayment","GET","uuid="+e,function(e){n({type:r.SWITCH_LOADING_MASK}),(0,s.showMessage)(e)&&(t(),n({type:r.SHOW_RELATE_PAYMENT_FETCH,receivedData:e.data.result}))})}},t.modifyRunningPayment=function(){return{type:r.MODIFY_RUNNING_PAYMENT}},t.showRelateBusinessFetch=function(e,t){return function(n){n({type:r.SWITCH_LOADING_MASK}),(0,i.default)("getRunningBusinessDuty","GET","uuid="+e,function(e){n({type:r.SWITCH_LOADING_MASK}),(0,s.showMessage)(e)&&(t(),n({type:r.SHOW_RELATE_PAYMENT_FETCH,receivedData:e.data.result}))})}},t.showRelatePaymentFetch=function(e,t){return function(n){n({type:r.SWITCH_LOADING_MASK}),(0,i.default)("getRunningPayment","GET","uuid="+e,function(e){n({type:r.SWITCH_LOADING_MASK}),(0,s.showMessage)(e)&&(t(),n({type:r.SHOW_RELATE_PAYMENT_FETCH,receivedData:e.data.result}))})}},t.deleteRunningVc=function(e,t){return function(n,a){o.Confirm({message:"确定删除？",title:"温馨提示",buttonLabels:["取消","确定"],onSuccess:function(u){1===u.buttonIndex&&(n({type:r.SWITCH_LOADING_MASK}),(0,i.default)("deletevc","POST",JSON.stringify({year:t.substr(0,4),month:t.substr(5,2),vcindexlist:[e]}),function(e){if(n({type:r.SWITCH_LOADING_MASK}),(0,s.showMessage)(e)){var t=a().accountState,u=t.getIn(["flags","issuedate"]),i=t.getIn(["flags","main"]),l=t.getIn(["flags","curCategory"]),o=t.getIn(["flags","curAccountUuid"]),c=t.getIn(["flags","assId"]),d=t.getIn(["flags","assCategory"]),f=t.getIn(["flags","acId"]);n(getAccountDimensionFetch(u,i,l,o,f,d,c))}}))}})}},t.changeItemChildShow=function(e){return{type:r.CHANGE_ITEM_CHILD_SHOW,idx:e}}},1246:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SWITCH_LOADING_MASK="SWITCH_LOADING_MASK",t.INIT_PZ_BOMB="INIT_PZ_BOMB",t.PZBOMB_REVIEWEDBY_VC="PZBOMB_REVIEWEDBY_VC",t.CANCEL_PZBOMB_REVIEWEDBY_VC="CANCEL_PZBOMB_REVIEWEDBY_VC"},1249:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.changeItemChildShow=t.deleteRunningVc=t.showRelatePaymentFetch=t.showRelateBusinessFetch=t.modifyRunningPayment=t.getRunningPayment=t.getRunningBusinessDuty=t.deleteAccountItemCardAndRunning=t.accountItemCheckboxCheckAll=t.accountItemCheckboxCheck=t.saveAccountPayOrReceive=t.oneClickPayment=t.beforeRunningPayOrReceive=t.changeAccountAccountName=t.changeAccountCommonString=t.afterModifyAccountAllList=t.changeSearchType=t.changeCalculateCommonString=t.getFirstStockCardList=t.getAccountObjectList=t.getCostCategoryListInfo=t.getAuthCategoryListInfo=t.getMakeoutCategoryListInfo=t.getManageCategoryListInfo=t.getCalculateCarryoverList=t.getCalculateCertificationList=t.getCalculateInvoicingList=t.getCalculateList=t.getPeriodCalculateList=void 0;var a,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u=m(n(1277)),i=n(52),l=(a=i)&&a.__esModule?a:{default:a},s=n(22),o=m(n(30)),c=n(18),d=m(n(60)),f=m(n(43)),g=m(n(1229));function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.getPeriodCalculateList=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"manages",n=arguments[2];arguments[3],arguments[4];return function(a){a({type:u.SWITCH_LOADING_MASK}),a(L(e));(0,l.default)("getManageList","POST",JSON.stringify({year:e?e.substr(0,4):"",month:e?e.substr(6,2):"",categoryUuid:"",cardUuid:"",isCheck:!1,getPeriod:n}),function(e){if((0,s.showMessage)(e)){var n;a(f.AccountTableGetPeriod(e));a((p(n={type:u.GET_CALCULATE_LIST,receivedData:e.data.result,period:e.data.periodDtoJson,issuedate:"",getPeriod:"true",isCheck:!1,categoryUuid:""},"isCheck",!1),p(n,"searchType","SEARCH_TYPE_DATE"),p(n,"accountingType",t),n))}a({type:u.SWITCH_LOADING_MASK})})}};var _=t.getCalculateList=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"manages",n=(arguments[2],arguments[3]),a=arguments[4],r=arguments[5],i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"",o=arguments[7];return function(c,d){c({type:u.SWITCH_LOADING_MASK});var f=d().calculationState,g=i?f.getIn(["flags","searchType"]):"";t=t||f.getIn(["flags","accountingType"]),r=(!0===r||!1===r)&&r,(0,l.default)("getManageList","POST",JSON.stringify({year:e?e.substr(0,4):"",month:e?e.substr(6,2):"",categoryUuid:n?"全部"===n?"":n:f.getIn(["flags","categoryUuid"]),cardUuid:a,isCheck:r,getPeriod:"",searchType:g,searchContent:i}),function(a){c({type:u.SWITCH_LOADING_MASK}),(0,s.showMessage)(a)&&(g=""==g?"SEARCH_TYPE_DATE":g,c({type:u.GET_CALCULATE_LIST,receivedData:a.data.result,period:a.data.periodDtoJson,issuedate:e,getPeriod:"",isCheck:r,searchType:g,curCategory:n,accountingType:t}))}),o||c(A("",a,r))}},T=t.getCalculateInvoicingList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments[4];return function(i,o){i({type:u.SWITCH_LOADING_MASK});var c=o().calculationState,d=a?c.getIn(["flags","searchType"]):"";(0,l.default)("getBusinessMakeoutList","POST",JSON.stringify({runningDate:"",categoryUuid:t?"全部"===t?"":t:c.getIn(["flags","categoryUuid"]),billMakeOutType:n,searchType:d,searchContent:a}),function(a){i({type:u.SWITCH_LOADING_MASK}),(0,s.showMessage)(a)&&(d=""==d?"SEARCH_TYPE_DATE":d,i({type:u.GET_CALCULATE_INVOICING_LIST,receivedData:a.data.result,curCategory:t,billMakeOutType:n,searchType:d,runningDate:e}))}),r||i(E("",n))}},y=t.getCalculateCertificationList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments[4];return function(i,o){i({type:u.SWITCH_LOADING_MASK});var c=o().calculationState,d=a?c.getIn(["flags","searchType"]):"";(0,l.default)("getBusinessAuthList","POST",JSON.stringify({runningDate:"",categoryUuid:t?"全部"===t?"":t:c.getIn(["flags","categoryUuid"]),billAuthType:n,searchType:d,searchContent:a}),function(a){i({type:u.SWITCH_LOADING_MASK}),(0,s.showMessage)(a)&&(d=""==d?"SEARCH_TYPE_DATE":d,i({type:u.GET_CALCULATE_CERTIFICATE_LIST,receivedData:a.data.result,curCategory:t,billAuthType:n,searchType:d,runningDate:e}))}),r||i(I("",n))}},C=t.getCalculateCarryoverList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments[3],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";return function(i,o){i({type:u.SWITCH_LOADING_MASK}),i(N(e,t));var c=o().calculationState,d=""===r?[]:[r],f=n?c.getIn(["flags","searchType"]):"";(0,l.default)("getCarryoverList","POST",JSON.stringify({runningDate:"",runningState:t,searchType:f,searchContent:n,cardUuidList:d}),function(n){i({type:u.SWITCH_LOADING_MASK}),(0,s.showMessage)(n)&&(f=""==f?"SEARCH_TYPE_DATE":f,i({type:u.GET_CALCULATE_COST_LIST,receivedData:n.data.result,runningState:t,searchType:f,runningDate:e}))}),a||i(S("",t))}},A=t.getManageCategoryListInfo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(a,r){(0,l.default)("getRunningManageCategory","POST",JSON.stringify({runningDate:e,cardUuid:t,isCheck:n}),function(e){(0,s.showMessage)(e)&&a({type:u.GET_MANAGE_CATEGORY_DETAIL,receivedData:e.data,isCheck:n})})}},E=t.getMakeoutCategoryListInfo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(n,a){(0,l.default)("getRunningMakeoutCategory","POST",JSON.stringify({runningDate:e,billMakeOutType:t}),function(e){(0,s.showMessage)(e)&&n({type:u.GET_MANAGE_CATEGORY_DETAIL,receivedData:e.data})})}},I=t.getAuthCategoryListInfo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(n,a){(0,l.default)("getRunningAuthCategory","POST",JSON.stringify({runningDate:e,billAuthType:t}),function(e){(0,s.showMessage)(e)&&n({type:u.GET_MANAGE_CATEGORY_DETAIL,receivedData:e.data})})}},S=t.getCostCategoryListInfo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(n,a){(0,l.default)("getRunningCarryoverCategory","POST",JSON.stringify({runningDate:e,runningState:t}),function(e){(0,s.showMessage)(e)&&n({type:u.GET_MANAGE_CATEGORY_DETAIL,receivedData:e.data})})}},L=t.getAccountObjectList=function(e){return function(e){(0,l.default)("getBusinessManagerCardList","POST",JSON.stringify({}),function(t){(0,s.showMessage)(t)&&(e(v("calculate","cardList",(0,c.fromJS)(t.data.cardList))),t.data.categoryList&&e(v("calculate","typeList",(0,c.fromJS)(t.data.categoryList))))})}},N=t.getFirstStockCardList=function(e,t){return function(n,a){a().homeState.getIn(["data","userInfo","sobInfo","sobId"]);(0,l.default)("getCostStock","POST",JSON.stringify({runningDate:e,runningState:t}),function(e){(0,s.showMessage)(e)&&n(v("calculate","stockThingsList",(0,c.fromJS)(e.data.result)))})}},v=t.changeCalculateCommonString=function(e,t,n){return function(a){var r="string"==typeof t?[e+"Temp",t]:[e+"Temp"].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t));"flags"===t[0]&&(r=t),a({type:u.CHANGE_CALCULATE_COMMON_STRING,tab:e,placeArr:r,value:n})}},O=(t.changeSearchType=function e(t,n){return function(a){switch(n){case"manages":a(_()),a(e(["calculateTemp","usedCard"],(0,c.fromJS)({name:"",code:"全部"})));break;case"invoicing":a(T());break;case"certification":a(y());break;case"costTransfer":a(C()),a(e(["calculateTemp","stockCard"],(0,c.fromJS)({name:"",code:"全部"})))}a({type:u.CHANGE_TYPE_OF_SEARCH,placeArr:t,value:n})}},t.afterModifyAccountAllList=function(e){return function(e,t){var n=t().calculationState,a=n.getIn(["flags","issuedate"]),r=n.getIn(["flags","accountingType"]),u=n.getIn(["flags","curCategory"]),i=(n.getIn(["calculateTemp","ass","assid"]),n.getIn(["calculateTemp","ass","asscategory"]),n.getIn(["calculateTemp","ass","acId"]),n.getIn(["calculateTemp","cardUuid"])),l=n.getIn(["flags","isCheck"]),s=n.getIn(["invoicingList","billMakeOutType"]),o=n.getIn(["certificationList","billAuthType"]),c=n.getIn(["costTransferList","runningState"]);switch(r){case"manages":e(_(a,r,"true",u,i,l));break;case"invoicing":e(T("",u,s));break;case"certification":e(y("",u,o));break;case"costTransfer":e(C("",c))}}}),h=(t.changeAccountCommonString=function(e,t,n){return{type:u.CHANGE_ACCOUNT_COMMON_STRING,tab:e,place:t,value:n}},t.changeAccountAccountName=function(e,t,n,a){return{type:u.CHANGE_ACCOUNT_ACCOUNT_NAME,tab:e,placeUUid:t,placeName:n,value:a}},t.beforeRunningPayOrReceive=function(e,t,n,a,r){return function(i){n<0&&(n=-n,e="收"===e?"付":"收"),i({type:u.BEFORE_RUNNING_PAY_OR_RECEIVE,payDirection:e,assList:t,notHandleAmount:n,uuidList:a,runningList:r})}});t.oneClickPayment=function(e){return function(t,n){var a=n().calculationState,r=a.getIn(["flags","selectList"]),u=a.getIn(["payManageList","childList"]),i=a.getIn(["flags","assId"]),l=a.getIn(["flags","assCategory"]),s=a.getIn(["flags","acId"]),o=a.get("mediumAcAssList"),d="";s?o.get("acList").forEach(function(e){e.get("acId")===s&&(d=e.get("acName"))}):o.get("category").forEach(function(e){e.get("category")===l&&e.get("assList").forEach(function(e){e.get("assId")===i&&(d=e.get("assName"))})});var f=(0,c.fromJS)([]),g=(0,c.fromJS)([]),m=(0,c.fromJS)([]),p=(0,c.fromJS)([]);if(u.forEach(function(e){r.indexOf(e.get("uuid"))>-1&&(m=m.push(e),p=p.push(e.get("uuid")),"income"===e.get("property")||"otherIncome"===e.get("property")?g=g.push(e):f=f.push(e))}),g.size&&f.size){var _=0,T=0;g.forEach(function(e){return _+=e.get("notHandleAmount")}),f.forEach(function(e){return T+=e.get("notHandleAmount")});var y=_-T;if(y>0){t(h("收",d,y,p,m))}else{t(h("付",d,-y,p,m))}e()}else if(g.size&&!f.size){var C="收",A=0;g.forEach(function(e){A+=e.get("notHandleAmount"),p.push(e.get("uuid"))}),A<0&&(C="付",A=-A),t(h(C,d,A,p,m)),e()}else if(!g.size&&f.size){var E="付",I=0;f.forEach(function(e){I+=e.get("notHandleAmount"),p.push(e.get("uuid"))}),I<0&&(E="收",I=-I),t(h(E,d,I,p,m)),e()}else console.log("异常情况：未匹配")}},t.saveAccountPayOrReceive=function(e){return function(t,n){var a=n().calculationState,u=a.getIn(["flags","runningInsertOrModify"]),i=a.get("runningTemp").toJS();(0,l.default)(u+"Runningpayment","POST",JSON.stringify(r({},i)),function(n){(0,s.showMessage)(n)&&(t(O()),e())})}},t.accountItemCheckboxCheck=function(e,t,n){return{type:u.ACCOUNT_ITEM_CHECKBOX_SELECT,checked:e,uuid:t,runningDate:n}},t.accountItemCheckboxCheckAll=function(e,t){return{type:u.PAY_RECEIVE_ITEM_CHECKBOX_CHECK_ALL,selectAll:e,listName:t}},t.deleteAccountItemCardAndRunning=function(e){return function(e,t){var n=t().calculationState.getIn(["flags","selectList"]);o.Confirm({message:"确定删除？",title:"温馨提示",buttonLabels:["取消","确定"],onSuccess:function(t){1===t.buttonIndex&&(e({type:u.SWITCH_LOADING_MASK}),(0,l.default)("deleteRunningbusiness","POST",JSON.stringify({deleteList:n}),function(t){if((0,s.showMessage)(t)){if(t.data.errorList.length){var n=t.data.errorList.reduce(function(e,t){return e+","+t});o.Alert(n)}e(O())}e({type:u.SWITCH_LOADING_MASK})}))}})}},t.getRunningBusinessDuty=function(e,t,n,a){return function(a,r){var i=r().accountConfState.get("runningCategory");a({type:u.SWITCH_LOADING_MASK}),(0,l.default)("getNewRunningBusiness","GET","oriUuid="+t,function(t){if(a({type:u.SWITCH_LOADING_MASK}),(0,s.showMessage)(t)){var r=t.data.result.categoryUuid,l=(0,c.fromJS)([]);!function e(t){return t.map(function(t){t.get("uuid")===r&&(l=l.push(t)),t.get("childList")&&t.get("childList").size&&e(t.get("childList"))})}(i);var o=t.data.result.runningState;"STATE_JK_ZFLX"!==o&&"STATE_TZ_SRGL"!==o&&"STATE_TZ_SRLX"!==o&&"STATE_ZB_ZFLR"!==o&&"STATE_ZS_TH"!==o&&"STATE_ZF_SH"!==o||a(g.changeLrAccountCommonString("",["flags","specialStateforAccrued"],!0)),a(g.getRunningSettingInfo()),a(d.addPageTabPane("EditPanes","LrAccount","LrAccount","录入流水")),a(d.addHomeTabpane("Edit","LrAccount","录入流水")),a({type:u.INIT_LR_ACCOUNT,strJudgeType:"fromCxAccount",receivedData:t.data,category:l,canMakeVc:n,flowNumber:e}),"STATE_CQZC_JZSY"===o&&a(g.calculateGain())}})}},t.getRunningPayment=function(e,t){return function(n){n({type:u.SWITCH_LOADING_MASK}),(0,l.default)("getRunningPayment","GET","uuid="+e,function(e){n({type:u.SWITCH_LOADING_MASK}),(0,s.showMessage)(e)&&(t(),n({type:u.SHOW_RELATE_PAYMENT_FETCH,receivedData:e.data.result}))})}},t.modifyRunningPayment=function(){return{type:u.MODIFY_RUNNING_PAYMENT}},t.showRelateBusinessFetch=function(e,t){return function(n){n({type:u.SWITCH_LOADING_MASK}),(0,l.default)("getRunningBusinessDuty","GET","uuid="+e,function(e){n({type:u.SWITCH_LOADING_MASK}),(0,s.showMessage)(e)&&(t(),n({type:u.SHOW_RELATE_PAYMENT_FETCH,receivedData:e.data.result}))})}},t.showRelatePaymentFetch=function(e,t){return function(n){n({type:u.SWITCH_LOADING_MASK}),(0,l.default)("getRunningPayment","GET","uuid="+e,function(e){n({type:u.SWITCH_LOADING_MASK}),(0,s.showMessage)(e)&&(t(),n({type:u.SHOW_RELATE_PAYMENT_FETCH,receivedData:e.data.result}))})}},t.deleteRunningVc=function(e,t){return function(n,a){o.Confirm({message:"确定删除？",title:"温馨提示",buttonLabels:["取消","确定"],onSuccess:function(r){1===r.buttonIndex&&(n({type:u.SWITCH_LOADING_MASK}),(0,l.default)("deletevc","POST",JSON.stringify({year:t.substr(0,4),month:t.substr(5,2),vcindexlist:[e]}),function(e){if(n({type:u.SWITCH_LOADING_MASK}),(0,s.showMessage)(e)){var t=a().calculationState,r=t.getIn(["flags","issuedate"]),i=t.getIn(["flags","main"]),l=t.getIn(["flags","curCategory"]),o=(t.getIn(["flags","curAccountUuid"]),t.getIn(["flags","assId"]),t.getIn(["flags","assCategory"]),t.getIn(["flags","acId"]),t.getIn(["flags","isCheck"])),c=t.getIn(["calculateTemp","cardUuid"]);n(_(r,i,"",l,c,o))}}))}})}},t.changeItemChildShow=function(e){return{type:u.CHANGE_ITEM_CHILD_SHOW,idx:e}}},1250:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r,u,i=T(n(14)),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(78);var s=T(n(1)),o=T(n(0)),c=n(18),d=n(17);n(1258);var f=_(n(30)),g=T(n(1260)),m=T(n(1264)),p=_(n(60));function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function T(e){return e&&e.__esModule?e:{default:e}}var y=(0,d.immutableRenderDecorator)((u=r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={rotate:0,magnificationRate:1,imgWpercent:0,idx:""},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),l(t,[{key:"componentDidMount",value:function(){this.props.dispatch(p.setDdConfig())}},{key:"componentWillReceiveProps",value:function(e,t){0==this.props.preview&&1==e.preview&&this.setState({rotate:0,magnificationRate:1,imgWpercent:0,idx:e.page,maxLimit:40,minLimit:40})}},{key:"render",value:function(){var e=this,t=this.props,n=t.preview,a=t.downloadPermission,r=t.previewImgArr,u=t.closePreviewModal,l=t.downloadEnclosure,o=t.dispatch,c=(t.page,t.type,t.uploadKeyJson,this.state),d=c.idx,p=c.rotate,_=c.magnificationRate,T=c.imgWpercent,y=c.maxLimit,C=c.minLimit,A=r.get(d);return s.default.createElement("div",{className:"preview",style:{display:n?"":"none"},onClick:function(e){}},s.default.createElement("div",{className:"nav"},s.default.createElement("button",{onClick:function(){return e.setState({idx:d-1,imgWpercent:0,rotate:0})},disabled:0==d},s.default.createElement(i.default,{type:"left-circle"}),s.default.createElement("div",null,"上一张")),s.default.createElement("button",{disabled:A&&"TRUE"!==A.get("imageOrFile"),onClick:function(){return e.setState({rotate:p+90})}},s.default.createElement(i.default,{type:"reload"}),s.default.createElement("div",null,"旋转")),A&&"application/pdf"===A.get("mimeType")?s.default.createElement("button",{disabled:.5===_,onClick:function(){e.setState({magnificationRate:_-.5})}},s.default.createElement(i.default,{type:"zoom-out"}),s.default.createElement("div",null,"缩小")):s.default.createElement("button",{disabled:-C>=T,onClick:function(){e.setState({imgWpercent:T-10})}},s.default.createElement(i.default,{type:"minus-circle"}),s.default.createElement("div",null,"缩小")),A&&"application/pdf"==A.get("mimeType")?s.default.createElement("button",{disabled:_>=4||"application/pdf"!==A.get("mimeType"),onClick:function(){e.setState({magnificationRate:_+.5})}},s.default.createElement(i.default,{type:"zoom-in"}),s.default.createElement("div",null,"放大")):s.default.createElement("button",{disabled:T>=y,onClick:function(){e.setState({imgWpercent:T+10})}},s.default.createElement(i.default,{type:"plus-circle"}),s.default.createElement("div",null,"放大")),s.default.createElement("button",{disabled:!a},a?s.default.createElement("span",{onClick:function(){return l(r.getIn([d,"signedUrl"]),r.getIn([d,"fileName"]))}},s.default.createElement(i.default,{type:"download"}),s.default.createElement("div",null,"下载")):s.default.createElement("a",null,s.default.createElement(i.default,{type:"download"}),s.default.createElement("div",null,"下载"))),s.default.createElement("button",{disabled:!(A&&"application/pdf"==A.get("mimeType")),onClick:function(){A&&"application/pdf"==A.get("mimeType")&&f.openLink({url:r.getIn([d,"signedUrl"])})}},s.default.createElement(i.default,{type:"printer"}),s.default.createElement("div",null,"打印")),s.default.createElement("button",{onClick:function(){return e.setState({idx:d+1,imgWpercent:0,rotate:0})},disabled:d===r.size-1},s.default.createElement(i.default,{type:"right-circle"}),s.default.createElement("div",null,"下一张"))),A&&"TRUE"===A.get("imageOrFile")&&n?s.default.createElement(m.default,{imgUrl:""+A.get("signedUrl"),imgWpercent:T,rotate:p,preview:n,maxLimit:y,minLimit:C}):"",A&&"application/pdf"===A.get("mimeType")&&n?s.default.createElement(g.default,{pdfUrl:""+A.get("signedUrl"),dispatch:o,magnificationRate:_,preview:n}):"",s.default.createElement("div",{className:"img-box",style:{display:A&&"application/pdf"!==A.get("mimeType")&&"TRUE"!==A.get("imageOrFile")?"":"none"}},s.default.createElement("div",{className:"img-box-contain"},s.default.createElement("div",{className:"img-box-contain-overflow"},s.default.createElement("div",{className:"noSupport"},s.default.createElement(i.default,{type:"file"}),s.default.createElement("p",null,"仅图片及PDF格式支持预览"))))),s.default.createElement("div",{className:"btnBar"},s.default.createElement("div",{className:"title"},"预览"),s.default.createElement("div",{onClick:u,className:"closeBtn"},s.default.createElement(i.default,{type:"close"}))))}}]),t}(),r.displayName="EnclosurePreview",r.propTypes={preview:o.default.bool,downloadPermission:o.default.bool,previewImgArr:o.default.instanceOf(c.List),closePreviewModal:o.default.func,dispatch:o.default.func,page:o.default.number,type:o.default.string},a=u))||a;t.default=y},1258:function(e,t,n){},1260:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r,u,i=m(n(14)),l=m(n(37)),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(78),n(38);var o=m(n(1)),c=m(n(0)),d=n(17);n(1261);n(127),g(n(30));var f=g(n(1263));function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function m(e){return e&&e.__esModule?e:{default:e}}var p=(0,d.immutableRenderDecorator)((u=r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderPdf=function(e){var t=document.getElementById("canvas_wrapper");t.innerHTML="";var a=atob(e),r=window.PDFJS;if(!r)return n.setState({networkFaild:!0}),l.default.info("网路问题导致PDF预览相关文件加载失败",2);if(r.cMapUrl="https://cdn.jsdelivr.net/npm/pdfjs-dist@2.0.288/cmaps/",r.cMapPacked=!0,!r.getDocument)return n.setState({networkFaild:!0}),l.default.info("网路问题导致PDF预览相关文件加载失败",2);var u=r.getDocument({data:a}),i=n;u.promise.then(function(e){var n="";e.numPages;for(var a=0;a<e.numPages;a++)(n=document.createElement("canvas")).id="pdf_canvas_"+a,t.appendChild(n);for(var r=function(t){e.getPage(t+1).then(function(e){var n=e.getViewport(i.props.magnificationRate),a=document.getElementById("pdf_canvas_"+t);a.width=n.width,a.height=n.height;var r=a.getContext("2d");return e.render({canvasContext:r,viewport:n}).promise})},u=0;u<e.numPages;u++)r(u)}).catch(function(e){document.getElementById("canvas_wrapper").innerHTML="",i.setState({broken:!0})})},n.state={base64:"",broken:!1,networkFaild:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),s(t,[{key:"componentDidMount",value:function(){var e=this;this.props.dispatch(f.getCxpzUploadEnclosure(this.props.pdfUrl,function(t){t&&(e.setState({base64:t,broken:!1}),e.renderPdf(t))}))}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.props.magnificationRate!==e.magnificationRate&&this.renderPdf(this.state.base64),this.props.pdfUrl!==e.pdfUrl&&this.props.dispatch(f.getCxpzUploadEnclosure(e.pdfUrl,function(e){e&&(t.setState({base64:e,broken:!1,networkFaild:!1}),t.renderPdf(e))}))}},{key:"render",value:function(){var e=this.props,t=(e.pdfUrl,e.dispatch,e.magnificationRate,this.state),n=t.broken,a=t.networkFaild;return o.default.createElement("div",{className:"img-box"},o.default.createElement("div",{className:"img-box-contain"},o.default.createElement("div",{className:"pdf-box-contain-overflow"},o.default.createElement("div",{className:"pdf_canvas_main"},o.default.createElement("div",{className:"pdf_canvas_pdf"},o.default.createElement("div",{id:"canvas_wrapper"}))),n?o.default.createElement("div",{className:"noSupport"},o.default.createElement(i.default,{type:"file"}),o.default.createElement("p",null,"PDF文件损坏，无法预览")):"",a?o.default.createElement("div",{className:"noSupport"},o.default.createElement(i.default,{type:"file"}),o.default.createElement("p",null,"网络异常，无法预览")):"")))}}]),t}(),r.displayName="PdfPreview",r.propTypes={pdfUrl:c.default.string,dispatch:c.default.func,magnificationRate:c.default.number},a=u))||a;t.default=p},1261:function(e,t,n){},1263:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCxpzUploadEnclosure=void 0;var a,r=n(31),u=(a=r)&&a.__esModule?a:{default:a},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1246)),l=(n(18),n(22));t.getCxpzUploadEnclosure=function(e,t){return function(n){n({type:i.SWITCH_LOADING_MASK}),e.indexOf("xfn-ddy-annex-bucket.oss-accelerate")>0&&(e=e.replace("xfn-ddy-annex-bucket.oss-accelerate","xfn-ddy-annex-bucket.oss-cn-hangzhou-internal")),(0,u.default)("uploadGetEnclosure","POST",JSON.stringify({enclosureUrl:e}),function(e){(0,l.showMessage)(e)?t(e.data.enclosureFile):t(""),n({type:i.SWITCH_LOADING_MASK})})}}},1264:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r,u,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=o(n(1)),s=o(n(0));function o(e){return e&&e.__esModule?e:{default:e}}var c=(0,n(17).immutableRenderDecorator)((u=r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.drawImgScal=function(e,t,a,r){var u,i,l,s,o,c=t/100,d=a/100,f=r/100;u=n.refs.bargraphCanvas,i=u.getContext("2d"),(l=new Image).onload=function(){!0,g()},l.src=e;var g=function(){-f<=c&&c<=d&&(0===c?(s=l.width>960?960:l.width*Number(1+c),o=l.width>960?960*l.height/l.width:l.height*Number(1+c)):(s=l.width>960?960*Number(1+c):l.width*Number(1+c),o=l.width>960?960*l.height/l.width*Number(1+c):l.height*Number(1+c)),n.setState({imgHeight:o,imgWidth:s}),u.width=s,u.height=o,i.clearRect(0,0,s,o),i.drawImage(l,0,0,l.width,l.height,0,0,s,o))}},n.state={imgHeight:0,imgWidth:0},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),i(t,[{key:"componentDidMount",value:function(){this.drawImgScal(this.props.imgUrl,this.props.imgWpercent,this.props.maxLimit,this.props.minLimit)}},{key:"componentWillReceiveProps",value:function(e){this.props.imgUrl!==e.imgUrl&&this.drawImgScal(e.imgUrl,e.imgWpercent,this.props.maxLimit,this.props.minLimit),this.props.imgUrl===e.imgUrl&&this.props.imgWpercent!==e.imgWpercent&&this.drawImgScal(this.props.imgUrl,e.imgWpercent,this.props.maxLimit,this.props.minLimit)}},{key:"isVertail",value:function(e){return!(e<90)&&(90===e||e%180!=0)}},{key:"render",value:function(){var e=this.props,t=(e.imgUrl,e.imgWpercent,e.rotate),n=this.state,a=n.imgHeight,r=n.imgWidth,u=0,i=0;return this.isVertail(t)?(a>960&&(u=a-960),r>960&&(i=r-960)):(r>960&&(u=r-960),a>960&&(i=a/2+10)),l.default.createElement("div",{className:"img-box"},l.default.createElement("div",{className:"img-box-contain"},l.default.createElement("div",{className:"img-box-contain-overflow"},l.default.createElement("canvas",{ref:"bargraphCanvas",style:{transform:"rotate("+t+"deg)",marginLeft:u+"px",marginTop:i+"px",display:"block"}}))))}}]),t}(),r.displayName="ImgPreview",r.propTypes={imgUrl:s.default.string,imgWpercent:s.default.number,rotate:s.default.number,maxLimit:s.default.number,minLimit:s.default.number},a=u))||a;t.default=c},1270:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SWITCH_LOADING_MASK="SWITCH_LOADING_MASK",t.INIT_YLLS="INIT_YLLS",t.GET_YLLS_BUSINESS_DATA="GET_YLLS_BUSINESS_DATA",t.CANCEL_YLLS_VISIBLE="CANCEL_YLLS_VISIBLE"},1273:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SWITCH_LOADING_MASK="SWITCH_LOADING_MASK",t.INIT_ACCOUNTCONF="INIT_ACCOUNTCONF",t.GET_ACCOUNTCONF_ALL_SETTINGS="GET_ACCOUNTCONF_ALL_SETTINGS",t.GET_RUNNING_CATEGORY="GET_RUNNING_CATEGORY",t.GET_RUNNING_ACCOUNT="GET_RUNNING_ACCOUNT",t.GET_RUNNING_TAX_RATE="GET_RUNNING_TAX_RATE",t.CHANGE_ACCOUNTCONF_CURRENTPAGE="CHANGE_ACCOUNTCONF_CURRENTPAGE",t.BEFORE_INSERT_ACCOUNTCONF="BEFORE_INSERT_ACCOUNTCONF",t.BEFORE_MODIFY_ACCOUNTCONF_RUNNING_OLD="BEFORE_MODIFY_ACCOUNTCONF_RUNNING_OLD",t.CLOSE_ACCOUNTCONF_MODAL="CLOSE_ACCOUNTCONF_MODAL",t.ACCOUNTCONF_RUNNING_TRIANGLE_SWITCH="ACCOUNTCONF_RUNNING_TRIANGLE_SWITCH",t.ACCOUNTCONF_RUNNING_CHECKBOX_CHECK="ACCOUNTCONF_RUNNING_CHECKBOX_CHECK",t.SELECT_OR_UNSELECT_RUNNING_ALL="SELECT_OR_UNSELECT_RUNNING_ALL",t.SELECT_OR_UNSELECT_ACCOUNT_ALL="SELECT_OR_UNSELECT_ACCOUNT_ALL",t.ACCOUNTCONF_ACCOUNT_CHECKBOX_CHECK="ACCOUNTCONF_ACCOUNT_CHECKBOX_CHECK",t.ACCOUNTCONF_TAX_RATE_SETTING_SCALE="ACCOUNTCONF_TAX_RATE_SETTING_SCALE",t.SELECT_ACCOUNTCONF_UPPER_CATEGORY="SELECT_ACCOUNTCONF_UPPER_CATEGORY",t.CHANGE_ACCOUNTCONF_COMMON_STRING="CHANGE_ACCOUNTCONF_COMMON_STRING",t.CHANGE_ACCOUNTCONF_ACCOUNT_NUMBER="CHANGE_ACCOUNTCONF_ACCOUNT_NUMBER",t.SELECT_ACCOUNTCONF_ALL_AC="SELECT_ACCOUNTCONF_ALL_AC",t.SELECT_ACCOUNTCONF_MULTIPLE_AC="SELECT_ACCOUNTCONF_MULTIPLE_AC",t.AFTER_UPDATE_ACCOUNTCONF_RUNNING_CATEGORY="AFTER_UPDATE_ACCOUNTCONF_RUNNING_CATEGORY",t.AFTER_UPDATE_ACCOUNTCONF_ACCOUNT="AFTER_UPDATE_ACCOUNTCONF_ACCOUNT",t.CHANGE_ACCOUNTCONF_PROPERTY="CHANGE_ACCOUNTCONF_PROPERTY",t.CHANGE_ITEM_DISABLE_STATUS="CHANGE_ITEM_DISABLE_STATUS",t.GET_REGRET_CATEGORY="GET_REGRET_CATEGORY",t.CHANGE_REGRET_ACCOUNT_ACCOUNT_NAME="CHANGE_REGRET_ACCOUNT_ACCOUNT_NAME",t.CHANGE_REGRET_ACCOUNT_COMMON_STRING="CHANGE_REGRET_ACCOUNT_COMMON_STRING",t.CHANGE_REGRET_CANCLE="CHANGE_REGRET_CANCLE",t.SAVE_REGRET_MESSAGE="SAVE_REGRET_MESSAGE",t.CHANGE_LR_ACCOUNT_COMMON_STRING="CHANGE_LR_ACCOUNT_COMMON_STRING"},1274:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SWITCH_LOADING_MASK="SWITCH_LOADING_MASK",t.GET_BUSINESS_LIST="GET_BUSINESS_LIST",t.CHANGE_CX_ACCOUNT_COMMON_STRING="CHANGE_CX_ACCOUNT_COMMON_STRING",t.CXLS_ITEM_CHECKBOX_CHECK_ALL="CXLS_ITEM_CHECKBOX_CHECK_ALL",t.CXLS_ITEM_CHECKBOX_CHECK="CXLS_ITEM_CHECKBOX_CHECK",t.GET_CXLSCONF_ALL_SETTINGS="GET_CXLSCONF_ALL_SETTINGS",t.SET_CURRENT_PZ="SET_CURRENT_PZ",t.GET_ACCOUNTCONF_ALL_SETTINGS="GET_ACCOUNTCONF_ALL_SETTINGS",t.CALCULATE_FROM_CXLS_JUMP_TO_LRLS="CALCULATE_FROM_CXLS_JUMP_TO_LRLS",t.TRANSFER_OUT_FROM_CXLS_JUMP_TO_LRLS="TRANSFER_OUT_FROM_CXLS_JUMP_TO_LRLS",t.COST_TRANSFER_FROM_CXLS_JUMP_TO_LRLS="COST_TRANSFER_FROM_CXLS_JUMP_TO_LRLS",t.INVOICE_AUTH_FROM_CXLS_JUMP_TO_LRLS="INVOICE_AUTH_FROM_CXLS_JUMP_TO_LRLS",t.INVOICING_FROM_CXLS_JUMP_TO_LRLS="INVOICING_FROM_CXLS_JUMP_TO_LRLS",t.TRANSFER_OUT_FROM_CXLS_JUMP_TO_NBZZ="TRANSFER_OUT_FROM_CXLS_JUMP_TO_NBZZ",t.TRANSFER_OUT_FROM_CXLS_JUMP_TO_ZJTX="TRANSFER_OUT_FROM_CXLS_JUMP_TO_ZJTX",t.AFTER_SAVE_ACCOUNT_PAYMENT="AFTER_SAVE_ACCOUNT_PAYMENT",t.INIT_PAYMENT_STATE="INIT_PAYMENT_STATE",t.INIT_LR_ACCOUNT_SETTINGS="INIT_LR_ACCOUNT_SETTINGS",t.CALCULATE_CHANGE_QUERY="CALCULATE_CHANGE_QUERY",t.CHANGE_PZ_COMMON_STRING="CHANGE_PZ_COMMON_STRING",t.INIT_CXLS="INIT_CXLS",t.INIT_COMMON_CHARGE_FROM_CXLS="INIT_COMMON_CHARGE_FROM_CXLS",t.INIT_JZSY_FROM_CXLS="INIT_JZSY_FROM_CXLS",t.CXLS_CALCULATE_GAIN_OR_LOSS="CXLS_CALCULATE_GAIN_OR_LOSS"},1277:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SWITCH_LOADING_MASK="SWITCH_LOADING_MASK",t.ACCOUNT_CHANGE_VIEW_DIMENSION="ACCOUNT_CHANGE_VIEW_DIMENSION",t.GET_MANAGE_CATEGORY_DETAIL="GET_MANAGE_CATEGORY_DETAIL",t.GET_CALCULATE_LIST="GET_CALCULATE_LIST",t.GET_CALCULATE_INVOICING_LIST="GET_CALCULATE_INVOICING_LIST",t.GET_CALCULATE_CERTIFICATE_LIST="GET_CALCULATE_CERTIFICATE_LIST",t.GET_CALCULATE_COST_LIST="GET_CALCULATE_COST_LIST",t.CHANGE_CALCULATE_COMMON_STRING="CHANGE_CALCULATE_COMMON_STRING",t.CHANGE_ACCOUNT_AMOUNT_SUM="CHANGE_ACCOUNT_AMOUNT_SUM",t.CHANGE_ACCOUNT_COMMON_STRING="CHANGE_ACCOUNT_COMMON_STRING",t.CHANGE_ACCOUNT_ACCOUNT_NAME="CHANGE_ACCOUNT_ACCOUNT_NAME",t.BEFORE_RUNNING_PAY_OR_RECEIVE="BEFORE_RUNNING_PAY_OR_RECEIVE",t.ACCOUNT_ITEM_CHECKBOX_SELECT="ACCOUNT_ITEM_CHECKBOX_SELECT",t.PAY_RECEIVE_ITEM_CHECKBOX_CHECK_ALL="PAY_RECEIVE_ITEM_CHECKBOX_CHECK_ALL",t.INIT_RUNNING_BUSINESS_OR_PAY_CARD="INIT_RUNNING_BUSINESS_OR_PAY_CARD",t.MODIFY_RUNNING_PAYMENT="MODIFY_RUNNING_PAYMENT",t.SHOW_RELATE_PAYMENT_FETCH="SHOW_RELATE_PAYMENT_FETCH",t.CHANGE_ITEM_CHILD_SHOW="CHANGE_ITEM_CHILD_SHOW",t.CHANGE_TYPE_OF_SEARCH="CHANGE_TYPE_OF_SEARCH",t.INIT_SEARCH_CALCULATION="INIT_SEARCH_CALCULATION"},1278:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SWITCH_LOADING_MASK="SWITCH_LOADING_MASK",t.GET_BUSINESS_LIST="GET_BUSINESS_LIST",t.CHANGE_CX_ACCOUNT_COMMON_STRING="CHANGE_CX_ACCOUNT_COMMON_STRING",t.CXLS_ITEM_CHECKBOX_CHECK_ALL="CXLS_ITEM_CHECKBOX_CHECK_ALL",t.CXLS_ITEM_CHECKBOX_CHECK="CXLS_ITEM_CHECKBOX_CHECK",t.GET_CXLSCONF_ALL_SETTINGS="GET_CXLSCONF_ALL_SETTINGS",t.SET_CURRENT_PZ="SET_CURRENT_PZ",t.SHOW_RELATE_PAYMENT_FETCH="SHOW_RELATE_PAYMENT_FETCH",t.CHANGE_ITEM_CHILD_SHOW="CHANGE_ITEM_CHILD_SHOW",t.INIT_LR_ACCOUNT="INIT_LR_ACCOUNT",t.MODIFY_RUNNING_PAYMENT="MODIFY_RUNNING_PAYMENT"},1281:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=M(n(1234)),u=M(n(45)),i=M(n(100)),l=M(n(1230)),s=M(n(1366)),o=M(n(37)),c=M(n(14)),d=M(n(47)),f=M(n(32)),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(1235),n(55),n(99),n(1231),n(1356),n(38),n(78),n(46),n(51);var m=M(n(1)),p=n(17),_=n(18),T=n(127),y=M(n(6)),C=b(n(27)),A=n(482),E=n(22),I=n(1330),S=n(1331),L=b(n(1243)),N=b(n(1239)),v=b(n(1245));n(1332);var O=M(n(1250)),h=n(43);function b(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function M(e){return e&&e.__esModule?e:{default:e}}var R=(0,p.immutableRenderDecorator)(a=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.onChangeActiveKey=function(){return e.setState({activeKey:e.state.activeKey.length>0?[]:["1"]})},e.state={activeKey:["1"],deleteModal:!1,tagModal:!1,tagValue:"无标签",currentIdx:"",preview:!1,rotate:0,page:0,wpercent:1,manageModal:!1,carryoverModal:!1,invioceModal:!1,defineModal:!1,jzsyModal:!1,isSeleck:!1,deleteHasFj:!1},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,m.default.Component),g(t,[{key:"render",value:function(){var e=this,t=this.props,n=(t.yllsVisible,t.dispatch),a=t.onClose,g=(t.yllsState,t.editLrAccountPermission),p=t.panes,b=t.lsItemData,M=t.uuidList,R=t.showDrawer,P=t.refreshList,D=t.lryl,U=t.isClose,w=t.fromCxls,G=t.curItem,J=(t.intelligentStatus,t.magenerType),x=t.contactsCardRange,F=t.categoryTypeObj,B=t.issuedate,H=t.inputValue,k=t.simplifyStatus,K=t.editPzPermission,Z=t.reviewLrAccountPermission,j=t.projectList,X=this.state,Y=X.activeKey,W=(X.tagValue,X.currentIdx,X.preview),z=(X.tagModal,X.rotate,X.page),V=(X.wpercent,X.manageModal),Q=X.carryoverModal,q=X.invioceModal,$=X.defineModal,ee=(X.deleteModal,X.jzsyModal),te=(X.isSeleck,X.deleteHasFj,this.props.modalTemp?this.props.modalTemp:(0,_.fromJS)({})),ne=this.props.accountList?this.props.accountList:(0,_.fromJS)({}),ae=[],re=void 0,ue=void 0;b&&b.get("vcList")&&b.get("vcList").map(function(e,t){ae.push(e.get("vcIndex")),re=e.get("year"),ue=e.get("month")});var ie=k?K:Z,le=function(e){return(0,A.beforejumpCxToLr)(e,p,d.default)},se=b.get("beBusiness"),oe=b.get("runningState"),ce=b.get("categoryType"),de=(b.get("debitAmount"),b.get("creditAmount"),b.get("parentCategoryList")),fe=b.get("categoryName")?b.get("categoryName"):"",ge=(A.categoryTypeName[b.get("categoryType")]&&A.categoryTypeName[b.get("categoryType")],A.runningStateType[b.get("runningState")]?A.runningStateType[b.get("runningState")]:""),me=("LB_FYZC"===b.get("categoryType")||b.get("categoryType"),b.get("parentUuid")?b.get("parentUuid"):b.get("uuid")),pe=({LB_YYSR:function(){return m.default.createElement(I.Yysz,{lsItemData:b,activeKey:Y,onChangeActiveKey:e.onChangeActiveKey})},LB_YYZC:function(){return m.default.createElement(I.Yysz,{lsItemData:b,activeKey:Y,onChangeActiveKey:e.onChangeActiveKey})},LB_FYZC:function(){return m.default.createElement(I.Fyzc,{lsItemData:b,activeKey:Y,onChangeActiveKey:e.onChangeActiveKey})},LB_XCZC:function(){return m.default.createElement(I.Xczc,{lsItemData:b,activeKey:Y,onChangeActiveKey:e.onChangeActiveKey})},LB_SFZC:function(){return m.default.createElement(I.Sfzc,{lsItemData:b,activeKey:Y,onChangeActiveKey:e.onChangeActiveKey})},LB_CQZC:function(){return m.default.createElement(I.Cqzc,{lsItemData:b,activeKey:Y,onChangeActiveKey:e.onChangeActiveKey})},LB_YYWSR:function(){return m.default.createElement(I.Yywsz,{lsItemData:b,activeKey:Y,onChangeActiveKey:e.onChangeActiveKey})},LB_YYWZC:function(){return m.default.createElement(I.Yywsz,{lsItemData:b,activeKey:Y,onChangeActiveKey:e.onChangeActiveKey})},LB_ZSKX:function(){return m.default.createElement(I.Zszf,{lsItemData:b,activeKey:Y,onChangeActiveKey:e.onChangeActiveKey})},LB_ZFKX:function(){return m.default.createElement(I.Zszf,{lsItemData:b,activeKey:Y,onChangeActiveKey:e.onChangeActiveKey})},LB_JK:function(){return m.default.createElement(I.JkTzZb,{lsItemData:b,activeKey:Y,onChangeActiveKey:e.onChangeActiveKey})},LB_TZ:function(){return m.default.createElement(I.JkTzZb,{lsItemData:b,activeKey:Y,onChangeActiveKey:e.onChangeActiveKey})},LB_ZB:function(){return m.default.createElement(I.JkTzZb,{lsItemData:b,activeKey:Y,onChangeActiveKey:e.onChangeActiveKey})},LB_ZZ:function(){return m.default.createElement(S.Nbzz,{lsItemData:b,activeKey:Y,onChangeActiveKey:e.onChangeActiveKey})},LB_ZJTX:function(){return m.default.createElement(S.Zjtx,{lsItemData:b,activeKey:Y,onChangeActiveKey:e.onChangeActiveKey})},LB_JZCB:function(){return m.default.createElement(S.Jzcb,{lsItemData:b,activeKey:Y,onChangeActiveKey:e.onChangeActiveKey})},LB_GGFYFT:function(){return m.default.createElement(S.Xmft,{lsItemData:b,activeKey:Y,onChangeActiveKey:e.onChangeActiveKey})},LB_ZCWJZZS:function(){return m.default.createElement(S.Zcwjzzs,{lsItemData:b,activeKey:Y,onChangeActiveKey:e.onChangeActiveKey})},LB_KJFP:function(){return m.default.createElement(S.FpKr,{lsItemData:b,activeKey:Y,onChangeActiveKey:e.onChangeActiveKey})},LB_FPRZ:function(){return m.default.createElement(S.FpKr,{lsItemData:b,activeKey:Y,onChangeActiveKey:e.onChangeActiveKey})},LB_JZSY:function(){return m.default.createElement(S.Jzsy,{lsItemData:b,activeKey:Y,onChangeActiveKey:e.onChangeActiveKey})}}[ce]||function(){return m.default.createElement(I.Other,{lsItemData:b,activeKey:Y,onChangeActiveKey:e.onChangeActiveKey})})(),_e=void 0;if(se){var Te="其他流水"===de.get(0)&&de.size>1?de.slice(1):"其他流水"!==de.get(0)?de:[];_e="LB_ZJTX"===ce?"长期资产折旧摊销":b.get("propertyCost")&&"LB_XCZC"!==ce&&"LB_FYZC"!==ce||b.get("assetType")&&"LB_CQZC"===ce?""+Te.reduce(function(e,t){return e+t+"_"},"")+fe:"LB_JZSY"===ce?"长期资产处置损益":""+Te.reduce(function(e,t){return e+t+"_"},"")+fe+(ge?"("+ge+")":"")}else _e="收付管理";var ye=b.get("enclosureList")?b.get("enclosureList").filter(function(e){return"TRUE"===e.get("imageOrFile")||"application/pdf"==e.get("mimeType")}):(0,_.fromJS)([]);return m.default.createElement("div",null,m.default.createElement(s.default,{className:"ylls-wrap",width:479,placement:"right",closable:!1,onClose:a,visible:!0,mask:!1},m.default.createElement("div",{className:"ylls-title"},m.default.createElement("span",{className:"ylls-title-text"},"查看流水"),m.default.createElement("span",{onClick:a,className:"ylls-title-icon"},m.default.createElement(c.default,{type:"close"}))),m.default.createElement("div",{className:"ylls-opration-wrap"},w?m.default.createElement("div",{key:"z4",className:"ylls-title-btn"},m.default.createElement(f.default,{type:"ghost",className:"handle-btn",disabled:!ie||U,onClick:function(){b.get("beCertificate")?n(N.deleteVcItemFetch(re,ue,ae,B,H,!0,P,G,R)):n(N.runningInsertVc((0,_.fromJS)([{uuid:G.get("parentUuid")?G.get("parentUuid"):G.get("uuid"),flowNumber:G.get("flowNumber")}]),"Business",B,H,!0,P,G,R))}},b.get("beCertificate")?k?"删除凭证":"反审核":k?"生成凭证":"审核")):"",w?function(t){t.get("waitReceiving"),t.get("waitPaying");var a=t.get("makeOut"),r=t.get("carryover"),u=t.get("certified"),i=t.get("received"),l=t.get("receiving"),s=(t.get("turnOut"),t.get("payed")),o=t.get("paying"),c=t.get("shouldReturn"),d=t.get("runningType"),p=[];switch(o){case"1":case"3":p.push(m.default.createElement("div",{key:"z3",className:"ylls-title-btn"},m.default.createElement(f.default,{type:"ghost",className:"handle-btn",disabled:!g,onClick:function(){n(N.getBusinessManagerModal(t,function(){e.setState({manageModal:!0})},"credit"))}},"付款")))}switch(i){case"1":case"3":p.push(m.default.createElement("div",{key:"c3",className:"ylls-title-btn"},m.default.createElement(f.default,{type:"ghost",className:"handle-btn",disabled:!g,onClick:function(){n(N.getBusinessManagerModal(t,function(){e.setState({manageModal:!0})},"debit"))}},"退款")))}switch(s){case"1":case"3":p.push(m.default.createElement("div",{key:"d3",className:"ylls-title-btn"},m.default.createElement(f.default,{type:"ghost",className:"handle-btn",disabled:!g,onClick:function(){n(N.getBusinessManagerModal(t,function(){e.setState({manageModal:!0})},"debit"))}},"退款")))}switch(l){case"1":case"3":p.push(m.default.createElement("div",{key:"e3",className:"ylls-title-btn"},m.default.createElement(f.default,{type:"ghost",className:"handle-btn",disabled:!g,onClick:function(){n(N.getBusinessManagerModal(t,function(){e.setState({manageModal:!0})},"debit"))}},"收款")))}switch(c){case"1":case"3":p.push(m.default.createElement("div",{key:"f3",className:"ylls-title-btn"},m.default.createElement(f.default,{type:"ghost",className:"handle-btn",disabled:!g,onClick:function(){n(N.getBusinessManagerModal(t,function(){e.setState({manageModal:!0})},"credit"))}},"退")))}return 1==a&&p.push(m.default.createElement(f.default,{type:"ghost",className:"handle-btn",disabled:!g,onClick:function(){n(N.getBusinessInvioceModal(t,function(){e.setState({invioceModal:!0})}))}},"开票")),1==r&&"LX_ZZS_YKP"!==d&&"LX_ZZS_WKP"!==d&&"LX_ZZS_YRZ"!==d&&"LX_ZZS_WRZ"!==d?p.push(m.default.createElement("div",{className:"ylls-title-btn"},m.default.createElement(f.default,{type:"ghost",className:"handle-btn",disabled:!g,onClick:function(){n("LB_CQZC"===ce?N.getBusinessJzsyModal(t,function(){e.setState({jzsyModal:!0})}):N.getBusinessCarryoverModal(t,function(){e.setState({carryoverModal:!0})}))}},"结转"))):1==r&&"LB_CQZC"===ce&&m.default.createElement("div",{className:"ylls-title-btn"},m.default.createElement(f.default,{type:"ghost",className:"handle-btn",disabled:!g,onClick:function(){n(N.getBusinessJzsyModal(t,function(){e.setState({jzsyModal:!0})}))}},"结转")),1==u&&p.push(m.default.createElement(f.default,{type:"ghost",className:"handle-btn",disabled:!g,onClick:function(){n(N.getBusinessDefineModal(t,function(){e.setState({defineModal:!0})}))}},"认证")),p}(b):"",m.default.createElement("span",{className:M.some(function(e,t){return(e.get("parentUuid")?e.get("parentUuid"):e.get("uuid"))===me&&0===t})?"ylls-opration-icon-disabled":"ylls-opration-icon",onClick:function(){if(!M.some(function(e,t){return(e.get("parentUuid")?e.get("parentUuid"):e.get("uuid"))===me&&0===t})){var e=M.findIndex(function(e){return(e.get("parentUuid")?e.get("parentUuid"):e.get("uuid"))===me})-1;n(L.getYllsBusinessData(M.get(e),R))}}},m.default.createElement(c.default,{type:"left-square"})),m.default.createElement("span",{className:M.some(function(e,t){return(e.get("parentUuid")?e.get("parentUuid"):e.get("uuid"))===me&&t===M.size-1})?"ylls-opration-icon-disabled":"ylls-opration-icon",onClick:function(){if(!M.some(function(e,t){return(e.get("parentUuid")?e.get("parentUuid"):e.get("uuid"))===me&&t===M.size-1})){var e=M.findIndex(function(e){return(e.get("parentUuid")?e.get("parentUuid"):e.get("uuid"))===me})+1;n(L.getYllsBusinessData(M.get(e),R))}}},m.default.createElement(c.default,{type:"right-square"})),m.default.createElement("span",{className:g?"ylls-opration-icon":"ylls-opration-icon-disabled",onClick:function(){g&&(a(),se||"STATE_ZZ"===oe?"STATE_YYSR_JZCB"===oe?le(function(){return n(N.jumpCalculateCxToLr(b,"modify","LB_JZCB",M))}):"STATE_FPRZ_CG"===oe||"STATE_FPRZ_TG"===oe?le(function(){return n(N.jumpCalculateCxToLr(b,"modify","LB_FPRZ",M))}):"STATE_KJFP_XS"===oe||"STATE_KJFP_TS"===oe?le(function(){return n(N.jumpCalculateCxToLr(b,"modify","LB_KJFP",M))}):"STATE_ZCWJZZS"===oe?le(function(){return n(N.jumpCalculateCxToLr(b,"modify","LB_ZCWJZZS",M))}):"STATE_ZZ"===oe?le(function(){return n(N.jumpCalculateCxToLr(b,"modify","LB_ZZ",M))}):"STATE_CQZC_ZJTX"===oe?le(function(){return n(N.jumpCalculateCxToLr(b,"modify","LB_ZJTX",M))}):"STATE_GGFYFT"===oe?le(function(){return n(N.jumpCommonCharge(b,M))}):"STATE_CQZC_JZSY"===oe?le(function(){return n(N.getInitLraccountJzsy(b,M))}):n(v.getRunningBusinessDuty(b.get("flowNumber"),b.get("uuid"),M)):n(N.getBusinessPayment(b,"",M)))}},m.default.createElement(T.XfnIcon,{type:"sob-edit",disabled:!g,style:{fontSize:"22px",position:"relative",top:"1px"}})),D?"":m.default.createElement("span",{className:g&&!U?"ylls-opration-icon":"ylls-opration-icon-disabled",onClick:function(){if(g&&!U)if(M.some(function(e,t){return(e.get("parentUuid")?e.get("parentUuid"):e.get("uuid"))===me&&t===M.size-1}))n(N.deleteSingleFlow(me,function(){a(),P()}));else{var e=M.findIndex(function(e){return(e.get("parentUuid")?e.get("parentUuid"):e.get("uuid"))===me})+1;n(N.deleteSingleFlow(me,function(){n(L.getYllsBusinessData(M.get(e),function(){P()}))}))}}},m.default.createElement(T.XfnIcon,{type:"sob-delete"}))),m.default.createElement("div",{className:"ylls-drawer-content"},m.default.createElement("ul",{className:"ylls-item-detail"},m.default.createElement("li",null,m.default.createElement("span",null,"流水号："),m.default.createElement("span",null,b.get("flowNumber"))),m.default.createElement("li",null,m.default.createElement("span",null,"日期："),m.default.createElement("span",null,b.get("runningDate"))),m.default.createElement("li",null,m.default.createElement("span",null,"类别："),m.default.createElement("span",null,_e))),se?pe:m.default.createElement(S.Sfgl,{lsItemData:b,activeKey:Y,onChangeActiveKey:this.onChangeActiveKey}),m.default.createElement("div",{style:{overflow:"hidden"}},(b.get("enclosureList")||[]).map(function(t,a){return m.default.createElement("div",{className:"upload",key:a},m.default.createElement("div",{className:"plus",onClick:function(){if("TRUE"===t.get("imageOrFile")||"application/pdf"==t.get("mimeType")){var n=0;ye.forEach(function(e,a){t.get("enclosurePath")!==e.get("enclosurePath")||(n=a)}),e.setState({preview:!0,rotate:0,page:n})}else o.default.warn("仅图片及PDF格式支持预览")}},m.default.createElement("img",{src:(0,E.showImg)(t.get("imageOrFile"),t.get("fileName"))})),m.default.createElement("div",null,m.default.createElement("p",null,t.get("fileName")),m.default.createElement("span",null,t.get("size")>=1024?(t.get("size")/1024).toFixed(2)+"M":t.get("size")+"kb"),m.default.createElement("span",{style:{display:g?"":"none"},onClick:function(){return n(N.cxlsDownloadEnclosure(t.get("signedUrl"),t.get("fileName")))}},m.default.createElement(c.default,{type:"download"})),"无标签"===t.get("label")?"":m.default.createElement("span",{className:"tag"},t.get("label"))))})),m.default.createElement(O.default,{page:z,dispatch:n,preview:W,downloadPermission:g,previewImgArr:ye,downloadEnclosure:function(e,t){return n((0,h.allDownloadEnclosure)(e,t))},closePreviewModal:function(){return e.setState({preview:!1})},type:"ls"}))),m.default.createElement(d.default,{visible:V,onCancel:function(){e.setState({manageModal:!1}),n(N.changeCxAccountCommonOutString("modalTemp",(0,_.fromJS)({runningDate:(0,E.formatDate)()})))},className:"single-manager",title:("debit"===J?"收款":"付款")+"核销",okText:"保存",onOk:function(){n(N.insertlrAccountManagerModal(function(){e.setState({manageModal:!1}),n(L.getYllsBusinessData(b,R))},F))}},m.default.createElement("div",{className:"manager-content"},m.default.createElement("div",null,m.default.createElement("label",null,"往来单位："),(x&&x.get("code"))+" "+(x&&x.get("name"))),m.default.createElement("div",{className:"manager-item"},m.default.createElement("label",null,"日期："),m.default.createElement(l.default,{allowClear:!1,value:te.get("runningDate")?(0,y.default)(te.get("runningDate")):"",onChange:function(e){var t=e.format("YYYY-MM-DD");n(N.changeCxAccountCommonOutString(["modalTemp","runningDate"],t))}})),m.default.createElement("div",{className:"manager-item"},m.default.createElement("label",null,"摘要："),m.default.createElement(i.default,{value:te.get("runningAbstract"),onChange:function(e){n(N.changeCxAccountCommonOutString(["modalTemp","runningAbstract"],e.target.value))}})),m.default.createElement("div",{className:"manager-item"},m.default.createElement("label",null,("debit"===J?"收款":"付款")+"金额："),m.default.createElement(i.default,{value:te.get("handlingAmount"),onChange:function(e){(0,E.numberTest)(e,function(e){n(N.changeCxAccountCommonOutString(["modalTemp","handlingAmount"],e))})}})),m.default.createElement("div",{className:"manager-item"},m.default.createElement("label",null,"账户："),m.default.createElement(u.default,{value:te.get("accountName"),onChange:function(e){var t=e.split(C.TREE_JOIN_STR)[0];e.split(C.TREE_JOIN_STR)[1];n(N.changeCxAccountCommonOutString(["modalTemp","accountName"],e)),n(N.changeCxAccountCommonOutString(["modalTemp","accountUuid"],t))}},ne.getIn([0,"childList"])?ne.getIn([0,"childList"]).map(function(e,t){return m.default.createElement(Option,{key:t,value:""+e.get("uuid")+C.TREE_JOIN_STR+e.get("name")},e.get("name"))}):[])))),m.default.createElement(d.default,{visible:Q,onCancel:function(){e.setState({carryoverModal:!1}),n(N.changeCxAccountCommonOutString("modalTemp",(0,_.fromJS)({runningDate:(0,E.formatDate)()})))},className:"single-manager",title:"成本结转",okText:"保存",onOk:function(){n(N.insertlrAccountCarryoverModal(function(){e.setState({carryoverModal:!1}),n(L.getYllsBusinessData(b,R))},F))}},m.default.createElement("div",{className:"manager-content"},m.default.createElement("div",{className:"manager-item"},m.default.createElement("label",null,"日期："),m.default.createElement(l.default,{allowClear:!1,value:te.get("runningDate")?(0,y.default)(te.get("runningDate")):"",onChange:function(e){var t=e.format("YYYY-MM-DD");n(N.changeCxAccountCommonOutString(["modalTemp","runningDate"],t))}})),m.default.createElement("div",{className:"manager-item"},m.default.createElement("label",null,"摘要："),m.default.createElement(i.default,{value:te.get("runningAbstract"),onChange:function(e){n(N.changeCxAccountCommonOutString(["modalTemp","runningAbstract"],e.target.value))}})),m.default.createElement("div",{className:"manager-item"},m.default.createElement("label",null,"金额："),m.default.createElement(i.default,{value:te.get("carryoverAmount"),onChange:function(e){(0,E.numberTest)(e,function(e){n(N.changeCxAccountCommonOutString(["modalTemp","carryoverAmount"],e))})}})))),m.default.createElement(d.default,{visible:q,onCancel:function(){e.setState({invioceModal:!1}),n(N.changeCxAccountCommonOutString("modalTemp",(0,_.fromJS)({runningDate:(0,E.formatDate)()})))},className:"single-manager",title:"开具发票",okText:"保存",onOk:function(){n(N.insertlrAccountInvioceModal(function(){e.setState({invioceModal:!1}),n(L.getYllsBusinessData(b,R))},F))}},m.default.createElement("div",{className:"manager-content"},m.default.createElement("div",{className:"manager-item"},m.default.createElement("label",null,"日期："),m.default.createElement(l.default,{allowClear:!1,value:te.get("runningDate")?(0,y.default)(te.get("runningDate")):"",onChange:function(e){var t=e.format("YYYY-MM-DD");n(N.changeCxAccountCommonOutString(["modalTemp","runningDate"],t))}})),m.default.createElement("div",{className:"manager-item"},m.default.createElement("label",null,"摘要："),m.default.createElement(i.default,{value:te.get("runningAbstract"),onChange:function(e){n(N.changeCxAccountCommonOutString(["modalTemp","runningAbstract"],e.target.value))}})))),m.default.createElement(d.default,{visible:$,onCancel:function(){e.setState({defineModal:!1}),n(N.changeCxAccountCommonOutString("modalTemp",(0,_.fromJS)({runningDate:(0,E.formatDate)()})))},className:"single-manager",title:"发票认证",okText:"保存",onOk:function(){n(N.insertlrAccountInvioceDefineModal(function(){e.setState({defineModal:!1}),n(L.getYllsBusinessData(b,R))},F))}},m.default.createElement("div",{className:"manager-content"},m.default.createElement("div",{className:"manager-item"},m.default.createElement("label",null,"日期："),m.default.createElement(l.default,{allowClear:!1,value:te.get("runningDate")?(0,y.default)(te.get("runningDate")):"",onChange:function(e){var t=e.format("YYYY-MM-DD");n(N.changeCxAccountCommonOutString(["modalTemp","runningDate"],t))}})),m.default.createElement("div",{className:"manager-item"},m.default.createElement("label",null,"摘要："),m.default.createElement(i.default,{value:te.get("runningAbstract"),onChange:function(e){n(N.changeCxAccountCommonOutString(["modalTemp","runningAbstract"],e.target.value))}})))),m.default.createElement(d.default,{visible:ee,onCancel:function(){e.setState({jzsyModal:!1}),n(N.changeCxAccountCommonOutString("modalTemp",(0,_.fromJS)({runningDate:(0,E.formatDate)()})))},className:"single-manager",title:"结转损益",okText:"保存",onOk:function(){n(N.insertlrAccountJzsyModal(function(){return e.setState({jzsyModal:!1})}))}},m.default.createElement("div",{className:"manager-content"},m.default.createElement("div",{className:"manager-item"},m.default.createElement("label",null,"日期："),m.default.createElement(l.default,{allowClear:!1,value:te.get("runningDate")?(0,y.default)(te.get("runningDate")):"",onChange:function(e){var t=e.format("YYYY-MM-DD");n(N.changeCxAccountCommonOutString(["modalTemp","runningDate"],t))}}),b&&b.get("beProject")?m.default.createElement(r.default,{className:"use-unuse-style",style:{marginLeft:".2rem"},checked:te.get("usedProject"),checkedChildren:"项目",onChange:function(){n(N.changeCxAccountCommonOutString(["modalTemp","usedProject"],!te.get("usedProject")))}}):""),m.default.createElement("div",{className:"manager-item"},m.default.createElement("label",null,"摘要："),m.default.createElement(i.default,{value:te.get("runningAbstract"),onChange:function(e){n(N.changeCxAccountCommonOutString(["modalTemp","runningAbstract"],e.target.value))}})),te.get("usedProject")?m.default.createElement("div",{className:"manager-item"},m.default.createElement("label",null,"项目："),m.default.createElement(u.default,{combobox:!0,showSearch:!0,value:(te.getIn(["projectCard","code"])?te.getIn(["projectCard","code"]):"")+" "+(te.getIn(["projectCard","name"])?te.getIn(["projectCard","name"]):""),onChange:function(e){var t=e.split(C.TREE_JOIN_STR),a=t[0],r=t[1],u=t[2];n(N.changeCxAccountCommonOutString(["modalTemp","projectCard"],(0,_.fromJS)({uuid:a,code:r,name:u})))}},j&&j.map(function(e,t){return m.default.createElement(Option,{key:t,value:""+e.get("uuid")+C.TREE_JOIN_STR+e.get("code")+C.TREE_JOIN_STR+e.get("name")},e.get("code")+" "+e.get("name"))}))):"",m.default.createElement("div",{className:"manager-item"},m.default.createElement("label",null,te.get("netProfitAmount")>0?"净收益金额：":"净损失金额："),te.get("netProfitAmount")>0?te.get("netProfitAmount"):te.get("lossAmount")),m.default.createElement("div",{className:"manager-item"},m.default.createElement("label",null,"资产原值："),m.default.createElement(i.default,{value:te.getIn(["acAssets","originalAssetsAmount"]),onChange:function(e){(0,E.numberTest)(e,function(e){n(N.changeCxAccountCommonOutString(["modalTemp","acAssets","originalAssetsAmount"],e)),n(N.calculateGainForJzsy())})}})),m.default.createElement("div",{className:"manager-item"},m.default.createElement("label",null,"累计折旧摊销："),m.default.createElement(i.default,{value:te.getIn(["acAssets","depreciationAmount"]),onChange:function(e){(0,E.numberTest)(e,function(e){n(N.changeCxAccountCommonOutString(["modalTemp","acAssets","depreciationAmount"],e)),n(N.calculateGainForJzsy())})}})),m.default.createElement("div",{className:"manager-item"},m.default.createElement("label",null,"处置金额："),G?(0,E.formatMoney)(G.get("amount")-G.get("tax")):""))))}}]),t}())||a;t.default=R},1292:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(1),l=(r=i)&&r.__esModule?r:{default:r},s=n(17),o=n(22);var c=(0,s.immutableRenderDecorator)(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),u(t,[{key:"render",value:function(){var e=this.props.itemData,t=e.get("tax"),n=e.get("taxRate"),a=(e.get("billStates"),e.get("billType")),r=a?"bill_other"===a?"其他票据":{bill_common:"发票(税额"+(0,o.formatMoney)(t,2,"")+"，税率"+n+"%)",bill_special:"增值税发票(税额"+(0,o.formatMoney)(t,2,"")+"，税率"+n+"%)"}[a]:"";return a?l.default.createElement("li",null,l.default.createElement("span",null,"票据："),l.default.createElement("span",null,r)):""}}]),t}())||a;t.default=c},1293:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=c(n(14)),u=c(n(1272)),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(78),n(1271);var l=c(n(1)),s=n(17),o=n(22);function c(e){return e&&e.__esModule?e:{default:e}}var d=u.default.Panel,f=(0,s.immutableRenderDecorator)(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),i(t,[{key:"render",value:function(){var e=this.props,t=e.title,n=(e.lsItemData,e.activeKey),a=e.onChangeActiveKey,i=e.itemList,s=e.amountStr,c=e.amountStr2,f=l.default.createElement("div",{className:n.length>0?"ylls-item-child-title":"ylls-item-child-title-no"},l.default.createElement("span",null,t),l.default.createElement("span",null,n.length>0?"收起":"展开",l.default.createElement(r.default,{type:n.length>0?"up":"down"})));return l.default.createElement("div",{className:"ylls-item-child-list"},i&&i.size?l.default.createElement(u.default,{bordered:!1,activeKey:n,onChange:a},l.default.createElement(d,{showArrow:!1,header:f,key:"1"},l.default.createElement("ul",null,i.map(function(e,t){return l.default.createElement("li",{className:"ylls-item-child-item",key:t},l.default.createElement("div",null,l.default.createElement("span",null,""+e.get("categoryName")),l.default.createElement("span",null,"流水号：",e.get("flowNumber"))),l.default.createElement("div",null,l.default.createElement("span",null,"金额"),l.default.createElement("span",null,"amount-tax"===s?(0,o.formatMoney)(Number(e.get("amount"))-Number(e.get("tax")),2,""):s?(0,o.formatMoney)(e.get(s)?e.get(s):e.get(c),2,""):(0,o.formatMoney)(e.get("handleAmount"),2,""))))})))):"")}}]),t}())||a;t.default=f},1301:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,n=arguments[1];return((e={},o(e,a.INIT_LR_ACOUNT_STATE,function(){return c}),o(e,a.INIT_LR_ACCOUNT,function(){var e=t.get("hideCategoryList");t.getIn(["flags","paymentType"]);if("init"===n.strJudgeType){var a=t.get("issues");t=c.set("issues",a)}if("saveAndNew"===n.strJudgeType){var u=c.get("cardTemp"),i=t.getIn(["cardTemp","payableRate"]),l=t.getIn(["cardTemp","outputRate"]),s=t.getIn(["cardTemp","scale"]),o=t.getIn(["cardTemp","runningDate"]),d=t.getIn(["cardTemp","categoryType"]),f=t.getIn(["cardTemp","name"]);t=t.setIn(["flags","insertOrModify"],"insert").setIn(["flags","runningInsertOrModify"],"insert").set("cardTemp",u).setIn(["cardTemp","payableRate"],i).setIn(["cardTemp","outputRate"],l).setIn(["cardTemp","categoryType"],d).setIn(["cardTemp","scale"],s).setIn(["cardTemp","runningDate"],o).setIn(["cardTemp","name"],f).setIn(["flags","isQueryByBusiness"],!1).setIn(["flags","specialStateforAssets"],!1).setIn(["flags","specialStateforAccrued"],!1).setIn(["flags","needRelaList"],!1).setIn(["flags","uuidList"],(0,r.fromJS)([])).setIn(["flags","isQuery"],!1).set("enclosureList",(0,r.fromJS)([])).set("label",(0,r.fromJS)([])).set("needDeleteUrl",(0,r.fromJS)([]))}else if("afterSave"===n.strJudgeType){var g=(0,r.fromJS)(n.receivedData),m=t.getIn(["flags","runningInsertOrModify"]),p=t.getIn(["cardTemp","runningState"]);t=t.set("cardTemp",g).setIn(["flags","insertOrModify"],"modify").setIn(["flags","amount"],g.get("amount")).setIn(["flags","runningInsertOrModify"],"modify").setIn(["flags","isQuery"],!0),n.callBackObj.flowNumber&&(t=t.setIn(["cardTemp","flowNumber"],n.callBackObj.flowNumber)),"insert"===m&&n.callBackObj.uuid&&(t=t.setIn(["cardTemp","uuid"],n.callBackObj.uuid)),"STATE_JK_ZFLX"!==p&&"STATE_TZ_SRGL"!==p&&"STATE_TZ_SRLX"!==p&&"STATE_ZB_ZFLR"!==p&&"STATE_XC_FF"!==p&&"STATE_XC_JN"!==p&&"STATE_SF_JN"!==p&&"STATE_ZS_TH"!==p&&"STATE_ZF_SH"!==p&&"STATE_SF_SFJM"!==p||(t=t.setIn(["flags","specialStateforAccrued"],!0))}else if("fromCxAccount"===n.strJudgeType){var _=(0,r.fromJS)(n.receivedData.result),T=_.get("enclosureList")?(0,r.fromJS)(_.get("enclosureList")):(0,r.fromJS)([]),y=_.get("runningState"),C=t.getIn(["cardTemp","scale"]),A=t.getIn(["flags","uuidList"]),E=t.getIn(["flags","paymentType"]),I=t.get("calculateTemp");t=c.set("cardTemp",_).set("calculateTemp",I).setIn(["flags","PageTab"],"business").setIn(["flags","insertOrModify"],"modify").setIn(["flags","paymentType"],E).setIn(["flags","runningInsertOrModify"],"modify").setIn(["flags","amount"],_.get("amount")).setIn(["flags","isQuery"],!0).setIn(["cardTemp","name"],_.get("categoryName")).set("hideCategoryList",e).set("enclosureList",T).setIn(["cardTemp","queryObj","amount"],_.get("amount")).setIn(["cardTemp","queryObj","handleAmount"],_.get("handleAmount")).setIn(["cardTemp","queryObj","offsetAmount"],_.get("offsetAmount")),"LB_XCZC"===_.get("categoryType")&&(t=t.setIn(["cardTemp","queryObj","personAccumulationAmount"],_.getIn(["acPayment","personAccumulationAmount"])).setIn(["cardTemp","queryObj","personSocialSecurityAmount"],_.getIn(["acPayment","personSocialSecurityAmount"])).setIn(["cardTemp","queryObj","incomeTaxAmount"],_.getIn(["acPayment","incomeTaxAmount"])).setIn(["cardTemp","queryObj","companySocialSecurityAmount"],_.getIn(["acPayment","companySocialSecurityAmount"])).setIn(["cardTemp","queryObj","companyAccumulationAmount"],_.getIn(["acPayment","companyAccumulationAmount"]))),"STATE_JK_ZFLX"!==y&&"STATE_TZ_SRGL"!==y&&"STATE_TZ_SRLX"!==y&&"STATE_ZB_ZFLR"!==y&&"STATE_XC_FF"!==y&&"STATE_XC_JN"!==y&&"STATE_SF_JN"!==y&&"STATE_ZS_TH"!==y&&"STATE_ZF_SH"!==y&&"STATE_SF_SFJM"!==y||!_.get("paymentList").size||(t=t.setIn(["flags","specialStateforAccrued"],!0)),(n.uuidList||A.size)&&(t=t.setIn(["flags","needRelaList"],!0)),n.uuidList?t=t.setIn(["flags","uuidList"],n.uuidList):A.size&&(t=t.setIn(["flags","uuidList"],A)),Number(_.get("amount"))===Number(_.get("currentAmount"))&&(t=t.setIn(["flags","allGetFlow"],!0)),t=t.setIn(["flags","isQueryByBusiness"],!0).setIn(["cardTemp","scale"],C).setIn(["flags","currentSwitchUuid"],n.uuid)}return t}),o(e,a.INIT_LR_ACCOUNT_SETTINGS,function(){return t=t.setIn(["cardTemp","payableRate"],n.rate.payableRate).setIn(["cardTemp","outputRate"],n.rate.outputRate).setIn(["cardTemp","scale"],n.rate.scale).set("hideCategoryList",(0,r.fromJS)(n.hideCategoryList))}),o(e,a.COST_TRANSFER_FROM_CXLS_JUMP_TO_LRLS,function(){var e=t.getIn(["flags","uuidList"]);return t=(t=c.setIn(["cardTemp","payableRate"],n.rate.payableRate).setIn(["cardTemp","outputRate"],n.rate.outputRate).setIn(["cardTemp","scale"],n.rate.scale).set("hideCategoryList",(0,r.fromJS)(n.hideCategoryList)).setIn(["flags","currentSwitchUuid"],n.item.get("uuid"))).setIn(["flags","PageTab"],"payment").setIn(["flags","paymentType"],"LB_JZCB"),n.fromRefresh&&(t=t.setIn(["flags","isQueryByBusiness"],!0).setIn(["flags","runningInsertOrModify"],"modify")),(n.uuidList||e.size)&&(t=t.setIn(["flags","needRelaList"],!0)),n.uuidList?t=t.setIn(["flags","uuidList"],n.uuidList):e.size&&(t=t.setIn(["flags","uuidList"],e)),t}),o(e,a.INVOICE_AUTH_FROM_CXLS_JUMP_TO_LRLS,function(){var e=t.getIn(["flags","uuidList"]);return t=(t=c.setIn(["cardTemp","payableRate"],n.rate.payableRate).setIn(["cardTemp","outputRate"],n.rate.outputRate).setIn(["cardTemp","scale"],n.rate.scale).set("hideCategoryList",(0,r.fromJS)(n.hideCategoryList)).setIn(["flags","currentSwitchUuid"],n.item.get("uuid"))).setIn(["flags","PageTab"],"payment").setIn(["flags","paymentType"],"LB_FPRZ"),n.fromRefresh&&(t=t.setIn(["flags","isQueryByBusiness"],!0).setIn(["flags","runningInsertOrModify"],"modify")),(n.uuidList||e.size)&&(t=t.setIn(["flags","needRelaList"],!0)),n.uuidList?t=t.setIn(["flags","uuidList"],n.uuidList):e.size&&(t=t.setIn(["flags","uuidList"],e)),t}),o(e,a.CALCULATE_FROM_CXLS_JUMP_TO_LRLS,function(){var e=t.getIn(["flags","uuidList"]);return t=(t=c.setIn(["cardTemp","payableRate"],n.rate.payableRate).setIn(["cardTemp","outputRate"],n.rate.outputRate).setIn(["cardTemp","scale"],n.rate.scale).set("hideCategoryList",(0,r.fromJS)(n.hideCategoryList))).setIn(["flags","PageTab"],"payment").setIn(["flags","paymentType"],n.pageType),n.fromRefresh&&(t=t.setIn(["flags","isQueryByBusiness"],!0).setIn(["flags","runningInsertOrModify"],"modify")),(n.uuidList||e.size)&&(t=t.setIn(["flags","needRelaList"],!0)),n.uuidList?t=t.setIn(["flags","uuidList"],n.uuidList):e.size&&(t=t.setIn(["flags","uuidList"],e)),t}),o(e,a.CALCULATE_CHANGE_QUERY,function(){return t=t.setIn(["flags","isQueryByBusiness"],!0).setIn(["flags","runningInsertOrModify"],"modify")}),o(e,a.INVOICING_FROM_CXLS_JUMP_TO_LRLS,function(){var e=t.getIn(["flags","uuidList"]);return t=(t=c.setIn(["cardTemp","payableRate"],n.rate.payableRate).setIn(["cardTemp","outputRate"],n.rate.outputRate).setIn(["cardTemp","scale"],n.rate.scale).set("hideCategoryList",(0,r.fromJS)(n.hideCategoryList)).setIn(["flags","currentSwitchUuid"],n.item.get("uuid"))).setIn(["flags","PageTab"],"payment").setIn(["flags","paymentType"],"LB_KJFP"),n.fromRefresh&&(t=t.setIn(["flags","isQueryByBusiness"],!0).setIn(["flags","runningInsertOrModify"],"modify")),(n.uuidList||e.size)&&(t=t.setIn(["flags","needRelaList"],!0)),n.uuidList?t=t.setIn(["flags","uuidList"],n.uuidList):e.size&&(t=t.setIn(["flags","uuidList"],e)),t}),o(e,a.SELECT_ACCOUNT_RUNNING_CATEGORY,function(){t=t.setIn(["flags","insertOrModify"],"modify").setIn(["flags","showModal"],!0).mergeIn(["cardTemp"],(0,r.fromJS)(n.name)).deleteIn(["cardTemp","parentUuid"]).setIn(["cardTemp","assetType"],""),n.name.beProject&&(t=t.setIn(["cardTemp","usedProject"],!0).setIn(["cardTemp","projectCard"],(0,r.fromJS)([{uuid:""}])));var e=t.getIn(["cardTemp","uuid"]);return t.setIn(["cardTemp","categoryUuid"],e)}),o(e,a.TRANSFER_OUT_FROM_CXLS_JUMP_TO_LRLS,function(){var e=t.getIn(["flags","uuidList"]);return(n.uuidList||e.size)&&(t=t.setIn(["flags","needRelaList"],!0)),n.uuidList?t=t.setIn(["flags","uuidList"],n.uuidList):e.size&&(t=t.setIn(["flags","uuidList"],e)),t.setIn(["flags","currentSwitchUuid"],n.item.get("uuid"))}),o(e,a.TRANSFER_OUT_FROM_CXLS_JUMP_TO_NBZZ,function(){var e=t.getIn(["flags","uuidList"]);return(n.uuidList||e.size)&&(t=t.setIn(["flags","needRelaList"],!0)),n.uuidList?t=t.setIn(["flags","uuidList"],n.uuidList):e.size&&(t=t.setIn(["flags","uuidList"],e)),t.setIn(["flags","currentSwitchUuid"],n.item.get("uuid"))}),o(e,a.TRANSFER_OUT_FROM_CXLS_JUMP_TO_ZJTX,function(){var e=t.getIn(["flags","uuidList"]);return(n.uuidList||e.size)&&(t=t.setIn(["flags","needRelaList"],!0)),n.uuidList?t=t.setIn(["flags","uuidList"],n.uuidList):e.size&&(t=t.setIn(["flags","uuidList"],e)),t.setIn(["flags","currentSwitchUuid"],n.item.get("uuid"))}),o(e,a.TRANSFER_OUT_FROM_CXLS_JUMP_TO_ZJTX,function(){var e=t.getIn(["flags","uuidList"]);return(n.uuidList||e.size)&&(t=t.setIn(["flags","needRelaList"],!0)),n.uuidList?t=t.setIn(["flags","uuidList"],n.uuidList):e.size&&(t=t.setIn(["flags","uuidList"],e)),t.setIn(["flags","currentSwitchUuid"],n.item.get("uuid"))}),o(e,a.SELECT_RUNNING_AC_INFO,function(){return t=t.setIn(["cardTemp",n.idPlace],n.acid).setIn(["cardTemp",n.namePlace],n.acFullName).setIn(["cardTemp",n.assPlace],(0,r.fromJS)([]))}),o(e,a.SELECT_ACCOUNT_ASS,function(){var e=n.assCategory,a=t.getIn(["cardTemp",n.place]),u=a.findIndex(function(t){return t.get("assCategory")===e});return t=-1===u?t.updateIn(["cardTemp",n.place],function(t){return t.set(t.size,(0,r.fromJS)({assId:n.assId,assName:n.assName,assCategory:e}))}):t.updateIn(["cardTemp",n.place],function(e){return e.setIn([u,"assId"],n.assId).setIn([u,"assName"],n.assName)})}),o(e,a.CHANGE_LR_ACCOUNT_COMMON_STRING,function(){return n.placeArr&&(t=t.setIn(n.placeArr,n.value)),n.place&&(t=t.set(n.place,n.value)),t}),o(e,a.GET_RUNNING_ACCOUNT_INFO,function(){switch(n.wordType){case"VAT":t=t.setIn(["cardTemp","paymentList"],(0,r.fromJS)(n.receivedData.resultList));break;case"socialSecurity":t=t.setIn(["cardTemp","socialSecurityAmount"],n.receivedData.socialSecurityAmount);break;case"fund":t=t.setIn(["cardTemp","accumulationAmount"],n.receivedData.accumulationAmount);break;case"sfAmount":t=t.setIn(["cardTemp","sfAmount"],n.receivedData.amount);break;case"other":t=t.setIn(["cardTemp","paymentList"],(0,r.fromJS)(n.receivedData.resultList));case"accruedZZS":t=t.setIn(["cardTemp","preAmount"],n.receivedData.amount);break;default:t=t.setIn(["cardTemp","payableAmount"],n.receivedData.amount).setIn(["cardTemp","preAmount"],n.receivedData.preAmount)}return t}),o(e,a.CHANGE_LR_ACCOUNT_ACCOUNT_NAME,function(){var e=n.value.split(i.TREE_JOIN_STR);return t=t.setIn([n.tab+"Temp",n.placeUUid],e[0]).setIn([n.tab+"Temp",n.placeName],e[1])}),o(e,a.CHANGE_ACCOUNT_BILL_TYPE,function(){var e=t.getIn(["cardTemp","taxRate"]);return e&&(t=t.setIn(["cardTemp","tax"],(Number(e)*Number(n.value)/100).toFixed(2))),t=t.setIn(["cardTemp","amount"],n.value)}),o(e,a.AUTO_CALCULATE_BILL_INFO,function(){var e=n.strJudgeType;return function(e,t){var n=t.getIn(["cardTemp","priceTaxTotal"]),a=Number(t.getIn(["cardTemp","taxRate"]))/100,r=t.getIn(["cardTemp","tax"]);"priceTaxTotal"==e?r=Number(n)-Number(n)/(1+a):"taxRate"==e&&(r=""==n?"":Number(n)-Number(n)/(1+a));return t=t.setIn(["cardTemp","tax"],Number(r).toFixed(2))}(e,t)}),o(e,a.CHANGE_ACCOUNT_TAX_RATE,function(){var e=t.getIn(["cardTemp","amount"]);n.value&&(t=t.setIn(["cardTemp","taxRate"],n.value));var a=t.getIn(["cardTemp","taxRate"]);return e&&(t=100==a?t.setIn(["cardTemp","tax"],e):t.setIn(["cardTemp","tax"],(Number(e)/(1+Number(a)/100)*Number(a)/100).toFixed(2))),t}),o(e,a.CHANGE_ACCOUNT_FZHS_MODAL_DISPLAY,function(){return t.updateIn(["flags","accountAssModalShow"],function(e){return!e})}),o(e,a.CHANGE_ACCOUNT_ASS_CATEGORY,function(){return t.setIn(["ass","asscategory"],n.assCategory)}),o(e,a.CHANGE_ACCOUNT_FZHS_MODAL_CLEAR,function(){return t.set("ass",c.get("ass")).updateIn(["flags","accountAssModalShow"],function(e){return!e})}),o(e,a.CHANGE_ACCOUNT_ASSID,function(){return t.setIn(["ass","assid"],n.value)}),o(e,a.CHANGE_ACCOUNT_ASSNAME,function(){return t.setIn(["ass","assname"],n.value)}),o(e,a.CHANGE_ACCOUNT_SALARY,function(){return t=t.setIn(["cardTemp","acPayment",n.place],n.value),n.checkplace&&(t=t.setIn(["flags",n.checkplace],n.checked)),t}),o(e,a.CALCULATE_AMOUNT,function(){var e=t.getIn(["cardTemp","acPayment","companyAccumulationAmount"]),n=t.getIn(["cardTemp","acPayment","personAccumulationAmount"]),a=t.getIn(["cardTemp","acPayment","companySocialSecurityAmount"]),r=t.getIn(["cardTemp","acPayment","personSocialSecurityAmount"]),u=t.getIn(["cardTemp","acPayment","incomeTaxAmount"]),i=t.getIn(["cardTemp","amount"]),l=(t.getIn(["cardTemp","categoryType"]),t.getIn(["cardTemp","propertyPay"])),s=void 0;switch(l){case"SX_GZXJ":s=(Number(i)-Number(n)-Number(r)-Number(u)).toFixed(2);break;case"SX_ZFGJJ":s=(Number(n)+Number(e)).toFixed(2);break;case"SX_SHBX":s=(Number(a)+Number(r)).toFixed(2);break;default:s=0}return t=t.setIn(["cardTemp","acPayment","actualAmount"],s)}),o(e,a.UPDATE_ACCOUNT_LIST,function(){var e=void 0;if(n.empty)return t.setIn([].concat(s(n.placeArr)),(0,r.fromJS)([]));var a=t.getIn(n.placeArr).toJS().some(function(t,a){if(t.assCategory===n.value.assCategory)return e=a,!0});return t=a?t.setIn([].concat(s(n.placeArr),[e]),(0,r.fromJS)(n.value)):t.updateIn(n.placeArr,function(e){return e.push((0,r.fromJS)(n.value))})}),o(e,a.CALCULATE_GAIN_OR_LOSS,function(){var e=n.place,a=n.diff,r=n.deletePlace;return t.setIn(e,a).deleteIn(r,a)}),o(e,a.INIT_PAYMENT_STATE,function(){var e=t.getIn(["flags","uuidList"]);if(t=t.set("calculateTemp",n.item).setIn(["flags","PageTab"],"payment").mergeIn(["calculateTemp"],(0,r.fromJS)(n.result)).setIn(["flags","selectList"],(0,r.fromJS)([])).setIn(["flags","indexList"],(0,r.fromJS)([])).setIn(["flags","paymentType"],"LB_SFGL").setIn(["calculateTemp","ass"],n.assName).setIn(["flags","modify"],!1).setIn(["flags","paymentInsertOrModify"],"modify").setIn(["calculateTemp","runningAbstract2"],n.item.get("runningAbstract")).setIn(["calculateTemp","runningDate2"],n.item.get("runningDate")).setIn(["flags","currentSwitchUuid"],n.item.get("uuid")).setIn(["flags","isQuery"],!0).set("enclosureList",(0,r.fromJS)(n.result.enclosureList)),"state_ts"===n.stateType&&(t=t.updateIn(["calculateTemp","handleAmount"],function(e){return-Math.abs(e)}).updateIn(["calculateTemp","notHandleAmount"],function(e){return-Math.abs(e)})),(n.uuidList||e.size)&&(t=t.setIn(["flags","needRelaList"],!0)),n.uuidList?t=t.setIn(["flags","uuidList"],n.uuidList):e.size&&(t=t.setIn(["flags","uuidList"],e)),n.fromCxls&&n.result.detail&&n.result.detail.length){var a=[],u=[];n.result.detail.map(function(e,t){a.push(e.uuid),u.push(t)}),t=t.setIn(["flags","selectList"],(0,r.fromJS)(a)).setIn(["flags","indexList"],(0,r.fromJS)(u))}return t}),o(e,a.GET_PAYMENT_PERIOD,function(){return(t=t.setIn(["calculateTemp","detail"],(0,r.fromJS)(n.receivedData)).setIn(["flags","isQuery"],!1)).setIn(["flags","selectList"],(0,r.fromJS)([])).setIn(["flags","indexList"],(0,r.fromJS)([])).setIn(["flags","totalAmount"],0)}),o(e,a.LRACCOUNT_ITEM_CHECKBOX_CHECK_ALL,function(){if(n.selectAll)return t.setIn(["flags","selectList"],(0,r.fromJS)([])).setIn(["flags","indexList"],(0,r.fromJS)([]));var e=n.list,a=[],u=[];return e&&e.size&&e.forEach(function(e,t){a.push(e.get("uuid")),u.push(t)}),t.setIn(["flags","selectList"],(0,r.fromJS)(a)).setIn(["flags","indexList"],(0,r.fromJS)(u))}),o(e,a.LRACCOUNT_ITEM_CHECKBOX_CHECK,function(){var e=t.getIn(["flags","selectList"]),a=t.getIn(["flags","indexList"]);if(n.checked){var r=e.splice(e.findIndex(function(e){return e===n.uuid}),1),u=a.splice(a.findIndex(function(e){return e===n.index}),1);return t.setIn(["flags","selectList"],r).setIn(["flags","indexList"],u)}var i=e.push(n.uuid),l=a.push(n.index);return t.setIn(["flags","selectList"],i).setIn(["flags","indexList"],l)}),o(e,a.INIT_LR_ACCOUNT_PAYMENT,function(){if(n.saveAndNew){var e=t.getIn(["calculateTemp","runningDate"]);t=t.set("calculateTemp",c.get("calculateTemp")).setIn(["calculateTemp","runningDate"],e).setIn(["flags","isQuery"],!1).setIn(["flags","modify"],!1).setIn(["flags","paymentInsertOrModify"],"insert").setIn(["flags","indexList"],(0,r.fromJS)([])).setIn(["flags","selectList"],(0,r.fromJS)([])).setIn(["flags","totalAmount"],0).setIn(["flags","accountType"],"notSingle").set("enclosureList",(0,r.fromJS)([])).set("label",(0,r.fromJS)([])).set("needDeleteUrl",(0,r.fromJS)([]))}else"insert"===n.paymentInsertOrModify&&(t=t.setIn(["calculateTemp","uuid"],n.currentUuid)),t=t.setIn(["flags","isQuery"],!0).setIn(["flags","modify"],!1).setIn(["flags","paymentInsertOrModify"],"modify");return t}),o(e,a.AFTER_SAVE_ACCOUNT_PAYMENT,function(){var e=n.result.enclosureList?n.result.enclosureList:[];return t.set("calculateTemp",(0,r.fromJS)(n.result)).setIn(["flags","accountType"],"notSingle").set("enclosureList",(0,r.fromJS)(e)).setIn(["flags","isQuery"],!0).setIn(["flags","modify"],!1).setIn(["calculateTemp","uuid"],n.currentUuid).setIn(["flags","paymentInsertOrModify"],"modify")}),o(e,a.LRACCOUNT_ITEM_SEARCH_CARD_LIST,function(){if(n.isSearch){var e=n.list.map(function(e){var t=e.string.split(i.TREE_JOIN_STR)[0],n=e.string.split(i.TREE_JOIN_STR)[1],a=e.uuid;return(0,r.fromJS)({code:t,name:n,uuid:a})});return t.setIn(["flags","selectThingsList"],(0,r.fromJS)(e))}return t.setIn(["flags","selectThingsList"],(0,r.fromJS)(n.list))}),o(e,a.ACCOUNT_IUMANAGE_LIST_TITLE,function(){return t.set("tags",(0,r.fromJS)(n.data))}),o(e,a.CHANGE_ACCOUNT_MANAGE_CARD_RELATION,function(){var e=t.get("tags"),a="";if(e.find(function(t,u){t.get("uuid")===n.tag.get("uuid")&&(e=e.setIn([u,"checked"],n.checked),t.get("selectUuid")&&(a=t.get("selectUuid")),n.checked&&(e=e.setIn([u,"tree"],(0,r.fromJS)(n.tree)),0===n.tree[0].childList.length&&(e=e.setIn([u,"selectUuid"],n.tree[0].uuid).setIn([u,"selectName"],n.tree[0].name),a=n.tree[0].uuid)))}),n.checked)t=t.setIn(["iuManageTypeCard","categoryTypeList"],t.getIn(["iuManageTypeCard","categoryTypeList"]).push((0,r.fromJS)({ctgyUuid:n.tag.get("uuid"),subordinateUuid:a})));else{var u=t.getIn(["iuManageTypeCard","categoryTypeList"]).findIndex(function(e,t){return e.get("ctgyUuid")===n.tag.get("uuid")});t=t.setIn(["iuManageTypeCard","categoryTypeList"],t.getIn(["iuManageTypeCard","categoryTypeList"]).delete(u))}return t=t.set("tags",e)}),o(e,a.ACCOUNT_SAVE_IUMANAGE_TYPE_CARD,function(){if("insertAndNew"===n.flag)t=t.setIn(["iuManageTypeCard","code"],n.code).setIn(["iuManageTypeCard","name"],"");else{var e=c.get("iuManageTypeCard");t=t.set("iuManageTypeCard",e)}return t}),o(e,a.ACCOUNT_CHANGE_IUMANAGE_CARD_AC,function(){return t=t.setIn([n.place,n.acId],n.uuid).setIn([n.place,n.acName],n.name)}),o(e,a.CHANGE_ACCOUNT_CARD_RELATION_TYPE,function(){return t.getIn(["iuManageTypeCard","categoryTypeList"]).find(function(e,a){e.get("ctgyUuid")===n.tag.get("uuid")&&(t=t.setIn(["iuManageTypeCard","categoryTypeList",a,"subordinateUuid"],n.uuid))}),t.get("tags").find(function(e,a){e.get("uuid")===n.tag.get("uuid")&&(t=t.set("tags",t.get("tags").setIn([a,"selectUuid"],n.uuid).setIn([a,"selectName"],n.name)))}),t}),o(e,a.ACCOUNT_CHANGE_INVENTORY_CARD_NATURE,function(){return t=t.setIn(["inventorySettingCard",n.name],n.value)}),o(e,a.ACCOUNT_CHANGE_INVENTORY_CARD_CATEGORY_STATUS,function(){var e="";if(t.get("tagsStock").find(function(a,u){if(a.get("uuid")===n.item.get("uuid"))return t=t.setIn(["tagsStock",u,"checked"],n.value).setIn(["tagsStock",u,"tree"],(0,r.fromJS)(n.list)),a.get("selectUuid")&&(e=a.get("selectUuid")),void(n.value&&0===n.list[0].childList.length&&(t=t.setIn(["tagsStock",u,"selectUuid"],n.list[0].uuid).setIn(["tagsStock",u,"selectName"],n.list[0].name),e=n.list[0].uuid))}),n.value){var a=(0,r.fromJS)({ctgyUuid:n.item.get("uuid"),subordinateUuid:e}),u=t.getIn(["inventorySettingCard","categoryTypeList"]).push(a);t=t.setIn(["inventorySettingCard","categoryTypeList"],u)}else{var i=t.getIn(["inventorySettingCard","categoryTypeList"]).findIndex(function(e,t){return e.get("ctgyUuid")===n.item.get("uuid")}),l=t.getIn(["inventorySettingCard","categoryTypeList"]).delete(i);t=t.setIn(["inventorySettingCard","categoryTypeList"],l)}return t}),o(e,a.ACCOUNT_CHANGE_INVENTORY_CARD_CATEGORY_TYPE,function(){return t.get("tagsStock").map(function(e,a){e.get("uuid")!==n.item.get("uuid")||(t=t.setIn(["tagsStock",a,"selectUuid"],n.uuid).setIn(["tagsStock",a,"selectName"],n.name))}),t.getIn(["inventorySettingCard","categoryTypeList"]).map(function(e,a){e.get("ctgyUuid")===n.item.get("uuid")&&(t=t.setIn(["inventorySettingCard","categoryTypeList",a,"subordinateUuid"],n.uuid))}),t}),o(e,a.ACCOUNT_SAVE_INVENTORY_SETTING_CARD,function(){return t=t.set("cardList",(0,r.fromJS)(n.list)),t="insertAndNew"===n.flag?t.setIn(["inventorySettingCard","name"],"").setIn(["inventorySettingCard","code"],n.autoIncrementCode):t.set("tagsStock",t.get("originTags"))}),o(e,a.ACCOUNT_INVENTORY_SETTING_INIT,function(){return n.title.unshift({name:t.get("anotherTabName"),uuid:""}),t=t.set("tagsStock",(0,r.fromJS)(n.title)).set("originTags",(0,r.fromJS)(n.title)).set("cardList",(0,r.fromJS)(n.cardList))}),o(e,a.INIT_RELA_CARD,function(){var e=c.get("iuManageTypeCard"),a=(t.getIn(["cardTemp","propertyCost"]),t.getIn(["cardTemp","assetType"]));return t.get("tags").map(function(e,n){t=t.setIn(["tags",n,"checked"],!1)}),t=t.set("iuManageTypeCard",e).setIn(["iuManageTypeCard","advanceAcId"],n.data.defaultAc.advanceAcId).setIn(["iuManageTypeCard","advanceAcName"],n.data.defaultAc.advanceAcName).setIn(["iuManageTypeCard","receivableAcId"],n.data.defaultAc.receivableAcId).setIn(["iuManageTypeCard","receivableAcName"],n.data.defaultAc.receivableAcName).setIn(["iuManageTypeCard","payableAcId"],n.data.defaultAc.payableAcId).setIn(["iuManageTypeCard","payableAcName"],n.data.defaultAc.payableAcName).setIn(["iuManageTypeCard","prepaidAcId"],n.data.defaultAc.prepaidAcId).setIn(["iuManageTypeCard","prepaidAcName"],n.data.defaultAc.prepaidAcName).setIn(["iuManageTypeCard","code"],n.data.code),t="XZ_CZZC"===a?t.setIn(["iuManageTypeCard","isPayUnit"],!1).setIn(["iuManageTypeCard","isReceiveUnit"],!0):"XZ_GJZC"===a?t.setIn(["iuManageTypeCard","isPayUnit"],!0).setIn(["iuManageTypeCard","isReceiveUnit"],!1):"debit"===n.direction?t.setIn(["iuManageTypeCard","isPayUnit"],!1).setIn(["iuManageTypeCard","isReceiveUnit"],!0):t.setIn(["iuManageTypeCard","isPayUnit"],!0).setIn(["iuManageTypeCard","isReceiveUnit"],!1)}),o(e,a.INIT_STOCK_CARD,function(){var e=c.get("inventorySettingCard");return t.get("tagsStock").map(function(e,n){t=t.setIn(["tagsStock",n,"checked"],!1)}),t=t.set("inventorySettingCard",e).setIn(["inventorySettingCard","inventoryAcId"],n.data.defaultAc.inventoryAcId).setIn(["inventorySettingCard","inventoryAcName"],n.data.defaultAc.inventoryAcName).setIn(["inventorySettingCard","code"],n.data.code),t="debit"===n.direction?t.setIn(["inventorySettingCard","isAppliedPurchase"],!1).setIn(["inventorySettingCard","isAppliedSale"],!0):t.setIn(["inventorySettingCard","isAppliedPurchase"],!0).setIn(["inventorySettingCard","isAppliedSale"],!1)}),o(e,a.CLOSE_ACCOUNTCONF_MODAL_LR,function(){return t.setIn(["flags","showAccountModal"],!1)}),o(e,a.CHARGE_ITEM_CHECKBOX_SELECT,function(){var e=t.getIn(["flags","selectList"]),a=t.getIn(["flags","selectItem"]);if(n.checked){var u=e.splice(e.findIndex(function(e){return e===n.uuid}),1),i=a.splice(e.findIndex(function(e){return e.uuid===n.uuid}),1);return t.setIn(["flags","selectList"],u).setIn(["flags","selectItem"],(0,r.fromJS)(i))}var l=e.push(n.uuid),s=a.push((0,r.fromJS)({uuid:n.uuid,name:n.name,code:n.code}));return t.setIn(["flags","selectList"],l).setIn(["flags","selectItem"],(0,r.fromJS)(s))}),o(e,a.INIT_COMMON_CHARGE,function(){var e=c.getIn(["flags","paymentInsertOrModify"]);if(n.saveAndNew){c.get("flags");var a=t.getIn(["commonChargeTemp","runningDate"]),u=c.get("commonChargeTemp");return t.set("commonChargeTemp",u).setIn(["commonChargeTemp","runningDate"],a).setIn(["flags","isQuery"],!1).setIn(["flags","modify"],!1).setIn(["flags","paymentInsertOrModify"],"insert").setIn(["flags","indexList"],(0,r.fromJS)([])).setIn(["flags","selectList"],(0,r.fromJS)([])).set("enclosureList",(0,r.fromJS)([])).set("label",(0,r.fromJS)([])).set("needDeleteUrl",(0,r.fromJS)([]))}return"insert"===e&&(t=t.setIn(["commonChargeTemp","uuid"],n.uuid).setIn(["commonChargeTemp","flowNumber"],n.flowNumber)),t.setIn(["flags","paymentInsertOrModify"],"modify").setIn(["flags","modify"],!0)}),o(e,a.INIT_COMMON_CHARGE_FROM_CXLS,function(){var e=t.getIn(["flags","uuidList"]);(n.uuidList||e.size)&&(t=t.setIn(["flags","needRelaList"],!0)),n.uuidList?t=t.setIn(["flags","uuidList"],n.uuidList):n.uuidList.size&&(t=t.setIn(["flags","uuidList"],n.uuidList));var a=n.data.enclosureList?n.data.enclosureList:[];return t.set("commonChargeTemp",(0,r.fromJS)(n.data)).set("enclosureList",(0,r.fromJS)(a)).setIn(["flags","PageTab"],"payment").setIn(["flags","paymentType"],"LB_GGFYFT").setIn(["flags","modify"],!0).setIn(["flags","paymentInsertOrModify"],"modify").setIn(["flags","currentSwitchUuid"],n.uuid)}),o(e,a.CHANGE_RUNNING_ENCLOSURE_LIST,function(){var e=[];return t.get("enclosureList").map(function(t){e.push(t)}),n.imgArr.forEach(function(t){e.push(t)}),t=t.set("enclosureList",(0,r.fromJS)(e)).set("enclosureCountUser",e.length)}),o(e,a.DELETE_UPLOAD_FJ_URL,function(){var e=[];return t.get("needDeleteUrl").map(function(t){e.push(t)}),t.get("enclosureList").map(function(a,r){r==n.index&&(e.push(t.getIn(["enclosureList",r]).set("beDelete",!0)),t=t.deleteIn(["enclosureList",r]))}),t=t.set("needDeleteUrl",(0,r.fromJS)(e)).set("enclosureCountUser",t.get("enclosureList").size)}),o(e,a.GET_LS_LABEL_FETCH,function(){return t=t.set("label",(0,r.fromJS)(n.receivedData.data)).set("tagModal",!0)}),o(e,a.CHANGE_LS_TAG_NAME,function(){return t.get("enclosureList").map(function(e,a){a==n.index&&(t=t.setIn(["enclosureList",a,"label"],n.value))}),t=t.set("tagModal",!1)}),o(e,a.AFTER_INSERT_JZSY,function(){var e=c.getIn(["flags","paymentInsertOrModify"]),a=c.get("CqzcTemp"),u=t.getIn(["CqzcTemp","detail","runningDate"]);return n.saveAndNew?t.set("CqzcTemp",a).setIn(["CqzcTemp","detail","runningDate"],u).setIn(["flags","isQuery"],!1).setIn(["flags","modify"],!1).setIn(["flags","paymentInsertOrModify"],"insert").set("enclosureList",(0,r.fromJS)([])).set("label",(0,r.fromJS)([])).set("needDeleteUrl",(0,r.fromJS)([])):("insert"===e&&(t=t.setIn(["CqzcTemp","detail","uuid"],n.uuid).setIn(["CqzcTemp","detail","flowNumber"],n.flowNumber)),t.setIn(["flags","paymentInsertOrModify"],"modify").setIn(["flags","modify"],!0))}),o(e,a.INIT_JZSY_FROM_CXLS,function(){var e=t.getIn(["flags","uuidList"]);return(n.uuidList||e.size)&&(t=t.setIn(["flags","needRelaList"],!0)),n.uuidList?t=t.setIn(["flags","uuidList"],n.uuidList):e.size&&(t=t.setIn(["flags","uuidList"],e)),t.setIn(["CqzcTemp","detail"],(0,r.fromJS)(n.data)).setIn(["flags","PageTab"],"payment").setIn(["flags","paymentType"],"LB_JZSY").setIn(["flags","modify"],!0).setIn(["flags","paymentInsertOrModify"],"modify").setIn(["flags","currentSwitchUuid"],n.uuid).set("enclosureList",(0,r.fromJS)(n.data.enclosureList))}),e)[n.type]||function(){return t})()};var a=l(n(1313)),r=n(18),u=n(22),i=l(n(27));function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function s(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=(0,r.fromJS)({flags:{issuedate:"",main:"duty",insertOrModify:"insert",runningInsertOrModify:"insert",paymentInsertOrModify:"insert",payOrReceive:"收",accountAssModalShow:!1,curCategory:"全部",curAccountUuid:"全部",assId:"",assCategory:"",acId:"",selectList:[],showRunningInfo:{},PageTab:"business",paymentType:"",paymentUuid:"",isQuery:!1,isQueryByBusiness:!1,modify:!1,indexList:[],personAccumulationAmountchecked:!0,personSocialSecurityAmountchecked:!0,incomeTaxAmountchecked:!0,pzFailedButtonShow:!1,specialStateforAccrued:!1,specialStateforAssets:!1,showContactsModal:!1,MemberList:[],thingsList:[],selectThingsList:[],managerCategoryList:[],amount:0,showAccountModal:!1,stockThingsList:[],contactsThingsList:[],needRelaList:!1,uuidList:[],costStockList:[],selectItem:[],totalAmount:0},iuManageTypeCard:{isPayUnit:!0,isReceiveUnit:!0,insertOrModify:"insert",categoryTypeList:[],receivableOpened:"0",advanceOpened:"0",payableOpened:"0",prepaidOpened:"0",name:"",code:"",companyAddress:"",companyTel:"",financeName:"",financeTel:"",remark:"",contacterInfo:!1,enableAdvanceAc:!0,enablePrepaidAc:!0},inventorySettingCard:{isAppliedPurchase:!0,isAppliedSale:!0,insertOrModify:"insert",categoryTypeList:[],receivableOpened:"0",advanceOpened:"0",payableOpened:"0",prepaidOpened:"0",name:"",code:"",isOpenedQuantity:!1},tags:[],tagsStock:[],calculateTemp:{paymentList:[],detail:[],runningIndex:0,usedCard:{code:"",name:""},runningDate:(0,u.formatDate)(),runningAbstract:"核销账款",contactsCardRange:{name:"",code:""},stockCardList:{name:"",code:""}},commonChargeTemp:{runningDate:(0,u.formatDate)().slice(0,10),projectCard:[],paymentList:[],runningAbstract:"公共费用分摊"},CqzcTemp:{projectRange:[],assetsCategory:[{childList:[]}],projectList:[],detail:{acAssets:{depreciationAmount:"",originalAssetsAmount:""},projectCard:[{uuid:"",name:"",code:""}],runningDate:(0,u.formatDate)().slice(0,10),runningAbstract:"长期资产处置损益",businessList:[]}},issues:[],cardTemp:{paymentList:[],uuid:"",name:"",property:"",flowNumber:"",runningAbstract:"",acAvailable:!0,canDelete:!1,runningIndex:0,categoryType:"",propertyCost:"",beCarryover:!1,runningState:"",runningDate:(0,u.formatDate)(),billType:"",billStates:"",priceTaxTotal:"",taxRate:0,tax:"",amount:"",handleAmount:"",notHandleAmount:"",offsetAmount:"",childList:[],running:[],taxPayState:"",propertyCostList:[],accountName:"",accountUuid:"",beCertified:!1,carryoverAmount:"",propertyPay:"",propertyAssets:"",propertyCarryover:"",propertyTax:"",propertyInvest:"",billAcList:[],billAssList:[],queryObj:{amount:0,handleAmount:0,companyAccumulationAmount:0,personAccumulationAmount:0,companySocialSecurityAmount:0,personSocialSecurityAmount:0,incomeTaxAmount:0},acCost:{saleAc:[{categoryUuid:"",acId:"",acKey:"",type:"",acFullName:"",assCategoryList:[]}],saleList:[{assId:"",assName:"",assCategory:[]}],manageAc:[],manageList:[],financeAc:[],financeList:[],deliveryAc:[],deliveryList:[],beManagemented:!1},acBusinessIncome:{incomeAc:[],incomeList:[],receivablesAc:[],receivablesList:[],inAdvanceAc:[],inAdvanceList:[],stockAc:[],stockList:[],carryoverAc:[],carryoverList:[],beManagemented:!1,beDeposited:!1,beCarryover:!1,stockCardList:{uuid:""}},acBusinessExpense:{payAc:[],payList:[],deliveryAc:[],deliveryList:[],inAdvanceAc:[],inAdvanceList:[],beManagemented:!1,beDeposited:!1},acBusinessOutIncome:{relationAc:[],relationList:[],receivablesAc:[],receivablesList:[],beManagemented:!1},acBusinessOutExpense:{relationAc:[],relationList:[],deliveryAc:[],deliveryList:[],beManagemented:!1},acTemporaryReceipt:{relationAc:[],relationList:[]},acTemporaryPay:{relationAc:[],relationList:[]},acPayment:{saleAc:[],saleList:[],manageAc:[],manageList:[],accruedAc:[],accruedList:[],fundAc:[],fundList:[],socialSecurityAc:[],socialSecurityList:[],incomeTaxAc:[],incomeTaxList:[],welfareAc:[],welfareList:[],beAccrued:!1,beWithholding:!1,beWelfare:!1,actualAmount:0,companyAccumulationAmount:"",personAccumulationAmount:"",companySocialSecurityAmount:"",personSocialSecurityAmount:"",incomeTaxAmount:""},acTax:{accruedAc:[],accruedList:[],payAc:[],payList:[],turnOutAc:[],turnOutList:[],inAdvanceAc:[],inAdvanceList:[],beAccrued:!1,beTurnOut:!1,beInAdvance:!1},acLoan:{loanAc:[],loanList:[],interestAc:[],interestList:[],unpaidInterestAc:[],unpaidInterestList:[],beAccrued:!1},acInvest:o({investAc:[],investList:[],profitAc:[],profitList:[],uncollectedProfitAc:[],uncollectedProfitList:[],uncollectedInterestAc:[],beAccrued:!1},"uncollectedInterestAc",[]),acCapital:{capitalAc:[],capitalList:[],unassignedAc:[],unassignedList:[],assignedAc:[],assignedList:[],payableAc:[],payableList:[],beAccrued:!1},acAssets:{assetsAc:[],assetsList:[],incomeAc:[],incomeList:[],lossAc:[],lossList:[],depreciationAc:[],depreciationList:[],cleaningAc:[],cleaningList:[],upgradeAc:[],upgradeList:[],receivablesAc:[],receivablesList:[],payableAc:[],payableList:[],beManagemented:!1,beCleaning:!1,netProfitAmount:"",originalAssetsAmount:"",depreciationAmount:"",cleaningAmount:"",upgradingAmount:""}},enclosureList:[],previewImageList:[],needDeleteUrl:[],tagModal:!1,label:[]})},1330:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Other=t.JkTzZb=t.Zszf=t.Yywsz=t.Cqzc=t.Sfzc=t.Xczc=t.Fyzc=t.Yysz=void 0;var a,r=f(n(1272)),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(1271);var i=f(n(1)),l=n(17),s=n(22),o=n(482),c=f(n(1292)),d=f(n(1293));function f(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _=r.default.Panel;t.Yysz=(0,l.immutableRenderDecorator)(a=function(e){function t(){return g(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,i.default.Component),u(t,[{key:"render",value:function(){var e=this.props,t=e.lsItemData,n=e.activeKey,a=e.onChangeActiveKey,r=o.categoryTypeAll[t.get("categoryType")],u=t.getIn([r,"beManagemented"]),l=t.getIn([r,"stockCardList"]),f=t.get("runningState"),g=t.get("accountName"),m=t.get("usedProject"),p=t.get("projectCard"),_=t.get("amount"),T=t.get("propertyCarryover");return i.default.createElement("div",null,i.default.createElement("ul",{className:"ylls-item-detail"},i.default.createElement("li",null,i.default.createElement("span",null,"摘要："),i.default.createElement("span",null,t.get("runningAbstract"))),u?i.default.createElement("li",null,i.default.createElement("span",null,"往来单位："),i.default.createElement("span",null,t.getIn(["usedCard","code"])+"_"+t.getIn(["usedCard","name"]))):"",m&&p&&p.size?p.map(function(e){return i.default.createElement("div",{key:e.get("uuid")},i.default.createElement("li",null,i.default.createElement("span",null,"项目："),i.default.createElement("span",null,("COMNCRD"!==e.get("code")?e.get("code")+"_":"")+e.get("name"))),p.size>1?i.default.createElement("li",{key:e.get("uuid")},i.default.createElement("span",null,"金额："),i.default.createElement("span",null,(0,s.formatMoney)(e.get("amount"),2,""))):"")}):"","SX_HW"===T&&"STATE_YYSR_DJ"!==f&&"STATE_YYZC_DJ"!==f&&l&&l.size?l.map(function(e){return i.default.createElement("div",{key:e.get("uuid")},i.default.createElement("li",null,i.default.createElement("span",null,"存货："),i.default.createElement("span",null,e.get("code")+"_"+e.get("name"))),l.size>1?i.default.createElement("li",{key:e.get("uuid")},i.default.createElement("span",null,"金额："),i.default.createElement("span",null,(0,s.formatMoney)(e.get("amount"),2,""))):"")}):"",i.default.createElement("li",null,i.default.createElement("span",null,p&&p.size>1||l&&l.size>1?"总":"","金额："),i.default.createElement("span",null,(0,s.formatMoney)(t.get("amount"),2,""))),g&&(u&&Number(_)===Number(t.get("currentAmount"))||!u||"STATE_YYSR_DJ"===f||"STATE_YYZC_DJ"===f)?i.default.createElement("li",null,i.default.createElement("span",null,"账户："),i.default.createElement("span",null,t.get("accountName"))):"","STATE_YYSR_DJ"!==f&&"STATE_YYZC_DJ"!==f?i.default.createElement(c.default,{itemData:t}):""),u?i.default.createElement(d.default,{title:"核销情况",lsItemData:t,activeKey:n,onChangeActiveKey:a,itemList:t.get("paymentList")}):"")}}]),t}())||a,t.Fyzc=function(e){function t(){return g(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,i.default.Component),u(t,[{key:"render",value:function(){var e=this.props,t=e.lsItemData,n=e.activeKey,a=e.onChangeActiveKey,r=o.categoryTypeAll[t.get("categoryType")],u=t.getIn([r,"beManagemented"]),l=t.get("usedProject"),f=t.get("projectCard"),g=t.get("accountName"),m=t.get("runningState");return i.default.createElement("div",null,i.default.createElement("ul",{className:"ylls-item-detail"},"STATE_FY_DJ"!==m?i.default.createElement("li",null,i.default.createElement("span",null,"费用性质："),i.default.createElement("span",null,{XZ_MANAGE:"管理费用",XZ_FINANCE:"财务费用",XZ_SALE:"销售费用"}[t.get("propertyCost")])):"",i.default.createElement("li",null,i.default.createElement("span",null,"摘要："),i.default.createElement("span",null,t.get("runningAbstract"))),u?i.default.createElement("li",null,i.default.createElement("span",null,"往来单位："),i.default.createElement("span",null,t.getIn(["usedCard","code"])+"_"+t.getIn(["usedCard","name"]))):"",l&&f&&f.size?f.map(function(e){return i.default.createElement("div",{key:e.get("uuid")},i.default.createElement("li",null,i.default.createElement("span",null,"项目："),i.default.createElement("span",null,("COMNCRD"!==e.get("code")?e.get("code")+"_":"")+e.get("name"))),f.size>1?i.default.createElement("li",{key:e.get("uuid")},i.default.createElement("span",null,"金额："),i.default.createElement("span",null,(0,s.formatMoney)(e.get("amount"),2,""))):"")}):"",i.default.createElement("li",null,i.default.createElement("span",null,f&&f.size>1?"总":"","金额："),i.default.createElement("span",null,(0,s.formatMoney)(t.get("amount"),2,""))),g?i.default.createElement("li",null,i.default.createElement("span",null,"账户："),i.default.createElement("span",null,t.get("accountName"))):"","STATE_FY_DJ"!==m?i.default.createElement(c.default,{itemData:t}):""),i.default.createElement(d.default,{title:"核销情况",lsItemData:t,activeKey:n,onChangeActiveKey:a,itemList:t.get("paymentList")}))}}]),t}(),t.Xczc=function(e){function t(){return g(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,i.default.Component),u(t,[{key:"render",value:function(){var e=this.props,t=e.lsItemData,n=e.activeKey,a=e.onChangeActiveKey,u=o.categoryTypeAll[t.get("categoryType")],l=t.getIn([u,"beAccrued"]),c=t.getIn([u,"personAccumulationAmount"]),f=t.getIn([u,"personSocialSecurityAmount"]),g=t.getIn([u,"incomeTaxAmount"]),m=t.getIn([u,"companySocialSecurityAmount"]),p=t.getIn([u,"companyAccumulationAmount"]),T=t.getIn([u,"actualAmount"]),y=t.get("usedProject"),C=t.get("projectCard"),A=t.get("accountName"),E=t.get("amount"),I=t.get("propertyPay"),S=t.get("runningState");return i.default.createElement("div",null,i.default.createElement("ul",{className:"ylls-item-detail"},"STATE_XC_JT"!==S&&("STATE_XC_JN"!==S&&"STATE_XC_FF"!==S||l)?"":i.default.createElement("li",null,i.default.createElement("span",null,"费用性质："),i.default.createElement("span",null,{XZ_MANAGE:"管理费用",XZ_FINANCE:"财务费用",XZ_SALE:"销售费用"}[t.get("propertyCost")])),i.default.createElement("li",null,i.default.createElement("span",null,"摘要："),i.default.createElement("span",null,t.get("runningAbstract"))),y&&C&&C.size?C.map(function(e){return i.default.createElement("div",{key:e.get("uuid")},i.default.createElement("li",null,i.default.createElement("span",null,"项目："),i.default.createElement("span",null,("COMNCRD"!==e.get("code")?e.get("code")+"_":"")+e.get("name"))),C.size>1?i.default.createElement("li",{key:e.get("uuid")},i.default.createElement("span",null,"金额："),i.default.createElement("span",null,(0,s.formatMoney)(e.get("amount")))):"")}):"","STATE_XC_JT"===S||"SX_QTXC"===I||"SX_FLF"===I?i.default.createElement("li",null,i.default.createElement("span",null,C&&C.size>1?"总":"","金额："),i.default.createElement("span",null,(0,s.formatMoney)(E,2,""))):"","SX_GZXJ"===I&&"STATE_XC_FF"===S?i.default.createElement("li",null,i.default.createElement("span",null,"工资薪金："),i.default.createElement("span",null,(0,s.formatMoney)(t.get("amount"),2,""))):"",A&&"STATE_XC_JT"!==S?i.default.createElement("li",null,i.default.createElement("span",null,"账户："),i.default.createElement("span",null,t.get("accountName"))):""),!l||"STATE_XC_JN"!==S&&"STATE_XC_FF"!==S||"SX_QTXC"===I?"":i.default.createElement("div",{className:"ylls-item-child-list"},i.default.createElement(r.default,{bordered:!1,activeKey:"1"},i.default.createElement(_,{showArrow:!1,header:i.default.createElement("div",{className:"ylls-item-child-title"},i.default.createElement("span",null,"实际支付金额："+("STATE_XC_JN"===S?(0,s.formatMoney)(E,2,""):(0,s.formatMoney)(T,2,"")))),key:"1"},i.default.createElement("div",{className:"ylls-item-content"},"SX_SHBX"===I?i.default.createElement("span",null,"社会保险(公司部分)：",(0,s.formatMoney)(m,2,"")):"","SX_SHBX"===I||"SX_GZXJ"===I?i.default.createElement("span",null,"SX_SHBX"===I?"代缴":"代扣","社会保险(个人部分)：",(0,s.formatMoney)(f,2,"")):"","SX_ZFGJJ"===I?i.default.createElement("span",null,"公积金(公司部分)：",(0,s.formatMoney)(p,2,"")):"","SX_ZFGJJ"===I||"SX_GZXJ"===I?i.default.createElement("span",null,"SX_ZFGJJ"===I?"代缴":"代扣","公积金(个人部分)：",(0,s.formatMoney)(c,2,"")):"","SX_GZXJ"===I?i.default.createElement("span",null,"代扣个人所得税：",(0,s.formatMoney)(g,2,"")):"")))),"SX_QTXC"!==I?i.default.createElement(d.default,{title:"核销情况",lsItemData:t,activeKey:n,onChangeActiveKey:a,itemList:t.get("detail")}):"","SX_QTXC"===I||"STATE_XC_JT"===S?i.default.createElement(d.default,{title:"核销情况",lsItemData:t,activeKey:n,onChangeActiveKey:a,itemList:t.get("paymentList")}):"")}}]),t}(),t.Sfzc=function(e){function t(){return g(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,i.default.Component),u(t,[{key:"render",value:function(){var e=this.props,t=e.lsItemData,n=e.activeKey,a=e.onChangeActiveKey,r=t.get("offsetAmount"),u=t.get("handleAmount"),l=t.get("amount"),o=t.get("beReduce"),c=t.get("reduceAmount"),f=t.get("usedProject"),g=t.get("projectCard"),m=t.get("accountName"),p=t.get("propertyTax"),_=t.get("runningState");return i.default.createElement("div",null,i.default.createElement("ul",{className:"ylls-item-detail"},i.default.createElement("li",null,i.default.createElement("span",null,"摘要："),i.default.createElement("span",null,t.get("runningAbstract"))),f&&g&&g.size?g.map(function(e){return i.default.createElement("div",{key:e.get("uuid")},i.default.createElement("li",null,i.default.createElement("span",null,"项目："),i.default.createElement("span",null,("COMNCRD"!==e.get("code")?e.get("code")+"_":"")+e.get("name"))),g.size>1?i.default.createElement("li",{key:e.get("uuid")},i.default.createElement("span",null,"金额："),i.default.createElement("span",null,(0,s.formatMoney)(e.get("amount")))):"")}):"","SX_ZZS"===p&&"STATE_SF_YJZZS"!==_?i.default.createElement("li",null,i.default.createElement("span",null,"处理税费："),i.default.createElement("span",null,(0,s.formatMoney)(Number(r)+Number(u)+(o&&c?Number(c):0),2,""))):"","SX_ZZS"===p&&"STATE_SF_YJZZS"!==_?i.default.createElement("li",null,i.default.createElement("span",null,"预交抵扣金额："),i.default.createElement("span",null,(0,s.formatMoney)(r,2,""))):"",i.default.createElement("li",null,i.default.createElement("span",null,g&&g.size>1?"总":"","金额："),i.default.createElement("span",null,"SX_ZZS"===p&&"STATE_SF_YJZZS"!==_?(0,s.formatMoney)(u,2,""):(0,s.formatMoney)(l,2,""))),m?i.default.createElement("li",null,i.default.createElement("span",null,"账户："),i.default.createElement("span",null,t.get("accountName"))):"",o&&c?i.default.createElement("li",null,i.default.createElement("span",null,"减免金额："),i.default.createElement("span",null,(0,s.formatMoney)(c,2,""))):""),i.default.createElement(d.default,{title:"核销情况",lsItemData:t,activeKey:n,onChangeActiveKey:a,itemList:t.get("paymentList")}))}}]),t}(),t.Cqzc=function(e){function t(){return g(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,i.default.Component),u(t,[{key:"render",value:function(){var e=this.props,t=e.lsItemData,n=e.activeKey,a=e.onChangeActiveKey,u=o.categoryTypeAll[t.get("categoryType")],l=t.getIn([u,"beManagemented"]),f=t.getIn([u,"netProfitAmount"]),g=t.getIn([u,"lossAmount"]),m=t.getIn([u,"originalAssetsAmount"]),p=t.getIn([u,"depreciationAmount"]),T=t.get("usedProject"),y=t.get("projectCard"),C=t.get("accountName"),A=t.get("assetType"),E=t.get("businessList"),I=t.get("runningState"),S=t.getIn([u,"cleaningAmount"]),L=o.runningStateType[I]?o.runningStateType[I]:"";return i.default.createElement("div",null,i.default.createElement("ul",{className:"ylls-item-detail"},i.default.createElement("li",null,i.default.createElement("span",null,"处理类型："),i.default.createElement("span",null,{XZ_CZZC:"处置资产",XZ_ZJTX:"折旧摊销",XZ_GJZC:"购进资产"}[t.get("assetType")],L?"("+L+")":"")),i.default.createElement("li",null,i.default.createElement("span",null,"摘要："),i.default.createElement("span",null,t.get("runningAbstract"))),l&&"STATE_CQZC_JZSY"!==I&&"XZ_ZJTX"!==A?i.default.createElement("li",null,i.default.createElement("span",null,"往来单位："),i.default.createElement("span",null,t.getIn(["usedCard","code"])+"_"+t.getIn(["usedCard","name"]))):"",T&&y&&y.size?y.map(function(e){return i.default.createElement("div",{key:e.get("uuid")},i.default.createElement("li",null,i.default.createElement("span",null,"项目："),i.default.createElement("span",null,("COMNCRD"!==e.get("code")?e.get("code")+"_":"")+e.get("name"))),y.size>1?i.default.createElement("li",{key:e.get("uuid")},i.default.createElement("span",null,"金额："),i.default.createElement("span",null,(0,s.formatMoney)(e.get("amount"),2,""))):"")}):"","STATE_CQZC_JZSY"!==I?i.default.createElement("li",null,i.default.createElement("span",null,y&&y.size>1?"总":"","金额："),i.default.createElement("span",null,(0,s.formatMoney)(t.get("amount"),2,""))):"",C&&"STATE_CQZC_JZSY"!==I?i.default.createElement("li",null,i.default.createElement("span",null,"账户："),i.default.createElement("span",null,t.get("accountName"))):"","XZ_ZJTX"!==A?i.default.createElement(c.default,{itemData:t}):""),"XZ_CZZC"===A&&E&&E.size&&"STATE_CQZC_JZSY"!==I?i.default.createElement("div",{className:"ylls-item-child-list"},i.default.createElement(r.default,{bordered:!1,activeKey:"1"},i.default.createElement(_,{showArrow:!1,header:i.default.createElement("div",{className:"ylls-item-child-title"},i.default.createElement("span",null,"处置损益")),key:"1"},i.default.createElement("ul",null,i.default.createElement("li",{className:"ylls-item-child-item",key:1},i.default.createElement("div",null,i.default.createElement("span",null,E.getIn([0,"categoryName"])),i.default.createElement("span",null,"流水号：",E.getIn([0,"flowNumber"])))))))):"","STATE_CQZC_JZSY"===I?i.default.createElement("div",{className:"ylls-item-child-list"},i.default.createElement(r.default,{bordered:!1,activeKey:"1"},i.default.createElement(_,{showArrow:!1,header:i.default.createElement("div",{className:"ylls-item-child-title"},i.default.createElement("span",null,"处置损益")),key:"1"},i.default.createElement("div",{className:"ylls-item-content"},f>0?i.default.createElement("span",null,"净收益金额：",(0,s.formatMoney)(f,2,"")):i.default.createElement("span",null,"净损失金额：",(0,s.formatMoney)(g,2,"")),i.default.createElement("span",null,"资产原值：",(0,s.formatMoney)(m,2,"")),i.default.createElement("span",null,"累计折旧余额：",(0,s.formatMoney)(p,2,"")),i.default.createElement("span",null,"处置收入：",(0,s.formatMoney)(S,2,"")))))):"",i.default.createElement(d.default,{title:"核销情况",lsItemData:t,activeKey:n,onChangeActiveKey:a,itemList:t.get("paymentList")}),"STATE_CQZC_JZSY"===I?i.default.createElement(d.default,{title:"核销情况",lsItemData:t,activeKey:n,onChangeActiveKey:a,itemList:t.get("businessList"),amountStr:"amount-tax"}):"")}}]),t}(),t.Yywsz=function(e){function t(){return g(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,i.default.Component),u(t,[{key:"render",value:function(){var e=this.props,t=e.lsItemData,n=(e.activeKey,e.onChangeActiveKey,o.categoryTypeAll[t.get("categoryType")]),a=t.getIn([n,"beManagemented"]),r=t.get("usedProject"),u=t.get("projectCard"),l=t.get("accountName");return i.default.createElement("div",null,i.default.createElement("ul",{className:"ylls-item-detail"},i.default.createElement("li",null,i.default.createElement("span",null,"摘要："),i.default.createElement("span",null,t.get("runningAbstract"))),a?i.default.createElement("li",null,i.default.createElement("span",null,"往来单位："),i.default.createElement("span",null,t.getIn(["usedCard","code"])+"_"+t.getIn(["usedCard","name"]))):"",r&&u&&u.size?u.map(function(e){return i.default.createElement("div",{key:e.get("uuid")},i.default.createElement("li",null,i.default.createElement("span",null,"项目："),i.default.createElement("span",null,("COMNCRD"!==e.get("code")?e.get("code")+"_":"")+e.get("name"))),u.size>1?i.default.createElement("li",{key:e.get("uuid")},i.default.createElement("span",null,"金额："),i.default.createElement("span",null,(0,s.formatMoney)(e.get("amount"),2,""))):"")}):"",i.default.createElement("li",null,i.default.createElement("span",null,u&&u.size>1?"总":"","金额："),i.default.createElement("span",null,(0,s.formatMoney)(t.get("amount"),2,""))),l?i.default.createElement("li",null,i.default.createElement("span",null,"账户："),i.default.createElement("span",null,t.get("accountName"))):""))}}]),t}(),t.Zszf=function(e){function t(){return g(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,i.default.Component),u(t,[{key:"render",value:function(){var e=this.props,t=e.lsItemData,n=e.activeKey,a=e.onChangeActiveKey,r=(o.categoryTypeAll[t.get("categoryType")],t.get("usedProject")),u=t.get("projectCard"),l=t.get("accountName");return i.default.createElement("div",null,i.default.createElement("ul",{className:"ylls-item-detail"},i.default.createElement("li",null,i.default.createElement("span",null,"摘要："),i.default.createElement("span",null,t.get("runningAbstract"))),r&&u&&u.size?u.map(function(e){return i.default.createElement("div",{key:e.get("uuid")},i.default.createElement("li",null,i.default.createElement("span",null,"项目："),i.default.createElement("span",null,("COMNCRD"!==e.get("code")?e.get("code")+"_":"")+e.get("name"))),u.size>1?i.default.createElement("li",{key:e.get("uuid")},i.default.createElement("span",null,"金额："),i.default.createElement("span",null,(0,s.formatMoney)(e.get("amount"),2,""))):"")}):"",i.default.createElement("li",null,i.default.createElement("span",null,u&&u.size>1?"总":"","金额："),i.default.createElement("span",null,(0,s.formatMoney)(t.get("amount"),2,""))),l?i.default.createElement("li",null,i.default.createElement("span",null,"账户："),i.default.createElement("span",null,t.get("accountName"))):""),i.default.createElement(d.default,{title:"核销情况",lsItemData:t,activeKey:n,onChangeActiveKey:a,itemList:t.get("paymentList")}))}}]),t}(),t.JkTzZb=function(e){function t(){return g(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,i.default.Component),u(t,[{key:"render",value:function(){var e=this.props,t=e.lsItemData,n=e.activeKey,a=e.onChangeActiveKey,r=o.categoryTypeAll[t.get("categoryType")],u=(t.getIn([r,"beManagemented"]),t.get("usedProject")),l=t.get("projectCard"),c=t.get("accountName"),f=(t.get("propertyCost"),t.get("businessList"),t.get("runningState")),g=o.runningStateType[f]?o.runningStateType[f]:"";return i.default.createElement("div",null,i.default.createElement("ul",{className:"ylls-item-detail"},i.default.createElement("li",null,i.default.createElement("span",null,"处理类型："),i.default.createElement("span",null,{XZ_QDJK:"取得借款",XZ_CHLX:"偿还利息",XZ_CHBJ:"偿还本金",XZ_DWTZ:"对外投资",XZ_QDSY:"取得收益",XZ_SHTZ:"收回投资",XZ_ZZ:"增资",XZ_LRFP:"利润分配",XZ_JZ:"减资"}[t.get("propertyCost")],g?"("+g+")":"")),i.default.createElement("li",null,i.default.createElement("span",null,"摘要："),i.default.createElement("span",null,t.get("runningAbstract"))),u&&l&&l.size?l.map(function(e){return i.default.createElement("div",{key:e.get("uuid")},i.default.createElement("li",null,i.default.createElement("span",null,"项目："),i.default.createElement("span",null,("COMNCRD"!==e.get("code")?e.get("code")+"_":"")+e.get("name"))),l.size>1?i.default.createElement("li",{key:e.get("uuid")},i.default.createElement("span",null,"金额："),i.default.createElement("span",null,(0,s.formatMoney)(e.get("amount"),2,""))):"")}):"",i.default.createElement("li",null,i.default.createElement("span",null,l&&l.size>1?"总":"","金额："),i.default.createElement("span",null,(0,s.formatMoney)(t.get("amount"),2,""))),c?i.default.createElement("li",null,i.default.createElement("span",null,"账户："),i.default.createElement("span",null,t.get("accountName"))):""),i.default.createElement(d.default,{title:"核销情况",lsItemData:t,activeKey:n,onChangeActiveKey:a,itemList:t.get("paymentList")}))}}]),t}(),t.Other=function(e){function t(){return g(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,i.default.Component),u(t,[{key:"render",value:function(){var e=this.props;e.lsItemData,e.activeKey,e.onChangeActiveKey;return i.default.createElement("div",null,"没写")}}]),t}()},1331:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Jzsy=t.Xmft=t.Zcwjzzs=t.FpKr=t.Jzcb=t.Sfgl=t.Zjtx=t.Nbzz=void 0;var a=o(n(1272)),r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(1271);var u=o(n(1)),i=(n(17),n(22)),l=n(482),s=(o(n(1292)),o(n(1293)));function o(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}a.default.Panel,t.Nbzz=function(e){function t(){return c(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,u.default.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.lsItemData;e.activeKey,e.onChangeActiveKey;return u.default.createElement("div",null,u.default.createElement("ul",{className:"ylls-item-detail"},u.default.createElement("li",null,u.default.createElement("span",null,"摘要："),u.default.createElement("span",null,t.get("runningAbstract"))),u.default.createElement("li",null,u.default.createElement("span",null,"金额："),u.default.createElement("span",null,(0,i.formatMoney)(t.get("amount"),2,""))),u.default.createElement("li",null,u.default.createElement("span",null,"转出账户："),u.default.createElement("span",null,t.getIn(["childList",0,"accountName"]))),u.default.createElement("li",null,u.default.createElement("span",null,"转入账户："),u.default.createElement("span",null,t.getIn(["childList",1,"accountName"])))))}}]),t}(),t.Zjtx=function(e){function t(){return c(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,u.default.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.lsItemData,n=(e.activeKey,e.onChangeActiveKey,{XZ_SALE:"销售费用",XZ_MANAGE:"管理费用",XZ_FINANCE:"财务费用","":""}[t.get("propertyCost")]);return u.default.createElement("div",null,u.default.createElement("ul",{className:"ylls-item-detail"},u.default.createElement("li",null,u.default.createElement("span",null,"处理类别："),u.default.createElement("span",null,t.get("categoryName"))),t.get("propertyCostList")&&t.get("propertyCostList").size>1?u.default.createElement("li",null,u.default.createElement("span",null,"费用性质："),u.default.createElement("span",null,n)):"",u.default.createElement("li",null,u.default.createElement("span",null,"摘要："),u.default.createElement("span",null,t.get("runningAbstract"))),t.get("usedProject")?u.default.createElement("li",null,u.default.createElement("span",null,"项目："),u.default.createElement("span",null,t.getIn(["projectCard",0,"code"])+" "+t.getIn(["projectCard",0,"name"]))):"",u.default.createElement("li",null,u.default.createElement("span",null,"金额："),u.default.createElement("span",null,(0,i.formatMoney)(t.get("amount"),2,"")))))}}]),t}(),t.Sfgl=function(e){function t(){return c(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,u.default.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.lsItemData,n=e.activeKey,a=e.onChangeActiveKey,r=(l.categoryTypeAll[t.get("categoryType")],t.get("accountName")),o=t.get("moedAmount");return u.default.createElement("div",null,u.default.createElement("ul",{className:"ylls-item-detail"},u.default.createElement("li",null,u.default.createElement("span",null,"往来单位："),u.default.createElement("span",null,t.getIn(["usedCard","code"])+"_"+t.getIn(["usedCard","name"]))),u.default.createElement("li",null,u.default.createElement("span",null,"摘要："),u.default.createElement("span",null,t.get("runningAbstract"))),u.default.createElement("li",null,u.default.createElement("span",null,"金额："),u.default.createElement("span",null,(0,i.formatMoney)(t.get("amount"),2,""))),r?u.default.createElement("li",null,u.default.createElement("span",null,"账户："),u.default.createElement("span",null,r)):"",o>0?u.default.createElement("li",null,u.default.createElement("span",null,"抹零金额："),u.default.createElement("span",null,(0,i.formatMoney)(o))):""),u.default.createElement(s.default,{title:"核销情况",lsItemData:t,activeKey:n,onChangeActiveKey:a,itemList:t.get("detail")}))}}]),t}(),t.Jzcb=function(e){function t(){return c(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,u.default.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.lsItemData,n=e.activeKey,a=e.onChangeActiveKey,r={STATE_YYSR_JZCB:"acBusinessIncome",STATE_YYZC_JZCB:"acBusinessExpense"}[t.get("runningState")],l=t.getIn([r,"stockCardList"]);return u.default.createElement("div",null,u.default.createElement("ul",{className:"ylls-item-detail"},u.default.createElement("li",null,u.default.createElement("span",null,"摘要："),u.default.createElement("span",null,t.get("runningAbstract"))),l&&l.size?l.map(function(e){return u.default.createElement("div",{key:e.get("uuid")},u.default.createElement("li",null,u.default.createElement("span",null,"存货："),u.default.createElement("span",null,e.get("code")+"_"+e.get("name"))),u.default.createElement("li",null,u.default.createElement("span",null,"成本金额："),u.default.createElement("span",null,(0,i.formatMoney)(e.get("amount"),2,""))))}):""),u.default.createElement(s.default,{title:"核销情况",lsItemData:t,activeKey:n,onChangeActiveKey:a,itemList:t.get("businessList"),amountStr:"amount"}))}}]),t}(),t.FpKr=function(e){function t(){return c(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,u.default.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.lsItemData,n=e.activeKey,a=e.onChangeActiveKey,r=l.categoryTypeAll[t.get("categoryType")];t.getIn([r,"stockCardList"]);return u.default.createElement("div",null,u.default.createElement("ul",{className:"ylls-item-detail"},u.default.createElement("li",null,u.default.createElement("span",null,"摘要："),u.default.createElement("span",null,t.get("runningAbstract")))),u.default.createElement(s.default,{title:"核销情况",lsItemData:t,activeKey:n,onChangeActiveKey:a,itemList:t.get("businessList"),amountStr:"tax"}))}}]),t}(),t.Zcwjzzs=function(e){function t(){return c(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,u.default.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.lsItemData,n=e.activeKey,a=e.onChangeActiveKey,r=l.categoryTypeAll[t.get("categoryType")],o=(t.getIn([r,"stockCardList"]),0),c=0,d=0,f=0;return t.get("businessList").forEach(function(e){"bill_common"===e.get("billType")?(o+=1,c+=e.get("parentTax")?e.get("parentTax"):e.get("tax")):(d+=1,f+=e.get("parentTax")?e.get("parentTax"):e.get("tax"))}),u.default.createElement("div",null,u.default.createElement("ul",{className:"ylls-item-detail"},u.default.createElement("li",null,u.default.createElement("span",null,"摘要："),u.default.createElement("span",null,t.get("runningAbstract"))),u.default.createElement("li",null,u.default.createElement("span",null,"处理税额月份："),u.default.createElement("span",null,t.getIn(["businessList",0,"runningDate"]).substr(0,7))),u.default.createElement("li",null,u.default.createElement("span",null,"未交税额："),u.default.createElement("span",null,(0,i.formatMoney)(c-f,2,""))),u.default.createElement("li",null,u.default.createElement("span",null,"销项税-流水数： ",o,"条；")," ",u.default.createElement("span",null,"合计税额： ",(0,i.formatNum)(c.toFixed(2)))),u.default.createElement("li",null,u.default.createElement("span",null,"进项税-流水数： ",d,"条；")," ",u.default.createElement("span",null,"合计税额： ",(0,i.formatNum)(f.toFixed(2))))),u.default.createElement(s.default,{title:"核销情况",lsItemData:t,activeKey:n,onChangeActiveKey:a,itemList:t.get("businessList"),amountStr:"parentTax",amountStr2:"tax"}))}}]),t}(),t.Xmft=function(e){function t(){return c(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,u.default.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.lsItemData,n=e.activeKey,a=e.onChangeActiveKey,r=l.categoryTypeAll[t.get("categoryType")],o=(t.getIn([r,"stockCardList"]),t.get("projectCard"));return u.default.createElement("div",null,u.default.createElement("ul",{className:"ylls-item-detail"},u.default.createElement("li",null,u.default.createElement("span",null,"摘要："),u.default.createElement("span",null,t.get("runningAbstract"))),o&&o.size?o.map(function(e){return u.default.createElement("div",{key:e.get("uuid")},u.default.createElement("li",null,u.default.createElement("span",null,"项目："),u.default.createElement("span",null,("COMNCRD"!==e.get("code")?e.get("code")+"_":"")+e.get("name"))),o.size>1?u.default.createElement("li",{key:e.get("uuid")},u.default.createElement("span",null,"金额："),u.default.createElement("span",null,(0,i.formatMoney)(e.get("amount"),2,""))):"")}):""),u.default.createElement(s.default,{title:"核销情况",lsItemData:t,activeKey:n,onChangeActiveKey:a,itemList:t.get("paymentList"),amountStr:"amount"}))}}]),t}(),t.Jzsy=function(e){function t(){return c(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,u.default.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.lsItemData,n=e.activeKey,a=e.onChangeActiveKey,r=l.categoryTypeAll[t.get("categoryType")],o=t.getIn([r,"netProfitAmount"]),c=t.getIn([r,"lossAmount"]),d=t.get("projectCard");return u.default.createElement("div",null,u.default.createElement("ul",{className:"ylls-item-detail"},u.default.createElement("li",null,u.default.createElement("span",null,"处理类别："),u.default.createElement("span",null,t.get("categoryName"))),u.default.createElement("li",null,u.default.createElement("span",null,"摘要："),u.default.createElement("span",null,t.get("runningAbstract"))),d&&d.size?d.map(function(e){return u.default.createElement("div",{key:e.get("uuid")},u.default.createElement("li",null,u.default.createElement("span",null,"项目："),u.default.createElement("span",null,("COMNCRD"!==e.get("code")?e.get("code")+"_":"")+e.get("name"))))}):"",u.default.createElement("li",null,u.default.createElement("span",null,"净"+(o>0?"收益":"损失")+"金额："),u.default.createElement("span",null,(0,i.formatMoney)(o>0?o:c))),u.default.createElement("li",null,u.default.createElement("span",null,"资产原值："),u.default.createElement("span",null,(0,i.formatMoney)(t.getIn([r,"originalAssetsAmount"])))),u.default.createElement("li",null,u.default.createElement("span",null,"累计折旧摊销："),u.default.createElement("span",null,(0,i.formatMoney)(t.getIn([r,"depreciationAmount"]),2)))),u.default.createElement(s.default,{title:"核销情况",lsItemData:t,activeKey:n,onChangeActiveKey:a,itemList:t.get("businessList"),amountStr:"amount-tax"}))}}]),t}()},1332:function(e,t,n){},1334:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,n=arguments[1];return((e={},l(e,r.INIT_ACCOUNTCONF,function(){return o}),l(e,r.GET_ACCOUNTCONF_ALL_SETTINGS,function(){return t=t.set("runningCategory",(0,a.fromJS)(n.receivedData.categoryList)).set("accountList",(0,a.fromJS)(n.receivedData.accountList)).set("taxRateTemp",(0,a.fromJS)(n.receivedData.rate))}),l(e,r.GET_RUNNING_CATEGORY,function(){var e=[];return n.receivedData.resultList[0].childList.forEach(function(t){return e.push(t.uuid)}),t.set("runningCategory",(0,a.fromJS)(n.receivedData.resultList)).setIn(["flags","runningShowChild"],(0,a.fromJS)(e)).set("taxRateTemp",(0,a.fromJS)(n.receivedData.rate))}),l(e,r.GET_RUNNING_ACCOUNT,function(){return t.set("accountList",(0,a.fromJS)(n.receivedData.resultList))}),l(e,r.GET_RUNNING_TAX_RATE,function(){return t.set("taxRateTemp",(0,a.fromJS)(n.receivedData.result))}),l(e,r.CHANGE_ACCOUNTCONF_CURRENTPAGE,function(){return t.setIn(["flags","currentPage"],n.currentPage)}),l(e,r.BEFORE_INSERT_ACCOUNTCONF,function(){if(t=t.setIn(["flags","insertOrModify"],"insert").set(n.currentPage+"Temp",o.get(n.currentPage+"Temp")),"account"===n.currentPage?t=t.setIn(["flags","showZHModal"],!0):"fromLrAccount"!==n.insertFrom&&(t=t.setIn(["flags","showModal"],!0)),n.data&&"running"===n.currentPage){var e=n.data.categoryType,r={LB_YYSR:"acBusinessIncome",LB_YYZC:"acBusinessExpense",LB_YYWSR:"acBusinessOutIncome",LB_YYWZC:"acBusinessOutExpense",LB_JK:"acLoan",LB_TZ:"acInvest",LB_ZB:"acCapital",LB_CQZC:"acAssets",LB_FYZC:"acCost",LB_ZSKX:"acTemporaryReceipt",LB_ZFKX:"acTemporaryPay",LB_XCZC:"acPayment",LB_SFZC:"acTax"}[e];n.data&&"running"===n.currentPage&&(t=t.set(n.currentPage+"Temp",(0,a.fromJS)(n.data)).setIn([n.currentPage+"Temp","name"],"").setIn([n.currentPage+"Temp","uuid"],"").setIn([n.currentPage+"Temp","runningAbstract"],"").setIn([n.currentPage+"Temp","level"],n.item.get("level")).setIn([n.currentPage+"Temp",r,"currentContactsRange"],(0,a.fromJS)(n.data[r].contactsRange)).setIn([n.currentPage+"Temp",r,"currentStockRange"],(0,a.fromJS)(n.data[r].stockRange)).setIn([n.currentPage+"Temp","curPropertyCostList"],(0,a.fromJS)(n.data.propertyCostList)).setIn([n.currentPage+"Temp","currentProjectRange"],(0,a.fromJS)(n.data.projectRange)));var u=t.getIn(["flags","insertOrModify"]);"LB_CQZC"===n.data.categoryType&&"insert"===u&&"长期资产"===n.data.name&&("SX_GDZC"===n.data.propertyAssets&&!n.data.acAssets.canInsertFixed||"SX_WXZC"===n.data.propertyAssets&&!n.data.acAssets.canInsertUnVisible||"SX_TZXFDC"===n.data.propertyAssets&&!n.data.acAssets.canInsertEstate)&&(t=t.setIn([n.currentPage+"Temp","propertyAssets"],"")),t=t.setIn([n.currentPage+"Temp","property"],n.data.property).setIn([n.currentPage+"Temp","parentUuid"],n.item.get("uuid")).setIn([n.currentPage+"Temp","parentName"],n.data.name).setIn([n.currentPage+"Temp","categoryType"],n.data.categoryType)}return t}),l(e,r.BEFORE_MODIFY_ACCOUNTCONF_RUNNING_OLD,function(){return t="account"===n.currentPage?t.setIn(["flags","showZHModal"],!0):t.setIn(["flags","showModal"],!0),n.old?t.setIn(["flags","insertOrModify"],"modify").set(n.currentPage+"Temp",n.item):t.setIn(["flags","insertOrModify"],"modify").set(n.currentPage+"Temp",(0,a.fromJS)(n.name)).setIn([n.currentPage+"Temp","categoryType"],(0,a.fromJS)(n.name).get("categoryType")).setIn([n.currentPage+"Temp","parentUuid"],n.item.get("parentUuid")).setIn([n.currentPage+"Temp","parentName"],n.item.get("parentName")).setIn([n.currentPage+"Temp","currentPropertyPay"],n.item.get("propertyPay")).setIn([n.currentPage+"Temp","currentPropertyTax"],n.item.get("propertyTax")).setIn([n.currentPage+"Temp","currentPropertyAssets"],n.item.get("propertyAssets")).setIn(["runningTemp","currentPropertyInvest"],n.item.get("propertyInvest"))}),l(e,r.CLOSE_ACCOUNTCONF_MODAL,function(){return t.setIn(["flags","showModal"],!1).setIn(["flags","showZHModal"],!1)}),l(e,r.ACCOUNTCONF_RUNNING_TRIANGLE_SWITCH,function(){var e=t.getIn(["flags","runningShowChild"]);if(n.showChild){var a=e.splice(e.findIndex(function(e){return e===n.uuid}),1);return t.setIn(["flags","runningShowChild"],a)}var r=e.push(n.uuid);return t.setIn(["flags","runningShowChild"],r)}),l(e,r.ACCOUNTCONF_RUNNING_CHECKBOX_CHECK,function(){var e=n.upperArr,a=n.item,r=t.getIn(["flags","runningSelect"]);if(-1===r.indexOf(a.get("uuid"))){var u=function e(t){return t.map(function(t){-1===r.indexOf(t.get("uuid"))&&(r=r.push(t.get("uuid")),t.get("childList")&&t.get("childList").size&&e(t.get("childList")),t.get("disableList")&&t.get("disableList").size&&e(t.get("disableList")))})};return r=r.push(a.get("uuid")),a.get("childList")&&a.get("childList").size&&u(a.get("childList")),a.get("disableList")&&a.get("disableList").size&&u(a.get("disableList")),t=t.setIn(["flags","runningSelect"],r)}var i=function e(t){return t.map(function(t){if(r.indexOf(t.get("uuid"))>-1){var n=r.findIndex(function(e){return e===t.get("uuid")});r=r.splice(n,1)}t.get("childList")&&t.get("childList").size&&e(t.get("childList")),t.get("disableList")&&t.get("disableList").size&&e(t.get("disableList"))})},l=r.findIndex(function(e){return e===a.get("uuid")});return r=r.splice(l,1),a.get("childList")&&a.get("childList").size&&i(a.get("childList")),a.get("disableList")&&a.get("disableList").size&&i(a.get("disableList")),r=r.filter(function(t){return-1===e.indexOf(t)}),t.setIn(["flags","runningSelect"],r)}),l(e,r.SELECT_OR_UNSELECT_ACCOUNT_ALL,function(){if(n.selectAll)return t.setIn(["flags","accountSelect"],(0,a.fromJS)([]));var e=t.getIn(["accountList",0,"childList"]),r=[];return e.forEach(function(e){return r.push(e.get("uuid"))}),t.setIn(["flags","accountSelect"],(0,a.fromJS)(r))}),l(e,r.ACCOUNTCONF_ACCOUNT_CHECKBOX_CHECK,function(){var e=t.getIn(["flags","accountSelect"]);if(n.checked){var a=e.splice(e.findIndex(function(e){return e===n.uuid}),1);return t.setIn(["flags","accountSelect"],a)}var r=e.push(n.uuid);return t.setIn(["flags","accountSelect"],r)}),l(e,r.ACCOUNTCONF_TAX_RATE_SETTING_SCALE,function(){return t.setIn(["taxRateTemp","scale"],n.value)}),l(e,r.SELECT_ACCOUNTCONF_UPPER_CATEGORY,function(){var e=n.value.split(u.TREE_JOIN_STR);return t.setIn(["runningTemp","parentUuid"],e[0]).setIn(["runningTemp","parentName"],e[1]).setIn(["runningTemp","property"],e[2]).setIn(["runningTemp","categoryType"],e[3]).setIn(["runningTemp","beSpecial"],"业务收入"===e[1]||"成本支出"===e[1])}),l(e,r.CHANGE_ACCOUNTCONF_COMMON_STRING,function(){return t.setIn(n.placeArr,n.value)}),l(e,r.CHANGE_ACCOUNTCONF_ACCOUNT_NUMBER,function(){var e=t.getIn(["accountTemp","name"]);return""===e&&(t=t.setIn(["accountTemp","name"],n.accountType+""+(n.value.length>4?n.value.substr(n.value.length-4):n.value))),t}),l(e,r.SELECT_ACCOUNTCONF_ALL_AC,function(){return t.setIn([n.tab+"Temp",n.place?n.place+"AcId":"acId"],n.acId).setIn([n.tab+"Temp",n.place?n.place+"AcFullName":"acFullName"],n.acFullName).setIn([n.tab+"Temp",n.place?n.place+"AssCategory":"assCategoryList"],n.asscategorylist)}),l(e,r.SELECT_ACCOUNTCONF_MULTIPLE_AC,function(){return t=t.setIn(n.placeArr,(0,a.fromJS)(n.acList)),n.assPlace&&(t=t.setIn(["runningTemp",n.assPlace],(0,a.fromJS)(n.assList))),t}),l(e,r.AFTER_UPDATE_ACCOUNTCONF_RUNNING_CATEGORY,function(){return t=(t=t.set("runningCategory",(0,a.fromJS)(n.receivedData.resultList)).setIn(["flags","runningSelect"],(0,a.fromJS)([]))).setIn(["flags","showModal"],!1).setIn(["flags","showZHModal"],!1)}),l(e,r.AFTER_UPDATE_ACCOUNTCONF_ACCOUNT,function(){return t=t.set("accountList",(0,a.fromJS)(n.receivedData.resultList)),t=n.saveAndNew?t.set("accountTemp",o.get("accountTemp")):t.setIn(["flags","showModal"],!1).setIn(["flags","showZHModal"],!1)}),l(e,r.CHANGE_ACCOUNTCONF_PROPERTY,function(){return t=t.setIn(n.placeArr,(0,a.fromJS)(n.valArr))}),l(e,r.CHANGE_ITEM_DISABLE_STATUS,function(){var e=t.getIn(["runningCategory",0].concat(s(n.placeArr))).toJS(),r=function e(t){for(var a in t)t[a].canUse=!n.disabled,t[a].childList.length&&e(t[a].childList),t[a].disableList&&t[a].disableList.length&&e(t[a].disableList)};return e.childList&&e.childList.length&&r(e.childList),e.disableList&&e.disableList.length&&r(e.disableList),t.setIn(["runningCategory",0].concat(s(n.placeArr)),(0,a.fromJS)(e)).setIn(["runningCategory",0].concat(s(n.placeArr),["canUse"]),!n.disabled)}),l(e,r.GET_REGRET_CATEGORY,function(){return t.set("regretCategory",(0,a.fromJS)(n.receivedData.result))}),l(e,r.CHANGE_REGRET_ACCOUNT_ACCOUNT_NAME,function(){var e=n.value.split(u.TREE_JOIN_STR);return t=t.setIn([n.tab+"Temp",n.placeUUid],e[0]).setIn([n.tab+"Temp",n.placeName],e[1]).setIn([n.tab+"Temp",n.isBalance],e[2]).setIn([n.tab+"Temp",n.isBusiness],e[3])}),l(e,r.CHANGE_REGRET_ACCOUNT_COMMON_STRING,function(){return n.placeArr&&(t=t.setIn(n.placeArr,n.value)),n.place&&(t=t.set(n.place,n.value)),t}),l(e,r.CHANGE_REGRET_CANCLE,function(){return t=t.setIn(["regretTemp","categoryUuid"],"").setIn(["regretTemp","categoryName"],"请选择流水类别").setIn(["regretTemp","isBalance"],"").setIn(["regretTemp","isBusiness"],"").setIn(["regretTemp","subordinateName"],"").setIn(["regretTemp","showModal"],!1).setIn(["regretTemp","showConfirmModal"],!1)}),e)[n.type]||function(){return t})()};var a=n(18),r=(n(22),i(n(1273))),u=i(n(27));function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var o=(0,a.fromJS)({flags:{currentPage:"running",insertOrModify:"insert",showModal:!1,showZHModal:!1,isTaxQuery:!0,runningSelect:[],accountSelect:[],runningShowChild:[],currentAccount:{uuid:"",name:""},currentAss:{assId:"",assCategory:"",assName:""},selectAcList:[],selectDepositedAcList:[],selectCarryoverAcList:[],selectStockAcList:[]},runningTemp:{property:"",uuid:"",name:"",parentUuid:"",parentName:"",runningAbstract:"",propertyPay:"",propertyAssets:"",propertyCarryover:"",propertyCostList:[],propertyTax:"",categoryType:"",propertyInvest:"",acList:[],canDelete:!0,beSpecial:!1,acAvailable:!0,acBusinessIncome:{incomeAc:[],incomeList:[],receivablesAc:[],receivablesList:[],inAdvanceAc:[],inAdvanceList:[],stockAc:[],stockList:[],carryoverAc:[],carryoverList:[],beManagemented:!1,beDeposited:!1,beCarryover:!0},acBusinessExpense:{payAc:[],payList:[],deliveryAc:[],deliveryList:[],inAdvanceAc:[],inAdvanceList:[],beManagemented:!1,beDeposited:!1},acBusinessOutIncome:{relationAc:[],relationList:[],receivablesAc:[],receivablesList:[],beManagemented:!1},acBusinessOutExpense:{relationAc:[],relationList:[],deliveryAc:[],deliveryList:[],beManagemented:!1},acCost:{saleAc:[],saleList:[{assId:"",assName:"",assCategory:[""]}],manageAc:[],manageList:[],financeAc:[],financeList:[],beManagemented:!1,deliveryAc:[],deliveryList:[]},acPayment:{saleAc:[],saleList:[],manageAc:[],manageList:[],accruedAc:[],accruedList:[],fundAc:[],fundList:[],socialSecurityAc:[],socialSecurityList:[],incomeTaxAc:[],incomeTaxList:[],welfareAc:[],welfareList:[],beAccrued:!1,beWithholding:!1,beWelfare:!1},acTax:{accruedAc:[],accruedList:[],payAc:[],payList:[],turnOutAc:[],turnOutList:[],inAdvanceAc:[],inAdvanceList:[],beAccrued:!1,beTurnOut:!1,beInAdvance:!1},acTemporaryReceipt:{relationAc:[],relationList:[]},acTemporaryPay:{relationAc:[],relationList:[]},acLoan:{loanAc:[],loanList:[],interestAc:[],interestList:[],unpaidInterestAc:[],unpaidInterestList:[],beManagemented:!1},acInvest:{investAc:[],investList:[],profitAc:[],profitList:[],uncollectedProfitAc:[],uncollectedProfitList:[],uncollectedInterestAc:[],beManagemented:!1},acCapital:{capitalAc:[],capitalList:[],unassignedAc:[],unassignedList:[],assignedAc:[],assignedList:[],payableAc:[],payableList:[],beManagemented:!1},acAssets:{assetsAc:[],assetsList:[],incomeAc:[],incomeList:[],lossAc:[],lossList:[],depreciationAc:[],depreciationList:[],cleaningAc:[],cleaningList:[],upgradeAc:[],upgradeList:[],receivablesAc:[],receivablesList:[],deliveryAc:[],deliveryList:[],beManagemented:!1,beCleaning:!1}},accountTemp:{uuid:"00000001",type:"general",name:"",openingName:"",openingBank:"",accountNumber:"",beginAmount:"",acId:"",acFullName:"",openInfo:!1},taxRateTemp:{scale:"small",payableAcId:"",payableAcFullName:"",payableAssCategory:[],payableRate:"3",notBillingAcId:"",notBillingAcFullName:"",notBillingAssCategory:[],inputAcId:"",inputAcFullName:"",inputAssCategory:[],certifiedAcId:"",certifiedAcFullName:"",certifiedAssCategory:[],waitOutputAcId:"",waitOutputAcFullName:"",waitOutputAssCategory:[],outputAcId:"",outputAcFullName:"",outputAssCategory:[],turnOutUnpaidAcId:"",turnOutUnpaidAcFullName:"",turnOutUnpaidAssCategory:"",unpaidAcId:"",unpaidAcFullName:"",unpaidAssCategory:"",outputRate:"17"},runningCategory:[{childList:[]}],regretCategory:[{childList:[]}],regretTemp:{categoryName:"请选择流水类别",categoryUuid:"",isBalance:"",isBusiness:"",subordinateName:"",showConfirmModal:!1,showModal:!1},accountList:[{uuid:"0000000",type:"",name:"全部",openingName:"",openingBank:"",accountNumber:"",acId:"",acFullName:"",childList:[]}]})},1335:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,n=arguments[1];return((e={},u(e,r.INIT_YLLS,function(){return i}),u(e,r.GET_YLLS_BUSINESS_DATA,function(){return t.set("lsItemData",(0,a.fromJS)(n.item)).set("curItem",(0,a.fromJS)(n.curItem))}),e)[n.type]||function(){return t})()};var a=n(18),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1270));function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=(0,a.fromJS)({views:{},lsItemData:{},curItem:{}})},1354:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getContactsRunningCategory=t.getContactsCardList=t.getContactsTypeList=t.changeWlmxMorePeriods=t.getBusinessDetail=t.changeDetailAccountCommonString=t.getDetailList=t.reflashDetailList=t.getPeriodDetailList=void 0;var a,r=d(n(1452)),u=n(52),i=(a=u)&&a.__esModule?a:{default:a},l=(n(18),n(22)),s=(d(n(30)),d(n(27))),o=d(n(43)),c=(d(n(1242)),d(n(60)));function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}t.getPeriodDetailList=function(e,t,n,a,u){var d=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return function(_,T){_({type:r.SWITCH_LOADING_MASK});T().wlmxbState;var y="",C="";"true"===n?y=a:C=a,(0,i.default)("getContactsDetailCardList","POST",JSON.stringify({year:e?e.substr(0,4):"",month:e?e.substr(6,2):"",endYear:t?t.substr(0,4):"",endMonth:t?t.substr(6,2):"",cardCategoryUuid:y,cardSubUuid:C,pageNum:1,pageSize:s.MXB_PAGE_SIZE,getPeriod:"true"}),function(n){if(_({type:r.SWITCH_LOADING_MASK}),(0,l.showMessage)(n)){var a=_(o.everyTableGetPeriod(n)),i=e||a,s=n.data.periodDtoJson?_(o.everyTableGetIssuedate(n.data.periodDtoJson)):"";_({type:r.GET_WLMX_CARD_LIST,receivedData:n.data.cardList,period:n.data.periodDtoJson,issues:s,cardPages:n.data.pages,cardCurPage:1,getPeriod:"true"});var c=!1;n.data.cardList.map(function(e){e.uuid===u&&(c=!0)});var d=c?u:n.data.cardList[0]?n.data.cardList[0].uuid:"";_(f(i,t,d,"","",1,"true")),_(p(i,t,d,"true")),_(g("",["flags","curCardUuid"],d))}}),_(m(e,t,"true")),d&&(_(c.addPageTabPane("MxbPanes","WlMxb","WlMxb","往来明细表")),_(c.addHomeTabpane("Mxb","WlMxb","往来明细表")))}},t.reflashDetailList=function(e,t,n,a,u,c,d,_,T){var y=arguments.length>9&&void 0!==arguments[9]?arguments[9]:"";return function(C,A){C({type:r.SWITCH_LOADING_MASK});A().wlmxbState;var E="",I="";"true"===n?E=a:I=a,(0,i.default)("getContactsDetailCardList","POST",JSON.stringify({year:e?e.substr(0,4):"",month:e?e.substr(6,2):"",endYear:t?t.substr(0,4):"",endMonth:t?t.substr(6,2):"",cardCategoryUuid:E,cardSubUuid:I,pageNum:_,pageSize:s.MXB_PAGE_SIZE,getPeriod:"true"}),function(n){if(C({type:r.SWITCH_LOADING_MASK}),(0,l.showMessage)(n)){C(o.everyTableGetPeriod(n));var a=n.data.periodDtoJson?C(o.everyTableGetIssuedate(n.data.periodDtoJson)):"";C({type:r.GET_WLMX_CARD_LIST,receivedData:n.data.cardList,period:n.data.periodDtoJson,cardPages:n.data.pages,cardCurPage:T,getPeriod:"true",issues:a});var i=u||(n.data.cardList[0]?n.data.cardList[0].uuid:"");C(f(e,t,i,c,d,_,"true",y)),C(p(e,t,i,"true")),C(g("",["flags","curCardUuid"],i))}}),C(m(e,t,"true"))}};var f=t.getDetailList=function(e,t,n,a,u,c,d){var f=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"";return function(d,g){d({type:r.SWITCH_LOADING_MASK}),(0,i.default)("getContactsDetailList","POST",JSON.stringify({year:e?e.substr(0,4):"",month:e?e.substr(6,2):"",endYear:t?t.substr(0,4):"",endMonth:t?t.substr(6,2):"",cardUuid:n,categoryUuid:a,propertyCost:u,pageNum:c,pageSize:s.MXB_PAGE_SIZE,getPeriod:"true",searchContent:f}),function(a){if(d({type:r.SWITCH_LOADING_MASK}),(0,l.showMessage)(a)){var u=a.data.result,i=u.allHappenIncomeAmount,s=u.allHappenExpenseAmount,c=u.allPaymentIncomeAmount,g=u.allPaymentExpenseAmount,m=u.allBalanceAmount,p=u.direction,_=u.relation,T=u.pages,y=a.data.periodDtoJson?d(o.everyTableGetIssuedate(a.data.periodDtoJson)):"";d({type:r.GET_WLMX_DETAIL_LIST,receivedData:a.data.result.detailList,period:a.data.periodDtoJson,issuedate:e,issues:y,endissuedate:t,curCardUuid:n,curPage:T,allHappenIncomeAmount:i,allHappenExpenseAmount:s,allPaymentIncomeAmount:c,allPaymentExpenseAmount:g,allBalanceAmount:m,direction:p,wlRelate:_,pageNum:T,getPeriod:"true",searchContent:f})}})}},g=t.changeDetailAccountCommonString=function(e,t,n){return function(a){var u="string"==typeof t?[e+"Temp",t]:[e+"Temp"].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t));"flags"===t[0]&&(u=t),a({type:r.CHANGE_WLMX_DETAIL_ACCOUNT_COMMON_STRING,tab:e,placeArr:u,value:n})}},m=(t.getBusinessDetail=function(e,t,n,a,u){var d=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return function(f){f({type:r.SWITCH_LOADING_MASK}),(0,i.default)("getContactsDetailList","POST",JSON.stringify({year:t?t.substr(0,4):"",month:t?t.substr(6,2):"",endYear:n?n.substr(0,4):"",endMonth:n?n.substr(6,2):"",cardUuid:e.get("uuid"),categoryUuid:"",propertyCost:"",pageNum:1,pageSize:s.MXB_PAGE_SIZE,getPeriod:"true",searchContent:d}),function(i){if(f({type:r.SWITCH_LOADING_MASK}),(0,l.showMessage)(i)){var s=i.data.result,c=s.allHappenIncomeAmount,g=s.allHappenExpenseAmount,m=s.allPaymentIncomeAmount,p=s.allPaymentExpenseAmount,_=s.allBalanceAmount,T=s.direction,y=s.relation,C=s.pages,A=i.data.periodDtoJson?f(o.everyTableGetIssuedate(i.data.periodDtoJson)):"";f({type:r.GET_WLMX_DETAIL_LIST,receivedData:i.data.result.detailList,period:i.data.periodDtoJson,issuedate:t,issues:A,endissuedate:n,typeUuid:a,wlType:u,curCardUuid:e.get("uuid"),curPage:C,allHappenIncomeAmount:c,allHappenExpenseAmount:g,allPaymentIncomeAmount:m,allPaymentExpenseAmount:p,allBalanceAmount:_,direction:T,wlRelate:y,pageNum:C,getPeriod:"true",searchContent:d})}}),f(c.addPageTabPane("MxbPanes","WlMxb","WlMxb","往来明细表")),f(c.addHomeTabpane("Mxb","WlMxb","往来明细表"))}},t.changeWlmxMorePeriods=function(e){return{type:r.CHANGE_WLMX_MORE_PERIODS,chooseperiods:e}},t.getContactsTypeList=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return function(a){(0,i.default)("getContactsDetailCategory","POST",JSON.stringify({year:e?e.substr(0,4):"",month:e?e.substr(6,2):"",endYear:t?t.substr(0,4):"",endMonth:t?t.substr(6,2):"",getPeriod:n}),function(e){if((0,l.showMessage)(e)){var t=e.data.periodDtoJson?a(o.everyTableGetIssuedate(e.data.periodDtoJson)):"";a({type:r.GET_WLMX_TYPE_LIST,receivedData:e.data.categoryList,period:e.data.periodDtoJson,issues:t,getPeriod:n})}})}}),p=(t.getContactsCardList=function(e,t,n,a){var u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,d=arguments.length>6&&void 0!==arguments[6]&&arguments[6],m=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"";return function(_,T){var y="",C="";"true"===n?y=a:C=a;var A=T().wlmxState,E=d?"":A.getIn(["flags","categoryUuid"]),I=d?"":A.getIn(["flags","propertyCost"]);d&&_(g("",["flags","categoryName"],"全部")),(0,i.default)("getContactsDetailCardList","POST",JSON.stringify({year:e?e.substr(0,4):"",month:e?e.substr(6,2):"",endYear:t?t.substr(0,4):"",endMonth:t?t.substr(6,2):"",cardCategoryUuid:y,cardSubUuid:C,pageNum:c,pageSize:s.MXB_PAGE_SIZE,getPeriod:u}),function(n){if((0,l.showMessage)(n)){var a=n.data.periodDtoJson?_(o.everyTableGetIssuedate(n.data.periodDtoJson)):"";_({type:r.GET_WLMX_CARD_LIST,receivedData:n.data.cardList,period:n.data.periodDtoJson,cardPages:n.data.pages,cardCurPage:c,issues:a,getPeriod:u});var i=d?m:n.data.cardList[0]?n.data.cardList[0].uuid:"";_(f(e,t,i,E,I,1,"true")),_(p(e,t,i)),_(g("",["flags","curCardUuid"],i))}})}},t.getContactsRunningCategory=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return function(u){(0,i.default)("getContactsRunningCategory","POST",JSON.stringify({year:e?e.substr(0,4):"",month:e?e.substr(6,2):"",endYear:t?t.substr(0,4):"",endMonth:t?t.substr(6,2):"",cardUuid:n,getPeriod:a}),function(e){if((0,l.showMessage)(e)){var t=e.data.periodDtoJson?u(o.everyTableGetIssuedate(e.data.periodDtoJson)):"";u({type:r.GET_WLMX_RUNNING_CATEGORY,receivedData:e.data.runningCategoryList,period:e.data.periodDtoJson,getPeriod:a,issues:t})}})}})},1358:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,n=arguments[1];return((e={},s(e,u.INIT_LR_CALCULATE_STATE,function(){return o}),s(e,u.SET_INVOIC_ASSLIST_FROM_SETTINGS,function(){return t=c(n.rate,t)}),s(e,u.CHANGE_LR_CALCULATE_COMMON_STATE,function(){return t.setIn([n.parent,n.position],n.value)}),s(e,u.CHANGE_LR_COST_TRANSFER_CATEGORY_UUID_AND_NAME,function(){if(n.acBusinessIncome.beCarryover){var e=n.acBusinessIncome.carryoverAc[0],r=n.acBusinessIncome.stockAc[0];t=(t=t.setIn(["costTransferTemp","acList"],(0,a.fromJS)([{acId:e.acId,acName:e.acFullName,type:e.type}])).updateIn(["costTransferTemp","acList"],function(e){return e.push((0,a.fromJS)({acId:r.acId,acName:r.acFullName,type:r.type}))})).setIn(["costTransferTemp","assList"],(0,a.fromJS)([])),e.assCategoryList.length&&e.assCategoryList.forEach(function(n){t=t.updateIn(["costTransferTemp","assList"],function(t){return t.push((0,a.fromJS)({assId:"",assCategory:n,assName:"",type:e.type}))})}),r.assCategoryList.length&&r.assCategoryList.forEach(function(e){t=t.updateIn(["costTransferTemp","assList"],function(t){return t.push((0,a.fromJS)({assId:"",assCategory:e,assName:"",type:r.type}))})})}return t=t.setIn(["costTransferTemp","categoryUuid"],n.valueList[0]).setIn(["costTransferTemp","categoryName"],n.valueList[1]).setIn(["costTransferTemp","stockRange"],(0,a.fromJS)(n.acBusinessIncome.stockRange))}),s(e,u.CHANGE_LR_COST_TRANSFER_RUNNING_ASSLIST,function(){var e=n.ass.split(i.TREE_JOIN_STR);return t=t.setIn(["costTransferTemp","assList",n.index,"assId"],e[0]).setIn(["costTransferTemp","assList",n.index,"assName"],e[1])}),s(e,u.CHANGE_LR_CALCULATE_RATE_ASSLIST,function(){var e=n.ass.split(i.TREE_JOIN_STR);return t=t.setIn(["rateAcAndAsslist","assList",n.index,"assId"],e[0]).setIn(["rateAcAndAsslist","assList",n.index,"assName"],e[1])}),s(e,u.SELECT_LR_CALCULATE_ITEM,function(){var e=t.getIn([n.Tem,"uuidList"]),r=t.getIn([n.Tem,"stockCardUuidList"]);if(-1===e.indexOf(n.uuid))e=e.push(n.uuid),r=r.push({uuid:n.stockCardUuid,amount:n.amount,onlyId:n.uuid});else{var u=e.findIndex(function(e){return e===n.uuid}),i=r.findIndex(function(e){return e.get("onlyId")===n.uuid});e=e.splice(u,1),r=r.splice(i,1)}var l=r.toJS();return t=t.setIn([n.Tem,"uuidList"],e).setIn([n.Tem,"stockCardUuidList"],(0,a.fromJS)(l))}),s(e,u.SELECT_LR_CALCULATE_ITEM_ALL,function(){if(n.selectAll)return t.setIn([n.Tem,"uuidList"],(0,a.fromJS)([])).setIn([n.Tem,"stockCardUuidList"],(0,a.fromJS)([]));var e=t.get(n.ListName),r=[],u=[];return e.forEach(function(e){r.push(e.get("uuid")),u.push({uuid:e.get("stockCardUuid"),amount:e.get("amount")})}),t.setIn([n.Tem,"uuidList"],(0,a.fromJS)(r)).setIn([n.Tem,"stockCardUuidList"],(0,a.fromJS)(u))}),s(e,u.AFTER_GET_COMMON_LIST,function(){return t=t.set(n.ListName,(0,a.fromJS)(n.receivedData.result)).setIn([n.temp,"uuidList"],(0,a.fromJS)([])).setIn([n.temp,"stockCardUuidList"],(0,a.fromJS)([]))}),s(e,u.AFTER_GET_TRANSFER_OUT_LIST,function(){return t=t.set("transferOutObj",(0,a.fromJS)(n.receivedData))}),s(e,u.AFTER_SUCCESS_INSERT_CARRYOVER_ITEM,function(){if(n.saveAndNew){var e=t.getIn(["costTransferTemp","runningDate"]);t=t.setIn(["flags","insertOrModify"],"insert").set("costTransferTemp",o.get("costTransferTemp")).setIn(["costTransferTemp","runningDate"],e).set("costTransferList",o.get("costTransferList"))}else t=t.setIn(["flags","insertOrModify"],"modify").setIn(["costTransferTemp","carryoverBusinessUuid"],n.carryoverBusinessUuid);return t}),s(e,u.AFTER_SUCCESS_INSERT_INVOICEAUTH_ITEM,function(){if(n.saveAndNew){var e=t.getIn(["invoiceAuthTemp","runningDate"]);t=t.setIn(["flags","insertOrModify"],"insert").setIn(["invoiceAuthTemp","runningDate"],e).set("invoiceAuthTemp",o.get("invoiceAuthTemp")).set("invoiceAuthList",o.get("invoiceAuthList"))}else t=t.setIn(["flags","insertOrModify"],"modify").setIn(["invoiceAuthTemp","authBusinessUuid"],n.authBusinessUuid);return t}),s(e,u.AFTER_SUCCESS_INSERT_INTERNALTRANSFER_ITEM,function(){return t=n.saveAndNew?t.setIn(["flags","insertOrModify"],"insert").set("InternalTransferTemp",o.get("InternalTransferTemp")):t.setIn(["flags","insertOrModify"],"modify").set("InternalTransferTemp",o.get("InternalTransferTemp"))}),s(e,u.CHANGE_LR_ACCOUNT_ACCOUNT_NAME,function(){var e=n.value.split(i.TREE_JOIN_STR);return t=t.setIn([n.tab+"Temp",n.placeUUid],e[0]).setIn([n.tab+"Temp",n.placeName],e[1])}),s(e,u.INIT_CLR_ACCOUNT,function(){t.get("hideCategoryList"),t.getIn(["flags","paymentType"]);if("saveAndNew"===n.strJudgeType){var e=t.getIn([n.temp,"runningDate"]),r=o.get(n.temp);t=t.setIn(["flags","insertOrModify"],"insert").setIn(["flags","runningInsertOrModify"],"insert").setIn(["flags","dealType"],"").set(n.temp,r).setIn([n.temp,"runningDate"],e)}if("afterSave"===n.strJudgeType){var u=(0,a.fromJS)(n.receivedData),i=t.getIn(["flags","insertOrModify"]);t=t.set(n.temp,u).setIn(["flags","insertOrModify"],"modify").setIn(["flags","runningInsertOrModify"],"modify").setIn([n.temp,"flowNumber"],n.callBackObj.flowNumber),"insert"===i&&(t=t.setIn([n.temp,"uuid"],n.callBackObj.uuid))}return t}),s(e,u.AFTER_SUCCESS_INSERT_INVOICING_ITEM,function(){if(n.saveAndNew){var e=t.getIn(["invoicingTemp","runningDate"]);t=t.setIn(["flags","insertOrModify"],"insert").set("invoicingTemp",o.get("invoicingTemp")).setIn(["invoicingTemp","runningDate"],e).set("invoicingList",o.get("invoicingList"))}else t=t.setIn(["flags","insertOrModify"],"modify").setIn(["invoicingTemp","makeOutBusinessUuid"],n.makeOutBusinessUuid);return t}),s(e,u.AFTER_SUCCESS_INSERT_TRANSFER_OUT_ITEM,function(){if(n.saveAndNew){var e=t.getIn(["transferOutTemp","runningDate"]);t=t.setIn(["flags","insertOrModify"],"insert").setIn(["transferOutTemp","runningDate"],e).set("transferOutTemp",o.get("transferOutTemp")).set("transferOutObj",o.get("transferOutObj"))}else t=t.setIn(["flags","insertOrModify"],"modify").setIn(["transferOutTemp","turnOutBusinessUuid"],n.turnOutBusinessUuid);return t}),s(e,u.AFTER_SUCCESS_INSERT_LB_ZZ_ITEM,function(){if(n.saveAndNew){var e=t.getIn(["InternalTransferTemp","runningDate"]);t=t.setIn(["flags","insertOrModify"],"insert").setIn(["InternalTransferTemp","runningDate"],e).set("InternalTransferTemp",o.get("InternalTransferTemp")).set("InternalTransferTemp",o.get("InternalTransferTemp"))}else t=t.setIn(["flags","insertOrModify"],"modify");return t}),s(e,u.TRANSFER_OUT_FROM_CXLS_JUMP_TO_NBZZ,function(){var e=n.item,r=(0,a.fromJS)(n.receivedData.result),u=(0,a.fromJS)(n.receivedData.result.childList),i=void 0,l=void 0,s=void 0,c=void 0;u.map(function(e,t){"LX_NBZC"==e.get("runningType")&&(i=e.get("accountName"),s=e.get("accountUuid")),"LX_NBZR"==e.get("runningType")&&(l=e.get("accountName"),c=e.get("accountUuid"))});var d=r.get("enclosureList")?r.get("enclosureList"):(0,a.fromJS)([]);return t=o.setIn(["flags","insertOrModify"],n.insertOrModify).setIn(["InternalTransferTemp","uuid"],e.get("uuid")).setIn(["InternalTransferTemp","runningDate"],e.get("runningDate")).setIn(["InternalTransferTemp","runningAbstract"],e.get("runningAbstract")).setIn(["InternalTransferTemp","runningState"],r.get("runningState")).setIn(["InternalTransferTemp","amount"],r.get("amount")).setIn(["InternalTransferTemp","fromAccountName"],i).setIn(["InternalTransferTemp","toAccountName"],l).setIn(["InternalTransferTemp","fromAccountUuid"],s).setIn(["InternalTransferTemp","toAccountUuid"],c).setIn(["InternalTransferTemp","flowNumber"],r.get("flowNumber")).setIn(["InternalTransferTemp","enclosureList"],d)}),s(e,u.TRANSFER_OUT_FROM_CXLS_JUMP_TO_ZJTX,function(){var e=n.item,r=(0,a.fromJS)(n.receivedData.result),u=r.get("enclosureList")?r.get("enclosureList"):(0,a.fromJS)([]);return t=o.setIn(["flags","insertOrModify"],n.insertOrModify).setIn(["flags","dealType"],r.get("categoryName")).set(["DepreciationTemp"],(0,a.fromJS)(r)).setIn(["DepreciationTemp","uuid"],e.get("uuid")).setIn(["DepreciationTemp","propertyCost"],r.get("propertyCost")).setIn(["flags","propertyCostList"],r.get("propertyCostList")).setIn(["DepreciationTemp","usedProject"],r.get("usedProject")).setIn(["DepreciationTemp","categoryUuid"],r.get("categoryUuid")).setIn(["DepreciationTemp","projectCard"],r.getIn(["projectCard",0])).setIn(["DepreciationTemp","runningDate"],e.get("runningDate")).setIn(["DepreciationTemp","runningAbstract"],e.get("runningAbstract")).setIn(["DepreciationTemp","runningState"],r.get("runningState")).setIn(["DepreciationTemp","amount"],r.get("amount")).setIn(["DepreciationTemp","flowNumber"],r.get("flowNumber")).setIn(["flags","projectRange"],r.get("projectRange")).setIn(["DepreciationTemp","enclosureList"],u)}),s(e,u.COST_TRANSFER_FROM_CXLS_JUMP_TO_LRLS,function(){var e=n.item,r=(0,a.fromJS)(n.receivedData.result),u=n.receivedData.result.acBusinessIncome.stockCardList;if(t=o.setIn(["flags","insertOrModify"],n.insertOrModify).setIn(["costTransferTemp","runningDate"],e.get("runningDate")).setIn(["flags","projectRange"],r.get("projectRange")).setIn(["costTransferTemp","runningAbstract"],e.get("runningAbstract")).setIn(["costTransferTemp","categoryUuid"],r.get("categoryUuid")).setIn(["costTransferTemp","categoryName"],r.get("categoryName")).setIn(["costTransferTemp","stockCardList"],(0,a.fromJS)(u)),"modify"===n.insertOrModify){var i=r.get("enclosureList")?r.get("enclosureList"):(0,a.fromJS)([]);t=t.setIn(["costTransferTemp","carryoverBusinessUuid"],e.get("uuid")).setIn(["costTransferTemp","flowNumber"],e.get("flowNumber")).setIn(["costTransferTemp","runningState"],"LX_JZCB"===e.get("runningType")?"STATE_YYSR_XS":"STATE_YYSR_TS").setIn(["costTransferTemp","carryoverAmount"],e.get("notHandleAmount")).setIn(["costTransferTemp","uuidList"],r.get("businessList").map(function(e){return e.get("uuid")})).setIn(["costTransferTemp","enclosureList"],i);var l=[];r.getIn(["businessList"]).map(function(e){l.push({uuid:e.get("stockCardUuid"),amount:e.get("amount")})}),t=t.set("costTransferList",r.getIn(["businessList"])).setIn(["costTransferTemp","stockCardUuidList"],(0,a.fromJS)(l));r.getIn(["acBusinessIncome","carryoverAc",0]),r.getIn(["acBusinessIncome","stockAc",0]),r.getIn(["acBusinessIncome","carryoverList"]),r.getIn(["acBusinessIncome","stockList"])}else{t=(t=t.setIn(["costTransferTemp","carryoverBusinessUuid"],"").setIn(["costTransferTemp","runningState"],e.get("runningState")).setIn(["costTransferTemp","carryoverAmount"],"").setIn(["costTransferTemp","uuidList"],(0,a.fromJS)([e.get("uuid")]))).set("costTransferList",(0,a.fromJS)([e]));var s=r.getIn(["acBusinessIncome","carryoverAc",0]),c=r.getIn(["acBusinessIncome","stockAc",0]);t=t.setIn(["costTransferTemp","acList"],(0,a.fromJS)([{acId:s.get("acId"),acName:s.get("acFullName"),type:s.get("type")}])).updateIn(["costTransferTemp","acList"],function(e){return e.push((0,a.fromJS)({acId:c.get("acId"),acName:c.get("acFullName"),type:c.get("type")}))}),s.get("assCategoryList").size&&s.get("assCategoryList").forEach(function(e){t=t.updateIn(["costTransferTemp","assList"],function(t){return t.push((0,a.fromJS)({assId:"",assCategory:e,assName:"",type:s.get("type")}))})}),c.get("assCategoryList").size&&c.get("assCategoryList").forEach(function(e){t=t.updateIn(["costTransferTemp","assList"],function(t){return t.push((0,a.fromJS)({assId:"",assCategory:e,assName:"",type:c.get("type")}))})})}return t}),s(e,u.INVOICE_AUTH_FROM_CXLS_JUMP_TO_LRLS,function(){var e=n.item,r=(0,a.fromJS)(n.receivedData.result);if(t=o.setIn(["flags","insertOrModify"],n.insertOrModify).setIn(["invoiceAuthTemp","runningDate"],e.get("runningDate")).setIn(["invoiceAuthTemp","runningAbstract"],e.get("runningAbstract")).setIn(["invoiceAuthTemp","categoryUuid"],r.get("categoryUuid")),"modify"===n.insertOrModify){var u=r.get("enclosureList")?r.get("enclosureList"):(0,a.fromJS)([]);t=(t=t.setIn(["invoiceAuthTemp","authBusinessUuid"],e.get("uuid")).setIn(["invoiceAuthTemp","enclosureList"],u).setIn(["invoiceAuthTemp","flowNumber"],e.get("flowNumber")).setIn(["invoiceAuthTemp","billAuthType"],"LX_FPRZ_CG"===e.get("runningType")?"BILL_AUTH_TYPE_CG":"BILL_AUTH_TYPE_TG").setIn(["invoiceAuthTemp","uuidList"],r.get("businessList").map(function(e){return e.get("uuid")}))).set("invoiceAuthList",r.getIn(["businessList"]));var i=r.get("billAcList"),l=r.get("billAssList");t=c(n.rate,t,i,l)}else t=(t=t.setIn(["invoiceAuthTemp","authBusinessUuid"],"").setIn(["invoiceAuthTemp","billAuthType"],"LX_ZZS_WRZ"===e.get("runningType")?"BILL_AUTH_TYPE_CG":"BILL_AUTH_TYPE_TG").setIn(["invoiceAuthTemp","uuidList"],(0,a.fromJS)([e.get("uuid")]))).set("invoiceAuthList",(0,a.fromJS)([e])),t=c(n.rate,t);return t}),s(e,u.INVOICING_FROM_CXLS_JUMP_TO_LRLS,function(){var e=n.item,r=(0,a.fromJS)(n.receivedData.result);if(t=o.setIn(["flags","insertOrModify"],n.insertOrModify).setIn(["invoicingTemp","runningDate"],e.get("runningDate")).setIn(["invoicingTemp","runningAbstract"],e.get("runningAbstract")).setIn(["invoicingTemp","categoryUuid"],r.get("categoryUuid")),"modify"===n.insertOrModify){var u=r.get("enclosureList")?r.get("enclosureList"):(0,a.fromJS)([]);t=(t=t.setIn(["invoicingTemp","makeOutBusinessUuid"],e.get("uuid")).setIn(["invoicingTemp","flowNumber"],e.get("flowNumber")).setIn(["invoiceAuthTemp","enclosureList"],u).setIn(["invoicingTemp","billMakeOutType"],"LX_KJFP_XS"===e.get("runningType")?"BILL_MAKE_OUT_TYPE_XS":"BILL_MAKE_OUT_TYPE_TS").setIn(["invoicingTemp","uuidList"],r.get("businessList").map(function(e){return e.get("uuid")}))).set("invoicingList",r.getIn(["businessList"]));var i=r.get("billAcList"),l=r.get("billAssList");t=c(n.rate,t,i,l)}else t=(t=t.setIn(["invoicingTemp","makeOutBusinessUuid"],"").setIn(["invoicingTemp","billMakeOutType"],"LX_ZZS_WKP"===e.get("runningType")?"BILL_MAKE_OUT_TYPE_XS":"BILL_MAKE_OUT_TYPE_TS").setIn(["invoicingTemp","uuidList"],(0,a.fromJS)([e.get("uuid")]))).set("invoicingList",(0,a.fromJS)([r])),t=c(n.rate,t);return t}),s(e,u.TRANSFER_OUT_FROM_CXLS_JUMP_TO_LRLS,function(){var e=n.item,r=(0,a.fromJS)(n.receivedData.result),u=r.get("enclosureList")?r.get("enclosureList"):(0,a.fromJS)([]);t=o.setIn(["flags","insertOrModify"],n.insertOrModify).setIn(["transferOutTemp","runningDate"],e.get("runningDate")).setIn(["transferOutTemp","flowNumber"],e.get("flowNumber")).setIn(["transferOutTemp","runningAbstract"],e.get("runningAbstract")).setIn(["transferOutTemp","categoryUuid"],r.get("categoryUuid")).setIn(["transferOutTemp","turnOutBusinessUuid"],e.get("uuid")).setIn(["transferOutTemp","handleMonth"],r.getIn(["businessList",0,"runningDate"]).substr(0,7)).setIn(["transferOutTemp","uuidList"],r.get("businessList").map(function(e){return e.get("uuid")})).setIn(["transferOutTemp","enclosureList"],u);var i=r.get("billAcList"),l=r.get("billAssList");t=c(n.rate,t,i,l);var s=0,d=0,f=0,g=0;return r.get("businessList").forEach(function(e){"bill_common"===e.get("billType")?(g+=1,f+=e.get("parentTax")?e.get("parentTax"):e.get("tax")):(d+=1,s+=e.get("parentTax")?e.get("parentTax"):e.get("tax"))}),t=t.setIn(["transferOutObj","flowDtoList"],r.get("businessList")).setIn(["transferOutObj","inputAmount"],s).setIn(["transferOutObj","inputCount"],d).setIn(["transferOutObj","outputAmount"],f).setIn(["transferOutObj","outputCount"],g)}),s(e,u.GET_COST_CATEGORY,function(){return t=t.setIn(["costTransferTemp","runningCategory"],(0,a.fromJS)(n.receivedData.categoryList))}),s(e,u.CHANGE_CALCULATE_COMMON_STRING,function(){return n.placeArr&&(t=t.setIn(n.placeArr,n.value)),n.place&&(t=t.set(n.place,n.value)),t}),s(e,u.CHANGE_CALCULATE_ENCLOSURE_LIST,function(){var e=[];return t.getIn([n.place,"enclosureList"]).map(function(t){e.push(t)}),n.imgArr.forEach(function(t){e.push(t)}),t=t.setIn([n.place,"enclosureList"],(0,a.fromJS)(e)).setIn([n.place,"enclosureCountUser"],e.length)}),s(e,u.DELETE_CALCULATE_UPLOAD_FJ_URL,function(){var e=[];return t.getIn([n.place,"needDeleteUrl"]).map(function(t){e.push(t)}),t.getIn([n.place,"enclosureList"]).map(function(a,r){r==n.index&&(e.push(t.getIn([n.place,"enclosureList",r]).set("beDelete",!0)),t=t.deleteIn([n.place,"enclosureList",r]))}),t=t.setIn([n.place,"needDeleteUrl"],(0,a.fromJS)(e)).setIn([n.place,"enclosureCountUser"],t.getIn([n.place,"enclosureList"]).size)}),s(e,u.GET_CAL_LABEL_FETCH,function(){return t=t.setIn([n.setPlace,"label"],(0,a.fromJS)(n.receivedData.data)).set("tagModal",!0)}),s(e,u.CHANGE_CAL_TAG_NAME,function(){return t.getIn([n.setPlace,"enclosureList"]).map(function(e,a){a==n.index&&(t=t.setIn([n.setPlace,"enclosureList",a,"label"],n.value))}),t=t.set("tagModal",!1)}),s(e,u.GET_DEAL_TYPE_CATEGORY,function(){return t=t.setIn(["DepreciationTemp","dealTypeList",0,"childList"],(0,a.fromJS)(n.receivedData[0].childList))}),e)[n.type]||function(){return t})()};var a=n(18),r=n(22),u=l(n(1342)),i=l(n(27));function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=(0,a.fromJS)({flags:{circleStatus:!0,runningInsertOrModify:"insert",insertOrModify:"insert",selectI:0,dealType:"",projectList:[],projectRange:[],propertyCostList:[],dealCategory:[],beProject:!1},costTransferTemp:{carryoverBusinessUuid:"",uuidList:[],stockCardUuidList:[],categoryUuid:"",runningState:"STATE_YYSR_XS",runningDate:(0,r.formatDate)(),runningAbstract:"销售存货结转成本",carryoverAmount:"",categoryName:"",acList:[],assList:[],stockList:[],stockCardList:[{code:"",name:"",amount:""}],cardUuid:"",runningCategory:[{childList:[]}],enclosureList:[],needDeleteUrl:[],tagModal:!1,label:[]},rateAcAndAsslist:{acList:[],assList:[]},invoiceAuthTemp:{authBusinessUuid:"",uuidList:[],billAuthType:"BILL_AUTH_TYPE_CG",runningDate:(0,r.formatDate)(),runningAbstract:"增值税专用发票认证",categoryUuid:"",acList:[],assList:[],enclosureList:[],needDeleteUrl:[],tagModal:!1,label:[]},invoicingTemp:{makeOutBusinessUuid:"",uuidList:[],billMakeOutType:"BILL_MAKE_OUT_TYPE_XS",runningDate:(0,r.formatDate)(),runningAbstract:"收入开具发票",categoryUuid:"",acList:[],assList:[],enclosureList:[],needDeleteUrl:[],tagModal:!1,label:[]},transferOutTemp:{uuidList:[],turnOutBusinessUuid:"",runningDate:(0,r.formatDate)(),runningAbstract:"转出未交增值税",handleMonth:"",enclosureList:[],needDeleteUrl:[],tagModal:!1,label:[]},InternalTransferTemp:{uuid:"",runningState:"STATE_ZZ",runningDate:(0,r.formatDate)(),runningAbstract:"内部转账",amount:"",categoryType:"",categoryUuid:"",fromAccountUuid:"",toAccountUuid:"",accountChildList:[],enclosureList:[],needDeleteUrl:[],tagModal:!1,label:[]},DepreciationTemp:{uuid:"",runningState:"STATE_CQZC_ZJTX",runningDate:(0,r.formatDate)(),runningAbstract:"资产折旧摊销",amount:"",categoryType:"",categoryUuid:"",assetType:"XZ_ZJTX",dealTypeList:[{childList:[]}],usedProject:!1,projectCard:{name:"",code:"",uuid:"",amount:""},propertyCost:"",enclosureList:[],needDeleteUrl:[],tagModal:!1,label:[]},costTransferList:[],invoiceAuthList:[],invoicingList:[],transferOutObj:{flowDtoList:[],inputAmount:"",inputCount:"",outputAmount:"",outputCount:""},vcKey:0});function c(e,t,n,r){var u=[],l=[];("small"===e.scale?[{name:"payable",type:i.ACCOUNT_RATE_TYPE_OF_PAYABLE},{name:"notBilling",type:i.ACCOUNT_RATE_TYPE_OF_NOTBILLING}]:[{name:"input",type:i.ACCOUNT_RATE_TYPE_OF_INPUT},{name:"certified",type:i.ACCOUNT_RATE_TYPE_OF_CERTIFIED},{name:"waitOutput",type:i.ACCOUNT_RATE_TYPE_OF_WAITOUTPUT},{name:"output",type:i.ACCOUNT_RATE_TYPE_OF_OUTPUT},{name:"turnOutUnpaid",type:i.ACCOUNT_RATE_TYPE_OF_TURNOUTUNPAID},{name:"unpaid",type:i.ACCOUNT_RATE_TYPE_OF_UNPAID}]).forEach(function(t){u.push({acId:e[t.name+"AcId"],acName:e[t.name+"AcFullName"],type:t.type}),e[t.name+"AssCategory"].forEach(function(e){l.push({assId:"",assName:"",assCategory:e,type:t.type})})});var s=(0,a.fromJS)(u),o=(0,a.fromJS)(l);return n&&n.size&&n.forEach(function(e){var t=e.get("type");s=s.update(function(n){return n.map(function(n){return n.get("type")===t?n.set("acId",e.get("acId")).set("acName",e.get("acName")):n})})}),r&&r.size&&r.forEach(function(e){var t=e.get("type"),n=e.get("assCategory");o=o.update(function(a){return a.map(function(a){return a.get("type")===t&&a.get("assCategory")===n?a.set("assId",e.get("assId")).set("assName",e.get("assName")):a})})}),t.setIn(["rateAcAndAsslist","acList"],s).setIn(["rateAcAndAsslist","assList"],o)}},1452:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SWITCH_LOADING_MASK="SWITCH_LOADING_MASK",t.GET_WLMX_DETAIL_LIST="GET_WLMX_DETAIL_LIST",t.INIT_WLMX_DETAIL_ACCOUNT_LIST="INIT_WLMX_DETAIL_ACCOUNT_LIST",t.GET_WLMX_RUNNING_CATEGORY_DETAIL="GET_WLMX_RUNNING_CATEGORY_DETAIL",t.CHANGE_WLMX_DETAIL_ACCOUNT_COMMON_STRING="CHANGE_WLMX_DETAIL_ACCOUNT_COMMON_STRING",t.CHANGE_WLMX_MORE_PERIODS="CHANGE_WLMX_MORE_PERIODS",t.GET_WLMX_TYPE_LIST="GET_WLMX_TYPE_LIST",t.GET_WLMX_CARD_LIST="GET_WLMX_CARD_LIST",t.GET_WLMX_RUNNING_CATEGORY="GET_WLMX_RUNNING_CATEGORY",t.INIT_WLMXB="INIT_WLMXB"},1564:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,n=arguments[1];return((e={},i(e,r.INIT_WLMXB,function(){return l}),i(e,r.GET_WLMX_DETAIL_LIST,function(){return"true"===n.getPeriod&&(t=t.set("period",(0,a.fromJS)(n.period)).set("issues",(0,a.fromJS)(n.issues))),n.endissuedate&&(t=t.set("chooseperiods",!0)),(t=void 0!==n.typeUuid?t.setIn(["flags","typeUuid"],n.typeUuid).setIn(["flags","wlType"],n.wlType):t.setIn(["flags","wlType"],t.getIn(["flags","wlType"]))).set("detailsTemp",(0,a.fromJS)(n.receivedData)).set("pageCount",n.pageNum).set("currentPage",n.curPage).setIn(["flags","issuedate"],(0,a.fromJS)(n.issuedate)).setIn(["flags","endissuedate"],(0,a.fromJS)(n.endissuedate)).setIn(["flags","curCardUuid"],(0,a.fromJS)(n.curCardUuid)).setIn(["flags","allHappenIncomeAmount"],(0,a.fromJS)(n.allHappenIncomeAmount)).setIn(["flags","allHappenExpenseAmount"],(0,a.fromJS)(n.allHappenExpenseAmount)).setIn(["flags","allPaymentIncomeAmount"],(0,a.fromJS)(n.allPaymentIncomeAmount)).setIn(["flags","allPaymentExpenseAmount"],(0,a.fromJS)(n.allPaymentExpenseAmount)).setIn(["flags","allBalanceAmount"],(0,a.fromJS)(n.allBalanceAmount)).setIn(["flags","direction"],(0,a.fromJS)(n.direction)).setIn(["flags","wlRelate"],(0,a.fromJS)(n.wlRelate)).setIn(["flags","searchContent"],(0,a.fromJS)(n.searchContent))}),i(e,r.CHANGE_WLMX_DETAIL_ACCOUNT_COMMON_STRING,function(){return n.placeArr&&(t=t.setIn(n.placeArr,n.value)),n.place&&(t=t.set(n.place,n.value)),t}),i(e,r.CHANGE_WLMX_MORE_PERIODS,function(){return n.chooseperiods?t.set("chooseperiods",!0):t.update("chooseperiods",function(e){return!e})}),i(e,r.GET_WLMX_TYPE_LIST,function(){return"true"===n.getPeriod&&(t=t.set("period",(0,a.fromJS)(n.period)).set("issues",(0,a.fromJS)(n.issues))),t=t.setIn(["contactTypeTree"],(0,a.fromJS)(n.receivedData))}),i(e,r.GET_WLMX_CARD_LIST,function(){return"true"===n.getPeriod&&(t=t.set("period",(0,a.fromJS)(n.period)).set("issues",(0,a.fromJS)(n.issues))),t=t.set("cardList",(0,a.fromJS)(n.receivedData)).set("cardPages",(0,a.fromJS)(n.cardPages)).set("cardCurPage",(0,a.fromJS)(n.cardCurPage))}),i(e,r.GET_WLMX_RUNNING_CATEGORY,function(){return"true"===n.getPeriod&&(t=t.set("period",(0,a.fromJS)(n.period)).set("issues",(0,a.fromJS)(n.issues))),t=t.set("runningCategory",(0,a.fromJS)(n.receivedData))}),e)[n.type]||function(){return t})()};var a=n(18),r=u(n(1452));u(n(27));function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=(0,a.fromJS)({flags:{issuedate:"",endissuedate:"",categoryName:"全部",curCardUuid:"",allHappenAmount:0,allHappenBalanceAmount:0,allIncomeAmount:0,allExpenseAmount:0,allBalanceAmount:0,selectList:[],runningShowChild:[],showRunningInfo:{},selectCategory:"",wlRelate:"3",wlType:"全部",typeUuid:"",isTop:"",categoryUuid:"",selectedCard:"",searchContent:""},cardList:[],chooseperiods:!1,runningCategory:[{childList:[]}],detailsTemp:[],contactTypeTree:[],period:{closedmonth:"",closedyear:"",firstmonth:"",firstyear:"",lastmonth:"",lastyear:""},issues:[],currentPage:1,pageCount:0,cardPages:0,cardCurPage:1})},1737:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=m(n(1)),i=n(17),l=(n(18),n(127)),s=m(n(2354)),o=m(n(2355)),c=m(n(2356)),d=m(n(2357)),f=(g(n(27)),g(n(1354)));function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function m(e){return e&&e.__esModule?e:{default:e}}var p=(0,i.immutableRenderDecorator)(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.dispatch,n=(e.curCategory,e.detailsTemp),a=e.issuedate,r=e.panes,i=e.wlmxState,g=(e.accountConfState,e.runningCategory,e.curAccountUuid,e.editLrAccountPermission),m=e.showDrawer,p=i.get("currentPage"),_=i.get("pageCount"),T=i.getIn(["flags","allHappenIncomeAmount"]),y=i.getIn(["flags","allHappenExpenseAmount"]),C=i.getIn(["flags","allPaymentIncomeAmount"]),A=i.getIn(["flags","allPaymentExpenseAmount"]),E=i.getIn(["flags","allBalanceAmount"]),I=i.getIn(["flags","direction"]),S=i.getIn(["flags","wlRelate"]),L=(i.getIn(["flags","wlType"]),i.getIn(["flags","typeUuid"]),i.getIn(["flags","endissuedate"])),N=i.getIn(["flags","curCardUuid"]),v=i.getIn(["flags","categoryUuid"]),O=i.getIn(["flags","propertyCost"]),h=""===S||"3"===S?"wlmxb-table-left":"wlmxb-table-left-small";return u.default.createElement(l.TableAll,{className:h},""===S||"3"===S?u.default.createElement(o.default,{className:"amountwlmx-table-width",wlRelate:S}):u.default.createElement(s.default,{className:"amountwlmx-table-width-all",wlRelate:S}),u.default.createElement(l.TableBody,null,""===S||"3"===S?(n||[]).map(function(e,i){return u.default.createElement(c.default,{idx:i+1,key:i,mxitem:e,issuedate:a,dispatch:t,panes:r,uuidList:n.filter(function(e,t){return t>0?e.get("uuid")!==n.getIn([t-1,"uuid"])&&"期初值"!==e.get("runningAbstract"):"期初值"!==e.get("runningAbstract")}),className:"amountwlmx-table-width",editLrAccountPermission:g,showDrawer:m})}):(n||[]).map(function(e,i){return u.default.createElement(d.default,{idx:i+1,key:i,mxitem:e,issuedate:a,dispatch:t,panes:r,uuidList:n.filter(function(e,t){return t>0?e.get("uuid")!==n.getIn([t-1,"uuid"])&&"期初值"!==e.get("runningAbstract"):"期初值"!==e.get("runningAbstract")}),className:"amountwlmx-table-width-all",wlRelate:S,editLrAccountPermission:g,showDrawer:m})}),""===S||"3"===S?u.default.createElement(l.TableItem,{className:"amountwlmx-table-width amountwlmx-table-hj",line:n.size?n.size+1:1},u.default.createElement("li",null),u.default.createElement("li",null),u.default.createElement("li",null,"合计"),u.default.createElement(l.TableOver,{className:"amountwlmx-title-cell"},u.default.createElement("div",{className:"amountwlmx-item-second-footer"},u.default.createElement(l.Amount,null,T),u.default.createElement(l.Amount,null,y))),u.default.createElement(l.TableOver,{className:"amountwlmx-title-cell"},u.default.createElement("div",{className:"amountwlmx-item-second-footer"},u.default.createElement(l.Amount,null,C),u.default.createElement(l.Amount,null,A))),u.default.createElement("li",null,I),u.default.createElement("li",null,u.default.createElement("div",{className:"wlmx-amount-center"},u.default.createElement(l.Amount,null,E)))):u.default.createElement(l.TableItem,{className:"amountwlmx-table-width-all amountwlmx-table-hj",line:n.size?n.size+1:1},u.default.createElement("li",null),u.default.createElement("li",null),u.default.createElement("li",null,"合计"),u.default.createElement(l.TableOver,null,u.default.createElement("div",{className:"wlmx-amount-center"},u.default.createElement(l.Amount,null,"2"==S?T:y))),u.default.createElement(l.TableOver,null,u.default.createElement("div",{className:"wlmx-amount-center"},u.default.createElement(l.Amount,null,"2"==S?C:A))),u.default.createElement(l.TableOver,null,u.default.createElement("div",{className:"wlmx-amount-center"},u.default.createElement(l.Amount,null,E))))),u.default.createElement(l.TablePagination,{currentPage:p,pageCount:_,paginationCallBack:function(e){return t(f.getDetailList(a,L,N,v,O,e))}}))}}]),t}())||a;t.default=p},2352:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=p(n(70)),u=p(n(45)),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(69),n(55);var l=p(n(1)),s=n(56),o=(n(18),m(n(27))),c=(n(127),p(n(2353))),d=(p(n(1737)),p(n(2358)));n(2363);var f=p(n(1281)),g=m(n(1354));function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function p(e){return e&&e.__esModule?e:{default:e}}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}u.default.Option,r.default.TabPane;var y=(0,s.connect)(function(e){return e})(a=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,u=Array(r),i=0;i<r;i++)u[i]=arguments[i];return n=a=T(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),a.state={yllsVisible:!1},T(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),i(t,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){"TRUE"!==sessionStorage.getItem("isContactsYEJump")&&this.props.dispatch(g.getPeriodDetailList()),sessionStorage.removeItem("isContactsYEJump")}},{key:"shouldComponentUpdate",value:function(e,t){return this.props.allState!=e.allState||this.props.accountConfState!=e.accountConfState||this.props.wlmxState!=e.wlmxState||this.props.homeState!=e.homeState||this.props.yllsState!=e.yllsState||this.state!=t}},{key:"componentWillReceiveProps",value:function(e){this.props.homeState.get("homeActiveKey")===e.homeState.get("homeActiveKey")&&this.props.homeState.get("pageActive")===e.homeState.get("pageActive")||!0!==this.state.yllsVisible||this.setState({yllsVisible:!1})}},{key:"render",value:function(){var e,t=this,n=this.props,a=(n.allState,n.accountConfState),r=n.dispatch,u=n.wlmxState,i=n.homeState,s=n.yllsState,m=this.state.yllsVisible,p=u.get("runningCategory"),T=u.get("issues"),y=u.get("currentPage"),C=u.get("pageCount"),A=(u.get("cardPages"),u.get("cardCurPage")),E=u.getIn(["flags","issuedate"]),I=T.findIndex(function(e){return e===E}),S=T.slice(0,I),L=u.getIn(["flags","endissuedate"]),N=u.getIn(["flags","propertyCost"]),v=u.get("detailsTemp")?u.get("detailsTemp"):[],O=u.get("chooseperiods"),h=u.get("cardList"),b=u.getIn(["flags","curCardUuid"]),M=u.getIn(["flags","categoryUuid"]),R=u.getIn(["flags","categoryName"]),P=u.getIn(["flags","wlRelate"]),D=u.get("flags"),U=D.get("isTop"),w=D.get("typeUuid"),G=D.get("searchContent"),J=(a.get("accountList"),u.getIn(["flags","PageTab"]),i.get("panes")),x=i.get("pageList"),F=i.getIn(["views","isSpread"]),B=i.getIn(["permissionInfo","LrAccount"]).getIn(["edit","permission"]),H=s.get("lsItemData");return l.default.createElement("div",{className:"Page-lrAccount wlMxb"},l.default.createElement(c.default,(_(e={issues:T,currentPage:y,issuedate:E,endissuedate:L,nextperiods:S,dispatch:r,pageList:x,isSpread:F,chooseperiods:O,propertyCost:N,curCardUuid:b,categoryUuid:M,isTop:U,typeUuid:w},"currentPage",y),_(e,"cardCurPage",A),_(e,"wlRelate",P),_(e,"searchContent",G),e)),l.default.createElement(d.default,{flags:D,issuedate:E,wlmxState:u,runningCategory:p,dispatch:r,detailsTemp:v,panes:J,currentPage:y,pageCount:C,curCategoryTree:""+M+o.TREE_JOIN_STR+R+o.TREE_JOIN_STR+N,endissuedate:L,cardList:h,curCardUuid:b,editLrAccountPermission:B,categoryUuid:M,propertyCost:N,categoryName:R,showDrawer:function(){return t.setState({yllsVisible:!0})},searchContent:G}),m?l.default.createElement(f.default,{yllsVisible:m,dispatch:r,yllsState:s,onClose:function(){return t.setState({yllsVisible:!1})},editLrAccountPermission:B,panes:J,lsItemData:H,uuidList:v.filter(function(e,t){return t>0?e.get("uuid")!==v.getIn([t-1,"uuid"])&&"期初余额"!==e.get("runningAbstract"):"期初余额"!==e.get("runningAbstract")}),showDrawer:function(){return t.setState({yllsVisible:!0})},refreshList:function(){return r(g.reflashDetailList(E,L,U,w,b,M,N,y,A))}}):"")}}]),t}())||a;t.default=y},2353:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=p(n(32)),u=p(n(129)),i=p(n(45)),l=p(n(100)),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(51),n(128),n(55),n(99);var o=p(n(1)),c=n(17),d=(n(18),n(127),n(22),m(n(27)),p(n(1227))),f=m(n(1354)),g=m(n(60));function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function p(e){return e&&e.__esModule?e:{default:e}}var _=l.default.Search,T=(0,c.immutableRenderDecorator)(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),s(t,[{key:"render",value:function(){var e=this.props,t=(e.categoryName,e.accountList,e.accountName,e.transferAccountName,e.currentPage),n=(e.PageTab,e.issuedate),a=e.endissuedate,l=e.nextperiods,s=(e.paymentType,e.dispatch),c=(e.newCard,e.issues),m=(e.curAccountUuid,e.pageList),p=e.isSpread,T=e.chooseperiods,y=e.propertyCost,C=e.curCardUuid,A=e.categoryUuid,E=e.isTop,I=e.typeUuid,S=e.cardCurPage,L=e.wlRelate,N=e.searchContent,v=""===L||"3"===L?"":"wlmxb-title";return o.default.createElement("div",{className:"title "+v},p||m.getIn(["Mxb","pageList"]).size<=1?"":o.default.createElement(d.default,{pageItem:m.get("Mxb"),onClick:function(e,t,n){-1===m.getIn(["Mxb","pageList"]).indexOf("往来明细表")&&sessionStorage.setItem("previousPage","home"),s(g.addPageTabPane("MxbPanes",n,n,t)),s(g.addHomeTabpane(e,n,t))}}),o.default.createElement(i.default,{className:"title-date",value:n,onChange:function(e){s(f.getPeriodDetailList(e,"",E,I,C)),s(f.changeDetailAccountCommonString("",["flags","selectedCard"],"")),s(f.changeDetailAccountCommonString("",["flags","searchContent"],""))}},c.map(function(e,t){return o.default.createElement(Option,{key:t,value:e},e)})),o.default.createElement("span",{className:"title-checkboxtext",onClick:function(){T&&a!==n&&(s(f.getPeriodDetailList(n,"",E,I,C)),s(f.changeDetailAccountCommonString("",["flags","selectedCard"],""))),s(f.changeWlmxMorePeriods())}},o.default.createElement(u.default,{className:"title-checkbox",checked:T}),o.default.createElement("span",null,"至")),o.default.createElement(i.default,{disabled:!T,className:"title-date",value:a===n?"":a,onChange:function(e){s(f.getPeriodDetailList(n,e,E,I,C)),s(f.changeDetailAccountCommonString("",["flags","selectedCard"],"")),s(f.changeDetailAccountCommonString("",["flags","searchContent"],""))}},l.map(function(e,t){return o.default.createElement(Option,{key:t,value:e},e)})),o.default.createElement("span",{className:"account-detail-margin"},o.default.createElement("span",null,"摘要："),o.default.createElement(_,{value:N,style:{width:150},className:"lrls-search-tree",placeholder:"根据摘要搜索流水",onSearch:function(e){s(f.reflashDetailList(n,a,E,I,C,A,y,t,S,e))},onChange:function(e){s(f.changeDetailAccountCommonString("",["flags","searchContent"],e.target.value))}})),o.default.createElement(r.default,{type:"ghost",className:"title-right refresh-btn",onClick:function(){s(f.reflashDetailList(n,a,E,I,C,A,y,t,S,N))}},"刷新"))}}]),t}())||a;t.default=T},2354:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(1),l=(r=i)&&r.__esModule?r:{default:r},s=n(17),o=n(127);var c=(0,s.immutableRenderDecorator)(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),u(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.wlRelate;return l.default.createElement("div",{className:"table-title-wrap"},l.default.createElement("ul",{className:t+" table-title"},l.default.createElement("li",null,l.default.createElement("span",null,"日期")),l.default.createElement("li",null,l.default.createElement("span",null,"流水号")),l.default.createElement("li",null,l.default.createElement("span",null,"摘要")),l.default.createElement(o.TableOver,null,l.default.createElement("span",null,"2"==n?"应收额":"应付额")),l.default.createElement(o.TableOver,null,l.default.createElement("span",null,"2"==n?"实收额":"实付额")),l.default.createElement(o.TableOver,null,l.default.createElement("span",null,"2"==n?"应收净额":"应付净额"))),l.default.createElement("i",{className:"shadow-title-amountwlmx"}))}}]),t}())||a;t.default=c},2355:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(1),l=(r=i)&&r.__esModule?r:{default:r},s=n(17),o=n(127);var c=(0,s.immutableRenderDecorator)(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),u(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.wlRelate;return l.default.createElement("div",{className:"table-title-wrap"},l.default.createElement("ul",{className:t+" table-title",style:{height:"55px"}},l.default.createElement("li",null,l.default.createElement("span",null,"日期")),l.default.createElement("li",null,l.default.createElement("span",null,"流水号")),l.default.createElement("li",null,l.default.createElement("span",null,"摘要")),l.default.createElement(o.TableOver,{className:"amountwlmx-title-cell"},l.default.createElement("div",{className:"amountwlmx-item-first"},"发生额"),l.default.createElement("div",{className:"amountwlmx-item-second-one"},l.default.createElement("span",null,"应收额"),l.default.createElement("span",null,"应付额"))),l.default.createElement(o.TableOver,{className:"amountwlmx-title-cell"},l.default.createElement("div",{className:"amountwlmx-item-first"},"收付额"),l.default.createElement("div",{className:"amountwlmx-item-second-one"},l.default.createElement("span",null,"实收额"),l.default.createElement("span",null,"实付额"))),l.default.createElement("li",null,l.default.createElement("span",null,"方向")),l.default.createElement("li",null,l.default.createElement("span",null,""==n||"3"==n?"应收应付余额":"1"==n?"应收余额":"应付余额"))),l.default.createElement("i",{className:"shadow-title-amountwlmx"}))}}]),t}())||a;t.default=c},2356:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;c(n(47));var a,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(46);var u=c(n(1)),i=(n(18),n(17)),l=(o(n(1245)),o(n(1239)),n(127)),s=o(n(1243));function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function c(e){return e&&e.__esModule?e:{default:e}}var d=(0,i.immutableRenderDecorator)(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.idx,n=e.mxitem,a=(e.issuedate,e.dispatch),r=e.className,i=(e.panes,e.uuidList,e.editLrAccountPermission,e.showDrawer),o=(n.get("beBusiness"),n.get("runningState"),n.get("runningIndex")&&n.get("runningIndex")>0?n.get("flowNumber")+"_"+n.get("runningIndex"):n.get("flowNumber")),c=n.get("runningDate"),d=c?c.substr(0,10):"";return u.default.createElement(l.TableItem,{className:r,line:t},u.default.createElement("li",null,d),u.default.createElement("li",null,u.default.createElement("span",{className:"account-flowNumber",onClick:function(){a(s.getYllsBusinessData(n,i))}},o)),u.default.createElement(l.TableOver,{className:"abstract-left"},n.get("runningAbstract")+(n.get("cardAbstract")?n.get("cardAbstract"):"")),u.default.createElement(l.TableOver,{className:"amountwlmx-title-cell"},u.default.createElement("div",{className:"amountwlmx-item-second-footer"},u.default.createElement(l.Amount,null,n.get("happenIncomeAmount")),u.default.createElement(l.Amount,null,n.get("happenExpenseAmount")))),u.default.createElement(l.TableOver,{className:"amountwlmx-title-cell"},u.default.createElement("div",{className:"amountwlmx-item-second-footer"},u.default.createElement(l.Amount,null,n.get("paymentIncomeAmount")),u.default.createElement(l.Amount,null,n.get("paymentExpenseAmount")))),u.default.createElement(l.TableOver,null,n.get("direction")),u.default.createElement(l.TableOver,null,u.default.createElement("div",{className:"wlmx-amount-center"},u.default.createElement(l.Amount,null,n.get("balanceAmount")))))}}]),t}())||a;t.default=d},2357:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;c(n(47));var a,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(46);var u=c(n(1)),i=(n(18),n(17)),l=(o(n(1245)),o(n(1239)),n(127)),s=o(n(1243));function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function c(e){return e&&e.__esModule?e:{default:e}}var d=(0,i.immutableRenderDecorator)(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.idx,n=e.mxitem,a=(e.issuedate,e.dispatch),r=e.className,i=(e.panes,e.uuidList,e.wlRelate),o=(e.editLrAccountPermission,e.showDrawer),c=(n.get("beBusiness"),n.get("runningState"),n.get("runningIndex")&&n.get("runningIndex")>0?n.get("flowNumber")+"_"+n.get("runningIndex"):n.get("flowNumber")),d=n.get("runningDate"),f=d?d.substr(0,10):"";return u.default.createElement(l.TableItem,{className:r,line:t},u.default.createElement("li",null,f),u.default.createElement("li",{onClick:function(){a(s.getYllsBusinessData(n,o))}},u.default.createElement("span",{className:"account-flowNumber"},c)),u.default.createElement(l.TableOver,{className:"abstract-left"},n.get("runningAbstract")+(n.get("cardAbstract")?n.get("cardAbstract"):"")),u.default.createElement(l.TableOver,{className:"amountwlmx-title-cell"},u.default.createElement("div",{className:"wlmx-amount-center"},u.default.createElement(l.Amount,null,"2"==i?n.get("happenIncomeAmount"):n.get("happenExpenseAmount")))),u.default.createElement(l.TableOver,{className:"amountwlmx-title-cell"},u.default.createElement("div",{className:"wlmx-amount-center"},u.default.createElement(l.Amount,null,"2"==i?n.get("paymentIncomeAmount"):n.get("paymentExpenseAmount")))),u.default.createElement(l.TableOver,null,u.default.createElement("div",{className:"wlmx-amount-center"},u.default.createElement(l.Amount,null,n.get("balanceAmount")))))}}]),t}())||a;t.default=d},2358:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=c(n(1)),i=n(17),l=(n(18),function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(27)),n(127)),s=c(n(1737)),o=c(n(2359));function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=(0,i.immutableRenderDecorator)(a=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={showDetail:!1},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default.Component),r(t,[{key:"render",value:function(){var e,t=this.props,n=t.flags,a=(t.cardTemp,t.dispatch),r=t.issuedate,i=t.curCategory,c=t.curCategoryTree,f=t.wlmxState,g=t.accountConfState,m=t.detailsTemp,p=t.panes,_=t.currentPage,T=t.curAccountUuid,y=t.pageCount,C=(t.defaultCategory,t.accountType,t.paymentType,t.endissuedate),A=t.cardList,E=t.curCardUuid,I=t.categoryUuid,S=t.propertyCost,L=t.categoryName,N=t.editLrAccountPermission,v=t.showDrawer,O=t.searchContent,h=(this.state.showDetail,f.getIn(["flags","wlRelate"])),b=f.get("contactTypeTree"),M=f.get("runningCategory"),R=f.getIn(["flags","wlType"]),P=f.get("cardPages"),D=f.get("cardCurPage"),U=""===h||"3"===h?"table-normal-with-wlmxb":"table-normal-with-wlmxb-small";return u.default.createElement(l.TableWrap,{className:U+" table-flex-mxb wlmxb-content"},u.default.createElement(s.default,{issuedate:r,wlmxState:f,curCategory:i,accountConfState:g,runningCategory:M,dispatch:a,detailsTemp:m,panes:p,curAccountUuid:T,editLrAccountPermission:N,showDrawer:v}),u.default.createElement(o.default,(d(e={flags:n,currentPage:_,issuedate:r,pageCount:y,dispatch:a,curCategory:c,runningCategory:M,endissuedate:C,cardList:A,curCardUuid:E,contactTypeTree:b},"runningCategory",M),d(e,"categoryUuid",I),d(e,"propertyCost",S),d(e,"categoryName",L),d(e,"wlType",R),d(e,"cardPages",P),d(e,"cardCurPage",D),d(e,"searchContent",O),e)))}}]),t}())||a;t.default=f},2359:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=E(n(132)),u=E(n(14)),i=E(n(45)),l=E(n(100)),s=E(n(1272)),o=E(n(171)),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(131),n(78),n(55),n(99),n(1271),n(170);var d=E(n(1)),f=n(17),g=(n(18),E(n(2360))),m=n(127),p=A(n(27)),_=A(n(1354)),T=E(n(2361)),y=E(n(2362)),C=E(n(90));function A(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function E(e){return e&&e.__esModule?e:{default:e}}var I=o.default.TreeNode,S=(s.default.Panel,l.default.Search,(0,f.immutableRenderDecorator)(a=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.onChange=function(e,t,n){},e.state={showRunningType:!1,showDimensionSearch:!1,searchValue:""},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,d.default.Component),c(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.dispatch,a=t.curCategory,l=(t.curAccountUuid,t.issuedate),s=(t.main,t.currentPage,t.pageCount,t.flags),c=(t.hideCategoryList,t.disabledChangeCategory,t.defaultCategory,t.accountType,t.paymentType,t.endissuedate),f=t.cardList,A=t.curCardUuid,E=t.contactTypeTree,S=t.runningCategory,L=(t.categoryUuid,t.propertyCost),N=t.categoryName,v=t.wlType,O=t.cardPages,h=t.cardCurPage,b=t.searchContent,M=this.state,R=M.showRunningType,P=M.showDimensionSearch,D=M.searchValue,U=a,w=s.get("isTop"),G=s.get("typeUuid"),J=s.get("selectedCard"),x=R?"group-item-first-50":"group-item-first-100";return d.default.createElement(m.TableTree,null,d.default.createElement("div",{className:"tree-group"},d.default.createElement("div",{className:"tree-group-first-item "+x},d.default.createElement("span",{className:"tree-group-item-title wl-title-tree-right"},d.default.createElement("span",{className:"wl-type-title"},"往来类别："),d.default.createElement("div",{className:"wl-type-box"},d.default.createElement(T.default,{treeData:E,value:v,placeholder:"",parentDisabled:!1,onChange:function(e){var t=e.split(p.TREE_JOIN_STR);n(_.changeDetailAccountCommonString("",["flags","wlType"],t[1])),n(_.changeDetailAccountCommonString("",["flags","typeUuid"],t[0])),n(_.changeDetailAccountCommonString("",["flags","isTop"],t[2])),n(_.changeDetailAccountCommonString("",["flags","selectedCard"],"")),n(_.getContactsCardList(l,c,t[2],t[0]))}}))),d.default.createElement("div",{className:"tree-group-item-content"},d.default.createElement("div",{className:"tree-title-handle"},d.default.createElement(i.default,{value:J,showSearch:!0,placeholder:"搜索卡片",className:"table-right-table-input",optionFilterProp:"children",notFoundContent:"无法找到相应卡片",onSelect:function(e){var t=e.split(p.TREE_JOIN_STR);n(_.changeDetailAccountCommonString("",["flags","curCardUuid"],t[0])),n(_.changeDetailAccountCommonString("",["flags","categoryName"],"全部")),n(_.changeDetailAccountCommonString("",["flags","selectedCard"],t[1]+" "+t[2])),n(_.getDetailList(l,c,t[0],"",L,1,"true",b)),n(_.getContactsRunningCategory(l,c,t[0]))},showArrow:!1},(l?f:[]).map(function(e,t){return d.default.createElement(Option,{key:t,value:""+e.get("uuid")+p.TREE_JOIN_STR+e.get("code")+p.TREE_JOIN_STR+e.get("name")},e.get("code")+" "+e.get("name"))})),d.default.createElement(u.default,{type:"search",className:"table-right-table-input-search"})),d.default.createElement("div",{className:"item-content-box"},d.default.createElement("div",{className:"item-content-list",style:{height:O>1?"calc(100%-25px)":"100%"}},d.default.createElement(o.default,{onSelect:function(e){e[0]&&(n(_.changeDetailAccountCommonString("",["flags","curCardUuid"],e[0])),n(_.changeDetailAccountCommonString("",["flags","categoryName"],"全部")),n(_.getDetailList(l,c,e[0],"",L,1,"true",b)),n(_.getContactsRunningCategory(l,c,e[0])))},selectedKeys:[A]},f&&f.size?f.map(function(e){return e.get("code").indexOf(D)||e.get("name").indexOf(D)?d.default.createElement(I,{key:e.get("uuid"),title:d.default.createElement("span",{style:{color:"#f50"}},e.get("code")," ",e.get("name"))}):d.default.createElement(I,{key:e.get("uuid"),title:d.default.createElement("span",null,e.get("code")," ",e.get("name"))})}):null)),O>1?d.default.createElement("div",{className:"wlmx-card-pagination"},d.default.createElement(r.default,{simple:!0,defaultCurrent:h,total:10*O,onChange:function(e){n(_.getContactsCardList(l,c,w,G,"",e))}})):""))),P?d.default.createElement("div",null,d.default.createElement("div",{className:"tree-group-second-item"},d.default.createElement("span",{className:"tree-group-item-title wl-title-tree-right"},d.default.createElement("span",{className:"wl-type-title"},"流水类别："),d.default.createElement("div",{className:"wl-type-box"},d.default.createElement(y.default,{treeData:S,value:"全部",placeholder:"",parentDisabled:!1,onChange:function(e){n()}})))),d.default.createElement("div",{className:"tree-group-second-item"},d.default.createElement("span",{className:"tree-group-item-title wl-title-tree-right"},d.default.createElement("span",{className:"wl-type-title"},"查看维度："),d.default.createElement("div",{className:"wl-type-box"},d.default.createElement(T.default,{treeData:"",value:"全部",placeholder:"",parentDisabled:!1,onChange:function(e,t,n){}})),d.default.createElement("button",{className:"wl-type-close",onClick:function(){return e.setState({showDimensionSearch:!P})}},"关闭")),d.default.createElement("div",{className:"table-right-tree"},d.default.createElement(g.default,{flags:s,category:S,selectedKeys:[U],dispatch:n,onSelect:function(e){if(e[0]){var t=e[0].split(p.TREE_JOIN_STR);n(_.getDetailList(l,c,A,t[0],t[2],1,"true",b)),n(_.changeDetailAccountCommonString("",["flags","propertyCost"],t[2])),n(_.changeDetailAccountCommonString("",["flags","categoryUuid"],t[0])),n(_.changeDetailAccountCommonString("",["flags","categoryName"],t[1]))}}})))):R?d.default.createElement("div",{className:"wlmx-tree-running-type"},d.default.createElement("div",{className:"tree-group-second-item"},d.default.createElement("span",{className:"tree-group-item-title wl-title-tree-right"},d.default.createElement("span",{className:"wl-type-title"},"流水类别："),d.default.createElement("div",{className:"wl-type-box"},N),d.default.createElement(C.default,{type:"double-down",className:"wl-type-close",onClick:function(){e.setState({showRunningType:!R})}})),d.default.createElement("div",{className:"wlmx-tree-running-box"},d.default.createElement("div",{className:"wlmx-tree-running-content"},d.default.createElement(g.default,{flags:s,category:S,selectedKeys:[U],dispatch:n,onSelect:function(e){if(e[0]){var t=e[0].split(p.TREE_JOIN_STR);n(_.getDetailList(l,c,A,t[0],t[2],1,"true",b)),n(_.changeDetailAccountCommonString("",["flags","propertyCost"],t[2])),n(_.changeDetailAccountCommonString("",["flags","categoryUuid"],t[0])),n(_.changeDetailAccountCommonString("",["flags","categoryName"],t[1]))}}}))))):d.default.createElement("div",{className:"tree-group-second-item item-btn",onClick:function(){return e.setState({showRunningType:!R})}},d.default.createElement("span",{className:"tree-group-item-title tree-group-item-title-static wl-title-tree-right"},d.default.createElement("span",{className:"wl-type-title"},"流水类别：")," ",d.default.createElement("span",{className:"wl-type-box"},N),d.default.createElement(C.default,{type:"double-up",className:"running-type-up-icon"})))))}}]),t}())||a);t.default=S},2360:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=c(n(100)),u=c(n(171)),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(99),n(170);var l=c(n(1)),s=n(17),o=(n(18),function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(27)));function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=u.default.TreeNode,g=(r.default.Search,(0,s.immutableRenderDecorator)(a=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,u=Array(r),i=0;i<r;i++)u[i]=arguments[i];return n=a=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),a.state={expandedKeys:[],autoExpandParent:!0},a.onExpand=function(e){a.setState({expandedKeys:e,autoExpandParent:!1})},d(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),i(t,[{key:"componentDidMount",value:function(){var e=[];this.props.category.toJS().map(function(t,n){e.push(""+t.uuid+o.TREE_JOIN_STR+t.name+o.TREE_JOIN_STR+t.propertyCost)}),this.setState({expandedKeys:e})}},{key:"render",value:function(){var e=this.props,t=e.category,n=e.onSelect,a=e.selectedKeys,r=(e.flags,e.dispatch,e.className,this.state),i=r.expandedKeys,s=r.autoExpandParent,c=function e(t){return t.map(function(t,n){var a=l.default.createElement("span",null,t.name);return t.childList.length?l.default.createElement(f,{key:""+t.uuid+o.TREE_JOIN_STR+t.name+o.TREE_JOIN_STR+t.propertyCost,title:a},e(t.childList)):l.default.createElement(f,{key:""+t.uuid+o.TREE_JOIN_STR+t.name+o.TREE_JOIN_STR+t.propertyCost,title:a,checkable:!0})})}(t.toJS());return l.default.createElement("div",null,l.default.createElement(u.default,{onExpand:this.onExpand,expandedKeys:i,autoExpandParent:s,onSelect:function(e){return n(e)},selectedKeys:a},c))}}]),t}())||a);t.default=g},2361:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=o(n(179)),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(178);var i=o(n(1)),l=n(17),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(27));n(18);function o(e){return e&&e.__esModule?e:{default:e}}var c=r.default.TreeNode,d=(0,l.immutableRenderDecorator)(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),u(t,[{key:"render",value:function(){var e=this.props,t=(e.className,e.treeData),n=e.value,a=e.placeholder,u=e.onChange,l=e.parentDisabled,o=e.disabled;return i.default.createElement(r.default,{disabled:o,placeholder:a,dropdownStyle:{maxHeight:400,overflow:"auto"},value:[n],onChange:u,showCheckedStrategy:r.default.SHOW_PARENT,onClick:function(e){e.stopPropagation()}},i.default.createElement(c,{title:"全部",value:s.TREE_JOIN_STR+"全部"+s.TREE_JOIN_STR,key:""}),t?function e(t,n){return t.map(function(t,a){return t.childList&&t.childList.length?i.default.createElement(c,{title:t.name,value:""+t.uuid+s.TREE_JOIN_STR+t.name+s.TREE_JOIN_STR+t.top,key:t.uuid,disabled:l},e(t.childList,n+"_"+a)):i.default.createElement(c,{title:t.name,value:""+t.uuid+s.TREE_JOIN_STR+t.name+s.TREE_JOIN_STR+t.top,key:t.uuid})})}(t.toJS(),0):"")}}]),t}())||a;t.default=d},2362:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=o(n(179)),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(178);var i=o(n(1)),l=n(17),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(27));n(18);function o(e){return e&&e.__esModule?e:{default:e}}var c=r.default.TreeNode,d=(0,l.immutableRenderDecorator)(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),u(t,[{key:"render",value:function(){var e=this.props,t=(e.className,e.treeData),n=e.value,a=e.placeholder,u=e.onChange,l=e.parentDisabled,o=e.disabled;return i.default.createElement(r.default,{disabled:o,placeholder:a,dropdownStyle:{maxHeight:400,overflow:"auto"},treeDefaultExpandAll:!0,value:[n],onChange:u,onClick:function(e){e.stopPropagation()}},t?function e(t,n){return t.map(function(t,a){return t.childList&&t.childList.length?i.default.createElement(c,{title:t.name,value:""+t.uuid+s.TREE_JOIN_STR+t.name+s.TREE_JOIN_STR+t.propertyCost,key:t.uuid,disabled:l},e(t.childList,n+"_"+a)):i.default.createElement(c,{title:t.name,value:""+t.uuid+s.TREE_JOIN_STR+t.name+s.TREE_JOIN_STR+t.propertyCost,key:t.uuid})})}(t.toJS(),0):"")}}]),t}())||a;t.default=d},2363:function(e,t,n){}}]);