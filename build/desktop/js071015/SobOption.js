(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{1206:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.view=t.reducer=void 0;var o=i(n(2702)),a=i(n(495)),l=i(n(499));function i(e){return e&&e.__esModule?e:{default:e}}var r={sobConfigState:a.default,sobOptionState:l.default};t.reducer=r,t.view=o.default},1223:function(e,t,n){},1224:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,a,l,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=s(n(1)),u=s(n(0)),d=n(17);function s(e){return e&&e.__esModule?e:{default:e}}n(1223);var c=(0,d.immutableRenderDecorator)((l=a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),i(t,[{key:"render",value:function(){var e=this.props,t=e.type,n=e.className,o=e.onClick;return r.default.createElement("div",{className:"container-wrap container-width-"+t+" "+n,onClick:o},this.props.children)}}]),t}(),a.displayName="ContainerWrap",a.propTypes={type:u.default.string.isRequired,className:u.default.string.isRequired},o=l))||o;t.default=c},1297:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getProjectSomeCardList=t.getProjectAllCardList=t.getProjectTreeList=t.getProcessModelList=t.getProjectAllCard=t.refreshSobOption=t.deleteSobRole=t.modifySobRoleModule=t.saveSobRole=t.beforeEditSobRole=t.switchSobRoleCurrentRole=t.getSobRoleListFromSobConfig=t.setSobRoleModuleListValue=t.changeSobRoleCommonString=void 0;var o=s(n(37));n(38);var a=s(n(31)),l=s(n(52)),i=d(n(1426)),r=n(18),u=n(22);d(n(30)),d(n(27)),d(n(60)),d(n(43));function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function s(e){return e&&e.__esModule?e:{default:e}}var c=t.changeSobRoleCommonString=function(e,t){return{type:i.CHANGE_SOB_ROLE_COMMON_STRING,place:e,value:t}},f=(t.setSobRoleModuleListValue=function(e,t){return function(n){n({type:i.SET_SOB_ROLE_MODULE_LIST_VALUE,place:e,value:t})}},t.getSobRoleListFromSobConfig=function(e,t,n){return function(o){o({type:i.SWITCH_LOADING_MASK}),(0,a.default)("getrolelist","GET","sobId="+e+"&sobType="+t,function(l){(0,u.showMessage)(l)&&((0,a.default)("getrolepermission","GET","sobId="+e+"&roleId="+l.data.roleList[0].roleId,function(a){o({type:i.GET_SOB_ROLE_LIST_FROM_SOB_OPTION,sobType:t,sobId:e,sobName:n,receivedData:l.data,roleData:a.data})}),"SMART"===t&&(o(g(e)),o(O(e)))),o({type:i.SWITCH_LOADING_MASK})})}}),p=(t.switchSobRoleCurrentRole=function(e){return function(t,n){var o=n().sobRoleState.get("views");(0,a.default)("getrolepermission","GET","sobId="+o.get("sobId")+"&roleId="+e.get("roleId"),function(n){t({type:i.SWITCH_SOB_ROLE_CURRENT_ROLE,role:e,receivedData:n.data})})}},t.beforeEditSobRole=function(e){return function(t){t({type:i.BEFORE_EDIT_SOB_ROLE,status:e})}},t.saveSobRole=function(e,t,n,o){return function(l,r){l({type:i.SWITCH_LOADING_MASK});var d=r().sobRoleState.get("views");"insert"===n?(0,a.default)("addrole","POST",JSON.stringify({sobId:d.get("sobId"),sobType:d.get("sobType"),roleName:e}),function(e){(0,u.showMessage)(e)&&((0,a.default)("getrolelist","GET","sobId="+d.get("sobId")+"&sobType="+d.get("sobType"),function(t){l({type:i.AFTER_EDIT_SOB_ROLE,receivedData:e.data,roleList:t.data.roleList,roleTemp:{roleId:e.data.roleId,roleInfo:"",roleName:e.data.roleName}})}),l(p(d.get("sobId")))),l({type:i.SWITCH_LOADING_MASK})}):"modify"===n&&(0,a.default)("modifyrolename","POST",JSON.stringify({sobId:d.get("sobId"),sobType:d.get("sobType"),roleName:e,roleId:t.get("roleId")}),function(t){if((0,u.showMessage)(t)){var n=t.data.roleList.find(function(t){return t.roleName===e});l({type:i.AFTER_EDIT_SOB_ROLE,editType:"modify",index:o,roleTemp:n})}l(p(d.get("sobId"))),l({type:i.SWITCH_LOADING_MASK})})}},t.modifySobRoleModule=function(e){return function(t,n){t({type:i.SWITCH_LOADING_MASK});var o=n().sobRoleState,l=o.get("views"),r=o.get("roleTemp"),d=o.get("roleModuleTemp");(0,a.default)("modifyrole","POST",JSON.stringify({sobId:l.get("sobId"),sobType:l.get("sobType"),roleId:r.get("roleId"),roleName:r.get("roleName"),defaultRole:d.get("defaultRole"),moduleList:d.get("moduleList")}),function(n){(0,u.showMessage)(n,"show")&&(t({type:i.AFTER_MODIFY_SOB_ROLE,bool:(!1).value,receivedData:n.data}),e&&e()),t({type:i.SWITCH_LOADING_MASK})})}},t.deleteSobRole=function(e,t){return function(n,l){n({type:i.SWITCH_LOADING_MASK});var r=l().sobRoleState.get("views");(0,a.default)("deleterole","POST",JSON.stringify({sobId:r.get("sobId"),roleId:e.get("roleId")}),function(e){t(e),0===e.code?(o.default.success("操作成功"),n(f(r.get("sobId"),r.get("sobType"))),n(p(r.get("sobId")))):3004!==e.code&&(0,u.showMessage)(e),n({type:i.SWITCH_LOADING_MASK})})}},t.refreshSobOption=function(e){return function(t){(0,a.default)("sobOptionInit","GET","sobId="+e,function(e){(0,u.showMessage)(e)&&t({type:i.SOB_OPTION_INIT,receivedData:e.data})})}}),g=t.getProjectAllCard=function(e,t){return function(n,o){(0,l.default)("getProjectConfigHighTypeSob","GET","sobId="+e,function(o){if((0,u.showMessage)(o)){var a=o.data.map(function(e){return e.uuid});n(c("categoryRange",(0,r.fromJS)(a))),(0,l.default)("getProjectCardList","POST",JSON.stringify({sobId:e,categoryList:a,needCommonCard:!0,needAssist:!0,needMake:!0,needIndirect:!0,needMechanical:!0}),function(e){(0,u.showMessage)(e)&&(n(c("allCardListL",(0,r.fromJS)(e.data.result))),t&&t())})}})}},O=t.getProcessModelList=function(e){return function(t,n){(0,l.default)("getApprovalModelList","GET","sobId="+e,function(e){(0,u.showMessage)(e)&&t(c("processModelList",(0,r.fromJS)(e.data)))})}};t.getProjectTreeList=function(e,t){return function(n,o){var a=o().sobRoleState.get("views").get("sobId");(0,l.default)("getProjectTreeList","POST",JSON.stringify({sobId:a,categoryList:e}),function(e){if((0,u.showMessage)(e)){n(c("modalCategoryList",(0,r.fromJS)(e.data.typeList)));var a=o().sobRoleState.get("allCardListL");n(c("modalCardList",a)),n(c("selectCardList",(0,r.fromJS)([]))),t&&t()}})}},t.getProjectAllCardList=function(e,t,n,o){return function(t,a){var d=a().sobRoleState.get("views").get("sobId");t({type:i.SWITCH_LOADING_MASK}),n||(0,l.default)("getProjectTreeList","POST",JSON.stringify({sobId:d,categoryList:e}),function(e){(0,u.showMessage)(e)&&t(c("modalCategoryList",(0,r.fromJS)(e.data.typeList)))}),(0,l.default)("getProjectCardList","POST",JSON.stringify({sobId:d,categoryList:e,needCommonCard:!0,needAssist:!0,needMake:!0,needIndirect:!0,needMechanical:!0}),function(e){t({type:i.SWITCH_LOADING_MASK}),(0,u.showMessage)(e)&&(t(c("modalCardList",(0,r.fromJS)(e.data.result))),o&&o())})}},t.getProjectSomeCardList=function(e,t){return function(n,o){var a=o().sobRoleState.get("views").get("sobId");1==t?(0,l.default)("getProjectSubordinateCardList","POST",JSON.stringify({sobId:a,categoryUuid:e,listByCategory:!0,subordinateUuid:""}),function(e){(0,u.showMessage)(e)&&n(c("modalCardList",(0,r.fromJS)(e.data.resultList)))}):(0,l.default)("getProjectSubordinateCardList","POST",JSON.stringify({sobId:a,subordinateUuid:e,listByCategory:!1,categoryUuid:e}),function(e){(0,u.showMessage)(e)&&n(c("modalCardList",(0,r.fromJS)(e.data.resultList)))})}}},1347:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sobChangeCopyModuleItem=t.setSobChangeCopyModuleItem=t.initIdentifyingCodeTemp=t.getIdentifyingCodeList=t.changeSobPermissionList=t.deleteSobItemFetch=t.sobOptionRoleDelete=t.sobOptionCensorChange=t.getSobList=t.sobOptionSave=t.sobOptionChangeFunModuel=t.sobOptionChangeTime=t.sobOptionChangeSobTemplate=t.sobOptionChangeContent=void 0;var o,a=n(31),l=(o=a)&&o.__esModule?o:{default:o},i=g(n(184)),r=n(18),u=n(22),d=g(n(30)),s=g(n(27)),c=g(n(60)),f=g(n(43)),p=g(n(1297));function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}t.sobOptionChangeContent=function(e,t){return function(n){n({type:i.SOB_OPTION_CHANGE_CONTENT,name:e,value:t})}},t.sobOptionChangeSobTemplate=function(e){return function(t){t({type:i.SOB_OPTION_CHANGE_SOB_TEMPLATE,value:e})}},t.sobOptionChangeTime=function(e){return function(t){var n=e.split("-"),o=n[0],a=n[1];t({type:i.SOB_OPTION_CHANGE_TIME,firstyear:o,firstmonth:a})}},t.sobOptionChangeFunModuel=function(e,t){return function(n){n({type:i.SOB_OPTION_CHANGE_FUN_MODUEL,moduleCode:e.get("moduleCode"),value:t})}},t.sobOptionSave=function(e){return function(t,n){var o=n().sobOptionState.get("tempSob");if(o.getIn(["moduleInfo","GL"])&&o.getIn(["moduleInfo","GL","beOpen"])&&(o=o.setIn(["moduleInfo","ENCLOSURE_GL","beOpen"],!0)),o.getIn(["moduleInfo","GL"])&&!1===o.getIn(["moduleInfo","GL","beOpen"])&&(o=o.set("operatorlist",(0,r.fromJS)([])).set("vcObserverList",(0,r.fromJS)([]))),o.getIn(["moduleInfo","RUNNING"])&&o.getIn(["moduleInfo","RUNNING","beOpen"])&&(o=o.setIn(["moduleInfo","ENCLOSURE_RUN","beOpen"],!0)),o.getIn(["moduleInfo","RUNNING"])&&!1===o.getIn(["moduleInfo","RUNNING","beOpen"])&&(o=o.set("cashierList",(0,r.fromJS)([])).set("flowObserverList",(0,r.fromJS)([]))),o=o.delete("customizeList").delete("jrModelList"),e){t({type:i.SWITCH_LOADING_MASK});var a=n().homeState.getIn(["data","userInfo","sobInfo","sobId"]);(0,l.default)("checkwarehousedisable","GET","sobId="+a,function(e){t({type:i.SWITCH_LOADING_MASK}),(0,u.showMessage)(e)&&(e.data.canDisable?d.Confirm({message:"关闭仓库核算后，历史流水及期初值将批量取消关联仓库，仓库设置将被清空。确认关闭仓库核算吗",title:"提示",buttonLabels:["取消","确定"],onSuccess:function(e){1===e.buttonIndex&&s()}}):d.Alert("无法关闭仓库核算，账套内【有历史存货流水或存货期初值关联多个仓库】"))})}else s();function s(){t({type:i.SWITCH_LOADING_MASK}),(0,l.default)("checkRoleIsRepeat","POST",JSON.stringify(o),function(e){(0,u.showMessage)(e)&&("成功"===e.message?t(O(o)):d.Confirm({message:e.message,title:"提示",buttonLabels:["取消","确定"],onSuccess:function(e){1===e.buttonIndex&&t(O(o))}})),t({type:i.SWITCH_LOADING_MASK})})}}};var O=function(e){return function(t,n){t({type:i.SWITCH_LOADING_MASK}),(0,l.default)("sobOptionSave","POST",JSON.stringify(e),function(o){if((0,u.showMessage)(o,"show")){n().sobConfigState.get("sobOptionModal");if(""===e.get("sobid"))t({type:i.CLEAR_HOME_TAB_PANE}),t(c.getDbListFetch()),d.Confirm({message:"账套创建成功！",title:"提示",buttonLabels:["设置账套角色","进入新账套"],onSuccess:function(n){if(0===n.buttonIndex){var a=o.data.sobid,l="3"===e.get("template")?"SMART":"ACCOUNTING",i=e.get("sobname");t(p.getSobRoleListFromSobConfig(a,l,i)),t(c.addPageTabPane("ConfigPanes","SobRole","SobRole","角色编辑")),t(c.addHomeTabpane("Config","SobRole","角色编辑"))}else n.buttonIndex}});else(n().homeState.getIn(["data","userInfo","sobInfo"])?n().homeState.getIn(["data","userInfo","sobInfo","sobId"]):"")===e.get("sobid")?(t({type:i.CLEAR_HOME_TAB_PANE}),t(b("hideLoad")),t(c.getDbListFetch())):((0,l.default)("sobOptionInit","GET","sobId="+e.get("sobid"),function(e){(0,u.showMessage)(e)&&t({type:i.SOB_OPTION_INIT,receivedData:e.data})}),t(c.getDbListFetch()),t(b("hideLoad")))}else o.code!==s.REPEAT_REQUEST_CODE&&e.get("sobid")&&(0,l.default)("sobOptionInit","GET","sobId="+e.get("sobid"),function(e){(0,u.showMessage)(e)&&t({type:i.SOB_OPTION_INIT,receivedData:e.data})});t({type:i.SWITCH_LOADING_MASK})})}},b=t.getSobList=function(e){return function(t){"hideLoad"!==e&&t({type:i.SWITCH_LOADING_MASK}),(0,l.default)("getNewSobList","GET","",function(n){(0,u.showMessage)(n)&&t({type:i.GET_SOB_LIST,list:n.data}),"hideLoad"!==e&&t({type:i.SWITCH_LOADING_MASK})})}};t.sobOptionCensorChange=function(e,t,n){return function(o){o({type:i.SOB_OPTION_ROLE_CHECK_STATE,listName:e,index:t,lastStatus:n})}},t.sobOptionRoleDelete=function(e,t,n){return function(o){o({type:i.SOB_OPTION_ROLE_DELETE,listName:e,listIndex:t,index:n})}},t.deleteSobItemFetch=function(e){return function(t,n){t({type:i.SWITCH_LOADING_MASK}),(0,l.default)("deletesob","POST",JSON.stringify({sobidlist:e}),function(o){(t({type:i.SWITCH_LOADING_MASK}),(0,u.showMessage)(o))&&(n().homeState.getIn(["data","userInfo","sobInfo","sobId"])===e[0]?(t(f.freshReportPage()),t(f.freshYebPage()),t(f.freshMxbPage()),t(f.freshSearchPage()),t(f.freshEditPage()),t(f.freshConfigPage("账套设置")),t({type:i.CLEAR_HOME_TAB_PANE,exclude:"Config"}),t(c.getDbListFetch()),t(b())):t(b()))})}},t.changeSobPermissionList=function(e,t,n){return{type:i.CHANGE_SOB_PERMISSION_LIST,listName:e,index:t,list:n}},t.getIdentifyingCodeList=function(){return function(e){(0,l.default)("getsobcopycode","GET","",function(t){(0,u.showMessage)(t)&&e({type:i.AFTER_GET_IDENTIFYING_CODE_LIST,receivedData:t.data})})}},t.initIdentifyingCodeTemp=function(){return{type:i.INIT_IDENTIFYING_CODE_TEMP}},t.setSobChangeCopyModuleItem=function(e,t){return{type:i.SET_SOB_CHANGE_COPY_MODULE_ITEM,item:e,newJr:t}},t.sobChangeCopyModuleItem=function(e,t){return{type:i.SOB_OPTION_CHANGE_COPY_MODULE_ITEM,moduleCode:e,value:t}}},1426:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SWITCH_LOADING_MASK="SWITCH_LOADING_MASK",t.GET_SOB_ROLE_LIST_FROM_SOB_OPTION="GET_SOB_ROLE_LIST_FROM_SOB_OPTION",t.SWITCH_SOB_ROLE_CURRENT_ROLE="SWITCH_SOB_ROLE_CURRENT_ROLE",t.SOB_OPTION_INIT="SOB_OPTION_INIT",t.SET_SOB_ROLE_MODULE_LIST_VALUE="SET_SOB_ROLE_MODULE_LIST_VALUE",t.AFTER_MODIFY_SOB_ROLE="AFTER_MODIFY_SOB_ROLE",t.BEFORE_EDIT_SOB_ROLE="BEFORE_EDIT_SOB_ROLE",t.AFTER_INSERT_SOB_ROLE="AFTER_INSERT_SOB_ROLE",t.AFTER_EDIT_SOB_ROLE="AFTER_EDIT_SOB_ROLE",t.CHANGE_SOB_ROLE_COMMON_STRING="CHANGE_SOB_ROLE_COMMON_STRING"},2702:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,a,l,i=T(n(37)),r=T(n(47)),u=T(n(129)),d=T(n(14)),s=T(n(45)),c=T(n(100)),f=T(n(32)),p=T(n(1230)),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();n(38),n(46),n(128),n(78),n(55),n(99),n(51),n(1231);var O=T(n(1)),b=(n(18),n(56)),m=_(n(30)),I=T(n(6)),S=T(n(2703)),E=T(n(2704)),C=T(n(1224)),y=_(n(27)),h=_(n(60)),N=_(n(1347));function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function T(e){return e&&e.__esModule?e:{default:e}}n(2705);var M=p.default.MonthPicker,v=(0,b.connect)(function(e){return e})((l=a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),o=n.props.sobOptionState.get("tempSob"),a=o.get("sobid"),l=o.get("moduleInfo"),i=l.get("RUNNING"),r=!1,u=!1,d=!1,s=!1,c=!1,f=!1;return a&&(i&&i.get("beOpen")?(r=!!l.get("SCXM")&&l.getIn(["SCXM","beOpen"]),u=!!l.get("SGXM")&&l.getIn(["SGXM","beOpen"]),d=!!l.get("QUANTITY")&&l.getIn(["QUANTITY","beOpen"]),s=!!l.get("WAREHOUSE")&&l.getIn(["WAREHOUSE","beOpen"]),c=!!l.get("PROCESS")&&l.getIn(["PROCESS","beOpen"])):f=!!l.get("AMB")&&l.getIn(["AMB","beOpen"])),n.state={showChoosenModal:!1,choosenSobName:"",isIdentifyingCode:!1,gettedIdentifyingCodeList:!1,identifyingCode:"",oldScxmBeOpen:r,oldSgxmBeOpen:u,oldQuantityBeOpen:d,oldWarehouseBeOpen:s,oldProcessBeOpen:c,oldAmbBeOpen:f},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,O.default.Component),g(t,[{key:"componentDidMount",value:function(){this.props.dispatch(h.setDdConfig())}},{key:"shouldComponentUpdate",value:function(e,t){return this.props.allState!=e.allState||this.props.sobConfigState!=e.sobConfigState||this.props.homeState!==e.homeState||this.props.sobOptionState!==e.sobOptionState||this.state!==t}},{key:"componentWillReceiveProps",value:function(e){if(this.props.sobOptionState.getIn(["tempSob","sobid"])!==e.sobOptionState.getIn(["tempSob","sobid"])){var t=e.sobOptionState.getIn(["tempSob","moduleInfo"]),n=t.get("RUNNING"),o=!1,a=!1,l=!1,i=!1,r=!1,u=!1;e.sobOptionState.getIn(["tempSob","sobid"])&&(n&&n.get("beOpen")?(o=!!t.get("SCXM")&&t.getIn(["SCXM","beOpen"]),a=!!t.get("SGXM")&&t.getIn(["SGXM","beOpen"]),l=!!t.get("QUANTITY")&&t.getIn(["QUANTITY","beOpen"]),i=!!t.get("WAREHOUSE")&&t.getIn(["WAREHOUSE","beOpen"]),r=!!t.get("PROCESS")&&t.getIn(["PROCESS","beOpen"])):u=!!t.get("AMB")&&t.getIn(["AMB","beOpen"])),this.state={oldScxmBeOpen:o,oldSgxmBeOpen:a,oldQuantityBeOpen:l,oldWarehouseBeOpen:i,oldProcessBeOpen:r,oldAmbBeOpen:u}}}},{key:"render",value:function(){var e=this,t=this.props,n=t.dispatch,o=t.allState,a=t.sobConfigState,l=t.sobOptionState,p=t.homeState,g=this.state,b=g.showChoosenModal,_=g.choosenSobName,T=g.isIdentifyingCode,v=g.gettedIdentifyingCodeList,R=g.identifyingCode,L=g.oldScxmBeOpen,A=g.oldSgxmBeOpen,P=g.oldQuantityBeOpen,w=g.oldWarehouseBeOpen,G=g.oldProcessBeOpen,k=g.oldAmbBeOpen,B=(p.getIn(["data","userInfo","newEquity"]),p.getIn(["permissionInfo","Config","edit","permission"]),l.get("tempSob")),U=B.get("sobname"),x=B.get("sobid"),D=B.get("firstyear"),H=B.get("firstmonth"),j=null;""!=D&&(j=D+"-"+H);var Y=B.get("moduleInfo"),F=Y.get("RUNNING"),J=Y.get("RUNNING_GL"),W=Y.get("GL"),X=Y.get("ASSETS"),K=Y.get("ENCLOSURE_RUN"),Q=Y.get("CURRENCY"),V=Y.get("ASS"),z=Y.get("AMB"),q=Y.get("ENCLOSURE_GL"),Z=Y.get("NUMBER"),$=Y.get("PROCESS"),ee=Y.get("INVENTORY"),te=Y.get("QUANTITY"),ne=Y.get("WAREHOUSE"),oe=Y.get("PROJECT"),ae=Y.get("SCXM"),le=Y.get("SGXM"),ie=Y.get("ASSIST"),re=Y.get("BATCH"),ue=Y.get("SERIAL"),de=B.get("accountingRoleInfo"),se=B.get("smartRoleInfo"),ce=B.get("jrModelList"),fe=B.get("sobModel"),pe=B.get("currency"),ge=B.get("customizeList"),Oe=B.get("moduleMap"),be=B.get("accountModelList"),me=B.get("template"),Ie=B.get("canModify"),Se=B.get("newJr"),Ee=p.getIn(["data","userInfo","isAdmin"]),Ce=p.getIn(["data","userInfo","isFinance"]),ye=p.getIn(["data","userInfo","isDdAdmin"]),he=p.getIn(["data","userInfo","isDdPriAdmin"]),Ne=p.getIn(["data","userInfo","emplID"]),_e=o.get("currencyModelList"),Te=l.get("identifyingCodeList"),Me=l.get("copyModuleMapItem"),ve=l.get("copyModuleIsNewJr"),Re=[];be.forEach(function(e){Re.push({key:e.get("modelName"),value:e.get("modelNumber")})});var Le=["3"],Ae=[];x?Ae=["4","5"]:be.forEach(function(e){Ae.push(e.get("modelNumber"))});var Pe=p.getIn(["views","isPlay"]),we=fe&&!0===fe.get("newJr"),Ge=["COPY_BASIS_SETTING","COPY_PRODUCTION_SETTING","COPY_CONSTRUCTION_SETTING","COPY_QUANTITY_SETTING","COPY_DEPOT_SETTING","COPY_BALANCE_SETTING"];return O.default.createElement(C.default,{type:"config-one",className:"sob-option-wrap"},O.default.createElement("div",{className:"tab-box-wrap"},O.default.createElement(f.default,{onClick:function(){n(h.addPageTabPane("ConfigPanes","Sob","Sob","账套设置")),n(h.addHomeTabpane("Config","Sob","账套设置"))}},"返回账套列表"),O.default.createElement("div",{className:"tab-box-wrap"},O.default.createElement("div",{className:"tab-box"},(x?Le.indexOf(me)>-1:F)?O.default.createElement("div",{className:Le.indexOf(me)>-1?"tab-selected":"",onClick:function(){-1===Le.indexOf(me)&&n(N.sobOptionChangeSobTemplate("3"))}},"智能版"):"",(x?Ae.indexOf(me)>-1:W)?O.default.createElement("div",{className:Ae.indexOf(me)>-1?"tab-selected":"",onClick:function(){-1===Ae.indexOf(me)&&n(N.sobOptionChangeSobTemplate(Ae[0]))}},"会计版"):""))),O.default.createElement("div",{className:"sob-option-row-wrap"},O.default.createElement("div",{className:"sob-option-row-tip"},O.default.createElement("span",null,O.default.createElement("span",null,"*"),"  ",Le.indexOf(me)>-1?"专为0基础财务打造，老板、出纳均可使用。场景化录入流水，精准输出专业报表。":"专为财务老鸟打造，专业凭证录入模式，支持选配辅助核算、外币、资产等模块")),O.default.createElement("div",{className:"sob-option-row"},O.default.createElement("label",null,O.default.createElement("span",null,"*"),"  账套名称："),O.default.createElement(c.default,{placeholder:"输入账套名称",value:U,onChange:function(e){return n(N.sobOptionChangeContent("sobname",e.target.value))}})),O.default.createElement("div",{className:"sob-option-row"},O.default.createElement("label",null,O.default.createElement("span",null,"*"),"  起始账期："),O.default.createElement(M,{style:{width:300},onChange:function(e,t){return n(N.sobOptionChangeTime(t))},placeholder:"请选择日期",value:null===j?null:(0,I.default)(j,"YYYY-MM")})),Ae.indexOf(me)>-1&&!x?O.default.createElement("div",{className:"sob-option-row"},O.default.createElement("label",null,O.default.createElement("span",null,"*"),"  账套模版："),O.default.createElement(s.default,{value:Re.find(function(e){return e.value===me}).key,style:{width:300},onChange:function(e){if(!x){var t=be.find(function(t){return t.get("modelNumber")===e});n(N.sobOptionChangeContent("sobModel",t)),n(N.sobOptionChangeContent("template",e))}}},Re.map(function(e,t){return O.default.createElement(s.default.Option,{value:e.value,key:t},e.key)}))):"",Le.indexOf(me)>-1&&!x?O.default.createElement("div",{className:"sob-option-row"},O.default.createElement("label",null,O.default.createElement("span",null,"*"),"  账套模版："),O.default.createElement(s.default,{value:fe?!0===fe.get("customize")?fe.get("sobName")+" (起始账期:"+fe.get("firstYear")+"年"+fe.get("firstMonth")+"月)":fe.get("modelName")?fe.get("modelName"):fe.get("sobName"):"",style:{width:300},onChange:function(t){if(t){var o=ce.find(function(e){return e.get("modelId")===t});n(N.sobOptionChangeContent("sobModel",o)),!0===o.get("newJr")&&(o.getIn(["moduleMap","INVENTORY"])&&(Y=Y.setIn(["INVENTORY","beOpen"],o.getIn(["moduleMap","INVENTORY","beOpen"]))),o.getIn(["moduleMap","PROJECT"])&&(Y=Y.setIn(["PROJECT","beOpen"],o.getIn(["moduleMap","PROJECT","beOpen"]))),o.getIn(["moduleMap","QUANTITY"])&&!o.getIn(["moduleMap","QUANTITY","beOverdue"])&&(Y=Y.setIn(["QUANTITY","beOpen"],o.getIn(["moduleMap","QUANTITY","beOpen"]))),o.getIn(["moduleMap","WAREHOUSE"])&&!o.getIn(["moduleMap","WAREHOUSE","beOverdue"])&&(Y=Y.setIn(["WAREHOUSE","beOpen"],o.getIn(["moduleMap","WAREHOUSE","beOpen"]))),o.getIn(["moduleMap","SCXM"])&&!o.getIn(["moduleMap","SCXM","beOverdue"])&&(Y=Y.setIn(["SCXM","beOpen"],o.getIn(["moduleMap","SCXM","beOpen"]))),o.getIn(["moduleMap","SGXM"])&&!o.getIn(["moduleMap","SGXM","beOverdue"])&&(Y=Y.setIn(["SGXM","beOpen"],o.getIn(["moduleMap","SGXM","beOpen"]))),n(N.sobOptionChangeContent("moduleInfo",Y)),n(N.sobOptionChangeContent("moduleMap",o.get("moduleMap"))))}else e.setState({showChoosenModal:!0})}},ce.map(function(e,t){return O.default.createElement(s.default.Option,{value:e.get("modelId"),key:t},e.get("modelName"))}))):"",Ae.indexOf(me)>-1&&Q&&Q.get("beOpen")?O.default.createElement("div",{className:"sob-option-row"},O.default.createElement("label",null,O.default.createElement("span",null,"*"),"  本位币："),O.default.createElement(s.default,{showSearch:!0,style:{width:300},optionFilterProp:"children",notFoundContent:"无法找到相应币别",value:pe?_e.find(function(e){return e.get("fcNumber")==pe})?_e.find(function(e){return e.get("fcNumber")==pe}).get("name"):"":"人民币",onSelect:function(e){var t=e.split(y.FC_NUMBER_AND_NAME_CONNECT)[0];n(N.sobOptionChangeContent("currency",t))}},_e.map(function(e,t){return O.default.createElement(Option,{key:t,value:""+e.get("fcNumber")+y.FC_NUMBER_AND_NAME_CONNECT+e.get("name")},e.get("fcNumber")+" "+e.get("name"))}))):"",x?null:O.default.createElement(r.default,{width:"500px",okText:"保存",visible:b,maskClosable:!1,title:"复制账套模版",onCancel:function(){e.setState({identifyingCode:"",choosenSobName:"",showChoosenModal:!1,isIdentifyingCode:!1}),n(N.initIdentifyingCodeTemp())},footer:[O.default.createElement(f.default,{key:"ok",type:"primary",disabled:!(_||Te.find(function(e){return e.get("copyCode")===R})),onClick:function(){var t=void 0;if(T){var o=Te.find(function(e){return e.get("copyCode")===R});t=o.set("modelId",o.get("sobId")).set("copyModuleMap",Me)}else{var a=ge.find(function(e){return e.get("sobName")===_});t=(t=ce.find(function(e){return!0===e.get("customize")})).merge(a).set("modelId",a.get("sobId")).set("copyModuleMap",Me)}if(n(N.sobOptionChangeContent("sobModel",t)),!0===t.get("newJr")){var l=t.get("moduleMap");t.getIn(["moduleMap","PROCESS"])&&!Y.getIn(["PROCESS","beOverdue"])&&(Y=Y.setIn(["PROCESS","beOpen"],t.getIn(["moduleMap","PROCESS","beOpen"])),l=l.setIn(["PROCESS","beOpen"],t.getIn(["copyModuleMap","COPY_PROCESS_SETTING","beOpen"]))),t.getIn(["moduleMap","INVENTORY"])&&(Y=Y.setIn(["INVENTORY","beOpen"],t.getIn(["moduleMap","INVENTORY","beOpen"]))),t.getIn(["moduleMap","PROJECT"])&&(Y=Y.setIn(["PROJECT","beOpen"],t.getIn(["moduleMap","PROJECT","beOpen"]))),t.getIn(["moduleMap","QUANTITY"])&&!Y.getIn(["QUANTITY","beOverdue"])&&(Y=Y.setIn(["QUANTITY","beOpen"],t.getIn(["moduleMap","QUANTITY","beOpen"])),l=l.setIn(["QUANTITY","beOpen"],t.getIn(["copyModuleMap","COPY_QUANTITY_SETTING","beOpen"]))),t.getIn(["moduleMap","WAREHOUSE"])&&!Y.getIn(["WAREHOUSE","beOverdue"])&&(Y=Y.setIn(["WAREHOUSE","beOpen"],t.getIn(["moduleMap","WAREHOUSE","beOpen"])),l=l.setIn(["WAREHOUSE","beOpen"],t.getIn(["copyModuleMap","COPY_DEPOT_SETTING","beOpen"]))),t.getIn(["moduleMap","SCXM"])&&!Y.getIn(["SCXM","beOverdue"])&&(Y=Y.setIn(["SCXM","beOpen"],t.getIn(["moduleMap","SCXM","beOpen"])),l=l.setIn(["SCXM","beOpen"],t.getIn(["copyModuleMap","COPY_PRODUCTION_SETTING","beOpen"]))),t.getIn(["moduleMap","SGXM"])&&!Y.getIn(["SGXM","beOverdue"])&&(Y=Y.setIn(["SGXM","beOpen"],t.getIn(["moduleMap","SGXM","beOpen"])),l=l.setIn(["SGXM","beOpen"],t.getIn(["copyModuleMap","COPY_CONSTRUCTION_SETTING","beOpen"]))),n(N.sobOptionChangeContent("moduleInfo",Y)),n(N.sobOptionChangeContent("moduleMap",l))}else{var i=Y.setIn(["INVENTORY","beOpen"],!0).setIn(["PROJECT","beOpen"],!0);n(N.sobOptionChangeContent("moduleInfo",i)),n(N.sobOptionChangeContent("moduleMap",i))}e.setState({identifyingCode:"",choosenSobName:"",showChoosenModal:!1,isIdentifyingCode:!1}),n(N.initIdentifyingCodeTemp())}},"确 定")]},O.default.createElement("div",{className:"sob-option-choosen-modal"},O.default.createElement("div",null,O.default.createElement("span",{className:"sob-option-choosen-label"},"账套模版:"),O.default.createElement("span",null,T?O.default.createElement(c.default,{placeholder:"请输入识别码",style:{width:300},value:R,onChange:function(t){e.setState({identifyingCode:t.target.value});var o=Te.find(function(e){return e.get("copyCode")===t.target.value});o&&n(N.setSobChangeCopyModuleItem(o.get("copyModuleMap"),o.get("newJr")))},suffix:R?Te.find(function(e){return e.get("copyCode")===R})?O.default.createElement(d.default,{type:"check-circle",theme:"filled",style:{color:"green"}}):O.default.createElement(d.default,{type:"close-circle",theme:"filled",style:{color:"red"}}):O.default.createElement("div",null)}):O.default.createElement(s.default,{value:_,style:{width:300},onChange:function(t,o){e.setState({choosenSobId:o,choosenSobName:t});var a=ge.find(function(e){return e.get("sobName")===t});a&&n(N.setSobChangeCopyModuleItem(a.get("copyModuleMap"),a.get("newJr")))}},ge.map(function(e,t){return O.default.createElement(s.default.Option,{value:e.get("sobName"),key:e.get("sobId")},e.get("sobName"))})))),O.default.createElement("div",{className:"sob-option-choosen-right-or-not"},T&&R?Te.find(function(e){return e.get("copyCode")===R})?O.default.createElement("span",{style:{color:"green"}},"识别码正确，请选择需复制的内容"):O.default.createElement("span",{style:{color:"red"}},"识别码错误，请核对后再输入"):""),O.default.createElement("div",{className:"sob-option-choosen-copy-warp"},O.default.createElement("span",null,"选择复制的内容"),O.default.createElement("ul",{className:"sob-option-choosen-copy-list"},Ge.map(function(e,t){if(Me.get(e)){var o="COPY_BALANCE_SETTING"===e?Me.getIn([e,"canModify"])&&Ge.every(function(e){return!Me.get(e)||"COPY_BALANCE_SETTING"===e||Me.getIn([e,"beOpen"])}):Me.getIn([e,"canModify"]);return O.default.createElement("li",{key:t,className:"sob-option-choosen-copy-item"},O.default.createElement(u.default,{disabled:!ve||!o,checked:Me.getIn([e,"beOpen"]),onClick:function(){n(N.sobChangeCopyModuleItem(Me.getIn([e,"moduleCode"]),!Me.getIn([e,"beOpen"]))),!1==!Me.getIn([e,"beOpen"])&&"COPY_BALANCE_SETTING"!==e&&n(N.sobChangeCopyModuleItem(Me.getIn(["COPY_BALANCE_SETTING","moduleCode"]),!1))}})," ",Me.getIn([e,"moduleName"]))}return null}),["COPY_PROCESS_SETTING"].map(function(e,t){if(Me.get(e)){var o=Me.getIn([e,"canModify"]);return O.default.createElement("li",{key:t,className:"sob-option-choosen-copy-item"},O.default.createElement(u.default,{disabled:!ve||!o,checked:Me.getIn([e,"beOpen"]),onClick:function(){n(N.sobChangeCopyModuleItem(Me.getIn([e,"moduleCode"]),!Me.getIn([e,"beOpen"])))}})," ",Me.getIn([e,"moduleName"]))}return null}))),O.default.createElement("div",{className:"sob-option-choosen-copy-way"},O.default.createElement("span",{onClick:function(){v||(e.setState({gettedIdentifyingCodeList:!0}),n(N.getIdentifyingCodeList())),e.setState({isIdentifyingCode:!T,identifyingCode:"",choosenSobId:"",choosenSobName:""}),n(N.initIdentifyingCodeTemp())}},T?"复制本团队账套":"用识别码复制账套")))),O.default.createElement(E.default,{running:F,runningGl:J,gl:W,assets:X,enclosureRun:K,currency:Q,ass:V,amb:z,enclosureGl:q,number:Z,process:$,inventory:ee,quantity:te,warehouse:ne,project:oe,projectSCXM:ae,projectSGXM:le,assist:ie,batch:re,serial:ue,templateTypeZN:Le,templateTypeKJ:Ae,template:me,dispatch:n,isPlay:Pe,sobid:x,isNewJr:we,moduleMap:Oe,oldScxmBeOpen:L,oldSgxmBeOpen:A,oldQuantityBeOpen:P,oldWarehouseBeOpen:w,oldProcessBeOpen:G,oldAmbBeOpen:k}),O.default.createElement(S.default,{dispatch:n,running:F,gl:W,sobid:x,sobname:U,canModify:Ie&&(Ae.indexOf(me)>-1||Le.indexOf(me)>-1&&Se),sobType:Le.indexOf(me)>-1?"SMART":"ACCOUNTING",accountingRoleInfo:de,smartRoleInfo:se}),O.default.createElement("div",{className:"save-btn",onClick:function(){if(""!==U){var e=30;if(/[\u4e00-\u9fa5]/g.test(U)||/[\u3002\uff1b\uff0c\uff1a\u201c\u201d\uff08\uff09\u3001\uff1f\u300a\u300b]/g.test(U)||(e=60),U.length>e)return i.default.warn("账套名称包含中文及中文标点字符，长度不能超过30位；否则，长度不能超过60位");if(""!==D)if(B.get("sobid")){if(a.get("sobList").filter(function(e){return e.get("sobid")===x}).get(0).get("adminlist").find(function(e){return e.get("emplId")===Ne})||"TRUE"===Ee){var t=Le.indexOf(me)>-1&&Y.get("WAREHOUSE")&&!Y.getIn(["WAREHOUSE","beOpen"])&&w;n(N.sobOptionSave(t))}else m.Alert("您没有权限")}else{if(Le.indexOf(me)>-1&&(!fe||!fe.get("modelId")))return void i.default.info("账套模版不可为空");"TRUE"===Ee||"TRUE"===Ce||"TRUE"===ye||"TRUE"===he?n(N.sobOptionSave()):m.Alert("您没有权限")}else i.default.info("起始账期不可为空")}else i.default.info("账套名称不可为空")}},"保存")))}}]),t}(),a.displayName="SobOption",o=l))||o;t.default=v},2703:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,a=g(n(32)),l=g(n(14)),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();n(51),n(78);var r=g(n(1)),u=n(17),d=(n(18),p(n(30))),s=p(n(1347)),c=p(n(60)),f=p(n(1297));function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function g(e){return e&&e.__esModule?e:{default:e}}var O=(0,u.immutableRenderDecorator)(o=function(t){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.state={showRoleList:!1},t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,r.default.Component),i(n,[{key:"render",value:function(){for(var t=this,n=this.props,o=(n.adminlist,n.observerlist,n.operatorlist,n.vcObserverList,n.cashierList,n.flowObserverList,n.reviewList,n.vcReviewList,n.flowReviewList,n.dispatch),i=(n.running,n.gl,n.sobid),u=n.sobname,p=n.sobType,g=n.accountingRoleInfo,O=n.smartRoleInfo,b=n.canModify,m=this.state.showRoleList,I="SMART"===p?O:g,S="SMART"===p?"smartRoleInfo":"accountingRoleInfo",E=[],C=0;C<I.size;C+=3)E.push(I.slice(C,C+3));return r.default.createElement("div",{className:"sob-option-list"},r.default.createElement("div",{className:"sob-option-show-hide-tip",onClick:function(){return t.setState({showRoleList:!m})},style:{display:i?"none":""}},r.default.createElement("span",null,m?"收起更多":"展开更多"),r.default.createElement(l.default,{type:m?"up":"down"})," ",r.default.createElement("span",{style:{display:m?"":"none"}},"······································································································································································································································")),r.default.createElement("div",{style:{display:i?"":m?"":"none"},className:"sob-option-row-role"},r.default.createElement("label",{className:"sob-option-row-role-lable"},r.default.createElement("div",null,"角色权限："),r.default.createElement("div",{className:"sob-option-row-role-set-btn",style:{display:i&&b?"":"none"},onClick:function(){o(c.addPageTabPane("ConfigPanes","SobRole","SobRole","角色编辑")),o(c.addHomeTabpane("Config","SobRole","角色编辑")),o(f.getSobRoleListFromSobConfig(i,p,u))}},r.default.createElement("span",null,"设置"),r.default.createElement(l.default,{type:"edit"}))),r.default.createElement("div",{className:"role-limit-box"},E.map(function(t,n){return r.default.createElement("div",{className:"role-limit-item-wrap"},t.map(function(t,i){var u=3*n+i;return r.default.createElement("div",{className:"role-limit",key:u},r.default.createElement("p",{className:"role-title"},t.get("roleName")),r.default.createElement("div",{className:"role-list-name"},t.get("userList").map(function(e,t){return r.default.createElement("p",{key:e.get("emplId"),className:"span-hide"},e.get("name")," ",r.default.createElement("i",{onClick:function(){return o(s.sobOptionRoleDelete(S,u,t))}},"×"))})),r.default.createElement(a.default,{className:"add-role-btn",onClick:function(){var n,a;n=t.get("userList"),a=function(e){o(s.changeSobPermissionList(S,u,e))},e.isplayground||d.choose({multiple:!0,users:n.map(function(e){return e.get("emplId")}).toJS(),max:1500,onSuccess:function(e){e.length&&(e=e.map(function(e){e.emplId=e.emplId.toString();var t=n.find(function(t){return t.get("emplId")===e.emplId.toString()});return e.openReview=!!t&&t.get("openReview"),e}),a(e))},onFail:function(e){console.log("err",e)}})}},r.default.createElement(l.default,{type:"plus",style:{color:"#a90202"}}),"添加"))}))}))),r.default.createElement("div",{style:{display:i?"":m?"":"none"},className:"sob-option-show-hide-tip-bottom"},r.default.createElement("span",{onClick:function(){"SMART"===p?d.openLink({url:"https://www.xfannix.com/support/desktop/app/index.html?id=3.2#/sysczn"}):d.openLink({url:"https://www.xfannix.com/support/desktop/app/index.html?id=3.2#/sysc"})}},"前往查看权限说明文档 >>")))}}]),n}())||o;t.default=O}).call(this,n(34))},2704:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,a=c(n(61)),l=c(n(129)),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();n(79),n(128);var r=c(n(1)),u=n(17),d=(n(18),n(31),s(n(30)),s(n(1347)));s(n(60));function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function c(e){return e&&e.__esModule?e:{default:e}}var f=(0,u.immutableRenderDecorator)(o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),i(t,[{key:"render",value:function(){var e=this.props,t=e.running,n=e.runningGl,o=e.gl,i=e.assets,u=(e.enclosureRun,e.currency),s=e.ass,c=e.amb,f=(e.enclosureGl,e.number),p=e.process,g=e.inventory,O=e.quantity,b=e.warehouse,m=e.project,I=e.projectSCXM,S=e.projectSGXM,E=e.assist,C=e.batch,y=e.serial,h=e.templateTypeZN,N=e.templateTypeKJ,_=e.template,T=e.dispatch,M=(e.isPlay,e.sobid),v=e.isNewJr,R=e.moduleMap,L=e.oldScxmBeOpen,A=e.oldSgxmBeOpen,P=e.oldQuantityBeOpen,w=e.oldWarehouseBeOpen,G=e.oldProcessBeOpen,k=e.oldAmbBeOpen,B=!1,U=!1,x=!1,D=!1,H=!1,j=!1,Y=!1;return v?(B=!(!R||!R.get("PROCESS"))&&R.get("PROCESS").get("beOpen"),U=!(!R||!R.get("INVENTORY"))&&R.get("INVENTORY").get("beOpen"),x=!(!R||!R.get("QUANTITY"))&&R.get("QUANTITY").get("beOpen"),D=!(!R||!R.get("WAREHOUSE"))&&R.get("WAREHOUSE").get("beOpen"),H=!(!R||!R.get("PROJECT"))&&R.get("PROJECT").get("beOpen"),j=!(!R||!R.get("SCXM"))&&R.get("SCXM").get("beOpen"),Y=!(!R||!R.get("SGXM"))&&R.get("SGXM").get("beOpen")):(U=!(!R||!R.get("INVENTORY"))&&R.get("INVENTORY").get("beOpen"),H=!(!R||!R.get("PROJECT"))&&R.get("PROJECT").get("beOpen")),r.default.createElement("div",{className:"sob-option-row"},r.default.createElement("label",null,"功能模块："),r.default.createElement("div",{className:"fun-modal-checkbox"},r.default.createElement("div",{style:{display:h.indexOf(_)>-1?"":"none"}},t&&h.indexOf(_)>-1?r.default.createElement("span",null,r.default.createElement(l.default,{onChange:function(e){(o&&o.get("beOpen")||!t.get("beOpen"))&&T(d.sobOptionChangeFunModuel(t,e.target.checked))},checked:t.get("beOpen"),style:{display:t?"":"none"}},t.get("moduleName"))):"",t&&h.indexOf(_)>-1&&n?r.default.createElement("span",{className:t.get("beOpen")?"":"not-limit-check"},r.default.createElement(l.default,{onChange:function(e){return T(d.sobOptionChangeFunModuel(n,e.target.checked))},checked:n.get("beOpen"),style:{display:n?"":"none"},disabled:!t.get("beOpen")},n.get("moduleName"))):"",t&&h.indexOf(_)>-1&&p?r.default.createElement("span",{className:t.get("beOpen")&&!p.get("beOverdue")?"":"not-limit-check"},r.default.createElement(a.default,{placement:"top",title:p.get("beOverdue")?"未购买或权益到期":""},r.default.createElement(l.default,{onChange:function(e){return T(d.sobOptionChangeFunModuel(p,e.target.checked))},checked:p.get("beOpen"),style:{display:p?"":"none"},disabled:!t.get("beOpen")||(M?!!p.get("beOverdue")&&!G:!!p.get("beOverdue")||B)},p.get("moduleName")))):""),r.default.createElement("div",{style:{display:h.indexOf(_)>-1?"":"none"}},t&&h.indexOf(_)>-1?r.default.createElement("span",null):"",t&&h.indexOf(_)>-1&&m?r.default.createElement("span",{className:t.get("beOpen")?"":"not-limit-check"},r.default.createElement(l.default,{onChange:function(e){return T(d.sobOptionChangeFunModuel(m,e.target.checked))},checked:m.get("beOpen"),style:{display:m?"":"none"},disabled:!t.get("beOpen")||H},m.get("moduleName"))):"",t&&h.indexOf(_)>-1&&I?r.default.createElement("span",{className:m&&m.get("beOpen")&&!I.get("beOverdue")?"":"not-limit-check"},r.default.createElement(a.default,{placement:"top",title:I.get("beOverdue")?"未购买或权益到期":""},r.default.createElement(l.default,{onChange:function(e){return T(d.sobOptionChangeFunModuel(I,e.target.checked))},checked:I.get("beOpen"),style:{display:I?"":"none"},disabled:m&&!m.get("beOpen")||(M?!!I.get("beOverdue")&&!L:!!I.get("beOverdue")||j)},I.get("moduleName")))):"",t&&h.indexOf(_)>-1&&S?r.default.createElement("span",{className:m&&m.get("beOpen")&&!S.get("beOverdue")?"":"not-limit-check"},r.default.createElement(a.default,{placement:"top",title:S.get("beOverdue")?"未购买或权益到期":""},r.default.createElement(l.default,{onChange:function(e){return T(d.sobOptionChangeFunModuel(S,e.target.checked))},checked:S.get("beOpen"),style:{display:S?"":"none"},disabled:m&&!m.get("beOpen")||(M?!!S.get("beOverdue")&&!A:!!S.get("beOverdue")||Y)},S.get("moduleName")))):""),r.default.createElement("div",{style:{display:h.indexOf(_)>-1?"":"none"}},t&&h.indexOf(_)>-1?r.default.createElement("span",null):"",t&&h.indexOf(_)>-1&&g?r.default.createElement("span",{className:t.get("beOpen")?"":"not-limit-check"},r.default.createElement(l.default,{onChange:function(e){return T(d.sobOptionChangeFunModuel(g,e.target.checked))},checked:g.get("beOpen"),style:{display:g?"":"none"},disabled:!t.get("beOpen")||U},g.get("moduleName"))):"",t&&h.indexOf(_)>-1&&b?r.default.createElement("span",{className:g&&g.get("beOpen")&&!b.get("beOverdue")?"":"not-limit-check"},r.default.createElement(a.default,{placement:"top",title:b.get("beOverdue")?"未购买或权益到期":""},r.default.createElement(l.default,{onChange:function(e){return T(d.sobOptionChangeFunModuel(b,e.target.checked))},checked:b.get("beOpen"),style:{display:b?"":"none"},disabled:g&&!g.get("beOpen")||(M?!!b.get("beOverdue")&&!w:!!b.get("beOverdue")||D)},b.get("moduleName")))):"",t&&h.indexOf(_)>-1&&O?r.default.createElement("span",{className:g&&g.get("beOpen")&&!O.get("beOverdue")?"":"not-limit-check"},r.default.createElement(a.default,{placement:"top",title:O.get("beOverdue")?"未购买或权益到期":""},r.default.createElement(l.default,{onChange:function(e){return T(d.sobOptionChangeFunModuel(O,e.target.checked))},checked:O.get("beOpen"),disabled:g&&!g.get("beOpen")||(M?!!O.get("beOverdue")&&!P:!!O.get("beOverdue")||x)},O.get("moduleName")))):"",t&&h.indexOf(_)>-1&&E&&O?r.default.createElement("span",{className:t.get("beOpen")&&O.get("beOpen")&&!E.get("beOverdue")?"":"not-limit-check"},r.default.createElement(a.default,{placement:"top",title:E.get("beOverdue")?"未购买或权益到期":""},r.default.createElement(l.default,{onChange:function(e){return T(d.sobOptionChangeFunModuel(E,e.target.checked))},checked:E.get("beOpen"),style:{display:E?"":"none"},disabled:!t.get("beOpen")||!O.get("beOpen")||E.get("beOverdue")},E.get("moduleName")))):"",t&&h.indexOf(_)>-1&&y&&O?r.default.createElement("span",{className:t.get("beOpen")&&O.get("beOpen")&&!y.get("beOverdue")?"":"not-limit-check"},r.default.createElement(a.default,{placement:"top",title:y.get("beOverdue")?"未购买或权益到期":""},r.default.createElement(l.default,{onChange:function(e){return T(d.sobOptionChangeFunModuel(y,e.target.checked))},checked:y.get("beOpen"),style:{display:y?"":"none"},disabled:!t.get("beOpen")||!O.get("beOpen")||y.get("beOverdue")},y.get("moduleName")))):"",t&&h.indexOf(_)>-1&&C&&O?r.default.createElement("span",{className:t.get("beOpen")&&O.get("beOpen")&&!C.get("beOverdue")?"":"not-limit-check"},r.default.createElement(a.default,{placement:"top",title:C.get("beOverdue")?"未购买或权益到期":""},r.default.createElement(l.default,{onChange:function(e){return T(d.sobOptionChangeFunModuel(C,e.target.checked))},checked:C.get("beOpen"),style:{display:C?"":"none"},disabled:!t.get("beOpen")||!O.get("beOpen")||C.get("beOverdue")},C.get("moduleName")))):""),r.default.createElement("div",{style:{display:h.indexOf(_)>-1?"none":""}},o?r.default.createElement("span",null,r.default.createElement(l.default,{onChange:function(e){(t&&t.get("beOpen")||!o.get("beOpen"))&&T(d.sobOptionChangeFunModuel(o,e.target.checked))},checked:o.get("beOpen"),style:{display:o&&N.indexOf(_)>-1?"":"none"}},o.get("moduleName"))):"",o?r.default.createElement("span",{className:o.get("beOpen")?"":"not-limit-check"},u?r.default.createElement(l.default,{onChange:function(e){return T(d.sobOptionChangeFunModuel(u,e.target.checked))},checked:u.get("beOpen"),style:{display:u&&N.indexOf(_)>-1?"":"none"},disabled:!o.get("beOpen")},u.get("moduleName")):""):"",o?r.default.createElement("span",{className:o.get("beOpen")?"not-limit-check":""},s?r.default.createElement(l.default,{onChange:function(e){return T(d.sobOptionChangeFunModuel(s,e.target.checked))},checked:s.get("beOpen"),style:{display:s&&N.indexOf(_)>-1?"":"none"},disabled:t&&t.get("beOpen")||!o.get("beOpen")},s.get("moduleName")):""):"",o?r.default.createElement("span",{className:o.get("beOpen")?"":"not-limit-check"},i?r.default.createElement(l.default,{onChange:function(e){return T(d.sobOptionChangeFunModuel(i,e.target.checked))},checked:i.get("beOpen"),style:{display:i&&N.indexOf(_)>-1?"":"none"},disabled:!o.get("beOpen")},i.get("moduleName")):""):""),r.default.createElement("div",{style:{display:h.indexOf(_)>-1?"none":""}},r.default.createElement("span",null),o?r.default.createElement("span",{className:o.get("beOpen")?"":"not-limit-check"},f?r.default.createElement(l.default,{onChange:function(e){return T(d.sobOptionChangeFunModuel(f,e.target.checked))},checked:f.get("beOpen"),style:{display:f&&N.indexOf(_)>-1?"":"none"},disabled:!o.get("beOpen")},f.get("moduleName")):""):"",o&&c?r.default.createElement("span",{className:s&&s.get("beOpen")||!c.get("beOverdue")?"":"not-limit-check"},r.default.createElement(a.default,{placement:"top",title:c.get("beOverdue")?"未购买或权益到期":""},r.default.createElement(l.default,{onChange:function(e){return T(d.sobOptionChangeFunModuel(c,e.target.checked))},checked:c.get("beOpen"),style:{display:c&&N.indexOf(_)>-1?"":"none"},disabled:s&&!s.get("beOpen")||(M?!!c.get("beOverdue")&&!k:!!c.get("beOverdue"))},c.get("moduleName")))):"")))}}]),t}())||o;t.default=f},2705:function(e,t,n){}}]);