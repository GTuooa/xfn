(window.webpackJsonp=window.webpackJsonp||[]).push([[73],{1175:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.view=t.reducer=void 0;var s=r(a(2322)),n=r(a(1734)),l=r(a(1561));function r(e){return e&&e.__esModule?e:{default:e}}var u={assetsState:n.default,assetsMxbState:l.default};t.reducer=u,t.view=s.default},2322:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,n=w(a(32)),l=w(a(37)),r=w(a(129)),u=w(a(45)),c=function(){function e(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,a,s){return a&&e(t.prototype,a),s&&e(t,s),t}}();a(51),a(38),a(128),a(55);var i=w(a(1)),o=a(56),d=(a(18),C(a(1414))),f=C(a(43)),m=C(a(60)),p=w(a(1227)),g=w(a(2323)),b=w(a(2325)),h=a(22),E=a(127),y=a(31),v=w(a(2328)),N=w(a(1224)),_=w(a(1226));function C(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function w(e){return e&&e.__esModule?e:{default:e}}a(2330);var S=(0,o.connect)(function(e){return e})(s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),c(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.dispatch;e.allState;t(d.getAssetsListFetch()),"home"===sessionStorage.getItem("previousPage")&&t(d.getPeriodAndMxbAssetsFetch())}},{key:"shouldComponentUpdate",value:function(e){return this.props.allState!=e.allState||this.props.assetsMxbState!=e.assetsMxbState||this.props.homeState!=e.homeState||this.props.assetsState!=e.assetsState}},{key:"render",value:function(){var e=this.props,t=e.assetsState,a=e.dispatch,s=e.allState,c=e.assetsMxbState,o=e.homeState,C=o.getIn(["data","userInfo","pageController","BALANCE_DETAIL","preDetailList","ASSETS_BALANCE_STATEMENT","detailList"]),w=o.getIn(["permissionInfo","Report"]),S=c.get("mxMaindata"),A=c.get("pageCount"),O=c.get("currentPage"),T=S.get("cardList"),x=c.get("currentSelectedKeys"),M=c.get("currentSelectedTitle"),P=c.get("assetslist"),L=t.get("labelTree"),k=s.get("issues"),j=c.get("issuedate"),D=c.get("endissuedate"),I=c.getIn(["flags","chooseperiods"]),F=k.findIndex(function(e){return e===j}),R=k.slice(0,F),V=t.getIn(["flags","showAssetsCardOption"]),B=o.get("pageList"),K=o.getIn(["views","isSpread"]),U=o.getIn(["views","URL_POSTFIX"]),H=o.getIn(["views","isPlay"]);return i.default.createElement(N.default,{type:"mxb-two",className:"assetsMxb"},i.default.createElement(_.default,null,i.default.createElement("div",{className:"flex-title-left"},K||B.getIn(["Mxb","pageList"]).size<=1?"":i.default.createElement(p.default,{pageItem:B.get("Mxb"),onClick:function(e,t,s){-1===B.getIn(["Mxb","pageList"]).indexOf("资产明细表")&&sessionStorage.setItem("previousPage","home"),a(m.addPageTabPane("MxbPanes",s,s,t)),a(m.addHomeTabpane(e,s,t))}}),i.default.createElement(u.default,{className:"title-date",value:j,onChange:function(e){return a(d.getMxListFetch(e,e,x.get(0)))}},k.map(function(e,t){return i.default.createElement(Option,{key:t,value:e},e)})),i.default.createElement("span",{className:"title-checkboxtext",onClick:function(){I&&I!==j&&a(d.getMxListFetch(j,j,x.get(0))),a(d.changeAssetsMxbChooseMorePeriods())}},i.default.createElement(r.default,{className:"title-checkbox",checked:I}),i.default.createElement("span",null,"至")),i.default.createElement(u.default,{disabled:!I,className:"title-date",value:D===j?"":D,onChange:function(e){return a(d.getMxListFetch(j,e,x.get(0)))}},R.map(function(e,t){return i.default.createElement(Option,{key:t,value:e},e)}))),i.default.createElement("div",{className:"flex-title-right"},i.default.createElement("span",{className:"title-right title-dropdown"},i.default.createElement(E.Export,{isAdmin:w.getIn(["exportExcel","permission"]),exportDisable:!j||H,excelDownloadUrl:y.ROOT+"/excel/export/AssertSubAll?"+U+"&begin="+(j?j.substr(0,4)+""+j.substr(6,2):"")+"&end="+(D?D.substr(0,4)+""+D.substr(6,2):""),ddExcelCallback:function(e){(0,h.judgePermission)(C.get("EXPORT_STATEMENT_EXCEL")).disabled?l.default.info("当前角色无该请求权限"):a(f.allExportReceiverlist(e,"excelAssertSub",{begin:j.substr(0,4)+""+j.substr(6,2),end:D.substr(0,4)+""+D.substr(6,2)}))},PDFDownloadUrl:y.ROOT+"/pdf/export/assertSub?"+U+"&begin="+(j?""+j.substr(0,4)+j.substr(6,2):"")+"&end="+(D?""+D.substr(0,4)+D.substr(6,2):""),ddPDFCallback:function(e){(0,h.judgePermission)(C.get("EXPORT_STATEMENT_PDF")).disabled?l.default.info("当前角色无该请求权限"):a(f.allExportReceiverlist(e,"pdfAssertSub",{begin:""+j.substr(0,4)+j.substr(6,2),end:""+D.substr(0,4)+D.substr(6,2)}))},onErrorSendMsg:function(e,t,s){a(f.sendMessageToDeveloper({title:"导出发送钉钉文件异常",message:"type:"+e+",valueFirst:"+t+",valueSecond:"+s,remark:"资产明细表"}))}})),i.default.createElement(n.default,{className:"title-right refresh-btn",type:"ghost",onClick:function(){isNaN(x.get(0))?a(d.getPeriodAndMxbAssetsFetch(j,D,"",x.get(0))):a(d.getPeriodAndMxbAssetsFetch(j,D,x.get(0),"")),a(f.freshMxbPage("资产明细表"))}},"刷新"))),i.default.createElement(E.TableWrap,{className:"table-flex-mxb table-tree-wrap",notPosition:!0},i.default.createElement(g.default,{cardList:T,mxMaindata:S,dispatch:a,currentPage:O,pageCount:A,paginationCallBack:function(e){isNaN(x.get(0))?a(d.getPeriodAndMxbAssetsFetch(j,D,"",x.get(0),e)):a(d.getPeriodAndMxbAssetsFetch(j,D,x.get(0),"",e))}}),i.default.createElement(b.default,{dispatch:a,initAssetsList:P,assetslist:(0,h.changeAssetsListDataToTree)(P.toJS()),labelTreeList:(0,h.changeLabelDataToTree)(L.toJS()),issuedate:j,endissuedate:D,currentSelectedKeys:x,currentSelectedTitle:M})),V?i.default.createElement(v.default,null):"")}}]),t}())||s;t.default=S},2323:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,n=function(){function e(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,a,s){return a&&e(t.prototype,a),s&&e(t,s),t}}(),l=i(a(1)),r=(a(18),a(17)),u=i(a(2324)),c=a(127);function i(e){return e&&e.__esModule?e:{default:e}}var o=(0,r.immutableRenderDecorator)(s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),n(t,[{key:"render",value:function(){var e=this.props,t=e.cardList,a=e.mxMaindata,s=e.dispatch,n=e.currentPage,r=e.pageCount,i=e.paginationCallBack;return l.default.createElement(c.TableAll,{type:"max-mxb"},l.default.createElement(c.TableTitle,{titleList:["编码","名称","原值","残值率","残值","已用/总期","期初累计(折/摊)","期初净值","本期(折/摊)","期末累计(折/摊)","期末净值"],className:"assets-mxb-table-width"}),l.default.createElement(c.TableBody,null,(t||[]).map(function(e,t){return l.default.createElement(u.default,{className:"assets-mxb-table-width assets-mxb-table-justify",key:t,idx:t,dispatch:s,mxItem:e})}),l.default.createElement(c.TableItem,{className:"assets-mxb-table-width assets-mxb-table-justify assets-mxb-table-sumarry",line:t?t.size+1:1},l.default.createElement("li",null),l.default.createElement("li",null,"本期合计"),l.default.createElement("li",null,l.default.createElement(c.Amount,null,a.get("cardValue"))),l.default.createElement("li",null),l.default.createElement("li",null,l.default.createElement(c.Amount,null,a.get("residualValue"))),l.default.createElement("li",null),l.default.createElement("li",null,l.default.createElement(c.Amount,null,a.get("sumStarDepreciation"))),l.default.createElement("li",null,l.default.createElement(c.Amount,null,a.get("starNetWorth"))),l.default.createElement("li",null,l.default.createElement(c.Amount,null,a.get("currentDepreciation"))),l.default.createElement("li",null,l.default.createElement(c.Amount,null,a.get("sumEndDepreciation"))),l.default.createElement("li",null,l.default.createElement(c.Amount,null,a.get("endNetWorth"))))),l.default.createElement(c.TablePagination,{currentPage:n,pageCount:r,paginationCallBack:function(e){return i(e)}}))}}]),t}())||s;t.default=o},2324:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,n,l=function(){function e(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,a,s){return a&&e(t.prototype,a),s&&e(t,s),t}}(),r=a(1),u=(n=r)&&n.__esModule?n:{default:n},c=(a(18),a(17)),i=d(a(1294)),o=(d(a(60)),a(127));function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}var f=(0,c.immutableRenderDecorator)(s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default.Component),l(t,[{key:"render",value:function(){var e=this.props,t=e.idx,a=e.mxItem,s=e.dispatch,n=e.className;return u.default.createElement(o.TableItem,{className:n,line:t+1},u.default.createElement(o.TableOver,{isLink:!0,onClick:function(){sessionStorage.setItem("assetsCardfrom","AssetsMxb"),s(i.getCardDetailFetch(a.get("cardNumber"))),s(i.showAssetsCardOption(!0))}},a.get("cardNumber")),u.default.createElement(o.TableOver,{textAlign:"left",isLink:!0,onClick:function(){sessionStorage.setItem("assetsCardfrom","AssetsMxb"),s(i.getCardDetailFetch(a.get("cardNumber"))),s(i.showAssetsCardOption(!0))}},a.get("cardName")),u.default.createElement("li",null,u.default.createElement(o.Amount,null,a.get("cardValue"))),u.default.createElement("li",null,u.default.createElement("span",null,a.get("salvage")+"%")),u.default.createElement("li",null,u.default.createElement(o.Amount,null,a.get("residualValue"))),u.default.createElement("li",null,u.default.createElement("span",null,a.get("alreadyTime")+"/"+a.get("totalMonth"))),u.default.createElement("li",null,u.default.createElement(o.Amount,null,a.get("sumStarDepreciation"))),u.default.createElement("li",null,u.default.createElement(o.Amount,null,a.get("starNetWorth"))),u.default.createElement("li",null,u.default.createElement(o.Amount,null,a.get("currentDepreciation"))),u.default.createElement("li",null,u.default.createElement(o.Amount,null,a.get("sumEndDepreciation"))),u.default.createElement("li",null,u.default.createElement(o.Amount,null,a.get("endNetWorth"))))}}]),t}())||s;t.default=f},2325:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,n=m(a(14)),l=m(a(45)),r=function(){function e(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,a,s){return a&&e(t.prototype,a),s&&e(t,s),t}}();a(78),a(55);var u=m(a(1)),c=a(17),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(1414)),o=m(a(2326)),d=m(a(2327)),f=a(127);function m(e){return e&&e.__esModule?e:{default:e}}var p=(0,c.immutableRenderDecorator)(s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.dispatch,a=e.initAssetsList,s=e.assetslist,r=e.labelTreeList,c=e.issuedate,m=e.endissuedate,p=e.currentSelectedKeys,g=e.currentSelectedTitle;return u.default.createElement(f.TableTree,null,u.default.createElement(l.default,{showSearch:!0,className:"table-right-table-input",optionFilterProp:"children",notFoundContent:"无法找到相应科目",value:g,onSelect:function(e){t(i.getMxListFetch(c,m,e))},showArrow:!1},(a?a.filter(function(e){return e.get("serialNumber").length<4}):[]).map(function(e,t){return u.default.createElement(Option,{key:t,value:""+e.get("serialNumber")},e.get("serialNumber")+" "+e.get("serialName"))})),u.default.createElement(n.default,{type:"search",className:"table-right-table-input-search"}),u.default.createElement("div",{className:"table-right-tree",style:{paddingTop:"3px"}},u.default.createElement(o.default,{assetslist:s,onSelect:function(e,a){if(0==e.length)return!1;t(i.getMxListFetch(c,m,e[0]))},currentSelectedKeys:p})),u.default.createElement("div",{className:"table-right-tree"},u.default.createElement(d.default,{labelTreeList:r,currentSelectedKeys:p,onSelect:function(e){if(0==e.length||0==e[0])return!1;t(i.getMxListByLabelFetch(c,m,e[0]))}})))}}]),t}())||s;t.default=p},2326:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,n=c(a(171)),l=function(){function e(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,a,s){return a&&e(t.prototype,a),s&&e(t,s),t}}();a(170);var r=c(a(1)),u=a(17);function c(e){return e&&e.__esModule?e:{default:e}}var i=n.default.TreeNode,o=(0,u.immutableRenderDecorator)(s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),l(t,[{key:"render",value:function(){var e=this.props,t=e.assetslist,a=(e.dataKey,e.dataValue,e.onSelect),s=e.currentSelectedKeys;return r.default.createElement(n.default,{defaultExpandAll:!1,onSelect:a,selectedKeys:s},function e(t){return t.map(function(t){return t.children?r.default.createElement(i,{key:t.key,title:t.title},e(t.children)):r.default.createElement(i,{key:t.key,title:t.title})})}(t))}}]),t}())||s;t.default=o},2327:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,n=c(a(171)),l=function(){function e(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,a,s){return a&&e(t.prototype,a),s&&e(t,s),t}}();a(170);var r=c(a(1)),u=a(17);function c(e){return e&&e.__esModule?e:{default:e}}var i=n.default.TreeNode,o=(0,u.immutableRenderDecorator)(s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),l(t,[{key:"render",value:function(){var e=this.props,t=e.labelTreeList,a=e.onSelect,s=e.currentSelectedKeys;return r.default.createElement("div",{className:"assetsmxb-bottom-tree"},r.default.createElement("div",{className:"assetsmxb-label"},"标签："),t.length?r.default.createElement(n.default,{defaultExpandAll:!1,selectedKeys:s,onSelect:a},function e(t){return t.map(function(t){return t.children?r.default.createElement(i,{key:t.key,title:t.title},e(t.children)):r.default.createElement(i,{key:t.key,title:t.title})})}(t)):"")}}]),t}())||s;t.default=o},2328:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,n=C(a(1230)),l=C(a(47)),r=C(a(100)),u=C(a(32)),c=C(a(37)),i=C(a(45)),o=function(){function e(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,a,s){return a&&e(t.prototype,a),s&&e(t,s),t}}();a(1231),a(46),a(99),a(51),a(38),a(55);var d=C(a(1)),f=a(56),m=(a(18),_(a(1294))),p=_(a(43)),g=C(a(1572)),b=C(a(1573)),h=C(a(1513)),E=C(a(6)),y=_(a(27)),v=_(a(30)),N=a(22);function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function C(e){return e&&e.__esModule?e:{default:e}}a(1574);var w=i.default.Option,S=(0,f.connect)(function(e){return e})(s=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={modalVisible:!1,copyNum:"",newLablemodal:!1,newLable:"",newCardTotalMonth:!1},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,d.default.Component),o(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.props.allState!=e.allState||this.props.assetsState!=e.assetsState||this.props.assetsMxbState!=e.assetsMxbState||this.state!==t||this.props.homeState!=e.homeState}},{key:"render",value:function(){var e=this,t=this.props,a=t.assetsState,s=t.dispatch,o=t.allState,f=t.assetsMxbState,_=t.homeState,C=this.state,S=C.modalVisible,A=C.copyNum,O=C.newLablemodal,T=C.newLable,x=C.newCardTotalMonth,M=_.getIn(["data","userInfo","pageController","MANAGER","preDetailList","ASSETS_SETTING","detailList"]),P=f.get("issuedate"),L=f.get("endissuedate"),k=f.get("currentSelectedKeys"),j=o.get("lrAclist"),D=o.get("allasscategorylist"),I=o.get("period"),F=I.get("openedyear"),R=I.get("openedmonth"),V=a.get("assetslist"),B=V.filter(function(e){return 1===e.get("serialNumber").length}),K=V.filter(function(e){return 3===e.get("serialNumber").length}),U=a.get("cardTemplate"),H=a.getIn(["flags","assetsCardMode"]),G=(U.get("serialNumber"),U.get("cardNumber")),Y=U.get("cardName"),J=U.get("assetsName"),W=U.get("assetsNumber"),z=U.get("classificationName"),X=U.get("classificationNumber"),$=U.get("remark"),q=U.get("label").toJS(),Q=U.get("startTime"),Z=U.get("inputPeriod"),ee=U.get("depreciationMethod"),te=U.get("totalMonth"),ae=U.get("debitId"),se=U.get("debitName"),ne=U.get("debitAssList"),le=U.get("creditId"),re=U.get("creditName"),ue=U.get("creditAssList"),ce=a.getIn(["flags","selectLables"]),ie=a.getIn(["view","deleteModalStatus"]),oe=[G],de=a.get("currentSelectedKeys").toJS()[0],fe=U.get("cardValue"),me=U.get("salvage"),pe=U.get("residualValue"),ge=U.get("monthlyDepreciation"),be=U.get("alreadyDepreciationTime"),he=U.get("sumDepreciation"),Ee=U.get("earlyNetWorth"),ye=U.get("status"),ve=U.get("currentCardTime"),Ne={0:function(){return"正常使用"},1:function(){return"清理中"},2:function(){return"已清理"},3:function(){return"折旧完毕"},4:function(){return"已删除"}}[ye||""]();pe=""!==fe&&""!==me?(fe*me/100).toFixed(2)-0:"",ge=""!==fe&&""!==pe&&te?Math.floor(1e4*(fe-pe)/te/100)/100:"",be=function(e,t,a,s){t=s||t;var n="";if(e&&t){var l=Number(e.substr(0,4)),r=Number(e.substr(5,2)),u=Number(t.substr(0,4)),c=Number(t.substr(6,2));return(n=c<r?12*(u-l)-(r-c)-1:12*(u-l)+(c-r)-1)<0?0:n<=a?n:a}return""}(Q,Z,te,ve),he=function(e,t){return te==t?(fe-fe*me/100).toFixed(2)-0:e&&t?t*e<0?0:(t*e).toFixed(2)-0:0}(ge,be),Ee=fe&&""!==he?(fe-he).toFixed(2)-0:"";var _e=a.getIn(["flags","showAssetsCardOption"]);return d.default.createElement(l.default,{width:"680px",visible:_e,title:"编辑卡片",onCancel:function(){return s(m.showAssetsCardOption(!1))},footer:[d.default.createElement(u.default,{disabled:(0,N.judgePermission)(M.get("CUD_ASSETS_CARD")).disabled,className:"title-right",type:"primary",onClick:function(){if(Y.length>y.ALL_NAME_LENGTH)return c.default.warn("卡片名称位数不能超过"+y.ALL_NAME_LENGTH+"位");s(m.enterCard(pe,ge,be,he,Ee,de,"saveAndNew"))}},"保存并新增3333"),d.default.createElement(u.default,{disabled:(0,N.judgePermission)(M.get("CUD_ASSETS_CARD")).disabled,className:"title-right",type:"ghost",onClick:function(){if(Y.length>y.ALL_NAME_LENGTH)return c.default.warn("卡片名称位数不能超过"+y.ALL_NAME_LENGTH+"位");s(m.enterCard(pe,ge,be,he,Ee,de))}},"保存"),d.default.createElement(u.default,{disabled:(0,N.judgePermission)(M.get("CUD_ASSETS_CARD")).disabled||"insert"===H,className:"title-right",type:"ghost",onClick:function(){e.setState({modalVisible:!0}),s(m.getCardListFetch(de))}},"复制"),d.default.createElement(u.default,{disabled:(0,N.judgePermission)(M.get("CUD_ASSETS_CARD")).disabled||"insert"===H||-1===["0","1","3"].indexOf(ye),className:"title-right",type:"ghost",onClick:function(){"0"===ye?s(m.clearCardFetch("1",G,F,R)):"1"===ye?s(m.cancelClearCard("0",G)):"3"===ye&&s(m.clearCardFetch("1",G,F,R))}},"1"===ye?"取消清理":"清理"),d.default.createElement(h.default,{disabledFlag:(0,N.judgePermission)(M.get("CUD_ASSETS_CARD")).disabled,disabled:(0,N.judgePermission)(M.get("CUD_ASSETS_CARD")).disabled||"insert"===H||"2"===ye,ButtonClick:function(){return s(m.showDeleteModal())},visible:ie,tipText:"删除的卡片将不可恢复，请确认是否继续删除",onOk:function(){return s(m.deleteCard(oe,de))&&s(m.showAssetsCardOption(!1))},onCancel:function(){return s(m.closeDeleteModal())},froms:"cardBomb"})]},d.default.createElement("div",{className:"modalBomb",style:{display:S?"":"none"}},d.default.createElement(l.default,{visible:S,title:"复制并新增卡片",style:{paddingTop:"100px"},onCancel:function(){e.setState({copyNum:""}),e.setState({modalVisible:!1})},footer:[d.default.createElement(u.default,{key:"cancel",type:"ghost",onClick:function(){e.setState({copyNum:""}),e.setState({modalVisible:!1})}},"取消"),d.default.createElement(u.default,{key:"ok",onClick:function(){A>100?v.Alert("单次可复制张数小于等于100张"):(s(m.copyCardMxbFetch(A,de,P,L,k.get(0))),e.setState({modalVisible:!1}),e.setState({copyNum:""}))}},"复制")]},d.default.createElement("div",null,"复制卡片的数量:"),d.default.createElement(r.default,{value:A,placeholder:"请输入复制的张数",onChange:function(t){var a=t.target.value;(!isNaN(a)&&/^[0-9]*$/g.test(a)||""===a)&&e.setState({copyNum:a})}}))),d.default.createElement("div",{className:"modalBomb",style:{display:O?"":"none"}},d.default.createElement(l.default,{visible:O,title:"新增标签",onCancel:function(){e.setState({newLable:""}),e.setState({newLablemodal:!1})},footer:[d.default.createElement(u.default,{key:"saveandmore",disabled:0===T.length,type:"primary",onClick:function(){return T.length>y.ALL_NAME_LENGTH?c.default.warn("标签位数不能超过"+y.ALL_NAME_LENGTH+"位"):T.length&&""==T.trim()?c.default.warn("标签不能全为空格"):(e.setState({newLable:""}),e.setState({newLablemodal:!1}),void s(m.addNewCardLable(T)))}},"保存")]},d.default.createElement("div",null,"新增标签(未被使用过的标签将不再显示，请在使用该标签时新增):"),d.default.createElement(r.default,{value:T,onChange:function(t){e.setState({newLable:t.target.value})}}))),d.default.createElement("span",{style:{display:"modify"===H?"":"none"},className:"assets-card-statu"},Ne),d.default.createElement("div",{className:"assetsCard"},d.default.createElement("h4",{className:"assets-card-title"},"基本信息："),d.default.createElement("div",{className:"assets-card-section assets-card-width4"},d.default.createElement("div",{className:"assets-card-input-wrap"},d.default.createElement("span",{className:"assets-card-input-tip"},"卡片编码："),d.default.createElement("span",{className:"assets-card-input"},d.default.createElement(r.default,{value:G,onChange:function(e){s(m.changeCardCardNumber(e.target.value))},onBlur:function(e){if(e.target.value.length<4&&""!==e.target.value){var t="0000".substr(0,4-e.target.value.length)+e.target.value;s(m.changeCardCardNumber(t))}}})),d.default.createElement("span",{className:"assets-card-input-tip assets-card-input-tip-right"},"卡片名称："),d.default.createElement("span",{className:"assets-card-input"},d.default.createElement(r.default,{placeholder:"必填，请输入卡片名称",value:Y,onChange:function(e){s(m.changeCardCardName(e.target.value))}}))),d.default.createElement("div",{className:"assets-card-input-wrap"},d.default.createElement("span",{className:"assets-card-input-tip"},"资产分类："),d.default.createElement("span",{className:"assets-card-input"},d.default.createElement(i.default,{className:W?"assets-card-select":"assets-card-select assets-kmset-item-input-disabled",searchPlaceholder:"必填，请选择资产分类",value:W?W+" "+J:"必填，请选择资产分类",onSelect:function(e){return s(m.selectCardAssetsOrClass(e,"assets",H))}},B.map(function(e,t){return d.default.createElement(w,{key:t,value:e.get("serialNumber")+" "+e.get("serialName")},e.get("serialNumber")+" "+e.get("serialName"))}))),d.default.createElement("span",{className:"assets-card-input-tip assets-card-input-tip-right"},"辅助分类："),d.default.createElement("span",{className:"assets-card-input"},W&&K.filter(function(e){return 0===e.get("serialNumber").indexOf(W)}).size?d.default.createElement(i.default,{className:X?"assets-card-select":"assets-card-select assets-kmset-item-input-disabled",value:X?X+" "+z:"必填，请选择资产辅助分类",onSelect:function(e){return s(m.selectCardAssetsOrClass(e,"class",H))}},K.filter(function(e){return 0===e.get("serialNumber").indexOf(W)}).map(function(e,t){return d.default.createElement(w,{key:t,value:e.get("serialNumber")+" "+e.get("serialName")},e.get("serialNumber")+" "+e.get("serialName"))})):d.default.createElement(r.default,{disabled:!0,value:X?X+" "+z:""}))),d.default.createElement("div",{className:"assets-card-input-wrap"},d.default.createElement("span",{className:"assets-card-input-tip"},"启用日期："),d.default.createElement("span",{className:"assets-card-input"},d.default.createElement(n.default,{className:"assets-card-input-date",placeholder:"必填(必须比录入期间早或相等)",allowClear:!1,value:Q?(0,E.default)(Q.replace(/\D/g,"/"),"YYYY/MM/DD"):"",format:"YYYY/MM/DD",onChange:function(e){s(e?m.changeCardStartTime(e,Z):p.sendMessageToDeveloper({title:"资产卡片日期异常",message:"value:"+e+", 卡片信息"+JSON.stringify(U),remark:"资产明细"}))}})),d.default.createElement("span",{className:"assets-card-input-tip assets-card-input-tip-right"},"录入期间："),d.default.createElement("span",{className:"assets-card-input"},d.default.createElement(r.default,{disabled:!0,className:"assets-card-input",value:Z}))),d.default.createElement("div",{className:"assets-card-input-wrap"},d.default.createElement("span",{className:"assets-card-input-tip"},"备注："),d.default.createElement("span",{className:"assets-card-input"},d.default.createElement(r.default,{placeholder:"选填，最多45个字符",value:$,onChange:function(e){return s(m.changeCardRemark(e.target.value))}})),d.default.createElement("span",{className:"assets-card-input-tip assets-card-input-tip-right"},"标签："),d.default.createElement("span",{className:"assets-card-input assets-card-label"},d.default.createElement(i.default,{mode:"multiple",multiple:"true",className:"assets-card-select-label",searchPlaceholder:"可通过点击新增按钮新增标签",value:q,onChange:function(e){return s(m.changeCardLables(e))}},ce.map(function(e,t){return d.default.createElement(w,{key:t,value:e},e)})),d.default.createElement(u.default,{className:"assets-card-newlable",type:"primary",onClick:function(){return e.setState({newLablemodal:!0})}},"新增标签")))),d.default.createElement("h4",{className:"assets-card-title"},"折旧／摊销方法："),d.default.createElement("div",{className:"assets-card-section assets-card-width5"},d.default.createElement("div",{className:"assets-card-input-wrap"},d.default.createElement("span",{className:"assets-card-input-tip"},"折旧／摊销方法："),d.default.createElement("span",{className:"assets-card-input"},d.default.createElement(r.default,{disabled:!0,value:ee})),d.default.createElement("span",{className:"assets-card-input-tip assets-card-input-tip-right"},"使用总期限（月）："),d.default.createElement("span",{className:"assets-card-input"},d.default.createElement(r.default,{value:te,placeholder:"必填，请输入数字",onChange:function(t){t.target.value>y.ASS_TOTAL_MONTH&&(e.setState({newCardTotalMonth:!0}),t.target.value=""),s(m.changeCardTotalMonth(t.target.value))}}))),d.default.createElement(l.default,{visible:x,title:"提示",onCancel:function(){e.setState({newCardTotalMonth:!1})},footer:[d.default.createElement(u.default,{key:"month",type:"primary",onClick:function(){e.setState({newCardTotalMonth:!1})}},"确定")]},d.default.createElement("div",null,"资产默认总期限不超过",y.ASS_TOTAL_MONTH,"月")),d.default.createElement("div",{className:"assets-card-ac-select-wrap assets-card-ac-select-width1"},d.default.createElement("div",{className:"assets-card-ac-select"},d.default.createElement("div",{className:"assets-card-select-item"},d.default.createElement("span",{className:"assets-card-input-tip"},"账务处理借方科目："),d.default.createElement("span",{className:"assets-card-input"},d.default.createElement(g.default,{className:"assets-card-select",tipText:"必填，请选择科目",acId:ae,acName:se,debitAssList:ne,lrAclist:j,onChange:function(e){var t=e.split(" ")[0],a=j.find(function(e){return e.get("acid")===t});s(m.selectAssetsAc(a?t:"",a&&a.get("acfullname"),a&&a.get("asscategorylist"),"cardTemplate","debit"))}}))),ne.size?ne.map(function(e,t){return d.default.createElement("div",{className:"assets-card-select-item"},d.default.createElement("span",{className:"assets-card-input-tip"},"辅助核算("+e.get("assCategory")+"):"),d.default.createElement("span",{className:"assets-card-input"},d.default.createElement(b.default,{className:"assets-card-select",assid:e.get("assId")?e.get("assId"):"",assname:e.get("assName")?e.get("assName"):"",asscategory:e.get("assCategory"),allasscategorylist:D,onChange:function(e){var a=e.split(" ")[0],n=e.split(" ")[1];s(m.selectAssetsAss(a,n,t,"cardTemplate","debit"))},dispatch:s})))}):""),d.default.createElement("div",{className:"assets-card-ac-select assets-card-ac-select-right  assets-card-ac-select-width1"},d.default.createElement("div",{className:"assets-card-select-item"},d.default.createElement("span",{className:"assets-card-input-tip"},"账务处理贷方科目："),d.default.createElement("span",{className:"assets-card-input"},d.default.createElement(g.default,{className:"assets-card-select",tipText:"必填，请选择科目",acId:le,acName:re,debitAssList:ue,lrAclist:j,onChange:function(e){var t=e.split(" ")[0],a=j.find(function(e){return e.get("acid")===t});s(m.selectAssetsAc(a?t:"",a&&a.get("acfullname"),a&&a.get("asscategorylist"),"cardTemplate","credit"))}}))),ue.size?ue.map(function(e,t){return d.default.createElement("div",{className:"assets-card-select-item"},d.default.createElement("span",{className:"assets-card-input-tip"},"辅助核算("+e.get("assCategory")+"):"),d.default.createElement("span",{className:"assets-card-input"},d.default.createElement(b.default,{className:"assets-card-select",assid:e.get("assId")?e.get("assId"):"",assname:e.get("assName")?e.get("assName"):"",asscategory:e.get("assCategory"),allasscategorylist:D,onChange:function(e){var a=e.split(" ")[0],n=e.split(" ")[1];s(m.selectAssetsAss(a,n,t,"cardTemplate","credit"))},dispatch:s})))}):""))),d.default.createElement("h4",{className:"assets-card-title"},"原值、净值、累计折旧："),d.default.createElement("div",{className:"assets-card-section assets-card-ac-select-width2"},d.default.createElement("div",{className:"assets-card-input-wrap"},d.default.createElement("span",{className:"assets-card-input-tip"},"原值："),d.default.createElement("span",{className:"assets-card-input"},d.default.createElement(r.default,{className:"assets-card-input",value:fe,placeholder:"必填，请输入数字",onChange:function(e){return s(m.changeCardCardValue(e.target.value))}})),d.default.createElement("span",{className:"assets-card-input-tip assets-card-input-tip-right"},"残值率（%）："),d.default.createElement("span",{className:"assets-card-input"},d.default.createElement(r.default,{className:"assets-card-input",value:me,placeholder:"必填，请输入小于100的数字",onChange:function(e){return s(m.changeCardSalvage(e.target.value))}}))),d.default.createElement("div",{className:"assets-card-input-wrap"},d.default.createElement("span",{className:"assets-card-input-tip"},"预计残值："),d.default.createElement("span",{className:"assets-card-input"},d.default.createElement(r.default,{disabled:!0,className:"assets-card-input",value:pe})),d.default.createElement("span",{className:"assets-card-input-tip assets-card-input-tip-right"},"已折旧／摊销期间："),d.default.createElement("span",{className:"assets-card-input"},d.default.createElement(r.default,{disabled:!0,className:"assets-card-input",value:be}))),d.default.createElement("div",{className:"assets-card-input-wrap"},d.default.createElement("span",{className:"assets-card-input-tip"},"期初累计折旧／摊销："),d.default.createElement("span",{className:"assets-card-input"},d.default.createElement(r.default,{disabled:!0,className:"assets-card-input",value:he})),d.default.createElement("span",{className:"assets-card-input-tip assets-card-input-tip-right"},"期初净值："),d.default.createElement("span",{className:"assets-card-input"},d.default.createElement(r.default,{disabled:!0,className:"assets-card-input",value:Ee}))),d.default.createElement("div",{className:"assets-card-input-wrap"},d.default.createElement("span",{className:"assets-card-input-tip"},"月折旧／摊销："),d.default.createElement("span",{className:"assets-card-input"},d.default.createElement(r.default,{disabled:!0,className:"assets-card-input",value:ge})),d.default.createElement("span",{className:"assets-card-input-tip assets-card-input-tip-right"}),d.default.createElement("span",{className:"assets-card-input"})))))}}]),t}())||s;t.default=S},2330:function(e,t,a){}}]);