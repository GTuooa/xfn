(window.webpackJsonp=window.webpackJsonp||[]).push([[59,2,24],{1188:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.view=t.reducer=void 0;var a=s(n(2446)),r=s(n(2463)),l=s(n(1334)),u=s(n(1301)),i=s(n(1577)),c=s(n(1335));function s(e){return e&&e.__esModule?e:{default:e}}var o={calculationState:r.default,accountConfState:l.default,lrAccountState:u.default,cxlsState:i.default,yllsState:c.default};t.reducer=o,t.view=a.default},1239:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getInitLraccountJzsy=t.deleteSingleFlow=t.jumpCommonCharge=t.changeBeforeAmount=t.getManagerCategoryList=t.insertManagerModal=t.setDefineMadalInitState=t.setInvioceMadalInitState=t.setCarryoverMadalInitState=t.setManageMadalInitState=t.changeCxAccountCommonOutString=t.changeCxAccountCommonString=t.changeCurrentPage=t.jumpCalculateCxToLr=t.getBusinessBeforeSwitch=t.insertlrAccountInvioceDefineModal=t.insertlrAccountInvioceModal=t.insertlrAccountJzsyModal=t.insertlrAccountCarryoverModal=t.insertlrAccountManagerModal=t.getBusinessDefineModal=t.getBusinessInvioceModal=t.calculateGainForJzsy=t.getBusinessJzsyModal=t.getBusinessCarryoverModal=t.getBusinessManagerModal=t.getBusinessPayment=t.beforeRunningPayOrReceive=t.currentPz=t.deleteVcItemFetch=t.getAccountDimensionFetch=t.afterModifyAccountAllList=t.changePzCommonString=t.runningInsertVc=t.deleteAccountItemCardAndRunning=t.accountItemCheckboxCheck=t.accountItemCheckboxCheckAll=t.getBusinessList=t.getPeriodAndBusinessList=t.cxlsDownloadEnclosure=void 0;var a=A(n(37)),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};n(38);var l=E(n(1274)),u=A(n(52)),i=n(18),c=n(22),s=E(n(30)),o=E(n(27)),d=E(n(43)),f=E(n(60)),m=E(n(1243)),g=E(n(1245)),p=E(n(1242)),_=E(n(1229)),C=E(n(1249));function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function A(e){return e&&e.__esModule?e:{default:e}}t.cxlsDownloadEnclosure=function(e,t){return function(n){n(_.lsDownloadEnclosure(e,t))}},t.getPeriodAndBusinessList=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"allWater",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return function(r,i){r({type:l.SWITCH_LOADING_MASK});var s="allWater"==t?"getRunningBusinessList":"getRunning"+t+"List",f=(i().cxlsState,""===a?1:a);(0,u.default)(s,"POST",JSON.stringify({year:e?e.substr(0,4):"",month:e?e.substr(6,2):"",getPeriod:"true",accountUuid:n,currentPage:f,pageSize:o.CXLS_LIMIE_LENGTH}),function(a){if(r({type:l.SWITCH_LOADING_MASK}),(0,c.showMessage)(a)){var u=a.data.periodDtoJson.openedyear+"年第"+a.data.periodDtoJson.openedmonth+"期",i=e||u,s=a.data.periodDtoJson?r(d.everyTableGetIssuedate(a.data.periodDtoJson)):"";r({type:l.GET_BUSINESS_LIST,receivedData:a.data.result.childList,receivedExtra:a.data.result,period:a.data.periodDtoJson,issuedate:i,getPeriod:"true",issues:s,waterType:t,accountUuid:n,currentPage:f,pageCount:a.data.pageCount})}}),r(p.getRunningAccount())}};var T=t.getBusinessList=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",f=arguments.length>6&&void 0!==arguments[6]&&arguments[6],m=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return function(g,p){g({type:l.SWITCH_LOADING_MASK});var _="allWater"==t?"getRunningBusinessList":"getRunning"+t+"List",C=m&&n?n.split(o.TREE_JOIN_STR)[0]:"",E=p().cxlsState,A=""===r?E.get("currentPage"):r,T=s?E.getIn(["flags","searchType"]):"";(0,u.default)(_,"POST",JSON.stringify({year:e?e.substr(0,4):"",month:e?e.substr(6,2):"",accountUuid:C,getPeriod:"true",orderBy:i,searchType:T,searchContent:s,isAsc:f,currentPage:A,pageSize:o.CXLS_LIMIE_LENGTH,isAccount:m}),function(r){if(g({type:l.SWITCH_LOADING_MASK}),(0,c.showMessage)(r)){var u=r.data.periodDtoJson?g(d.everyTableGetIssuedate(r.data.periodDtoJson)):"";g({type:l.GET_BUSINESS_LIST,receivedData:r.data.result.childList,receivedExtra:r.data.result,period:r.data.periodDtoJson,issuedate:e,issues:u,waterType:t,accountUuid:n,currentPage:A,isAsc:f,orderBy:i,isAccount:m,pageCount:r.data.pageCount,getPeriod:"true"}),r.data.result.msg&&a.default.info(r.data.result.msg)}})}},y=(t.accountItemCheckboxCheckAll=function(e,t){return{type:l.CXLS_ITEM_CHECKBOX_CHECK_ALL,selectAll:e,list:t}},t.accountItemCheckboxCheck=function(e,t){return{type:l.CXLS_ITEM_CHECKBOX_CHECK,checked:e,item:t}},t.deleteAccountItemCardAndRunning=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments[2];return function(r,i){var o=n||i().cxlsState.getIn(["flags","selectList"]),d="reality"==e?"payment":"business",f=i().cxlsState,m=f.getIn(["flags","issuedate"]),g=f.getIn(["flags","mainWater"]),p=f.getIn(["flags","isAsc"]),_=f.getIn(["flags","isAccount"]),C=f.getIn(["flags","curAccountUuid"]);s.Confirm({message:"确定删除？",title:"温馨提示",buttonLabels:["取消","确定"],onSuccess:function(e){1===e.buttonIndex&&(r({type:l.SWITCH_LOADING_MASK}),(0,u.default)("deleteRunning"+d,"POST",JSON.stringify({deleteList:o}),function(e){if((0,c.showMessage)(e)){if(e.message)if(e.data.errorList.length){var n=e.data.errorList.join(",");a.default.error(n)}else a.default.success(e.message);r(T(m,g,C,"","",t,p,_))}r({type:l.SWITCH_LOADING_MASK})}))}})}},t.runningInsertVc=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments[4],s=arguments[5],o=arguments[6],d=arguments[7];return function(f,g){var p=g().cxlsState,_=p.get("currentPage"),C=p.getIn(["flags","mainWater"]),E=p.getIn(["flags","curAccountUuid"]),A=p.getIn(["flags","isAsc"]),I=p.getIn(["flags","isAccount"]),h=0;f(y(["flags","pzDealNum"],h)),f(y(["flags","pzDealType"],"insert"));var v=e.sort(function(e,t){return parseInt(e.get("flowNumber"))-parseInt(t.get("flowNumber"))});if(e&&e.size>1)f(y(["flags","pzDealStatus"],!0)),function e(l){var i=0,s=setInterval(function(){i<.9?f(y(["flags","pzDealNum"],h+(i+=.01))):(clearInterval(s),f(y(["flags","pzDealNum"],h)))},100);(0,u.default)("insertRunning"+t+"Vc","POST",JSON.stringify({uuidList:[l]}),function(t){if((0,c.showMessage)(t))if(t.message)if(t.data.result.length){var l=t.data.result.join(",");a.default.error(l),clearInterval(s),f(y(["flags","pzDealStatus"],!1)),f(T(n,C,E,_,"",r,A,I))}else f(y(["flags","pzDealNum"],h+=1)),h<v.size?(clearInterval(s),e(v.getIn([h,"uuid"]))):(clearInterval(s),f(y(["flags","pzDealStatus"],!1)),f(T(n,C,E,_,"",r,A,I)));else clearInterval(s),f(y(["flags","pzDealStatus"],!1));else clearInterval(s),f(y(["flags","pzDealStatus"],!1)),f(T(n,C,E,_,"",r,A,I))})}(v.getIn([0,"uuid"]));else{var N=e.getIn([0,"uuid"]);f({type:l.SWITCH_LOADING_MASK}),(0,u.default)("insertRunning"+t+"Vc","POST",JSON.stringify({uuidList:[N]}),function(e){if(f({type:l.SWITCH_LOADING_MASK}),(0,c.showMessage)(e)&&e.message){if(e.data.result.length){var t=e.data.result.join(",");a.default.error(t)}else a.default.success(e.message);s&&s()||f(S()),i&&f(m.getYllsBusinessData(o,d))}})}}},t.changePzCommonString=function(e,t){return function(n){n({type:l.CHANGE_PZ_COMMON_STRING,name:e,value:t})}}),S=t.afterModifyAccountAllList=function(e){return function(t,n){var a=n().cxlsState,r=a.getIn(["flags","issuedate"]),i=a.getIn(["flags","mainWater"]),s=a.getIn(["flags","curAccountUuid"]),f=a.getIn(["flags","isAccount"]),m=a.getIn(["flags","isAsc"]),g=a.get("currentPage"),p="allWater"==i?"getRunningBusinessList":"getRunning"+i+"List",_=f&&s?s.split(o.TREE_JOIN_STR)[0]:"";t({type:l.SWITCH_LOADING_MASK}),(0,u.default)(p,"POST",JSON.stringify({year:r?r.substr(0,4):"",month:r?r.substr(6,2):"",accountUuid:_,getPeriod:"true",orderBy:"",isAsc:m,currentPage:g,pageSize:o.CXLS_LIMIE_LENGTH,isAccount:f}),function(n){if(t({type:l.SWITCH_LOADING_MASK}),(0,c.showMessage)(n)){var a=n.data.periodDtoJson?t(d.everyTableGetIssuedate(n.data.periodDtoJson)):"";t({type:l.GET_BUSINESS_LIST,receivedData:n.data.result.childList,receivedExtra:n.data.result,period:n.data.periodDtoJson,issuedate:r,issues:a,isReflash:e,waterType:i,isAccount:f,accountUuid:s,currentPage:g,isAsc:m,pageCount:n.data.pageCount,getPeriod:"true"})}})}},I=(t.getAccountDimensionFetch=function(e,t,n,a,r,l,u){return function(i){i(I(e,t,n,a,r,l,u))}},function(e,t,n,a,r,i,s,o){return function(e){(0,u.default)("getRunningSettingInfo","GET","",function(t){(0,c.showMessage)(t)&&e({type:l.GET_CXLSCONF_ALL_SETTINGS,receivedData:t.data})})}}),h=(t.deleteVcItemFetch=function(e,t,n,a,r,i,s,o,d){return function(f,g){var p=g().cxlsState,_=p.get("currentPage"),C=p.getIn(["flags","mainWater"]),E=p.getIn(["flags","isAccount"]),A=p.getIn(["flags","isAsc"]),I=p.getIn(["flags","curAccountUuid"]),h=0;f(y(["flags","pzDealNum"],h)),f(y(["flags","pzDealType"],"delete"));n&&n.length>1?(f(y(["flags","pzDealStatus"],!0)),function l(i){var s=0,o=setInterval(function(){s<.99?f(y(["flags","pzDealNum"],h+(s+=.01))):(clearInterval(o),f(y(["flags","pzDealNum"],h+.99)))},100);(0,u.default)("deletevc","POST",JSON.stringify({year:e,month:t,vcindexlist:[i]}),function(e){(0,c.showMessage)(e,"show")?(h+=1,f(y(["flags","pzDealNum"],Math.floor(h))),h<n.length?(clearInterval(o),l(n[h])):(clearInterval(o),f(y(["flags","pzDealStatus"],!1)),f(T(a,C,I,_,"",r,A,E)))):(clearInterval(o),f(y(["flags","pzDealStatus"],!1)),f(T(a,C,I,_,"",r,A,E)))})}(n[0])):(f({type:l.SWITCH_LOADING_MASK}),(0,u.default)("deletevc","POST",JSON.stringify({year:e,month:t,vcindexlist:n}),function(e){if(f({type:l.SWITCH_LOADING_MASK}),(0,c.showMessage)(e,"show")){var t=g().cxlsState;t.get("currentPage"),t.getIn(["flags","mainWater"]),t.getIn(["flags","curAccountUuid"]),t.getIn(["flags","isAsc"]),t.getIn(["flags","isAccount"]);s&&s()||f(S()),i&&f(m.getYllsBusinessData(o,d))}}))}},t.currentPz=function(e,t,n){return{type:l.SET_CURRENT_PZ,year:e,month:t,vcIndexList:n}},t.beforeRunningPayOrReceive=function(e,t,n,a,r){return function(u){n<0&&(n=-n,e="收"===e?"付":"收"),u({type:l.BEFORE_RUNNING_PAY_OR_RECEIVE,payDirection:e,assList:t,notHandleAmount:n,uuidList:a,runningList:r})}},t.getBusinessPayment=function(e,t,n){return function(a){a({type:l.SWITCH_LOADING_MASK});var r=e.get("uuid");(0,u.default)("getRunningBusiness","GET","uuid="+r,function(r){if(a({type:l.SWITCH_LOADING_MASK}),(0,c.showMessage)(r)){var u=r.data.result,i=void 0,s=u.assList;if(s&&s.length)i=s[0].assId+" "+s[0].assName;else{var o=u.acList;i=o.length?o[0].acFullName:""}a({type:l.INIT_PAYMENT_STATE,item:e,result:u,assName:i,stateType:t,uuidList:n,fromCxls:!0}),a(_.getRunningSettingInfo()),a(_.accountTotalAmount()),a(f.addPageTabPane("EditPanes","LrAccount","LrAccount","录入流水")),a(f.addHomeTabpane("Edit","LrAccount","录入流水"))}})}}),v=(t.getBusinessManagerModal=function(e,t,n){return function(a,r){a({type:l.SWITCH_LOADING_MASK});var s=e.get("uuid"),o=e.get("beOpened"),d=e.get("assType"),f=r().lrCalculateState,m=f.getIn(["calculateTemp","usedCard"]),g=f.getIn(["calculateTemp","cardUuid"]);(0,u.default)("getRunningBusiness","GET","uuid="+s,function(e){a({type:l.SWITCH_LOADING_MASK}),(0,c.showMessage)(e)&&(a(N("runningFlowTemp",(0,i.fromJS)(e.data.result))),a(N(["runningFlowTemp","magenerType"],n)),a(N(["modalTemp","uuidList"],(0,i.fromJS)([{uuid:s,assType:d}]))),a(N(["modalTemp","handlingAmount"],e.data.result.notHandleAmount)),a(N(["modalTemp","runningAbstract"],e.data.result.runningAbstract)),a(N(["modalTemp","beOpened"],o)),a(N(["modalTemp","assType"],d)),o&&(a(N(["modalTemp","usedCard"],m)),a(N(["modalTemp","cardUuid"],g)),a(L(0,d))),t())})}},t.getBusinessCarryoverModal=function(e,t,n){return function(n){n({type:l.SWITCH_LOADING_MASK});var a=e.get("uuid");(0,u.default)("getRunningBusiness","GET","uuid="+a,function(e){if(n({type:l.SWITCH_LOADING_MASK}),(0,c.showMessage)(e)){var a=e.data.result;n(N("runningFlowTemp",(0,i.fromJS)(e.data.result))),n(N(["modalTemp","uuidList"],(0,i.fromJS)([a.uuid]))),n(N(["modalTemp","runningState"],a.runningState)),n(N(["modalTemp","categoryUuid"],a.categoryUuid)),n(N(["modalTemp","runningAbstract"],a.runningAbstract)),n(N(["modalTemp","stockCardList"],a.acBusinessIncome.stockCardList)),t()}})}},t.getBusinessJzsyModal=function(e,t,n){return function(n,a){n({type:l.SWITCH_LOADING_MASK});var s=e.get("uuid");(0,u.default)("getRunningBusiness","GET","uuid="+s,function(e){if(n({type:l.SWITCH_LOADING_MASK}),(0,c.showMessage)(e)){var s=e.data.result;if(n(N("runningFlowTemp",(0,i.fromJS)(e.data.result))),n(N(["modalTemp","uuidList"],(0,i.fromJS)([s.uuid]))),n(N(["modalTemp","runningState"],s.runningState)),n(N(["modalTemp","categoryUuid"],s.categoryUuid)),n(N(["modalTemp","runningAbstract"],s.runningAbstract)),n(N(["modalTemp","amount"],s.amount-s.tax)),n(N(["modalTemp","businessList"],(0,i.fromJS)(r({},e.data.result,{beSelect:!0})))),e.data.result.beProject){var o=a().homeState.getIn(["data","userInfo","sobInfo","sobId"]),d=e.data.result.projectRange;(0,u.default)("getProjectCardList","POST",JSON.stringify({sobId:o,categoryList:d,needCommonCard:!1}),function(e){(0,c.showMessage)(e)&&n(N(["flags","projectList"],(0,i.fromJS)(e.data.result)))})}t()}})}},t.calculateGainForJzsy=function(){return function(e,t){var n=t().cxlsState,a=n.get("modalTemp"),r=n.get("runningFlowTemp"),u=r.get("amount")-r.get("tax"),i=a.getIn(["acAssets","depreciationAmount"])?a.getIn(["acAssets","depreciationAmount"]):0,c=a.getIn(["acAssets","originalAssetsAmount"])?a.getIn(["acAssets","originalAssetsAmount"]):0;console.log(i,c);var s=(Number(c)-Number(i)).toFixed(2),o=Math.abs(s-u).toFixed(2),d=void 0,f=void 0;Number(s)<=u?(d=["modalTemp","netProfitAmount"],f=["modalTemp","lossAmount"]):(d=["modalTemp","lossAmount"],f=["modalTemp","netProfitAmount"]),(c||i)&&e({type:l.CXLS_CALCULATE_GAIN_OR_LOSS,deletePlace:f,place:d,diff:o})}},t.getBusinessInvioceModal=function(e,t,n){return function(n){n({type:l.SWITCH_LOADING_MASK});var a=e.get("uuid");(0,u.default)("getRunningBusiness","GET","uuid="+a,function(e){if(n({type:l.SWITCH_LOADING_MASK}),(0,c.showMessage)(e)){var a=e.data.result,r={STATE_YYSR_TS:"BILL_MAKE_OUT_TYPE_TS",STATE_YYSR_XS:"BILL_MAKE_OUT_TYPE_XS"}[a.runningState];n(N(["modalTemp","uuidList"],(0,i.fromJS)([a.uuid]))),n(N(["modalTemp","categoryUuid"],a.categoryUuid)),n(N(["modalTemp","runningAbstract"],a.runningAbstract)),n(N(["modalTemp","billMakeOutType"],r)),t()}})}},t.getBusinessDefineModal=function(e,t,n){return function(n){n({type:l.SWITCH_LOADING_MASK});var a=e.get("uuid");(0,u.default)("getRunningBusiness","GET","uuid="+a,function(e){if(n({type:l.SWITCH_LOADING_MASK}),(0,c.showMessage)(e)){var a=e.data.result,r={STATE_YYZC_GJ:"BILL_AUTH_TYPE_CG",STATE_YYZC_TG:"BILL_AUTH_TYPE_TG"}[a.runningState]||"BILL_AUTH_TYPE_CG";n(N(["modalTemp","uuidList"],(0,i.fromJS)([a.uuid]))),n(N(["modalTemp","runningAbstract"],a.runningAbstract)),n(N(["modalTemp","categoryUuid"],a.categoryUuid)),n(N(["modalTemp","billAuthType"],r)),t()}})}},t.insertlrAccountManagerModal=function(e,t,n){return function(a,r){var s=r().cxlsState,o=s.get("runningFlowTemp"),d=s.get("modalTemp"),f=d.get("runningDate"),m=d.get("runningAbstract"),g=d.get("accountUuid"),p=d.get("handlingAmount"),_=d.get("beOpened"),C=d.get("uuidList").toJS(),E=_?d.get("cardUuid"):o.getIn([t,"contactsCardRange","uuid"]);a({type:l.SWITCH_LOADING_MASK}),(0,u.default)("insertRunningpayment","POST",JSON.stringify({runningDate:f,runningAbstract:m,accountUuid:g,amount:p,uuidList:C,cardUuid:E,uuid:""}),function(t){a({type:l.SWITCH_LOADING_MASK}),(0,c.showMessage)(t)&&(e(),a(N("modalTemp",(0,i.fromJS)({runningDate:(0,c.formatDate)()}))),a("fromcalCultion"===n?b():S()))})}},t.insertlrAccountCarryoverModal=function(e,t){return function(n,a){var r=a().cxlsState.get("modalTemp"),s=r.get("uuidList"),o=r.get("runningState"),d=r.get("runningDate"),f=r.get("runningAbstract"),m=r.get("stockCardList"),g=r.get("carryoverAmount"),p=[];m&&m.map(function(e){p.push({uuid:e.uuid,amount:g})}),n({type:l.SWITCH_LOADING_MASK}),(0,u.default)("insertCarryoverItem","POST",JSON.stringify({uuidList:s,runningState:o,runningDate:d,cardList:p,runningAbstract:f}),function(a){(0,c.showMessage)(a,"show")&&(e(),n(N("modalTemp",(0,i.fromJS)({runningDate:(0,c.formatDate)()}))),n("fromcalCultion"===t?b():S())),n({type:l.SWITCH_LOADING_MASK})})}},t.insertlrAccountJzsyModal=function(e,t){return function(n,a){var s=a().cxlsState.get("modalTemp").toJS();n({type:l.SWITCH_LOADING_MASK}),(0,u.default)("insertAssetsCleaning","POST",JSON.stringify(r({},s)),function(a){(0,c.showMessage)(a,"show")&&(e(),n(N("modalTemp",(0,i.fromJS)({runningDate:(0,c.formatDate)()}))),n("fromcalCultion"===t?b():S())),n({type:l.SWITCH_LOADING_MASK})})}},t.insertlrAccountInvioceModal=function(e,t){return function(n,a){var r=a().cxlsState.get("modalTemp");n({type:l.SWITCH_LOADING_MASK}),(0,u.default)("insertBusinessMakeoutItem","POST",JSON.stringify(r),function(a){(0,c.showMessage)(a,"show")&&(e(),n(N("modalTemp",(0,i.fromJS)({runningDate:(0,c.formatDate)()}))),n("fromcalCultion"===t?b():S())),n({type:l.SWITCH_LOADING_MASK})})}},t.insertlrAccountInvioceDefineModal=function(e,t){return function(n,a){var r=a().cxlsState.get("modalTemp");n({type:l.SWITCH_LOADING_MASK}),(0,u.default)("insertBusinessAuthItem","POST",JSON.stringify(r),function(a){(0,c.showMessage)(a,"show")&&(e(),n(N("modalTemp",(0,i.fromJS)({runningDate:(0,c.formatDate)()}))),n("fromcalCultion"===t?b():S())),n({type:l.SWITCH_LOADING_MASK})})}},t.getBusinessBeforeSwitch=function(e,t){return function(n){var a=e.get("parentUuid")?e.get("parentUuid"):e.get("uuid"),r=e.get("beBusiness"),l=e.get("runningState");n(r||"STATE_ZZ"===l?"STATE_YYSR_JZCB"===l?v(e,"modify","LB_JZCB"):"STATE_FPRZ_CG"===l||"STATE_FPRZ_TG"===l?v(e,"modify","LB_FPRZ"):"STATE_KJFP_XS"===l||"STATE_KJFP_TS"===l?v(e,"modify","LB_KJFP"):"STATE_ZCWJZZS"===l?v(e,"modify","LB_ZCWJZZS"):"STATE_ZZ"===l?v(e,"modify","LB_ZZ"):"STATE_CQZC_ZJTX"===l?v(e,"modify","LB_ZJTX"):"STATE_GGFYFT"===l?O(e,t):"STATE_CQZC_JZSY"===l?_.getInitLraccountJzsy(e,t):g.getRunningBusinessDuty("",a):h(e))}},t.jumpCalculateCxToLr=function(e,t,n,a){return function(r,i){r({type:l.SWITCH_LOADING_MASK});var s=e.get("parentUuid")?e.get("parentUuid"):e.get("uuid");(0,u.default)("getRunningBusiness","GET","uuid="+s,function(i){(0,c.showMessage)(i)?(0,u.default)("getRunningSettingInfo","GET","",function(u){if((0,c.showMessage)(i)){var s={LB_JZCB:function(){return"COST_TRANSFER_FROM_CXLS_JUMP_TO_LRLS"},LB_FPRZ:function(){return"INVOICE_AUTH_FROM_CXLS_JUMP_TO_LRLS"},LB_KJFP:function(){return"INVOICING_FROM_CXLS_JUMP_TO_LRLS"},LB_ZCWJZZS:function(){return"TRANSFER_OUT_FROM_CXLS_JUMP_TO_LRLS"},LB_ZZ:function(){return"TRANSFER_OUT_FROM_CXLS_JUMP_TO_NBZZ"},LB_ZJTX:function(){return"TRANSFER_OUT_FROM_CXLS_JUMP_TO_ZJTX"}}[n]();r({type:l.GET_ACCOUNTCONF_ALL_SETTINGS,receivedData:u.data}),r({type:l.CALCULATE_FROM_CXLS_JUMP_TO_LRLS,pageType:n,rate:u.data.rate,hideCategoryList:u.data.hideCategoryList}),r({type:l.CALCULATE_CHANGE_QUERY}),r({type:l[s],item:e,receivedData:i.data,insertOrModify:t,fromRefresh:!0,rate:u.data.rate,hideCategoryList:u.data.hideCategoryList,uuidList:a}),r({type:l.SWITCH_LOADING_MASK}),r(f.addPageTabPane("EditPanes","LrAccount","LrAccount","录入流水")),r(f.addHomeTabpane("Edit","LrAccount","录入流水"))}else r({type:l.SWITCH_LOADING_MASK})}):r({type:l.SWITCH_LOADING_MASK})})}}),N=(t.changeCurrentPage=function(e,t){return function(n){n({type:l.CHANGE_CURRENT_PAGE_FZHE,assList:e,value:t})}},t.changeCxAccountCommonString=function(e,t,n){return function(a){var r="string"==typeof t?[e+"Temp",t]:[e+"Temp"].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t));"flags"===t[0]&&(r=t),a({type:l.CHANGE_CX_ACCOUNT_COMMON_STRING,tab:e,placeArr:r,value:n})}},t.changeCxAccountCommonOutString=function(e,t){return function(n){n("string"==typeof e?{type:l.CHANGE_CX_ACCOUNT_COMMON_STRING,place:e,value:t}:{type:l.CHANGE_CX_ACCOUNT_COMMON_STRING,placeArr:e,value:t})}}),L=(t.setManageMadalInitState=function(){return function(e,t){var n=t().calculationState,a=n.getIn(["payManageList","childList"]),r=(n.getIn(["flags","selectDate"]),n.getIn(["flags","selectList"])),l=n.getIn(["calculateTemp","cardUuid"]),u=n.getIn(["calculateTemp","usedCard"]),c=[],s=0;r.forEach(function(e){var t=a.find(function(t){return t.get("uuid")===e}),n=t.get("direction"),r=t.get("flowType"),l=t.get("assType");c.push({uuid:e,assType:l});var u=t.get("notHandleAmount"),i=t.get("runningState");"STATE_YYSR_TS"!==i&&"STATE_YYZC_TG"!==i||(u=-Math.abs(u)),"debit"===n?"FLOW_INADVANCE"===r?s-=Number(u):s+=Number(u):"FLOW_INADVANCE"===r?s+=Number(u):s-=Number(u)}),e(N(["modalTemp","uuidList"],(0,i.fromJS)(c))),e(N(["modalTemp","handlingAmount"],s)),e(N(["modalTemp","cardUuid"],l)),e(N(["modalTemp","usedCard"],u))}},t.setCarryoverMadalInitState=function(){return function(e,t){var n=t().calculationState,a=n.getIn(["flags","selectList"]),r=n.getIn(["calculateTemp","stockUuid"]),l=n.getIn(["flags","costTransferType"]);e(N(["modalTemp","uuidList"],a)),e(N(["modalTemp","runningState"],l)),e(N(["modalTemp","cardList"],(0,i.fromJS)([{uuid:r,amount:""}])))}},t.setInvioceMadalInitState=function(){return function(e,t){var n=t().calculationState,a=n.getIn(["flags","selectList"]),r=n.getIn(["flags","invoicingType"]);e(N(["modalTemp","uuidList"],a)),e(N(["modalTemp","billMakeOutType"],r))}},t.setDefineMadalInitState=function(){return function(e,t){var n=t().calculationState,a=n.getIn(["flags","selectList"]),r=n.getIn(["flags","certifiedType"]);e(N(["modalTemp","uuidList"],a)),e(N(["modalTemp","billAuthType"],r))}},t.insertManagerModal=function(e){return function(t,n){var a=n().cxlsState.get("modalTemp"),r=a.get("runningDate"),s=a.get("runningAbstract"),o=a.get("accountUuid"),d=a.get("cardUuid"),f=a.get("handlingAmount")?Math.abs(a.get("handlingAmount")):0,m=a.get("uuidList").toJS();t({type:l.SWITCH_LOADING_MASK}),(0,u.default)("insertRunningpayment","POST",JSON.stringify({runningDate:r,runningAbstract:s,accountUuid:o,amount:f,uuidList:m,cardUuid:d,uuid:""}),function(n){t({type:l.SWITCH_LOADING_MASK}),(0,c.showMessage)(n)&&(e(),t(N("modalTemp",(0,i.fromJS)({runningDate:(0,c.formatDate)(),uuidList:[]}))),t(b()))})}},t.getManagerCategoryList=function(e,t){return function(n){(0,u.default)("getManagerCategoryList","POST",JSON.stringify({assType:t}),function(t){n(N(["flags","managerCategoryList",e],(0,i.fromJS)(t.data)))})}}),O=(t.changeBeforeAmount=function(e,t,n){return function(a,r){t.split(o.TREE_JOIN_STR)[0];var l=t.split(o.TREE_JOIN_STR)[1],u=t.split(o.TREE_JOIN_STR)[2],c=e.get("uuid");a(N(["modalTemp","uuidList",n],(0,i.fromJS)({beOpened:!0,categoryUuid:u,uuid:c,categoryName:l})))}},t.jumpCommonCharge=function(e,t){return function(n){var a=e.get("uuid");n({type:l.SWITCH_LOADING_MASK}),(0,u.default)("getRunningBusiness","GET","uuid="+a,function(e){n({type:l.SWITCH_LOADING_MASK}),(0,c.showMessage)(e)&&n({type:l.INIT_COMMON_CHARGE_FROM_CXLS,data:e.data.result,uuidList:t,uuid:a}),n(_.getRunningSettingInfo()),n(f.addPageTabPane("EditPanes","LrAccount","LrAccount","录入流水")),n(f.addHomeTabpane("Edit","LrAccount","录入流水"))})}}),b=function(){return function(e,t){var n=t().calculationState,a=n.get("flags"),r=n.getIn(["calculateTemp","cardUuid"]),l=n.getIn(["calculateTemp","stockUuid"]),u=a.get("issuedate"),i=a.get("curCategory"),c=a.get("isCheck"),s=a.get("accountingType"),o=n.get("certificationList"),d=n.get("invoicingList"),f=o.get("billAuthType"),m=d.get("billMakeOutType"),g=n.getIn(["costTransferList","runningState"]);switch(s){case"manages":e(C.getCalculateList(u,s,"",i,r,c,""));break;case"invoicing":e(C.getCalculateInvoicingList(u,i,m,""));break;case"certification":e(C.getCalculateCertificationList(u,i,f,""));break;case"costTransfer":e(C.getCalculateCarryoverList(u,g,"","",l))}}};t.deleteSingleFlow=function(e,t){return function(n){var r=[e];s.Confirm({message:"确定删除？",title:"温馨提示",buttonLabels:["取消","确定"],onSuccess:function(e){1===e.buttonIndex&&(n({type:l.SWITCH_LOADING_MASK}),(0,u.default)("deleteRunningbusiness","POST",JSON.stringify({deleteList:r}),function(e){if((0,c.showMessage)(e)){if(e.message)if(e.data.errorList.length){var r=e.data.errorList.join(",");a.default.error(r)}else a.default.success(e.message);!e.data.errorList.length&&t()}n({type:l.SWITCH_LOADING_MASK})}))}})}},t.getInitLraccountJzsy=function(e,t){return function(n){var a=e.get("uuid");n({type:l.SWITCH_LOADING_MASK}),(0,u.default)("getRunningBusiness","GET","uuid="+a,function(e){n({type:l.SWITCH_LOADING_MASK}),(0,c.showMessage)(e)&&(n({type:l.INIT_JZSY_FROM_CXLS,data:e.data.result,uuidList:t,uuid:a}),e.data.result.beProject&&n(_.getJzsyProjectCardList(e.data.result.projectRange))),n(_.getRunningSettingInfo()),n(f.addPageTabPane("EditPanes","LrAccount","LrAccount","录入流水")),n(f.addHomeTabpane("Edit","LrAccount","录入流水")),n(_.calculateGainForJzsy())})}}},1242:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.saveRegretMessage=t.changeRegretCancle=t.changeRegretAccountCommonString=t.changeRegretAccountAccountName=t.getRegretCategory=t.changeItemDisableStatus=t.disabledCategory=t.enabledCategory=t.swapRunningItem=t.emptyAccountCheck=t.changeDefaultAccount=t.changeCardCheckboxArrOut=t.changeCardCheckboxArr=t.changeAccountConfcCheckboxArr=t.deleteAccountConfAccount=t.deleteAccountConfRunning=t.saveAccountConfTaxRate=t.saveAccountConfAccount=t.saveAccountConfRunningCategory=t.changeAccountConfAccountNumber=t.selectAccountConfMultipleAc=t.selectAccountConfAllAc=t.changeAccountConfRunningCategory=t.changeAccountConfCommonFlagsString=t.changeAccountConfCommonString=t.selectAccountConfUpperCategory=t.accountConfTaxRateSettingScale=t.selectOrUnselectAccountAll=t.accountconfAccountCheckboxCheck=t.accountconfRunningCheckboxCheck=t.accountConfRunningTriangleSwitch=t.closeAccountconfModal=t.beforeModifyaccountConfRunning=t.beforeModifyaccountConfRunningOld=t.beforeInsertAccountConf=t.changeAccountConfCurrentPage=t.getRunningTaxRate=t.getRunningAccount=t.getRunningCategory=void 0;var a=d(n(37)),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};n(38);var l=o(n(1273)),u=d(n(52)),i=n(22),c=o(n(30)),s=n(18);function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}t.getRunningCategory=function(){return function(e){e({type:l.SWITCH_LOADING_MASK}),(0,u.default)("getRunningCategory","GET","",function(t){e({type:l.SWITCH_LOADING_MASK}),(0,i.showMessage)(t)&&e({type:l.GET_RUNNING_CATEGORY,receivedData:t.data})})}},t.getRunningAccount=function(){return function(e){(0,u.default)("getRunningAccount","GET","",function(t){(0,i.showMessage)(t)&&e({type:l.GET_RUNNING_ACCOUNT,receivedData:t.data})})}};var m=t.getRunningTaxRate=function(){return function(e){(0,u.default)("getRunningTaxRate","GET","",function(t){(0,i.showMessage)(t)&&e({type:l.GET_RUNNING_TAX_RATE,receivedData:t.data})})}},g=(t.changeAccountConfCurrentPage=function(e){return{type:l.CHANGE_ACCOUNTCONF_CURRENTPAGE,currentPage:e}},t.beforeInsertAccountConf=function(e,t,n){return function(a){if(t){var r=t.get("uuid");"running"===e?(a({type:l.SWITCH_LOADING_MASK}),(0,u.default)("getRunningDetail","GET","uuid="+r,function(r){if(a({type:l.SWITCH_LOADING_MASK}),(0,i.showMessage)(r)){var u=r.data.result;a({type:l.BEFORE_INSERT_ACCOUNTCONF,currentPage:e,item:t,data:u,insertFrom:n})}})):a({type:l.BEFORE_INSERT_ACCOUNTCONF,currentPage:e,item:t,insertFrom:n})}else a({type:l.BEFORE_INSERT_ACCOUNTCONF,currentPage:e,item:t,insertFrom:n})}}),p=(t.beforeModifyaccountConfRunningOld=function(e,t,n){return{type:l.BEFORE_MODIFY_ACCOUNTCONF_RUNNING_OLD,currentPage:e,item:t,old:n}},t.beforeModifyaccountConfRunning=function(e,t){return function(n){var a=t.get("uuid");(0,u.default)("getRunningDetail","GET","uuid="+a,function(a){if((0,i.showMessage)(a)){var r=a.data.result;n({type:l.BEFORE_MODIFY_ACCOUNTCONF_RUNNING_OLD,currentPage:e,name:r,item:t})}})}},t.closeAccountconfModal=function(){return{type:l.CLOSE_ACCOUNTCONF_MODAL}},t.accountConfRunningTriangleSwitch=function(e,t){return{type:l.ACCOUNTCONF_RUNNING_TRIANGLE_SWITCH,showChild:e,uuid:t}},t.accountconfRunningCheckboxCheck=function(e,t){return{type:l.ACCOUNTCONF_RUNNING_CHECKBOX_CHECK,item:e,upperArr:t}},t.accountconfAccountCheckboxCheck=function(e,t){return{type:l.ACCOUNTCONF_ACCOUNT_CHECKBOX_CHECK,checked:e,uuid:t}},t.selectOrUnselectAccountAll=function(e){return{type:l.SELECT_OR_UNSELECT_ACCOUNT_ALL,selectAll:e}},t.accountConfTaxRateSettingScale=function(e){return{type:l.ACCOUNTCONF_TAX_RATE_SETTING_SCALE,value:e}},t.selectAccountConfUpperCategory=function(e){return{type:l.SELECT_ACCOUNTCONF_UPPER_CATEGORY,value:e}},t.changeAccountConfCommonString=function(e,t,n){return function(a){var r="string"==typeof t?[e+"Temp",t]:[e+"Temp"].concat(f(t));a({type:l.CHANGE_ACCOUNTCONF_COMMON_STRING,placeArr:r,value:n})}},t.changeAccountConfCommonFlagsString=function(e,t){return function(n){var a="string"==typeof e?["flags",e]:["flags"].concat(f(e));n({type:l.CHANGE_ACCOUNTCONF_COMMON_STRING,placeArr:a,value:t})}}),_=t.changeAccountConfRunningCategory=function(e){return function(t){t({type:l.CHANGE_ACCOUNTCONF_COMMON_STRING,placeArr:["runningCategory",0],value:e})}},C=(t.selectAccountConfAllAc=function(e,t,n,a,r){return{type:l.SELECT_ACCOUNTCONF_ALL_AC,acId:e,acFullName:t,asscategorylist:n,tab:a,place:r}},t.selectAccountConfMultipleAc=function(e,t,n,a){return function(r){var u="string"==typeof t?["runningTemp",t]:["runningTemp"].concat(f(t));r({type:l.SELECT_ACCOUNTCONF_MULTIPLE_AC,acList:e,placeArr:u,assList:n,assPlace:a})}}),E=(t.changeAccountConfAccountNumber=function(e,t){return{type:l.CHANGE_ACCOUNTCONF_ACCOUNT_NUMBER,accountType:e,value:t}},t.saveAccountConfRunningCategory=function(e){return function(t,n){t({type:l.SWITCH_LOADING_MASK});var a=n().accountConfState,c=a.getIn(["flags","insertOrModify"]),o=a.get("runningTemp"),d=o.get("parentUuid"),f=o.get("categoryType"),m=o.get("level"),p=o.toJS(),_=A(f);for(var C in _)delete p[_[C]];(0,u.default)(c+"RunningCategory","POST",JSON.stringify(r({},p)),function(n){(0,i.showMessage)(n)&&t(e?g("running",(0,s.fromJS)({uuid:d,level:m})):{type:l.AFTER_UPDATE_ACCOUNTCONF_RUNNING_CATEGORY,receivedData:n.data}),t({type:l.SWITCH_LOADING_MASK})})}},t.saveAccountConfAccount=function(e,t){return function(n,a){n({type:l.SWITCH_LOADING_MASK});var c=a().accountConfState,s=c.getIn(["flags","insertOrModify"]),o=c.get("accountTemp").toJS();(0,u.default)(s+"RunningAccount","POST",JSON.stringify(r({},o)),function(a){(0,i.showMessage)(a)&&(n({type:l.AFTER_UPDATE_ACCOUNTCONF_ACCOUNT,saveAndNew:e,receivedData:a.data}),"fromLrAccount"===t&&n({type:l.CHANGE_LR_ACCOUNT_COMMON_STRING,tab:"",placeArr:["flags","showAccountModal"],value:!1})),n({type:l.SWITCH_LOADING_MASK})})}},t.saveAccountConfTaxRate=function(e){return function(e,t){e({type:l.SWITCH_LOADING_MASK});var n=t().accountConfState,s=(n.getIn(["flags","insertOrModify"]),n.get("taxRateTemp")),o=s.get("scale"),d={};if("small"===o){var f=s.get("payableAcId"),g=s.get("notBillingAcId"),_=s.get("payableRate");d={payableAcId:f,notBillingAcId:g,payableRate:_,scale:o}}else{var C=s.get("inputAcId"),E=s.get("certifiedAcId"),A=s.get("outputAcId"),T=s.get("waitOutputAcId"),y=s.get("turnOutUnpaidAcId"),S=s.get("unpaidAcId"),I=s.get("preAcId"),h=s.get("outputRate");d={inputAcId:C,certifiedAcId:E,outputAcId:A,waitOutputAcId:T,turnOutUnpaidAcId:y,unpaidAcId:S,outputRate:h,scale:o,preAcId:I}}(0,u.default)("canModifyRunningTaxRate","POST",JSON.stringify(r({},d)),function(t){t.data.result.hasBusiness?t.data.result.canModify?(e({type:l.SWITCH_LOADING_MASK}),c.Confirm({message:t.data.result.msg,title:"温馨提示",buttonLabels:["取消","确定"],onSuccess:function(t){1===t.buttonIndex?(0,u.default)("modifyRunningTaxRate","POST",JSON.stringify(r({},d)),function(t){(0,i.showMessage)(t,"show")&&e(p("isTaxQuery",!0))}):e(m())}})):(a.default.error(t.data.result.msg),e(m()),e({type:l.SWITCH_LOADING_MASK})):(0,u.default)("modifyRunningTaxRate","POST",JSON.stringify(r({},d)),function(t){(0,i.showMessage)(t,"show")&&e(p("isTaxQuery",!0)),e({type:l.SWITCH_LOADING_MASK})})})}},t.deleteAccountConfRunning=function(){return function(e,t){var n=t().accountConfState.getIn(["flags","runningSelect"]);0!==n.size&&c.Confirm({message:"确定删除？",title:"温馨提示",buttonLabels:["取消","确定"],onSuccess:function(t){1===t.buttonIndex&&(e({type:l.SWITCH_LOADING_MASK}),(0,u.default)("deleteRunningCategory","POST",JSON.stringify({deleteList:n}),function(t){(0,i.showMessage)(t)&&(a.default.success(t.message),e({type:l.AFTER_UPDATE_ACCOUNTCONF_RUNNING_CATEGORY,receivedData:t.data})),e({type:l.SWITCH_LOADING_MASK})}))}})}},t.deleteAccountConfAccount=function(){return function(e,t){var n=t().accountConfState.getIn(["flags","accountSelect"]);0!==n.size&&c.Confirm({message:"确定删除？",title:"温馨提示",buttonLabels:["取消","确定"],onSuccess:function(t){1===t.buttonIndex&&(e({type:l.SWITCH_LOADING_MASK}),(0,u.default)("deleteRunningAccount","POST",JSON.stringify({deleteList:n}),function(t){(0,i.showMessage)(t)&&e({type:l.AFTER_UPDATE_ACCOUNTCONF_ACCOUNT,receivedData:t.data}),e({type:l.SWITCH_LOADING_MASK})}))}})}},t.changeAccountConfcCheckboxArr=function(e,t){return function(n){var a=[];t.forEach(function(e){switch(e){case"销售费用":a.push("XZ_SALE");break;case"管理费用":a.push("XZ_MANAGE");break;case"财务费用":a.push("XZ_FINANCE")}}),n({type:l.CHANGE_ACCOUNTCONF_PROPERTY,placeArr:e,valArr:a})}},t.changeCardCheckboxArr=function(e,t,n,a){return function(r,u){var i=u().accountConfState.getIn(["runningTemp",e,t]),c=void 0;c=a?i.update(function(e){return e.concat(n)}):i.update(function(e){return e.filter(function(e){return e!==n})});var s=["runningTemp",e,t];r({type:l.CHANGE_ACCOUNTCONF_PROPERTY,placeArr:s,valArr:c})}},t.changeCardCheckboxArrOut=function(e,t,n){return function(a,r){var u=r().accountConfState.getIn(["runningTemp",e]),i=void 0;i=n?u.update(function(e){return e.concat(t)}):u.update(function(e){return e.filter(function(e){return e!==t})});var c=["runningTemp",e];a({type:l.CHANGE_ACCOUNTCONF_PROPERTY,placeArr:c,valArr:i})}},t.changeDefaultAccount=function(e,t,n){return function(a){var r={SX_SHBX:"AC_JT_YFSB",SX_ZFGJJ:"AC_JT_YFGJJ",SX_QTXC:"AC_JT_YFXC",SX_QYSDS:["AC_YFQYSDS","AC_QYSDS"],SX_QTSF:["AC_YFSF","AC_SF"],SX_GRSF:"AC_SDS",SX_FLF:"AC_FLF",SX_GQ:["AC_TZ","AC_TZ_SY"],SX_ZQ:["AC_TZ","AC_TZ_SY"],SX_GDZC:["AC_ZC_ASSETS","AC_ZC_CLEANING","AC_ZC_ZJ"],SX_WXZC:["AC_ZC_ASSETS","AC_ZC_CLEANING","AC_ZC_ZJ"],SX_TZXFDC:["AC_ZC_ASSETS","AC_ZC_CLEANING","AC_ZC_ZJ"]}[t],l=function(e,t,n){var a=e.find(function(e){return e.get("type")===t&&e.get("property")===n});return{acId:a?a.get("acId"):"",acFullName:a?a.get("acFullName"):""}};"SX_GRSF"===t?a(C([l(e,r,t)],[n,"payAc"])):"string"==typeof r?a(C([l(e,r,t)],[n,"accruedAc"])):"SX_QYSDS"===t||"SX_QTSF"===t?(a(C([l(e,r[0],t)],[n,"accruedAc"])),a(C([l(e,r[1],t)],[n,"payAc"]))):"SX_GQ"===t||"SX_ZQ"===t?(a(C([l(e,r[0],t)],[n,"investAc"])),a(C([l(e,r[1],t)],[n,"profitAc"]))):"SX_GDZC"!==t&&"SX_WXZC"!==t&&"SX_TZXFDC"!==t||(a(C([l(e,r[0],t)],[n,"assetsAc"])),a(C([l(e,r[1],t)],[n,"cleaningAc"])),a(C([l(e,r[2],t)],[n,"depreciationAc"])))}},t.emptyAccountCheck=function(e){return function(t){e.forEach(function(e){var n=e.tab,a=e.place,r=e.value,u="string"==typeof a?[n+"Temp",a]:[n+"Temp"].concat(f(a));t({type:l.CHANGE_ACCOUNTCONF_COMMON_STRING,placeArr:u,value:r})})}},t.swapRunningItem=function(e,t){return function(n){n({type:l.SWITCH_LOADING_MASK}),(0,u.default)("runningSwapItem","POST",JSON.stringify({fromCategoryUuid:e,toCategoryUuid:t}),function(e){(0,i.showMessage)(e)&&n(_((0,s.fromJS)(e.data.categoryList[0]))),n({type:l.SWITCH_LOADING_MASK})})}},t.enabledCategory=function(e){return function(t){t({type:l.SWITCH_LOADING_MASK}),(0,u.default)("enabledCategory","POST",JSON.stringify({enabledList:e}),function(n){(0,i.showMessage)(n)&&t(E(e[0],!1)),t({type:l.SWITCH_LOADING_MASK})})}},t.disabledCategory=function(e,t){return function(t){t({type:l.SWITCH_LOADING_MASK}),(0,u.default)("disabledCategory","POST",JSON.stringify({disabledList:e}),function(n){if((0,i.showMessage)(n)){var a=n.data.parentList;t(E(e[0],!0,a))}t({type:l.SWITCH_LOADING_MASK})})}},t.changeItemDisableStatus=function(e,t,n){return function(a,r){var u=r().accountConfState,i=u.getIn(["runningCategory",0,"childList"]),c=u.getIn(["runningCategory",0,"disableList"]),s=[e];t&&n.length&&(s=s.concat(n));var o=function e(n,r,u,i){r&&r.size&&r.find(function(r,c){if(n.find(function(e){return e===r.get("uuid")}))return a({type:l.CHANGE_ITEM_DISABLE_STATUS,placeArr:[].concat(f(u),[c]),disabled:t}),!0;e(n,r.get("childList"),[].concat(f(u),[c,"childList"]),i),e(n,r.get("disableList"),[].concat(f(u),[c,"disableList"]),i)})};o(s,i,["childList"],!0),o(s,c,["disableList"],!0)}}),A=function(e){var t={LB_YYSR:"acBusinessIncome",LB_YYZC:"acBusinessExpense",LB_YYWSR:"acBusinessOutIncome",LB_YYWZC:"acBusinessOutExpense",LB_JK:"acLoan",LB_TZ:"acInvest",LB_ZB:"acCapital",LB_CQZC:"acAssets",LB_FYZC:"acCost",LB_ZSKX:"acTemporaryReceipt",LB_ZFKX:"acTemporaryPay",LB_XCZC:"acPayment",LB_SFZC:"acTax"}[e],n=["acAssets","acBusinessExpense","acBusinessIncome","acBusinessOutExpense","acBusinessOutIncome","acCapital","acCost","acInvest","acLoan","acPayment","acTax","acTemporaryReceipt","acTemporaryPay"];return n.splice(n.indexOf(t),1),n},T=(t.getRegretCategory=function(){return function(e){e({type:l.SWITCH_LOADING_MASK}),(0,u.default)("getRegretCategory","GET","",function(t){(0,i.showMessage)(t)&&e({type:l.GET_REGRET_CATEGORY,receivedData:t.data}),e({type:l.SWITCH_LOADING_MASK})})}},t.changeRegretAccountAccountName=function(e,t,n,a,r,u){return{type:l.CHANGE_REGRET_ACCOUNT_ACCOUNT_NAME,tab:e,placeUUid:t,placeName:n,isBalance:a,isBusiness:r,value:u}},t.changeRegretAccountCommonString=function(e,t,n){return function(a){var r="string"==typeof t?[e+"Temp",t]:[e+"Temp"].concat(f(t));"flags"===t[0]&&(r=t),a({type:l.CHANGE_REGRET_ACCOUNT_COMMON_STRING,tab:e,placeArr:r,value:n})}});t.changeRegretCancle=function(){return{type:l.CHANGE_REGRET_CANCLE}},t.saveRegretMessage=function(){return function(e,t){var n=t().accountConfState,a=n.getIn(["regretTemp","subordinateName"]),r=n.getIn(["regretTemp","categoryUuid"]);e({type:l.SWITCH_LOADING_MASK}),(0,u.default)("saveRegretMessage","POST",JSON.stringify({name:a,uuid:r}),function(t){(0,i.showMessage)(t)?(e({type:l.GET_RUNNING_CATEGORY,receivedData:t.data}),e(T("regret","showConfirmModal",!1))):(e(T("regret","showConfirmModal",!1)),e(T("regret","showModal",!0))),e({type:l.SWITCH_LOADING_MASK})})}}},1243:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cancelYllsVisible=t.getYllsBusinessData=void 0;var a,r=n(52),l=(a=r)&&a.__esModule?a:{default:a},u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1270)),i=n(22);t.getYllsBusinessData=function(e,t){return function(n){var a=e.get("parentUuid")?e.get("parentUuid"):e.get("uuid");a&&n({type:u.SWITCH_LOADING_MASK}),a&&(0,l.default)("getRunningBusiness","GET","uuid="+a,function(a){(0,i.showMessage)(a)?(n({type:u.SWITCH_LOADING_MASK}),n({type:u.GET_YLLS_BUSINESS_DATA,item:a.data.result,curItem:e}),t&&t()):n({type:u.SWITCH_LOADING_MASK})})}},t.cancelYllsVisible=function(){return function(e){e({type:u.CANCEL_YLLS_VISIBLE})}}},1245:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.changeItemChildShow=t.deleteRunningVc=t.showRelatePaymentFetch=t.showRelateBusinessFetch=t.modifyRunningPayment=t.getRunningPayment=t.getRunningBusinessDuty=void 0;var a,r=f(n(1278)),l=n(52),u=(a=l)&&a.__esModule?a:{default:a},i=n(18),c=n(22),s=f(n(30)),o=(f(n(27)),f(n(1229))),d=f(n(60));function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}t.getRunningBusinessDuty=function(e,t,n,a,l){return function(l,s){console.log(n);var f=s().accountConfState.get("runningCategory");l({type:r.SWITCH_LOADING_MASK}),(0,u.default)("getRunningBusiness","GET","uuid="+t,function(u){if(l({type:r.SWITCH_LOADING_MASK}),(0,c.showMessage)(u)){var s=u.data.result.categoryUuid,m=(0,i.fromJS)([]);!function e(t){return t.map(function(t){t.get("uuid")===s&&(m=m.push(t)),t.get("childList")&&t.get("childList").size&&e(t.get("childList"))})}(f);var g={LB_YYSR:"acBusinessIncome",LB_YYZC:"acBusinessExpense",LB_YYWSR:"acBusinessOutIncome",LB_YYWZC:"acBusinessOutExpense",LB_JK:"acLoan",LB_TZ:"acInvest",LB_ZB:"acCapital",LB_CQZC:"acAssets",LB_FYZC:"acCost",LB_ZSKX:"acTemporaryReceipt",LB_ZFKX:"acTemporaryPay",LB_XCZC:"acPayment",LB_SFZC:"acTax"}[u.data.result.categoryType],p=u.data.result.runningState,_=u.data.result[g].beManagemented,C=u.data.result[g].contactsRange,E=u.data.result[g].stockRange,A=u.data.result.beProject,T=u.data.result.projectRange,y=u.data.result.propertyCarryover;"STATE_JK_ZFLX"!==p&&"STATE_TZ_SRGL"!==p&&"STATE_TZ_SRLX"!==p&&"STATE_ZB_ZFLR"!==p&&"STATE_XC_JN"!==p&&"STATE_XC_FF"!==p&&"STATE_SF_JN"!==p&&"STATE_ZS_TH"!==p&&"STATE_ZF_SH"!==p&&"STATE_SF_SFJM"!==p||l(o.changeLrAccountCommonString("",["flags","specialStateforAccrued"],!0)),l(o.getRunningSettingInfo()),l(d.addPageTabPane("EditPanes","LrAccount","LrAccount","录入流水")),l(d.addHomeTabpane("Edit","LrAccount","录入流水")),l({type:r.INIT_LR_ACCOUNT,strJudgeType:"fromCxAccount",receivedData:u.data,category:m,canMakeVc:a,flowNumber:e,uuidList:n,uuid:t}),"STATE_CQZC_JZSY"===p&&l(o.calculateGain()),A&&l(o.getProjectCardList(T,u.data.result)),_&&l(o.getFirstContactsCardList(C,p)),"SX_HW"===y&&l(o.getFirstStockCardList(E,p))}})}},t.getRunningPayment=function(e,t){return function(n){n({type:r.SWITCH_LOADING_MASK}),(0,u.default)("getRunningPayment","GET","uuid="+e,function(e){n({type:r.SWITCH_LOADING_MASK}),(0,c.showMessage)(e)&&(t(),n({type:r.SHOW_RELATE_PAYMENT_FETCH,receivedData:e.data.result}))})}},t.modifyRunningPayment=function(){return{type:r.MODIFY_RUNNING_PAYMENT}},t.showRelateBusinessFetch=function(e,t){return function(n){n({type:r.SWITCH_LOADING_MASK}),(0,u.default)("getRunningBusinessDuty","GET","uuid="+e,function(e){n({type:r.SWITCH_LOADING_MASK}),(0,c.showMessage)(e)&&(t(),n({type:r.SHOW_RELATE_PAYMENT_FETCH,receivedData:e.data.result}))})}},t.showRelatePaymentFetch=function(e,t){return function(n){n({type:r.SWITCH_LOADING_MASK}),(0,u.default)("getRunningPayment","GET","uuid="+e,function(e){n({type:r.SWITCH_LOADING_MASK}),(0,c.showMessage)(e)&&(t(),n({type:r.SHOW_RELATE_PAYMENT_FETCH,receivedData:e.data.result}))})}},t.deleteRunningVc=function(e,t){return function(n,a){s.Confirm({message:"确定删除？",title:"温馨提示",buttonLabels:["取消","确定"],onSuccess:function(l){1===l.buttonIndex&&(n({type:r.SWITCH_LOADING_MASK}),(0,u.default)("deletevc","POST",JSON.stringify({year:t.substr(0,4),month:t.substr(5,2),vcindexlist:[e]}),function(e){if(n({type:r.SWITCH_LOADING_MASK}),(0,c.showMessage)(e)){var t=a().accountState,l=t.getIn(["flags","issuedate"]),u=t.getIn(["flags","main"]),i=t.getIn(["flags","curCategory"]),s=t.getIn(["flags","curAccountUuid"]),o=t.getIn(["flags","assId"]),d=t.getIn(["flags","assCategory"]),f=t.getIn(["flags","acId"]);n(getAccountDimensionFetch(l,u,i,s,f,d,o))}}))}})}},t.changeItemChildShow=function(e){return{type:r.CHANGE_ITEM_CHILD_SHOW,idx:e}}},1246:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SWITCH_LOADING_MASK="SWITCH_LOADING_MASK",t.INIT_PZ_BOMB="INIT_PZ_BOMB",t.PZBOMB_REVIEWEDBY_VC="PZBOMB_REVIEWEDBY_VC",t.CANCEL_PZBOMB_REVIEWEDBY_VC="CANCEL_PZBOMB_REVIEWEDBY_VC"},1249:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.changeItemChildShow=t.deleteRunningVc=t.showRelatePaymentFetch=t.showRelateBusinessFetch=t.modifyRunningPayment=t.getRunningPayment=t.getRunningBusinessDuty=t.deleteAccountItemCardAndRunning=t.accountItemCheckboxCheckAll=t.accountItemCheckboxCheck=t.saveAccountPayOrReceive=t.oneClickPayment=t.beforeRunningPayOrReceive=t.changeAccountAccountName=t.changeAccountCommonString=t.afterModifyAccountAllList=t.changeSearchType=t.changeCalculateCommonString=t.getFirstStockCardList=t.getAccountObjectList=t.getCostCategoryListInfo=t.getAuthCategoryListInfo=t.getMakeoutCategoryListInfo=t.getManageCategoryListInfo=t.getCalculateCarryoverList=t.getCalculateCertificationList=t.getCalculateInvoicingList=t.getCalculateList=t.getPeriodCalculateList=void 0;var a,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l=g(n(1277)),u=n(52),i=(a=u)&&a.__esModule?a:{default:a},c=n(22),s=g(n(30)),o=n(18),d=g(n(60)),f=g(n(43)),m=g(n(1229));function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.getPeriodCalculateList=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"manages",n=arguments[2];arguments[3],arguments[4];return function(a){a({type:l.SWITCH_LOADING_MASK}),a(h(e));(0,i.default)("getManageList","POST",JSON.stringify({year:e?e.substr(0,4):"",month:e?e.substr(6,2):"",categoryUuid:"",cardUuid:"",isCheck:!1,getPeriod:n}),function(e){if((0,c.showMessage)(e)){var n;a(f.AccountTableGetPeriod(e));a((p(n={type:l.GET_CALCULATE_LIST,receivedData:e.data.result,period:e.data.periodDtoJson,issuedate:"",getPeriod:"true",isCheck:!1,categoryUuid:""},"isCheck",!1),p(n,"searchType","SEARCH_TYPE_DATE"),p(n,"accountingType",t),n))}a({type:l.SWITCH_LOADING_MASK})})}};var _=t.getCalculateList=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"manages",n=(arguments[2],arguments[3]),a=arguments[4],r=arguments[5],u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"",s=arguments[7];return function(o,d){o({type:l.SWITCH_LOADING_MASK});var f=d().calculationState,m=u?f.getIn(["flags","searchType"]):"";t=t||f.getIn(["flags","accountingType"]),r=(!0===r||!1===r)&&r,(0,i.default)("getManageList","POST",JSON.stringify({year:e?e.substr(0,4):"",month:e?e.substr(6,2):"",categoryUuid:n?"全部"===n?"":n:f.getIn(["flags","categoryUuid"]),cardUuid:a,isCheck:r,getPeriod:"",searchType:m,searchContent:u}),function(a){o({type:l.SWITCH_LOADING_MASK}),(0,c.showMessage)(a)&&(m=""==m?"SEARCH_TYPE_DATE":m,o({type:l.GET_CALCULATE_LIST,receivedData:a.data.result,period:a.data.periodDtoJson,issuedate:e,getPeriod:"",isCheck:r,searchType:m,curCategory:n,accountingType:t}))}),s||o(T("",a,r))}},C=t.getCalculateInvoicingList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments[4];return function(u,s){u({type:l.SWITCH_LOADING_MASK});var o=s().calculationState,d=a?o.getIn(["flags","searchType"]):"";(0,i.default)("getBusinessMakeoutList","POST",JSON.stringify({runningDate:"",categoryUuid:t?"全部"===t?"":t:o.getIn(["flags","categoryUuid"]),billMakeOutType:n,searchType:d,searchContent:a}),function(a){u({type:l.SWITCH_LOADING_MASK}),(0,c.showMessage)(a)&&(d=""==d?"SEARCH_TYPE_DATE":d,u({type:l.GET_CALCULATE_INVOICING_LIST,receivedData:a.data.result,curCategory:t,billMakeOutType:n,searchType:d,runningDate:e}))}),r||u(y("",n))}},E=t.getCalculateCertificationList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments[4];return function(u,s){u({type:l.SWITCH_LOADING_MASK});var o=s().calculationState,d=a?o.getIn(["flags","searchType"]):"";(0,i.default)("getBusinessAuthList","POST",JSON.stringify({runningDate:"",categoryUuid:t?"全部"===t?"":t:o.getIn(["flags","categoryUuid"]),billAuthType:n,searchType:d,searchContent:a}),function(a){u({type:l.SWITCH_LOADING_MASK}),(0,c.showMessage)(a)&&(d=""==d?"SEARCH_TYPE_DATE":d,u({type:l.GET_CALCULATE_CERTIFICATE_LIST,receivedData:a.data.result,curCategory:t,billAuthType:n,searchType:d,runningDate:e}))}),r||u(S("",n))}},A=t.getCalculateCarryoverList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments[3],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";return function(u,s){u({type:l.SWITCH_LOADING_MASK}),u(v(e,t));var o=s().calculationState,d=""===r?[]:[r],f=n?o.getIn(["flags","searchType"]):"";(0,i.default)("getCarryoverList","POST",JSON.stringify({runningDate:"",runningState:t,searchType:f,searchContent:n,cardUuidList:d}),function(n){u({type:l.SWITCH_LOADING_MASK}),(0,c.showMessage)(n)&&(f=""==f?"SEARCH_TYPE_DATE":f,u({type:l.GET_CALCULATE_COST_LIST,receivedData:n.data.result,runningState:t,searchType:f,runningDate:e}))}),a||u(I("",t))}},T=t.getManageCategoryListInfo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(a,r){(0,i.default)("getRunningManageCategory","POST",JSON.stringify({runningDate:e,cardUuid:t,isCheck:n}),function(e){(0,c.showMessage)(e)&&a({type:l.GET_MANAGE_CATEGORY_DETAIL,receivedData:e.data,isCheck:n})})}},y=t.getMakeoutCategoryListInfo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(n,a){(0,i.default)("getRunningMakeoutCategory","POST",JSON.stringify({runningDate:e,billMakeOutType:t}),function(e){(0,c.showMessage)(e)&&n({type:l.GET_MANAGE_CATEGORY_DETAIL,receivedData:e.data})})}},S=t.getAuthCategoryListInfo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(n,a){(0,i.default)("getRunningAuthCategory","POST",JSON.stringify({runningDate:e,billAuthType:t}),function(e){(0,c.showMessage)(e)&&n({type:l.GET_MANAGE_CATEGORY_DETAIL,receivedData:e.data})})}},I=t.getCostCategoryListInfo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(n,a){(0,i.default)("getRunningCarryoverCategory","POST",JSON.stringify({runningDate:e,runningState:t}),function(e){(0,c.showMessage)(e)&&n({type:l.GET_MANAGE_CATEGORY_DETAIL,receivedData:e.data})})}},h=t.getAccountObjectList=function(e){return function(e){(0,i.default)("getBusinessManagerCardList","POST",JSON.stringify({}),function(t){(0,c.showMessage)(t)&&(e(N("calculate","cardList",(0,o.fromJS)(t.data.cardList))),t.data.categoryList&&e(N("calculate","typeList",(0,o.fromJS)(t.data.categoryList))))})}},v=t.getFirstStockCardList=function(e,t){return function(n,a){a().homeState.getIn(["data","userInfo","sobInfo","sobId"]);(0,i.default)("getCostStock","POST",JSON.stringify({runningDate:e,runningState:t}),function(e){(0,c.showMessage)(e)&&n(N("calculate","stockThingsList",(0,o.fromJS)(e.data.result)))})}},N=t.changeCalculateCommonString=function(e,t,n){return function(a){var r="string"==typeof t?[e+"Temp",t]:[e+"Temp"].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t));"flags"===t[0]&&(r=t),a({type:l.CHANGE_CALCULATE_COMMON_STRING,tab:e,placeArr:r,value:n})}},L=(t.changeSearchType=function e(t,n){return function(a){switch(n){case"manages":a(_()),a(e(["calculateTemp","usedCard"],(0,o.fromJS)({name:"",code:"全部"})));break;case"invoicing":a(C());break;case"certification":a(E());break;case"costTransfer":a(A()),a(e(["calculateTemp","stockCard"],(0,o.fromJS)({name:"",code:"全部"})))}a({type:l.CHANGE_TYPE_OF_SEARCH,placeArr:t,value:n})}},t.afterModifyAccountAllList=function(e){return function(e,t){var n=t().calculationState,a=n.getIn(["flags","issuedate"]),r=n.getIn(["flags","accountingType"]),l=n.getIn(["flags","curCategory"]),u=(n.getIn(["calculateTemp","ass","assid"]),n.getIn(["calculateTemp","ass","asscategory"]),n.getIn(["calculateTemp","ass","acId"]),n.getIn(["calculateTemp","cardUuid"])),i=n.getIn(["flags","isCheck"]),c=n.getIn(["invoicingList","billMakeOutType"]),s=n.getIn(["certificationList","billAuthType"]),o=n.getIn(["costTransferList","runningState"]);switch(r){case"manages":e(_(a,r,"true",l,u,i));break;case"invoicing":e(C("",l,c));break;case"certification":e(E("",l,s));break;case"costTransfer":e(A("",o))}}}),O=(t.changeAccountCommonString=function(e,t,n){return{type:l.CHANGE_ACCOUNT_COMMON_STRING,tab:e,place:t,value:n}},t.changeAccountAccountName=function(e,t,n,a){return{type:l.CHANGE_ACCOUNT_ACCOUNT_NAME,tab:e,placeUUid:t,placeName:n,value:a}},t.beforeRunningPayOrReceive=function(e,t,n,a,r){return function(u){n<0&&(n=-n,e="收"===e?"付":"收"),u({type:l.BEFORE_RUNNING_PAY_OR_RECEIVE,payDirection:e,assList:t,notHandleAmount:n,uuidList:a,runningList:r})}});t.oneClickPayment=function(e){return function(t,n){var a=n().calculationState,r=a.getIn(["flags","selectList"]),l=a.getIn(["payManageList","childList"]),u=a.getIn(["flags","assId"]),i=a.getIn(["flags","assCategory"]),c=a.getIn(["flags","acId"]),s=a.get("mediumAcAssList"),d="";c?s.get("acList").forEach(function(e){e.get("acId")===c&&(d=e.get("acName"))}):s.get("category").forEach(function(e){e.get("category")===i&&e.get("assList").forEach(function(e){e.get("assId")===u&&(d=e.get("assName"))})});var f=(0,o.fromJS)([]),m=(0,o.fromJS)([]),g=(0,o.fromJS)([]),p=(0,o.fromJS)([]);if(l.forEach(function(e){r.indexOf(e.get("uuid"))>-1&&(g=g.push(e),p=p.push(e.get("uuid")),"income"===e.get("property")||"otherIncome"===e.get("property")?m=m.push(e):f=f.push(e))}),m.size&&f.size){var _=0,C=0;m.forEach(function(e){return _+=e.get("notHandleAmount")}),f.forEach(function(e){return C+=e.get("notHandleAmount")});var E=_-C;if(E>0){t(O("收",d,E,p,g))}else{t(O("付",d,-E,p,g))}e()}else if(m.size&&!f.size){var A="收",T=0;m.forEach(function(e){T+=e.get("notHandleAmount"),p.push(e.get("uuid"))}),T<0&&(A="付",T=-T),t(O(A,d,T,p,g)),e()}else if(!m.size&&f.size){var y="付",S=0;f.forEach(function(e){S+=e.get("notHandleAmount"),p.push(e.get("uuid"))}),S<0&&(y="收",S=-S),t(O(y,d,S,p,g)),e()}else console.log("异常情况：未匹配")}},t.saveAccountPayOrReceive=function(e){return function(t,n){var a=n().calculationState,l=a.getIn(["flags","runningInsertOrModify"]),u=a.get("runningTemp").toJS();(0,i.default)(l+"Runningpayment","POST",JSON.stringify(r({},u)),function(n){(0,c.showMessage)(n)&&(t(L()),e())})}},t.accountItemCheckboxCheck=function(e,t,n){return{type:l.ACCOUNT_ITEM_CHECKBOX_SELECT,checked:e,uuid:t,runningDate:n}},t.accountItemCheckboxCheckAll=function(e,t){return{type:l.PAY_RECEIVE_ITEM_CHECKBOX_CHECK_ALL,selectAll:e,listName:t}},t.deleteAccountItemCardAndRunning=function(e){return function(e,t){var n=t().calculationState.getIn(["flags","selectList"]);s.Confirm({message:"确定删除？",title:"温馨提示",buttonLabels:["取消","确定"],onSuccess:function(t){1===t.buttonIndex&&(e({type:l.SWITCH_LOADING_MASK}),(0,i.default)("deleteRunningbusiness","POST",JSON.stringify({deleteList:n}),function(t){if((0,c.showMessage)(t)){if(t.data.errorList.length){var n=t.data.errorList.reduce(function(e,t){return e+","+t});s.Alert(n)}e(L())}e({type:l.SWITCH_LOADING_MASK})}))}})}},t.getRunningBusinessDuty=function(e,t,n,a){return function(a,r){var u=r().accountConfState.get("runningCategory");a({type:l.SWITCH_LOADING_MASK}),(0,i.default)("getNewRunningBusiness","GET","oriUuid="+t,function(t){if(a({type:l.SWITCH_LOADING_MASK}),(0,c.showMessage)(t)){var r=t.data.result.categoryUuid,i=(0,o.fromJS)([]);!function e(t){return t.map(function(t){t.get("uuid")===r&&(i=i.push(t)),t.get("childList")&&t.get("childList").size&&e(t.get("childList"))})}(u);var s=t.data.result.runningState;"STATE_JK_ZFLX"!==s&&"STATE_TZ_SRGL"!==s&&"STATE_TZ_SRLX"!==s&&"STATE_ZB_ZFLR"!==s&&"STATE_ZS_TH"!==s&&"STATE_ZF_SH"!==s||a(m.changeLrAccountCommonString("",["flags","specialStateforAccrued"],!0)),a(m.getRunningSettingInfo()),a(d.addPageTabPane("EditPanes","LrAccount","LrAccount","录入流水")),a(d.addHomeTabpane("Edit","LrAccount","录入流水")),a({type:l.INIT_LR_ACCOUNT,strJudgeType:"fromCxAccount",receivedData:t.data,category:i,canMakeVc:n,flowNumber:e}),"STATE_CQZC_JZSY"===s&&a(m.calculateGain())}})}},t.getRunningPayment=function(e,t){return function(n){n({type:l.SWITCH_LOADING_MASK}),(0,i.default)("getRunningPayment","GET","uuid="+e,function(e){n({type:l.SWITCH_LOADING_MASK}),(0,c.showMessage)(e)&&(t(),n({type:l.SHOW_RELATE_PAYMENT_FETCH,receivedData:e.data.result}))})}},t.modifyRunningPayment=function(){return{type:l.MODIFY_RUNNING_PAYMENT}},t.showRelateBusinessFetch=function(e,t){return function(n){n({type:l.SWITCH_LOADING_MASK}),(0,i.default)("getRunningBusinessDuty","GET","uuid="+e,function(e){n({type:l.SWITCH_LOADING_MASK}),(0,c.showMessage)(e)&&(t(),n({type:l.SHOW_RELATE_PAYMENT_FETCH,receivedData:e.data.result}))})}},t.showRelatePaymentFetch=function(e,t){return function(n){n({type:l.SWITCH_LOADING_MASK}),(0,i.default)("getRunningPayment","GET","uuid="+e,function(e){n({type:l.SWITCH_LOADING_MASK}),(0,c.showMessage)(e)&&(t(),n({type:l.SHOW_RELATE_PAYMENT_FETCH,receivedData:e.data.result}))})}},t.deleteRunningVc=function(e,t){return function(n,a){s.Confirm({message:"确定删除？",title:"温馨提示",buttonLabels:["取消","确定"],onSuccess:function(r){1===r.buttonIndex&&(n({type:l.SWITCH_LOADING_MASK}),(0,i.default)("deletevc","POST",JSON.stringify({year:t.substr(0,4),month:t.substr(5,2),vcindexlist:[e]}),function(e){if(n({type:l.SWITCH_LOADING_MASK}),(0,c.showMessage)(e)){var t=a().calculationState,r=t.getIn(["flags","issuedate"]),u=t.getIn(["flags","main"]),i=t.getIn(["flags","curCategory"]),s=(t.getIn(["flags","curAccountUuid"]),t.getIn(["flags","assId"]),t.getIn(["flags","assCategory"]),t.getIn(["flags","acId"]),t.getIn(["flags","isCheck"])),o=t.getIn(["calculateTemp","cardUuid"]);n(_(r,u,"",i,o,s))}}))}})}},t.changeItemChildShow=function(e){return{type:l.CHANGE_ITEM_CHILD_SHOW,idx:e}}},1250:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r,l,u=C(n(14)),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(78);var c=C(n(1)),s=C(n(0)),o=n(18),d=n(17);n(1258);var f=_(n(30)),m=C(n(1260)),g=C(n(1264)),p=_(n(60));function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function C(e){return e&&e.__esModule?e:{default:e}}var E=(0,d.immutableRenderDecorator)((l=r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={rotate:0,magnificationRate:1,imgWpercent:0,idx:""},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.default.Component),i(t,[{key:"componentDidMount",value:function(){this.props.dispatch(p.setDdConfig())}},{key:"componentWillReceiveProps",value:function(e,t){0==this.props.preview&&1==e.preview&&this.setState({rotate:0,magnificationRate:1,imgWpercent:0,idx:e.page,maxLimit:40,minLimit:40})}},{key:"render",value:function(){var e=this,t=this.props,n=t.preview,a=t.downloadPermission,r=t.previewImgArr,l=t.closePreviewModal,i=t.downloadEnclosure,s=t.dispatch,o=(t.page,t.type,t.uploadKeyJson,this.state),d=o.idx,p=o.rotate,_=o.magnificationRate,C=o.imgWpercent,E=o.maxLimit,A=o.minLimit,T=r.get(d);return c.default.createElement("div",{className:"preview",style:{display:n?"":"none"},onClick:function(e){}},c.default.createElement("div",{className:"nav"},c.default.createElement("button",{onClick:function(){return e.setState({idx:d-1,imgWpercent:0,rotate:0})},disabled:0==d},c.default.createElement(u.default,{type:"left-circle"}),c.default.createElement("div",null,"上一张")),c.default.createElement("button",{disabled:T&&"TRUE"!==T.get("imageOrFile"),onClick:function(){return e.setState({rotate:p+90})}},c.default.createElement(u.default,{type:"reload"}),c.default.createElement("div",null,"旋转")),T&&"application/pdf"===T.get("mimeType")?c.default.createElement("button",{disabled:.5===_,onClick:function(){e.setState({magnificationRate:_-.5})}},c.default.createElement(u.default,{type:"zoom-out"}),c.default.createElement("div",null,"缩小")):c.default.createElement("button",{disabled:-A>=C,onClick:function(){e.setState({imgWpercent:C-10})}},c.default.createElement(u.default,{type:"minus-circle"}),c.default.createElement("div",null,"缩小")),T&&"application/pdf"==T.get("mimeType")?c.default.createElement("button",{disabled:_>=4||"application/pdf"!==T.get("mimeType"),onClick:function(){e.setState({magnificationRate:_+.5})}},c.default.createElement(u.default,{type:"zoom-in"}),c.default.createElement("div",null,"放大")):c.default.createElement("button",{disabled:C>=E,onClick:function(){e.setState({imgWpercent:C+10})}},c.default.createElement(u.default,{type:"plus-circle"}),c.default.createElement("div",null,"放大")),c.default.createElement("button",{disabled:!a},a?c.default.createElement("span",{onClick:function(){return i(r.getIn([d,"signedUrl"]),r.getIn([d,"fileName"]))}},c.default.createElement(u.default,{type:"download"}),c.default.createElement("div",null,"下载")):c.default.createElement("a",null,c.default.createElement(u.default,{type:"download"}),c.default.createElement("div",null,"下载"))),c.default.createElement("button",{disabled:!(T&&"application/pdf"==T.get("mimeType")),onClick:function(){T&&"application/pdf"==T.get("mimeType")&&f.openLink({url:r.getIn([d,"signedUrl"])})}},c.default.createElement(u.default,{type:"printer"}),c.default.createElement("div",null,"打印")),c.default.createElement("button",{onClick:function(){return e.setState({idx:d+1,imgWpercent:0,rotate:0})},disabled:d===r.size-1},c.default.createElement(u.default,{type:"right-circle"}),c.default.createElement("div",null,"下一张"))),T&&"TRUE"===T.get("imageOrFile")&&n?c.default.createElement(g.default,{imgUrl:""+T.get("signedUrl"),imgWpercent:C,rotate:p,preview:n,maxLimit:E,minLimit:A}):"",T&&"application/pdf"===T.get("mimeType")&&n?c.default.createElement(m.default,{pdfUrl:""+T.get("signedUrl"),dispatch:s,magnificationRate:_,preview:n}):"",c.default.createElement("div",{className:"img-box",style:{display:T&&"application/pdf"!==T.get("mimeType")&&"TRUE"!==T.get("imageOrFile")?"":"none"}},c.default.createElement("div",{className:"img-box-contain"},c.default.createElement("div",{className:"img-box-contain-overflow"},c.default.createElement("div",{className:"noSupport"},c.default.createElement(u.default,{type:"file"}),c.default.createElement("p",null,"仅图片及PDF格式支持预览"))))),c.default.createElement("div",{className:"btnBar"},c.default.createElement("div",{className:"title"},"预览"),c.default.createElement("div",{onClick:l,className:"closeBtn"},c.default.createElement(u.default,{type:"close"}))))}}]),t}(),r.displayName="EnclosurePreview",r.propTypes={preview:s.default.bool,downloadPermission:s.default.bool,previewImgArr:s.default.instanceOf(o.List),closePreviewModal:s.default.func,dispatch:s.default.func,page:s.default.number,type:s.default.string},a=l))||a;t.default=E},1258:function(e,t,n){},1260:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r,l,u=g(n(14)),i=g(n(37)),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(78),n(38);var s=g(n(1)),o=g(n(0)),d=n(17);n(1261);n(127),m(n(30));var f=m(n(1263));function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function g(e){return e&&e.__esModule?e:{default:e}}var p=(0,d.immutableRenderDecorator)((l=r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderPdf=function(e){var t=document.getElementById("canvas_wrapper");t.innerHTML="";var a=atob(e),r=window.PDFJS;if(!r)return n.setState({networkFaild:!0}),i.default.info("网路问题导致PDF预览相关文件加载失败",2);if(r.cMapUrl="https://cdn.jsdelivr.net/npm/pdfjs-dist@2.0.288/cmaps/",r.cMapPacked=!0,!r.getDocument)return n.setState({networkFaild:!0}),i.default.info("网路问题导致PDF预览相关文件加载失败",2);var l=r.getDocument({data:a}),u=n;l.promise.then(function(e){var n="";e.numPages;for(var a=0;a<e.numPages;a++)(n=document.createElement("canvas")).id="pdf_canvas_"+a,t.appendChild(n);for(var r=function(t){e.getPage(t+1).then(function(e){var n=e.getViewport(u.props.magnificationRate),a=document.getElementById("pdf_canvas_"+t);a.width=n.width,a.height=n.height;var r=a.getContext("2d");return e.render({canvasContext:r,viewport:n}).promise})},l=0;l<e.numPages;l++)r(l)}).catch(function(e){document.getElementById("canvas_wrapper").innerHTML="",u.setState({broken:!0})})},n.state={base64:"",broken:!1,networkFaild:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),c(t,[{key:"componentDidMount",value:function(){var e=this;this.props.dispatch(f.getCxpzUploadEnclosure(this.props.pdfUrl,function(t){t&&(e.setState({base64:t,broken:!1}),e.renderPdf(t))}))}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.props.magnificationRate!==e.magnificationRate&&this.renderPdf(this.state.base64),this.props.pdfUrl!==e.pdfUrl&&this.props.dispatch(f.getCxpzUploadEnclosure(e.pdfUrl,function(e){e&&(t.setState({base64:e,broken:!1,networkFaild:!1}),t.renderPdf(e))}))}},{key:"render",value:function(){var e=this.props,t=(e.pdfUrl,e.dispatch,e.magnificationRate,this.state),n=t.broken,a=t.networkFaild;return s.default.createElement("div",{className:"img-box"},s.default.createElement("div",{className:"img-box-contain"},s.default.createElement("div",{className:"pdf-box-contain-overflow"},s.default.createElement("div",{className:"pdf_canvas_main"},s.default.createElement("div",{className:"pdf_canvas_pdf"},s.default.createElement("div",{id:"canvas_wrapper"}))),n?s.default.createElement("div",{className:"noSupport"},s.default.createElement(u.default,{type:"file"}),s.default.createElement("p",null,"PDF文件损坏，无法预览")):"",a?s.default.createElement("div",{className:"noSupport"},s.default.createElement(u.default,{type:"file"}),s.default.createElement("p",null,"网络异常，无法预览")):"")))}}]),t}(),r.displayName="PdfPreview",r.propTypes={pdfUrl:o.default.string,dispatch:o.default.func,magnificationRate:o.default.number},a=l))||a;t.default=p},1261:function(e,t,n){},1263:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCxpzUploadEnclosure=void 0;var a,r=n(31),l=(a=r)&&a.__esModule?a:{default:a},u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1246)),i=(n(18),n(22));t.getCxpzUploadEnclosure=function(e,t){return function(n){n({type:u.SWITCH_LOADING_MASK}),e.indexOf("xfn-ddy-annex-bucket.oss-accelerate")>0&&(e=e.replace("xfn-ddy-annex-bucket.oss-accelerate","xfn-ddy-annex-bucket.oss-cn-hangzhou-internal")),(0,l.default)("uploadGetEnclosure","POST",JSON.stringify({enclosureUrl:e}),function(e){(0,i.showMessage)(e)?t(e.data.enclosureFile):t(""),n({type:u.SWITCH_LOADING_MASK})})}}},1264:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r,l,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=s(n(1)),c=s(n(0));function s(e){return e&&e.__esModule?e:{default:e}}var o=(0,n(17).immutableRenderDecorator)((l=r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.drawImgScal=function(e,t,a,r){var l,u,i,c,s,o=t/100,d=a/100,f=r/100;l=n.refs.bargraphCanvas,u=l.getContext("2d"),(i=new Image).onload=function(){!0,m()},i.src=e;var m=function(){-f<=o&&o<=d&&(0===o?(c=i.width>960?960:i.width*Number(1+o),s=i.width>960?960*i.height/i.width:i.height*Number(1+o)):(c=i.width>960?960*Number(1+o):i.width*Number(1+o),s=i.width>960?960*i.height/i.width*Number(1+o):i.height*Number(1+o)),n.setState({imgHeight:s,imgWidth:c}),l.width=c,l.height=s,u.clearRect(0,0,c,s),u.drawImage(i,0,0,i.width,i.height,0,0,c,s))}},n.state={imgHeight:0,imgWidth:0},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),u(t,[{key:"componentDidMount",value:function(){this.drawImgScal(this.props.imgUrl,this.props.imgWpercent,this.props.maxLimit,this.props.minLimit)}},{key:"componentWillReceiveProps",value:function(e){this.props.imgUrl!==e.imgUrl&&this.drawImgScal(e.imgUrl,e.imgWpercent,this.props.maxLimit,this.props.minLimit),this.props.imgUrl===e.imgUrl&&this.props.imgWpercent!==e.imgWpercent&&this.drawImgScal(this.props.imgUrl,e.imgWpercent,this.props.maxLimit,this.props.minLimit)}},{key:"isVertail",value:function(e){return!(e<90)&&(90===e||e%180!=0)}},{key:"render",value:function(){var e=this.props,t=(e.imgUrl,e.imgWpercent,e.rotate),n=this.state,a=n.imgHeight,r=n.imgWidth,l=0,u=0;return this.isVertail(t)?(a>960&&(l=a-960),r>960&&(u=r-960)):(r>960&&(l=r-960),a>960&&(u=a/2+10)),i.default.createElement("div",{className:"img-box"},i.default.createElement("div",{className:"img-box-contain"},i.default.createElement("div",{className:"img-box-contain-overflow"},i.default.createElement("canvas",{ref:"bargraphCanvas",style:{transform:"rotate("+t+"deg)",marginLeft:l+"px",marginTop:u+"px",display:"block"}}))))}}]),t}(),r.displayName="ImgPreview",r.propTypes={imgUrl:c.default.string,imgWpercent:c.default.number,rotate:c.default.number,maxLimit:c.default.number,minLimit:c.default.number},a=l))||a;t.default=o},1270:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SWITCH_LOADING_MASK="SWITCH_LOADING_MASK",t.INIT_YLLS="INIT_YLLS",t.GET_YLLS_BUSINESS_DATA="GET_YLLS_BUSINESS_DATA",t.CANCEL_YLLS_VISIBLE="CANCEL_YLLS_VISIBLE"},1273:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SWITCH_LOADING_MASK="SWITCH_LOADING_MASK",t.INIT_ACCOUNTCONF="INIT_ACCOUNTCONF",t.GET_ACCOUNTCONF_ALL_SETTINGS="GET_ACCOUNTCONF_ALL_SETTINGS",t.GET_RUNNING_CATEGORY="GET_RUNNING_CATEGORY",t.GET_RUNNING_ACCOUNT="GET_RUNNING_ACCOUNT",t.GET_RUNNING_TAX_RATE="GET_RUNNING_TAX_RATE",t.CHANGE_ACCOUNTCONF_CURRENTPAGE="CHANGE_ACCOUNTCONF_CURRENTPAGE",t.BEFORE_INSERT_ACCOUNTCONF="BEFORE_INSERT_ACCOUNTCONF",t.BEFORE_MODIFY_ACCOUNTCONF_RUNNING_OLD="BEFORE_MODIFY_ACCOUNTCONF_RUNNING_OLD",t.CLOSE_ACCOUNTCONF_MODAL="CLOSE_ACCOUNTCONF_MODAL",t.ACCOUNTCONF_RUNNING_TRIANGLE_SWITCH="ACCOUNTCONF_RUNNING_TRIANGLE_SWITCH",t.ACCOUNTCONF_RUNNING_CHECKBOX_CHECK="ACCOUNTCONF_RUNNING_CHECKBOX_CHECK",t.SELECT_OR_UNSELECT_RUNNING_ALL="SELECT_OR_UNSELECT_RUNNING_ALL",t.SELECT_OR_UNSELECT_ACCOUNT_ALL="SELECT_OR_UNSELECT_ACCOUNT_ALL",t.ACCOUNTCONF_ACCOUNT_CHECKBOX_CHECK="ACCOUNTCONF_ACCOUNT_CHECKBOX_CHECK",t.ACCOUNTCONF_TAX_RATE_SETTING_SCALE="ACCOUNTCONF_TAX_RATE_SETTING_SCALE",t.SELECT_ACCOUNTCONF_UPPER_CATEGORY="SELECT_ACCOUNTCONF_UPPER_CATEGORY",t.CHANGE_ACCOUNTCONF_COMMON_STRING="CHANGE_ACCOUNTCONF_COMMON_STRING",t.CHANGE_ACCOUNTCONF_ACCOUNT_NUMBER="CHANGE_ACCOUNTCONF_ACCOUNT_NUMBER",t.SELECT_ACCOUNTCONF_ALL_AC="SELECT_ACCOUNTCONF_ALL_AC",t.SELECT_ACCOUNTCONF_MULTIPLE_AC="SELECT_ACCOUNTCONF_MULTIPLE_AC",t.AFTER_UPDATE_ACCOUNTCONF_RUNNING_CATEGORY="AFTER_UPDATE_ACCOUNTCONF_RUNNING_CATEGORY",t.AFTER_UPDATE_ACCOUNTCONF_ACCOUNT="AFTER_UPDATE_ACCOUNTCONF_ACCOUNT",t.CHANGE_ACCOUNTCONF_PROPERTY="CHANGE_ACCOUNTCONF_PROPERTY",t.CHANGE_ITEM_DISABLE_STATUS="CHANGE_ITEM_DISABLE_STATUS",t.GET_REGRET_CATEGORY="GET_REGRET_CATEGORY",t.CHANGE_REGRET_ACCOUNT_ACCOUNT_NAME="CHANGE_REGRET_ACCOUNT_ACCOUNT_NAME",t.CHANGE_REGRET_ACCOUNT_COMMON_STRING="CHANGE_REGRET_ACCOUNT_COMMON_STRING",t.CHANGE_REGRET_CANCLE="CHANGE_REGRET_CANCLE",t.SAVE_REGRET_MESSAGE="SAVE_REGRET_MESSAGE",t.CHANGE_LR_ACCOUNT_COMMON_STRING="CHANGE_LR_ACCOUNT_COMMON_STRING"},1274:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SWITCH_LOADING_MASK="SWITCH_LOADING_MASK",t.GET_BUSINESS_LIST="GET_BUSINESS_LIST",t.CHANGE_CX_ACCOUNT_COMMON_STRING="CHANGE_CX_ACCOUNT_COMMON_STRING",t.CXLS_ITEM_CHECKBOX_CHECK_ALL="CXLS_ITEM_CHECKBOX_CHECK_ALL",t.CXLS_ITEM_CHECKBOX_CHECK="CXLS_ITEM_CHECKBOX_CHECK",t.GET_CXLSCONF_ALL_SETTINGS="GET_CXLSCONF_ALL_SETTINGS",t.SET_CURRENT_PZ="SET_CURRENT_PZ",t.GET_ACCOUNTCONF_ALL_SETTINGS="GET_ACCOUNTCONF_ALL_SETTINGS",t.CALCULATE_FROM_CXLS_JUMP_TO_LRLS="CALCULATE_FROM_CXLS_JUMP_TO_LRLS",t.TRANSFER_OUT_FROM_CXLS_JUMP_TO_LRLS="TRANSFER_OUT_FROM_CXLS_JUMP_TO_LRLS",t.COST_TRANSFER_FROM_CXLS_JUMP_TO_LRLS="COST_TRANSFER_FROM_CXLS_JUMP_TO_LRLS",t.INVOICE_AUTH_FROM_CXLS_JUMP_TO_LRLS="INVOICE_AUTH_FROM_CXLS_JUMP_TO_LRLS",t.INVOICING_FROM_CXLS_JUMP_TO_LRLS="INVOICING_FROM_CXLS_JUMP_TO_LRLS",t.TRANSFER_OUT_FROM_CXLS_JUMP_TO_NBZZ="TRANSFER_OUT_FROM_CXLS_JUMP_TO_NBZZ",t.TRANSFER_OUT_FROM_CXLS_JUMP_TO_ZJTX="TRANSFER_OUT_FROM_CXLS_JUMP_TO_ZJTX",t.AFTER_SAVE_ACCOUNT_PAYMENT="AFTER_SAVE_ACCOUNT_PAYMENT",t.INIT_PAYMENT_STATE="INIT_PAYMENT_STATE",t.INIT_LR_ACCOUNT_SETTINGS="INIT_LR_ACCOUNT_SETTINGS",t.CALCULATE_CHANGE_QUERY="CALCULATE_CHANGE_QUERY",t.CHANGE_PZ_COMMON_STRING="CHANGE_PZ_COMMON_STRING",t.INIT_CXLS="INIT_CXLS",t.INIT_COMMON_CHARGE_FROM_CXLS="INIT_COMMON_CHARGE_FROM_CXLS",t.INIT_JZSY_FROM_CXLS="INIT_JZSY_FROM_CXLS",t.CXLS_CALCULATE_GAIN_OR_LOSS="CXLS_CALCULATE_GAIN_OR_LOSS"},1277:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SWITCH_LOADING_MASK="SWITCH_LOADING_MASK",t.ACCOUNT_CHANGE_VIEW_DIMENSION="ACCOUNT_CHANGE_VIEW_DIMENSION",t.GET_MANAGE_CATEGORY_DETAIL="GET_MANAGE_CATEGORY_DETAIL",t.GET_CALCULATE_LIST="GET_CALCULATE_LIST",t.GET_CALCULATE_INVOICING_LIST="GET_CALCULATE_INVOICING_LIST",t.GET_CALCULATE_CERTIFICATE_LIST="GET_CALCULATE_CERTIFICATE_LIST",t.GET_CALCULATE_COST_LIST="GET_CALCULATE_COST_LIST",t.CHANGE_CALCULATE_COMMON_STRING="CHANGE_CALCULATE_COMMON_STRING",t.CHANGE_ACCOUNT_AMOUNT_SUM="CHANGE_ACCOUNT_AMOUNT_SUM",t.CHANGE_ACCOUNT_COMMON_STRING="CHANGE_ACCOUNT_COMMON_STRING",t.CHANGE_ACCOUNT_ACCOUNT_NAME="CHANGE_ACCOUNT_ACCOUNT_NAME",t.BEFORE_RUNNING_PAY_OR_RECEIVE="BEFORE_RUNNING_PAY_OR_RECEIVE",t.ACCOUNT_ITEM_CHECKBOX_SELECT="ACCOUNT_ITEM_CHECKBOX_SELECT",t.PAY_RECEIVE_ITEM_CHECKBOX_CHECK_ALL="PAY_RECEIVE_ITEM_CHECKBOX_CHECK_ALL",t.INIT_RUNNING_BUSINESS_OR_PAY_CARD="INIT_RUNNING_BUSINESS_OR_PAY_CARD",t.MODIFY_RUNNING_PAYMENT="MODIFY_RUNNING_PAYMENT",t.SHOW_RELATE_PAYMENT_FETCH="SHOW_RELATE_PAYMENT_FETCH",t.CHANGE_ITEM_CHILD_SHOW="CHANGE_ITEM_CHILD_SHOW",t.CHANGE_TYPE_OF_SEARCH="CHANGE_TYPE_OF_SEARCH",t.INIT_SEARCH_CALCULATION="INIT_SEARCH_CALCULATION"},1278:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SWITCH_LOADING_MASK="SWITCH_LOADING_MASK",t.GET_BUSINESS_LIST="GET_BUSINESS_LIST",t.CHANGE_CX_ACCOUNT_COMMON_STRING="CHANGE_CX_ACCOUNT_COMMON_STRING",t.CXLS_ITEM_CHECKBOX_CHECK_ALL="CXLS_ITEM_CHECKBOX_CHECK_ALL",t.CXLS_ITEM_CHECKBOX_CHECK="CXLS_ITEM_CHECKBOX_CHECK",t.GET_CXLSCONF_ALL_SETTINGS="GET_CXLSCONF_ALL_SETTINGS",t.SET_CURRENT_PZ="SET_CURRENT_PZ",t.SHOW_RELATE_PAYMENT_FETCH="SHOW_RELATE_PAYMENT_FETCH",t.CHANGE_ITEM_CHILD_SHOW="CHANGE_ITEM_CHILD_SHOW",t.INIT_LR_ACCOUNT="INIT_LR_ACCOUNT",t.MODIFY_RUNNING_PAYMENT="MODIFY_RUNNING_PAYMENT"},1281:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=M(n(1234)),l=M(n(45)),u=M(n(100)),i=M(n(1230)),c=M(n(1366)),s=M(n(37)),o=M(n(14)),d=M(n(47)),f=M(n(32)),m=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(1235),n(55),n(99),n(1231),n(1356),n(38),n(78),n(46),n(51);var g=M(n(1)),p=n(17),_=n(18),C=n(127),E=M(n(6)),A=b(n(27)),T=n(482),y=n(22),S=n(1330),I=n(1331),h=b(n(1243)),v=b(n(1239)),N=b(n(1245));n(1332);var L=M(n(1250)),O=n(43);function b(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function M(e){return e&&e.__esModule?e:{default:e}}var R=(0,p.immutableRenderDecorator)(a=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.onChangeActiveKey=function(){return e.setState({activeKey:e.state.activeKey.length>0?[]:["1"]})},e.state={activeKey:["1"],deleteModal:!1,tagModal:!1,tagValue:"无标签",currentIdx:"",preview:!1,rotate:0,page:0,wpercent:1,manageModal:!1,carryoverModal:!1,invioceModal:!1,defineModal:!1,jzsyModal:!1,isSeleck:!1,deleteHasFj:!1},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,g.default.Component),m(t,[{key:"render",value:function(){var e=this,t=this.props,n=(t.yllsVisible,t.dispatch),a=t.onClose,m=(t.yllsState,t.editLrAccountPermission),p=t.panes,b=t.lsItemData,M=t.uuidList,R=t.showDrawer,D=t.refreshList,P=t.lryl,G=t.isClose,w=t.fromCxls,U=t.curItem,k=(t.intelligentStatus,t.magenerType),H=t.contactsCardRange,J=t.categoryTypeObj,F=t.issuedate,x=t.inputValue,B=t.simplifyStatus,Y=t.editPzPermission,K=t.reviewLrAccountPermission,j=t.projectList,Z=this.state,X=Z.activeKey,z=(Z.tagValue,Z.currentIdx,Z.preview),W=(Z.tagModal,Z.rotate,Z.page),V=(Z.wpercent,Z.manageModal),Q=Z.carryoverModal,q=Z.invioceModal,$=Z.defineModal,ee=(Z.deleteModal,Z.jzsyModal),te=(Z.isSeleck,Z.deleteHasFj,this.props.modalTemp?this.props.modalTemp:(0,_.fromJS)({})),ne=this.props.accountList?this.props.accountList:(0,_.fromJS)({}),ae=[],re=void 0,le=void 0;b&&b.get("vcList")&&b.get("vcList").map(function(e,t){ae.push(e.get("vcIndex")),re=e.get("year"),le=e.get("month")});var ue=B?Y:K,ie=function(e){return(0,T.beforejumpCxToLr)(e,p,d.default)},ce=b.get("beBusiness"),se=b.get("runningState"),oe=b.get("categoryType"),de=(b.get("debitAmount"),b.get("creditAmount"),b.get("parentCategoryList")),fe=b.get("categoryName")?b.get("categoryName"):"",me=(T.categoryTypeName[b.get("categoryType")]&&T.categoryTypeName[b.get("categoryType")],T.runningStateType[b.get("runningState")]?T.runningStateType[b.get("runningState")]:""),ge=("LB_FYZC"===b.get("categoryType")||b.get("categoryType"),b.get("parentUuid")?b.get("parentUuid"):b.get("uuid")),pe=({LB_YYSR:function(){return g.default.createElement(S.Yysz,{lsItemData:b,activeKey:X,onChangeActiveKey:e.onChangeActiveKey})},LB_YYZC:function(){return g.default.createElement(S.Yysz,{lsItemData:b,activeKey:X,onChangeActiveKey:e.onChangeActiveKey})},LB_FYZC:function(){return g.default.createElement(S.Fyzc,{lsItemData:b,activeKey:X,onChangeActiveKey:e.onChangeActiveKey})},LB_XCZC:function(){return g.default.createElement(S.Xczc,{lsItemData:b,activeKey:X,onChangeActiveKey:e.onChangeActiveKey})},LB_SFZC:function(){return g.default.createElement(S.Sfzc,{lsItemData:b,activeKey:X,onChangeActiveKey:e.onChangeActiveKey})},LB_CQZC:function(){return g.default.createElement(S.Cqzc,{lsItemData:b,activeKey:X,onChangeActiveKey:e.onChangeActiveKey})},LB_YYWSR:function(){return g.default.createElement(S.Yywsz,{lsItemData:b,activeKey:X,onChangeActiveKey:e.onChangeActiveKey})},LB_YYWZC:function(){return g.default.createElement(S.Yywsz,{lsItemData:b,activeKey:X,onChangeActiveKey:e.onChangeActiveKey})},LB_ZSKX:function(){return g.default.createElement(S.Zszf,{lsItemData:b,activeKey:X,onChangeActiveKey:e.onChangeActiveKey})},LB_ZFKX:function(){return g.default.createElement(S.Zszf,{lsItemData:b,activeKey:X,onChangeActiveKey:e.onChangeActiveKey})},LB_JK:function(){return g.default.createElement(S.JkTzZb,{lsItemData:b,activeKey:X,onChangeActiveKey:e.onChangeActiveKey})},LB_TZ:function(){return g.default.createElement(S.JkTzZb,{lsItemData:b,activeKey:X,onChangeActiveKey:e.onChangeActiveKey})},LB_ZB:function(){return g.default.createElement(S.JkTzZb,{lsItemData:b,activeKey:X,onChangeActiveKey:e.onChangeActiveKey})},LB_ZZ:function(){return g.default.createElement(I.Nbzz,{lsItemData:b,activeKey:X,onChangeActiveKey:e.onChangeActiveKey})},LB_ZJTX:function(){return g.default.createElement(I.Zjtx,{lsItemData:b,activeKey:X,onChangeActiveKey:e.onChangeActiveKey})},LB_JZCB:function(){return g.default.createElement(I.Jzcb,{lsItemData:b,activeKey:X,onChangeActiveKey:e.onChangeActiveKey})},LB_GGFYFT:function(){return g.default.createElement(I.Xmft,{lsItemData:b,activeKey:X,onChangeActiveKey:e.onChangeActiveKey})},LB_ZCWJZZS:function(){return g.default.createElement(I.Zcwjzzs,{lsItemData:b,activeKey:X,onChangeActiveKey:e.onChangeActiveKey})},LB_KJFP:function(){return g.default.createElement(I.FpKr,{lsItemData:b,activeKey:X,onChangeActiveKey:e.onChangeActiveKey})},LB_FPRZ:function(){return g.default.createElement(I.FpKr,{lsItemData:b,activeKey:X,onChangeActiveKey:e.onChangeActiveKey})},LB_JZSY:function(){return g.default.createElement(I.Jzsy,{lsItemData:b,activeKey:X,onChangeActiveKey:e.onChangeActiveKey})}}[oe]||function(){return g.default.createElement(S.Other,{lsItemData:b,activeKey:X,onChangeActiveKey:e.onChangeActiveKey})})(),_e=void 0;if(ce){var Ce="其他流水"===de.get(0)&&de.size>1?de.slice(1):"其他流水"!==de.get(0)?de:[];_e="LB_ZJTX"===oe?"长期资产折旧摊销":b.get("propertyCost")&&"LB_XCZC"!==oe&&"LB_FYZC"!==oe||b.get("assetType")&&"LB_CQZC"===oe?""+Ce.reduce(function(e,t){return e+t+"_"},"")+fe:"LB_JZSY"===oe?"长期资产处置损益":""+Ce.reduce(function(e,t){return e+t+"_"},"")+fe+(me?"("+me+")":"")}else _e="收付管理";var Ee=b.get("enclosureList")?b.get("enclosureList").filter(function(e){return"TRUE"===e.get("imageOrFile")||"application/pdf"==e.get("mimeType")}):(0,_.fromJS)([]);return g.default.createElement("div",null,g.default.createElement(c.default,{className:"ylls-wrap",width:479,placement:"right",closable:!1,onClose:a,visible:!0,mask:!1},g.default.createElement("div",{className:"ylls-title"},g.default.createElement("span",{className:"ylls-title-text"},"查看流水"),g.default.createElement("span",{onClick:a,className:"ylls-title-icon"},g.default.createElement(o.default,{type:"close"}))),g.default.createElement("div",{className:"ylls-opration-wrap"},w?g.default.createElement("div",{key:"z4",className:"ylls-title-btn"},g.default.createElement(f.default,{type:"ghost",className:"handle-btn",disabled:!ue||G,onClick:function(){b.get("beCertificate")?n(v.deleteVcItemFetch(re,le,ae,F,x,!0,D,U,R)):n(v.runningInsertVc((0,_.fromJS)([{uuid:U.get("parentUuid")?U.get("parentUuid"):U.get("uuid"),flowNumber:U.get("flowNumber")}]),"Business",F,x,!0,D,U,R))}},b.get("beCertificate")?B?"删除凭证":"反审核":B?"生成凭证":"审核")):"",w?function(t){t.get("waitReceiving"),t.get("waitPaying");var a=t.get("makeOut"),r=t.get("carryover"),l=t.get("certified"),u=t.get("received"),i=t.get("receiving"),c=(t.get("turnOut"),t.get("payed")),s=t.get("paying"),o=t.get("shouldReturn"),d=t.get("runningType"),p=[];switch(s){case"1":case"3":p.push(g.default.createElement("div",{key:"z3",className:"ylls-title-btn"},g.default.createElement(f.default,{type:"ghost",className:"handle-btn",disabled:!m,onClick:function(){n(v.getBusinessManagerModal(t,function(){e.setState({manageModal:!0})},"credit"))}},"付款")))}switch(u){case"1":case"3":p.push(g.default.createElement("div",{key:"c3",className:"ylls-title-btn"},g.default.createElement(f.default,{type:"ghost",className:"handle-btn",disabled:!m,onClick:function(){n(v.getBusinessManagerModal(t,function(){e.setState({manageModal:!0})},"debit"))}},"退款")))}switch(c){case"1":case"3":p.push(g.default.createElement("div",{key:"d3",className:"ylls-title-btn"},g.default.createElement(f.default,{type:"ghost",className:"handle-btn",disabled:!m,onClick:function(){n(v.getBusinessManagerModal(t,function(){e.setState({manageModal:!0})},"debit"))}},"退款")))}switch(i){case"1":case"3":p.push(g.default.createElement("div",{key:"e3",className:"ylls-title-btn"},g.default.createElement(f.default,{type:"ghost",className:"handle-btn",disabled:!m,onClick:function(){n(v.getBusinessManagerModal(t,function(){e.setState({manageModal:!0})},"debit"))}},"收款")))}switch(o){case"1":case"3":p.push(g.default.createElement("div",{key:"f3",className:"ylls-title-btn"},g.default.createElement(f.default,{type:"ghost",className:"handle-btn",disabled:!m,onClick:function(){n(v.getBusinessManagerModal(t,function(){e.setState({manageModal:!0})},"credit"))}},"退")))}return 1==a&&p.push(g.default.createElement(f.default,{type:"ghost",className:"handle-btn",disabled:!m,onClick:function(){n(v.getBusinessInvioceModal(t,function(){e.setState({invioceModal:!0})}))}},"开票")),1==r&&"LX_ZZS_YKP"!==d&&"LX_ZZS_WKP"!==d&&"LX_ZZS_YRZ"!==d&&"LX_ZZS_WRZ"!==d?p.push(g.default.createElement("div",{className:"ylls-title-btn"},g.default.createElement(f.default,{type:"ghost",className:"handle-btn",disabled:!m,onClick:function(){n("LB_CQZC"===oe?v.getBusinessJzsyModal(t,function(){e.setState({jzsyModal:!0})}):v.getBusinessCarryoverModal(t,function(){e.setState({carryoverModal:!0})}))}},"结转"))):1==r&&"LB_CQZC"===oe&&g.default.createElement("div",{className:"ylls-title-btn"},g.default.createElement(f.default,{type:"ghost",className:"handle-btn",disabled:!m,onClick:function(){n(v.getBusinessJzsyModal(t,function(){e.setState({jzsyModal:!0})}))}},"结转")),1==l&&p.push(g.default.createElement(f.default,{type:"ghost",className:"handle-btn",disabled:!m,onClick:function(){n(v.getBusinessDefineModal(t,function(){e.setState({defineModal:!0})}))}},"认证")),p}(b):"",g.default.createElement("span",{className:M.some(function(e,t){return(e.get("parentUuid")?e.get("parentUuid"):e.get("uuid"))===ge&&0===t})?"ylls-opration-icon-disabled":"ylls-opration-icon",onClick:function(){if(!M.some(function(e,t){return(e.get("parentUuid")?e.get("parentUuid"):e.get("uuid"))===ge&&0===t})){var e=M.findIndex(function(e){return(e.get("parentUuid")?e.get("parentUuid"):e.get("uuid"))===ge})-1;n(h.getYllsBusinessData(M.get(e),R))}}},g.default.createElement(o.default,{type:"left-square"})),g.default.createElement("span",{className:M.some(function(e,t){return(e.get("parentUuid")?e.get("parentUuid"):e.get("uuid"))===ge&&t===M.size-1})?"ylls-opration-icon-disabled":"ylls-opration-icon",onClick:function(){if(!M.some(function(e,t){return(e.get("parentUuid")?e.get("parentUuid"):e.get("uuid"))===ge&&t===M.size-1})){var e=M.findIndex(function(e){return(e.get("parentUuid")?e.get("parentUuid"):e.get("uuid"))===ge})+1;n(h.getYllsBusinessData(M.get(e),R))}}},g.default.createElement(o.default,{type:"right-square"})),g.default.createElement("span",{className:m?"ylls-opration-icon":"ylls-opration-icon-disabled",onClick:function(){m&&(a(),ce||"STATE_ZZ"===se?"STATE_YYSR_JZCB"===se?ie(function(){return n(v.jumpCalculateCxToLr(b,"modify","LB_JZCB",M))}):"STATE_FPRZ_CG"===se||"STATE_FPRZ_TG"===se?ie(function(){return n(v.jumpCalculateCxToLr(b,"modify","LB_FPRZ",M))}):"STATE_KJFP_XS"===se||"STATE_KJFP_TS"===se?ie(function(){return n(v.jumpCalculateCxToLr(b,"modify","LB_KJFP",M))}):"STATE_ZCWJZZS"===se?ie(function(){return n(v.jumpCalculateCxToLr(b,"modify","LB_ZCWJZZS",M))}):"STATE_ZZ"===se?ie(function(){return n(v.jumpCalculateCxToLr(b,"modify","LB_ZZ",M))}):"STATE_CQZC_ZJTX"===se?ie(function(){return n(v.jumpCalculateCxToLr(b,"modify","LB_ZJTX",M))}):"STATE_GGFYFT"===se?ie(function(){return n(v.jumpCommonCharge(b,M))}):"STATE_CQZC_JZSY"===se?ie(function(){return n(v.getInitLraccountJzsy(b,M))}):n(N.getRunningBusinessDuty(b.get("flowNumber"),b.get("uuid"),M)):n(v.getBusinessPayment(b,"",M)))}},g.default.createElement(C.XfnIcon,{type:"sob-edit",disabled:!m,style:{fontSize:"22px",position:"relative",top:"1px"}})),P?"":g.default.createElement("span",{className:m&&!G?"ylls-opration-icon":"ylls-opration-icon-disabled",onClick:function(){if(m&&!G)if(M.some(function(e,t){return(e.get("parentUuid")?e.get("parentUuid"):e.get("uuid"))===ge&&t===M.size-1}))n(v.deleteSingleFlow(ge,function(){a(),D()}));else{var e=M.findIndex(function(e){return(e.get("parentUuid")?e.get("parentUuid"):e.get("uuid"))===ge})+1;n(v.deleteSingleFlow(ge,function(){n(h.getYllsBusinessData(M.get(e),function(){D()}))}))}}},g.default.createElement(C.XfnIcon,{type:"sob-delete"}))),g.default.createElement("div",{className:"ylls-drawer-content"},g.default.createElement("ul",{className:"ylls-item-detail"},g.default.createElement("li",null,g.default.createElement("span",null,"流水号："),g.default.createElement("span",null,b.get("flowNumber"))),g.default.createElement("li",null,g.default.createElement("span",null,"日期："),g.default.createElement("span",null,b.get("runningDate"))),g.default.createElement("li",null,g.default.createElement("span",null,"类别："),g.default.createElement("span",null,_e))),ce?pe:g.default.createElement(I.Sfgl,{lsItemData:b,activeKey:X,onChangeActiveKey:this.onChangeActiveKey}),g.default.createElement("div",{style:{overflow:"hidden"}},(b.get("enclosureList")||[]).map(function(t,a){return g.default.createElement("div",{className:"upload",key:a},g.default.createElement("div",{className:"plus",onClick:function(){if("TRUE"===t.get("imageOrFile")||"application/pdf"==t.get("mimeType")){var n=0;Ee.forEach(function(e,a){t.get("enclosurePath")!==e.get("enclosurePath")||(n=a)}),e.setState({preview:!0,rotate:0,page:n})}else s.default.warn("仅图片及PDF格式支持预览")}},g.default.createElement("img",{src:(0,y.showImg)(t.get("imageOrFile"),t.get("fileName"))})),g.default.createElement("div",null,g.default.createElement("p",null,t.get("fileName")),g.default.createElement("span",null,t.get("size")>=1024?(t.get("size")/1024).toFixed(2)+"M":t.get("size")+"kb"),g.default.createElement("span",{style:{display:m?"":"none"},onClick:function(){return n(v.cxlsDownloadEnclosure(t.get("signedUrl"),t.get("fileName")))}},g.default.createElement(o.default,{type:"download"})),"无标签"===t.get("label")?"":g.default.createElement("span",{className:"tag"},t.get("label"))))})),g.default.createElement(L.default,{page:W,dispatch:n,preview:z,downloadPermission:m,previewImgArr:Ee,downloadEnclosure:function(e,t){return n((0,O.allDownloadEnclosure)(e,t))},closePreviewModal:function(){return e.setState({preview:!1})},type:"ls"}))),g.default.createElement(d.default,{visible:V,onCancel:function(){e.setState({manageModal:!1}),n(v.changeCxAccountCommonOutString("modalTemp",(0,_.fromJS)({runningDate:(0,y.formatDate)()})))},className:"single-manager",title:("debit"===k?"收款":"付款")+"核销",okText:"保存",onOk:function(){n(v.insertlrAccountManagerModal(function(){e.setState({manageModal:!1}),n(h.getYllsBusinessData(b,R))},J))}},g.default.createElement("div",{className:"manager-content"},g.default.createElement("div",null,g.default.createElement("label",null,"往来单位："),(H&&H.get("code"))+" "+(H&&H.get("name"))),g.default.createElement("div",{className:"manager-item"},g.default.createElement("label",null,"日期："),g.default.createElement(i.default,{allowClear:!1,value:te.get("runningDate")?(0,E.default)(te.get("runningDate")):"",onChange:function(e){var t=e.format("YYYY-MM-DD");n(v.changeCxAccountCommonOutString(["modalTemp","runningDate"],t))}})),g.default.createElement("div",{className:"manager-item"},g.default.createElement("label",null,"摘要："),g.default.createElement(u.default,{value:te.get("runningAbstract"),onChange:function(e){n(v.changeCxAccountCommonOutString(["modalTemp","runningAbstract"],e.target.value))}})),g.default.createElement("div",{className:"manager-item"},g.default.createElement("label",null,("debit"===k?"收款":"付款")+"金额："),g.default.createElement(u.default,{value:te.get("handlingAmount"),onChange:function(e){(0,y.numberTest)(e,function(e){n(v.changeCxAccountCommonOutString(["modalTemp","handlingAmount"],e))})}})),g.default.createElement("div",{className:"manager-item"},g.default.createElement("label",null,"账户："),g.default.createElement(l.default,{value:te.get("accountName"),onChange:function(e){var t=e.split(A.TREE_JOIN_STR)[0];e.split(A.TREE_JOIN_STR)[1];n(v.changeCxAccountCommonOutString(["modalTemp","accountName"],e)),n(v.changeCxAccountCommonOutString(["modalTemp","accountUuid"],t))}},ne.getIn([0,"childList"])?ne.getIn([0,"childList"]).map(function(e,t){return g.default.createElement(Option,{key:t,value:""+e.get("uuid")+A.TREE_JOIN_STR+e.get("name")},e.get("name"))}):[])))),g.default.createElement(d.default,{visible:Q,onCancel:function(){e.setState({carryoverModal:!1}),n(v.changeCxAccountCommonOutString("modalTemp",(0,_.fromJS)({runningDate:(0,y.formatDate)()})))},className:"single-manager",title:"成本结转",okText:"保存",onOk:function(){n(v.insertlrAccountCarryoverModal(function(){e.setState({carryoverModal:!1}),n(h.getYllsBusinessData(b,R))},J))}},g.default.createElement("div",{className:"manager-content"},g.default.createElement("div",{className:"manager-item"},g.default.createElement("label",null,"日期："),g.default.createElement(i.default,{allowClear:!1,value:te.get("runningDate")?(0,E.default)(te.get("runningDate")):"",onChange:function(e){var t=e.format("YYYY-MM-DD");n(v.changeCxAccountCommonOutString(["modalTemp","runningDate"],t))}})),g.default.createElement("div",{className:"manager-item"},g.default.createElement("label",null,"摘要："),g.default.createElement(u.default,{value:te.get("runningAbstract"),onChange:function(e){n(v.changeCxAccountCommonOutString(["modalTemp","runningAbstract"],e.target.value))}})),g.default.createElement("div",{className:"manager-item"},g.default.createElement("label",null,"金额："),g.default.createElement(u.default,{value:te.get("carryoverAmount"),onChange:function(e){(0,y.numberTest)(e,function(e){n(v.changeCxAccountCommonOutString(["modalTemp","carryoverAmount"],e))})}})))),g.default.createElement(d.default,{visible:q,onCancel:function(){e.setState({invioceModal:!1}),n(v.changeCxAccountCommonOutString("modalTemp",(0,_.fromJS)({runningDate:(0,y.formatDate)()})))},className:"single-manager",title:"开具发票",okText:"保存",onOk:function(){n(v.insertlrAccountInvioceModal(function(){e.setState({invioceModal:!1}),n(h.getYllsBusinessData(b,R))},J))}},g.default.createElement("div",{className:"manager-content"},g.default.createElement("div",{className:"manager-item"},g.default.createElement("label",null,"日期："),g.default.createElement(i.default,{allowClear:!1,value:te.get("runningDate")?(0,E.default)(te.get("runningDate")):"",onChange:function(e){var t=e.format("YYYY-MM-DD");n(v.changeCxAccountCommonOutString(["modalTemp","runningDate"],t))}})),g.default.createElement("div",{className:"manager-item"},g.default.createElement("label",null,"摘要："),g.default.createElement(u.default,{value:te.get("runningAbstract"),onChange:function(e){n(v.changeCxAccountCommonOutString(["modalTemp","runningAbstract"],e.target.value))}})))),g.default.createElement(d.default,{visible:$,onCancel:function(){e.setState({defineModal:!1}),n(v.changeCxAccountCommonOutString("modalTemp",(0,_.fromJS)({runningDate:(0,y.formatDate)()})))},className:"single-manager",title:"发票认证",okText:"保存",onOk:function(){n(v.insertlrAccountInvioceDefineModal(function(){e.setState({defineModal:!1}),n(h.getYllsBusinessData(b,R))},J))}},g.default.createElement("div",{className:"manager-content"},g.default.createElement("div",{className:"manager-item"},g.default.createElement("label",null,"日期："),g.default.createElement(i.default,{allowClear:!1,value:te.get("runningDate")?(0,E.default)(te.get("runningDate")):"",onChange:function(e){var t=e.format("YYYY-MM-DD");n(v.changeCxAccountCommonOutString(["modalTemp","runningDate"],t))}})),g.default.createElement("div",{className:"manager-item"},g.default.createElement("label",null,"摘要："),g.default.createElement(u.default,{value:te.get("runningAbstract"),onChange:function(e){n(v.changeCxAccountCommonOutString(["modalTemp","runningAbstract"],e.target.value))}})))),g.default.createElement(d.default,{visible:ee,onCancel:function(){e.setState({jzsyModal:!1}),n(v.changeCxAccountCommonOutString("modalTemp",(0,_.fromJS)({runningDate:(0,y.formatDate)()})))},className:"single-manager",title:"结转损益",okText:"保存",onOk:function(){n(v.insertlrAccountJzsyModal(function(){return e.setState({jzsyModal:!1})}))}},g.default.createElement("div",{className:"manager-content"},g.default.createElement("div",{className:"manager-item"},g.default.createElement("label",null,"日期："),g.default.createElement(i.default,{allowClear:!1,value:te.get("runningDate")?(0,E.default)(te.get("runningDate")):"",onChange:function(e){var t=e.format("YYYY-MM-DD");n(v.changeCxAccountCommonOutString(["modalTemp","runningDate"],t))}}),b&&b.get("beProject")?g.default.createElement(r.default,{className:"use-unuse-style",style:{marginLeft:".2rem"},checked:te.get("usedProject"),checkedChildren:"项目",onChange:function(){n(v.changeCxAccountCommonOutString(["modalTemp","usedProject"],!te.get("usedProject")))}}):""),g.default.createElement("div",{className:"manager-item"},g.default.createElement("label",null,"摘要："),g.default.createElement(u.default,{value:te.get("runningAbstract"),onChange:function(e){n(v.changeCxAccountCommonOutString(["modalTemp","runningAbstract"],e.target.value))}})),te.get("usedProject")?g.default.createElement("div",{className:"manager-item"},g.default.createElement("label",null,"项目："),g.default.createElement(l.default,{combobox:!0,showSearch:!0,value:(te.getIn(["projectCard","code"])?te.getIn(["projectCard","code"]):"")+" "+(te.getIn(["projectCard","name"])?te.getIn(["projectCard","name"]):""),onChange:function(e){var t=e.split(A.TREE_JOIN_STR),a=t[0],r=t[1],l=t[2];n(v.changeCxAccountCommonOutString(["modalTemp","projectCard"],(0,_.fromJS)({uuid:a,code:r,name:l})))}},j&&j.map(function(e,t){return g.default.createElement(Option,{key:t,value:""+e.get("uuid")+A.TREE_JOIN_STR+e.get("code")+A.TREE_JOIN_STR+e.get("name")},e.get("code")+" "+e.get("name"))}))):"",g.default.createElement("div",{className:"manager-item"},g.default.createElement("label",null,te.get("netProfitAmount")>0?"净收益金额：":"净损失金额："),te.get("netProfitAmount")>0?te.get("netProfitAmount"):te.get("lossAmount")),g.default.createElement("div",{className:"manager-item"},g.default.createElement("label",null,"资产原值："),g.default.createElement(u.default,{value:te.getIn(["acAssets","originalAssetsAmount"]),onChange:function(e){(0,y.numberTest)(e,function(e){n(v.changeCxAccountCommonOutString(["modalTemp","acAssets","originalAssetsAmount"],e)),n(v.calculateGainForJzsy())})}})),g.default.createElement("div",{className:"manager-item"},g.default.createElement("label",null,"累计折旧摊销："),g.default.createElement(u.default,{value:te.getIn(["acAssets","depreciationAmount"]),onChange:function(e){(0,y.numberTest)(e,function(e){n(v.changeCxAccountCommonOutString(["modalTemp","acAssets","depreciationAmount"],e)),n(v.calculateGainForJzsy())})}})),g.default.createElement("div",{className:"manager-item"},g.default.createElement("label",null,"处置金额："),U?(0,y.formatMoney)(U.get("amount")-U.get("tax")):""))))}}]),t}())||a;t.default=R},1292:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(1),i=(r=u)&&r.__esModule?r:{default:r},c=n(17),s=n(22);var o=(0,c.immutableRenderDecorator)(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),l(t,[{key:"render",value:function(){var e=this.props.itemData,t=e.get("tax"),n=e.get("taxRate"),a=(e.get("billStates"),e.get("billType")),r=a?"bill_other"===a?"其他票据":{bill_common:"发票(税额"+(0,s.formatMoney)(t,2,"")+"，税率"+n+"%)",bill_special:"增值税发票(税额"+(0,s.formatMoney)(t,2,"")+"，税率"+n+"%)"}[a]:"";return a?i.default.createElement("li",null,i.default.createElement("span",null,"票据："),i.default.createElement("span",null,r)):""}}]),t}())||a;t.default=o},1293:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=o(n(14)),l=o(n(1272)),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(78),n(1271);var i=o(n(1)),c=n(17),s=n(22);function o(e){return e&&e.__esModule?e:{default:e}}var d=l.default.Panel,f=(0,c.immutableRenderDecorator)(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),u(t,[{key:"render",value:function(){var e=this.props,t=e.title,n=(e.lsItemData,e.activeKey),a=e.onChangeActiveKey,u=e.itemList,c=e.amountStr,o=e.amountStr2,f=i.default.createElement("div",{className:n.length>0?"ylls-item-child-title":"ylls-item-child-title-no"},i.default.createElement("span",null,t),i.default.createElement("span",null,n.length>0?"收起":"展开",i.default.createElement(r.default,{type:n.length>0?"up":"down"})));return i.default.createElement("div",{className:"ylls-item-child-list"},u&&u.size?i.default.createElement(l.default,{bordered:!1,activeKey:n,onChange:a},i.default.createElement(d,{showArrow:!1,header:f,key:"1"},i.default.createElement("ul",null,u.map(function(e,t){return i.default.createElement("li",{className:"ylls-item-child-item",key:t},i.default.createElement("div",null,i.default.createElement("span",null,""+e.get("categoryName")),i.default.createElement("span",null,"流水号：",e.get("flowNumber"))),i.default.createElement("div",null,i.default.createElement("span",null,"金额"),i.default.createElement("span",null,"amount-tax"===c?(0,s.formatMoney)(Number(e.get("amount"))-Number(e.get("tax")),2,""):c?(0,s.formatMoney)(e.get(c)?e.get(c):e.get(o),2,""):(0,s.formatMoney)(e.get("handleAmount"),2,""))))})))):"")}}]),t}())||a;t.default=f},1301:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,n=arguments[1];return((e={},s(e,a.INIT_LR_ACOUNT_STATE,function(){return o}),s(e,a.INIT_LR_ACCOUNT,function(){var e=t.get("hideCategoryList");t.getIn(["flags","paymentType"]);if("init"===n.strJudgeType){var a=t.get("issues");t=o.set("issues",a)}if("saveAndNew"===n.strJudgeType){var l=o.get("cardTemp"),u=t.getIn(["cardTemp","payableRate"]),i=t.getIn(["cardTemp","outputRate"]),c=t.getIn(["cardTemp","scale"]),s=t.getIn(["cardTemp","runningDate"]),d=t.getIn(["cardTemp","categoryType"]),f=t.getIn(["cardTemp","name"]);t=t.setIn(["flags","insertOrModify"],"insert").setIn(["flags","runningInsertOrModify"],"insert").set("cardTemp",l).setIn(["cardTemp","payableRate"],u).setIn(["cardTemp","outputRate"],i).setIn(["cardTemp","categoryType"],d).setIn(["cardTemp","scale"],c).setIn(["cardTemp","runningDate"],s).setIn(["cardTemp","name"],f).setIn(["flags","isQueryByBusiness"],!1).setIn(["flags","specialStateforAssets"],!1).setIn(["flags","specialStateforAccrued"],!1).setIn(["flags","needRelaList"],!1).setIn(["flags","uuidList"],(0,r.fromJS)([])).setIn(["flags","isQuery"],!1).set("enclosureList",(0,r.fromJS)([])).set("label",(0,r.fromJS)([])).set("needDeleteUrl",(0,r.fromJS)([]))}else if("afterSave"===n.strJudgeType){var m=(0,r.fromJS)(n.receivedData),g=t.getIn(["flags","runningInsertOrModify"]),p=t.getIn(["cardTemp","runningState"]);t=t.set("cardTemp",m).setIn(["flags","insertOrModify"],"modify").setIn(["flags","amount"],m.get("amount")).setIn(["flags","runningInsertOrModify"],"modify").setIn(["flags","isQuery"],!0),n.callBackObj.flowNumber&&(t=t.setIn(["cardTemp","flowNumber"],n.callBackObj.flowNumber)),"insert"===g&&n.callBackObj.uuid&&(t=t.setIn(["cardTemp","uuid"],n.callBackObj.uuid)),"STATE_JK_ZFLX"!==p&&"STATE_TZ_SRGL"!==p&&"STATE_TZ_SRLX"!==p&&"STATE_ZB_ZFLR"!==p&&"STATE_XC_FF"!==p&&"STATE_XC_JN"!==p&&"STATE_SF_JN"!==p&&"STATE_ZS_TH"!==p&&"STATE_ZF_SH"!==p&&"STATE_SF_SFJM"!==p||(t=t.setIn(["flags","specialStateforAccrued"],!0))}else if("fromCxAccount"===n.strJudgeType){var _=(0,r.fromJS)(n.receivedData.result),C=_.get("enclosureList")?(0,r.fromJS)(_.get("enclosureList")):(0,r.fromJS)([]),E=_.get("runningState"),A=t.getIn(["cardTemp","scale"]),T=t.getIn(["flags","uuidList"]),y=t.getIn(["flags","paymentType"]),S=t.get("calculateTemp");t=o.set("cardTemp",_).set("calculateTemp",S).setIn(["flags","PageTab"],"business").setIn(["flags","insertOrModify"],"modify").setIn(["flags","paymentType"],y).setIn(["flags","runningInsertOrModify"],"modify").setIn(["flags","amount"],_.get("amount")).setIn(["flags","isQuery"],!0).setIn(["cardTemp","name"],_.get("categoryName")).set("hideCategoryList",e).set("enclosureList",C).setIn(["cardTemp","queryObj","amount"],_.get("amount")).setIn(["cardTemp","queryObj","handleAmount"],_.get("handleAmount")).setIn(["cardTemp","queryObj","offsetAmount"],_.get("offsetAmount")),"LB_XCZC"===_.get("categoryType")&&(t=t.setIn(["cardTemp","queryObj","personAccumulationAmount"],_.getIn(["acPayment","personAccumulationAmount"])).setIn(["cardTemp","queryObj","personSocialSecurityAmount"],_.getIn(["acPayment","personSocialSecurityAmount"])).setIn(["cardTemp","queryObj","incomeTaxAmount"],_.getIn(["acPayment","incomeTaxAmount"])).setIn(["cardTemp","queryObj","companySocialSecurityAmount"],_.getIn(["acPayment","companySocialSecurityAmount"])).setIn(["cardTemp","queryObj","companyAccumulationAmount"],_.getIn(["acPayment","companyAccumulationAmount"]))),"STATE_JK_ZFLX"!==E&&"STATE_TZ_SRGL"!==E&&"STATE_TZ_SRLX"!==E&&"STATE_ZB_ZFLR"!==E&&"STATE_XC_FF"!==E&&"STATE_XC_JN"!==E&&"STATE_SF_JN"!==E&&"STATE_ZS_TH"!==E&&"STATE_ZF_SH"!==E&&"STATE_SF_SFJM"!==E||!_.get("paymentList").size||(t=t.setIn(["flags","specialStateforAccrued"],!0)),(n.uuidList||T.size)&&(t=t.setIn(["flags","needRelaList"],!0)),n.uuidList?t=t.setIn(["flags","uuidList"],n.uuidList):T.size&&(t=t.setIn(["flags","uuidList"],T)),Number(_.get("amount"))===Number(_.get("currentAmount"))&&(t=t.setIn(["flags","allGetFlow"],!0)),t=t.setIn(["flags","isQueryByBusiness"],!0).setIn(["cardTemp","scale"],A).setIn(["flags","currentSwitchUuid"],n.uuid)}return t}),s(e,a.INIT_LR_ACCOUNT_SETTINGS,function(){return t=t.setIn(["cardTemp","payableRate"],n.rate.payableRate).setIn(["cardTemp","outputRate"],n.rate.outputRate).setIn(["cardTemp","scale"],n.rate.scale).set("hideCategoryList",(0,r.fromJS)(n.hideCategoryList))}),s(e,a.COST_TRANSFER_FROM_CXLS_JUMP_TO_LRLS,function(){var e=t.getIn(["flags","uuidList"]);return t=(t=o.setIn(["cardTemp","payableRate"],n.rate.payableRate).setIn(["cardTemp","outputRate"],n.rate.outputRate).setIn(["cardTemp","scale"],n.rate.scale).set("hideCategoryList",(0,r.fromJS)(n.hideCategoryList)).setIn(["flags","currentSwitchUuid"],n.item.get("uuid"))).setIn(["flags","PageTab"],"payment").setIn(["flags","paymentType"],"LB_JZCB"),n.fromRefresh&&(t=t.setIn(["flags","isQueryByBusiness"],!0).setIn(["flags","runningInsertOrModify"],"modify")),(n.uuidList||e.size)&&(t=t.setIn(["flags","needRelaList"],!0)),n.uuidList?t=t.setIn(["flags","uuidList"],n.uuidList):e.size&&(t=t.setIn(["flags","uuidList"],e)),t}),s(e,a.INVOICE_AUTH_FROM_CXLS_JUMP_TO_LRLS,function(){var e=t.getIn(["flags","uuidList"]);return t=(t=o.setIn(["cardTemp","payableRate"],n.rate.payableRate).setIn(["cardTemp","outputRate"],n.rate.outputRate).setIn(["cardTemp","scale"],n.rate.scale).set("hideCategoryList",(0,r.fromJS)(n.hideCategoryList)).setIn(["flags","currentSwitchUuid"],n.item.get("uuid"))).setIn(["flags","PageTab"],"payment").setIn(["flags","paymentType"],"LB_FPRZ"),n.fromRefresh&&(t=t.setIn(["flags","isQueryByBusiness"],!0).setIn(["flags","runningInsertOrModify"],"modify")),(n.uuidList||e.size)&&(t=t.setIn(["flags","needRelaList"],!0)),n.uuidList?t=t.setIn(["flags","uuidList"],n.uuidList):e.size&&(t=t.setIn(["flags","uuidList"],e)),t}),s(e,a.CALCULATE_FROM_CXLS_JUMP_TO_LRLS,function(){var e=t.getIn(["flags","uuidList"]);return t=(t=o.setIn(["cardTemp","payableRate"],n.rate.payableRate).setIn(["cardTemp","outputRate"],n.rate.outputRate).setIn(["cardTemp","scale"],n.rate.scale).set("hideCategoryList",(0,r.fromJS)(n.hideCategoryList))).setIn(["flags","PageTab"],"payment").setIn(["flags","paymentType"],n.pageType),n.fromRefresh&&(t=t.setIn(["flags","isQueryByBusiness"],!0).setIn(["flags","runningInsertOrModify"],"modify")),(n.uuidList||e.size)&&(t=t.setIn(["flags","needRelaList"],!0)),n.uuidList?t=t.setIn(["flags","uuidList"],n.uuidList):e.size&&(t=t.setIn(["flags","uuidList"],e)),t}),s(e,a.CALCULATE_CHANGE_QUERY,function(){return t=t.setIn(["flags","isQueryByBusiness"],!0).setIn(["flags","runningInsertOrModify"],"modify")}),s(e,a.INVOICING_FROM_CXLS_JUMP_TO_LRLS,function(){var e=t.getIn(["flags","uuidList"]);return t=(t=o.setIn(["cardTemp","payableRate"],n.rate.payableRate).setIn(["cardTemp","outputRate"],n.rate.outputRate).setIn(["cardTemp","scale"],n.rate.scale).set("hideCategoryList",(0,r.fromJS)(n.hideCategoryList)).setIn(["flags","currentSwitchUuid"],n.item.get("uuid"))).setIn(["flags","PageTab"],"payment").setIn(["flags","paymentType"],"LB_KJFP"),n.fromRefresh&&(t=t.setIn(["flags","isQueryByBusiness"],!0).setIn(["flags","runningInsertOrModify"],"modify")),(n.uuidList||e.size)&&(t=t.setIn(["flags","needRelaList"],!0)),n.uuidList?t=t.setIn(["flags","uuidList"],n.uuidList):e.size&&(t=t.setIn(["flags","uuidList"],e)),t}),s(e,a.SELECT_ACCOUNT_RUNNING_CATEGORY,function(){t=t.setIn(["flags","insertOrModify"],"modify").setIn(["flags","showModal"],!0).mergeIn(["cardTemp"],(0,r.fromJS)(n.name)).deleteIn(["cardTemp","parentUuid"]).setIn(["cardTemp","assetType"],""),n.name.beProject&&(t=t.setIn(["cardTemp","usedProject"],!0).setIn(["cardTemp","projectCard"],(0,r.fromJS)([{uuid:""}])));var e=t.getIn(["cardTemp","uuid"]);return t.setIn(["cardTemp","categoryUuid"],e)}),s(e,a.TRANSFER_OUT_FROM_CXLS_JUMP_TO_LRLS,function(){var e=t.getIn(["flags","uuidList"]);return(n.uuidList||e.size)&&(t=t.setIn(["flags","needRelaList"],!0)),n.uuidList?t=t.setIn(["flags","uuidList"],n.uuidList):e.size&&(t=t.setIn(["flags","uuidList"],e)),t.setIn(["flags","currentSwitchUuid"],n.item.get("uuid"))}),s(e,a.TRANSFER_OUT_FROM_CXLS_JUMP_TO_NBZZ,function(){var e=t.getIn(["flags","uuidList"]);return(n.uuidList||e.size)&&(t=t.setIn(["flags","needRelaList"],!0)),n.uuidList?t=t.setIn(["flags","uuidList"],n.uuidList):e.size&&(t=t.setIn(["flags","uuidList"],e)),t.setIn(["flags","currentSwitchUuid"],n.item.get("uuid"))}),s(e,a.TRANSFER_OUT_FROM_CXLS_JUMP_TO_ZJTX,function(){var e=t.getIn(["flags","uuidList"]);return(n.uuidList||e.size)&&(t=t.setIn(["flags","needRelaList"],!0)),n.uuidList?t=t.setIn(["flags","uuidList"],n.uuidList):e.size&&(t=t.setIn(["flags","uuidList"],e)),t.setIn(["flags","currentSwitchUuid"],n.item.get("uuid"))}),s(e,a.TRANSFER_OUT_FROM_CXLS_JUMP_TO_ZJTX,function(){var e=t.getIn(["flags","uuidList"]);return(n.uuidList||e.size)&&(t=t.setIn(["flags","needRelaList"],!0)),n.uuidList?t=t.setIn(["flags","uuidList"],n.uuidList):e.size&&(t=t.setIn(["flags","uuidList"],e)),t.setIn(["flags","currentSwitchUuid"],n.item.get("uuid"))}),s(e,a.SELECT_RUNNING_AC_INFO,function(){return t=t.setIn(["cardTemp",n.idPlace],n.acid).setIn(["cardTemp",n.namePlace],n.acFullName).setIn(["cardTemp",n.assPlace],(0,r.fromJS)([]))}),s(e,a.SELECT_ACCOUNT_ASS,function(){var e=n.assCategory,a=t.getIn(["cardTemp",n.place]),l=a.findIndex(function(t){return t.get("assCategory")===e});return t=-1===l?t.updateIn(["cardTemp",n.place],function(t){return t.set(t.size,(0,r.fromJS)({assId:n.assId,assName:n.assName,assCategory:e}))}):t.updateIn(["cardTemp",n.place],function(e){return e.setIn([l,"assId"],n.assId).setIn([l,"assName"],n.assName)})}),s(e,a.CHANGE_LR_ACCOUNT_COMMON_STRING,function(){return n.placeArr&&(t=t.setIn(n.placeArr,n.value)),n.place&&(t=t.set(n.place,n.value)),t}),s(e,a.GET_RUNNING_ACCOUNT_INFO,function(){switch(n.wordType){case"VAT":t=t.setIn(["cardTemp","paymentList"],(0,r.fromJS)(n.receivedData.resultList));break;case"socialSecurity":t=t.setIn(["cardTemp","socialSecurityAmount"],n.receivedData.socialSecurityAmount);break;case"fund":t=t.setIn(["cardTemp","accumulationAmount"],n.receivedData.accumulationAmount);break;case"sfAmount":t=t.setIn(["cardTemp","sfAmount"],n.receivedData.amount);break;case"other":t=t.setIn(["cardTemp","paymentList"],(0,r.fromJS)(n.receivedData.resultList));case"accruedZZS":t=t.setIn(["cardTemp","preAmount"],n.receivedData.amount);break;default:t=t.setIn(["cardTemp","payableAmount"],n.receivedData.amount).setIn(["cardTemp","preAmount"],n.receivedData.preAmount)}return t}),s(e,a.CHANGE_LR_ACCOUNT_ACCOUNT_NAME,function(){var e=n.value.split(u.TREE_JOIN_STR);return t=t.setIn([n.tab+"Temp",n.placeUUid],e[0]).setIn([n.tab+"Temp",n.placeName],e[1])}),s(e,a.CHANGE_ACCOUNT_BILL_TYPE,function(){var e=t.getIn(["cardTemp","taxRate"]);return e&&(t=t.setIn(["cardTemp","tax"],(Number(e)*Number(n.value)/100).toFixed(2))),t=t.setIn(["cardTemp","amount"],n.value)}),s(e,a.AUTO_CALCULATE_BILL_INFO,function(){var e=n.strJudgeType;return function(e,t){var n=t.getIn(["cardTemp","priceTaxTotal"]),a=Number(t.getIn(["cardTemp","taxRate"]))/100,r=t.getIn(["cardTemp","tax"]);"priceTaxTotal"==e?r=Number(n)-Number(n)/(1+a):"taxRate"==e&&(r=""==n?"":Number(n)-Number(n)/(1+a));return t=t.setIn(["cardTemp","tax"],Number(r).toFixed(2))}(e,t)}),s(e,a.CHANGE_ACCOUNT_TAX_RATE,function(){var e=t.getIn(["cardTemp","amount"]);n.value&&(t=t.setIn(["cardTemp","taxRate"],n.value));var a=t.getIn(["cardTemp","taxRate"]);return e&&(t=100==a?t.setIn(["cardTemp","tax"],e):t.setIn(["cardTemp","tax"],(Number(e)/(1+Number(a)/100)*Number(a)/100).toFixed(2))),t}),s(e,a.CHANGE_ACCOUNT_FZHS_MODAL_DISPLAY,function(){return t.updateIn(["flags","accountAssModalShow"],function(e){return!e})}),s(e,a.CHANGE_ACCOUNT_ASS_CATEGORY,function(){return t.setIn(["ass","asscategory"],n.assCategory)}),s(e,a.CHANGE_ACCOUNT_FZHS_MODAL_CLEAR,function(){return t.set("ass",o.get("ass")).updateIn(["flags","accountAssModalShow"],function(e){return!e})}),s(e,a.CHANGE_ACCOUNT_ASSID,function(){return t.setIn(["ass","assid"],n.value)}),s(e,a.CHANGE_ACCOUNT_ASSNAME,function(){return t.setIn(["ass","assname"],n.value)}),s(e,a.CHANGE_ACCOUNT_SALARY,function(){return t=t.setIn(["cardTemp","acPayment",n.place],n.value),n.checkplace&&(t=t.setIn(["flags",n.checkplace],n.checked)),t}),s(e,a.CALCULATE_AMOUNT,function(){var e=t.getIn(["cardTemp","acPayment","companyAccumulationAmount"]),n=t.getIn(["cardTemp","acPayment","personAccumulationAmount"]),a=t.getIn(["cardTemp","acPayment","companySocialSecurityAmount"]),r=t.getIn(["cardTemp","acPayment","personSocialSecurityAmount"]),l=t.getIn(["cardTemp","acPayment","incomeTaxAmount"]),u=t.getIn(["cardTemp","amount"]),i=(t.getIn(["cardTemp","categoryType"]),t.getIn(["cardTemp","propertyPay"])),c=void 0;switch(i){case"SX_GZXJ":c=(Number(u)-Number(n)-Number(r)-Number(l)).toFixed(2);break;case"SX_ZFGJJ":c=(Number(n)+Number(e)).toFixed(2);break;case"SX_SHBX":c=(Number(a)+Number(r)).toFixed(2);break;default:c=0}return t=t.setIn(["cardTemp","acPayment","actualAmount"],c)}),s(e,a.UPDATE_ACCOUNT_LIST,function(){var e=void 0;if(n.empty)return t.setIn([].concat(c(n.placeArr)),(0,r.fromJS)([]));var a=t.getIn(n.placeArr).toJS().some(function(t,a){if(t.assCategory===n.value.assCategory)return e=a,!0});return t=a?t.setIn([].concat(c(n.placeArr),[e]),(0,r.fromJS)(n.value)):t.updateIn(n.placeArr,function(e){return e.push((0,r.fromJS)(n.value))})}),s(e,a.CALCULATE_GAIN_OR_LOSS,function(){var e=n.place,a=n.diff,r=n.deletePlace;return t.setIn(e,a).deleteIn(r,a)}),s(e,a.INIT_PAYMENT_STATE,function(){var e=t.getIn(["flags","uuidList"]);if(t=t.set("calculateTemp",n.item).setIn(["flags","PageTab"],"payment").mergeIn(["calculateTemp"],(0,r.fromJS)(n.result)).setIn(["flags","selectList"],(0,r.fromJS)([])).setIn(["flags","indexList"],(0,r.fromJS)([])).setIn(["flags","paymentType"],"LB_SFGL").setIn(["calculateTemp","ass"],n.assName).setIn(["flags","modify"],!1).setIn(["flags","paymentInsertOrModify"],"modify").setIn(["calculateTemp","runningAbstract2"],n.item.get("runningAbstract")).setIn(["calculateTemp","runningDate2"],n.item.get("runningDate")).setIn(["flags","currentSwitchUuid"],n.item.get("uuid")).setIn(["flags","isQuery"],!0).set("enclosureList",(0,r.fromJS)(n.result.enclosureList)),"state_ts"===n.stateType&&(t=t.updateIn(["calculateTemp","handleAmount"],function(e){return-Math.abs(e)}).updateIn(["calculateTemp","notHandleAmount"],function(e){return-Math.abs(e)})),(n.uuidList||e.size)&&(t=t.setIn(["flags","needRelaList"],!0)),n.uuidList?t=t.setIn(["flags","uuidList"],n.uuidList):e.size&&(t=t.setIn(["flags","uuidList"],e)),n.fromCxls&&n.result.detail&&n.result.detail.length){var a=[],l=[];n.result.detail.map(function(e,t){a.push(e.uuid),l.push(t)}),t=t.setIn(["flags","selectList"],(0,r.fromJS)(a)).setIn(["flags","indexList"],(0,r.fromJS)(l))}return t}),s(e,a.GET_PAYMENT_PERIOD,function(){return(t=t.setIn(["calculateTemp","detail"],(0,r.fromJS)(n.receivedData)).setIn(["flags","isQuery"],!1)).setIn(["flags","selectList"],(0,r.fromJS)([])).setIn(["flags","indexList"],(0,r.fromJS)([])).setIn(["flags","totalAmount"],0)}),s(e,a.LRACCOUNT_ITEM_CHECKBOX_CHECK_ALL,function(){if(n.selectAll)return t.setIn(["flags","selectList"],(0,r.fromJS)([])).setIn(["flags","indexList"],(0,r.fromJS)([]));var e=n.list,a=[],l=[];return e&&e.size&&e.forEach(function(e,t){a.push(e.get("uuid")),l.push(t)}),t.setIn(["flags","selectList"],(0,r.fromJS)(a)).setIn(["flags","indexList"],(0,r.fromJS)(l))}),s(e,a.LRACCOUNT_ITEM_CHECKBOX_CHECK,function(){var e=t.getIn(["flags","selectList"]),a=t.getIn(["flags","indexList"]);if(n.checked){var r=e.splice(e.findIndex(function(e){return e===n.uuid}),1),l=a.splice(a.findIndex(function(e){return e===n.index}),1);return t.setIn(["flags","selectList"],r).setIn(["flags","indexList"],l)}var u=e.push(n.uuid),i=a.push(n.index);return t.setIn(["flags","selectList"],u).setIn(["flags","indexList"],i)}),s(e,a.INIT_LR_ACCOUNT_PAYMENT,function(){if(n.saveAndNew){var e=t.getIn(["calculateTemp","runningDate"]);t=t.set("calculateTemp",o.get("calculateTemp")).setIn(["calculateTemp","runningDate"],e).setIn(["flags","isQuery"],!1).setIn(["flags","modify"],!1).setIn(["flags","paymentInsertOrModify"],"insert").setIn(["flags","indexList"],(0,r.fromJS)([])).setIn(["flags","selectList"],(0,r.fromJS)([])).setIn(["flags","totalAmount"],0).setIn(["flags","accountType"],"notSingle").set("enclosureList",(0,r.fromJS)([])).set("label",(0,r.fromJS)([])).set("needDeleteUrl",(0,r.fromJS)([]))}else"insert"===n.paymentInsertOrModify&&(t=t.setIn(["calculateTemp","uuid"],n.currentUuid)),t=t.setIn(["flags","isQuery"],!0).setIn(["flags","modify"],!1).setIn(["flags","paymentInsertOrModify"],"modify");return t}),s(e,a.AFTER_SAVE_ACCOUNT_PAYMENT,function(){var e=n.result.enclosureList?n.result.enclosureList:[];return t.set("calculateTemp",(0,r.fromJS)(n.result)).setIn(["flags","accountType"],"notSingle").set("enclosureList",(0,r.fromJS)(e)).setIn(["flags","isQuery"],!0).setIn(["flags","modify"],!1).setIn(["calculateTemp","uuid"],n.currentUuid).setIn(["flags","paymentInsertOrModify"],"modify")}),s(e,a.LRACCOUNT_ITEM_SEARCH_CARD_LIST,function(){if(n.isSearch){var e=n.list.map(function(e){var t=e.string.split(u.TREE_JOIN_STR)[0],n=e.string.split(u.TREE_JOIN_STR)[1],a=e.uuid;return(0,r.fromJS)({code:t,name:n,uuid:a})});return t.setIn(["flags","selectThingsList"],(0,r.fromJS)(e))}return t.setIn(["flags","selectThingsList"],(0,r.fromJS)(n.list))}),s(e,a.ACCOUNT_IUMANAGE_LIST_TITLE,function(){return t.set("tags",(0,r.fromJS)(n.data))}),s(e,a.CHANGE_ACCOUNT_MANAGE_CARD_RELATION,function(){var e=t.get("tags"),a="";if(e.find(function(t,l){t.get("uuid")===n.tag.get("uuid")&&(e=e.setIn([l,"checked"],n.checked),t.get("selectUuid")&&(a=t.get("selectUuid")),n.checked&&(e=e.setIn([l,"tree"],(0,r.fromJS)(n.tree)),0===n.tree[0].childList.length&&(e=e.setIn([l,"selectUuid"],n.tree[0].uuid).setIn([l,"selectName"],n.tree[0].name),a=n.tree[0].uuid)))}),n.checked)t=t.setIn(["iuManageTypeCard","categoryTypeList"],t.getIn(["iuManageTypeCard","categoryTypeList"]).push((0,r.fromJS)({ctgyUuid:n.tag.get("uuid"),subordinateUuid:a})));else{var l=t.getIn(["iuManageTypeCard","categoryTypeList"]).findIndex(function(e,t){return e.get("ctgyUuid")===n.tag.get("uuid")});t=t.setIn(["iuManageTypeCard","categoryTypeList"],t.getIn(["iuManageTypeCard","categoryTypeList"]).delete(l))}return t=t.set("tags",e)}),s(e,a.ACCOUNT_SAVE_IUMANAGE_TYPE_CARD,function(){if("insertAndNew"===n.flag)t=t.setIn(["iuManageTypeCard","code"],n.code).setIn(["iuManageTypeCard","name"],"");else{var e=o.get("iuManageTypeCard");t=t.set("iuManageTypeCard",e)}return t}),s(e,a.ACCOUNT_CHANGE_IUMANAGE_CARD_AC,function(){return t=t.setIn([n.place,n.acId],n.uuid).setIn([n.place,n.acName],n.name)}),s(e,a.CHANGE_ACCOUNT_CARD_RELATION_TYPE,function(){return t.getIn(["iuManageTypeCard","categoryTypeList"]).find(function(e,a){e.get("ctgyUuid")===n.tag.get("uuid")&&(t=t.setIn(["iuManageTypeCard","categoryTypeList",a,"subordinateUuid"],n.uuid))}),t.get("tags").find(function(e,a){e.get("uuid")===n.tag.get("uuid")&&(t=t.set("tags",t.get("tags").setIn([a,"selectUuid"],n.uuid).setIn([a,"selectName"],n.name)))}),t}),s(e,a.ACCOUNT_CHANGE_INVENTORY_CARD_NATURE,function(){return t=t.setIn(["inventorySettingCard",n.name],n.value)}),s(e,a.ACCOUNT_CHANGE_INVENTORY_CARD_CATEGORY_STATUS,function(){var e="";if(t.get("tagsStock").find(function(a,l){if(a.get("uuid")===n.item.get("uuid"))return t=t.setIn(["tagsStock",l,"checked"],n.value).setIn(["tagsStock",l,"tree"],(0,r.fromJS)(n.list)),a.get("selectUuid")&&(e=a.get("selectUuid")),void(n.value&&0===n.list[0].childList.length&&(t=t.setIn(["tagsStock",l,"selectUuid"],n.list[0].uuid).setIn(["tagsStock",l,"selectName"],n.list[0].name),e=n.list[0].uuid))}),n.value){var a=(0,r.fromJS)({ctgyUuid:n.item.get("uuid"),subordinateUuid:e}),l=t.getIn(["inventorySettingCard","categoryTypeList"]).push(a);t=t.setIn(["inventorySettingCard","categoryTypeList"],l)}else{var u=t.getIn(["inventorySettingCard","categoryTypeList"]).findIndex(function(e,t){return e.get("ctgyUuid")===n.item.get("uuid")}),i=t.getIn(["inventorySettingCard","categoryTypeList"]).delete(u);t=t.setIn(["inventorySettingCard","categoryTypeList"],i)}return t}),s(e,a.ACCOUNT_CHANGE_INVENTORY_CARD_CATEGORY_TYPE,function(){return t.get("tagsStock").map(function(e,a){e.get("uuid")!==n.item.get("uuid")||(t=t.setIn(["tagsStock",a,"selectUuid"],n.uuid).setIn(["tagsStock",a,"selectName"],n.name))}),t.getIn(["inventorySettingCard","categoryTypeList"]).map(function(e,a){e.get("ctgyUuid")===n.item.get("uuid")&&(t=t.setIn(["inventorySettingCard","categoryTypeList",a,"subordinateUuid"],n.uuid))}),t}),s(e,a.ACCOUNT_SAVE_INVENTORY_SETTING_CARD,function(){return t=t.set("cardList",(0,r.fromJS)(n.list)),t="insertAndNew"===n.flag?t.setIn(["inventorySettingCard","name"],"").setIn(["inventorySettingCard","code"],n.autoIncrementCode):t.set("tagsStock",t.get("originTags"))}),s(e,a.ACCOUNT_INVENTORY_SETTING_INIT,function(){return n.title.unshift({name:t.get("anotherTabName"),uuid:""}),t=t.set("tagsStock",(0,r.fromJS)(n.title)).set("originTags",(0,r.fromJS)(n.title)).set("cardList",(0,r.fromJS)(n.cardList))}),s(e,a.INIT_RELA_CARD,function(){var e=o.get("iuManageTypeCard"),a=(t.getIn(["cardTemp","propertyCost"]),t.getIn(["cardTemp","assetType"]));return t.get("tags").map(function(e,n){t=t.setIn(["tags",n,"checked"],!1)}),t=t.set("iuManageTypeCard",e).setIn(["iuManageTypeCard","advanceAcId"],n.data.defaultAc.advanceAcId).setIn(["iuManageTypeCard","advanceAcName"],n.data.defaultAc.advanceAcName).setIn(["iuManageTypeCard","receivableAcId"],n.data.defaultAc.receivableAcId).setIn(["iuManageTypeCard","receivableAcName"],n.data.defaultAc.receivableAcName).setIn(["iuManageTypeCard","payableAcId"],n.data.defaultAc.payableAcId).setIn(["iuManageTypeCard","payableAcName"],n.data.defaultAc.payableAcName).setIn(["iuManageTypeCard","prepaidAcId"],n.data.defaultAc.prepaidAcId).setIn(["iuManageTypeCard","prepaidAcName"],n.data.defaultAc.prepaidAcName).setIn(["iuManageTypeCard","code"],n.data.code),t="XZ_CZZC"===a?t.setIn(["iuManageTypeCard","isPayUnit"],!1).setIn(["iuManageTypeCard","isReceiveUnit"],!0):"XZ_GJZC"===a?t.setIn(["iuManageTypeCard","isPayUnit"],!0).setIn(["iuManageTypeCard","isReceiveUnit"],!1):"debit"===n.direction?t.setIn(["iuManageTypeCard","isPayUnit"],!1).setIn(["iuManageTypeCard","isReceiveUnit"],!0):t.setIn(["iuManageTypeCard","isPayUnit"],!0).setIn(["iuManageTypeCard","isReceiveUnit"],!1)}),s(e,a.INIT_STOCK_CARD,function(){var e=o.get("inventorySettingCard");return t.get("tagsStock").map(function(e,n){t=t.setIn(["tagsStock",n,"checked"],!1)}),t=t.set("inventorySettingCard",e).setIn(["inventorySettingCard","inventoryAcId"],n.data.defaultAc.inventoryAcId).setIn(["inventorySettingCard","inventoryAcName"],n.data.defaultAc.inventoryAcName).setIn(["inventorySettingCard","code"],n.data.code),t="debit"===n.direction?t.setIn(["inventorySettingCard","isAppliedPurchase"],!1).setIn(["inventorySettingCard","isAppliedSale"],!0):t.setIn(["inventorySettingCard","isAppliedPurchase"],!0).setIn(["inventorySettingCard","isAppliedSale"],!1)}),s(e,a.CLOSE_ACCOUNTCONF_MODAL_LR,function(){return t.setIn(["flags","showAccountModal"],!1)}),s(e,a.CHARGE_ITEM_CHECKBOX_SELECT,function(){var e=t.getIn(["flags","selectList"]),a=t.getIn(["flags","selectItem"]);if(n.checked){var l=e.splice(e.findIndex(function(e){return e===n.uuid}),1),u=a.splice(e.findIndex(function(e){return e.uuid===n.uuid}),1);return t.setIn(["flags","selectList"],l).setIn(["flags","selectItem"],(0,r.fromJS)(u))}var i=e.push(n.uuid),c=a.push((0,r.fromJS)({uuid:n.uuid,name:n.name,code:n.code}));return t.setIn(["flags","selectList"],i).setIn(["flags","selectItem"],(0,r.fromJS)(c))}),s(e,a.INIT_COMMON_CHARGE,function(){var e=o.getIn(["flags","paymentInsertOrModify"]);if(n.saveAndNew){o.get("flags");var a=t.getIn(["commonChargeTemp","runningDate"]),l=o.get("commonChargeTemp");return t.set("commonChargeTemp",l).setIn(["commonChargeTemp","runningDate"],a).setIn(["flags","isQuery"],!1).setIn(["flags","modify"],!1).setIn(["flags","paymentInsertOrModify"],"insert").setIn(["flags","indexList"],(0,r.fromJS)([])).setIn(["flags","selectList"],(0,r.fromJS)([])).set("enclosureList",(0,r.fromJS)([])).set("label",(0,r.fromJS)([])).set("needDeleteUrl",(0,r.fromJS)([]))}return"insert"===e&&(t=t.setIn(["commonChargeTemp","uuid"],n.uuid).setIn(["commonChargeTemp","flowNumber"],n.flowNumber)),t.setIn(["flags","paymentInsertOrModify"],"modify").setIn(["flags","modify"],!0)}),s(e,a.INIT_COMMON_CHARGE_FROM_CXLS,function(){var e=t.getIn(["flags","uuidList"]);(n.uuidList||e.size)&&(t=t.setIn(["flags","needRelaList"],!0)),n.uuidList?t=t.setIn(["flags","uuidList"],n.uuidList):n.uuidList.size&&(t=t.setIn(["flags","uuidList"],n.uuidList));var a=n.data.enclosureList?n.data.enclosureList:[];return t.set("commonChargeTemp",(0,r.fromJS)(n.data)).set("enclosureList",(0,r.fromJS)(a)).setIn(["flags","PageTab"],"payment").setIn(["flags","paymentType"],"LB_GGFYFT").setIn(["flags","modify"],!0).setIn(["flags","paymentInsertOrModify"],"modify").setIn(["flags","currentSwitchUuid"],n.uuid)}),s(e,a.CHANGE_RUNNING_ENCLOSURE_LIST,function(){var e=[];return t.get("enclosureList").map(function(t){e.push(t)}),n.imgArr.forEach(function(t){e.push(t)}),t=t.set("enclosureList",(0,r.fromJS)(e)).set("enclosureCountUser",e.length)}),s(e,a.DELETE_UPLOAD_FJ_URL,function(){var e=[];return t.get("needDeleteUrl").map(function(t){e.push(t)}),t.get("enclosureList").map(function(a,r){r==n.index&&(e.push(t.getIn(["enclosureList",r]).set("beDelete",!0)),t=t.deleteIn(["enclosureList",r]))}),t=t.set("needDeleteUrl",(0,r.fromJS)(e)).set("enclosureCountUser",t.get("enclosureList").size)}),s(e,a.GET_LS_LABEL_FETCH,function(){return t=t.set("label",(0,r.fromJS)(n.receivedData.data)).set("tagModal",!0)}),s(e,a.CHANGE_LS_TAG_NAME,function(){return t.get("enclosureList").map(function(e,a){a==n.index&&(t=t.setIn(["enclosureList",a,"label"],n.value))}),t=t.set("tagModal",!1)}),s(e,a.AFTER_INSERT_JZSY,function(){var e=o.getIn(["flags","paymentInsertOrModify"]),a=o.get("CqzcTemp"),l=t.getIn(["CqzcTemp","detail","runningDate"]);return n.saveAndNew?t.set("CqzcTemp",a).setIn(["CqzcTemp","detail","runningDate"],l).setIn(["flags","isQuery"],!1).setIn(["flags","modify"],!1).setIn(["flags","paymentInsertOrModify"],"insert").set("enclosureList",(0,r.fromJS)([])).set("label",(0,r.fromJS)([])).set("needDeleteUrl",(0,r.fromJS)([])):("insert"===e&&(t=t.setIn(["CqzcTemp","detail","uuid"],n.uuid).setIn(["CqzcTemp","detail","flowNumber"],n.flowNumber)),t.setIn(["flags","paymentInsertOrModify"],"modify").setIn(["flags","modify"],!0))}),s(e,a.INIT_JZSY_FROM_CXLS,function(){var e=t.getIn(["flags","uuidList"]);return(n.uuidList||e.size)&&(t=t.setIn(["flags","needRelaList"],!0)),n.uuidList?t=t.setIn(["flags","uuidList"],n.uuidList):e.size&&(t=t.setIn(["flags","uuidList"],e)),t.setIn(["CqzcTemp","detail"],(0,r.fromJS)(n.data)).setIn(["flags","PageTab"],"payment").setIn(["flags","paymentType"],"LB_JZSY").setIn(["flags","modify"],!0).setIn(["flags","paymentInsertOrModify"],"modify").setIn(["flags","currentSwitchUuid"],n.uuid).set("enclosureList",(0,r.fromJS)(n.data.enclosureList))}),e)[n.type]||function(){return t})()};var a=i(n(1313)),r=n(18),l=n(22),u=i(n(27));function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function c(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=(0,r.fromJS)({flags:{issuedate:"",main:"duty",insertOrModify:"insert",runningInsertOrModify:"insert",paymentInsertOrModify:"insert",payOrReceive:"收",accountAssModalShow:!1,curCategory:"全部",curAccountUuid:"全部",assId:"",assCategory:"",acId:"",selectList:[],showRunningInfo:{},PageTab:"business",paymentType:"",paymentUuid:"",isQuery:!1,isQueryByBusiness:!1,modify:!1,indexList:[],personAccumulationAmountchecked:!0,personSocialSecurityAmountchecked:!0,incomeTaxAmountchecked:!0,pzFailedButtonShow:!1,specialStateforAccrued:!1,specialStateforAssets:!1,showContactsModal:!1,MemberList:[],thingsList:[],selectThingsList:[],managerCategoryList:[],amount:0,showAccountModal:!1,stockThingsList:[],contactsThingsList:[],needRelaList:!1,uuidList:[],costStockList:[],selectItem:[],totalAmount:0},iuManageTypeCard:{isPayUnit:!0,isReceiveUnit:!0,insertOrModify:"insert",categoryTypeList:[],receivableOpened:"0",advanceOpened:"0",payableOpened:"0",prepaidOpened:"0",name:"",code:"",companyAddress:"",companyTel:"",financeName:"",financeTel:"",remark:"",contacterInfo:!1,enableAdvanceAc:!0,enablePrepaidAc:!0},inventorySettingCard:{isAppliedPurchase:!0,isAppliedSale:!0,insertOrModify:"insert",categoryTypeList:[],receivableOpened:"0",advanceOpened:"0",payableOpened:"0",prepaidOpened:"0",name:"",code:"",isOpenedQuantity:!1},tags:[],tagsStock:[],calculateTemp:{paymentList:[],detail:[],runningIndex:0,usedCard:{code:"",name:""},runningDate:(0,l.formatDate)(),runningAbstract:"核销账款",contactsCardRange:{name:"",code:""},stockCardList:{name:"",code:""}},commonChargeTemp:{runningDate:(0,l.formatDate)().slice(0,10),projectCard:[],paymentList:[],runningAbstract:"公共费用分摊"},CqzcTemp:{projectRange:[],assetsCategory:[{childList:[]}],projectList:[],detail:{acAssets:{depreciationAmount:"",originalAssetsAmount:""},projectCard:[{uuid:"",name:"",code:""}],runningDate:(0,l.formatDate)().slice(0,10),runningAbstract:"长期资产处置损益",businessList:[]}},issues:[],cardTemp:{paymentList:[],uuid:"",name:"",property:"",flowNumber:"",runningAbstract:"",acAvailable:!0,canDelete:!1,runningIndex:0,categoryType:"",propertyCost:"",beCarryover:!1,runningState:"",runningDate:(0,l.formatDate)(),billType:"",billStates:"",priceTaxTotal:"",taxRate:0,tax:"",amount:"",handleAmount:"",notHandleAmount:"",offsetAmount:"",childList:[],running:[],taxPayState:"",propertyCostList:[],accountName:"",accountUuid:"",beCertified:!1,carryoverAmount:"",propertyPay:"",propertyAssets:"",propertyCarryover:"",propertyTax:"",propertyInvest:"",billAcList:[],billAssList:[],queryObj:{amount:0,handleAmount:0,companyAccumulationAmount:0,personAccumulationAmount:0,companySocialSecurityAmount:0,personSocialSecurityAmount:0,incomeTaxAmount:0},acCost:{saleAc:[{categoryUuid:"",acId:"",acKey:"",type:"",acFullName:"",assCategoryList:[]}],saleList:[{assId:"",assName:"",assCategory:[]}],manageAc:[],manageList:[],financeAc:[],financeList:[],deliveryAc:[],deliveryList:[],beManagemented:!1},acBusinessIncome:{incomeAc:[],incomeList:[],receivablesAc:[],receivablesList:[],inAdvanceAc:[],inAdvanceList:[],stockAc:[],stockList:[],carryoverAc:[],carryoverList:[],beManagemented:!1,beDeposited:!1,beCarryover:!1,stockCardList:{uuid:""}},acBusinessExpense:{payAc:[],payList:[],deliveryAc:[],deliveryList:[],inAdvanceAc:[],inAdvanceList:[],beManagemented:!1,beDeposited:!1},acBusinessOutIncome:{relationAc:[],relationList:[],receivablesAc:[],receivablesList:[],beManagemented:!1},acBusinessOutExpense:{relationAc:[],relationList:[],deliveryAc:[],deliveryList:[],beManagemented:!1},acTemporaryReceipt:{relationAc:[],relationList:[]},acTemporaryPay:{relationAc:[],relationList:[]},acPayment:{saleAc:[],saleList:[],manageAc:[],manageList:[],accruedAc:[],accruedList:[],fundAc:[],fundList:[],socialSecurityAc:[],socialSecurityList:[],incomeTaxAc:[],incomeTaxList:[],welfareAc:[],welfareList:[],beAccrued:!1,beWithholding:!1,beWelfare:!1,actualAmount:0,companyAccumulationAmount:"",personAccumulationAmount:"",companySocialSecurityAmount:"",personSocialSecurityAmount:"",incomeTaxAmount:""},acTax:{accruedAc:[],accruedList:[],payAc:[],payList:[],turnOutAc:[],turnOutList:[],inAdvanceAc:[],inAdvanceList:[],beAccrued:!1,beTurnOut:!1,beInAdvance:!1},acLoan:{loanAc:[],loanList:[],interestAc:[],interestList:[],unpaidInterestAc:[],unpaidInterestList:[],beAccrued:!1},acInvest:s({investAc:[],investList:[],profitAc:[],profitList:[],uncollectedProfitAc:[],uncollectedProfitList:[],uncollectedInterestAc:[],beAccrued:!1},"uncollectedInterestAc",[]),acCapital:{capitalAc:[],capitalList:[],unassignedAc:[],unassignedList:[],assignedAc:[],assignedList:[],payableAc:[],payableList:[],beAccrued:!1},acAssets:{assetsAc:[],assetsList:[],incomeAc:[],incomeList:[],lossAc:[],lossList:[],depreciationAc:[],depreciationList:[],cleaningAc:[],cleaningList:[],upgradeAc:[],upgradeList:[],receivablesAc:[],receivablesList:[],payableAc:[],payableList:[],beManagemented:!1,beCleaning:!1,netProfitAmount:"",originalAssetsAmount:"",depreciationAmount:"",cleaningAmount:"",upgradingAmount:""}},enclosureList:[],previewImageList:[],needDeleteUrl:[],tagModal:!1,label:[]})},1316:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.changeAssCategoryModalVisible=t.changeAssCategoryName=t.changeReverseNewName=t.changeReverseOldName=t.changeMessageMask=t.changeCurrentPage=t.reversAssFetch=t.changeReversAssConfirmShow=t.changeReversAssId=t.selectReversAssCheck=t.clearReversAss=t.changeReversCategory=t.changeReversAssModal=t.changeAssDisableState=t.changeAMBRelateAssCategroyList=t.getAssrelateAMB=t.getAssGetAMB=t.closeAssImportContent=t.afterAssImport=t.beforeAssImport=t.getFileUploadFetch=t.changeAssCategory=t.changeAssName=t.changeAssId=t.selectAssItem=t.selectAssAll=t.changeAcInAssTabKey=t.deleteAcInAssItem=t.modifyAclistInAssItem=t.changeAclistModalDisplay=t.changeFzModalDisplay=t.changeActiveAssCategory=void 0;var a,r=o(n(1416)),l=n(31),u=(a=l)&&a.__esModule?a:{default:a},i=n(22),c=o(n(30)),s=o(n(43));function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var d=t.changeActiveAssCategory=function(e,t){return{type:r.CHANGE_ACTIVE_ASS_CATEGORY,category:e,asslist:t}},f=(t.changeFzModalDisplay=function(e){return{type:r.CHANGE_FZ_MODAL_DISPLAY,ass:e}},t.changeAclistModalDisplay=function(e){return{type:r.CHANGE_ACLIST_MODAL_DISPLAY,aclist:e}},t.modifyAclistInAssItem=function(e,t){return{type:r.MODIFY_ACLIST_IN_ASS_ITEM,idx:e,aclist:t}},t.deleteAcInAssItem=function(e){return{type:r.DELETE_AC_IN_ASS_ITEM,acid:e}},t.changeAcInAssTabKey=function(e){return{type:r.CHANGE_AC_IN_ASS_TAB_KEY,key:e}},t.selectAssAll=function(){return{type:r.SELECT_ASS_ALL}},t.selectAssItem=function(e){return{type:r.SELECT_ASS_ITEM,assid:e}},t.changeAssId=function(e){return{type:r.CHANGE_ASS_ID,assid:e}},t.changeAssName=function(e){return{type:r.CHANGE_ASS_NAME,assname:e}},t.changeAssCategory=function(e){return{type:r.CHANGE_ASS_CATEGORY,asscategory:e}},t.getFileUploadFetch=function(e,t){return function(n,a){n({type:r.SWITCH_LOADING_MASK}),(0,u.default)("assImport","UPLOAD",e,function(e){if((0,i.showMessage)(e)){n(f(e)),t(),n({type:r.SWITCH_LOADING_MASK});!function e(t){var l=setTimeout(function(){var c=a().fzhsState.get("assshowMessageMask");(0,u.default)("acImportProgress","GET","accessToken="+t,function(a){(0,i.showMessage)(a)&&(n({type:r.GET_ASS_IMPORT_PROGRESS,receivedData:a}),a.data.progress>=100&&a.data.successList.length>0&&n(s.getAssListFetch()),c&&a.data.progress<100&&e(t))}),clearTimeout(l)},500)}(e.data.accessToken)}else n({type:r.SWITCH_LOADING_MASK})})}},t.beforeAssImport=function(){return{type:r.BEFORE_ASS_IMPORT}},t.afterAssImport=function(e){return function(t){t({type:r.AFTER_ASS_IMPORT,receivedData:e})}});t.closeAssImportContent=function(){return{type:r.CLOSE_ASS_IMPORT_CONTENT}},t.getAssGetAMB=function(){return function(e){(0,u.default)("assgetAMB","GET","",function(t){(0,i.showMessage)(t)&&e({type:r.AFTER_ASSGETAMB_GET,receivedData:t.data})})}},t.getAssrelateAMB=function(e,t){return function(n){c.Confirm({message:"确定开通辅助核算类别["+e.get(0)+"]为默认阿米巴？",title:"提示",buttonLabels:["取消","确定"],onSuccess:function(n){1===n.buttonIndex&&(0,u.default)("assrelateAMB","POST",JSON.stringify({assCategoryList:e}),function(e){(0,i.showMessage)(e,"show")&&t()})},onFail:function(e){return alert(e)}})}},t.changeAMBRelateAssCategroyList=function(e){return{type:r.CHANGE_AMB_RELATE_ASSCATEGROY_LIST,assCategory:e}},t.changeAssDisableState=function(e){return{type:r.CHANGE_ASS_DISABLE_STATE,value:e}},t.changeReversAssModal=function(e){return{type:r.CHANGE_REVERS_ASS_MODAL,bool:e}},t.changeReversCategory=function(e){return{type:r.CHANGE_REVERS_CATEGORY,category:e}},t.clearReversAss=function(){return{type:r.CLEAR_REVERS_ASS}},t.selectReversAssCheck=function(e,t,n){return function(a){(0,u.default)("assCheck","POST",JSON.stringify({assCategory:e,assId:t,assName:n}),function(e){if((0,i.showMessage)(e)){if(!e.data.message.length)return c.Alert(t+"不需要使用反悔模式");a({type:r.SELECT_REVERS_ASS_CHECK,assId:t,assName:n,assMessage:e.data.message})}})}},t.changeReversAssId=function(e){return{type:r.CHANGE_REVERS_ASS_ID,newAssId:e}},t.changeReversAssConfirmShow=function(e){return{type:r.CHANGE_REVERSASS_CONFIRM_SHOW,bool:e}},t.reversAssFetch=function(e){return function(t){(0,u.default)("assRegret","POST",JSON.stringify({assCategory:e.get("assCategory"),oldAssId:e.get("oldAssId"),assId:e.get("assId"),assName:e.get("assName")}),function(e){(0,i.showMessage)(e)&&t({type:r.REVERS_ASS_FETCH})})}},t.changeCurrentPage=function(e,t){return function(n){n({type:r.CHANGE_CURRENT_PAGE_FZHE,assList:e,value:t})}},t.changeMessageMask=function(){return{type:r.CHANGE_ASS_MESSAGEMASK}},t.changeReverseOldName=function(e){return function(t){t({type:r.CHANGE_REVERSE_OLD_NAME,value:e})}},t.changeReverseNewName=function(e){return function(t){t({type:r.CHANGE_REVERSE_NEW_NAME,value:e})}},t.changeAssCategoryName=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"false";return function(l,c){(0,u.default)("changeAssCategoryName","POST",JSON.stringify({oldName:e,newName:t,confirmModifyAnyWay:a}),function(e){(0,i.showMessage)(e)&&(e.data.countMoreThenRestrict?l({type:r.CHANGE_ASS_CATEGORY_MODAL_VISIBLE,visible:!0}):(l({type:r.CHANGE_ASS_CATEGORY_MODAL_VISIBLE,visible:!1}),l({type:r.REVERS_ASS_FETCH}),l(s.getAcListFetch()),l(s.getAssListFetch()),l({type:r.CHANGE_REVERSE_NEW_NAME,value:""}),l({type:r.CHANGE_REVERSE_OLD_NAME,value:""}),l(d(t,n))))})}},t.changeAssCategoryModalVisible=function(e){return function(t){t({type:r.CHANGE_ASS_CATEGORY_MODAL_VISIBLE,visible:e})}}},1330:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Other=t.JkTzZb=t.Zszf=t.Yywsz=t.Cqzc=t.Sfzc=t.Xczc=t.Fyzc=t.Yysz=void 0;var a,r=f(n(1272)),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(1271);var u=f(n(1)),i=n(17),c=n(22),s=n(482),o=f(n(1292)),d=f(n(1293));function f(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _=r.default.Panel;t.Yysz=(0,i.immutableRenderDecorator)(a=function(e){function t(){return m(this,t),g(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,u.default.Component),l(t,[{key:"render",value:function(){var e=this.props,t=e.lsItemData,n=e.activeKey,a=e.onChangeActiveKey,r=s.categoryTypeAll[t.get("categoryType")],l=t.getIn([r,"beManagemented"]),i=t.getIn([r,"stockCardList"]),f=t.get("runningState"),m=t.get("accountName"),g=t.get("usedProject"),p=t.get("projectCard"),_=t.get("amount"),C=t.get("propertyCarryover");return u.default.createElement("div",null,u.default.createElement("ul",{className:"ylls-item-detail"},u.default.createElement("li",null,u.default.createElement("span",null,"摘要："),u.default.createElement("span",null,t.get("runningAbstract"))),l?u.default.createElement("li",null,u.default.createElement("span",null,"往来单位："),u.default.createElement("span",null,t.getIn(["usedCard","code"])+"_"+t.getIn(["usedCard","name"]))):"",g&&p&&p.size?p.map(function(e){return u.default.createElement("div",{key:e.get("uuid")},u.default.createElement("li",null,u.default.createElement("span",null,"项目："),u.default.createElement("span",null,("COMNCRD"!==e.get("code")?e.get("code")+"_":"")+e.get("name"))),p.size>1?u.default.createElement("li",{key:e.get("uuid")},u.default.createElement("span",null,"金额："),u.default.createElement("span",null,(0,c.formatMoney)(e.get("amount"),2,""))):"")}):"","SX_HW"===C&&"STATE_YYSR_DJ"!==f&&"STATE_YYZC_DJ"!==f&&i&&i.size?i.map(function(e){return u.default.createElement("div",{key:e.get("uuid")},u.default.createElement("li",null,u.default.createElement("span",null,"存货："),u.default.createElement("span",null,e.get("code")+"_"+e.get("name"))),i.size>1?u.default.createElement("li",{key:e.get("uuid")},u.default.createElement("span",null,"金额："),u.default.createElement("span",null,(0,c.formatMoney)(e.get("amount"),2,""))):"")}):"",u.default.createElement("li",null,u.default.createElement("span",null,p&&p.size>1||i&&i.size>1?"总":"","金额："),u.default.createElement("span",null,(0,c.formatMoney)(t.get("amount"),2,""))),m&&(l&&Number(_)===Number(t.get("currentAmount"))||!l||"STATE_YYSR_DJ"===f||"STATE_YYZC_DJ"===f)?u.default.createElement("li",null,u.default.createElement("span",null,"账户："),u.default.createElement("span",null,t.get("accountName"))):"","STATE_YYSR_DJ"!==f&&"STATE_YYZC_DJ"!==f?u.default.createElement(o.default,{itemData:t}):""),l?u.default.createElement(d.default,{title:"核销情况",lsItemData:t,activeKey:n,onChangeActiveKey:a,itemList:t.get("paymentList")}):"")}}]),t}())||a,t.Fyzc=function(e){function t(){return m(this,t),g(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,u.default.Component),l(t,[{key:"render",value:function(){var e=this.props,t=e.lsItemData,n=e.activeKey,a=e.onChangeActiveKey,r=s.categoryTypeAll[t.get("categoryType")],l=t.getIn([r,"beManagemented"]),i=t.get("usedProject"),f=t.get("projectCard"),m=t.get("accountName"),g=t.get("runningState");return u.default.createElement("div",null,u.default.createElement("ul",{className:"ylls-item-detail"},"STATE_FY_DJ"!==g?u.default.createElement("li",null,u.default.createElement("span",null,"费用性质："),u.default.createElement("span",null,{XZ_MANAGE:"管理费用",XZ_FINANCE:"财务费用",XZ_SALE:"销售费用"}[t.get("propertyCost")])):"",u.default.createElement("li",null,u.default.createElement("span",null,"摘要："),u.default.createElement("span",null,t.get("runningAbstract"))),l?u.default.createElement("li",null,u.default.createElement("span",null,"往来单位："),u.default.createElement("span",null,t.getIn(["usedCard","code"])+"_"+t.getIn(["usedCard","name"]))):"",i&&f&&f.size?f.map(function(e){return u.default.createElement("div",{key:e.get("uuid")},u.default.createElement("li",null,u.default.createElement("span",null,"项目："),u.default.createElement("span",null,("COMNCRD"!==e.get("code")?e.get("code")+"_":"")+e.get("name"))),f.size>1?u.default.createElement("li",{key:e.get("uuid")},u.default.createElement("span",null,"金额："),u.default.createElement("span",null,(0,c.formatMoney)(e.get("amount"),2,""))):"")}):"",u.default.createElement("li",null,u.default.createElement("span",null,f&&f.size>1?"总":"","金额："),u.default.createElement("span",null,(0,c.formatMoney)(t.get("amount"),2,""))),m?u.default.createElement("li",null,u.default.createElement("span",null,"账户："),u.default.createElement("span",null,t.get("accountName"))):"","STATE_FY_DJ"!==g?u.default.createElement(o.default,{itemData:t}):""),u.default.createElement(d.default,{title:"核销情况",lsItemData:t,activeKey:n,onChangeActiveKey:a,itemList:t.get("paymentList")}))}}]),t}(),t.Xczc=function(e){function t(){return m(this,t),g(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,u.default.Component),l(t,[{key:"render",value:function(){var e=this.props,t=e.lsItemData,n=e.activeKey,a=e.onChangeActiveKey,l=s.categoryTypeAll[t.get("categoryType")],i=t.getIn([l,"beAccrued"]),o=t.getIn([l,"personAccumulationAmount"]),f=t.getIn([l,"personSocialSecurityAmount"]),m=t.getIn([l,"incomeTaxAmount"]),g=t.getIn([l,"companySocialSecurityAmount"]),p=t.getIn([l,"companyAccumulationAmount"]),C=t.getIn([l,"actualAmount"]),E=t.get("usedProject"),A=t.get("projectCard"),T=t.get("accountName"),y=t.get("amount"),S=t.get("propertyPay"),I=t.get("runningState");return u.default.createElement("div",null,u.default.createElement("ul",{className:"ylls-item-detail"},"STATE_XC_JT"!==I&&("STATE_XC_JN"!==I&&"STATE_XC_FF"!==I||i)?"":u.default.createElement("li",null,u.default.createElement("span",null,"费用性质："),u.default.createElement("span",null,{XZ_MANAGE:"管理费用",XZ_FINANCE:"财务费用",XZ_SALE:"销售费用"}[t.get("propertyCost")])),u.default.createElement("li",null,u.default.createElement("span",null,"摘要："),u.default.createElement("span",null,t.get("runningAbstract"))),E&&A&&A.size?A.map(function(e){return u.default.createElement("div",{key:e.get("uuid")},u.default.createElement("li",null,u.default.createElement("span",null,"项目："),u.default.createElement("span",null,("COMNCRD"!==e.get("code")?e.get("code")+"_":"")+e.get("name"))),A.size>1?u.default.createElement("li",{key:e.get("uuid")},u.default.createElement("span",null,"金额："),u.default.createElement("span",null,(0,c.formatMoney)(e.get("amount")))):"")}):"","STATE_XC_JT"===I||"SX_QTXC"===S||"SX_FLF"===S?u.default.createElement("li",null,u.default.createElement("span",null,A&&A.size>1?"总":"","金额："),u.default.createElement("span",null,(0,c.formatMoney)(y,2,""))):"","SX_GZXJ"===S&&"STATE_XC_FF"===I?u.default.createElement("li",null,u.default.createElement("span",null,"工资薪金："),u.default.createElement("span",null,(0,c.formatMoney)(t.get("amount"),2,""))):"",T&&"STATE_XC_JT"!==I?u.default.createElement("li",null,u.default.createElement("span",null,"账户："),u.default.createElement("span",null,t.get("accountName"))):""),!i||"STATE_XC_JN"!==I&&"STATE_XC_FF"!==I||"SX_QTXC"===S?"":u.default.createElement("div",{className:"ylls-item-child-list"},u.default.createElement(r.default,{bordered:!1,activeKey:"1"},u.default.createElement(_,{showArrow:!1,header:u.default.createElement("div",{className:"ylls-item-child-title"},u.default.createElement("span",null,"实际支付金额："+("STATE_XC_JN"===I?(0,c.formatMoney)(y,2,""):(0,c.formatMoney)(C,2,"")))),key:"1"},u.default.createElement("div",{className:"ylls-item-content"},"SX_SHBX"===S?u.default.createElement("span",null,"社会保险(公司部分)：",(0,c.formatMoney)(g,2,"")):"","SX_SHBX"===S||"SX_GZXJ"===S?u.default.createElement("span",null,"SX_SHBX"===S?"代缴":"代扣","社会保险(个人部分)：",(0,c.formatMoney)(f,2,"")):"","SX_ZFGJJ"===S?u.default.createElement("span",null,"公积金(公司部分)：",(0,c.formatMoney)(p,2,"")):"","SX_ZFGJJ"===S||"SX_GZXJ"===S?u.default.createElement("span",null,"SX_ZFGJJ"===S?"代缴":"代扣","公积金(个人部分)：",(0,c.formatMoney)(o,2,"")):"","SX_GZXJ"===S?u.default.createElement("span",null,"代扣个人所得税：",(0,c.formatMoney)(m,2,"")):"")))),"SX_QTXC"!==S?u.default.createElement(d.default,{title:"核销情况",lsItemData:t,activeKey:n,onChangeActiveKey:a,itemList:t.get("detail")}):"","SX_QTXC"===S||"STATE_XC_JT"===I?u.default.createElement(d.default,{title:"核销情况",lsItemData:t,activeKey:n,onChangeActiveKey:a,itemList:t.get("paymentList")}):"")}}]),t}(),t.Sfzc=function(e){function t(){return m(this,t),g(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,u.default.Component),l(t,[{key:"render",value:function(){var e=this.props,t=e.lsItemData,n=e.activeKey,a=e.onChangeActiveKey,r=t.get("offsetAmount"),l=t.get("handleAmount"),i=t.get("amount"),s=t.get("beReduce"),o=t.get("reduceAmount"),f=t.get("usedProject"),m=t.get("projectCard"),g=t.get("accountName"),p=t.get("propertyTax"),_=t.get("runningState");return u.default.createElement("div",null,u.default.createElement("ul",{className:"ylls-item-detail"},u.default.createElement("li",null,u.default.createElement("span",null,"摘要："),u.default.createElement("span",null,t.get("runningAbstract"))),f&&m&&m.size?m.map(function(e){return u.default.createElement("div",{key:e.get("uuid")},u.default.createElement("li",null,u.default.createElement("span",null,"项目："),u.default.createElement("span",null,("COMNCRD"!==e.get("code")?e.get("code")+"_":"")+e.get("name"))),m.size>1?u.default.createElement("li",{key:e.get("uuid")},u.default.createElement("span",null,"金额："),u.default.createElement("span",null,(0,c.formatMoney)(e.get("amount")))):"")}):"","SX_ZZS"===p&&"STATE_SF_YJZZS"!==_?u.default.createElement("li",null,u.default.createElement("span",null,"处理税费："),u.default.createElement("span",null,(0,c.formatMoney)(Number(r)+Number(l)+(s&&o?Number(o):0),2,""))):"","SX_ZZS"===p&&"STATE_SF_YJZZS"!==_?u.default.createElement("li",null,u.default.createElement("span",null,"预交抵扣金额："),u.default.createElement("span",null,(0,c.formatMoney)(r,2,""))):"",u.default.createElement("li",null,u.default.createElement("span",null,m&&m.size>1?"总":"","金额："),u.default.createElement("span",null,"SX_ZZS"===p&&"STATE_SF_YJZZS"!==_?(0,c.formatMoney)(l,2,""):(0,c.formatMoney)(i,2,""))),g?u.default.createElement("li",null,u.default.createElement("span",null,"账户："),u.default.createElement("span",null,t.get("accountName"))):"",s&&o?u.default.createElement("li",null,u.default.createElement("span",null,"减免金额："),u.default.createElement("span",null,(0,c.formatMoney)(o,2,""))):""),u.default.createElement(d.default,{title:"核销情况",lsItemData:t,activeKey:n,onChangeActiveKey:a,itemList:t.get("paymentList")}))}}]),t}(),t.Cqzc=function(e){function t(){return m(this,t),g(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,u.default.Component),l(t,[{key:"render",value:function(){var e=this.props,t=e.lsItemData,n=e.activeKey,a=e.onChangeActiveKey,l=s.categoryTypeAll[t.get("categoryType")],i=t.getIn([l,"beManagemented"]),f=t.getIn([l,"netProfitAmount"]),m=t.getIn([l,"lossAmount"]),g=t.getIn([l,"originalAssetsAmount"]),p=t.getIn([l,"depreciationAmount"]),C=t.get("usedProject"),E=t.get("projectCard"),A=t.get("accountName"),T=t.get("assetType"),y=t.get("businessList"),S=t.get("runningState"),I=t.getIn([l,"cleaningAmount"]),h=s.runningStateType[S]?s.runningStateType[S]:"";return u.default.createElement("div",null,u.default.createElement("ul",{className:"ylls-item-detail"},u.default.createElement("li",null,u.default.createElement("span",null,"处理类型："),u.default.createElement("span",null,{XZ_CZZC:"处置资产",XZ_ZJTX:"折旧摊销",XZ_GJZC:"购进资产"}[t.get("assetType")],h?"("+h+")":"")),u.default.createElement("li",null,u.default.createElement("span",null,"摘要："),u.default.createElement("span",null,t.get("runningAbstract"))),i&&"STATE_CQZC_JZSY"!==S&&"XZ_ZJTX"!==T?u.default.createElement("li",null,u.default.createElement("span",null,"往来单位："),u.default.createElement("span",null,t.getIn(["usedCard","code"])+"_"+t.getIn(["usedCard","name"]))):"",C&&E&&E.size?E.map(function(e){return u.default.createElement("div",{key:e.get("uuid")},u.default.createElement("li",null,u.default.createElement("span",null,"项目："),u.default.createElement("span",null,("COMNCRD"!==e.get("code")?e.get("code")+"_":"")+e.get("name"))),E.size>1?u.default.createElement("li",{key:e.get("uuid")},u.default.createElement("span",null,"金额："),u.default.createElement("span",null,(0,c.formatMoney)(e.get("amount"),2,""))):"")}):"","STATE_CQZC_JZSY"!==S?u.default.createElement("li",null,u.default.createElement("span",null,E&&E.size>1?"总":"","金额："),u.default.createElement("span",null,(0,c.formatMoney)(t.get("amount"),2,""))):"",A&&"STATE_CQZC_JZSY"!==S?u.default.createElement("li",null,u.default.createElement("span",null,"账户："),u.default.createElement("span",null,t.get("accountName"))):"","XZ_ZJTX"!==T?u.default.createElement(o.default,{itemData:t}):""),"XZ_CZZC"===T&&y&&y.size&&"STATE_CQZC_JZSY"!==S?u.default.createElement("div",{className:"ylls-item-child-list"},u.default.createElement(r.default,{bordered:!1,activeKey:"1"},u.default.createElement(_,{showArrow:!1,header:u.default.createElement("div",{className:"ylls-item-child-title"},u.default.createElement("span",null,"处置损益")),key:"1"},u.default.createElement("ul",null,u.default.createElement("li",{className:"ylls-item-child-item",key:1},u.default.createElement("div",null,u.default.createElement("span",null,y.getIn([0,"categoryName"])),u.default.createElement("span",null,"流水号：",y.getIn([0,"flowNumber"])))))))):"","STATE_CQZC_JZSY"===S?u.default.createElement("div",{className:"ylls-item-child-list"},u.default.createElement(r.default,{bordered:!1,activeKey:"1"},u.default.createElement(_,{showArrow:!1,header:u.default.createElement("div",{className:"ylls-item-child-title"},u.default.createElement("span",null,"处置损益")),key:"1"},u.default.createElement("div",{className:"ylls-item-content"},f>0?u.default.createElement("span",null,"净收益金额：",(0,c.formatMoney)(f,2,"")):u.default.createElement("span",null,"净损失金额：",(0,c.formatMoney)(m,2,"")),u.default.createElement("span",null,"资产原值：",(0,c.formatMoney)(g,2,"")),u.default.createElement("span",null,"累计折旧余额：",(0,c.formatMoney)(p,2,"")),u.default.createElement("span",null,"处置收入：",(0,c.formatMoney)(I,2,"")))))):"",u.default.createElement(d.default,{title:"核销情况",lsItemData:t,activeKey:n,onChangeActiveKey:a,itemList:t.get("paymentList")}),"STATE_CQZC_JZSY"===S?u.default.createElement(d.default,{title:"核销情况",lsItemData:t,activeKey:n,onChangeActiveKey:a,itemList:t.get("businessList"),amountStr:"amount-tax"}):"")}}]),t}(),t.Yywsz=function(e){function t(){return m(this,t),g(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,u.default.Component),l(t,[{key:"render",value:function(){var e=this.props,t=e.lsItemData,n=(e.activeKey,e.onChangeActiveKey,s.categoryTypeAll[t.get("categoryType")]),a=t.getIn([n,"beManagemented"]),r=t.get("usedProject"),l=t.get("projectCard"),i=t.get("accountName");return u.default.createElement("div",null,u.default.createElement("ul",{className:"ylls-item-detail"},u.default.createElement("li",null,u.default.createElement("span",null,"摘要："),u.default.createElement("span",null,t.get("runningAbstract"))),a?u.default.createElement("li",null,u.default.createElement("span",null,"往来单位："),u.default.createElement("span",null,t.getIn(["usedCard","code"])+"_"+t.getIn(["usedCard","name"]))):"",r&&l&&l.size?l.map(function(e){return u.default.createElement("div",{key:e.get("uuid")},u.default.createElement("li",null,u.default.createElement("span",null,"项目："),u.default.createElement("span",null,("COMNCRD"!==e.get("code")?e.get("code")+"_":"")+e.get("name"))),l.size>1?u.default.createElement("li",{key:e.get("uuid")},u.default.createElement("span",null,"金额："),u.default.createElement("span",null,(0,c.formatMoney)(e.get("amount"),2,""))):"")}):"",u.default.createElement("li",null,u.default.createElement("span",null,l&&l.size>1?"总":"","金额："),u.default.createElement("span",null,(0,c.formatMoney)(t.get("amount"),2,""))),i?u.default.createElement("li",null,u.default.createElement("span",null,"账户："),u.default.createElement("span",null,t.get("accountName"))):""))}}]),t}(),t.Zszf=function(e){function t(){return m(this,t),g(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,u.default.Component),l(t,[{key:"render",value:function(){var e=this.props,t=e.lsItemData,n=e.activeKey,a=e.onChangeActiveKey,r=(s.categoryTypeAll[t.get("categoryType")],t.get("usedProject")),l=t.get("projectCard"),i=t.get("accountName");return u.default.createElement("div",null,u.default.createElement("ul",{className:"ylls-item-detail"},u.default.createElement("li",null,u.default.createElement("span",null,"摘要："),u.default.createElement("span",null,t.get("runningAbstract"))),r&&l&&l.size?l.map(function(e){return u.default.createElement("div",{key:e.get("uuid")},u.default.createElement("li",null,u.default.createElement("span",null,"项目："),u.default.createElement("span",null,("COMNCRD"!==e.get("code")?e.get("code")+"_":"")+e.get("name"))),l.size>1?u.default.createElement("li",{key:e.get("uuid")},u.default.createElement("span",null,"金额："),u.default.createElement("span",null,(0,c.formatMoney)(e.get("amount"),2,""))):"")}):"",u.default.createElement("li",null,u.default.createElement("span",null,l&&l.size>1?"总":"","金额："),u.default.createElement("span",null,(0,c.formatMoney)(t.get("amount"),2,""))),i?u.default.createElement("li",null,u.default.createElement("span",null,"账户："),u.default.createElement("span",null,t.get("accountName"))):""),u.default.createElement(d.default,{title:"核销情况",lsItemData:t,activeKey:n,onChangeActiveKey:a,itemList:t.get("paymentList")}))}}]),t}(),t.JkTzZb=function(e){function t(){return m(this,t),g(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,u.default.Component),l(t,[{key:"render",value:function(){var e=this.props,t=e.lsItemData,n=e.activeKey,a=e.onChangeActiveKey,r=s.categoryTypeAll[t.get("categoryType")],l=(t.getIn([r,"beManagemented"]),t.get("usedProject")),i=t.get("projectCard"),o=t.get("accountName"),f=(t.get("propertyCost"),t.get("businessList"),t.get("runningState")),m=s.runningStateType[f]?s.runningStateType[f]:"";return u.default.createElement("div",null,u.default.createElement("ul",{className:"ylls-item-detail"},u.default.createElement("li",null,u.default.createElement("span",null,"处理类型："),u.default.createElement("span",null,{XZ_QDJK:"取得借款",XZ_CHLX:"偿还利息",XZ_CHBJ:"偿还本金",XZ_DWTZ:"对外投资",XZ_QDSY:"取得收益",XZ_SHTZ:"收回投资",XZ_ZZ:"增资",XZ_LRFP:"利润分配",XZ_JZ:"减资"}[t.get("propertyCost")],m?"("+m+")":"")),u.default.createElement("li",null,u.default.createElement("span",null,"摘要："),u.default.createElement("span",null,t.get("runningAbstract"))),l&&i&&i.size?i.map(function(e){return u.default.createElement("div",{key:e.get("uuid")},u.default.createElement("li",null,u.default.createElement("span",null,"项目："),u.default.createElement("span",null,("COMNCRD"!==e.get("code")?e.get("code")+"_":"")+e.get("name"))),i.size>1?u.default.createElement("li",{key:e.get("uuid")},u.default.createElement("span",null,"金额："),u.default.createElement("span",null,(0,c.formatMoney)(e.get("amount"),2,""))):"")}):"",u.default.createElement("li",null,u.default.createElement("span",null,i&&i.size>1?"总":"","金额："),u.default.createElement("span",null,(0,c.formatMoney)(t.get("amount"),2,""))),o?u.default.createElement("li",null,u.default.createElement("span",null,"账户："),u.default.createElement("span",null,t.get("accountName"))):""),u.default.createElement(d.default,{title:"核销情况",lsItemData:t,activeKey:n,onChangeActiveKey:a,itemList:t.get("paymentList")}))}}]),t}(),t.Other=function(e){function t(){return m(this,t),g(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,u.default.Component),l(t,[{key:"render",value:function(){var e=this.props;e.lsItemData,e.activeKey,e.onChangeActiveKey;return u.default.createElement("div",null,"没写")}}]),t}()},1331:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Jzsy=t.Xmft=t.Zcwjzzs=t.FpKr=t.Jzcb=t.Sfgl=t.Zjtx=t.Nbzz=void 0;var a=s(n(1272)),r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(1271);var l=s(n(1)),u=(n(17),n(22)),i=n(482),c=(s(n(1292)),s(n(1293)));function s(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}a.default.Panel,t.Nbzz=function(e){function t(){return o(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,l.default.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.lsItemData;e.activeKey,e.onChangeActiveKey;return l.default.createElement("div",null,l.default.createElement("ul",{className:"ylls-item-detail"},l.default.createElement("li",null,l.default.createElement("span",null,"摘要："),l.default.createElement("span",null,t.get("runningAbstract"))),l.default.createElement("li",null,l.default.createElement("span",null,"金额："),l.default.createElement("span",null,(0,u.formatMoney)(t.get("amount"),2,""))),l.default.createElement("li",null,l.default.createElement("span",null,"转出账户："),l.default.createElement("span",null,t.getIn(["childList",0,"accountName"]))),l.default.createElement("li",null,l.default.createElement("span",null,"转入账户："),l.default.createElement("span",null,t.getIn(["childList",1,"accountName"])))))}}]),t}(),t.Zjtx=function(e){function t(){return o(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,l.default.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.lsItemData,n=(e.activeKey,e.onChangeActiveKey,{XZ_SALE:"销售费用",XZ_MANAGE:"管理费用",XZ_FINANCE:"财务费用","":""}[t.get("propertyCost")]);return l.default.createElement("div",null,l.default.createElement("ul",{className:"ylls-item-detail"},l.default.createElement("li",null,l.default.createElement("span",null,"处理类别："),l.default.createElement("span",null,t.get("categoryName"))),t.get("propertyCostList")&&t.get("propertyCostList").size>1?l.default.createElement("li",null,l.default.createElement("span",null,"费用性质："),l.default.createElement("span",null,n)):"",l.default.createElement("li",null,l.default.createElement("span",null,"摘要："),l.default.createElement("span",null,t.get("runningAbstract"))),t.get("usedProject")?l.default.createElement("li",null,l.default.createElement("span",null,"项目："),l.default.createElement("span",null,t.getIn(["projectCard",0,"code"])+" "+t.getIn(["projectCard",0,"name"]))):"",l.default.createElement("li",null,l.default.createElement("span",null,"金额："),l.default.createElement("span",null,(0,u.formatMoney)(t.get("amount"),2,"")))))}}]),t}(),t.Sfgl=function(e){function t(){return o(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,l.default.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.lsItemData,n=e.activeKey,a=e.onChangeActiveKey,r=(i.categoryTypeAll[t.get("categoryType")],t.get("accountName")),s=t.get("moedAmount");return l.default.createElement("div",null,l.default.createElement("ul",{className:"ylls-item-detail"},l.default.createElement("li",null,l.default.createElement("span",null,"往来单位："),l.default.createElement("span",null,t.getIn(["usedCard","code"])+"_"+t.getIn(["usedCard","name"]))),l.default.createElement("li",null,l.default.createElement("span",null,"摘要："),l.default.createElement("span",null,t.get("runningAbstract"))),l.default.createElement("li",null,l.default.createElement("span",null,"金额："),l.default.createElement("span",null,(0,u.formatMoney)(t.get("amount"),2,""))),r?l.default.createElement("li",null,l.default.createElement("span",null,"账户："),l.default.createElement("span",null,r)):"",s>0?l.default.createElement("li",null,l.default.createElement("span",null,"抹零金额："),l.default.createElement("span",null,(0,u.formatMoney)(s))):""),l.default.createElement(c.default,{title:"核销情况",lsItemData:t,activeKey:n,onChangeActiveKey:a,itemList:t.get("detail")}))}}]),t}(),t.Jzcb=function(e){function t(){return o(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,l.default.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.lsItemData,n=e.activeKey,a=e.onChangeActiveKey,r={STATE_YYSR_JZCB:"acBusinessIncome",STATE_YYZC_JZCB:"acBusinessExpense"}[t.get("runningState")],i=t.getIn([r,"stockCardList"]);return l.default.createElement("div",null,l.default.createElement("ul",{className:"ylls-item-detail"},l.default.createElement("li",null,l.default.createElement("span",null,"摘要："),l.default.createElement("span",null,t.get("runningAbstract"))),i&&i.size?i.map(function(e){return l.default.createElement("div",{key:e.get("uuid")},l.default.createElement("li",null,l.default.createElement("span",null,"存货："),l.default.createElement("span",null,e.get("code")+"_"+e.get("name"))),l.default.createElement("li",null,l.default.createElement("span",null,"成本金额："),l.default.createElement("span",null,(0,u.formatMoney)(e.get("amount"),2,""))))}):""),l.default.createElement(c.default,{title:"核销情况",lsItemData:t,activeKey:n,onChangeActiveKey:a,itemList:t.get("businessList"),amountStr:"amount"}))}}]),t}(),t.FpKr=function(e){function t(){return o(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,l.default.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.lsItemData,n=e.activeKey,a=e.onChangeActiveKey,r=i.categoryTypeAll[t.get("categoryType")];t.getIn([r,"stockCardList"]);return l.default.createElement("div",null,l.default.createElement("ul",{className:"ylls-item-detail"},l.default.createElement("li",null,l.default.createElement("span",null,"摘要："),l.default.createElement("span",null,t.get("runningAbstract")))),l.default.createElement(c.default,{title:"核销情况",lsItemData:t,activeKey:n,onChangeActiveKey:a,itemList:t.get("businessList"),amountStr:"tax"}))}}]),t}(),t.Zcwjzzs=function(e){function t(){return o(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,l.default.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.lsItemData,n=e.activeKey,a=e.onChangeActiveKey,r=i.categoryTypeAll[t.get("categoryType")],s=(t.getIn([r,"stockCardList"]),0),o=0,d=0,f=0;return t.get("businessList").forEach(function(e){"bill_common"===e.get("billType")?(s+=1,o+=e.get("parentTax")?e.get("parentTax"):e.get("tax")):(d+=1,f+=e.get("parentTax")?e.get("parentTax"):e.get("tax"))}),l.default.createElement("div",null,l.default.createElement("ul",{className:"ylls-item-detail"},l.default.createElement("li",null,l.default.createElement("span",null,"摘要："),l.default.createElement("span",null,t.get("runningAbstract"))),l.default.createElement("li",null,l.default.createElement("span",null,"处理税额月份："),l.default.createElement("span",null,t.getIn(["businessList",0,"runningDate"]).substr(0,7))),l.default.createElement("li",null,l.default.createElement("span",null,"未交税额："),l.default.createElement("span",null,(0,u.formatMoney)(o-f,2,""))),l.default.createElement("li",null,l.default.createElement("span",null,"销项税-流水数： ",s,"条；")," ",l.default.createElement("span",null,"合计税额： ",(0,u.formatNum)(o.toFixed(2)))),l.default.createElement("li",null,l.default.createElement("span",null,"进项税-流水数： ",d,"条；")," ",l.default.createElement("span",null,"合计税额： ",(0,u.formatNum)(f.toFixed(2))))),l.default.createElement(c.default,{title:"核销情况",lsItemData:t,activeKey:n,onChangeActiveKey:a,itemList:t.get("businessList"),amountStr:"parentTax",amountStr2:"tax"}))}}]),t}(),t.Xmft=function(e){function t(){return o(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,l.default.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.lsItemData,n=e.activeKey,a=e.onChangeActiveKey,r=i.categoryTypeAll[t.get("categoryType")],s=(t.getIn([r,"stockCardList"]),t.get("projectCard"));return l.default.createElement("div",null,l.default.createElement("ul",{className:"ylls-item-detail"},l.default.createElement("li",null,l.default.createElement("span",null,"摘要："),l.default.createElement("span",null,t.get("runningAbstract"))),s&&s.size?s.map(function(e){return l.default.createElement("div",{key:e.get("uuid")},l.default.createElement("li",null,l.default.createElement("span",null,"项目："),l.default.createElement("span",null,("COMNCRD"!==e.get("code")?e.get("code")+"_":"")+e.get("name"))),s.size>1?l.default.createElement("li",{key:e.get("uuid")},l.default.createElement("span",null,"金额："),l.default.createElement("span",null,(0,u.formatMoney)(e.get("amount"),2,""))):"")}):""),l.default.createElement(c.default,{title:"核销情况",lsItemData:t,activeKey:n,onChangeActiveKey:a,itemList:t.get("paymentList"),amountStr:"amount"}))}}]),t}(),t.Jzsy=function(e){function t(){return o(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,l.default.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.lsItemData,n=e.activeKey,a=e.onChangeActiveKey,r=i.categoryTypeAll[t.get("categoryType")],s=t.getIn([r,"netProfitAmount"]),o=t.getIn([r,"lossAmount"]),d=t.get("projectCard");return l.default.createElement("div",null,l.default.createElement("ul",{className:"ylls-item-detail"},l.default.createElement("li",null,l.default.createElement("span",null,"处理类别："),l.default.createElement("span",null,t.get("categoryName"))),l.default.createElement("li",null,l.default.createElement("span",null,"摘要："),l.default.createElement("span",null,t.get("runningAbstract"))),d&&d.size?d.map(function(e){return l.default.createElement("div",{key:e.get("uuid")},l.default.createElement("li",null,l.default.createElement("span",null,"项目："),l.default.createElement("span",null,("COMNCRD"!==e.get("code")?e.get("code")+"_":"")+e.get("name"))))}):"",l.default.createElement("li",null,l.default.createElement("span",null,"净"+(s>0?"收益":"损失")+"金额："),l.default.createElement("span",null,(0,u.formatMoney)(s>0?s:o))),l.default.createElement("li",null,l.default.createElement("span",null,"资产原值："),l.default.createElement("span",null,(0,u.formatMoney)(t.getIn([r,"originalAssetsAmount"])))),l.default.createElement("li",null,l.default.createElement("span",null,"累计折旧摊销："),l.default.createElement("span",null,(0,u.formatMoney)(t.getIn([r,"depreciationAmount"]),2)))),l.default.createElement(c.default,{title:"核销情况",lsItemData:t,activeKey:n,onChangeActiveKey:a,itemList:t.get("businessList"),amountStr:"amount-tax"}))}}]),t}()},1332:function(e,t,n){},1334:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,n=arguments[1];return((e={},i(e,r.INIT_ACCOUNTCONF,function(){return s}),i(e,r.GET_ACCOUNTCONF_ALL_SETTINGS,function(){return t=t.set("runningCategory",(0,a.fromJS)(n.receivedData.categoryList)).set("accountList",(0,a.fromJS)(n.receivedData.accountList)).set("taxRateTemp",(0,a.fromJS)(n.receivedData.rate))}),i(e,r.GET_RUNNING_CATEGORY,function(){var e=[];return n.receivedData.resultList[0].childList.forEach(function(t){return e.push(t.uuid)}),t.set("runningCategory",(0,a.fromJS)(n.receivedData.resultList)).setIn(["flags","runningShowChild"],(0,a.fromJS)(e)).set("taxRateTemp",(0,a.fromJS)(n.receivedData.rate))}),i(e,r.GET_RUNNING_ACCOUNT,function(){return t.set("accountList",(0,a.fromJS)(n.receivedData.resultList))}),i(e,r.GET_RUNNING_TAX_RATE,function(){return t.set("taxRateTemp",(0,a.fromJS)(n.receivedData.result))}),i(e,r.CHANGE_ACCOUNTCONF_CURRENTPAGE,function(){return t.setIn(["flags","currentPage"],n.currentPage)}),i(e,r.BEFORE_INSERT_ACCOUNTCONF,function(){if(t=t.setIn(["flags","insertOrModify"],"insert").set(n.currentPage+"Temp",s.get(n.currentPage+"Temp")),"account"===n.currentPage?t=t.setIn(["flags","showZHModal"],!0):"fromLrAccount"!==n.insertFrom&&(t=t.setIn(["flags","showModal"],!0)),n.data&&"running"===n.currentPage){var e=n.data.categoryType,r={LB_YYSR:"acBusinessIncome",LB_YYZC:"acBusinessExpense",LB_YYWSR:"acBusinessOutIncome",LB_YYWZC:"acBusinessOutExpense",LB_JK:"acLoan",LB_TZ:"acInvest",LB_ZB:"acCapital",LB_CQZC:"acAssets",LB_FYZC:"acCost",LB_ZSKX:"acTemporaryReceipt",LB_ZFKX:"acTemporaryPay",LB_XCZC:"acPayment",LB_SFZC:"acTax"}[e];n.data&&"running"===n.currentPage&&(t=t.set(n.currentPage+"Temp",(0,a.fromJS)(n.data)).setIn([n.currentPage+"Temp","name"],"").setIn([n.currentPage+"Temp","uuid"],"").setIn([n.currentPage+"Temp","runningAbstract"],"").setIn([n.currentPage+"Temp","level"],n.item.get("level")).setIn([n.currentPage+"Temp",r,"currentContactsRange"],(0,a.fromJS)(n.data[r].contactsRange)).setIn([n.currentPage+"Temp",r,"currentStockRange"],(0,a.fromJS)(n.data[r].stockRange)).setIn([n.currentPage+"Temp","curPropertyCostList"],(0,a.fromJS)(n.data.propertyCostList)).setIn([n.currentPage+"Temp","currentProjectRange"],(0,a.fromJS)(n.data.projectRange)));var l=t.getIn(["flags","insertOrModify"]);"LB_CQZC"===n.data.categoryType&&"insert"===l&&"长期资产"===n.data.name&&("SX_GDZC"===n.data.propertyAssets&&!n.data.acAssets.canInsertFixed||"SX_WXZC"===n.data.propertyAssets&&!n.data.acAssets.canInsertUnVisible||"SX_TZXFDC"===n.data.propertyAssets&&!n.data.acAssets.canInsertEstate)&&(t=t.setIn([n.currentPage+"Temp","propertyAssets"],"")),t=t.setIn([n.currentPage+"Temp","property"],n.data.property).setIn([n.currentPage+"Temp","parentUuid"],n.item.get("uuid")).setIn([n.currentPage+"Temp","parentName"],n.data.name).setIn([n.currentPage+"Temp","categoryType"],n.data.categoryType)}return t}),i(e,r.BEFORE_MODIFY_ACCOUNTCONF_RUNNING_OLD,function(){return t="account"===n.currentPage?t.setIn(["flags","showZHModal"],!0):t.setIn(["flags","showModal"],!0),n.old?t.setIn(["flags","insertOrModify"],"modify").set(n.currentPage+"Temp",n.item):t.setIn(["flags","insertOrModify"],"modify").set(n.currentPage+"Temp",(0,a.fromJS)(n.name)).setIn([n.currentPage+"Temp","categoryType"],(0,a.fromJS)(n.name).get("categoryType")).setIn([n.currentPage+"Temp","parentUuid"],n.item.get("parentUuid")).setIn([n.currentPage+"Temp","parentName"],n.item.get("parentName")).setIn([n.currentPage+"Temp","currentPropertyPay"],n.item.get("propertyPay")).setIn([n.currentPage+"Temp","currentPropertyTax"],n.item.get("propertyTax")).setIn([n.currentPage+"Temp","currentPropertyAssets"],n.item.get("propertyAssets")).setIn(["runningTemp","currentPropertyInvest"],n.item.get("propertyInvest"))}),i(e,r.CLOSE_ACCOUNTCONF_MODAL,function(){return t.setIn(["flags","showModal"],!1).setIn(["flags","showZHModal"],!1)}),i(e,r.ACCOUNTCONF_RUNNING_TRIANGLE_SWITCH,function(){var e=t.getIn(["flags","runningShowChild"]);if(n.showChild){var a=e.splice(e.findIndex(function(e){return e===n.uuid}),1);return t.setIn(["flags","runningShowChild"],a)}var r=e.push(n.uuid);return t.setIn(["flags","runningShowChild"],r)}),i(e,r.ACCOUNTCONF_RUNNING_CHECKBOX_CHECK,function(){var e=n.upperArr,a=n.item,r=t.getIn(["flags","runningSelect"]);if(-1===r.indexOf(a.get("uuid"))){var l=function e(t){return t.map(function(t){-1===r.indexOf(t.get("uuid"))&&(r=r.push(t.get("uuid")),t.get("childList")&&t.get("childList").size&&e(t.get("childList")),t.get("disableList")&&t.get("disableList").size&&e(t.get("disableList")))})};return r=r.push(a.get("uuid")),a.get("childList")&&a.get("childList").size&&l(a.get("childList")),a.get("disableList")&&a.get("disableList").size&&l(a.get("disableList")),t=t.setIn(["flags","runningSelect"],r)}var u=function e(t){return t.map(function(t){if(r.indexOf(t.get("uuid"))>-1){var n=r.findIndex(function(e){return e===t.get("uuid")});r=r.splice(n,1)}t.get("childList")&&t.get("childList").size&&e(t.get("childList")),t.get("disableList")&&t.get("disableList").size&&e(t.get("disableList"))})},i=r.findIndex(function(e){return e===a.get("uuid")});return r=r.splice(i,1),a.get("childList")&&a.get("childList").size&&u(a.get("childList")),a.get("disableList")&&a.get("disableList").size&&u(a.get("disableList")),r=r.filter(function(t){return-1===e.indexOf(t)}),t.setIn(["flags","runningSelect"],r)}),i(e,r.SELECT_OR_UNSELECT_ACCOUNT_ALL,function(){if(n.selectAll)return t.setIn(["flags","accountSelect"],(0,a.fromJS)([]));var e=t.getIn(["accountList",0,"childList"]),r=[];return e.forEach(function(e){return r.push(e.get("uuid"))}),t.setIn(["flags","accountSelect"],(0,a.fromJS)(r))}),i(e,r.ACCOUNTCONF_ACCOUNT_CHECKBOX_CHECK,function(){var e=t.getIn(["flags","accountSelect"]);if(n.checked){var a=e.splice(e.findIndex(function(e){return e===n.uuid}),1);return t.setIn(["flags","accountSelect"],a)}var r=e.push(n.uuid);return t.setIn(["flags","accountSelect"],r)}),i(e,r.ACCOUNTCONF_TAX_RATE_SETTING_SCALE,function(){return t.setIn(["taxRateTemp","scale"],n.value)}),i(e,r.SELECT_ACCOUNTCONF_UPPER_CATEGORY,function(){var e=n.value.split(l.TREE_JOIN_STR);return t.setIn(["runningTemp","parentUuid"],e[0]).setIn(["runningTemp","parentName"],e[1]).setIn(["runningTemp","property"],e[2]).setIn(["runningTemp","categoryType"],e[3]).setIn(["runningTemp","beSpecial"],"业务收入"===e[1]||"成本支出"===e[1])}),i(e,r.CHANGE_ACCOUNTCONF_COMMON_STRING,function(){return t.setIn(n.placeArr,n.value)}),i(e,r.CHANGE_ACCOUNTCONF_ACCOUNT_NUMBER,function(){var e=t.getIn(["accountTemp","name"]);return""===e&&(t=t.setIn(["accountTemp","name"],n.accountType+""+(n.value.length>4?n.value.substr(n.value.length-4):n.value))),t}),i(e,r.SELECT_ACCOUNTCONF_ALL_AC,function(){return t.setIn([n.tab+"Temp",n.place?n.place+"AcId":"acId"],n.acId).setIn([n.tab+"Temp",n.place?n.place+"AcFullName":"acFullName"],n.acFullName).setIn([n.tab+"Temp",n.place?n.place+"AssCategory":"assCategoryList"],n.asscategorylist)}),i(e,r.SELECT_ACCOUNTCONF_MULTIPLE_AC,function(){return t=t.setIn(n.placeArr,(0,a.fromJS)(n.acList)),n.assPlace&&(t=t.setIn(["runningTemp",n.assPlace],(0,a.fromJS)(n.assList))),t}),i(e,r.AFTER_UPDATE_ACCOUNTCONF_RUNNING_CATEGORY,function(){return t=(t=t.set("runningCategory",(0,a.fromJS)(n.receivedData.resultList)).setIn(["flags","runningSelect"],(0,a.fromJS)([]))).setIn(["flags","showModal"],!1).setIn(["flags","showZHModal"],!1)}),i(e,r.AFTER_UPDATE_ACCOUNTCONF_ACCOUNT,function(){return t=t.set("accountList",(0,a.fromJS)(n.receivedData.resultList)),t=n.saveAndNew?t.set("accountTemp",s.get("accountTemp")):t.setIn(["flags","showModal"],!1).setIn(["flags","showZHModal"],!1)}),i(e,r.CHANGE_ACCOUNTCONF_PROPERTY,function(){return t=t.setIn(n.placeArr,(0,a.fromJS)(n.valArr))}),i(e,r.CHANGE_ITEM_DISABLE_STATUS,function(){var e=t.getIn(["runningCategory",0].concat(c(n.placeArr))).toJS(),r=function e(t){for(var a in t)t[a].canUse=!n.disabled,t[a].childList.length&&e(t[a].childList),t[a].disableList&&t[a].disableList.length&&e(t[a].disableList)};return e.childList&&e.childList.length&&r(e.childList),e.disableList&&e.disableList.length&&r(e.disableList),t.setIn(["runningCategory",0].concat(c(n.placeArr)),(0,a.fromJS)(e)).setIn(["runningCategory",0].concat(c(n.placeArr),["canUse"]),!n.disabled)}),i(e,r.GET_REGRET_CATEGORY,function(){return t.set("regretCategory",(0,a.fromJS)(n.receivedData.result))}),i(e,r.CHANGE_REGRET_ACCOUNT_ACCOUNT_NAME,function(){var e=n.value.split(l.TREE_JOIN_STR);return t=t.setIn([n.tab+"Temp",n.placeUUid],e[0]).setIn([n.tab+"Temp",n.placeName],e[1]).setIn([n.tab+"Temp",n.isBalance],e[2]).setIn([n.tab+"Temp",n.isBusiness],e[3])}),i(e,r.CHANGE_REGRET_ACCOUNT_COMMON_STRING,function(){return n.placeArr&&(t=t.setIn(n.placeArr,n.value)),n.place&&(t=t.set(n.place,n.value)),t}),i(e,r.CHANGE_REGRET_CANCLE,function(){return t=t.setIn(["regretTemp","categoryUuid"],"").setIn(["regretTemp","categoryName"],"请选择流水类别").setIn(["regretTemp","isBalance"],"").setIn(["regretTemp","isBusiness"],"").setIn(["regretTemp","subordinateName"],"").setIn(["regretTemp","showModal"],!1).setIn(["regretTemp","showConfirmModal"],!1)}),e)[n.type]||function(){return t})()};var a=n(18),r=(n(22),u(n(1273))),l=u(n(27));function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var s=(0,a.fromJS)({flags:{currentPage:"running",insertOrModify:"insert",showModal:!1,showZHModal:!1,isTaxQuery:!0,runningSelect:[],accountSelect:[],runningShowChild:[],currentAccount:{uuid:"",name:""},currentAss:{assId:"",assCategory:"",assName:""},selectAcList:[],selectDepositedAcList:[],selectCarryoverAcList:[],selectStockAcList:[]},runningTemp:{property:"",uuid:"",name:"",parentUuid:"",parentName:"",runningAbstract:"",propertyPay:"",propertyAssets:"",propertyCarryover:"",propertyCostList:[],propertyTax:"",categoryType:"",propertyInvest:"",acList:[],canDelete:!0,beSpecial:!1,acAvailable:!0,acBusinessIncome:{incomeAc:[],incomeList:[],receivablesAc:[],receivablesList:[],inAdvanceAc:[],inAdvanceList:[],stockAc:[],stockList:[],carryoverAc:[],carryoverList:[],beManagemented:!1,beDeposited:!1,beCarryover:!0},acBusinessExpense:{payAc:[],payList:[],deliveryAc:[],deliveryList:[],inAdvanceAc:[],inAdvanceList:[],beManagemented:!1,beDeposited:!1},acBusinessOutIncome:{relationAc:[],relationList:[],receivablesAc:[],receivablesList:[],beManagemented:!1},acBusinessOutExpense:{relationAc:[],relationList:[],deliveryAc:[],deliveryList:[],beManagemented:!1},acCost:{saleAc:[],saleList:[{assId:"",assName:"",assCategory:[""]}],manageAc:[],manageList:[],financeAc:[],financeList:[],beManagemented:!1,deliveryAc:[],deliveryList:[]},acPayment:{saleAc:[],saleList:[],manageAc:[],manageList:[],accruedAc:[],accruedList:[],fundAc:[],fundList:[],socialSecurityAc:[],socialSecurityList:[],incomeTaxAc:[],incomeTaxList:[],welfareAc:[],welfareList:[],beAccrued:!1,beWithholding:!1,beWelfare:!1},acTax:{accruedAc:[],accruedList:[],payAc:[],payList:[],turnOutAc:[],turnOutList:[],inAdvanceAc:[],inAdvanceList:[],beAccrued:!1,beTurnOut:!1,beInAdvance:!1},acTemporaryReceipt:{relationAc:[],relationList:[]},acTemporaryPay:{relationAc:[],relationList:[]},acLoan:{loanAc:[],loanList:[],interestAc:[],interestList:[],unpaidInterestAc:[],unpaidInterestList:[],beManagemented:!1},acInvest:{investAc:[],investList:[],profitAc:[],profitList:[],uncollectedProfitAc:[],uncollectedProfitList:[],uncollectedInterestAc:[],beManagemented:!1},acCapital:{capitalAc:[],capitalList:[],unassignedAc:[],unassignedList:[],assignedAc:[],assignedList:[],payableAc:[],payableList:[],beManagemented:!1},acAssets:{assetsAc:[],assetsList:[],incomeAc:[],incomeList:[],lossAc:[],lossList:[],depreciationAc:[],depreciationList:[],cleaningAc:[],cleaningList:[],upgradeAc:[],upgradeList:[],receivablesAc:[],receivablesList:[],deliveryAc:[],deliveryList:[],beManagemented:!1,beCleaning:!1}},accountTemp:{uuid:"00000001",type:"general",name:"",openingName:"",openingBank:"",accountNumber:"",beginAmount:"",acId:"",acFullName:"",openInfo:!1},taxRateTemp:{scale:"small",payableAcId:"",payableAcFullName:"",payableAssCategory:[],payableRate:"3",notBillingAcId:"",notBillingAcFullName:"",notBillingAssCategory:[],inputAcId:"",inputAcFullName:"",inputAssCategory:[],certifiedAcId:"",certifiedAcFullName:"",certifiedAssCategory:[],waitOutputAcId:"",waitOutputAcFullName:"",waitOutputAssCategory:[],outputAcId:"",outputAcFullName:"",outputAssCategory:[],turnOutUnpaidAcId:"",turnOutUnpaidAcFullName:"",turnOutUnpaidAssCategory:"",unpaidAcId:"",unpaidAcFullName:"",unpaidAssCategory:"",outputRate:"17"},runningCategory:[{childList:[]}],regretCategory:[{childList:[]}],regretTemp:{categoryName:"请选择流水类别",categoryUuid:"",isBalance:"",isBusiness:"",subordinateName:"",showConfirmModal:!1,showModal:!1},accountList:[{uuid:"0000000",type:"",name:"全部",openingName:"",openingBank:"",accountNumber:"",acId:"",acFullName:"",childList:[]}]})},1335:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,n=arguments[1];return((e={},l(e,r.INIT_YLLS,function(){return u}),l(e,r.GET_YLLS_BUSINESS_DATA,function(){return t.set("lsItemData",(0,a.fromJS)(n.item)).set("curItem",(0,a.fromJS)(n.curItem))}),e)[n.type]||function(){return t})()};var a=n(18),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1270));function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=(0,a.fromJS)({views:{},lsItemData:{},curItem:{}})},1343:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SWITCH_LOADING_MASK="SWITCH_LOADING_MASK",t.INIT_CXPZ="INIT_CXPZ",t.BEFORE_GET_VC_LIST_FETCH="BEFORE_GET_VC_LIST_FETCH",t.BEFORE_DELETE_VC_ITEM_FETCH="BEFORE_DELETE_VC_ITEM_FETCH",t.GET_VC_LIST_FETCH="GET_VC_LIST_FETCH",t.SELECT_VC_ALL="SELECT_VC_ALL",t.NOT_SELECT_VC_ALL="NOT_SELECT_VC_ALL",t.SELECT_VC_ITEM="SELECT_VC_ITEM",t.SORT_VC_LIST_BY_DATE="SORT_VC_LIST_BY_DATE",t.REVERSE_VC_LIST="REVERSE_VC_LIST",t.CLEAR_CXPZ_STATE="CLEAR_CXPZ_STATE",t.BEFORE_VC_IMPORT="BEFORE_VC_IMPORT",t.CLOSE_VC_IMPORT_CONTENT="CLOSE_VC_IMPORT_CONTENT",t.AFTER_VC_IMPORT="AFTER_VC_IMPORT",t.SORT_VC_LIST_BY_REVIEWED="SORT_VC_LIST_BY_REVIEWED",t.CHANGE_FJGL_ISSUEDATE="CHANGE_FJGL_ISSUEDATE",t.GET_PERIOD_FETCH="GET_PERIOD_FETCH",t.CHANGE_CXPZ_MESSAGEMASK="CHANGE_CXPZ_MESSAGEMASK",t.GET_CXPZ_IMPORT_PROGRESS="GET_CXPZ_IMPORT_PROGRESS"},1416:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SWITCH_LOADING_MASK="SWITCH_LOADING_MASK",t.INIT_FZHS="INIT_FZHS",t.CHANGE_ACTIVE_ASS_CATEGORY="CHANGE_ACTIVE_ASS_CATEGORY",t.SAVE_ENTER_ASSITE_MFETCH="SAVE_ENTER_ASSITE_MFETCH",t.CHANGE_FZ_MODAL_DISPLAY="CHANGE_FZ_MODAL_DISPLAY",t.CHANGE_ACLIST_MODAL_DISPLAY="CHANGE_ACLIST_MODAL_DISPLAY",t.MODIFY_ACLIST_IN_ASS_ITEM="MODIFY_ACLIST_IN_ASS_ITEM",t.DELETE_AC_IN_ASS_ITEM="DELETE_AC_IN_ASS_ITEM",t.CHANGE_AC_IN_ASS_TAB_KEY="CHANGE_AC_IN_ASS_TAB_KEY",t.RELATED_ACLIST_MODEL_DISAPEAR="RELATED_ACLIST_MODEL_DISAPEAR",t.CHANGE_ASS_ID="CHANGE_ASS_ID",t.CHANGE_ASS_NAME="CHANGE_ASS_NAME",t.CHANGE_ASS_CATEGORY="CHANGE_ASS_CATEGORY",t.SELECT_ASS_ALL="SELECT_ASS_ALL",t.SELECT_ASS_ITEM="SELECT_ASS_ITEM",t.MODIFY_ASS_ITEM_FETCH="MODIFY_ASS_ITEM_FETCH",t.INSERT_ASS_ITEM_FETCH="INSERT_ASS_ITEM_FETCH",t.BEFORE_ASS_IMPORT="BEFORE_ASS_IMPORT",t.CLOSE_ASS_IMPORT_CONTENT="CLOSE_ASS_IMPORT_CONTENT",t.AFTER_ASS_IMPORT="AFTER_ASS_IMPORT",t.AFTER_ASSGETAMB_GET="AFTER_ASSGETAMB_GET",t.CHANGE_AMB_RELATE_ASSCATEGROY_LIST="CHANGE_AMB_RELATE_ASSCATEGROY_LIST",t.CHANGE_ASS_DISABLE_STATE="CHANGE_ASS_DISABLE_STATE",t.CHANGE_REVERS_ASS_MODAL="CHANGE_REVERS_ASS_MODAL",t.CHANGE_REVERS_CATEGORY="CHANGE_REVERS_CATEGORY",t.SELECT_REVERS_ASS_CHECK="SELECT_REVERS_ASS_CHECK",t.CHANGE_REVERS_ASS_ID="CHANGE_REVERS_ASS_ID",t.CHANGE_REVERSASS_CONFIRM_SHOW="CHANGE_REVERSASS_CONFIRM_SHOW",t.CLEAR_REVERS_ASS="CLEAR_REVERS_ASS",t.REVERS_ASS_FETCH="REVERS_ASS_FETCH",t.CHANGE_CURRENT_PAGE_FZHE="CHANGE_CURRENT_PAGE_FZHE",t.CHANGE_SELECT_AC_LIST_MODAL_DISPLAY="CHANGE_SELECT_AC_LIST_MODAL_DISPLAY",t.GET_ASS_IMPORT_PROGRESS="GET_ASS_IMPORT_PROGRESS",t.CHANGE_ASS_MESSAGEMASK="CHANGE_ASS_MESSAGEMASK",t.CHANGE_REVERSE_OLD_NAME="CHANGE_REVERSE_OLD_NAME",t.CHANGE_REVERSE_NEW_NAME="CHANGE_REVERSE_NEW_NAME",t.CHANGE_ASS_CATEGORY_MODAL_VISIBLE="CHANGE_ASS_CATEGORY_MODAL_VISIBLE"},1417:function(e,t,n){},1457:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=C(n(47)),l=C(n(37)),u=C(n(100)),i=C(n(32)),c=C(n(89)),s=C(n(45)),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(46),n(38),n(99),n(51),n(88),n(55);var d=C(n(1)),f=n(17),m=(n(18),_(n(1316))),g=(_(n(43)),_(n(27))),p=n(22);function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function C(e){return e&&e.__esModule?e:{default:e}}n(1417);var E=s.default.Option,A=c.default.Group,T=(0,f.immutableRenderDecorator)(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,d.default.Component),o(t,[{key:"render",value:function(){var e=this.props,t=e.dispatch,n=e.assItem,a=e.tags,o=e.asscategory,f=e.FzModelDisplay,_=e.lrpzFzhsPermission,C=(e.fzhsState,e.judgeAssEnter),T=e.onCancel,y=e.onOk,S=e.onChangeId,I=e.onChangeName,h=e.CUD_ASS;sessionStorage.getItem("handleAss");return d.default.createElement(r.default,{title:"insertLrpz"==C||"insert"==sessionStorage.getItem("handleAss")?"新增辅助核算":"编辑",cancelText:"关闭",maskClosable:!1,visible:f,onCancel:T,footer:[d.default.createElement(i.default,{key:"cancel",type:"ghost",onClick:T},"取 消"),d.default.createElement(i.default,{key:"ok",disabled:"insertLrpz"==C?(0,p.judgePermission)(_).disabled:(0,p.judgePermission)(h).disabled,type:"insert"==sessionStorage.getItem("handleAss")?"ghost":"primary",onClick:function(){return y("save")}},"保 存"),d.default.createElement(i.default,{key:"addNextAc",type:"primary",disabled:(0,p.judgePermission)(h).disabled,style:{display:"insert"==sessionStorage.getItem("handleAss")?"insertLrpz"==C?"none":"inline-block":"none"},onClick:function(){y()}},"保存并新增")],width:"480px"},d.default.createElement("div",{className:"fzmodel-wrap"},d.default.createElement("div",{className:"fzmodel-item",style:{display:"insert"===sessionStorage.getItem("handleAssCustom")?"block":"none"}},d.default.createElement("label",null,"类别："),d.default.createElement(u.default,{value:n.get("asscategory"),onChange:function(e){t(m.changeAssCategory(e.target.value))}})),d.default.createElement("div",{className:"fzmodel-item"},d.default.createElement("label",null,"编码："),d.default.createElement(u.default,{value:n.get("assid"),placeholder:"编码支持数字和大小写英文字母",onChange:function(e){if(e.target.value.length>g.CODE_LENGTH)return l.default.warn("辅助核算编码位数不能超过"+g.CODE_LENGTH+"位");S(e.target.value)}})),d.default.createElement("div",{className:"fzmodel-item"},d.default.createElement("label",null,"名称："),d.default.createElement(u.default,{value:n.get("assname"),onChange:function(e){I(e.target.value)}})),d.default.createElement("div",{className:"fzmodel-item",style:{display:"insertLrpz"==C?"block":"none"}},d.default.createElement("label",null,"类别："),d.default.createElement("span",{className:"fzmodel-item-category"},n.get("asscategory"))),d.default.createElement("div",{className:"fzmodel-item",style:{display:"insertLrpz"==C||"insert"===sessionStorage.getItem("handleAssCustom")?"none":"block"}},d.default.createElement("label",null,"类别："),d.default.createElement(s.default,{style:{width:150},showSearch:!0,mode:"tags",allowClear:!0,optionFilterProp:"children",notFoundContent:"无法找到相应科目",value:o?[o]:[],onChange:function(e){0==e.length?t(m.changeAssCategory("")):e.length>=1&&t(m.changeAssCategory(e[0]))},disabled:"modifyass"==n.get("handleAss")},(a||[]).map(function(e,t){return d.default.createElement(E,{key:t,value:e},e)}))),d.default.createElement("div",{className:"fzmodel-item",style:{display:"insertLrpz"==C||"insert"==sessionStorage.getItem("handleAss")||"insert"===sessionStorage.getItem("handleAssCustom")?"none":"block"}},d.default.createElement("label",null,"状态："),d.default.createElement(A,{value:"TRUE"===n.get("disable")?"TRUE":"FALSE",onChange:function(e){return t(m.changeAssDisableState(e.target.value))}},d.default.createElement(c.default,{key:"FALSE",value:"FALSE"},"启用"),d.default.createElement(c.default,{key:"TRUE",value:"TRUE"},"禁用"))),d.default.createElement("ul",{className:"uses-tip",style:{display:"insertLrpz"==C?"none":"block"}},d.default.createElement("li",null,"系统预置“客户”、“供应商”、“职员”、“项目”、“部门”五种辅助核算类别，这五种类别不能被修改或删除；"),d.default.createElement("li",null,"用户可自定义辅助核算类别，请在“类别”栏输入需要自定义的类型名称即可；"),d.default.createElement("li",null,"用户自定义的辅助核算类别下应至少有一个“编码”，否则该类别将被自动清除。"))))}}]),t}())||a;t.default=T},1577:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(37),l=(a=r)&&a.__esModule?a:{default:a};t.default=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,n=arguments[1];return((e={},c(e,i.INIT_CXPZ,function(){return s}),c(e,i.BEFORE_GET_VC_LIST_FETCH,function(){return l.default.loading("正在加载中...")&&t}),c(e,i.BEFORE_DELETE_VC_ITEM_FETCH,function(){return t}),c(e,i.GET_VC_LIST_FETCH,function(){var e=n.receivedData;t.getIn(["flags","serchValue"]);return t=t.update("allVclist",function(e){return e.clear().merge((0,u.fromJS)(n.receivedData))}).update("vclist",function(e){return e.clear().merge((0,u.fromJS)(n.receivedData))}).set("issuedate",n.issuedate).setIn(["flags","vclistSize"],n.receivedData.length).setIn(["flags","maxVoucherId"],e.length?e.pop().vcindex:0).setIn(["flags","currentPage"],n.currentPage).setIn(["flags","pageCount"],n.pageCount).setIn(["flags","selectVcAll"],!1)}),c(e,i.SELECT_VC_ALL,function(){var e=!t.getIn(["flags","selectVcAll"]);return t.updateIn(["flags","selectVcAll"],function(e){return!e}).update("vclist",function(t){return t.map(function(t){return t.set("checkboxDisplay",e)})})}),c(e,i.NOT_SELECT_VC_ALL,function(){return t.setIn(["flags","selectVcAll"],!1).update("vclist",function(e){return e.map(function(e){return e.set("checkboxDisplay",!1)})})}),c(e,i.SELECT_VC_ITEM,function(){return(t=t.updateIn(["vclist",n.idx,"checkboxDisplay"],function(e){return!e})).setIn(["flags","selectVcAll"],t.get("vclist").every(function(e){return e.get("checkboxDisplay")}))}),c(e,i.SORT_VC_LIST_BY_DATE,function(){t.getIn(["flags","vcdateSort"]);return t.updateIn(["flags","vcdateSort"],function(e){return-e})}),c(e,i.REVERSE_VC_LIST,function(){t.getIn(["flags","vcindexSort"]);return t.updateIn(["flags","vcindexSort"],function(e){return-e})}),c(e,i.CLEAR_CXPZ_STATE,function(){return t.update("vclist",function(e){return e.clear()}).setIn(["flags","selectVcAll"],!1).set("issuedate","")}),c(e,i.BEFORE_VC_IMPORT,function(){return t.setIn(["flags","showMessageMask"],!0)}),c(e,i.CLOSE_VC_IMPORT_CONTENT,function(){return t=t.setIn(["importProgressInfo","message"],"").setIn(["importProgressInfo","progress"],0).setIn(["importProgressInfo","successList"],(0,u.fromJS)([])).setIn(["importProgressInfo","failList"],(0,u.fromJS)([])).setIn(["importProgressInfo","timestamp"],"").setIn(["importProgressInfo","accessToken"],"").setIn(["flags","showMessageMask"],!1).setIn(["flags","iframeload"],!1).set("importresponlist",s.get("importresponlist")).set("message","")}),c(e,i.AFTER_VC_IMPORT,function(){return t=n.receivedData.code?t.setIn(["flags","iframeload"],!0).set("message",(0,u.fromJS)(n.receivedData.message)):t.set("importresponlist",(0,u.fromJS)(n.receivedData.data)).setIn(["flags","iframeload"],!0).set("message",(0,u.fromJS)(n.receivedData.message))}),c(e,i.SORT_VC_LIST_BY_REVIEWED,function(){return t.updateIn(["flags","vcreviewedSort"],function(e){return-e})}),c(e,i.GET_CXPZ_IMPORT_PROGRESS,function(){return t=t.setIn(["importProgressInfo","message"],n.receivedData.message).setIn(["importProgressInfo","progress"],n.receivedData.data.progress).setIn(["importProgressInfo","successList"],(0,u.fromJS)(n.receivedData.data.successList)).setIn(["importProgressInfo","failList"],(0,u.fromJS)(n.receivedData.data.failList)).setIn(["importProgressInfo","timestamp"],(0,u.fromJS)(n.receivedData.data.timestamp)).setIn(["importProgressInfo","accessToken"],(0,u.fromJS)(n.accessToken))}),c(e,i.CHANGE_CXPZ_MESSAGEMASK,function(){return t=t.setIn(["importProgressInfo","message"],"").setIn(["importProgressInfo","progress"],0).setIn(["importProgressInfo","successList"],(0,u.fromJS)([])).setIn(["importProgressInfo","failList"],(0,u.fromJS)([])).setIn(["importProgressInfo","timestamp"],"").setIn(["importProgressInfo","accessToken"],"").setIn(["flags","showMessageMask"],!1)}),e)[n.type]||function(){return t})()},n(38);var u=n(18),i=(n(22),function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1343)));function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=(0,u.fromJS)({flags:{selectedVcItemArray:[],selectVcAll:!1,maxVoucherId:"0",vclistSize:0,lastvcindex:"",vcindexSort:1,vcdateSort:1,vcreviewedSort:1,showMessageMask:!1,iframeload:!1,serchValue:"",currentPage:1,pageCount:0},issuedate:"",allVclist:[],vclist:[],importresponlist:{failJsonList:[],successJsonList:[]},message:"",importProgressInfo:{accessToken:"",total:0,progress:0,message:"",successList:[],failList:[],timestamp:""}})},1579:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.changeLsmxMorePeriods=t.getBusinessDetail=t.changeDetailAccountCommonString=t.getDetailsListInfo=t.getCalculateListInfo=t.getDetailList=t.getPeriodDetailList=void 0;var a,r=f(n(1580)),l=n(52),u=(a=l)&&a.__esModule?a:{default:a},i=(n(18),n(22)),c=(f(n(30)),f(n(27))),s=f(n(43)),o=f(n(1242)),d=f(n(60));function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}t.getPeriodDetailList=function(e){return function(t,n){var a="DETAIL_AMOUNT_TYPE_BALANCE";t(m(e,a,"",!0,"")),t({type:r.SWITCH_LOADING_MASK});n().lsmxState;(0,u.default)("getBusinessDetailList","POST",JSON.stringify({year:e?e.substr(0,4):"",month:e?e.substr(6,2):"",endYear:"",endMonth:"",getPeriod:"true",categoryUuid:"",currentPage:1,amountType:a,accountUuid:"",pageSize:c.LSMX_LIMIE_LENGTH}),function(n){if(t({type:r.SWITCH_LOADING_MASK}),(0,i.showMessage)(n)){var l=t(s.everyTableGetPeriod(n)),u=e||l,c=n.data.periodDtoJson?t(s.everyTableGetIssuedate(n.data.periodDtoJson)):"";t({type:r.GET_DETAIL_LIST,receivedData:n.data.result.detailList,period:n.data.periodDtoJson,issuedate:u,issues:c,endissuedate:"",getPeriod:"true",currentPage:1,amountType:a,allHappenAmount:n.data.result.allHappenAmount,allHappenBalanceAmount:n.data.result.allHappenBalanceAmount,allIncomeAmount:n.data.result.allIncomeAmount,allExpenseAmount:n.data.result.allExpenseAmount,allBalanceAmount:n.data.result.allBalanceAmount,pageCount:n.data.result.pages,property:n.data.result.propertyName})}}),t(o.getRunningAccount())}},t.getDetailList=function(e,t,n,a,l){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",d=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"";return function(f,g){f({type:r.SWITCH_LOADING_MASK});var p=g().lsmxState;a=a||p.getIn(["flags","amountType"]);var _=l?"全部"===l?"":l.split(c.TREE_JOIN_STR)[0]:"",C=""===n?p.get("currentPage"):n;e="全部"==e?"":e;var E=p.getIn(["flags","paymentType"]),A=p.getIn(["flags","accountType"]),T=p.getIn(["flags","defaultCategory"]);"全部"===A&&"LB_QB"===E&&"DETAIL_AMOUNT_TYPE_HAPPEN"===a||"init"===T&&"DETAIL_AMOUNT_TYPE_HAPPEN"===a?(0,u.default)("getRunningDetailCategory","POST",JSON.stringify({year:t?t.substr(0,4):"",month:t?t.substr(6,2):"",endYear:d?d.substr(0,4):"",endMonth:d?d.substr(6,2):"",accountUuid:_,amountType:a}),function(e){(0,i.showMessage)(e)&&(f({type:r.GET_RUNNING_CATEGORY_DETAIL,receivedData:e.data,accountUuid:l,defaultCategory:!0}),(0,u.default)("getBusinessDetailList","POST",JSON.stringify({year:t?t.substr(0,4):"",month:t?t.substr(6,2):"",endYear:d?d.substr(0,4):"",endMonth:d?d.substr(6,2):"",getPeriod:"true",accountUuid:_,categoryUuid:e.data.result[0].uuid,amountType:a,propertyCost:e.data.result[0].propertyCost,currentPage:C,pageSize:c.LSMX_LIMIE_LENGTH}),function(n){if(f({type:r.SWITCH_LOADING_MASK}),(0,i.showMessage)(n)){var u=n.data.periodDtoJson?f(s.everyTableGetIssuedate(n.data.periodDtoJson)):"";f({type:r.GET_DETAIL_LIST,receivedData:n.data.result.detailList,period:n.data.periodDtoJson,issuedate:t,issues:u,endissuedate:d,currentPage:C,categorValue:e.data.result[0].uuid,amountType:a,accountUuid:l,accountType:e.data.result[0].name,categoryType:e.data.result[0].categoryType,allHappenAmount:n.data.result.allHappenAmount,allHappenBalanceAmount:n.data.result.allHappenBalanceAmount,allIncomeAmount:n.data.result.allIncomeAmount,allExpenseAmount:n.data.result.allExpenseAmount,allBalanceAmount:n.data.result.allBalanceAmount,pageCount:n.data.result.pages,getPeriod:"true",property:n.data.result.propertyName})}}))}):(f(m(t,a,l,!1,d)),(0,u.default)("getBusinessDetailList","POST",JSON.stringify({year:t?t.substr(0,4):"",month:t?t.substr(6,2):"",endYear:d?d.substr(0,4):"",endMonth:d?d.substr(6,2):"",getPeriod:"true",accountUuid:_,categoryUuid:e,amountType:a,propertyCost:o,currentPage:C,pageSize:c.LSMX_LIMIE_LENGTH}),function(n){if(f({type:r.SWITCH_LOADING_MASK}),(0,i.showMessage)(n)){var u=n.data.periodDtoJson?f(s.everyTableGetIssuedate(n.data.periodDtoJson)):"";f({type:r.GET_DETAIL_LIST,receivedData:n.data.result.detailList,period:n.data.periodDtoJson,issuedate:t,issues:u,endissuedate:d,currentPage:C,categorValue:e,amountType:a,accountUuid:l,allHappenAmount:n.data.result.allHappenAmount,allHappenBalanceAmount:n.data.result.allHappenBalanceAmount,allIncomeAmount:n.data.result.allIncomeAmount,allExpenseAmount:n.data.result.allExpenseAmount,allBalanceAmount:n.data.result.allBalanceAmount,pageCount:n.data.result.pages,getPeriod:"true",property:n.data.result.propertyName})}}))}},t.getCalculateListInfo=function(e){return function(e,t){t().lsmxState.getIn(["flags","amountType"]);(0,u.default)("getRunningSettingInfo","GET","",function(t){var n=[];(0,i.showMessage)(t)&&(t.data.hideCategoryList.map(function(e){"LB_SFGL"!==e.categoryType&&n.push(e)}),e({type:r.INIT_DETAIL_ACCOUNT_LIST,hideCategoryList:n}))})}};var m=t.getDetailsListInfo=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l=arguments[4];return function(s,o){var d=o().lsmxState;t=t||d.getIn(["flags","amountType"]);var f=n?"全部"===n?"":n.split(c.TREE_JOIN_STR)[0]:"";(0,u.default)("getRunningDetailCategory","POST",JSON.stringify({year:e?e.substr(0,4):"",month:e?e.substr(6,2):"",endYear:l?l.substr(0,4):"",endMonth:l?l.substr(6,2):"",accountUuid:f,amountType:t}),function(e){(0,i.showMessage)(e)&&s({type:r.GET_RUNNING_CATEGORY_DETAIL,receivedData:e.data,accountUuid:n,defaultCategory:a})})}};t.changeDetailAccountCommonString=function(e,t,n){return function(a){var l="string"==typeof t?[e+"Temp",t]:[e+"Temp"].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t));"flags"===t[0]&&(l=t),a({type:r.CHANGE_DETAIL_ACCOUNT_COMMON_STRING,tab:e,placeArr:l,value:n})}},t.getBusinessDetail=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return function(a){a({type:r.SWITCH_LOADING_MASK});var l=e.get("categoryUuid"),o=e.get("monthExpenseAmount"),f=e.get("monthIncomeAmount"),g=0==o&&0==f?"DETAIL_AMOUNT_TYPE_HAPPEN":"DETAIL_AMOUNT_TYPE_BALANCE",p=e.get("categoryType"),_=e.get("categoryName"),C=e.get("propertyCost");(0,u.default)("getBusinessDetailList","POST",JSON.stringify({year:t?t.substr(0,4):"",month:t?t.substr(6,2):"",endYear:n?n.substr(0,4):"",endMonth:n?n.substr(6,2):"",categoryUuid:l,currentPage:1,amountType:g,propertyCost:C,pageSize:c.LSMX_LIMIE_LENGTH,getPeriod:"true"}),function(e){if(a({type:r.SWITCH_LOADING_MASK}),(0,i.showMessage)(e)){a(m(t,g,"",!1,n));var u=e.data.periodDtoJson?a(s.everyTableGetIssuedate(e.data.periodDtoJson)):"";a({type:r.GET_DETAIL_LIST,receivedData:e.data.result.detailList,period:e.data.periodDtoJson,issuedate:t,issues:u,endissuedate:n,categoryType:p,accountType:_,currentPage:1,categorValue:l,amountType:g,allHappenAmount:e.data.result.allHappenAmount,allHappenBalanceAmount:e.data.result.allHappenBalanceAmount,allIncomeAmount:e.data.result.allIncomeAmount,allExpenseAmount:e.data.result.allExpenseAmount,allBalanceAmount:e.data.result.allBalanceAmount,pageCount:e.data.result.pages,getPeriod:"true",property:e.data.result.propertyName,propertyCost:C}),a(d.addPageTabPane("MxbPanes","收支明细表","收支明细表","收支明细表")),a(d.addHomeTabpane("Mxb","收支明细表"))}})}},t.changeLsmxMorePeriods=function(e){return{type:r.CHANGE_LSMX_MORE_PERIODS,chooseperiods:e}}},1580:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SWITCH_LOADING_MASK="SWITCH_LOADING_MASK",t.GET_DETAIL_LIST="GET_DETAIL_LIST",t.INIT_DETAIL_ACCOUNT_LIST="INIT_DETAIL_ACCOUNT_LIST",t.GET_RUNNING_CATEGORY_DETAIL="GET_RUNNING_CATEGORY_DETAIL",t.CHANGE_DETAIL_ACCOUNT_COMMON_STRING="CHANGE_DETAIL_ACCOUNT_COMMON_STRING",t.CHANGE_LSMX_MORE_PERIODS="CHANGE_LSMX_MORE_PERIODS",t.INIT_LSMXB="INIT_LSMXB"},1738:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=I(n(47)),l=I(n(45)),u=I(n(100)),i=I(n(1230)),c=I(n(129)),s=I(n(32)),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(46),n(55),n(99),n(1231),n(128),n(51);var d=I(n(1)),f=n(17),m=n(18),g=n(22),p=n(127),_=I(n(6)),C=S(n(1243)),E=(S(n(1245)),S(n(1249))),A=S(n(1239)),T=S(n(27)),y=n(482);function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function I(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var v=(0,f.immutableRenderDecorator)(a=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),u=0;u<r;u++)l[u]=arguments[u];return n=a=h(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.state={manageModal:!1},h(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,d.default.Component),o(t,[{key:"render",value:function(){var e=this,t=this.props,n=(t.ass,t.isCheck),a=t.className,o=t.accountingType,f=t.item,S=t.line,I=(t.main,t.dispatch),h=t.selectList,v=(t.openCardModal,t.openRunningModal,t.panes,t.editLrAccountPermission),N=t.cxlsState,L=t.accountList,O=t.calculationState,b=t.showDrawer,M=this.state.manageModal,R=N.get("modalTemp"),D=f.get("direction"),P=Number(f.get("amount")),G=Number(f.get("notHandleAmount")),w=f.get("runningState");"STATE_YYSR_TS"!==w&&"STATE_YYZC_TG"!==w||(G=-Math.abs(G),P=-Math.abs(P));var U=f.get("flowType"),k=(f.get("beManagemented"),function(e,t,n,a){var r=e.toFixed(2),l=t.toFixed(2),u=void 0,i=void 0,c=void 0,s=void 0;return"debit"===n?(i=d.default.createElement("div",{className:"padding-no-content"}),s=d.default.createElement("div",{className:"padding-no-content"}),"FLOW_INADVANCE"===a?(u=d.default.createElement("div",{className:"amount-left"},Math.abs(r).toFixed(2)),c=d.default.createElement("div",{className:"amount-left"},Math.abs(l).toFixed(2))):(u=d.default.createElement("div",{className:"amount-right"},r),c=d.default.createElement("div",{className:"amount-right"},l))):(u=d.default.createElement("div",{className:"padding-no-content"}),c=d.default.createElement("div",{className:"padding-no-content"}),"FLOW_INADVANCE"===a?(i=d.default.createElement("div",{className:"amount-left"},Math.abs(r).toFixed(2)),s=d.default.createElement("div",{className:"amount-left"},Math.abs(l).toFixed(2))):(i=d.default.createElement("div",{className:"amount-right"},r),s=d.default.createElement("div",{className:"amount-right"},l))),{receiveAmount:u,payAmount:i,receiveNotAmount:c,payNotAmount:s}}(P,G,D,U)),H=k.receiveAmount,J=k.payAmount,F=k.receiveNotAmount,x=k.payNotAmount,B=f.get("assList").size?"":f.get("acFullName");f.get("assList").size&&f.get("assList").forEach(function(e){return B=B?B+"、"+e.get("assName"):e.get("assName")});var Y=N.get("runningFlowTemp"),K=(O.getIn(["payManageList","childList"]),R.get("uuidList")),j=Y.get("categoryType"),Z=y.categoryTypeAll[j],X=(Y.getIn([Z,"contactsCardRange"]),Y.get("runningDate"),Y.get("magenerType")),z=Y.get("usedCard"),W=R.get("assType"),V=N.getIn(["flags","managerCategoryList"]),Q=h.indexOf(f.get("uuid"))>-1,q=f.get("parentUuid")?f.get("parentUuid"):f.get("uuid");return d.default.createElement(p.TableItem,{line:S+1,className:a,heightAuto:!0},d.default.createElement("li",{onClick:function(e){e.stopPropagation(),I(E.accountItemCheckboxCheck(Q,q,f.get("runningDate")))}},d.default.createElement(c.default,{checked:Q})),d.default.createElement(p.TableOver,null,f.get("runningDate")),d.default.createElement(p.TableOver,{textAlign:"left",isLink:!0,onClick:function(){I(C.getYllsBusinessData(f,b))}},d.default.createElement("span",{className:"account-flowNumber"},f.get("flowNumber"))),d.default.createElement(p.TableOver,{textAlign:"left"},f.get("categoryName")),d.default.createElement(p.TableOver,{textAlign:"left"},f.get("runningAbstract")+(f.get("cardAbstract")?f.get("cardAbstract"):"")),d.default.createElement(p.TableOver,{textAlign:"left"},y.type[f.get("runningType")]),d.default.createElement("li",null,"manages"===o&&n?d.default.createElement("div",null,F,x):d.default.createElement("div",null,F)),d.default.createElement("li",null,"manages"===o&&n?d.default.createElement("div",null,H,J):d.default.createElement("div",null,x)),d.default.createElement(p.TableOver,{textAlign:"left"},f.get("cardPersonName")?f.get("cardPersonName"):""),d.default.createElement("li",null,function(t){var n=t.get("waitReceiving"),a=t.get("waitPaying"),r=(t.get("makeOut"),t.get("carryover"),t.get("certified"),t.get("received")),l=t.get("receiving"),u=(t.get("turnOut"),t.get("payed")),i=t.get("paying"),c=t.get("shouldReturn"),o=(t.get("runningType"),[]);switch(n){case"1":o.push(d.default.createElement("div",{key:"a1"},d.default.createElement("span",null,"暂收款")));break;case"2":o.push(d.default.createElement("div",{key:"a2"},d.default.createElement("span",null,"全部收款")));break;case"3":o.push(d.default.createElement("div",{key:"a3"},d.default.createElement("span",null,"部分收款")))}switch(a){case"1":o.push(d.default.createElement("div",{key:"b1"},d.default.createElement("span",null,"暂付款")));break;case"2":o.push(d.default.createElement("div",{key:"b2"},d.default.createElement("span",null,"全部付款")));break;case"3":o.push(d.default.createElement("div",{key:"b3"},d.default.createElement("span",null,"部分付款")))}switch(i){case"1":o.push(d.default.createElement("div",{key:"z1"},d.default.createElement("span",null,"应付款"),d.default.createElement(s.default,{type:"ghost",className:"handle-btn",disabled:!v,onClick:function(){I(A.getBusinessManagerModal(t,function(){e.setState({manageModal:!0})},"credit"))}},"付")));break;case"2":o.push(d.default.createElement("div",{key:"z2"},d.default.createElement("span",null,"全部核销")));break;case"3":o.push(d.default.createElement("div",{key:"z3"},d.default.createElement("span",null,"部分核销"),d.default.createElement(s.default,{type:"ghost",className:"handle-btn",disabled:!v,onClick:function(){I(A.getBusinessManagerModal(t,function(){e.setState({manageModal:!0})},"credit"))}},"付")))}switch(r){case"1":o.push(d.default.createElement("div",{key:"c1"},d.default.createElement("span",null,"预收款"),d.default.createElement(s.default,{type:"ghost",disabled:!v,className:"handle-btn",onClick:function(){I(A.getBusinessManagerModal(t,function(){e.setState({manageModal:!0})},"credit"))}},"退")));break;case"2":o.push(d.default.createElement("div",{key:"c2"},d.default.createElement("span",null,"全部核销")));break;case"3":o.push(d.default.createElement("div",{key:"c3"},d.default.createElement("span",null,"部分核销"),d.default.createElement(s.default,{type:"ghost",className:"handle-btn",disabled:!v,onClick:function(){I(A.getBusinessManagerModal(t,function(){e.setState({manageModal:!0})},"credit"))}},"退")))}switch(u){case"1":o.push(d.default.createElement("div",{key:"d1"},d.default.createElement("span",null,"预付款"),d.default.createElement(s.default,{type:"ghost",className:"handle-btn",disabled:!v,onClick:function(){I(A.getBusinessManagerModal(t,function(){e.setState({manageModal:!0})},"debit"))}},"退")));break;case"2":o.push(d.default.createElement("div",{key:"d2"},d.default.createElement("span",null,"全部核销")));break;case"3":o.push(d.default.createElement("div",{key:"d3"},d.default.createElement("span",null,"部分核销"),d.default.createElement(s.default,{type:"ghost",className:"handle-btn",disabled:!v,onClick:function(){I(A.getBusinessManagerModal(t,function(){e.setState({manageModal:!0})},"debit"))}},"退")))}switch(l){case"1":o.push(d.default.createElement("div",{key:"e1"},d.default.createElement("span",null,"应收款"),d.default.createElement(s.default,{type:"ghost",className:"handle-btn",disabled:!v,onClick:function(){I(A.getBusinessManagerModal(t,function(){e.setState({manageModal:!0})},"debit"))}},"收")));break;case"2":o.push(d.default.createElement("div",{key:"e2"},d.default.createElement("span",null,"全部收款")));break;case"3":o.push(d.default.createElement("div",{key:"e3"},d.default.createElement("span",null,"部分收款"),d.default.createElement(s.default,{type:"ghost",className:"handle-btn",disabled:!v,onClick:function(){I(A.getBusinessManagerModal(t,function(){e.setState({manageModal:!0})},"debit"))}},"收")))}switch(c){case"1":o.push(d.default.createElement("div",{key:"f1"},d.default.createElement("span",null,"应退款"),d.default.createElement(s.default,{type:"ghost",className:"handle-btn",disabled:!v,onClick:function(){I(A.getBusinessManagerModal(t,function(){e.setState({manageModal:!0})},"credit"))}},"退")));break;case"2":o.push(d.default.createElement("div",{key:"f2"},d.default.createElement("span",null,"全部退款")));break;case"3":o.push(d.default.createElement("div",{key:"f3"},d.default.createElement("span",null,"部分退款"),d.default.createElement(s.default,{type:"ghost",className:"handle-btn",onClick:function(){I(A.getBusinessManagerModal(t,function(){e.setState({manageModal:!0})},"credit"))}},"退")))}return d.default.createElement("div",null,o)}(f)),d.default.createElement(r.default,{visible:M,onCancel:function(){e.setState({manageModal:!1}),I(A.changeCxAccountCommonOutString("modalTemp",(0,m.fromJS)({runningDate:(0,g.formatDate)()})))},className:"single-manager",title:("debit"===X?"收款":"付款")+"核销",okText:"保存",onOk:function(){I(A.insertlrAccountManagerModal(function(){return e.setState({manageModal:!1})},Z,"fromcalCultion"))}},d.default.createElement("div",{className:"manager-content"},d.default.createElement("div",null,d.default.createElement("label",null,"往来单位："),(z&&z.get("code"))+" "+(z&&z.get("name"))),d.default.createElement("div",{className:"manager-item"},d.default.createElement("label",null,"日期："),d.default.createElement(i.default,{value:R.get("runningDate")?(0,_.default)(R.get("runningDate")):"",onChange:function(e){var t=e.format("YYYY-MM-DD");I(A.changeCxAccountCommonOutString(["modalTemp","runningDate"],t))}})),d.default.createElement("div",{className:"manager-item"},d.default.createElement("label",null,"摘要："),d.default.createElement(u.default,{value:R.get("runningAbstract"),onChange:function(e){I(A.changeCxAccountCommonOutString(["modalTemp","runningAbstract"],e.target.value))}})),d.default.createElement("div",{className:"manager-item"},d.default.createElement("label",null,("debit"===X?"收款":"付款")+"金额："),d.default.createElement(u.default,{value:R.get("handlingAmount"),onChange:function(e){(0,g.numberTest)(e,function(e){I(A.changeCxAccountCommonOutString(["modalTemp","handlingAmount"],e))})}})),d.default.createElement("div",{className:"manager-item"},d.default.createElement("label",null,"账户："),d.default.createElement(l.default,{value:R.get("accountName"),onChange:function(e){var t=e.split(T.TREE_JOIN_STR)[0];e.split(T.TREE_JOIN_STR)[1];I(A.changeCxAccountCommonOutString(["modalTemp","accountName"],e)),I(A.changeCxAccountCommonOutString(["modalTemp","accountUuid"],t))}},L.getIn([0,"childList"]).map(function(e,t){return d.default.createElement(Option,{key:t,value:""+e.get("uuid")+T.TREE_JOIN_STR+e.get("name")},e.get("name"))}))),R.get("beOpened")?d.default.createElement("div",{className:"manager-item"},d.default.createElement("label",null,{AC_AR:"应收期初类别:",AC_AP:"应付期初类别:",AC_PP:"预收期初类别:",AC_ADV:"预付期初类别:"}[W]),d.default.createElement(l.default,{value:K&&K.getIn([0,"categoryName"])?K.getIn([0,"categoryName"]):"",onSelect:function(e){var t=e.split(T.TREE_JOIN_STR),n=K.getIn([0,"uuid"]),a=K.getIn([0,"assType"]),r=t[1],l=t[2],u=(0,m.fromJS)([{uuid:n,assType:a,categoryName:r,categoryUuid:l,beOpened:!0}]);I(A.changeCxAccountCommonOutString(["modalTemp","uuidList"],u))}},V.get(0)&&V.get(0).map(function(e,t){return d.default.createElement(Option,{key:t,value:""+e.get("code")+T.TREE_JOIN_STR+e.get("name")+T.TREE_JOIN_STR+e.get("uuid")},e.get("name"))}))):"")))}}]),t}())||a;t.default=v},2446:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=A(n(45)),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(55);var u=A(n(1)),i=n(56),c=(n(18),A(n(2447))),s=A(n(2449)),o=A(n(2451)),d=A(n(2453)),f=A(n(2455)),m=A(n(2457)),g=(A(n(2459)),A(n(1457)),n(127));E(n(27));n(2461);var p=A(n(1281)),_=E(n(1249)),C=n(482);function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function A(e){return e&&e.__esModule?e:{default:e}}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}r.default.Option;var y=(0,i.connect)(function(e){return e})(a=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={showCardModal:!1,showRunningModal:!1,showPayOrReceive:!1,showRunningInfoModal:!1,runningInfoModalType:!1,yllsVisible:!1},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default.Component),l(t,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){this.props.dispatch(_.getManageCategoryListInfo()),this.props.dispatch(_.getPeriodCalculateList("","manages",!0,"全部","")),this.props.dispatch(_.changeCalculateCommonString("calculate","cardUuid","")),this.props.dispatch(_.changeCalculateCommonString("calculate",["usedCard","code"],"全部")),this.props.dispatch(_.changeCalculateCommonString("calculate",["usedCard","name"],""))}}]),l(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.props.allState!=e.allState||this.props.homeState!=e.homeState||this.props.calculationState!=e.calculationState||this.props.accountConfState!=e.accountConfState||this.props.lrAccountState!=e.lrAccountState||this.props.yllsState!=e.yllsState||this.props.cxlsState!=e.cxlsState||this.state!==t}},{key:"componentWillReceiveProps",value:function(e){this.props.homeState.get("homeActiveKey")===e.homeState.get("homeActiveKey")&&this.props.homeState.get("pageActive")===e.homeState.get("pageActive")||!0!==this.state.yllsVisible||this.setState({yllsVisible:!1})}},{key:"render",value:function(){var e,t=this,n=this.props,a=n.allState,r=n.homeState,l=n.calculationState,i=n.accountConfState,E=n.dispatch,A=(n.lrAccountState,n.cxlsState),y=n.yllsState,S=this.state,I=(S.showCardModal,S.showRunningModal,S.showPayOrReceive,S.showRunningInfoModal,S.runningInfoModalType,S.AmountValue),h=S.inputValue,v=S.yllsVisible,N=r.getIn(["permissionInfo","LrAccount"]),L=N.getIn(["edit","permission"]),O=N.getIn(["review","permission"]),b=r.getIn(["permissionInfo","Pz"]).getIn(["edit","permission"]),M=r.get("panes"),R=a.get("accountIssues"),D=l.get("flags"),P=l.get("calculateTemp"),G=i.get("accountList"),w=P.getIn(["ass","assid"]),U=P.getIn(["ass","asscategory"]),k=P.getIn(["ass","acId"]),H=P.getIn(["ass","totalName"]),J=P.get("handlingAmount"),F=P.get("accountName"),x=P.get("runningAbstract"),B=P.get("cardList"),Y=P.get("acList"),K=P.get("usedCard"),j=P.get("cardUuid"),Z=P.get("stockThingsList"),X=P.get("stockCard"),z=P.get("stockUuid"),W=P.get("typeList").toJS(),V=D.get("issuedate"),Q=(D.get("main"),D.get("accountingType")),q=D.get("curCategory"),$=(D.get("curAccountUuid"),D.get("payOrReceive"),D.get("selectList")),ee=D.get("debitSum"),te=D.get("creditSum"),ne=D.get("debitAmount"),ae=D.get("creditAmount"),re=D.get("isCheck"),le=D.get("showCalculateModal"),ue=D.get("selectDate"),ie=D.get("totalAmount"),ce=D.get("searchType"),se=D.get("invoicingType"),oe=D.get("certifiedType"),de=D.get("costTransferType"),fe=(l.get("runningCategory"),l.get("payManageList")),me=l.get("invoicingList"),ge=l.get("costTransferList"),pe=l.get("certificationList"),_e=me.get("billMakeOutType"),Ce=pe.get("billAuthType"),Ee=ge.get("runningState"),Ae=l.get("calculateTemp"),Te=y.get("lsItemData"),ye=A.get("modalTemp"),Se=r.getIn(["data","userInfo","sobInfo","moduleInfo"]),Ie=!!Se&&Se.indexOf("GL")>-1,he=!!Se&&Se.indexOf("RUNNING_GL")>-1,ve=y.get("curItem"),Ne=A.get("runningFlowTemp"),Le=Ne.get("magenerType"),Oe=Ne.get("categoryType"),be=C.categoryTypeAll[Oe],Me=Ne.getIn([be,"contactsCardRange"]),Re=A.getIn(["flags","isClose"]),De={invoicing:me.get("childList"),manages:fe.get("childList").filter(function(e,t){return t>0?e.get("uuid")!==fe.get("childList").getIn([t-1,"uuid"])&&"期初值"!==e.get("runningAbstract"):"期初值"!==e.get("runningAbstract")}),costTransfer:ge.get("childList").filter(function(e,t){return t>0?e.get("parentUuid")!==ge.get("childList").getIn([t-1,"parentUuid"])&&"期初值"!==e.get("runningAbstract"):"期初值"!==e.get("runningAbstract")}),certification:pe.get("childList")}[Q],Pe={manages:function(){return u.default.createElement(s.default,{ass:H,AmountValue:I,isCheck:re,selectList:$,debitSum:ee,creditSum:te,payManageList:fe,accountingType:Q,dispatch:E,panes:M,openCardModal:function(){return t.setState({showCardModal:!0})},openRunningModal:function(){return t.setState({showRunningModal:!0})},changeAmountValue:function(e){return t.setState({AmountValue:e})},editLrAccountPermission:L,cxlsState:A,accountList:G,showDrawer:function(){return t.setState({yllsVisible:!0})},calculationState:l})},invoicing:function(){return u.default.createElement(d.default,{ass:H,AmountValue:I,isCheck:re,selectList:$,invoicingList:me,accountingType:Q,dispatch:E,panes:M,openCardModal:function(){return t.setState({showCardModal:!0})},openRunningModal:function(){return t.setState({showRunningModal:!0})},changeAmountValue:function(e){return t.setState({AmountValue:e})},editLrAccountPermission:L,accountList:G,cxlsState:A,showDrawer:function(){return t.setState({yllsVisible:!0})}})},costTransfer:function(){return u.default.createElement(f.default,{ass:H,AmountValue:I,isCheck:re,selectList:$,costTransferList:ge,accountingType:Q,dispatch:E,panes:M,openCardModal:function(){return t.setState({showCardModal:!0})},openRunningModal:function(){return t.setState({showRunningModal:!0})},changeAmountValue:function(e){return t.setState({AmountValue:e})},editLrAccountPermission:L,accountList:G,cxlsState:A,showDrawer:function(){return t.setState({yllsVisible:!0})}})},certification:function(){return u.default.createElement(m.default,{ass:H,AmountValue:I,isCheck:re,selectList:$,certificationList:pe,accountingType:Q,dispatch:E,panes:M,openCardModal:function(){return t.setState({showCardModal:!0})},openRunningModal:function(){return t.setState({showRunningModal:!0})},changeAmountValue:function(e){return t.setState({AmountValue:e})},editLrAccountPermission:L,accountList:G,cxlsState:A,showDrawer:function(){return t.setState({yllsVisible:!0})}})}}[Q]();return u.default.createElement("div",{className:"calculate-box"},u.default.createElement(c.default,{ass:H,issues:R,issuedate:V,isCheck:re,accountingType:Q,dispatch:E,curCategory:q,assId:w,assCategory:U,acId:k,cardList:B,stockThingsList:Z,acList:Y,usedCard:K,stockCard:X,cardUuid:j,selectList:$,selectDate:ue,runningAbstract:x,showCalculateModal:le,handlingAmount:J,totalAmount:ie,accountName:F,mediumAcAssList:Ae,searchType:ce,inputValue:h,invoicingType:se,certifiedType:oe,billMakeOutType:_e,billAuthType:Ce,costTransferType:de,runningState:Ee,cxlsState:A,accountList:G,mainSouce:W,changeInputValue:function(e){return t.setState({inputValue:e})},newRunning:function(){return t.setState({showRunningModal:!0})},payOrReceiveOnClick:function(){return t.setState({showPayOrReceive:!0})},editLrAccountPermission:L,payManageList:fe,flags:D,stockUuid:z}),u.default.createElement(g.TableWrap,null,re&&"manages"==Q?u.default.createElement(o.default,{ass:H,AmountValue:I,isCheck:re,selectList:$,debitSum:ee,creditSum:te,debitAmount:ne,creditAmount:ae,payManageList:fe,accountingType:Q,dispatch:E,panes:M,openCardModal:function(){return t.setState({showCardModal:!0})},openRunningModal:function(){return t.setState({showRunningModal:!0})},changeAmountValue:function(e){return t.setState({AmountValue:e})},editLrAccountPermission:L,accountList:G,cxlsState:A,calculationState:l}):Pe,v?u.default.createElement(p.default,(T(e={yllsVisible:v,dispatch:E,yllsState:y,onClose:function(){return t.setState({yllsVisible:!1})},editLrAccountPermission:L,panes:M,lsItemData:Te,uuidList:De,inputValue:h,showDrawer:function(){return t.setState({yllsVisible:!0})},refreshList:function(){switch(Q){case"manages":E(_.getCalculateList(V,Q,"",q,j,re,h));break;case"invoicing":E(_.getCalculateInvoicingList(V,q,_e,h));break;case"certification":E(_.getCalculateCertificationList(V,q,Ce,h));break;case"costTransfer":E(_.getCalculateCarryoverList(V,Ee,h,"",j))}},fromCxls:!0,curItem:ve,modalTemp:ye,intelligentStatus:he,magenerType:Le,contactsCardRange:Me,categoryTypeObj:be,accountList:G,issuedate:V},"inputValue",h),T(e,"isClose",Re),T(e,"simplifyStatus",Ie),T(e,"editPzPermission",b),T(e,"reviewLrAccountPermission",O),e)):""))}}]),t}())||a;t.default=y},2447:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=y(n(47)),l=y(n(100)),u=y(n(1230)),i=y(n(32)),c=y(n(129)),s=y(n(45)),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(46),n(99),n(1231),n(51),n(128),n(55);var d=y(n(1)),f=n(17),m=(n(127),n(22)),g=(y(n(2448)),y(n(6))),p=(T(n(1229)),T(n(1249))),_=T(n(60)),C=n(18),E=T(n(27)),A=T(n(1239));T(n(1298));function T(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function y(e){return e&&e.__esModule?e:{default:e}}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=s.default.Option,v=(0,f.immutableRenderDecorator)(a=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),u=0;u<r;u++)l[u]=arguments[u];return n=a=I(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.state={manageModal:!1,carryoverModal:!1,invioceModal:!1,defineModal:!1,visible:!1},I(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,d.default.Component),o(t,[{key:"render",value:function(){var e,t=this,n=this.props,a=(n.ass,n.isCheck),o=n.accountingType,f=n.dispatch,T=(n.issues,n.issuedate),y=n.curCategory,I=(n.assId,n.assCategory,n.acId,n.selectList),v=(n.selectDate,n.totalAmount,n.handlingAmount,n.accountName,n.searchType),N=n.inputValue,L=n.changeInputValue,O=n.invoicingType,b=n.billMakeOutType,M=n.certifiedType,R=n.billAuthType,D=(n.costTransferType,n.runningState),P=n.cardList,G=n.acList,w=n.usedCard,U=n.stockCard,k=n.cardUuid,H=n.editLrAccountPermission,J=n.cxlsState,F=n.accountList,x=n.stockThingsList,B=n.payManageList,Y=(n.flags,n.mainSouce),K=n.stockUuid,j=this.state,Z=j.manageModal,X=j.carryoverModal,z=j.invioceModal,W=j.defineModal,V=J.get("modalTemp"),Q=V.get("uuidList"),q=J.getIn(["flags","managerCategoryList"]),$=[d.default.createElement(h,{key:"全部",value:"全部"+E.TREE_JOIN_STR+E.TREE_JOIN_STR},"全部")];P&&P.size&&P.forEach(function(e,t){$.push(d.default.createElement(h,{key:e.get("code"),value:""+e.get("code")+E.TREE_JOIN_STR+e.get("name")+E.TREE_JOIN_STR+e.get("uuid")},e.get("code")+" "+e.get("name")))}),G&&G.size&&G.map(function(e,t){$.push(d.default.createElement(h,{key:e.get("acId"),value:""+e.get("acId")+E.TREE_JOIN_STR+e.get("acFullName")+E.TREE_JOIN_STR+"ac"},e.get("acFullName")))});var ee={manages:function(){return"收付管理"},costTransfer:function(){return"成本结转"},certification:function(){return"发票认证"},invoicing:function(){return"开具发票"}}[o](),te={"":function(){return"全部"},BILL_AUTH_TYPE_CG:function(){return"进项发票认证"},BILL_AUTH_TYPE_TG:function(){return"退购发票认证"}}[M](),ne={"":function(){return"全部"},BILL_MAKE_OUT_TYPE_XS:function(){return"销项开票"},BILL_MAKE_OUT_TYPE_TS:function(){return"退销开票"}}[O](),ae={"":function(){return"全部"},STATE_YYSR_XS:function(){return"销售结转成本"},STATE_YYSR_TS:function(){return"退销结转成本"}}[D]();({SEARCH_TYPE_DATE:function(){return"日期"},SEARCH_TYPE_ABSTRACT:function(){return"摘要"},SEARCH_TYPE_RUNNING_TYPE:function(){return"类型"},SEARCH_TYPE_AMOUNT:function(){return"金额"}})[v]();return d.default.createElement("div",{className:"title"},d.default.createElement("span",{className:"title-date-margin-right"},d.default.createElement(s.default,{style:{width:86},value:ee,onChange:function(e){L(""),f(p.changeSearchType(["flags","accountingType"],e))}},Y.map(function(e,t){return d.default.createElement(h,{key:e.key,value:e.value},e.key)}))),"manages"===o?d.default.createElement("span",{className:"title-date-margin-right"},d.default.createElement("span",null,"往来单位："),d.default.createElement(s.default,(S(e={showSearch:!0,style:{width:200},value:(w.get("code")?w.get("code"):"")+" "+(w.get("name")?w.get("name"):"")},"showSearch",!0),S(e,"searchPlaceholder","搜索往来单位"),S(e,"className","table-right-table-input"),S(e,"optionFilterProp","children"),S(e,"notFoundContent","无法找到相应往来单位"),S(e,"onSelect",function(e){var t=e.split(E.TREE_JOIN_STR),n=(t[0],!1),a="全部"==t[0]?"全部":t[0],r="全部"==t[1]?"全部":t[1],l=t[2];f(p.changeCalculateCommonString("calculate","cardUuid",l)),f(p.changeCalculateCommonString("calculate",["usedCard","code"],a)),f(p.changeCalculateCommonString("calculate",["usedCard","name"],r)),f(p.getCalculateList(T,o,"",y,l,n)),f(p.changeSearchType(["flags","searchType"],"SEARCH_TYPE_DATE"))}),S(e,"showArrow",!1),e),$)):"","manages"===o&&"全部"!==w.get("code")?d.default.createElement("span",{className:"title-date-margin-right check-account"},d.default.createElement(c.default,{defaultChecked:!1,checked:null!==a&&a,onChange:function(e){f(p.getCalculateList(T,o,"",y,k,e.target.checked))}}),"  查看已核销流水"):"","costTransfer"===o?d.default.createElement("span",{className:"title-date-margin-right"},d.default.createElement("span",null,"结转类型："),d.default.createElement(s.default,{style:{width:120},value:ae,onChange:function(e){L(""),f(p.changeSearchType(["flags","costTransferType"],e)),f(p.getCalculateCarryoverList("",e,"","","")),f(p.changeCalculateCommonString("calculate","stockUuid","")),f(p.changeCalculateCommonString("calculate",["stockCard","code"],"")),f(p.changeCalculateCommonString("calculate",["stockCard","name"],"全部"))}},[{value:"",key:"全部"},{value:"STATE_YYSR_XS",key:"销售结转成本"},{value:"STATE_YYSR_TS",key:"退销结转成本"}].map(function(e,t){return d.default.createElement(h,{key:e.key,value:e.value},e.key)}))):"","costTransfer"===o&&"全部"!==ae?d.default.createElement("span",{className:"title-date-margin-right"},d.default.createElement("span",null,"存货："),d.default.createElement(s.default,{style:{width:120},showSearch:!0,combobox:!0,value:(U?U.get("code"):"")+" "+(U?U.get("name"):""),onChange:function(e){var t=e.split(E.TREE_JOIN_STR),n=t[0],a=t[1],r=t[2];f(p.changeCalculateCommonString("calculate","stockUuid",n)),f(p.changeCalculateCommonString("calculate",["stockCard","code"],a)),f(p.changeCalculateCommonString("calculate",["stockCard","name"],r)),f(A.changeCxAccountCommonString("modal",["stockCardList",0],{uuid:n,name:r,code:a,amount:""})),f(p.getCalculateCarryoverList(T,D,N,"",n))}},x.map(function(e,t){return d.default.createElement(h,{key:t,value:""+e.get("uuid")+E.TREE_JOIN_STR+e.get("code")+E.TREE_JOIN_STR+e.get("name")},e.get("code")+" "+e.get("name"))}))):"","certification"===o?d.default.createElement("span",{className:"title-date-margin-right"},d.default.createElement("span",null,"认证类型："),d.default.createElement(s.default,{style:{width:120},value:te,onChange:function(e){L(""),f(p.changeSearchType(["flags","certifiedType"],e)),f(p.getCalculateCertificationList("","",e,""))}},[{value:"",key:"全部"},{value:"BILL_AUTH_TYPE_CG",key:"进项发票认证"},{value:"BILL_AUTH_TYPE_TG",key:"退购发票认证"}].map(function(e,t){return d.default.createElement(h,{key:e.key,value:e.value},e.key)}))):""," ","invoicing"===o?d.default.createElement("span",{className:"title-date-margin-right"},d.default.createElement("span",null,"开票类型："),d.default.createElement(s.default,{style:{width:120},value:ne,onChange:function(e){L(""),f(p.changeSearchType(["flags","invoicingType"],e)),f(p.getCalculateInvoicingList("","",e,""))}},[{value:"",key:"全部"},{value:"BILL_MAKE_OUT_TYPE_XS",key:"销项开票"},{value:"BILL_MAKE_OUT_TYPE_TS",key:"退销开票"}].map(function(e,t){return d.default.createElement(h,{key:e.key,value:e.value},e.key)}))):"",d.default.createElement(i.default,{type:"ghost",className:"title-right",onClick:function(){switch(o){case"manages":f(p.getCalculateList(T,o,"",y,k,a,N));break;case"invoicing":f(p.getCalculateInvoicingList(T,y,b,N));break;case"certification":f(p.getCalculateCertificationList(T,y,R,N));break;case"costTransfer":f(p.getCalculateCarryoverList(T,D,N,"",k))}}}," 刷新 "),d.default.createElement(i.default,{type:"ghost",className:"title-right",onClick:function(){f(_.addPageTabPane("SearchPanes","Cxls","Cxls","查询流水")),f(_.addHomeTabpane("Search","Cxls","查询流水"))}},"返回"),d.default.createElement(i.default,{type:"ghost",disabled:!I.size||!H,className:"title-right",onClick:function(){f(p.deleteAccountItemCardAndRunning(o))}},"删除"),"manages"===o&&k?d.default.createElement(i.default,{type:"ghost",className:"title-right",disabled:!I.size,onClick:function(){I.size&&I.map(function(e,t){var n=void 0,a=void 0;B.get("childList").some(function(r,l){return!(r.get("uuid")!==e||!r.get("beOpened")||r.get("runningType"))&&(n=t,a=r.get("assType"),f(A.getManagerCategoryList(n,a)),!0)})}),f(A.setManageMadalInitState()),t.setState({manageModal:!0})}},"一键收/付"):null,"costTransfer"===o&&D&&K?d.default.createElement(i.default,{type:"ghost",className:"title-right",disabled:!I.size,onClick:function(){f(A.setCarryoverMadalInitState()),t.setState({carryoverModal:!0})}},"一键结转"):null,"certification"===o&&M?d.default.createElement(i.default,{type:"ghost",className:"title-right",disabled:!I.size,onClick:function(){f(A.setDefineMadalInitState()),t.setState({defineModal:!0})}},"发票认证"):null,"invoicing"===o&&O?d.default.createElement(i.default,{type:"ghost",className:"title-right",disabled:!I.size,onClick:function(){f(A.setInvioceMadalInitState()),t.setState({invioceModal:!0})}},"开具发票"):null,d.default.createElement(r.default,{visible:Z,onCancel:function(){t.setState({manageModal:!1}),f(A.changeCxAccountCommonOutString("modalTemp",(0,C.fromJS)({runningDate:(0,m.formatDate)()})))},className:"single-manager",title:(V.get("handlingAmount")>0?"收款":"付款")+"核销",okText:"保存",onOk:function(){f(A.insertManagerModal(function(){return t.setState({manageModal:!1})},N))}},d.default.createElement("div",{className:"manager-content"},d.default.createElement("div",null,d.default.createElement("label",null,"往来单位："),(w.get("code")?w.get("code"):"")+" "+(w.get("name")?w.get("name"):"")),d.default.createElement("div",{className:"manager-item"},d.default.createElement("label",null,"日期："),d.default.createElement(u.default,{value:V.get("runningDate")?(0,g.default)(V.get("runningDate")):"",onChange:function(e){var t=e.format("YYYY-MM-DD");f(A.changeCxAccountCommonOutString(["modalTemp","runningDate"],t))}})),d.default.createElement("div",{className:"manager-item"},d.default.createElement("label",null,"摘要："),d.default.createElement(l.default,{value:V.get("runningAbstract"),onChange:function(e){f(A.changeCxAccountCommonOutString(["modalTemp","runningAbstract"],e.target.value))}})),d.default.createElement("div",{className:"manager-item"},d.default.createElement("label",null,(V.get("handlingAmount")>0?"收款":"付款")+"金额："),d.default.createElement(l.default,{value:Math.abs(V.get("handlingAmount")),onChange:function(e){(0,m.numberTest)(e,function(e){f(A.changeCxAccountCommonOutString(["modalTemp","handlingAmount"],e))})}})),d.default.createElement("div",{className:"manager-item"},d.default.createElement("label",null,"账户："),d.default.createElement(s.default,{value:V.get("accountName"),onChange:function(e){var t=e.split(E.TREE_JOIN_STR)[0];e.split(E.TREE_JOIN_STR)[1];f(A.changeCxAccountCommonOutString(["modalTemp","accountName"],e)),f(A.changeCxAccountCommonOutString(["modalTemp","accountUuid"],t))}},F.getIn([0,"childList"]).map(function(e,t){return d.default.createElement(h,{key:t,value:""+e.get("uuid")+E.TREE_JOIN_STR+e.get("name")},e.get("name"))}))),I.size&&I.map(function(e,t){var n=void 0,a=void 0,r=B.get("childList").some(function(t,r){return t.get("uuid")===e&&"期初余额"===t.get("runningAbstract")&&!t.get("runningType")&&(r,a=t,n=t.get("assType"),!0)}),l={AC_AR:"应收期初类别:",AC_AP:"应付期初类别:",AC_PP:"预收期初类别:",AC_ADV:"预付期初类别:"}[n];return r?d.default.createElement("div",{className:"manager-item"},d.default.createElement("label",null,l),d.default.createElement(s.default,{value:Q&&Q.getIn([t,"categoryName"])?Q.getIn([t,"categoryName"]):"",onSelect:function(e){return f(A.changeBeforeAmount(a,e,t))}},q.get(t)&&q.get(t).map(function(e,t){return d.default.createElement(h,{key:t,value:""+e.get("code")+E.TREE_JOIN_STR+e.get("name")+E.TREE_JOIN_STR+e.get("uuid")},e.get("name"))}))):""}))),d.default.createElement(r.default,{visible:X,onCancel:function(){t.setState({carryoverModal:!1}),f(A.changeCxAccountCommonOutString("modalTemp",(0,C.fromJS)({runningDate:(0,m.formatDate)()})))},className:"single-manager",title:"成本结转",okText:"保存",onOk:function(){f(A.insertlrAccountCarryoverModal(function(){return t.setState({carryoverModal:!1})},"fromcalCultion"))}},d.default.createElement("div",{className:"manager-content"},d.default.createElement("div",{className:"manager-item"},d.default.createElement("label",null,"日期："),d.default.createElement(u.default,{value:V.get("runningDate")?(0,g.default)(V.get("runningDate")):"",onChange:function(e){var t=e.format("YYYY-MM-DD");f(A.changeCxAccountCommonOutString(["modalTemp","runningDate"],t))}})),d.default.createElement("div",{className:"manager-item"},d.default.createElement("label",null,"摘要："),d.default.createElement(l.default,{value:V.get("runningAbstract"),onChange:function(e){f(A.changeCxAccountCommonOutString(["modalTemp","runningAbstract"],e.target.value))}})),d.default.createElement("div",{className:"manager-item"},d.default.createElement("label",null,"金额："),d.default.createElement(l.default,{value:V.get("carryoverAmount"),onChange:function(e){(0,m.numberTest)(e,function(e){f(A.changeCxAccountCommonOutString(["modalTemp","carryoverAmount"],e))})}})))),d.default.createElement(r.default,{visible:z,onCancel:function(){t.setState({invioceModal:!1}),f(A.changeCxAccountCommonOutString("modalTemp",(0,C.fromJS)({runningDate:(0,m.formatDate)()})))},className:"single-manager",title:"开具发票",okText:"保存",onOk:function(){f(A.insertlrAccountInvioceModal(function(){return t.setState({invioceModal:!1})},"fromcalCultion"))}},d.default.createElement("div",{className:"manager-content"},d.default.createElement("div",{className:"manager-item"},d.default.createElement("label",null,"日期："),d.default.createElement(u.default,{value:V.get("runningDate")?(0,g.default)(V.get("runningDate")):"",onChange:function(e){var t=e.format("YYYY-MM-DD");f(A.changeCxAccountCommonOutString(["modalTemp","runningDate"],t))}})),d.default.createElement("div",{className:"manager-item"},d.default.createElement("label",null,"摘要："),d.default.createElement(l.default,{value:V.get("runningAbstract"),onChange:function(e){f(A.changeCxAccountCommonOutString(["modalTemp","runningAbstract"],e.target.value))}})))),d.default.createElement(r.default,{visible:W,onCancel:function(){t.setState({defineModal:!1}),f(A.changeCxAccountCommonOutString("modalTemp",(0,C.fromJS)({runningDate:(0,m.formatDate)()})))},className:"single-manager",title:"发票认证",okText:"保存",onOk:function(){f(A.insertlrAccountInvioceDefineModal(function(){return t.setState({defineModal:!1})},"fromcalCultion"))}},d.default.createElement("div",{className:"manager-content"},d.default.createElement("div",{className:"manager-item"},d.default.createElement("label",null,"日期："),d.default.createElement(u.default,{value:V.get("runningDate")?(0,g.default)(V.get("runningDate")):"",onChange:function(e){var t=e.format("YYYY-MM-DD");f(A.changeCxAccountCommonOutString(["modalTemp","runningDate"],t))}})),d.default.createElement("div",{className:"manager-item"},d.default.createElement("label",null,"摘要："),d.default.createElement(l.default,{value:V.get("runningAbstract"),onChange:function(e){f(A.changeCxAccountCommonOutString(["modalTemp","runningAbstract"],e.target.value))}})))))}}]),t}())||a;t.default=v},2448:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=f(n(47)),l=f(n(37)),u=f(n(100)),i=f(n(1230)),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(46),n(38),n(99),n(1231);var s=n(1),o=f(s),d=n(17);n(18),function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(27));function f(e){return e&&e.__esModule?e:{default:e}}var m=(0,d.immutableRenderDecorator)(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),c(t,[{key:"render",value:function(){var e=this.props,t=e.visible,n=(e.message,e.onOk),a=e.onOkText,c=e.ass,s=e.selectDate,d=e.runningAbstract,f=e.totalAmount,m=e.handlingAmount;e.accountName,e.accountList;return o.default.createElement(r.default,{width:"800",visible:t,title:"一键收/付",footer:"",onCancel:n,style:{boxShadow:"rgba(0, 0, 0, 0.14902) 0px 1px 3px 1px"},maskClosable:!1},o.default.createElement("div",{className:"info"},o.default.createElement("div",null,o.default.createElement("div",{className:"accountConf-modal-list"},o.default.createElement("div",{className:"accountConf-modal-list-item"},o.default.createElement("label",null,"流水类别："),o.default.createElement("div",null,"收付管理")),o.default.createElement("div",{className:"accountConf-modal-list-item"},o.default.createElement("label",null,"核账对象："),o.default.createElement("div",null,o.default.createElement("div",null,c))),o.default.createElement("div",{className:"accountConf-separator"}),o.default.createElement("div",{className:"accountConf-modal-list-item"},o.default.createElement("label",null,"日期："),o.default.createElement("div",null,o.default.createElement(i.default,{disabledDate:function(e){return function(e){return e&&new Date(s).getTime()>e.getTime()}(e)},value:s,onChange:function(e){var t=e.format("YYYY-MM-DD");if(c&&"single"!==accountType&&!modify){var n=calculateTemp.get("id"),a=calculateTemp.get("assCategory"),r=calculateTemp.get("idType");dispatch(lrAccountActions.getBusinessList(t,n,a,r))}dispatch(lrAccountActions.changeLrAccountCommonString("calculate","runningDate",t))}}))),o.default.createElement("div",{className:"accountConf-modal-list-item"},o.default.createElement("label",null,"摘要："),o.default.createElement("div",null,o.default.createElement(u.default,{value:d,onChange:function(e){dispatch(lrAccountActions.changeLrAccountCommonString("calculate","runningAbstract",e.target.value))}}))),o.default.createElement("div",{className:"accountConf-modal-list-item"},o.default.createElement("label",null,(f>=0?"收":"付")+"款金额："),o.default.createElement("div",null,o.default.createElement(u.default,{value:m,onChange:function(e){var t=e.target.value.indexOf("。")>-1?e.target.value.replace("。","."):e.target.value;0===t.indexOf("0")&&"0"!=t&&t>=1&&(t=t.substr(1)),reg.test(t)||""===t?dispatch(lrAccountActions.changeLrAccountCommonString("calculate","handlingAmount",t)):l.default.info("金额只能输入带两位小数的数字")}}))),o.default.createElement("div",{className:"accountConf-separator"}))),o.default.createElement("div",{className:"info-btn",onClick:n},a||"确定")))}}]),t}())||a;t.default=m},2449:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=d(n(1)),u=(n(56),n(17)),i=n(127),c=d(n(2450)),s=d(n(1738)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1249));n(18);function d(e){return e&&e.__esModule?e:{default:e}}var f=(0,u.immutableRenderDecorator)(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.ass,n=e.isCheck,a=e.accountingType,r=e.debitSum,u=e.creditSum,d=e.payManageList,f=e.dispatch,m=e.selectList,g=e.openCardModal,p=e.openRunningModal,_=e.panes,C=e.editLrAccountPermission,E=e.cxlsState,A=e.accountList,T=e.calculationState,y=e.showDrawer,S=d.get("childList"),I=!!S.size&&m.size===S.size;return l.default.createElement(i.TableAll,{type:"with-new",className:"mxb-table-left"},l.default.createElement(c.default,{ass:t,className:"cxls-account-sfgl-table-width",selectAcAll:I,onClick:function(){return f(o.accountItemCheckboxCheckAll(I,"payManageList"))}}),l.default.createElement(i.TableBody,null,S.map(function(e,r){return l.default.createElement(s.default,{ass:t,isCheck:n,accountingType:a,key:r,item:e,line:r,className:"cxls-account-sfgl-table-width account-paymanages-table",dispatch:f,selectList:m,panes:_,openCardModal:g,openRunningModal:p,editLrAccountPermission:C,cxlsState:E,accountList:A,calculationState:T,showDrawer:y})}),l.default.createElement(i.TableItem,{line:S.size+1,className:"cxls-account-sfgl-table-width"},l.default.createElement("li",null),l.default.createElement(i.TableOver,null),l.default.createElement(i.TableOver,null),l.default.createElement(i.TableOver,null),l.default.createElement(i.TableOver,{textAlign:"left"},"本期合计"),l.default.createElement(i.TableOver,null),l.default.createElement("li",null,l.default.createElement("div",null,l.default.createElement("p",{className:r<0?"amount-left":"amount-right"},Math.abs(r).toFixed(2)))),l.default.createElement("li",null,l.default.createElement("div",null,l.default.createElement("p",{className:u<0?"amount-left":"amount-right"},Math.abs(u).toFixed(2)))),"全部"==t?l.default.createElement(i.TableOver,null):"",l.default.createElement("li",null,l.default.createElement("span",null)))))}}]),t}())||a;t.default=f},2450:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=o(n(500)),l=o(n(14)),u=o(n(129)),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(501),n(78),n(128);var c=o(n(1)),s=n(17);n(18);function o(e){return e&&e.__esModule?e:{default:e}}var d=u.default.Group,f=(0,s.immutableRenderDecorator)(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.default.Component),i(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=(e.accountingType,e.onClick),a=e.selectAcAll,i=e.ass,s=c.default.createElement("div",{style:{width:"150px"}},c.default.createElement(d,{options:["全部收","全部付","部分收","部分付","未收款","未付款"],defaultValue:["全部收"],onChange:function(e){console.log("checkboxGroup",e)}}));return c.default.createElement("div",{className:"table-title-wrap"},c.default.createElement("ul",{className:t?t+" table-title":"table-title"},c.default.createElement("li",{onClick:n},c.default.createElement(u.default,{checked:a})),c.default.createElement("li",null,c.default.createElement("span",null,"日期")),c.default.createElement("li",null,c.default.createElement("span",null,"流水号")),c.default.createElement("li",null,c.default.createElement("span",null,"流水类别")),c.default.createElement("li",null,c.default.createElement("span",null,"摘要")),c.default.createElement("li",null,c.default.createElement("span",null,"类型")),c.default.createElement("li",null,c.default.createElement("span",null,"预收/应收")),c.default.createElement("li",null,c.default.createElement("span",null,"预付/应付")),"全部"==i?c.default.createElement("li",null,c.default.createElement("span",null,"核账对象")):"",c.default.createElement("li",null,c.default.createElement("span",null,"状态",c.default.createElement(r.default,{content:s,title:"",trigger:"click"},c.default.createElement(l.default,{type:"filter"}))))))}}]),t}())||a;t.default=f},2451:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=d(n(1)),u=n(17),i=(n(18),n(22),d(n(6)),n(127)),c=d(n(2452)),s=d(n(1738)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1249));function d(e){return e&&e.__esModule?e:{default:e}}var f=(0,u.immutableRenderDecorator)(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.ass,n=e.isCheck,a=e.accountingType,r=e.debitSum,u=e.creditSum,d=e.debitAmount,f=e.creditAmount,m=e.payManageList,g=e.dispatch,p=e.selectList,_=e.openCardModal,C=e.openRunningModal,E=e.panes,A=e.editLrAccountPermission,T=e.cxlsState,y=e.accountList,S=e.calculationState,I=e.showDrawer,h=m.get("childList"),v=!!h.size&&p.size===h.size;return l.default.createElement(i.TableAll,{className:"mxb-table-left",type:"with-new"},l.default.createElement(c.default,{ass:t,className:"account-check-table-width",accountingType:a,selectAcAll:v,onClick:function(){return g(o.accountItemCheckboxCheckAll(v,"payManageList"))}}),l.default.createElement(i.TableBody,null,h.map(function(e,r){return l.default.createElement(s.default,{ass:t,key:r,item:e,line:r,isCheck:n,className:"account-check-table-width min-height",accountingType:a,dispatch:g,panes:E,selectList:p,openCardModal:_,openRunningModal:C,editLrAccountPermission:A,cxlsState:T,accountList:y,calculationState:S,showDrawer:I})}),l.default.createElement(i.TableItem,{line:h.size+1,className:"account-check-table-width min-height"},l.default.createElement("li",null),l.default.createElement(i.TableOver,null),l.default.createElement(i.TableOver,null),l.default.createElement(i.TableOver,null),l.default.createElement(i.TableOver,{textAlign:"left"},"本期合计"),l.default.createElement(i.TableOver,null),l.default.createElement("li",null,l.default.createElement("div",null,l.default.createElement("div",{className:r<0?"amount-left":"amount-right"},Math.abs(r).toFixed(2)),l.default.createElement("div",{className:u<0?"amount-left":"amount-right"},Math.abs(u).toFixed(2)))),l.default.createElement("li",null,l.default.createElement("div",null,l.default.createElement("div",{className:d<0?"amount-left":"amount-right"},Math.abs(d).toFixed(2)),l.default.createElement("div",{className:f<0?"amount-left":"amount-right"},Math.abs(f).toFixed(2)))),"全部"==t?l.default.createElement(i.TableOver,null):"",l.default.createElement("li",null,l.default.createElement("span",null)))))}}]),t}())||a;t.default=f},2452:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=o(n(500)),l=o(n(14)),u=o(n(129)),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(501),n(78),n(128);var c=o(n(1)),s=n(17);n(18);function o(e){return e&&e.__esModule?e:{default:e}}var d=u.default.Group,f=(0,s.immutableRenderDecorator)(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.default.Component),i(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.onClick,a=e.selectAcAll,i=(e.ass,c.default.createElement("div",{style:{width:"150px"}},c.default.createElement(d,{options:["全部收","全部付","部分收","部分付","未收款","未付款"],defaultValue:["全部收"],onChange:function(e){console.log("checkboxGroup",e)}})));return c.default.createElement("div",{className:"table-title-wrap"},c.default.createElement("ul",{className:t?t+" table-title":"table-title"},c.default.createElement("li",{onClick:n},c.default.createElement(u.default,{checked:a})),c.default.createElement("li",null,c.default.createElement("span",null,"日期")),c.default.createElement("li",null,c.default.createElement("span",null,"流水号")),c.default.createElement("li",null,c.default.createElement("span",null,"流水类别")),c.default.createElement("li",null,c.default.createElement("span",null,"摘要")),c.default.createElement("li",null,c.default.createElement("span",null,"类型")),c.default.createElement("li",{className:"amountlsye-title-cell"},c.default.createElement("div",{className:"amountlsye-item-first"},"未处理金额"),c.default.createElement("div",{className:"amountlsye-item-second-two"},c.default.createElement("span",null,"预收/应收"),c.default.createElement("span",null,"预付/应付"))),c.default.createElement("li",{className:"amountlsye-title-cell"},c.default.createElement("div",{className:"amountlsye-item-first"},"总金额"),c.default.createElement("div",{className:"amountlsye-item-second-two"},c.default.createElement("span",null,"预收/应收"),c.default.createElement("span",null,"预付/应付"))),c.default.createElement("li",null,c.default.createElement("span",null,"核账对象")),c.default.createElement("li",null,c.default.createElement("span",null,"状态",c.default.createElement(r.default,{content:i,title:"",trigger:"click"},c.default.createElement(l.default,{type:"filter"}))))))}}]),t}())||a;t.default=f},2453:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=S(n(100)),l=S(n(1230)),u=S(n(32)),i=S(n(129)),c=S(n(47)),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(99),n(1231),n(51),n(128),n(46);var o=S(n(1)),d=n(17),f=n(22),m=n(127),g=S(n(6)),p=S(n(2454)),_=y(n(1243)),C=(y(n(1245)),y(n(1249))),E=y(n(1239)),A=n(18),T=n(482);function y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function S(e){return e&&e.__esModule?e:{default:e}}function I(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=(0,d.immutableRenderDecorator)(a=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),u=0;u<r;u++)l[u]=arguments[u];return n=a=I(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.state={invioceModal:!1},I(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),s(t,[{key:"render",value:function(){var e=this,t=this.props,n=(t.ass,t.isCheck,t.accountingType,t.invoicingList),a=t.dispatch,s=t.selectList,d=(t.openCardModal,t.openRunningModal,t.panes,t.editLrAccountPermission),y=t.cxlsState,S=(t.accountList,t.showDrawer),I=this.state.invioceModal,h=n.get("childList"),v=y.get("modalTemp"),N=y.get("runningFlowTemp"),L=N.get("categoryType"),O=T.categoryTypeAll[L],b=(N.getIn([O,"contactsCardRange"]),N.get("runningDate"),N.get("magenerType"),!!h.size&&s.size===h.size);return o.default.createElement(m.TableAll,{type:"with-new",className:"mxb-table-left"},o.default.createElement(p.default,{className:"cxls-account-kjfp-table-width",selectAcAll:b,onClick:function(){return a(C.accountItemCheckboxCheckAll(b,"invoicingList"))}}),o.default.createElement(m.TableBody,null,h.map(function(t){var n=s.indexOf(t.get("uuid"))>-1;return o.default.createElement(m.TableItem,{className:"cxls-account-kjfp-table-width",key:t.get("uuid")},o.default.createElement("li",{onClick:function(e){e.stopPropagation(),a(C.accountItemCheckboxCheck(n,t.get("uuid"),t.get("runningDate")))}},o.default.createElement(i.default,{checked:n})),o.default.createElement("li",null,t.get("runningDate")),o.default.createElement(m.TableOver,{textAlign:"left",isLink:!0,onClick:function(){a(_.getYllsBusinessData(t,S))}},o.default.createElement("span",{className:"account-flowNumber"},t.get("flowNumber"))),o.default.createElement(m.TableOver,{textAlign:"left"},t.get("categoryName")),o.default.createElement(m.TableOver,{textAlign:"left"},t.get("runningAbstract")+(t.get("cardAbstract")?t.get("cardAbstract"):"")),o.default.createElement(m.TableOver,{textAlign:"left"},t.get("manageTypeName")),o.default.createElement("li",null,o.default.createElement(m.Amount,null,t.get("amount"))),o.default.createElement("li",null,t.get("taxRate"),"%"),o.default.createElement("li",null,o.default.createElement(m.Amount,null,t.get("tax"))),o.default.createElement("li",null,o.default.createElement(u.default,{type:"ghost",disabled:!d,className:"handle-btn",onClick:function(){a(E.getBusinessInvioceModal(t,function(){e.setState({invioceModal:!0})}))}},"开票")))})),o.default.createElement(c.default,{visible:I,onCancel:function(){e.setState({invioceModal:!1}),a(E.changeCxAccountCommonOutString("modalTemp",(0,A.fromJS)({runningDate:(0,f.formatDate)()})))},className:"single-manager",title:"开具发票",okText:"保存",onOk:function(){a(E.insertlrAccountInvioceModal(function(){return e.setState({invioceModal:!1})},"fromcalCultion"))}},o.default.createElement("div",{className:"manager-content"},o.default.createElement("div",{className:"manager-item"},o.default.createElement("label",null,"日期："),o.default.createElement(l.default,{value:v.get("runningDate")?(0,g.default)(v.get("runningDate")):"",onChange:function(e){var t=e.format("YYYY-MM-DD");a(E.changeCxAccountCommonOutString(["modalTemp","runningDate"],t))}})),o.default.createElement("div",{className:"manager-item"},o.default.createElement("label",null,"摘要："),o.default.createElement(r.default,{value:v.get("runningAbstract"),onChange:function(e){a(E.changeCxAccountCommonOutString(["modalTemp","runningAbstract"],e.target.value))}})))))}}]),t}())||a;t.default=h},2454:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=c(n(129)),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(128);var u=c(n(1)),i=n(17);n(18);function c(e){return e&&e.__esModule?e:{default:e}}var s=(0,i.immutableRenderDecorator)(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default.Component),l(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.onClick,a=e.selectAcAll;return u.default.createElement("div",{className:"table-title-wrap"},u.default.createElement("ul",{className:t?t+" table-title":"table-title"},u.default.createElement("li",{onClick:n},u.default.createElement(r.default,{checked:a})),u.default.createElement("li",null,u.default.createElement("span",null,"日期")),u.default.createElement("li",null,u.default.createElement("span",null,"流水号")),u.default.createElement("li",null,u.default.createElement("span",null,"流水类别")),u.default.createElement("li",null,u.default.createElement("span",null,"摘要")),u.default.createElement("li",null,u.default.createElement("span",null,"类型")),u.default.createElement("li",null,u.default.createElement("span",null,"价税合计")),u.default.createElement("li",null,u.default.createElement("span",null,"税率")),u.default.createElement("li",null,u.default.createElement("span",null,"税额")),u.default.createElement("li",null,u.default.createElement("span",null,"开票"))))}}]),t}())||a;t.default=s},2455:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=S(n(47)),l=S(n(100)),u=S(n(1230)),i=S(n(32)),c=S(n(129)),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(46),n(99),n(1231),n(51),n(128);var o=S(n(1)),d=n(17),f=n(127),m=n(22),g=S(n(6)),p=S(n(2456)),_=y(n(1243)),C=(y(n(1245)),y(n(1249))),E=y(n(1239)),A=n(18),T=n(482);function y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function S(e){return e&&e.__esModule?e:{default:e}}function I(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=(0,d.immutableRenderDecorator)(a=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),u=0;u<r;u++)l[u]=arguments[u];return n=a=I(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.state={carryoverModal:!1},I(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),s(t,[{key:"render",value:function(){var e=this,t=this.props,n=(t.ass,t.isCheck,t.accountingType,t.costTransferList),a=t.dispatch,s=t.selectList,d=(t.openCardModal,t.openRunningModal,t.panes,t.editLrAccountPermission),y=t.cxlsState,S=(t.accountList,t.showDrawer),I=n.get("childList"),h=this.state.carryoverModal,v=!!I.size&&s.size===I.size,N=y.get("modalTemp"),L=y.get("runningFlowTemp"),O=L.get("categoryType"),b=T.categoryTypeAll[O];L.getIn([b,"contactsCardRange"]),L.get("runningDate"),L.get("magenerType");return o.default.createElement(f.TableAll,{type:"with-new",className:"mxb-table-left"},o.default.createElement(p.default,{className:"cxls-account-cbjz-table-width",selectAcAll:v,onClick:function(){return a(C.accountItemCheckboxCheckAll(v,"costTransferList"))}}),o.default.createElement(f.TableBody,null,I.map(function(t){var n=s.indexOf(t.get("uuid"))>-1;t.get("parentUuid")?t.get("parentUuid"):t.get("uuid");return o.default.createElement(f.TableItem,{className:"cxls-account-cbjz-table-width",key:t.get("uuid")},o.default.createElement("li",{onClick:function(e){e.stopPropagation(),a(C.accountItemCheckboxCheck(n,t.get("uuid"),t.get("runningDate")))}},o.default.createElement(c.default,{checked:n})),o.default.createElement("li",null,t.get("runningDate")),o.default.createElement(f.TableOver,{textAlign:"left",isLink:!0,onClick:function(){a(_.getYllsBusinessData(t,S))}},o.default.createElement("span",{className:"account-flowNumber"},t.get("flowNumber"))),o.default.createElement(f.TableOver,{textAlign:"left"},t.get("categoryName")),o.default.createElement(f.TableOver,{textAlign:"left"},t.get("runningAbstract")+(t.get("cardAbstract")?t.get("cardAbstract"):"")),o.default.createElement("li",null,t.get("manageTypeName")),o.default.createElement("li",null,o.default.createElement(f.Amount,null,t.get("amount"))),o.default.createElement("li",null,o.default.createElement(i.default,{type:"ghost",className:"handle-btn",disabled:!d,onClick:function(){a(E.getBusinessCarryoverModal(t,function(){e.setState({carryoverModal:!0})}))}},"STATE_YYSR_TS"===t.get("runningState")?"回退":"结转")))})),o.default.createElement(r.default,{visible:h,onCancel:function(){e.setState({carryoverModal:!1}),a(E.changeCxAccountCommonOutString("modalTemp",(0,A.fromJS)({runningDate:(0,m.formatDate)()})))},className:"single-manager",title:"成本结转",okText:"保存",onOk:function(){a(E.insertlrAccountCarryoverModal(function(){return e.setState({carryoverModal:!1})},"fromcalCultion"))}},o.default.createElement("div",{className:"manager-content"},o.default.createElement("div",{className:"manager-item"},o.default.createElement("label",null,"日期："),o.default.createElement(u.default,{value:N.get("runningDate")?(0,g.default)(N.get("runningDate")):"",onChange:function(e){var t=e.format("YYYY-MM-DD");a(E.changeCxAccountCommonOutString(["modalTemp","runningDate"],t))}})),o.default.createElement("div",{className:"manager-item"},o.default.createElement("label",null,"摘要："),o.default.createElement(l.default,{value:N.get("runningAbstract"),onChange:function(e){a(E.changeCxAccountCommonOutString(["modalTemp","runningAbstract"],e.target.value))}})),o.default.createElement("div",{className:"manager-item"},o.default.createElement("label",null,"金额："),o.default.createElement(l.default,{value:N.get("carryoverAmount"),onChange:function(e){(0,m.numberTest)(e,function(e){a(E.changeCxAccountCommonOutString(["modalTemp","carryoverAmount"],e))})}})))))}}]),t}())||a;t.default=h},2456:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=c(n(129)),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(128);var u=c(n(1)),i=n(17);n(18);function c(e){return e&&e.__esModule?e:{default:e}}var s=(0,i.immutableRenderDecorator)(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default.Component),l(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.onClick,a=e.selectAcAll;return u.default.createElement("div",{className:"table-title-wrap"},u.default.createElement("ul",{className:t?t+" table-title":"table-title"},u.default.createElement("li",{onClick:n},u.default.createElement(r.default,{checked:a})),u.default.createElement("li",null,u.default.createElement("span",null,"日期")),u.default.createElement("li",null,u.default.createElement("span",null,"流水号")),u.default.createElement("li",null,u.default.createElement("span",null,"流水类别")),u.default.createElement("li",null,u.default.createElement("span",null,"摘要")),u.default.createElement("li",null,u.default.createElement("span",null,"类型")),u.default.createElement("li",null,u.default.createElement("span",null,"流水总金额")),u.default.createElement("li",null,u.default.createElement("span",null,"结转"))))}}]),t}())||a;t.default=s},2457:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=S(n(100)),l=S(n(1230)),u=S(n(32)),i=S(n(129)),c=S(n(47)),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(99),n(1231),n(51),n(128),n(46);var o=S(n(1)),d=n(17),f=n(18),m=n(127),g=n(22),p=S(n(6)),_=S(n(2458)),C=y(n(1243)),E=(y(n(1245)),y(n(1249))),A=y(n(1239)),T=n(482);function y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function S(e){return e&&e.__esModule?e:{default:e}}function I(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=(0,d.immutableRenderDecorator)(a=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),u=0;u<r;u++)l[u]=arguments[u];return n=a=I(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.state={defineModal:!1},I(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),s(t,[{key:"render",value:function(){var e=this,t=this.props,n=(t.ass,t.isCheck,t.accountingType,t.certificationList),a=t.dispatch,s=t.selectList,d=(t.openCardModal,t.openRunningModal,t.panes,t.editLrAccountPermission),y=t.cxlsState,S=(t.accountList,t.showDrawer),I=this.state.defineModal,h=y.get("modalTemp"),v=y.get("runningFlowTemp"),N=v.get("categoryType"),L=T.categoryTypeAll[N],O=(v.getIn([L,"contactsCardRange"]),v.get("runningDate"),v.get("magenerType"),n.get("childList")),b=!!O.size&&s.size===O.size;return o.default.createElement(m.TableAll,{type:"with-new",className:"mxb-table-left"},o.default.createElement(_.default,{className:"cxls-account-fprz-table-width",selectAcAll:b,onClick:function(){return a(E.accountItemCheckboxCheckAll(b,"certificationList"))}}),o.default.createElement(m.TableBody,null,O.map(function(t){var n=s.indexOf(t.get("uuid"))>-1;return o.default.createElement(m.TableItem,{className:"cxls-account-fprz-table-width",key:t.get("uuid")},o.default.createElement("li",{onClick:function(e){e.stopPropagation(),a(E.accountItemCheckboxCheck(n,t.get("uuid"),t.get("runningDate")))}},o.default.createElement(i.default,{checked:n})),o.default.createElement("li",null,t.get("runningDate")),o.default.createElement(m.TableOver,{textAlign:"left",isLink:!0,onClick:function(){a(C.getYllsBusinessData(t,S))}},o.default.createElement("span",{className:"account-flowNumber"},t.get("flowNumber"))),o.default.createElement(m.TableOver,{textAlign:"left"},t.get("categoryName")),o.default.createElement(m.TableOver,{textAlign:"left"},t.get("runningAbstract")+(t.get("cardAbstract")?t.get("cardAbstract"):"")),o.default.createElement(m.TableOver,{textAlign:"left"},t.get("manageTypeName")),o.default.createElement("li",null,o.default.createElement(m.Amount,null,t.get("amount"))),o.default.createElement("li",null,t.get("taxRate"),"%"),o.default.createElement("li",null,o.default.createElement(m.Amount,null,t.get("tax"))),o.default.createElement("li",null,o.default.createElement(u.default,{type:"ghost",className:"handle-btn",disabled:!d,onClick:function(){a(A.getBusinessDefineModal(t,function(){e.setState({defineModal:!0})}))}},"认证")))})),o.default.createElement(c.default,{visible:I,onCancel:function(){e.setState({defineModal:!1}),a(A.changeCxAccountCommonOutString("modalTemp",(0,f.fromJS)({runningDate:(0,g.formatDate)()})))},className:"single-manager",title:"发票认证",okText:"保存",onOk:function(){a(A.insertlrAccountInvioceDefineModal(function(){return e.setState({defineModal:!1})},"fromcalCultion"))}},o.default.createElement("div",{className:"manager-content"},o.default.createElement("div",{className:"manager-item"},o.default.createElement("label",null,"日期："),o.default.createElement(l.default,{value:h.get("runningDate")?(0,p.default)(h.get("runningDate")):"",onChange:function(e){var t=e.format("YYYY-MM-DD");a(A.changeCxAccountCommonOutString(["modalTemp","runningDate"],t))}})),o.default.createElement("div",{className:"manager-item"},o.default.createElement("label",null,"摘要："),o.default.createElement(r.default,{value:h.get("runningAbstract"),onChange:function(e){a(A.changeCxAccountCommonOutString(["modalTemp","runningAbstract"],e.target.value))}})))))}}]),t}())||a;t.default=h},2458:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=c(n(129)),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(128);var u=c(n(1)),i=n(17);n(18);function c(e){return e&&e.__esModule?e:{default:e}}var s=(0,i.immutableRenderDecorator)(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default.Component),l(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.onClick,a=e.selectAcAll;return u.default.createElement("div",{className:"table-title-wrap"},u.default.createElement("ul",{className:t?t+" table-title":"table-title"},u.default.createElement("li",{onClick:n},u.default.createElement(r.default,{checked:a})),u.default.createElement("li",null,u.default.createElement("span",null,"日期")),u.default.createElement("li",null,u.default.createElement("span",null,"流水号")),u.default.createElement("li",null,u.default.createElement("span",null,"流水类别")),u.default.createElement("li",null,u.default.createElement("span",null,"摘要")),u.default.createElement("li",null,u.default.createElement("span",null,"类型")),u.default.createElement("li",null,u.default.createElement("span",null,"价税合计")),u.default.createElement("li",null,u.default.createElement("span",null,"税率")),u.default.createElement("li",null,u.default.createElement("span",null,"税额")),u.default.createElement("li",null,u.default.createElement("span",null,"认证"))))}}]),t}())||a;t.default=s},2459:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=g(n(100)),l=g(n(14)),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(99),n(78);var i=g(n(1)),c=n(17),s=g(n(2460)),o=n(127),d=m(n(27)),f=m(n(1249));function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function g(e){return e&&e.__esModule?e:{default:e}}var p=(0,c.immutableRenderDecorator)(a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),u(t,[{key:"render",value:function(){var e=this.props,t=e.dispatch,n=e.runningCategory,a=e.curCategory,u=(e.curAccountUuid,e.issuedate),c=(e.main,e.assId),m=e.assCategory,g=e.acId,p=e.accountingType,_=e.isCheck,C=e.flags,E=e.inputValue,A=e.billMakeOutType,T=e.billAuthType,y=e.runningState,S=[];return n.getIn([0,"childList"])&&function e(t){return t.forEach(function(t,n){t.get("childList")&&t.get("childList").size?(S.push({value:t.get("name"),key:t.get("uuid")}),e(t.get("childList"))):S.push({value:t.get("name"),key:t.get("uuid")})})}(n.getIn([0,"childList"])),i.default.createElement(o.TableTree,null,i.default.createElement("div",{className:"table-right-tree"},i.default.createElement("div",null,i.default.createElement("span",{className:"lsmx-serch"},i.default.createElement(l.default,{className:"lsmx-serch-icon",type:"search"}),i.default.createElement(r.default,{disabled:!0,className:"lsmx-serch-input",value:""}))),i.default.createElement(s.default,{flags:C,category:n,selectedKeys:[a],dispatch:t,onSelect:function(e){if(e[0]){var n=e[0].split(d.TREE_JOIN_STR);switch(p){case"manages":t(f.getCalculateList(u,p,"",n[0],c,m,_,g,E,!0));break;case"invoicing":t(f.getCalculateInvoicingList(u,n[0],A,E,!0));break;case"certification":t(f.getCalculateCertificationList(u,n[0],T,E,!0));break;case"costTransfer":t(f.getCalculateCarryoverList(u,y,E,!0))}}}})))}}]),t}())||a;t.default=p},2460:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=s(n(171)),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(170);var u=s(n(1)),i=n(17);c(n(1579)),c(n(1229)),c(n(27)),n(18);function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function s(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=r.default.TreeNode,f=(0,i.immutableRenderDecorator)(a=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),u=0;u<r;u++)l[u]=arguments[u];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.state={expandedKeys:[],autoExpandParent:!0},a.onExpand=function(e){a.setState({expandedKeys:e,autoExpandParent:!1})},o(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default.Component),l(t,[{key:"componentWillReceiveProps",value:function(e){var t=[];e.category.toJS().map(function(e,n){t.push(""+e.uuid)}),this.setState({expandedKeys:t})}},{key:"render",value:function(){var e=this.props,t=e.category,n=e.onSelect,a=e.selectedKeys,l=e.flags,i=(e.dispatch,e.className,this.state),c=i.expandedKeys,s=i.autoExpandParent,o=l.get("runningInsertOrModify"),f=function e(t,n,a){return t.map(function(t,r){return t.childList.length?u.default.createElement(d,{key:""+t.uuid,title:t.name},e(t.childList,n,a)):u.default.createElement(d,{key:""+t.uuid,title:t.name,checkable:!0})})}(t.toJS(),["全部"],o);return u.default.createElement(r.default,{onExpand:this.onExpand,expandedKeys:c,autoExpandParent:s,onSelect:function(e){return n(e)},selectedKeys:a},f)}}]),t}())||a;t.default=f},2461:function(e,t,n){},2463:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,n=arguments[1];return((e={},c(e,l.INIT_SEARCH_CALCULATION,function(){return s}),c(e,l.ACCOUNT_CHANGE_VIEW_DIMENSION,function(){return n.dutyList&&(t=t.set("dutyList",(0,a.fromJS)(n.dutyList.result))),n.realityList&&(t=(t=t.set("realityList",(0,a.fromJS)(n.realityList.result))).updateIn(["realityList","childList"],function(e){return e.map(function(e,t){return e.set("showItemChild",!0)})})),n.waitPayList&&(t=t.set("waitPayList",(0,a.fromJS)(n.waitPayList.result)),n.assId||n.assCategory||n.acId||(t=t.set("mediumAcAssList",(0,a.fromJS)(n.waitPayList.ass)))),t.setIn(["flags","issuedate"],n.issuedate).setIn(["flags","main"],n.main).setIn(["flags","curCategory"],n.categoryUuid).setIn(["flags","curAccountUuid"],n.accountUuid).setIn(["flags","assId"],n.assId).setIn(["flags","assCategory"],n.assCategory).setIn(["flags","acId"],n.acId).setIn(["flags","selectList"],(0,a.fromJS)([]))}),c(e,l.GET_MANAGE_CATEGORY_DETAIL,function(){var e=[];return n.receivedData.result.forEach(function(t){return e.push(t.uuid)}),(t=t.setIn(["calculateTemp","accountName"],"全部")).set("runningCategory",(0,a.fromJS)(n.receivedData.result)).setIn(["flags","runningShowChild"],(0,a.fromJS)(e))}),c(e,l.GET_CALCULATE_LIST,function(){return"true"===n.getPeriod&&(t=t.set("period",(0,a.fromJS)(n.period)).setIn(["calculateTemp","ass","totalName"],"全部")),t.setIn(["flags","issuedate"],(0,a.fromJS)(n.issuedate)).setIn(["flags","selectList"],(0,a.fromJS)([])).setIn(["flags","debitSum"],(0,a.fromJS)(n.receivedData.debitSum)).setIn(["flags","creditSum"],(0,a.fromJS)(n.receivedData.creditSum)).setIn(["flags","debitAmount"],(0,a.fromJS)(n.receivedData.debitAmount)).setIn(["flags","creditAmount"],(0,a.fromJS)(n.receivedData.creditAmount)).setIn(["flags","isCheck"],(0,a.fromJS)(n.isCheck)).setIn(["flags","accountingType"],(0,a.fromJS)(n.accountingType)).setIn(["payManageList","childList"],(0,a.fromJS)(n.receivedData.childList)).setIn(["calculateTemp","ass","assid"],(0,a.fromJS)(n.assId)).setIn(["calculateTemp","ass","acId"],(0,a.fromJS)(n.acId)).setIn(["calculateTemp","ass","asscategory"],(0,a.fromJS)(n.assCategory)).setIn(["flags","curCategory"],(0,a.fromJS)(n.curCategory)).setIn(["flags","searchType"],(0,a.fromJS)(n.searchType))}),c(e,l.GET_CALCULATE_INVOICING_LIST,function(){return t.setIn(["invoicingList","billMakeOutType"],(0,a.fromJS)(n.billMakeOutType)).setIn(["flags","selectList"],(0,a.fromJS)([])).setIn(["invoicingList","childList"],(0,a.fromJS)(n.receivedData)).setIn(["flags","curCategory"],(0,a.fromJS)(n.curCategory)).setIn(["flags","searchType"],(0,a.fromJS)(n.searchType))}),c(e,l.GET_CALCULATE_CERTIFICATE_LIST,function(){return t.setIn(["certificationList","billAuthType"],(0,a.fromJS)(n.billAuthType)).setIn(["flags","selectList"],(0,a.fromJS)([])).setIn(["certificationList","childList"],(0,a.fromJS)(n.receivedData)).setIn(["flags","curCategory"],(0,a.fromJS)(n.curCategory)).setIn(["flags","searchType"],(0,a.fromJS)(n.searchType))}),c(e,l.GET_CALCULATE_COST_LIST,function(){return t.setIn(["costTransferList","runningState"],(0,a.fromJS)(n.runningState)).setIn(["flags","selectList"],(0,a.fromJS)([])).setIn(["costTransferList","childList"],(0,a.fromJS)(n.receivedData)).setIn(["flags","curCategory"],(0,a.fromJS)(n.curCategory)).setIn(["flags","searchType"],(0,a.fromJS)(n.searchType))}),c(e,l.CHANGE_CALCULATE_COMMON_STRING,function(){return n.placeArr&&(t=t.setIn(n.placeArr,n.value)),n.place&&(t=t.set(n.place,n.value)),t}),c(e,l.CHANGE_ACCOUNT_AMOUNT_SUM,function(){return t=t.setIn(["calculateTemp","NotAmountSumReceive"],n.NotAmountSumReceive).setIn(["calculateTemp","NotAmountSumPay"],n.NotAmountSumPay).setIn(["calculateTemp","AmountSumReceive"],n.AmountSumReceive).setIn(["calculateTemp","AmountSumPay"],n.AmountSumPay)}),c(e,l.CHANGE_ACCOUNT_COMMON_STRING,function(){return t=t.setIn([n.tab+"Temp",n.place],n.value)}),c(e,l.CHANGE_ACCOUNT_ACCOUNT_NAME,function(){var e=n.value.split(u.TREE_JOIN_STR);return t=t.setIn([n.tab+"Temp",n.placeUUid],e[0]).setIn([n.tab+"Temp",n.placeName],e[1])}),c(e,l.BEFORE_RUNNING_PAY_OR_RECEIVE,function(){return t=t.setIn(["flags","runningInsertOrModify"],"insert").setIn(["flags","payOrReceive"],n.payDirection).set("runningTemp",s.get("runningTemp")).setIn(["runningTemp","runningAbstract"],("收"===n.payDirection?"收到":"支付")+n.assList+"款项").setIn(["runningTemp","forHandleAmount"],n.notHandleAmount).setIn(["runningTemp","uuidList"],(0,a.fromJS)(n.uuidList)).setIn(["runningTemp","detail"],n.runningList)}),c(e,l.ACCOUNT_ITEM_CHECKBOX_SELECT,function(){var e=t.getIn(["flags","selectList"]),a=t.getIn(["flags","selectDateList"]),r=t.getIn(["flags","selectDate"]);if(n.checked){t=t.setIn(["flags","selectDate"],"1970-01-01");var l=e.splice(e.findIndex(function(e){return e===n.uuid}),1),u=a.splice(a.findIndex(function(e){return e===n.runningDate}),1);return u.forEach(function(e){var n=t.getIn(["flags","selectDate"]);t=new Date(e).getTime()>new Date(n).getTime()?t.setIn(["flags","selectDate"],e):t.setIn(["flags","selectDate"],n)}),t.setIn(["flags","selectList"],l).setIn(["flags","selectDateList"],u)}var i=e.push(n.uuid),c=a.push(n.runningDate);return(t=new Date(n.runningDate).getTime()>new Date(r).getTime()?t.setIn(["flags","selectDate"],n.runningDate):t.setIn(["flags","selectDate"],r)).setIn(["flags","selectList"],i).setIn(["flags","selectDateList"],c)}),c(e,l.PAY_RECEIVE_ITEM_CHECKBOX_CHECK_ALL,function(){if(n.selectAll)return t.setIn(["flags","selectList"],(0,a.fromJS)([])).setIn(["flags","selectDateList"],(0,a.fromJS)([])).setIn(["flags","selectDate"],"1970-01-01");var e=t.getIn([n.listName,"childList"]),r=[],l=[];return e.forEach(function(e){var n=t.getIn(["flags","selectDate"]);r.push(e.get("uuid")),l.push(e.get("runningDate")),t=new Date(e.get("runningDate")).getTime()>new Date(n).getTime()?t.setIn(["flags","selectDate"],e.get("runningDate")):t.setIn(["flags","selectDate"],n)}),t.setIn(["flags","selectList"],(0,a.fromJS)(r)).setIn(["flags","selectDateList"],(0,a.fromJS)(l))}),c(e,l.MODIFY_RUNNING_PAYMENT,function(){var e=t.getIn(["flags","showRunningInfo"]),n=0;return e=(e=e.get("detail")&&e.get("detail").size?e.update("detail",function(e){return e.map(function(e){var t=Number(e.get("handleAmount"))+Number(e.get("notHandleAmount"));return n+=Math.abs(t),e.set("notHandleAmount",t)})}):e).set("forHandleAmount",n),t.set("runningTemp",e).setIn(["flags","runningInsertOrModify"],"modify")}),c(e,l.SHOW_RELATE_PAYMENT_FETCH,function(){var e=(0,a.fromJS)(n.receivedData);return t.setIn(["flags","showRunningInfo"],e).setIn(["flags","payOrReceive"],"debit"===e.get("direction")?"收":"付")}),c(e,l.CHANGE_ITEM_CHILD_SHOW,function(){var e=t.getIn(["realityList","childList",n.idx,"showItemChild"]);return t=t.setIn(["realityList","childList",n.idx,"showItemChild"],!e)}),c(e,l.CHANGE_TYPE_OF_SEARCH,function(){return t=t.setIn(n.placeArr,n.value)}),e)[n.type]||function(){return t})()};var a=n(18),r=n(22),l=i(n(1277)),u=i(n(27));function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=(0,a.fromJS)({flags:{issuedate:"",accountingType:"manages",payOrReceive:"收",accountAssModalShow:!1,curCategory:"全部",curAccountUuid:"全部",curbject:"",assId:"",assCategory:"",acId:"",selectList:[],selectDateList:[],selectDate:"1970-01-01",showRunningInfo:{},categoryUuid:"",isCheck:!1,debitSum:0,creditSum:0,debitAmount:0,creditAmount:0,showCalculateModal:!1,totalAmount:"",runningShowChild:[],invoicingType:"",certifiedType:"",costTransferType:"",searchType:"SEARCH_TYPE_DATE",manageModal:!1},runningCategory:[{childList:[]}],mediumAcAssList:{acList:[],category:[]},period:{closedmonth:"",closedyear:"",firstmonth:"",firstyear:"",lastmonth:"",lastyear:""},issues:[],calculateTemp:{ass:{assid:"",acId:"",totalName:"全部",assname:"",asscategory:"",handleAss:"insertass",NotAmountSumReceive:0,NotAmountSumPay:0,AmountSumReceive:0,AmountSumPay:0,runningAbstract:"",handlingAmount:"",accountName:""},detail:[],assList:[],cardUuid:"",usedCard:{name:"",code:"全部"},cardList:[],typeList:[],stockThingsList:[],stockUuid:"",stockCard:{name:"",code:"全部"},acList:[],runningIndex:0},payManageList:{childList:[]},invoicingList:{billMakeOutType:"",childList:[]},costTransferList:{runningState:"",childList:[]},certificationList:{billAuthType:"",childList:[]},runningFlowTemp:{},modalTemp:{runningDate:(0,r.formatDate)()}})}}]);