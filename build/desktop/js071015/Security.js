(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{1209:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.view=t.reducer=void 0;var o=i(n(2720));function i(e){return e&&e.__esModule?e:{default:e}}var r={securityState:i(n(2726)).default};t.reducer=r,t.view=o.default},1297:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getProjectSomeCardList=t.getProjectAllCardList=t.getProjectTreeList=t.getProcessModelList=t.getProjectAllCard=t.refreshSobOption=t.deleteSobRole=t.modifySobRoleModule=t.saveSobRole=t.beforeEditSobRole=t.switchSobRoleCurrentRole=t.getSobRoleListFromSobConfig=t.setSobRoleModuleListValue=t.changeSobRoleCommonString=void 0;var o=c(n(37));n(38);var i=c(n(31)),r=c(n(52)),a=l(n(1426)),s=n(18),u=n(22);l(n(30)),l(n(27)),l(n(60)),l(n(43));function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function c(e){return e&&e.__esModule?e:{default:e}}var f=t.changeSobRoleCommonString=function(e,t){return{type:a.CHANGE_SOB_ROLE_COMMON_STRING,place:e,value:t}},d=(t.setSobRoleModuleListValue=function(e,t){return function(n){n({type:a.SET_SOB_ROLE_MODULE_LIST_VALUE,place:e,value:t})}},t.getSobRoleListFromSobConfig=function(e,t,n){return function(o){o({type:a.SWITCH_LOADING_MASK}),(0,i.default)("getrolelist","GET","sobId="+e+"&sobType="+t,function(r){(0,u.showMessage)(r)&&((0,i.default)("getrolepermission","GET","sobId="+e+"&roleId="+r.data.roleList[0].roleId,function(i){o({type:a.GET_SOB_ROLE_LIST_FROM_SOB_OPTION,sobType:t,sobId:e,sobName:n,receivedData:r.data,roleData:i.data})}),"SMART"===t&&(o(p(e)),o(_(e)))),o({type:a.SWITCH_LOADING_MASK})})}}),S=(t.switchSobRoleCurrentRole=function(e){return function(t,n){var o=n().sobRoleState.get("views");(0,i.default)("getrolepermission","GET","sobId="+o.get("sobId")+"&roleId="+e.get("roleId"),function(n){t({type:a.SWITCH_SOB_ROLE_CURRENT_ROLE,role:e,receivedData:n.data})})}},t.beforeEditSobRole=function(e){return function(t){t({type:a.BEFORE_EDIT_SOB_ROLE,status:e})}},t.saveSobRole=function(e,t,n,o){return function(r,s){r({type:a.SWITCH_LOADING_MASK});var l=s().sobRoleState.get("views");"insert"===n?(0,i.default)("addrole","POST",JSON.stringify({sobId:l.get("sobId"),sobType:l.get("sobType"),roleName:e}),function(e){(0,u.showMessage)(e)&&((0,i.default)("getrolelist","GET","sobId="+l.get("sobId")+"&sobType="+l.get("sobType"),function(t){r({type:a.AFTER_EDIT_SOB_ROLE,receivedData:e.data,roleList:t.data.roleList,roleTemp:{roleId:e.data.roleId,roleInfo:"",roleName:e.data.roleName}})}),r(S(l.get("sobId")))),r({type:a.SWITCH_LOADING_MASK})}):"modify"===n&&(0,i.default)("modifyrolename","POST",JSON.stringify({sobId:l.get("sobId"),sobType:l.get("sobType"),roleName:e,roleId:t.get("roleId")}),function(t){if((0,u.showMessage)(t)){var n=t.data.roleList.find(function(t){return t.roleName===e});r({type:a.AFTER_EDIT_SOB_ROLE,editType:"modify",index:o,roleTemp:n})}r(S(l.get("sobId"))),r({type:a.SWITCH_LOADING_MASK})})}},t.modifySobRoleModule=function(e){return function(t,n){t({type:a.SWITCH_LOADING_MASK});var o=n().sobRoleState,r=o.get("views"),s=o.get("roleTemp"),l=o.get("roleModuleTemp");(0,i.default)("modifyrole","POST",JSON.stringify({sobId:r.get("sobId"),sobType:r.get("sobType"),roleId:s.get("roleId"),roleName:s.get("roleName"),defaultRole:l.get("defaultRole"),moduleList:l.get("moduleList")}),function(n){(0,u.showMessage)(n,"show")&&(t({type:a.AFTER_MODIFY_SOB_ROLE,bool:(!1).value,receivedData:n.data}),e&&e()),t({type:a.SWITCH_LOADING_MASK})})}},t.deleteSobRole=function(e,t){return function(n,r){n({type:a.SWITCH_LOADING_MASK});var s=r().sobRoleState.get("views");(0,i.default)("deleterole","POST",JSON.stringify({sobId:s.get("sobId"),roleId:e.get("roleId")}),function(e){t(e),0===e.code?(o.default.success("操作成功"),n(d(s.get("sobId"),s.get("sobType"))),n(S(s.get("sobId")))):3004!==e.code&&(0,u.showMessage)(e),n({type:a.SWITCH_LOADING_MASK})})}},t.refreshSobOption=function(e){return function(t){(0,i.default)("sobOptionInit","GET","sobId="+e,function(e){(0,u.showMessage)(e)&&t({type:a.SOB_OPTION_INIT,receivedData:e.data})})}}),p=t.getProjectAllCard=function(e,t){return function(n,o){(0,r.default)("getProjectConfigHighTypeSob","GET","sobId="+e,function(o){if((0,u.showMessage)(o)){var i=o.data.map(function(e){return e.uuid});n(f("categoryRange",(0,s.fromJS)(i))),(0,r.default)("getProjectCardList","POST",JSON.stringify({sobId:e,categoryList:i,needCommonCard:!0,needAssist:!0,needMake:!0,needIndirect:!0,needMechanical:!0}),function(e){(0,u.showMessage)(e)&&(n(f("allCardListL",(0,s.fromJS)(e.data.result))),t&&t())})}})}},_=t.getProcessModelList=function(e){return function(t,n){(0,r.default)("getApprovalModelList","GET","sobId="+e,function(e){(0,u.showMessage)(e)&&t(f("processModelList",(0,s.fromJS)(e.data)))})}};t.getProjectTreeList=function(e,t){return function(n,o){var i=o().sobRoleState.get("views").get("sobId");(0,r.default)("getProjectTreeList","POST",JSON.stringify({sobId:i,categoryList:e}),function(e){if((0,u.showMessage)(e)){n(f("modalCategoryList",(0,s.fromJS)(e.data.typeList)));var i=o().sobRoleState.get("allCardListL");n(f("modalCardList",i)),n(f("selectCardList",(0,s.fromJS)([]))),t&&t()}})}},t.getProjectAllCardList=function(e,t,n,o){return function(t,i){var l=i().sobRoleState.get("views").get("sobId");t({type:a.SWITCH_LOADING_MASK}),n||(0,r.default)("getProjectTreeList","POST",JSON.stringify({sobId:l,categoryList:e}),function(e){(0,u.showMessage)(e)&&t(f("modalCategoryList",(0,s.fromJS)(e.data.typeList)))}),(0,r.default)("getProjectCardList","POST",JSON.stringify({sobId:l,categoryList:e,needCommonCard:!0,needAssist:!0,needMake:!0,needIndirect:!0,needMechanical:!0}),function(e){t({type:a.SWITCH_LOADING_MASK}),(0,u.showMessage)(e)&&(t(f("modalCardList",(0,s.fromJS)(e.data.result))),o&&o())})}},t.getProjectSomeCardList=function(e,t){return function(n,o){var i=o().sobRoleState.get("views").get("sobId");1==t?(0,r.default)("getProjectSubordinateCardList","POST",JSON.stringify({sobId:i,categoryUuid:e,listByCategory:!0,subordinateUuid:""}),function(e){(0,u.showMessage)(e)&&n(f("modalCardList",(0,s.fromJS)(e.data.resultList)))}):(0,r.default)("getProjectSubordinateCardList","POST",JSON.stringify({sobId:i,subordinateUuid:e,listByCategory:!1,categoryUuid:e}),function(e){(0,u.showMessage)(e)&&n(f("modalCardList",(0,s.fromJS)(e.data.resultList)))})}}},1347:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sobChangeCopyModuleItem=t.setSobChangeCopyModuleItem=t.initIdentifyingCodeTemp=t.getIdentifyingCodeList=t.changeSobPermissionList=t.deleteSobItemFetch=t.sobOptionRoleDelete=t.sobOptionCensorChange=t.getSobList=t.sobOptionSave=t.sobOptionChangeFunModuel=t.sobOptionChangeTime=t.sobOptionChangeSobTemplate=t.sobOptionChangeContent=void 0;var o,i=n(31),r=(o=i)&&o.__esModule?o:{default:o},a=p(n(184)),s=n(18),u=n(22),l=p(n(30)),c=p(n(27)),f=p(n(60)),d=p(n(43)),S=p(n(1297));function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}t.sobOptionChangeContent=function(e,t){return function(n){n({type:a.SOB_OPTION_CHANGE_CONTENT,name:e,value:t})}},t.sobOptionChangeSobTemplate=function(e){return function(t){t({type:a.SOB_OPTION_CHANGE_SOB_TEMPLATE,value:e})}},t.sobOptionChangeTime=function(e){return function(t){var n=e.split("-"),o=n[0],i=n[1];t({type:a.SOB_OPTION_CHANGE_TIME,firstyear:o,firstmonth:i})}},t.sobOptionChangeFunModuel=function(e,t){return function(n){n({type:a.SOB_OPTION_CHANGE_FUN_MODUEL,moduleCode:e.get("moduleCode"),value:t})}},t.sobOptionSave=function(e){return function(t,n){var o=n().sobOptionState.get("tempSob");if(o.getIn(["moduleInfo","GL"])&&o.getIn(["moduleInfo","GL","beOpen"])&&(o=o.setIn(["moduleInfo","ENCLOSURE_GL","beOpen"],!0)),o.getIn(["moduleInfo","GL"])&&!1===o.getIn(["moduleInfo","GL","beOpen"])&&(o=o.set("operatorlist",(0,s.fromJS)([])).set("vcObserverList",(0,s.fromJS)([]))),o.getIn(["moduleInfo","RUNNING"])&&o.getIn(["moduleInfo","RUNNING","beOpen"])&&(o=o.setIn(["moduleInfo","ENCLOSURE_RUN","beOpen"],!0)),o.getIn(["moduleInfo","RUNNING"])&&!1===o.getIn(["moduleInfo","RUNNING","beOpen"])&&(o=o.set("cashierList",(0,s.fromJS)([])).set("flowObserverList",(0,s.fromJS)([]))),o=o.delete("customizeList").delete("jrModelList"),e){t({type:a.SWITCH_LOADING_MASK});var i=n().homeState.getIn(["data","userInfo","sobInfo","sobId"]);(0,r.default)("checkwarehousedisable","GET","sobId="+i,function(e){t({type:a.SWITCH_LOADING_MASK}),(0,u.showMessage)(e)&&(e.data.canDisable?l.Confirm({message:"关闭仓库核算后，历史流水及期初值将批量取消关联仓库，仓库设置将被清空。确认关闭仓库核算吗",title:"提示",buttonLabels:["取消","确定"],onSuccess:function(e){1===e.buttonIndex&&c()}}):l.Alert("无法关闭仓库核算，账套内【有历史存货流水或存货期初值关联多个仓库】"))})}else c();function c(){t({type:a.SWITCH_LOADING_MASK}),(0,r.default)("checkRoleIsRepeat","POST",JSON.stringify(o),function(e){(0,u.showMessage)(e)&&("成功"===e.message?t(_(o)):l.Confirm({message:e.message,title:"提示",buttonLabels:["取消","确定"],onSuccess:function(e){1===e.buttonIndex&&t(_(o))}})),t({type:a.SWITCH_LOADING_MASK})})}}};var _=function(e){return function(t,n){t({type:a.SWITCH_LOADING_MASK}),(0,r.default)("sobOptionSave","POST",JSON.stringify(e),function(o){if((0,u.showMessage)(o,"show")){n().sobConfigState.get("sobOptionModal");if(""===e.get("sobid"))t({type:a.CLEAR_HOME_TAB_PANE}),t(f.getDbListFetch()),l.Confirm({message:"账套创建成功！",title:"提示",buttonLabels:["设置账套角色","进入新账套"],onSuccess:function(n){if(0===n.buttonIndex){var i=o.data.sobid,r="3"===e.get("template")?"SMART":"ACCOUNTING",a=e.get("sobname");t(S.getSobRoleListFromSobConfig(i,r,a)),t(f.addPageTabPane("ConfigPanes","SobRole","SobRole","角色编辑")),t(f.addHomeTabpane("Config","SobRole","角色编辑"))}else n.buttonIndex}});else(n().homeState.getIn(["data","userInfo","sobInfo"])?n().homeState.getIn(["data","userInfo","sobInfo","sobId"]):"")===e.get("sobid")?(t({type:a.CLEAR_HOME_TAB_PANE}),t(m("hideLoad")),t(f.getDbListFetch())):((0,r.default)("sobOptionInit","GET","sobId="+e.get("sobid"),function(e){(0,u.showMessage)(e)&&t({type:a.SOB_OPTION_INIT,receivedData:e.data})}),t(f.getDbListFetch()),t(m("hideLoad")))}else o.code!==c.REPEAT_REQUEST_CODE&&e.get("sobid")&&(0,r.default)("sobOptionInit","GET","sobId="+e.get("sobid"),function(e){(0,u.showMessage)(e)&&t({type:a.SOB_OPTION_INIT,receivedData:e.data})});t({type:a.SWITCH_LOADING_MASK})})}},m=t.getSobList=function(e){return function(t){"hideLoad"!==e&&t({type:a.SWITCH_LOADING_MASK}),(0,r.default)("getNewSobList","GET","",function(n){(0,u.showMessage)(n)&&t({type:a.GET_SOB_LIST,list:n.data}),"hideLoad"!==e&&t({type:a.SWITCH_LOADING_MASK})})}};t.sobOptionCensorChange=function(e,t,n){return function(o){o({type:a.SOB_OPTION_ROLE_CHECK_STATE,listName:e,index:t,lastStatus:n})}},t.sobOptionRoleDelete=function(e,t,n){return function(o){o({type:a.SOB_OPTION_ROLE_DELETE,listName:e,listIndex:t,index:n})}},t.deleteSobItemFetch=function(e){return function(t,n){t({type:a.SWITCH_LOADING_MASK}),(0,r.default)("deletesob","POST",JSON.stringify({sobidlist:e}),function(o){(t({type:a.SWITCH_LOADING_MASK}),(0,u.showMessage)(o))&&(n().homeState.getIn(["data","userInfo","sobInfo","sobId"])===e[0]?(t(d.freshReportPage()),t(d.freshYebPage()),t(d.freshMxbPage()),t(d.freshSearchPage()),t(d.freshEditPage()),t(d.freshConfigPage("账套设置")),t({type:a.CLEAR_HOME_TAB_PANE,exclude:"Config"}),t(f.getDbListFetch()),t(m())):t(m()))})}},t.changeSobPermissionList=function(e,t,n){return{type:a.CHANGE_SOB_PERMISSION_LIST,listName:e,index:t,list:n}},t.getIdentifyingCodeList=function(){return function(e){(0,r.default)("getsobcopycode","GET","",function(t){(0,u.showMessage)(t)&&e({type:a.AFTER_GET_IDENTIFYING_CODE_LIST,receivedData:t.data})})}},t.initIdentifyingCodeTemp=function(){return{type:a.INIT_IDENTIFYING_CODE_TEMP}},t.setSobChangeCopyModuleItem=function(e,t){return{type:a.SET_SOB_CHANGE_COPY_MODULE_ITEM,item:e,newJr:t}},t.sobChangeCopyModuleItem=function(e,t){return{type:a.SOB_OPTION_CHANGE_COPY_MODULE_ITEM,moduleCode:e,value:t}}},1426:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SWITCH_LOADING_MASK="SWITCH_LOADING_MASK",t.GET_SOB_ROLE_LIST_FROM_SOB_OPTION="GET_SOB_ROLE_LIST_FROM_SOB_OPTION",t.SWITCH_SOB_ROLE_CURRENT_ROLE="SWITCH_SOB_ROLE_CURRENT_ROLE",t.SOB_OPTION_INIT="SOB_OPTION_INIT",t.SET_SOB_ROLE_MODULE_LIST_VALUE="SET_SOB_ROLE_MODULE_LIST_VALUE",t.AFTER_MODIFY_SOB_ROLE="AFTER_MODIFY_SOB_ROLE",t.BEFORE_EDIT_SOB_ROLE="BEFORE_EDIT_SOB_ROLE",t.AFTER_INSERT_SOB_ROLE="AFTER_INSERT_SOB_ROLE",t.AFTER_EDIT_SOB_ROLE="AFTER_EDIT_SOB_ROLE",t.CHANGE_SOB_ROLE_COMMON_STRING="CHANGE_SOB_ROLE_COMMON_STRING"},1592:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setLockSecret=t.saveSecurityPermissionList=t.changeSecurityPermissionList=t.deleteSecurityPermissionEmpl=t.getSecurityPermissionList=void 0;var o,i=n(22),r=l(n(1774)),a=n(31),s=(o=a)&&o.__esModule?o:{default:o},u=(l(n(30)),l(n(60)));l(n(43));function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}t.getSecurityPermissionList=function(){return function(e){e({type:r.SWITCH_LOADING_MASK}),(0,s.default)("getSecurityCenter","GET","",function(t){(0,i.showMessage)(t)&&e({type:r.GET_SECURITY_PERMISSION_LIST,receivedData:t.data}),e({type:r.SWITCH_LOADING_MASK})})}},t.deleteSecurityPermissionEmpl=function(e,t){return function(n){n({type:r.DELETE_SECURITY_PERMISSION_EMPL,listName:e,index:t})}},t.changeSecurityPermissionList=function(e,t){return function(n){n({type:r.CHANGE_SECURITY_PERMISSION_LIST,listName:e,list:t})}},t.saveSecurityPermissionList=function(e){return function(t,n){t({type:r.SWITCH_LOADING_MASK});n().homeState.getIn(["data","userInfo","emplID"]);var o=n().securityState.get("setting");(0,s.default)("saveSecurityCenter","POST",JSON.stringify(o),function(n){(0,i.showMessage)(n,"show")&&(e?e():t(u.getDbListFetch())),t({type:r.SWITCH_LOADING_MASK})})}},t.setLockSecret=function(e,t,n){return function(o,a){o({type:r.SWITCH_LOADING_MASK}),(0,s.default)("setlocksecret","POST",JSON.stringify({secret:e||"",lockTime:t}),function(a){(0,i.showMessage)(a,"show")&&(o({type:r.AFTER_CHANGE_LOCK_SECRET,secret:e||"",lockTime:t}),n&&n()),o({type:r.SWITCH_LOADING_MASK})})}}},1593:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i=u(n(37)),r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();n(38);var a=u(n(1)),s=n(17);n(18);function u(e){return e&&e.__esModule?e:{default:e}}n(2722);var l=(0,s.immutableRenderDecorator)(o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.list,n=e.activeTab,o=e.onClick,r=e.disabledKey,s=e.disabled,u=e.tipMessage;return a.default.createElement("div",{className:"fee-title-wrap"},a.default.createElement("ul",{className:"fee-title-list"},t.map(function(e,t){return a.default.createElement("li",{key:t,className:"fee-title-item"+(n===e.key?" fee-title-item-cur":""),onClick:function(){n!==e.key&&(r&&r===e.key&&s?i.default.info(u):o(e.key))}},e.name)})))}}]),t}())||o;t.default=l},1594:function(e,t,n){},1774:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SWITCH_LOADING_MASK="SWITCH_LOADING_MASK",t.INIT_SECURITY="INIT_SECURITY",t.GET_SECURITY_PERMISSION_LIST="GET_SECURITY_PERMISSION_LIST",t.DELETE_SECURITY_PERMISSION_EMPL="DELETE_SECURITY_PERMISSION_EMPL",t.CHANGE_SECURITY_PERMISSION_LIST="CHANGE_SECURITY_PERMISSION_LIST",t.AFTER_CHANGE_LOCK_SECRET="AFTER_CHANGE_LOCK_SECRET"},2720:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=f(n(1)),a=(n(18),n(56)),s=(c(n(43)),c(n(60)),c(n(1592)),c(n(1347)),c(n(103)),f(n(2721))),u=f(n(2725)),l=f(n(1593));c(n(30));function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function f(e){return e&&e.__esModule?e:{default:e}}n(1594);var d=(0,a.connect)(function(e){return e})(o=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={currentPage:"personalSettings"},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),i(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.props.allState!=e.allState||this.props.homeState!=e.homeState||this.props.securityState!=e.securityState||t!=this.state}},{key:"render",value:function(){var e=this,t=this.props,n=(t.dispatch,t.allState,t.homeState),o=t.securityState,i=this.state.currentPage,a=o.get("setting"),c=(a.get("adminList"),a.get("financeList"),a.get("informList"),n.getIn(["data","userInfo"])),f=c.get("isAdmin"),d=c.get("isDdAdmin"),S=c.get("isDdPriAdmin"),p=c.get("isFinance");return r.default.createElement("div",{className:"security-wrap"},r.default.createElement(l.default,{list:[{name:"个人设置",key:"personalSettings"},{name:"公司设置",key:"companySettings"}],activeTab:i,onClick:function(t){e.setState({currentPage:t})},disabledKey:"companySettings",disabled:!("TRUE"===f||"TRUE"===p||"TRUE"===d||"TRUE"===S),tipMessage:"您没有权限"}),"personalSettings"===i?r.default.createElement(u.default,null):r.default.createElement(s.default,null))}}]),t}())||o;t.default=d},2721:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i=p(n(32)),r=p(n(14)),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();n(51),n(78);var s=p(n(1)),u=(n(18),n(56)),l=(S(n(43)),S(n(60))),c=S(n(1592)),f=(S(n(1347)),S(n(103))),d=(p(n(1593)),S(n(30)));function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function p(e){return e&&e.__esModule?e:{default:e}}function _(e,t){d.choose({multiple:!0,users:e.map(function(e){return e.get("emplId")}).toJS(),max:1500,onSuccess:function(e){e=e.map(function(e){return e.emplId=e.emplId.toString(),e}),t(e)},onFail:function(e){}})}n(1594);var m=(0,u.connect)(function(e){return e})(o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),a(t,[{key:"componentDidMount",value:function(){this.props.dispatch(c.getSecurityPermissionList()),this.props.dispatch(l.setDdConfig())}},{key:"render",value:function(){var e=this.props,t=e.dispatch,n=(e.allState,e.homeState),o=e.securityState.get("setting"),a=o.get("adminList"),u=o.get("financeList"),d=o.get("informList"),S=n.getIn(["data","userInfo"]),p=S.get("isAdmin"),m=S.get("isDdAdmin"),g=(S.get("isDdPriAdmin"),S.get("isFinance"),"TRUE"===p||"TRUE"===m);return s.default.createElement("div",null,s.default.createElement("div",{className:"security-setting-wrap"},s.default.createElement("div",{className:"security-setting-main-title"},"超级管理员"),s.default.createElement("div",{className:"security-setting-sub-title"},"-最高权限，支持所有操作"),s.default.createElement("div",{className:"security-setting-sub-title"},"建议设置人员：钉钉主管理员、财务负责人/总监"),s.default.createElement("div",{className:"security-setting-item"},s.default.createElement("div",{className:"security-setting-corp-list"},a.map(function(e,n){return s.default.createElement("span",{key:e.get("emplId")},e.get("name")," ",s.default.createElement("i",{onClick:function(){t(c.deleteSecurityPermissionEmpl("adminList",n))}},"×"))})),s.default.createElement("div",{className:"security-setting-corp-btn"},s.default.createElement(i.default,{className:"add-role-btn",onClick:function(){_(a,function(e){t(c.changeSecurityPermissionList("adminList",e))})}},s.default.createElement(r.default,{type:"plus",style:{color:"#a90202"}}),"添加")))),s.default.createElement("div",{className:"security-setting-wrap security-setting-wrap-second"},s.default.createElement("div",{className:"security-setting-main-title"},"财务经理："),s.default.createElement("div",{className:"security-setting-sub-title"},"-支持创建账套，支持试用/购买增值功能及开票；"),s.default.createElement("div",{className:"security-setting-sub-title"},"-钉钉管理员默认具备财务经理权限；"),s.default.createElement("div",{className:"security-setting-sub-title"},"建议设置人员：财务经理/主管"),s.default.createElement("div",{className:"security-setting-item"},s.default.createElement("div",{className:"security-setting-corp-list"},u.map(function(e,n){return s.default.createElement("span",{key:e.get("emplId")},e.get("name")," ",s.default.createElement("i",{onClick:function(){t(c.deleteSecurityPermissionEmpl("financeList",n))}},"×"))})),s.default.createElement("div",{className:"security-setting-corp-btn"},s.default.createElement(i.default,{className:"add-role-btn",onClick:function(){_(u,function(e){t(c.changeSecurityPermissionList("financeList",e))})}},s.default.createElement(r.default,{type:"plus",style:{color:"#a90202"}}),"添加")))),s.default.createElement("div",{className:"security-setting-wrap security-setting-wrap-three"},s.default.createElement("div",{className:"security-setting-main-title"},"消息通知人："),s.default.createElement("div",{className:"security-setting-sub-title"},"建议设置人员：公司负责人、超级管理员"),s.default.createElement("div",{className:"security-setting-item"},s.default.createElement("div",{className:"security-setting-corp-list"},d.map(function(e,n){return s.default.createElement("span",{key:e.get("emplId")},e.get("name")," ",s.default.createElement("i",{onClick:function(){t(c.deleteSecurityPermissionEmpl("informList",n))}},"×"))})),s.default.createElement("div",{className:"security-setting-corp-btn"},s.default.createElement(i.default,{className:"add-role-btn",onClick:function(){_(d,function(e){t(c.changeSecurityPermissionList("informList",e))})}},s.default.createElement(r.default,{type:"plus",style:{color:"#a90202"}}),"添加")))),s.default.createElement("div",{className:g?"security-setting-save-btn":"security-setting-save-btn security-setting-save-btn-disabled"},s.default.createElement(i.default,{disabled:!g,onClick:function(){n.getIn(["views","firstToSecurity"])?t(c.saveSecurityPermissionList(function(){S.get("sobNumber")>S.get("usedSobNumber")?(t(l.changeLoginGuideString("firstToSecurity",!1)),t(l.changeLoginGuideString("firstToSobInsert",!0)),t(l.addPageTabPane("ConfigPanes","SobOption","SobOption","账套新增")),t(l.addHomeTabpane("Config","SobOption","账套新增")),setTimeout(function(){return t(f.sobOptionInit("",function(){}))},100)):(t(l.changeLoginGuideString("firstToSecurity",!1)),t(l.changeLoginGuideString("firstToSob",!0)),t(l.addPageTabPane("ConfigPanes","Sob","Sob","账套设置")),t(l.addHomeTabpane("Config","Sob","账套设置")))})):t(c.saveSecurityPermissionList())}},"保存")))}}]),t}())||o;t.default=m},2722:function(e,t,n){},2725:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i=p(n(47)),r=p(n(100)),a=p(n(37)),s=p(n(45)),u=p(n(32)),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();n(46),n(99),n(38),n(55),n(51);var c=p(n(1)),f=(n(18),n(56)),d=(S(n(43)),S(n(60)),S(n(1592)));S(n(1347)),S(n(103)),p(n(1593)),S(n(30));function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function p(e){return e&&e.__esModule?e:{default:e}}n(1594);var _=(0,f.connect)(function(e){return e})(o=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={showEditModal:!1,password:""},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.default.Component),l(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.dispatch,o=(t.allState,t.homeState),l=(t.securityState,this.state),f=l.showEditModal,S=l.password,p=o.getIn(["data","userInfo"]),_=p.getIn(["lockSecret","lockTime"]),m=p.getIn(["lockSecret","secret"]);return c.default.createElement("div",null,c.default.createElement("ul",{className:"personal-settings-list"},c.default.createElement("li",{className:"personal-settings-item"},c.default.createElement("label",null,"锁屏密码："),c.default.createElement("div",null,c.default.createElement(u.default,{type:"primary",onClick:function(){return e.setState({showEditModal:!0})}},"设置"))),c.default.createElement("li",{className:"personal-settings-item"},c.default.createElement("label",null,"自动锁屏："),c.default.createElement("div",null,c.default.createElement(s.default,{style:{width:300},value:{"-1":"永不",5:"5分钟",10:"10分钟",15:"15分钟",30:"30分钟",60:"60分钟"}[_],onSelect:function(e){n(d.setLockSecret(m,e,function(){}))}},[{key:"-1",value:"永不"},{key:"5",value:"5分钟"},{key:"10",value:"10分钟"},{key:"15",value:"15分钟"},{key:"30",value:"30分钟"},{key:"60",value:"60分钟"}].map(function(e,t){return c.default.createElement(s.default.Option,{key:e.key,value:e.key},e.value)})))),c.default.createElement("li",{className:"personal-settings-item-tip"},"注：本功能仅桌面端有效")),c.default.createElement(i.default,{okText:"保存",visible:f,title:"锁屏密码设置",onCancel:function(){e.setState({password:"",showEditModal:!1})},footer:[c.default.createElement(u.default,{key:"ok",type:"primary",onClick:function(){n(d.setLockSecret(S,_,function(){return e.setState({showEditModal:!1})}))}},"保 存")]},c.default.createElement("div",null,c.default.createElement("div",null,c.default.createElement(r.default.Password,{placeholder:"请输入新的锁屏密码",className:"personal-settings-password-input",value:S,onChange:function(t){/^\d{0,4}$/.test(t.target.value)||""===t.target.value?e.setState({password:t.target.value}):a.default.info("密码为4位数字")}})),c.default.createElement("ul",{className:"uses-tip"},c.default.createElement("li",null,"1、仅用于快捷锁屏及解锁，若密码遗忘可直接重新设置"),c.default.createElement("li",null,"2、支持1-4位数字密码"),c.default.createElement("li",null,"3、本密码为个人锁屏密码，不区分账套"),c.default.createElement("li",null,"4、保存空密码，可关闭本功能")))))}}]),t}())||o;t.default=_},2726:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,n=arguments[1];return((e={},a(e,i.INIT_SECURITY,function(){return s}),a(e,i.GET_SECURITY_PERMISSION_LIST,function(){return t=t.set("setting",(0,o.fromJS)(n.receivedData))}),a(e,i.DELETE_SECURITY_PERMISSION_EMPL,function(){return t=t.updateIn(["setting",n.listName],function(e){return e.delete(n.index)})}),a(e,i.CHANGE_SECURITY_PERMISSION_LIST,function(){return t=t.setIn(["setting",n.listName],(0,o.fromJS)(n.list))}),e)[n.type]||function(){return t})()};var o=n(18),i=r(n(1774));r(n(27));function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=(0,o.fromJS)({views:{},setting:{adminList:[],financeList:[],informList:[]}})}}]);