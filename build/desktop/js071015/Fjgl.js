(window.webpackJsonp=window.webpackJsonp||[]).push([[61],{1186:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.view=t.reducer=void 0;var r=o(n(2432)),a=o(n(1578)),l=o(n(1456));function o(e){return e&&e.__esModule?e:{default:e}}var i={fjglState:a.default,exportRecordingState:l.default};t.reducer=i,t.view=r.default},1223:function(e,t,n){},1224:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,l,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=s(n(1)),u=s(n(0)),c=n(17);function s(e){return e&&e.__esModule?e:{default:e}}n(1223);var f=(0,c.immutableRenderDecorator)((l=a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),o(t,[{key:"render",value:function(){var e=this.props,t=e.type,n=e.className,r=e.onClick;return i.default.createElement("div",{className:"container-wrap container-width-"+t+" "+n,onClick:r},this.props.children)}}]),t}(),a.displayName="ContainerWrap",a.propTypes={type:u.default.string.isRequired,className:u.default.string.isRequired},r=l))||r;t.default=f},1226:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),i=(a=o)&&a.__esModule?a:{default:a},u=n(17);n(1223);var c=(0,u.immutableRenderDecorator)(r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),l(t,[{key:"render",value:function(){return i.default.createElement("div",{className:"flex-title"},this.props.children)}}]),t}())||r;t.default=c},1246:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SWITCH_LOADING_MASK="SWITCH_LOADING_MASK",t.INIT_PZ_BOMB="INIT_PZ_BOMB",t.PZBOMB_REVIEWEDBY_VC="PZBOMB_REVIEWEDBY_VC",t.CANCEL_PZBOMB_REVIEWEDBY_VC="CANCEL_PZBOMB_REVIEWEDBY_VC"},1359:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deleteExportList=t.selectAllUuidList=t.handleUuidList=t.getEnclosureExportRecordingList=void 0;var r,a=n(31),l=(r=a)&&r.__esModule?r:{default:r},o=u(n(1373)),i=n(22);u(n(43)),u(n(30));function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var c=t.getEnclosureExportRecordingList=function(e){return function(t){t({type:o.SWITCH_LOADING_MASK}),(0,l.default)("exportEnclosureList","POST",JSON.stringify({year:e.substr(0,4),month:"-"===e.substr(4,1)?e.substr(5,2):e.substr(6,2)}),function(n){t({type:o.SWITCH_LOADING_MASK}),(0,i.showMessage)(n)&&t({type:o.GET_EXPORT_ENCLOSURE_LIST,data:n.data,issuedate:e})})}};t.handleUuidList=function(e){return function(t,n){t({type:o.HANDLE_EXPORT_RECORDING_LIST,uuid:e})}},t.selectAllUuidList=function(e){return function(t){t({type:o.SELECT_ALL_EXPORT_RECORDING_LIST,selectedAll:e})}},t.deleteExportList=function(){return function(e,t){e({type:o.SWITCH_LOADING_MASK});var n=t().exportRecordingState.get("uuidList"),r=t().exportRecordingState.get("issuedate");(0,l.default)("deleteEnclosureExportList","POST",JSON.stringify({uuidList:n}),function(t){e({type:o.SWITCH_LOADING_MASK}),(0,i.showMessage)(t)&&e(c(r))})}}},1373:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GET_EXPORT_ENCLOSURE_LIST="GET_EXPORT_ENCLOSURE_LIST",t.SET_EXPORT_RECORDING_ISSUEDATE="SET_EXPORT_RECORDING_ISSUEDATE",t.SWITCH_LOADING_MASK="SWITCH_LOADING_MASK",t.HANDLE_EXPORT_RECORDING_LIST="HANDLE_EXPORT_RECORDING_LIST",t.SELECT_ALL_EXPORT_RECORDING_LIST="SELECT_ALL_EXPORT_RECORDING_LIST"},1456:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,n=arguments[1];return((e={},l(e,a.GET_EXPORT_ENCLOSURE_LIST,function(){return t.set("dataList",n.data).set("issuedate",n.issuedate).set("selectedAll",!1)}),l(e,a.HANDLE_EXPORT_RECORDING_LIST,function(){var e=t.get("uuidList").toJS(),a=n.uuid;if(e.includes(a)){var l=e.findIndex(function(e,t){return e===a});e.splice(l,1)}else e.push(a);return t.set("uuidList",(0,r.fromJS)(e))}),l(e,a.SELECT_ALL_EXPORT_RECORDING_LIST,function(){var e=[],a=n.selectedAll,l=t.get("dataList");if(a)for(var o in l)e.push(l[o].zipUuid);return t.set("uuidList",(0,r.fromJS)(e)).set("selectedAll",a)}),e)[n.type]||function(){return t})()};var r=n(18),a=(n(22),function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1373)));function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=(0,r.fromJS)({dataList:[],uuidList:[],issuedate:"",selectedAll:!1})},1514:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SWITCH_LOADING_MASK="SWITCH_LOADING_MASK",t.INIT_FJGL="INIT_FJGL",t.CHANGE_FJGL_ISSUEDATE="CHANGE_FJGL_ISSUEDATE",t.CHANGE_LABEL_VALUE="CHANGE_LABEL_VALUE",t.GET_FJGL_DATA="GET_FJGL_DATA",t.SELECT_FJ_VC_ALL="SELECT_FJ_VC_ALL",t.CLOSE_PREVIEW="CLOSE_PREVIEW",t.SELECT_FJ_VC_ITEM="SELECT_FJ_VC_ITEM",t.SELECT_FJ_ITEM="SELECT_FJ_ITEM",t.SORT_FJ_VC_LIST_BY_DATE="SORT_FJ_VC_LIST_BY_DATE",t.REVERSE_FJ_VC_LIST="REVERSE_FJ_VC_LIST",t.PREWIEW_IMAGE="PREWIEW_IMAGE",t.GET_DELETE_DATA="GET_DELETE_DATA",t.GET_DOWNLOAD_DATA="GET_DOWNLOAD_DATA",t.OPEN_LABEL_MODAL="OPEN_LABEL_MODAL",t.CLOSE_LABEL_MODAL="CLOSE_LABEL_MODAL",t.CHANGE_CURRENT_LABEL="CHANGE_CURRENT_LABEL",t.CHANGE_PREVIEW_SRC_IDX="CHANGE_PREVIEW_SRC_IDX"},1515:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.changePreviewSrcIdx=t.download=t.updateLabel=t.closeLabelModal=t.changeCurrentLabel=t.openLabelModal=t.getDownloadData=t.previewImage=t.closePrewiew=t.changeLabelValue=t.changeFjglIssudate=t.selectFjItem=t.reverseFjVcList=t.sortFjVcListByDate=t.selectFjVcAll=t.selectFjVcItem=t.deleteFjItemFetch=t.getFjListFetch=t.fjglDownloadEnclosure=void 0;u(n(37));n(38);var r=u(n(31)),a=i(n(1514)),l=n(22),o=(i(n(43)),i(n(30)),n(43));function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function u(e){return e&&e.__esModule?e:{default:e}}t.fjglDownloadEnclosure=function(e,t){return function(n){n((0,o.allDownloadEnclosure)(e,t))}};var c=t.getFjListFetch=function(){return function(e,t){var n=t().fjglState,o=n.get("issuedate");e({type:a.SWITCH_LOADING_MASK}),(0,r.default)("getFjData","POST",JSON.stringify({year:o?o.substr(0,4):"",month:o?o.substr(6,2):"",label:"全部"===n.get("labelValue")?"":n.get("labelValue")}),function(t){(0,l.showMessage)(t)&&e({type:a.GET_FJGL_DATA,receivedData:t.data}),e({type:a.SWITCH_LOADING_MASK})})}};t.deleteFjItemFetch=function(){return function(e,t){e({type:a.GET_DELETE_DATA});var n=t().fjglState,o=n.get("issuedate");e({type:a.SWITCH_LOADING_MASK}),(0,r.default)("deleteFj","POST",JSON.stringify({year:o.substr(0,4),month:o.substr(6,2),enclosureList:n.get("needDeleteUrl"),vcIndexArray:n.get("vcIndexArray")}),function(t){(0,l.showMessage)(t)&&e(c()),e({type:a.SWITCH_LOADING_MASK})})}},t.selectFjVcItem=function(e){return{type:a.SELECT_FJ_VC_ITEM,idx:e}},t.selectFjVcAll=function(){return{type:a.SELECT_FJ_VC_ALL}},t.sortFjVcListByDate=function(){return{type:a.SORT_FJ_VC_LIST_BY_DATE}},t.reverseFjVcList=function(){return{type:a.REVERSE_FJ_VC_LIST}},t.selectFjItem=function(e,t){return{type:a.SELECT_FJ_ITEM,idx:e,fjIdx:t}},t.changeFjglIssudate=function(e){return{type:a.CHANGE_FJGL_ISSUEDATE,issuedate:e}},t.changeLabelValue=function(e){return{type:a.CHANGE_LABEL_VALUE,labelValue:e}},t.closePrewiew=function(){return{type:a.CLOSE_PREVIEW}},t.previewImage=function(e,t){return{type:a.PREWIEW_IMAGE,idx:e,fjIdx:t}},t.getDownloadData=function(){return{type:a.GET_DOWNLOAD_DATA}},t.openLabelModal=function(e,t){return{type:a.OPEN_LABEL_MODAL,idx:e,fjIdx:t}},t.changeCurrentLabel=function(e){return{type:a.CHANGE_CURRENT_LABEL,currentLabel:e}},t.closeLabelModal=function(){return{type:a.CLOSE_LABEL_MODAL}},t.updateLabel=function(e,t){return function(n){(0,r.default)("updateLabel","POST",JSON.stringify({enKey:e,label:t}),function(e){(0,l.showMessage)(e)&&n({type:a.CLOSE_LABEL_MODAL})})}},t.download=function(e){return function(t,n){var a=n().homeState.getIn(["data","userInfo","emplID"]);(0,r.default)("fjglDown","POST",JSON.stringify({userIdList:[a],enclosureList:e}),function(e){(0,l.showMessage)(e,"show")})}},t.changePreviewSrcIdx=function(e){return{type:a.CHANGE_PREVIEW_SRC_IDX,value:e}}},1578:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,n=arguments[1];return((e={},l(e,a.INIT_FJGL,function(){return o}),l(e,a.CHANGE_FJGL_ISSUEDATE,function(){return t.set("issuedate",n.issuedate)}),l(e,a.CHANGE_LABEL_VALUE,function(){return t.set("labelValue",n.labelValue)}),l(e,a.GET_FJGL_DATA,function(){var e=n.receivedData,a=n.receivedData.labelArray,l=["全部"].concat(a);return t=t.update("vclist",function(e){return e.clear().merge((0,r.fromJS)(n.receivedData.jsonArray))}).setIn(["flags","maxVoucherId"],e.length?e.pop().vcindex:0).setIn(["flags","selectVcAll"],!1).set("totalSize",n.receivedData.totalSize).set("useSizeByCorp",n.receivedData.useSizeByCorp).set("useSizeBySob",n.receivedData.useSizeBySob).set("label",l).set("fjLabel",a)}),l(e,a.SELECT_FJ_VC_ALL,function(){var e=!t.getIn(["flags","selectVcAll"]),n=[];return(t=t.updateIn(["flags","selectVcAll"],function(e){return!e})).get("vclist").toJS().forEach(function(t){t.checkboxDisplay=e,t.enclosureList.forEach(function(t){t.checkboxFjDisplay=e}),n.push(t)}),t.set("vclist",(0,r.fromJS)(n))}),l(e,a.CLOSE_PREVIEW,function(){return t.setIn(["flags","preview"],!1)}),l(e,a.SELECT_FJ_VC_ITEM,function(){var e=!t.getIn(["vclist",n.idx,"checkboxDisplay"]),a=t.getIn(["vclist",n.idx]).toJS();return a.checkboxDisplay=e,a.enclosureList.forEach(function(t){t.checkboxFjDisplay=e}),t=t.updateIn(["vclist",n.idx],function(e){return(0,r.fromJS)(a)})}),l(e,a.SELECT_FJ_ITEM,function(){return(t=t.updateIn(["vclist",n.idx,"enclosureList",n.fjIdx,"checkboxFjDisplay"],function(e){return!e})).setIn(["vclist",n.idx,"checkboxDisplay"],t.getIn(["vclist",n.idx,"enclosureList"]).every(function(e){return e.get("checkboxFjDisplay")}))}),l(e,a.SORT_FJ_VC_LIST_BY_DATE,function(){var e=-t.getIn(["flags","vcdateSort"]);return t.updateIn(["flags","vcdateSort"],function(e){return-e}).update("vclist",function(t){return t.sort(function(t,n){return t.get("vcdate")==n.get("vcdate")?t.get("vcindex")>n.get("vcindex")?1:-1:t.get("vcdate")>n.get("vcdate")?e:-e})})}),l(e,a.REVERSE_FJ_VC_LIST,function(){var e=-t.getIn(["flags","vcindexSort"]);return t.updateIn(["flags","vcindexSort"],function(e){return-e}).update("vclist",function(t){return t.sort(function(t,n){return t.get("vcindex")>n.get("vcindex")?e:-e})})}),l(e,a.PREWIEW_IMAGE,function(){var e=[];t.get("vclist").forEach(function(t){return t.get("enclosureList").forEach(function(t){"TRUE"!==t.get("imageOrFile")&&"application/pdf"!=t.get("mimeType")||e.push(t)})});var a=0,l=t.getIn(["vclist",n.idx,"enclosureList",n.fjIdx,"enclosureKey"]);return e.forEach(function(e,t){e.get("enclosureKey")!=l||(a=t)}),t=t.setIn(["flags","preview"],!0).set("previewSrcIdx",a).set("previewImgArr",(0,r.fromJS)(e))}),l(e,a.GET_DELETE_DATA,function(){var e=[];t.get("vclist").map(function(t){t.get("enclosureList").map(function(t){return e.push(t)})});var n=[];return t.get("vclist").forEach(function(e){e.get("enclosureList").forEach(function(t){1!=t.get("checkboxFjDisplay")||n.push(e.get("vcindex"))})}),t.set("needDeleteUrl",(0,r.fromJS)(e).filter(function(e){return 1==e.get("checkboxFjDisplay")})).set("vcIndexArray",Array.from(new Set(n)))}),l(e,a.GET_DOWNLOAD_DATA,function(){var e=[];t.get("vclist").map(function(t){t.get("enclosureList").map(function(t){return e.push(t)})});var n=[];return(0,r.fromJS)(e).filter(function(e){return 1==e.get("checkboxFjDisplay")}).map(function(e){return n.push({url:e.get("signedUrl"),fileName:e.get("fileName")})}),t.set("needDownLoad",(0,r.fromJS)(n))}),l(e,a.OPEN_LABEL_MODAL,function(){return t=t.setIn(["flags","labelModal"],!0).set("currentLabel",t.getIn(["vclist",n.idx,"enclosureList",n.fjIdx,"label"])).set("updatePath",t.getIn(["vclist",n.idx,"enclosureList",n.fjIdx,"enclosureKey"])).set("vcIdx",n.idx).set("fjIdx",n.fjIdx)}),l(e,a.CLOSE_LABEL_MODAL,function(){return t=t.setIn(["flags","labelModal"],!1).set("currentLabel","").set("vcIdx","").set("fjIdx","")}),l(e,a.CHANGE_CURRENT_LABEL,function(){var e=t.get("vcIdx"),r=t.get("fjIdx");return t=t.setIn(["vclist",e,"enclosureList",r,"label"],n.currentLabel).set("currentLabel",n.currentLabel)}),l(e,a.CHANGE_PREVIEW_SRC_IDX,function(){var e=t.get("previewSrcIdx");return"pre"===n.value?--e:++e,t.set("previewSrcIdx",e)}),e)[n.type]||function(){return t})()};var r=n(18),a=(n(22),function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1514)));function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=(0,r.fromJS)({flags:{selectedVcItemArray:[],selectVcAll:!1,maxVoucherId:"0",lastvcindex:"",vcindexSort:1,vcdateSort:1,showMessageMask:!1,iframeload:!1,serchValue:"",preview:!1,labelModal:!1},issuedate:"",vclist:[],importresponlist:{failJsonList:[],successJsonList:[]},message:"",totalSize:1,useSizeBySob:0,useSizeByCorp:0,needDeleteUrl:[],vcIndexArray:[],needDownLoad:[],previewImgArr:[],previewSrcIdx:0,label:[],labelValue:"全部",fjLabel:[],currentLabel:"",vcIdx:"",fjIdx:"",updatePath:""})},2432:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=y(n(47)),l=y(n(32)),o=y(n(89)),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(46),n(51),n(88);var u=y(n(1)),c=(n(18),n(56));n(2433);var s=n(22),f=(b(n(30)),y(n(1250))),d=y(n(1224)),p=y(n(2435)),E=y(n(2438)),_=b(n(1515)),g=n(43);function b(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function y(e){return e&&e.__esModule?e:{default:e}}var v=o.default.Group,m=(0,c.connect)(function(e){return e})(r=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={inputValue:"",rotate:0},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default.Component),i(t,[{key:"componentDidMount",value:function(){this.props.dispatch(_.getFjListFetch())}}]),i(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.props.fjglState!=e.fjglState||this.props.allState!=e.allState||this.state!=t||this.props.homeState!=e.homeState}},{key:"render",value:function(){var e=this,t=this.props,n=t.dispatch,r=t.fjglState,i=t.allState,c=t.homeState,b=this.state,y=b.inputValue,m=(b.rotate,c.getIn(["data","userInfo","pageController","QUERY_VC","preDetailList","ATTACHMENT_MANAGER","detailList"])),h=c.getIn(["permissionInfo","Pz"]),L=i.get("issues"),I=r.get("vclist"),S=i.get("period"),O=i.getIn(["period","openedyear"]),T=i.getIn(["period","openedmonth"]),A=r.get("issuedate"),C=r.getIn(["flags","selectVcAll"]),w=(r.getIn(["flags","maxVoucherId"]),r.getIn(["flags","vcindexSort"])),j=r.getIn(["flags","vcdateSort"]),D=!!I.getIn([0,"closedby"]),P=S.get("firstyear"),x=S.get("lastyear"),N=!!P&&!!x,R=!!I.size,M=I.filter(function(e){return e.get("checkboxDisplay")}).every(function(e){return e.get("reviewedby")}),V=I.filter(function(e){return e.get("checkboxDisplay")}).some(function(e){return e.get("reviewedby")}),F=r.getIn(["flags","preview"]),G=r.get("previewImgArr"),k=r.get("previewSrcIdx"),J=r.get("fjLabel"),B=r.getIn(["flags","labelModal"]),H=r.get("currentLabel"),W=r.get("updatePath"),U={display:"block",height:"30px",lineHeight:"30px"},z=c.getIn(["data","userInfo","sobInfo","moduleInfo"]),X=!!z&&z.indexOf("RUNNING")>-1;return u.default.createElement(d.default,{type:"fjgl-one",className:"fjgl"},u.default.createElement(E.default,{havVc:N,year:O,month:T,receiveAble:M,cancelReceiveAble:V,firstyear:P,allState:i,issues:L,vclist:I,closeby:D,dispatch:n,issuedate:A,fjglState:r,vclistExist:R,inputValue:y,detailList:m,changeInputValue:function(t){return e.setState({inputValue:t})},changeSearchValue:function(e){return n(_.serchForVc(e))},onChange:function(e){return n(_.changeFjglIssudate(e))&&n(_.getFjListFetch())},onChangeLabel:function(e){return n(_.changeLabelValue(e))&&n(_.getFjListFetch())},intelligentStatus:X}),u.default.createElement(p.default,{vcindexSort:w,vcdateSort:j,dispatch:n,selectVcAll:C,vclist:I,issuedate:A,detailList:m,PzPermissionInfo:h}),u.default.createElement(a.default,{title:"标签",visible:B,onCancel:function(){return n(_.closeLabelModal())},footer:[u.default.createElement(l.default,{onClick:function(){return n(_.closeLabelModal())}},"取消"),u.default.createElement(l.default,{type:"primary",disabled:(0,s.judgePermission)(m.get("ATTACHMENT_LABEL_MANAGER")).disabled,onClick:function(){return n(_.updateLabel(W,H))}},"确定")]},u.default.createElement(v,{onChange:function(e){return n(_.changeCurrentLabel(e.target.value))},value:H},J.map(function(e,t){return u.default.createElement(o.default,{style:U,key:t,value:e},e)}))),u.default.createElement(f.default,{page:k,dispatch:n,preview:F,downloadPermission:h.getIn(["edit","permission"]),downloadEnclosure:function(e,t){return n((0,g.allDownloadEnclosure)(e,t))},previewImgArr:G,closePreviewModal:function(){return n(_.closePrewiew())}}))}}]),t}())||r;t.default=m},2433:function(e,t,n){},2435:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=s(n(1)),o=n(17),i=s(n(2436)),u=s(n(2437)),c=n(127);function s(e){return e&&e.__esModule?e:{default:e}}var f=(0,o.immutableRenderDecorator)(r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),a(t,[{key:"render",value:function(){var e=this.props,t=e.dispatch,n=e.selectVcAll,r=e.vclist,a=e.issuedate,o=e.vcindexSort,s=e.vcdateSort,f=(e.inputValue,e.PzPermissionInfo),d=r.map(function(e){return[e.get("vcdate"),e.get("vcindex")].join("_")});return l.default.createElement(c.TableWrap,{notPosition:!0},l.default.createElement(c.TableAll,null,l.default.createElement(u.default,{className:"fjgl-table-width fjgl-table-title-justify",vcindexSort:o,vcdateSort:s,dispatch:t,selectVcAll:n}),l.default.createElement(c.TableBody,null,r.map(function(e,r){return l.default.createElement(i.default,{className:"fjgl-table-width fjgl-table-justify",idx:r,key:r,vcitem:e,dispatch:t,selectVcAll:n,vcindexList:d,issuedate:a,PzPermissionInfo:f})}))))}}]),t}())||r;t.default=f},2436:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=b(n(32)),l=b(n(37)),o=b(n(129)),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(51),n(38),n(128);var u=b(n(1)),c=n(17),s=g(n(1515)),f=g(n(1276)),d=g(n(60)),p=n(127),E=b(n(498)),_=(g(n(43)),n(22));function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function b(e){return e&&e.__esModule?e:{default:e}}var y=(0,c.immutableRenderDecorator)(r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default.Component),i(t,[{key:"render",value:function(){var e=this.props,t=e.idx,n=e.vcitem,r=e.dispatch,i=e.vcindexList,c=(e.selectVcAll,e.issuedate),g=(e.showItem,e.line),b=e.PzPermissionInfo,y=e.className,v=(0,E.default)(c);return u.default.createElement(p.CxpzTableItem,{className:y,line:g},u.default.createElement("li",{onClick:function(){r(s.selectFjVcItem(t)),r(s.getDownloadData())}},u.default.createElement(o.default,{checked:n.get("checkboxDisplay")})),u.default.createElement(p.TableOver,null,n.get("vcdate")),u.default.createElement(p.TableOver,{onClick:function(){sessionStorage.setItem("lrpzHandleMode","modify"),r(f.getVcFetch([v.year,v.month].join("-"),n.get("vcindex"),t,i)),r(d.addPageTabPane("EditPanes","Lrpz","Lrpz","录入凭证")),r(d.addHomeTabpane("Edit","Lrpz","录入凭证"))}},"记 ",n.get("vcindex")," 号"),u.default.createElement("li",null,n.get("enclosureList").map(function(e,n){return u.default.createElement("p",{key:n,className:"table-item-line"},u.default.createElement(o.default,{checked:e.get("checkboxFjDisplay"),onChange:function(){r(s.selectFjItem(t,n)),r(s.getDownloadData())}}),u.default.createElement("img",{src:(0,_.showImg)(e.get("imageOrFile"),e.get("fileName")),onClick:function(){"TRUE"===e.get("imageOrFile")||"application/pdf"===e.get("mimeType")?r(s.previewImage(t,n)):l.default.warn("仅图片及PDF格式支持预览")}}),u.default.createElement("span",{onClick:function(){"TRUE"===e.get("imageOrFile")||"application/pdf"===e.get("mimeType")?r(s.previewImage(t,n)):l.default.warn("仅图片及PDF格式支持预览")}},e.get("fileName")))})),u.default.createElement("li",null,n.get("enclosureList").map(function(e,t){return u.default.createElement("p",{className:"table-item-line",key:t},e.get("size")+"Kb")})),u.default.createElement("li",null,n.get("enclosureList").map(function(e,l){return u.default.createElement("p",{className:"table-item-line",key:l},u.default.createElement(a.default,{type:"ghost",disabled:n.get("reviewedby")||n.get("closedby")||!b.getIn(["review","permission"]),onClick:function(){return r(s.openLabelModal(t,l))}},e.get("label")))})),u.default.createElement(p.TableOver,null,n.get("createdby")),u.default.createElement(p.TableOver,null,n.get("reviewedby")))}}]),t}())||r;t.default=y},2437:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),i=(a=o)&&a.__esModule?a:{default:a},u=n(17),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1515));var s=(0,u.immutableRenderDecorator)(r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),l(t,[{key:"render",value:function(){console.log("TableTit");var e=this.props,t=e.dispatch,n=(e.selectVcAll,e.vcindexSort,e.vcdateSort,e.className);return i.default.createElement("div",{className:"table-title-wrap"},i.default.createElement("ul",{className:n+" table-title"},i.default.createElement("li",null),i.default.createElement("li",{className:"cxpz-cur",onClick:function(){return t(c.sortFjVcListByDate())}},i.default.createElement("span",null,"日期"),i.default.createElement("span",{className:"cxpz-sort-icon"})),i.default.createElement("li",{className:"cxpz-cur",onClick:function(){return t(c.reverseFjVcList())}},i.default.createElement("span",null,"凭证字号"),i.default.createElement("span",{className:"cxpz-sort-icon"})),i.default.createElement("li",null,"文件名"),i.default.createElement("li",null,"大小"),i.default.createElement("li",null,"标签"),i.default.createElement("li",null,"制单人"),i.default.createElement("li",null,"审核人")))}}]),t}())||r;t.default=s},2438:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=m(n(47)),l=m(n(61)),o=m(n(32)),i=m(n(37)),u=m(n(182)),c=m(n(45)),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(46),n(79),n(51),n(38),n(181),n(55);var f=m(n(1)),d=(n(18),n(17)),p=v(n(1515)),E=(v(n(1276)),v(n(60))),_=n(43),g=(v(_),v(n(1359))),b=n(22),y=(n(31),n(127),m(n(1226)));function v(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function m(e){return e&&e.__esModule?e:{default:e}}var h=(0,d.immutableRenderDecorator)(r=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={modalVisible:!1,download:!1,needCreatedby:"1"},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,f.default.Component),s(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.issuedate,r=(t.allState,t.onChange),s=(t.onMaskClick,t.issues),d=t.dispatch,v=t.vclist,m=t.fjglState,h=t.closeby,L=(t.year,t.month,t.firstyear,t.havVc),I=(t.vclistExist,t.detailList),S=(t.receiveAble,t.cancelReceiveAble,t.inputValue,t.changeInputValue,t.changeSearchValue,t.onChangeLabel),O=t.intelligentStatus,T=this.state,A=T.modalVisible,C=T.download,w=(T.needCreatedby,m.getIn(["flags","showMessageMask"]),m.getIn(["flags","iframeload"]),m.get("importresponlist")),j=(w.get("failJsonList"),w.get("successJsonList"),m.get("message"),n.substr(0,4),n.substr(6,2),v.filter(function(e){return e.get("checkboxDisplay")}).map(function(e){return e.get("vcindex")}).reduce(function(e,t){return t+"&vcIndex="+e}),m.get("needDownLoad").toJS()),D=m.get("label"),P=m.get("labelValue"),x=m.get("totalSize"),N=m.get("useSizeBySob"),R=m.get("useSizeByCorp"),M=!1,V=!1;v.forEach(function(e){e.get("enclosureList").some(function(e){return e.get("checkboxFjDisplay")})&&(M=!0)&&e.get("reviewedby")&&(V=!0)});var F=(R/(1024*x)*100).toFixed(2);(N/(1024*x)*100).toFixed(2);return f.default.createElement(y.default,null,f.default.createElement("div",{className:"flex-title-left"},f.default.createElement(c.default,{className:"title-date",value:n,onChange:r,disabled:!L},s.map(function(e,t){return f.default.createElement(Option,{key:t,value:e},e)})),f.default.createElement(c.default,{className:"title-date fj-title-label",value:P,onChange:S},D.map(function(e,t){return f.default.createElement(Option,{key:t,value:e},e)})),f.default.createElement("span",{className:"fj-progress"},f.default.createElement("div",null,"剩余容量：",(0,b.decimal)(1024*x-R),"Mb/",x,"G （本账套已使用：",N.toFixed(2),"Mb）"),f.default.createElement(u.default,{percent:F,strokeWidth:5,showInfo:!1,status:F>90?"exception":""}))),f.default.createElement("div",{className:"flex-title-right"},f.default.createElement(o.default,{type:"ghost",className:"title-right",disabled:(0,b.judgePermission)(I.get("EXPORT_AND_RECORD")).disabled,style:{display:O?"none":""},onClick:function(){(0,b.judgePermission)(I.get("EXPORT_AND_RECORD")).disabled?i.default.info("当前角色无该请求权限"):(d(g.getEnclosureExportRecordingList(n)),d(E.addPageTabPane("SearchPanes","ExportRecording","ExportRecording","导出记录")),d(E.addHomeTabpane("Search","ExportRecording","导出记录")))}},"导出记录"),f.default.createElement(o.default,{className:"title-right",type:"ghost",onClick:function(){d(E.addPageTabPane("SearchPanes","Cxpz","Cxpz","查询凭证")),d(E.addHomeTabpane("Search","Cxpz","查询凭证"))}},"返回"),f.default.createElement(l.default,{placement:"bottom",title:M&&j.length>1?"附件系统升级中，当前仅支持单个文件下载。":""},f.default.createElement(o.default,{className:"title-right",type:"ghost",disabled:!M||M&&1!=j.length,onClick:function(){(0,b.judgePermission)(I.get("EXPORT_AND_RECORD")).disabled?i.default.info("当前角色无该请求权限"):d((0,_.allDownloadEnclosure)(j[0].url,j[0].fileName))}},"下载")),f.default.createElement(l.default,{placement:"bottom",title:h?"已结账不能删除附件":(0,b.judgePermission)(I.get("BATCH_DELETE")).disabled?"当前角色无该权限":M?V?"已审核不能删除":"":"请选择附件"},f.default.createElement(o.default,{className:"title-right",type:"ghost",onClick:function(){return d(p.deleteFjItemFetch())},disabled:(0,b.judgePermission)(I.get("BATCH_DELETE")).disabled||!M||V||h},"删除")),f.default.createElement(o.default,{className:"title-right",type:"ghost",onClick:function(){return(0,b.debounce)(function(){d(p.getFjListFetch())})()}},"刷新"),f.default.createElement("div",{className:"fjgl-account",style:{display:h?"block":"none"}},"已结账"),f.default.createElement(a.default,{visible:A,title:"温馨提示",onCancel:function(){return e.setState({modalVisible:!1})},footer:[f.default.createElement("a",{className:"export-download",key:"cancel",download:!0,style:{display:1!=j.length||C?"none":""},href:1==j.length?j[0].url:"",onClick:function(){e.setState({download:!0}),setTimeout(function(){return e.setState({download:!1})},15e3)}},"下载至本地"),f.default.createElement("a",{className:"export-download export-download-wait",style:{display:1==j.length&&C?"":"none"},key:"wait"},"请等待"),f.default.createElement("a",{key:"ok",className:"export-download",onClick:function(){var t=j;j.length>9&&(t=j.slice(0,9)),d(p.download(t)),e.setState({modalVisible:!1})}},"发至我的“工作通知”")]},f.default.createElement("ul",{className:"export-tiplist"},f.default.createElement("li",null,"单次下载最多支持九个附件，超过九个后默认选择前九个，附件将以消息的形式发送给您。")))))}}]),t}())||r;t.default=h}}]);