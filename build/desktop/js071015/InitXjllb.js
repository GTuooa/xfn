(window.webpackJsonp=window.webpackJsonp||[]).push([[92],{1152:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.view=t.reducer=void 0;var r=o(n(2141));function o(e){return e&&e.__esModule?e:{default:e}}var i={xjllbState:o(n(1555)).default};t.reducer=i,t.view=r.default},1223:function(e,t,n){},1224:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o,i,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=c(n(1)),l=c(n(0)),s=n(17);function c(e){return e&&e.__esModule?e:{default:e}}n(1223);var f=(0,s.immutableRenderDecorator)((i=o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default.Component),a(t,[{key:"render",value:function(){var e=this.props,t=e.type,n=e.className,r=e.onClick;return u.default.createElement("div",{className:"container-wrap container-width-"+t+" "+n,onClick:r},this.props.children)}}]),t}(),o.displayName="ContainerWrap",o.propTypes={type:l.default.string.isRequired,className:l.default.string.isRequired},r=i))||r;t.default=f},1226:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),u=(o=a)&&o.__esModule?o:{default:o},l=n(17);n(1223);var s=(0,l.immutableRenderDecorator)(r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default.Component),i(t,[{key:"render",value:function(){return u.default.createElement("div",{className:"flex-title"},this.props.children)}}]),t}())||r;t.default=s},1389:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=s(n(100)),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(99);var a=s(n(1)),u=n(17),l=n(22);function s(e){return e&&e.__esModule?e:{default:e}}var c=(0,u.immutableRenderDecorator)(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.emitEmpty=function(){n.userNameInput&&n.userNameInput.focus()},n.emitSelect=function(){n.userNameInput&&n.userNameInput.input.select()},n.state={inputIsFocus:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),i(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.type,r=t.className,i=t.onChange,u=t.disabled,s=t.value,c=t.onBlur,f=t.onFocus,d=t.prefix,p=t.suffix,b=t.autoSelect,_=t.showFormatMoney,m=t.decimalPlaces,h=this.state.inputIsFocus,I=m?Number(m):2,y="";return y=_?s||0===s?h?s:(0,l.formatMoney)(s,I,""):"":s,a.default.createElement(o.default,{className:r||"",disabled:u,prefix:d||null,suffix:p||null,value:y,onBlur:function(t){c&&c(t),e.setState({inputIsFocus:!1})},onFocus:function(t){b?e.setState({inputIsFocus:!0},function(){e.emitSelect()}):(e.setState({inputIsFocus:!0}),f&&f(t))},onChange:function(e){i&&("number"==n?(new RegExp("^[-\\d]\\d*\\.?\\d{0,"+I+"}$","g").test(e.target.value)||""==e.target.value)&&i(e):i(e))},ref:function(t){return e.userNameInput=t}})}}]),t}())||r;t.default=c},1444:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SWITCH_LOADING_MASK="SWITCH_LOADING_MASK",t.INIT_XJLLB="INIT_XJLLB",t.GET_CACH_FLOW_FETCH="GET_CACH_FLOW_FETCH",t.CHANGE_XJLLB_ISSUDATE="CHANGE_XJLLB_ISSUDATE",t.CHANGE_XJLLB_CHOOSE_MORE_PERIODS="CHANGE_XJLLB_CHOOSE_MORE_PERIODS",t.SHOW_INIT_XJLLB="SHOW_INIT_XJLLB",t.GET_INIT_XJLLB_INCOMESTATEMENT="GET_INIT_XJLLB_INCOMESTATEMENT",t.CHANGE_INIT_XJLLB_AMOUNT="CHANGE_INIT_XJLLB_AMOUNT",t.CLEAR_INIT_XJLLB="CLEAR_INIT_XJLLB"},1501:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.saveInitXjllbFetch=t.changeInitXjllbAmount=t.clearInitXjllb=t.getInitXjllbFetch=t.showInitXjllb=t.changeXjllbChooseMorePeriods=t.getXjllbFetch=t.getPeriodAndCachFlowFetch=void 0;var r,o=f(n(1444)),i=f(n(43)),a=f(n(102)),u=n(22),l=f(n(30)),s=n(31),c=(r=s)&&r.__esModule?r:{default:r};function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}t.getPeriodAndCachFlowFetch=function(e,t){return function(n,r){var o=r().homeState.getIn(["data","userInfo"]).get("sobInfo"),i=r().homeState.getIn(["data","userInfo","sobInfo","newJr"]),a=!!o&&(o.get("moduleInfo").indexOf("RUNNING")>-1&&i),u={};e?u={begin:e.substr(0,4)+(a?"-":"")+e.substr(6,2),end:t.substr(0,4)+(a?"-":"")+t.substr(6,2),getPeriod:"true",needPeriod:"true"}:u={getPeriod:"true",needPeriod:"true",begin:"",end:""};n(d(u,e,t))}};var d=function(e,t,n){return function(r,l){r({type:o.SWITCH_LOADING_MASK});var s=l().homeState.getIn(["data","userInfo"]).get("sobInfo"),f=l().homeState.getIn(["data","userInfo","sobInfo","newJr"]),d=!!s&&(s.get("moduleInfo").indexOf("RUNNING")>-1&&f);(0,c.default)(d?"getJrCachFlow":"getcachFlow","POST",JSON.stringify(e),function(e){if((0,u.showMessage)(e)){var l=r(d?a.reportGetIssuedateAndFreshPeriod(e):i.everyTableGetPeriod(e)),s=t||l,c=n||l,f=e.data.periodDtoJson?r(i.everyTableGetIssuedate(e.data.periodDtoJson)):"";r({type:o.GET_CACH_FLOW_FETCH,receivedData:e.data.jsonArray,issues:f}),r({type:o.CHANGE_XJLLB_ISSUDATE,issuedate:s,endissuedate:c})}else r({type:o.INIT_XJLLB});r({type:o.SWITCH_LOADING_MASK})})}};t.getXjllbFetch=function(e,t){return function(n,r){n({type:o.SWITCH_LOADING_MASK});var i=r().homeState.getIn(["data","userInfo"]).get("sobInfo"),a=r().homeState.getIn(["data","userInfo","sobInfo","newJr"]),l=!!i&&(i.get("moduleInfo").indexOf("RUNNING")>-1&&a),s=e.substr(0,4)+(l?"-":"")+e.substr(6,2),f=t.substr(0,4)+(l?"-":"")+t.substr(6,2);(0,c.default)(l?"getJrCachFlow":"getcachFlow","POST",JSON.stringify({begin:s,end:f,getPeriod:!0,needPeriod:!0}),function(r){n({type:o.SWITCH_LOADING_MASK}),(0,u.showMessage)(r)?(n({type:o.GET_CACH_FLOW_FETCH,receivedData:r.data.jsonArray}),n({type:o.CHANGE_XJLLB_ISSUDATE,issuedate:e,endissuedate:t})):(0,u.showMessage)(r)})}},t.changeXjllbChooseMorePeriods=function(){return{type:o.CHANGE_XJLLB_CHOOSE_MORE_PERIODS}},t.showInitXjllb=function(e){return{type:o.SHOW_INIT_XJLLB,value:e}},t.getInitXjllbFetch=function(e,t){return function(n,r){var i=r().homeState.getIn(["data","userInfo"]).get("sobInfo"),a=r().homeState.getIn(["data","userInfo","sobInfo","newJr"]),s=!!i&&(i.get("moduleInfo").indexOf("RUNNING")>-1&&a);(0,c.default)(s?"getInitJrXjllbFetch":"getInitXjllbFetch","GET","",function(r){if((0,u.showMessage)(r)){n({type:o.GET_INIT_XJLLB_INCOMESTATEMENT,receivedData:r.data});var i=Number(t)-1,a="当前账套起始账期为"+e+"-"+t+"期,请填写下列项目"+e+"-01期至"+e+"-"+(i<10?"0"+i:""+i)+"期的累计发生额,以修正现金流量表本年累计金额(注：起始账期修改后,调整数据将会被清零)。";l.Alert(a)}})}},t.clearInitXjllb=function(){return{type:o.CLEAR_INIT_XJLLB}},t.changeInitXjllbAmount=function(e,t){return{type:o.CHANGE_INIT_XJLLB_AMOUNT,lineIndex:e,amount:t}},t.saveInitXjllbFetch=function(){return function(e,t){var n=t().homeState.getIn(["data","userInfo"]).get("sobInfo"),r=t().homeState.getIn(["data","userInfo","sobInfo","newJr"]),o=!!n&&(n.get("moduleInfo").indexOf("RUNNING")>-1&&r),i=t().xjllbState.get("initPeriodList");i=i.filter(function(e){return""!==e.get("amount")&&0!==e.get("amount")}),(0,c.default)(o?"saveInitJrXjllbFetch":"saveInitXjllbFetch","POST",JSON.stringify({initCashFlowList:i}),function(e){return(0,u.showMessage)(e,"show")})}}},1555:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,n=arguments[1];return((e={},i(e,o.INIT_XJLLB,function(){return a}),i(e,o.GET_CACH_FLOW_FETCH,function(){return t=t.set("cachFlowList",(0,r.fromJS)(n.receivedData)).set("showInitXjllb",!1),n.issues&&(t=t.set("issues",(0,r.fromJS)(n.issues))),t}),i(e,o.CHANGE_XJLLB_ISSUDATE,function(){return t.set("issuedate",n.issuedate).set("endissuedate",n.endissuedate)}),i(e,o.CHANGE_XJLLB_CHOOSE_MORE_PERIODS,function(){return t.update("chooseEndDate",function(e){return!e})}),i(e,o.SHOW_INIT_XJLLB,function(){return t.set("showInitXjllb",n.value)}),i(e,o.GET_INIT_XJLLB_INCOMESTATEMENT,function(){var e=t.get("cachFlowList"),o=n.receivedData.initPeriodList?n.receivedData.initPeriodList:[],i=[];return e.forEach(function(e){var t=e.get("lineIndex"),n=e.get("lineName"),r=o.find(function(e){return e.lineIndex===t}),a=r?r.amount:"";i.push({lineName:n,lineIndex:t,amount:a})}),t.set("initPeriodList",(0,r.fromJS)(i))}),i(e,o.CHANGE_INIT_XJLLB_AMOUNT,function(){var e=n.amount,r=n.lineIndex;if(!/^[-\d]\d*\.?\d{0,2}$/g.test(e)&&""!==n.amount)return t;var o=(t=t.setIn(["initPeriodList",r,"amount"],e)).get("initPeriodList"),i=c(1)+c(2)-c(3)-c(4)-c(5)-c(6),a=c(9)+c(10)+c(11)-c(12)-c(13),u=c(16)+c(17)-c(18)-c(19)-c(20),l=i+a+u,s=l+c(23);function c(e){var t=o.getIn([e,"amount"]);return""==t?0:Number(t)}return t=t.setIn(["initPeriodList",7,"amount"],i.toFixed(2)).setIn(["initPeriodList",14,"amount"],a.toFixed(2)).setIn(["initPeriodList",21,"amount"],u.toFixed(2)).setIn(["initPeriodList",22,"amount"],l.toFixed(2)).setIn(["initPeriodList",24,"amount"],s.toFixed(2))}),i(e,o.CLEAR_INIT_XJLLB,function(){var e=t.get("initPeriodList");return e.map(function(t,n){e=e.setIn([n,"amount"],"")}),t.set("initPeriodList",e)}),e)[n.type]||function(){return t})()};var r=n(18),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1444));function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=(0,r.fromJS)({issuedate:"",endissuedate:"",chooseEndDate:!1,issues:[],cachFlowList:[{lineIndex:"",lineName:"",amount:"",sumAmount:""}],initPeriodList:[],showInitXjllb:!1})},2141:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=h(n(61)),i=h(n(32)),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(79),n(51);var u=h(n(1)),l=(n(18),n(56)),s=m(n(1501)),c=m(n(60)),f=m(n(30)),d=h(n(2142)),p=h(n(1224)),b=h(n(1226));n(2144);var _=n(22);function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function h(e){return e&&e.__esModule?e:{default:e}}var I=(0,l.connect)(function(e){return e})(r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default.Component),a(t,[{key:"shouldComponentUpdate",value:function(e){return this.props.allState!=e.allState||this.props.xjllbState!=e.xjllbState||this.props.homeState!=e.homeState}},{key:"render",value:function(){var e=this.props,t=e.xjllbState,n=e.dispatch,r=(e.allState,e.homeState),a=t.get("initPeriodList"),l=(t.get("lrbRuleModal"),r.getIn(["data","userInfo","pageController","REPORT","preDetailList","CASH_FLOW_REPORT","detailList"]));return u.default.createElement(p.default,{type:"report-one",className:"initLrb"},u.default.createElement(b.default,null,u.default.createElement("div",{className:"flex-title-left"}),u.default.createElement("div",{className:"flex-title-right"},u.default.createElement(i.default,{className:"title-right",type:"ghost",onClick:function(){n(c.addPageTabPane("ReportPanes","Xjllb","Xjllb","现金流量表")),n(c.addHomeTabpane("Report","Xjllb","现金流量表"))}},"返回"),u.default.createElement(i.default,{className:"title-right",type:"ghost",onClick:function(){f.Confirm({message:"本操作将清空数据",title:"提示",buttonLabels:["取消","确定"],onSuccess:function(e){1===e.buttonIndex&&n(s.clearInitXjllb())},onFail:function(e){return console.log(e)}})}},"清空"),u.default.createElement(o.default,{placement:"bottom",title:(0,_.judgePermission)(l.get("ADJUST")).disabled?"当前角色无该权限":""},u.default.createElement(i.default,{className:"title-right",type:"ghost",disabled:(0,_.judgePermission)(l.get("ADJUST")).disabled,onClick:function(){return n(s.saveInitXjllbFetch())}},"保存")))),u.default.createElement(d.default,{incomestatement:a,dispatch:n,isAdmin:!(0,_.judgePermission)(l.get("ADJUST")).disabled}))}}]),t}())||r;t.default=I},2142:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=s(n(1)),a=(n(18),n(17)),u=s(n(2143)),l=n(127);function s(e){return e&&e.__esModule?e:{default:e}}var c=(0,a.immutableRenderDecorator)(r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),o(t,[{key:"render",value:function(){var e=this.props,t=e.incomestatement,n=e.dispatch,r=e.isAdmin;return i.default.createElement(l.TableWrap,null,i.default.createElement(l.TableAll,{className:"initXjllb"},i.default.createElement(l.TableTitle,{className:"initXjllb-table-width",titleList:["项目","行次","本年累计期初金额"]}),i.default.createElement(l.TableBody,null,(t||[]).map(function(e,t){return i.default.createElement(u.default,{idx:t,cashItem:e,className:"initXjllb-table-width initXjllb-table-justify",key:t,dispatch:n,disabledModify:0===t||7===t||8===t||14===t||15===t||21===t||22===t||24===t,isAdmin:r})}))))}}]),t}())||r;t.default=c},2143:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=c(n(1)),a=(n(18),n(17)),u=(n(22),n(127)),l=c(n(1389)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1501));function c(e){return e&&e.__esModule?e:{default:e}}var f=(0,a.immutableRenderDecorator)(r=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={lrbClickBool:!1},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),o(t,[{key:"render",value:function(){var e=this.props,t=e.cashItem,n=e.className,r=e.dispatch,o=e.disabledModify,a=e.idx,c=e.isAdmin,f=(this.state.lrbClickBool,23==t.get("lineIndex")||24==t.get("lineIndex")||25==t.get("lineIndex")?"":t.get("lineIndex")),d=t.get("lineName"),p=23==t.get("lineIndex")||24==t.get("lineIndex")||25==t.get("lineIndex")?"":t.get("amount");return i.default.createElement(u.TableItem,{className:n,line:a+1},i.default.createElement("li",null,d.replace(/\./g,"、").replace(/:/g,"：")),i.default.createElement("li",null,f),i.default.createElement("li",null,o?i.default.createElement(u.Amount,{className:"initXjllb-amount-line"},p):i.default.createElement(l.default,{autoSelect:!0,showFormatMoney:!0,className:"initXjllb-table-input",disabled:!c,value:p,onFocus:function(e){e.target.value=p||""},onChange:function(e){return r(s.changeInitXjllbAmount(a,e.target.value))}})))}}]),t}())||r;t.default=f},2144:function(e,t,n){}}]);